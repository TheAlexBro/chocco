/*! jQuery v3.7.0 | (c) OpenJS Foundation and other contributors | jquery.org/license */
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(ie,e){"use strict";var oe=[],r=Object.getPrototypeOf,ae=oe.slice,g=oe.flat?function(e){return oe.flat.call(e)}:function(e){return oe.concat.apply([],e)},s=oe.push,se=oe.indexOf,n={},i=n.toString,ue=n.hasOwnProperty,o=ue.toString,a=o.call(Object),le={},v=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},y=function(e){return null!=e&&e===e.window},C=ie.document,u={type:!0,src:!0,nonce:!0,noModule:!0};function m(e,t,n){var r,i,o=(n=n||C).createElement("script");if(o.text=e,t)for(r in u)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function x(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[i.call(e)]||"object":typeof e}var t="3.7.0",l=/HTML$/i,ce=function(e,t){return new ce.fn.init(e,t)};function c(e){var t=!!e&&"length"in e&&e.length,n=x(e);return!v(e)&&!y(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}function fe(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}ce.fn=ce.prototype={jquery:t,constructor:ce,length:0,toArray:function(){return ae.call(this)},get:function(e){return null==e?ae.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=ce.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return ce.each(this,e)},map:function(n){return this.pushStack(ce.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(ae.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(ce.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(ce.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:oe.sort,splice:oe.splice},ce.extend=ce.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||v(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(ce.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||ce.isPlainObject(n)?n:{},i=!1,a[t]=ce.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},ce.extend({expando:"jQuery"+(t+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==i.call(e))&&(!(t=r(e))||"function"==typeof(n=ue.call(t,"constructor")&&t.constructor)&&o.call(n)===a)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){m(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(c(e)){for(n=e.length;r<n;r++)if(!1===t.call(e[r],r,e[r]))break}else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},text:function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i)return e.textContent;if(3===i||4===i)return e.nodeValue}else while(t=e[r++])n+=ce.text(t);return n},makeArray:function(e,t){var n=t||[];return null!=e&&(c(Object(e))?ce.merge(n,"string"==typeof e?[e]:e):s.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:se.call(t,e,n)},isXMLDoc:function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!l.test(t||n&&n.nodeName||"HTML")},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(c(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return g(a)},guid:1,support:le}),"function"==typeof Symbol&&(ce.fn[Symbol.iterator]=oe[Symbol.iterator]),ce.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var pe=oe.pop,de=oe.sort,he=oe.splice,ge="[\\x20\\t\\r\\n\\f]",ve=new RegExp("^"+ge+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ge+"+$","g");ce.contains=function(e,t){var n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(e.contains?e.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))};var f=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function p(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}ce.escapeSelector=function(e){return(e+"").replace(f,p)};var ye=C,me=s;!function(){var e,b,w,o,a,T,r,C,d,i,k=me,S=ce.expando,E=0,n=0,s=W(),c=W(),u=W(),h=W(),l=function(e,t){return e===t&&(a=!0),0},f="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",t="(?:\\\\[\\da-fA-F]{1,6}"+ge+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",p="\\["+ge+"*("+t+")(?:"+ge+"*([*^$|!~]?=)"+ge+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+t+"))|)"+ge+"*\\]",g=":("+t+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+p+")*)|.*)\\)|)",v=new RegExp(ge+"+","g"),y=new RegExp("^"+ge+"*,"+ge+"*"),m=new RegExp("^"+ge+"*([>+~]|"+ge+")"+ge+"*"),x=new RegExp(ge+"|>"),j=new RegExp(g),A=new RegExp("^"+t+"$"),D={ID:new RegExp("^#("+t+")"),CLASS:new RegExp("^\\.("+t+")"),TAG:new RegExp("^("+t+"|[*])"),ATTR:new RegExp("^"+p),PSEUDO:new RegExp("^"+g),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ge+"*(even|odd|(([+-]|)(\\d*)n|)"+ge+"*(?:([+-]|)"+ge+"*(\\d+)|))"+ge+"*\\)|)","i"),bool:new RegExp("^(?:"+f+")$","i"),needsContext:new RegExp("^"+ge+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ge+"*((?:-\\d)?\\d*)"+ge+"*\\)|)(?=[^-]|$)","i")},N=/^(?:input|select|textarea|button)$/i,q=/^h\d$/i,L=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,H=/[+~]/,O=new RegExp("\\\\[\\da-fA-F]{1,6}"+ge+"?|\\\\([^\\r\\n\\f])","g"),P=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},R=function(){V()},M=J(function(e){return!0===e.disabled&&fe(e,"fieldset")},{dir:"parentNode",next:"legend"});try{k.apply(oe=ae.call(ye.childNodes),ye.childNodes),oe[ye.childNodes.length].nodeType}catch(e){k={apply:function(e,t){me.apply(e,ae.call(t))},call:function(e){me.apply(e,ae.call(arguments,1))}}}function I(t,e,n,r){var i,o,a,s,u,l,c,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&(V(e),e=e||T,C)){if(11!==p&&(u=L.exec(t)))if(i=u[1]){if(9===p){if(!(a=e.getElementById(i)))return n;if(a.id===i)return k.call(n,a),n}else if(f&&(a=f.getElementById(i))&&I.contains(e,a)&&a.id===i)return k.call(n,a),n}else{if(u[2])return k.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&e.getElementsByClassName)return k.apply(n,e.getElementsByClassName(i)),n}if(!(h[t+" "]||d&&d.test(t))){if(c=t,f=e,1===p&&(x.test(t)||m.test(t))){(f=H.test(t)&&z(e.parentNode)||e)==e&&le.scope||((s=e.getAttribute("id"))?s=ce.escapeSelector(s):e.setAttribute("id",s=S)),o=(l=Y(t)).length;while(o--)l[o]=(s?"#"+s:":scope")+" "+Q(l[o]);c=l.join(",")}try{return k.apply(n,f.querySelectorAll(c)),n}catch(e){h(t,!0)}finally{s===S&&e.removeAttribute("id")}}}return re(t.replace(ve,"$1"),e,n,r)}function W(){var r=[];return function e(t,n){return r.push(t+" ")>b.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function F(e){return e[S]=!0,e}function $(e){var t=T.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function B(t){return function(e){return fe(e,"input")&&e.type===t}}function _(t){return function(e){return(fe(e,"input")||fe(e,"button"))&&e.type===t}}function X(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&M(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function U(a){return F(function(o){return o=+o,F(function(e,t){var n,r=a([],e.length,o),i=r.length;while(i--)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function z(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function V(e){var t,n=e?e.ownerDocument||e:ye;return n!=T&&9===n.nodeType&&n.documentElement&&(r=(T=n).documentElement,C=!ce.isXMLDoc(T),i=r.matches||r.webkitMatchesSelector||r.msMatchesSelector,ye!=T&&(t=T.defaultView)&&t.top!==t&&t.addEventListener("unload",R),le.getById=$(function(e){return r.appendChild(e).id=ce.expando,!T.getElementsByName||!T.getElementsByName(ce.expando).length}),le.disconnectedMatch=$(function(e){return i.call(e,"*")}),le.scope=$(function(){return T.querySelectorAll(":scope")}),le.cssHas=$(function(){try{return T.querySelector(":has(*,:jqfake)"),!1}catch(e){return!0}}),le.getById?(b.filter.ID=function(e){var t=e.replace(O,P);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&C){var n=t.getElementById(e);return n?[n]:[]}}):(b.filter.ID=function(e){var n=e.replace(O,P);return function(e){var t="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&C){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];i=t.getElementsByName(e),r=0;while(o=i[r++])if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),b.find.TAG=function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):t.querySelectorAll(e)},b.find.CLASS=function(e,t){if("undefined"!=typeof t.getElementsByClassName&&C)return t.getElementsByClassName(e)},d=[],$(function(e){var t;r.appendChild(e).innerHTML="<a id='"+S+"' href='' disabled='disabled'></a><select id='"+S+"-\r\\' disabled='disabled'><option selected=''></option></select>",e.querySelectorAll("[selected]").length||d.push("\\["+ge+"*(?:value|"+f+")"),e.querySelectorAll("[id~="+S+"-]").length||d.push("~="),e.querySelectorAll("a#"+S+"+*").length||d.push(".#.+[+~]"),e.querySelectorAll(":checked").length||d.push(":checked"),(t=T.createElement("input")).setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),r.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&d.push(":enabled",":disabled"),(t=T.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||d.push("\\["+ge+"*name"+ge+"*="+ge+"*(?:''|\"\")")}),le.cssHas||d.push(":has"),d=d.length&&new RegExp(d.join("|")),l=function(e,t){if(e===t)return a=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!le.sortDetached&&t.compareDocumentPosition(e)===n?e===T||e.ownerDocument==ye&&I.contains(ye,e)?-1:t===T||t.ownerDocument==ye&&I.contains(ye,t)?1:o?se.call(o,e)-se.call(o,t):0:4&n?-1:1)}),T}for(e in I.matches=function(e,t){return I(e,null,null,t)},I.matchesSelector=function(e,t){if(V(e),C&&!h[t+" "]&&(!d||!d.test(t)))try{var n=i.call(e,t);if(n||le.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){h(t,!0)}return 0<I(t,T,null,[e]).length},I.contains=function(e,t){return(e.ownerDocument||e)!=T&&V(e),ce.contains(e,t)},I.attr=function(e,t){(e.ownerDocument||e)!=T&&V(e);var n=b.attrHandle[t.toLowerCase()],r=n&&ue.call(b.attrHandle,t.toLowerCase())?n(e,t,!C):void 0;return void 0!==r?r:e.getAttribute(t)},I.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ce.uniqueSort=function(e){var t,n=[],r=0,i=0;if(a=!le.sortStable,o=!le.sortStable&&ae.call(e,0),de.call(e,l),a){while(t=e[i++])t===e[i]&&(r=n.push(i));while(r--)he.call(e,n[r],1)}return o=null,e},ce.fn.uniqueSort=function(){return this.pushStack(ce.uniqueSort(ae.apply(this)))},(b=ce.expr={cacheLength:50,createPseudo:F,match:D,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(O,P),e[3]=(e[3]||e[4]||e[5]||"").replace(O,P),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||I.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&I.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return D.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&j.test(n)&&(t=Y(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(O,P).toLowerCase();return"*"===e?function(){return!0}:function(e){return fe(e,t)}},CLASS:function(e){var t=s[e+" "];return t||(t=new RegExp("(^|"+ge+")"+e+"("+ge+"|$)"))&&s(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=I.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace(v," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(d,e,t,h,g){var v="nth"!==d.slice(0,3),y="last"!==d.slice(-4),m="of-type"===e;return 1===h&&0===g?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,u=v!==y?"nextSibling":"previousSibling",l=e.parentNode,c=m&&e.nodeName.toLowerCase(),f=!n&&!m,p=!1;if(l){if(v){while(u){o=e;while(o=o[u])if(m?fe(o,c):1===o.nodeType)return!1;s=u="only"===d&&!s&&"nextSibling"}return!0}if(s=[y?l.firstChild:l.lastChild],y&&f){p=(a=(r=(i=l[S]||(l[S]={}))[d]||[])[0]===E&&r[1])&&r[2],o=a&&l.childNodes[a];while(o=++a&&o&&o[u]||(p=a=0)||s.pop())if(1===o.nodeType&&++p&&o===e){i[d]=[E,a,p];break}}else if(f&&(p=a=(r=(i=e[S]||(e[S]={}))[d]||[])[0]===E&&r[1]),!1===p)while(o=++a&&o&&o[u]||(p=a=0)||s.pop())if((m?fe(o,c):1===o.nodeType)&&++p&&(f&&((i=o[S]||(o[S]={}))[d]=[E,p]),o===e))break;return(p-=g)===h||p%h==0&&0<=p/h}}},PSEUDO:function(e,o){var t,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||I.error("unsupported pseudo: "+e);return a[S]?a(o):1<a.length?(t=[e,e,"",o],b.setFilters.hasOwnProperty(e.toLowerCase())?F(function(e,t){var n,r=a(e,o),i=r.length;while(i--)e[n=se.call(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:F(function(e){var r=[],i=[],s=ne(e.replace(ve,"$1"));return s[S]?F(function(e,t,n,r){var i,o=s(e,null,r,[]),a=e.length;while(a--)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:F(function(t){return function(e){return 0<I(t,e).length}}),contains:F(function(t){return t=t.replace(O,P),function(e){return-1<(e.textContent||ce.text(e)).indexOf(t)}}),lang:F(function(n){return A.test(n||"")||I.error("unsupported lang: "+n),n=n.replace(O,P).toLowerCase(),function(e){var t;do{if(t=C?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=ie.location&&ie.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===r},focus:function(e){return e===function(){try{return T.activeElement}catch(e){}}()&&T.hasFocus()&&!!(e.type||e.href||~e.tabIndex)},enabled:X(!1),disabled:X(!0),checked:function(e){return fe(e,"input")&&!!e.checked||fe(e,"option")&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return q.test(e.nodeName)},input:function(e){return N.test(e.nodeName)},button:function(e){return fe(e,"input")&&"button"===e.type||fe(e,"button")},text:function(e){var t;return fe(e,"input")&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:U(function(){return[0]}),last:U(function(e,t){return[t-1]}),eq:U(function(e,t,n){return[n<0?n+t:n]}),even:U(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:U(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:U(function(e,t,n){var r;for(r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:U(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=B(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=_(e);function G(){}function Y(e,t){var n,r,i,o,a,s,u,l=c[e+" "];if(l)return t?0:l.slice(0);a=e,s=[],u=b.preFilter;while(a){for(o in n&&!(r=y.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=m.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace(ve," ")}),a=a.slice(n.length)),b.filter)!(r=D[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?I.error(e):c(e,s).slice(0)}function Q(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function J(a,e,t){var s=e.dir,u=e.next,l=u||s,c=t&&"parentNode"===l,f=n++;return e.first?function(e,t,n){while(e=e[s])if(1===e.nodeType||c)return a(e,t,n);return!1}:function(e,t,n){var r,i,o=[E,f];if(n){while(e=e[s])if((1===e.nodeType||c)&&a(e,t,n))return!0}else while(e=e[s])if(1===e.nodeType||c)if(i=e[S]||(e[S]={}),u&&fe(e,u))e=e[s]||e;else{if((r=i[l])&&r[0]===E&&r[1]===f)return o[2]=r[2];if((i[l]=o)[2]=a(e,t,n))return!0}return!1}}function K(i){return 1<i.length?function(e,t,n){var r=i.length;while(r--)if(!i[r](e,t,n))return!1;return!0}:i[0]}function Z(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function ee(d,h,g,v,y,e){return v&&!v[S]&&(v=ee(v)),y&&!y[S]&&(y=ee(y,e)),F(function(e,t,n,r){var i,o,a,s,u=[],l=[],c=t.length,f=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)I(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),p=!d||!e&&h?f:Z(f,u,d,n,r);if(g?g(p,s=y||(e?d:c||v)?[]:t,n,r):s=p,v){i=Z(s,l),v(i,[],n,r),o=i.length;while(o--)(a=i[o])&&(s[l[o]]=!(p[l[o]]=a))}if(e){if(y||d){if(y){i=[],o=s.length;while(o--)(a=s[o])&&i.push(p[o]=a);y(null,s=[],i,r)}o=s.length;while(o--)(a=s[o])&&-1<(i=y?se.call(e,a):u[o])&&(e[i]=!(t[i]=a))}}else s=Z(s===t?s.splice(c,s.length):s),y?y(null,t,s,r):k.apply(t,s)})}function te(e){for(var i,t,n,r=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],s=o?1:0,u=J(function(e){return e===i},a,!0),l=J(function(e){return-1<se.call(i,e)},a,!0),c=[function(e,t,n){var r=!o&&(n||t!=w)||((i=t).nodeType?u(e,t,n):l(e,t,n));return i=null,r}];s<r;s++)if(t=b.relative[e[s].type])c=[J(K(c),t)];else{if((t=b.filter[e[s].type].apply(null,e[s].matches))[S]){for(n=++s;n<r;n++)if(b.relative[e[n].type])break;return ee(1<s&&K(c),1<s&&Q(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ve,"$1"),t,s<n&&te(e.slice(s,n)),n<r&&te(e=e.slice(n)),n<r&&Q(e))}c.push(t)}return K(c)}function ne(e,t){var n,v,y,m,x,r,i=[],o=[],a=u[e+" "];if(!a){t||(t=Y(e)),n=t.length;while(n--)(a=te(t[n]))[S]?i.push(a):o.push(a);(a=u(e,(v=o,m=0<(y=i).length,x=0<v.length,r=function(e,t,n,r,i){var o,a,s,u=0,l="0",c=e&&[],f=[],p=w,d=e||x&&b.find.TAG("*",i),h=E+=null==p?1:Math.random()||.1,g=d.length;for(i&&(w=t==T||t||i);l!==g&&null!=(o=d[l]);l++){if(x&&o){a=0,t||o.ownerDocument==T||(V(o),n=!C);while(s=v[a++])if(s(o,t||T,n)){k.call(r,o);break}i&&(E=h)}m&&((o=!s&&o)&&u--,e&&c.push(o))}if(u+=l,m&&l!==u){a=0;while(s=y[a++])s(c,f,t,n);if(e){if(0<u)while(l--)c[l]||f[l]||(f[l]=pe.call(r));f=Z(f)}k.apply(r,f),i&&!e&&0<f.length&&1<u+y.length&&ce.uniqueSort(r)}return i&&(E=h,w=p),c},m?F(r):r))).selector=e}return a}function re(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,c=!r&&Y(e=l.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&C&&b.relative[o[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(O,P),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}i=D.needsContext.test(e)?0:o.length;while(i--){if(a=o[i],b.relative[s=a.type])break;if((u=b.find[s])&&(r=u(a.matches[0].replace(O,P),H.test(o[0].type)&&z(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&Q(o)))return k.apply(n,r),n;break}}}return(l||ne(e,c))(r,t,!C,n,!t||H.test(e)&&z(t.parentNode)||t),n}G.prototype=b.filters=b.pseudos,b.setFilters=new G,le.sortStable=S.split("").sort(l).join("")===S,V(),le.sortDetached=$(function(e){return 1&e.compareDocumentPosition(T.createElement("fieldset"))}),ce.find=I,ce.expr[":"]=ce.expr.pseudos,ce.unique=ce.uniqueSort,I.compile=ne,I.select=re,I.setDocument=V,I.escape=ce.escapeSelector,I.getText=ce.text,I.isXML=ce.isXMLDoc,I.selectors=ce.expr,I.support=ce.support,I.uniqueSort=ce.uniqueSort}();var d=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&ce(e).is(n))break;r.push(e)}return r},h=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},b=ce.expr.match.needsContext,w=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function T(e,n,r){return v(n)?ce.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?ce.grep(e,function(e){return e===n!==r}):"string"!=typeof n?ce.grep(e,function(e){return-1<se.call(n,e)!==r}):ce.filter(n,e,r)}ce.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?ce.find.matchesSelector(r,e)?[r]:[]:ce.find.matches(e,ce.grep(t,function(e){return 1===e.nodeType}))},ce.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(ce(e).filter(function(){for(t=0;t<r;t++)if(ce.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)ce.find(e,i[t],n);return 1<r?ce.uniqueSort(n):n},filter:function(e){return this.pushStack(T(this,e||[],!1))},not:function(e){return this.pushStack(T(this,e||[],!0))},is:function(e){return!!T(this,"string"==typeof e&&b.test(e)?ce(e):e||[],!1).length}});var k,S=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(ce.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||k,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:S.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof ce?t[0]:t,ce.merge(this,ce.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:C,!0)),w.test(r[1])&&ce.isPlainObject(t))for(r in t)v(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=C.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):v(e)?void 0!==n.ready?n.ready(e):e(ce):ce.makeArray(e,this)}).prototype=ce.fn,k=ce(C);var E=/^(?:parents|prev(?:Until|All))/,j={children:!0,contents:!0,next:!0,prev:!0};function A(e,t){while((e=e[t])&&1!==e.nodeType);return e}ce.fn.extend({has:function(e){var t=ce(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(ce.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&ce(e);if(!b.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&ce.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?ce.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?se.call(ce(e),this[0]):se.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ce.uniqueSort(ce.merge(this.get(),ce(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ce.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return d(e,"parentNode")},parentsUntil:function(e,t,n){return d(e,"parentNode",n)},next:function(e){return A(e,"nextSibling")},prev:function(e){return A(e,"previousSibling")},nextAll:function(e){return d(e,"nextSibling")},prevAll:function(e){return d(e,"previousSibling")},nextUntil:function(e,t,n){return d(e,"nextSibling",n)},prevUntil:function(e,t,n){return d(e,"previousSibling",n)},siblings:function(e){return h((e.parentNode||{}).firstChild,e)},children:function(e){return h(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(fe(e,"template")&&(e=e.content||e),ce.merge([],e.childNodes))}},function(r,i){ce.fn[r]=function(e,t){var n=ce.map(this,i,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=ce.filter(t,n)),1<this.length&&(j[r]||ce.uniqueSort(n),E.test(r)&&n.reverse()),this.pushStack(n)}});var D=/[^\x20\t\r\n\f]+/g;function N(e){return e}function q(e){throw e}function L(e,t,n,r){var i;try{e&&v(i=e.promise)?i.call(e).done(t).fail(n):e&&v(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}ce.Callbacks=function(r){var e,n;r="string"==typeof r?(e=r,n={},ce.each(e.match(D)||[],function(e,t){n[t]=!0}),n):ce.extend({},r);var i,t,o,a,s=[],u=[],l=-1,c=function(){for(a=a||r.once,o=i=!0;u.length;l=-1){t=u.shift();while(++l<s.length)!1===s[l].apply(t[0],t[1])&&r.stopOnFalse&&(l=s.length,t=!1)}r.memory||(t=!1),i=!1,a&&(s=t?[]:"")},f={add:function(){return s&&(t&&!i&&(l=s.length-1,u.push(t)),function n(e){ce.each(e,function(e,t){v(t)?r.unique&&f.has(t)||s.push(t):t&&t.length&&"string"!==x(t)&&n(t)})}(arguments),t&&!i&&c()),this},remove:function(){return ce.each(arguments,function(e,t){var n;while(-1<(n=ce.inArray(t,s,n)))s.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<ce.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return a=u=[],s=t="",this},disabled:function(){return!s},lock:function(){return a=u=[],t||i||(s=t=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),i||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},ce.extend({Deferred:function(e){var o=[["notify","progress",ce.Callbacks("memory"),ce.Callbacks("memory"),2],["resolve","done",ce.Callbacks("once memory"),ce.Callbacks("once memory"),0,"resolved"],["reject","fail",ce.Callbacks("once memory"),ce.Callbacks("once memory"),1,"rejected"]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},"catch":function(e){return a.then(null,e)},pipe:function(){var i=arguments;return ce.Deferred(function(r){ce.each(o,function(e,t){var n=v(i[t[4]])&&i[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&v(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){var u=0;function l(i,o,a,s){return function(){var n=this,r=arguments,e=function(){var e,t;if(!(i<u)){if((e=a.apply(n,r))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,v(t)?s?t.call(e,l(u,o,N,s),l(u,o,q,s)):(u++,t.call(e,l(u,o,N,s),l(u,o,q,s),l(u,o,N,o.notifyWith))):(a!==N&&(n=void 0,r=[e]),(s||o.resolveWith)(n,r))}},t=s?e:function(){try{e()}catch(e){ce.Deferred.exceptionHook&&ce.Deferred.exceptionHook(e,t.error),u<=i+1&&(a!==q&&(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(ce.Deferred.getErrorHook?t.error=ce.Deferred.getErrorHook():ce.Deferred.getStackHook&&(t.error=ce.Deferred.getStackHook()),ie.setTimeout(t))}}return ce.Deferred(function(e){o[0][3].add(l(0,e,v(r)?r:N,e.notifyWith)),o[1][3].add(l(0,e,v(t)?t:N)),o[2][3].add(l(0,e,v(n)?n:q))}).promise()},promise:function(e){return null!=e?ce.extend(e,a):a}},s={};return ce.each(o,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){i=r},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var n=arguments.length,t=n,r=Array(t),i=ae.call(arguments),o=ce.Deferred(),a=function(t){return function(e){r[t]=this,i[t]=1<arguments.length?ae.call(arguments):e,--n||o.resolveWith(r,i)}};if(n<=1&&(L(e,o.done(a(t)).resolve,o.reject,!n),"pending"===o.state()||v(i[t]&&i[t].then)))return o.then();while(t--)L(i[t],a(t),o.reject);return o.promise()}});var H=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;ce.Deferred.exceptionHook=function(e,t){ie.console&&ie.console.warn&&e&&H.test(e.name)&&ie.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},ce.readyException=function(e){ie.setTimeout(function(){throw e})};var O=ce.Deferred();function P(){C.removeEventListener("DOMContentLoaded",P),ie.removeEventListener("load",P),ce.ready()}ce.fn.ready=function(e){return O.then(e)["catch"](function(e){ce.readyException(e)}),this},ce.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--ce.readyWait:ce.isReady)||(ce.isReady=!0)!==e&&0<--ce.readyWait||O.resolveWith(C,[ce])}}),ce.ready.then=O.then,"complete"===C.readyState||"loading"!==C.readyState&&!C.documentElement.doScroll?ie.setTimeout(ce.ready):(C.addEventListener("DOMContentLoaded",P),ie.addEventListener("load",P));var R=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===x(n))for(s in i=!0,n)R(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,v(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(ce(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},M=/^-ms-/,I=/-([a-z])/g;function W(e,t){return t.toUpperCase()}function F(e){return e.replace(M,"ms-").replace(I,W)}var $=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function B(){this.expando=ce.expando+B.uid++}B.uid=1,B.prototype={cache:function(e){var t=e[this.expando];return t||(t={},$(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[F(t)]=n;else for(r in t)i[F(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][F(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(F):(t=F(t))in r?[t]:t.match(D)||[]).length;while(n--)delete r[t[n]]}(void 0===t||ce.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!ce.isEmptyObject(t)}};var _=new B,X=new B,U=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,z=/[A-Z]/g;function V(e,t,n){var r,i;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(z,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:U.test(i)?JSON.parse(i):i)}catch(e){}X.set(e,t,n)}else n=void 0;return n}ce.extend({hasData:function(e){return X.hasData(e)||_.hasData(e)},data:function(e,t,n){return X.access(e,t,n)},removeData:function(e,t){X.remove(e,t)},_data:function(e,t,n){return _.access(e,t,n)},_removeData:function(e,t){_.remove(e,t)}}),ce.fn.extend({data:function(n,e){var t,r,i,o=this[0],a=o&&o.attributes;if(void 0===n){if(this.length&&(i=X.get(o),1===o.nodeType&&!_.get(o,"hasDataAttrs"))){t=a.length;while(t--)a[t]&&0===(r=a[t].name).indexOf("data-")&&(r=F(r.slice(5)),V(o,r,i[r]));_.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof n?this.each(function(){X.set(this,n)}):R(this,function(e){var t;if(o&&void 0===e)return void 0!==(t=X.get(o,n))?t:void 0!==(t=V(o,n))?t:void 0;this.each(function(){X.set(this,n,e)})},null,e,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){X.remove(this,e)})}}),ce.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=_.get(e,t),n&&(!r||Array.isArray(n)?r=_.access(e,t,ce.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=ce.queue(e,t),r=n.length,i=n.shift(),o=ce._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){ce.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return _.get(e,n)||_.access(e,n,{empty:ce.Callbacks("once memory").add(function(){_.remove(e,[t+"queue",n])})})}}),ce.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?ce.queue(this[0],t):void 0===n?this:this.each(function(){var e=ce.queue(this,t,n);ce._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&ce.dequeue(this,t)})},dequeue:function(e){return this.each(function(){ce.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=ce.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(a--)(n=_.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var G=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Y=new RegExp("^(?:([+-])=|)("+G+")([a-z%]*)$","i"),Q=["Top","Right","Bottom","Left"],J=C.documentElement,K=function(e){return ce.contains(e.ownerDocument,e)},Z={composed:!0};J.getRootNode&&(K=function(e){return ce.contains(e.ownerDocument,e)||e.getRootNode(Z)===e.ownerDocument});var ee=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&K(e)&&"none"===ce.css(e,"display")};function te(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return ce.css(e,t,"")},u=s(),l=n&&n[3]||(ce.cssNumber[t]?"":"px"),c=e.nodeType&&(ce.cssNumber[t]||"px"!==l&&+u)&&Y.exec(ce.css(e,t));if(c&&c[3]!==l){u/=2,l=l||c[3],c=+u||1;while(a--)ce.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,ce.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var ne={};function re(e,t){for(var n,r,i,o,a,s,u,l=[],c=0,f=e.length;c<f;c++)(r=e[c]).style&&(n=r.style.display,t?("none"===n&&(l[c]=_.get(r,"display")||null,l[c]||(r.style.display="")),""===r.style.display&&ee(r)&&(l[c]=(u=a=o=void 0,a=(i=r).ownerDocument,s=i.nodeName,(u=ne[s])||(o=a.body.appendChild(a.createElement(s)),u=ce.css(o,"display"),o.parentNode.removeChild(o),"none"===u&&(u="block"),ne[s]=u)))):"none"!==n&&(l[c]="none",_.set(r,"display",n)));for(c=0;c<f;c++)null!=l[c]&&(e[c].style.display=l[c]);return e}ce.fn.extend({show:function(){return re(this,!0)},hide:function(){return re(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ee(this)?ce(this).show():ce(this).hide()})}});var xe,be,we=/^(?:checkbox|radio)$/i,Te=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ce=/^$|^module$|\/(?:java|ecma)script/i;xe=C.createDocumentFragment().appendChild(C.createElement("div")),(be=C.createElement("input")).setAttribute("type","radio"),be.setAttribute("checked","checked"),be.setAttribute("name","t"),xe.appendChild(be),le.checkClone=xe.cloneNode(!0).cloneNode(!0).lastChild.checked,xe.innerHTML="<textarea>x</textarea>",le.noCloneChecked=!!xe.cloneNode(!0).lastChild.defaultValue,xe.innerHTML="<option></option>",le.option=!!xe.lastChild;var ke={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Se(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&fe(e,t)?ce.merge([e],n):n}function Ee(e,t){for(var n=0,r=e.length;n<r;n++)_.set(e[n],"globalEval",!t||_.get(t[n],"globalEval"))}ke.tbody=ke.tfoot=ke.colgroup=ke.caption=ke.thead,ke.th=ke.td,le.option||(ke.optgroup=ke.option=[1,"<select multiple='multiple'>","</select>"]);var je=/<|&#?\w+;/;function Ae(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===x(o))ce.merge(p,o.nodeType?[o]:o);else if(je.test(o)){a=a||f.appendChild(t.createElement("div")),s=(Te.exec(o)||["",""])[1].toLowerCase(),u=ke[s]||ke._default,a.innerHTML=u[1]+ce.htmlPrefilter(o)+u[2],c=u[0];while(c--)a=a.lastChild;ce.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));f.textContent="",d=0;while(o=p[d++])if(r&&-1<ce.inArray(o,r))i&&i.push(o);else if(l=K(o),a=Se(f.appendChild(o),"script"),l&&Ee(a),n){c=0;while(o=a[c++])Ce.test(o.type||"")&&n.push(o)}return f}var De=/^([^.]*)(?:\.(.+)|)/;function Ne(){return!0}function qe(){return!1}function Le(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Le(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=qe;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return ce().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=ce.guid++)),e.each(function(){ce.event.add(this,t,i,r,n)})}function He(e,r,t){t?(_.set(e,r,!1),ce.event.add(e,r,{namespace:!1,handler:function(e){var t,n=_.get(this,r);if(1&e.isTrigger&&this[r]){if(n)(ce.event.special[r]||{}).delegateType&&e.stopPropagation();else if(n=ae.call(arguments),_.set(this,r,n),this[r](),t=_.get(this,r),_.set(this,r,!1),n!==t)return e.stopImmediatePropagation(),e.preventDefault(),t}else n&&(_.set(this,r,ce.event.trigger(n[0],n.slice(1),this)),e.stopPropagation(),e.isImmediatePropagationStopped=Ne)}})):void 0===_.get(e,r)&&ce.event.add(e,r,Ne)}ce.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=_.get(t);if($(t)){n.handler&&(n=(o=n).handler,i=o.selector),i&&ce.find.matchesSelector(J,i),n.guid||(n.guid=ce.guid++),(u=v.events)||(u=v.events=Object.create(null)),(a=v.handle)||(a=v.handle=function(e){return"undefined"!=typeof ce&&ce.event.triggered!==e.type?ce.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(D)||[""]).length;while(l--)d=g=(s=De.exec(e[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=ce.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=ce.event.special[d]||{},c=ce.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&ce.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,h,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),ce.event.global[d]=!0)}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=_.hasData(e)&&_.get(e);if(v&&(u=v.events)){l=(t=(t||"").match(D)||[""]).length;while(l--)if(d=g=(s=De.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d){f=ce.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;while(o--)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||ce.removeEvent(e,d,v.handle),delete u[d])}else for(d in u)ce.event.remove(e,d+t[l],n,r,!0);ce.isEmptyObject(u)&&_.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=new Array(arguments.length),u=ce.event.fix(e),l=(_.get(this,"events")||Object.create(null))[u.type]||[],c=ce.event.special[u.type]||{};for(s[0]=u,t=1;t<arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){a=ce.event.handlers.call(this,u,l),t=0;while((i=a[t++])&&!u.isPropagationStopped()){u.currentTarget=i.elem,n=0;while((o=i.handlers[n++])&&!u.isImmediatePropagationStopped())u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(r=((ce.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?-1<ce(i,this).index(l):ce.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(t,e){Object.defineProperty(ce.Event.prototype,t,{enumerable:!0,configurable:!0,get:v(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[ce.expando]?e:new ce.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return we.test(t.type)&&t.click&&fe(t,"input")&&He(t,"click",!0),!1},trigger:function(e){var t=this||e;return we.test(t.type)&&t.click&&fe(t,"input")&&He(t,"click"),!0},_default:function(e){var t=e.target;return we.test(t.type)&&t.click&&fe(t,"input")&&_.get(t,"click")||fe(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},ce.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},ce.Event=function(e,t){if(!(this instanceof ce.Event))return new ce.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ne:qe,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&ce.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[ce.expando]=!0},ce.Event.prototype={constructor:ce.Event,isDefaultPrevented:qe,isPropagationStopped:qe,isImmediatePropagationStopped:qe,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ne,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ne,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ne,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},ce.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},ce.event.addProp),ce.each({focus:"focusin",blur:"focusout"},function(r,i){function o(e){if(C.documentMode){var t=_.get(this,"handle"),n=ce.event.fix(e);n.type="focusin"===e.type?"focus":"blur",n.isSimulated=!0,t(e),n.target===n.currentTarget&&t(n)}else ce.event.simulate(i,e.target,ce.event.fix(e))}ce.event.special[r]={setup:function(){var e;if(He(this,r,!0),!C.documentMode)return!1;(e=_.get(this,i))||this.addEventListener(i,o),_.set(this,i,(e||0)+1)},trigger:function(){return He(this,r),!0},teardown:function(){var e;if(!C.documentMode)return!1;(e=_.get(this,i)-1)?_.set(this,i,e):(this.removeEventListener(i,o),_.remove(this,i))},_default:function(e){return _.get(e.target,r)},delegateType:i},ce.event.special[i]={setup:function(){var e=this.ownerDocument||this.document||this,t=C.documentMode?this:e,n=_.get(t,i);n||(C.documentMode?this.addEventListener(i,o):e.addEventListener(r,o,!0)),_.set(t,i,(n||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=C.documentMode?this:e,n=_.get(t,i)-1;n?_.set(t,i,n):(C.documentMode?this.removeEventListener(i,o):e.removeEventListener(r,o,!0),_.remove(t,i))}}}),ce.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){ce.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||ce.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),ce.fn.extend({on:function(e,t,n,r){return Le(this,e,t,n,r)},one:function(e,t,n,r){return Le(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,ce(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=qe),this.each(function(){ce.event.remove(this,e,n,t)})}});var Oe=/<script|<style|<link/i,Pe=/checked\s*(?:[^=]|=\s*.checked.)/i,Re=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Me(e,t){return fe(e,"table")&&fe(11!==t.nodeType?t:t.firstChild,"tr")&&ce(e).children("tbody")[0]||e}function Ie(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function We(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Fe(e,t){var n,r,i,o,a,s;if(1===t.nodeType){if(_.hasData(e)&&(s=_.get(e).events))for(i in _.remove(t,"handle events"),s)for(n=0,r=s[i].length;n<r;n++)ce.event.add(t,i,s[i][n]);X.hasData(e)&&(o=X.access(e),a=ce.extend({},o),X.set(t,a))}}function $e(n,r,i,o){r=g(r);var e,t,a,s,u,l,c=0,f=n.length,p=f-1,d=r[0],h=v(d);if(h||1<f&&"string"==typeof d&&!le.checkClone&&Pe.test(d))return n.each(function(e){var t=n.eq(e);h&&(r[0]=d.call(this,e,t.html())),$e(t,r,i,o)});if(f&&(t=(e=Ae(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=ce.map(Se(e,"script"),Ie)).length;c<f;c++)u=e,c!==p&&(u=ce.clone(u,!0,!0),s&&ce.merge(a,Se(u,"script"))),i.call(n[c],u,c);if(s)for(l=a[a.length-1].ownerDocument,ce.map(a,We),c=0;c<s;c++)u=a[c],Ce.test(u.type||"")&&!_.access(u,"globalEval")&&ce.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?ce._evalUrl&&!u.noModule&&ce._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},l):m(u.textContent.replace(Re,""),u,l))}return n}function Be(e,t,n){for(var r,i=t?ce.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||ce.cleanData(Se(r)),r.parentNode&&(n&&K(r)&&Ee(Se(r,"script")),r.parentNode.removeChild(r));return e}ce.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s,u,l,c=e.cloneNode(!0),f=K(e);if(!(le.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ce.isXMLDoc(e)))for(a=Se(c),r=0,i=(o=Se(e)).length;r<i;r++)s=o[r],u=a[r],void 0,"input"===(l=u.nodeName.toLowerCase())&&we.test(s.type)?u.checked=s.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||Se(e),a=a||Se(c),r=0,i=o.length;r<i;r++)Fe(o[r],a[r]);else Fe(e,c);return 0<(a=Se(c,"script")).length&&Ee(a,!f&&Se(e,"script")),c},cleanData:function(e){for(var t,n,r,i=ce.event.special,o=0;void 0!==(n=e[o]);o++)if($(n)){if(t=n[_.expando]){if(t.events)for(r in t.events)i[r]?ce.event.remove(n,r):ce.removeEvent(n,r,t.handle);n[_.expando]=void 0}n[X.expando]&&(n[X.expando]=void 0)}}}),ce.fn.extend({detach:function(e){return Be(this,e,!0)},remove:function(e){return Be(this,e)},text:function(e){return R(this,function(e){return void 0===e?ce.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return $e(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Me(this,e).appendChild(e)})},prepend:function(){return $e(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Me(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return $e(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return $e(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(ce.cleanData(Se(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ce.clone(this,e,t)})},html:function(e){return R(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Oe.test(e)&&!ke[(Te.exec(e)||["",""])[1].toLowerCase()]){e=ce.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(ce.cleanData(Se(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return $e(this,arguments,function(e){var t=this.parentNode;ce.inArray(this,n)<0&&(ce.cleanData(Se(this)),t&&t.replaceChild(e,this))},n)}}),ce.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){ce.fn[e]=function(e){for(var t,n=[],r=ce(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),ce(r[o])[a](t),s.apply(n,t.get());return this.pushStack(n)}});var _e=new RegExp("^("+G+")(?!px)[a-z%]+$","i"),Xe=/^--/,Ue=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=ie),t.getComputedStyle(e)},ze=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},Ve=new RegExp(Q.join("|"),"i");function Ge(e,t,n){var r,i,o,a,s=Xe.test(t),u=e.style;return(n=n||Ue(e))&&(a=n.getPropertyValue(t)||n[t],s&&a&&(a=a.replace(ve,"$1")||void 0),""!==a||K(e)||(a=ce.style(e,t)),!le.pixelBoxStyles()&&_e.test(a)&&Ve.test(t)&&(r=u.width,i=u.minWidth,o=u.maxWidth,u.minWidth=u.maxWidth=u.width=a,a=n.width,u.width=r,u.minWidth=i,u.maxWidth=o)),void 0!==a?a+"":a}function Ye(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",J.appendChild(u).appendChild(l);var e=ie.getComputedStyle(l);n="1%"!==e.top,s=12===t(e.marginLeft),l.style.right="60%",o=36===t(e.right),r=36===t(e.width),l.style.position="absolute",i=12===t(l.offsetWidth/3),J.removeChild(u),l=null}}function t(e){return Math.round(parseFloat(e))}var n,r,i,o,a,s,u=C.createElement("div"),l=C.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",le.clearCloneStyle="content-box"===l.style.backgroundClip,ce.extend(le,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,n,r;return null==a&&(e=C.createElement("table"),t=C.createElement("tr"),n=C.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",J.appendChild(e).appendChild(t).appendChild(n),r=ie.getComputedStyle(t),a=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===t.offsetHeight,J.removeChild(e)),a}}))}();var Qe=["Webkit","Moz","ms"],Je=C.createElement("div").style,Ke={};function Ze(e){var t=ce.cssProps[e]||Ke[e];return t||(e in Je?e:Ke[e]=function(e){var t=e[0].toUpperCase()+e.slice(1),n=Qe.length;while(n--)if((e=Qe[n]+t)in Je)return e}(e)||e)}var et=/^(none|table(?!-c[ea]).+)/,tt={position:"absolute",visibility:"hidden",display:"block"},nt={letterSpacing:"0",fontWeight:"400"};function rt(e,t,n){var r=Y.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function it(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0,l=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=ce.css(e,n+Q[a],!0,i)),r?("content"===n&&(u-=ce.css(e,"padding"+Q[a],!0,i)),"margin"!==n&&(u-=ce.css(e,"border"+Q[a]+"Width",!0,i))):(u+=ce.css(e,"padding"+Q[a],!0,i),"padding"!==n?u+=ce.css(e,"border"+Q[a]+"Width",!0,i):s+=ce.css(e,"border"+Q[a]+"Width",!0,i));return!r&&0<=o&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u+l}function ot(e,t,n){var r=Ue(e),i=(!le.boxSizingReliable()||n)&&"border-box"===ce.css(e,"boxSizing",!1,r),o=i,a=Ge(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(_e.test(a)){if(!n)return a;a="auto"}return(!le.boxSizingReliable()&&i||!le.reliableTrDimensions()&&fe(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===ce.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===ce.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+it(e,t,n||(i?"border":"content"),o,r,a)+"px"}function at(e,t,n,r,i){return new at.prototype.init(e,t,n,r,i)}ce.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ge(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=F(t),u=Xe.test(t),l=e.style;if(u||(t=Ze(s)),a=ce.cssHooks[t]||ce.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"===(o=typeof n)&&(i=Y.exec(n))&&i[1]&&(n=te(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(ce.cssNumber[s]?"":"px")),le.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=F(t);return Xe.test(t)||(t=Ze(s)),(a=ce.cssHooks[t]||ce.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Ge(e,t,r)),"normal"===i&&t in nt&&(i=nt[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),ce.each(["height","width"],function(e,u){ce.cssHooks[u]={get:function(e,t,n){if(t)return!et.test(ce.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ot(e,u,n):ze(e,tt,function(){return ot(e,u,n)})},set:function(e,t,n){var r,i=Ue(e),o=!le.scrollboxSize()&&"absolute"===i.position,a=(o||n)&&"border-box"===ce.css(e,"boxSizing",!1,i),s=n?it(e,u,n,a,i):0;return a&&o&&(s-=Math.ceil(e["offset"+u[0].toUpperCase()+u.slice(1)]-parseFloat(i[u])-it(e,u,"border",!1,i)-.5)),s&&(r=Y.exec(t))&&"px"!==(r[3]||"px")&&(e.style[u]=t,t=ce.css(e,u)),rt(0,t,s)}}}),ce.cssHooks.marginLeft=Ye(le.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Ge(e,"marginLeft"))||e.getBoundingClientRect().left-ze(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),ce.each({margin:"",padding:"",border:"Width"},function(i,o){ce.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+Q[t]+o]=r[t]||r[t-2]||r[0];return n}},"margin"!==i&&(ce.cssHooks[i+o].set=rt)}),ce.fn.extend({css:function(e,t){return R(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Ue(e),i=t.length;a<i;a++)o[t[a]]=ce.css(e,t[a],!1,r);return o}return void 0!==n?ce.style(e,t,n):ce.css(e,t)},e,t,1<arguments.length)}}),((ce.Tween=at).prototype={constructor:at,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||ce.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(ce.cssNumber[n]?"":"px")},cur:function(){var e=at.propHooks[this.prop];return e&&e.get?e.get(this):at.propHooks._default.get(this)},run:function(e){var t,n=at.propHooks[this.prop];return this.options.duration?this.pos=t=ce.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):at.propHooks._default.set(this),this}}).init.prototype=at.prototype,(at.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=ce.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){ce.fx.step[e.prop]?ce.fx.step[e.prop](e):1!==e.elem.nodeType||!ce.cssHooks[e.prop]&&null==e.elem.style[Ze(e.prop)]?e.elem[e.prop]=e.now:ce.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=at.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ce.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},ce.fx=at.prototype.init,ce.fx.step={};var st,ut,lt,ct,ft=/^(?:toggle|show|hide)$/,pt=/queueHooks$/;function dt(){ut&&(!1===C.hidden&&ie.requestAnimationFrame?ie.requestAnimationFrame(dt):ie.setTimeout(dt,ce.fx.interval),ce.fx.tick())}function ht(){return ie.setTimeout(function(){st=void 0}),st=Date.now()}function gt(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=Q[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function vt(e,t,n){for(var r,i=(yt.tweeners[t]||[]).concat(yt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function yt(o,e,t){var n,a,r=0,i=yt.prefilters.length,s=ce.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var e=st||ht(),t=Math.max(0,l.startTime+l.duration-e),n=1-(t/l.duration||0),r=0,i=l.tweens.length;r<i;r++)l.tweens[r].run(n);return s.notifyWith(o,[l,n,t]),n<1&&i?t:(i||s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l]),!1)},l=s.promise({elem:o,props:ce.extend({},e),opts:ce.extend(!0,{specialEasing:{},easing:ce.easing._default},t),originalProperties:e,originalOptions:t,startTime:st||ht(),duration:t.duration,tweens:[],createTween:function(e,t){var n=ce.Tween(o,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)l.tweens[t].run(1);return e?(s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l,e])):s.rejectWith(o,[l,e]),this}}),c=l.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=F(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=ce.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);r<i;r++)if(n=yt.prefilters[r].call(l,o,c,l.opts))return v(n.stop)&&(ce._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return ce.map(c,vt,l),v(l.opts.start)&&l.opts.start.call(o,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),ce.fx.timer(ce.extend(u,{elem:o,anim:l,queue:l.opts.queue})),l}ce.Animation=ce.extend(yt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return te(n.elem,e,Y.exec(t),n),n}]},tweener:function(e,t){v(e)?(t=e,e=["*"]):e=e.match(D);for(var n,r=0,i=e.length;r<i;r++)n=e[r],yt.tweeners[n]=yt.tweeners[n]||[],yt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&ee(e),v=_.get(e,"fxshow");for(r in n.queue||(null==(a=ce._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,ce.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],ft.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&&v[r]||ce.style(e,r)}if((u=!ce.isEmptyObject(t))||!ce.isEmptyObject(d))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=v&&v.display)&&(l=_.get(e,"display")),"none"===(c=ce.css(e,"display"))&&(l?c=l:(re([e],!0),l=e.style.display||l,c=ce.css(e,"display"),re([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===ce.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,d)u||(v?"hidden"in v&&(g=v.hidden):v=_.access(e,"fxshow",{display:l}),o&&(v.hidden=!g),g&&re([e],!0),p.done(function(){for(r in g||re([e]),_.remove(e,"fxshow"),d)ce.style(e,r,d[r])})),u=vt(g?v[r]:0,r,p),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?yt.prefilters.unshift(e):yt.prefilters.push(e)}}),ce.speed=function(e,t,n){var r=e&&"object"==typeof e?ce.extend({},e):{complete:n||!n&&t||v(e)&&e,duration:e,easing:n&&t||t&&!v(t)&&t};return ce.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in ce.fx.speeds?r.duration=ce.fx.speeds[r.duration]:r.duration=ce.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){v(r.old)&&r.old.call(this),r.queue&&ce.dequeue(this,r.queue)},r},ce.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ee).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=ce.isEmptyObject(t),o=ce.speed(e,n,r),a=function(){var e=yt(this,ce.extend({},t),o);(i||_.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof i&&(o=e,e=i,i=void 0),e&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=ce.timers,r=_.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&pt.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||ce.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=_.get(this),n=t[a+"queue"],r=t[a+"queueHooks"],i=ce.timers,o=n?n.length:0;for(t.finish=!0,ce.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),ce.each(["toggle","show","hide"],function(e,r){var i=ce.fn[r];ce.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(gt(r,!0),e,t,n)}}),ce.each({slideDown:gt("show"),slideUp:gt("hide"),slideToggle:gt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){ce.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),ce.timers=[],ce.fx.tick=function(){var e,t=0,n=ce.timers;for(st=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||ce.fx.stop(),st=void 0},ce.fx.timer=function(e){ce.timers.push(e),ce.fx.start()},ce.fx.interval=13,ce.fx.start=function(){ut||(ut=!0,dt())},ce.fx.stop=function(){ut=null},ce.fx.speeds={slow:600,fast:200,_default:400},ce.fn.delay=function(r,e){return r=ce.fx&&ce.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=ie.setTimeout(e,r);t.stop=function(){ie.clearTimeout(n)}})},lt=C.createElement("input"),ct=C.createElement("select").appendChild(C.createElement("option")),lt.type="checkbox",le.checkOn=""!==lt.value,le.optSelected=ct.selected,(lt=C.createElement("input")).value="t",lt.type="radio",le.radioValue="t"===lt.value;var mt,xt=ce.expr.attrHandle;ce.fn.extend({attr:function(e,t){return R(this,ce.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){ce.removeAttr(this,e)})}}),ce.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?ce.prop(e,t,n):(1===o&&ce.isXMLDoc(e)||(i=ce.attrHooks[t.toLowerCase()]||(ce.expr.match.bool.test(t)?mt:void 0)),void 0!==n?null===n?void ce.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=ce.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!le.radioValue&&"radio"===t&&fe(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(D);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),mt={set:function(e,t,n){return!1===t?ce.removeAttr(e,n):e.setAttribute(n,n),n}},ce.each(ce.expr.match.bool.source.match(/\w+/g),function(e,t){var a=xt[t]||ce.find.attr;xt[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=xt[o],xt[o]=r,r=null!=a(e,t,n)?o:null,xt[o]=i),r}});var bt=/^(?:input|select|textarea|button)$/i,wt=/^(?:a|area)$/i;function Tt(e){return(e.match(D)||[]).join(" ")}function Ct(e){return e.getAttribute&&e.getAttribute("class")||""}function kt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(D)||[]}ce.fn.extend({prop:function(e,t){return R(this,ce.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[ce.propFix[e]||e]})}}),ce.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&ce.isXMLDoc(e)||(t=ce.propFix[t]||t,i=ce.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=ce.find.attr(e,"tabindex");return t?parseInt(t,10):bt.test(e.nodeName)||wt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),le.optSelected||(ce.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),ce.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ce.propFix[this.toLowerCase()]=this}),ce.fn.extend({addClass:function(t){var e,n,r,i,o,a;return v(t)?this.each(function(e){ce(this).addClass(t.call(this,e,Ct(this)))}):(e=kt(t)).length?this.each(function(){if(r=Ct(this),n=1===this.nodeType&&" "+Tt(r)+" "){for(o=0;o<e.length;o++)i=e[o],n.indexOf(" "+i+" ")<0&&(n+=i+" ");a=Tt(n),r!==a&&this.setAttribute("class",a)}}):this},removeClass:function(t){var e,n,r,i,o,a;return v(t)?this.each(function(e){ce(this).removeClass(t.call(this,e,Ct(this)))}):arguments.length?(e=kt(t)).length?this.each(function(){if(r=Ct(this),n=1===this.nodeType&&" "+Tt(r)+" "){for(o=0;o<e.length;o++){i=e[o];while(-1<n.indexOf(" "+i+" "))n=n.replace(" "+i+" "," ")}a=Tt(n),r!==a&&this.setAttribute("class",a)}}):this:this.attr("class","")},toggleClass:function(t,n){var e,r,i,o,a=typeof t,s="string"===a||Array.isArray(t);return v(t)?this.each(function(e){ce(this).toggleClass(t.call(this,e,Ct(this),n),n)}):"boolean"==typeof n&&s?n?this.addClass(t):this.removeClass(t):(e=kt(t),this.each(function(){if(s)for(o=ce(this),i=0;i<e.length;i++)r=e[i],o.hasClass(r)?o.removeClass(r):o.addClass(r);else void 0!==t&&"boolean"!==a||((r=Ct(this))&&_.set(this,"__className__",r),this.setAttribute&&this.setAttribute("class",r||!1===t?"":_.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++])if(1===n.nodeType&&-1<(" "+Tt(Ct(n))+" ").indexOf(t))return!0;return!1}});var St=/\r/g;ce.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=v(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,ce(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=ce.map(t,function(e){return null==e?"":e+""})),(r=ce.valHooks[this.type]||ce.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=ce.valHooks[t.type]||ce.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(St,""):null==e?"":e:void 0}}),ce.extend({valHooks:{option:{get:function(e){var t=ce.find.attr(e,"value");return null!=t?t:Tt(ce.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!fe(n.parentNode,"optgroup"))){if(t=ce(n).val(),a)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=ce.makeArray(t),a=i.length;while(a--)((r=i[a]).selected=-1<ce.inArray(ce.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),ce.each(["radio","checkbox"],function(){ce.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<ce.inArray(ce(e).val(),t)}},le.checkOn||(ce.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Et=ie.location,jt={guid:Date.now()},At=/\?/;ce.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new ie.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||ce.error("Invalid XML: "+(n?ce.map(n.childNodes,function(e){return e.textContent}).join("\n"):e)),t};var Dt=/^(?:focusinfocus|focusoutblur)$/,Nt=function(e){e.stopPropagation()};ce.extend(ce.event,{trigger:function(e,t,n,r){var i,o,a,s,u,l,c,f,p=[n||C],d=ue.call(e,"type")?e.type:e,h=ue.call(e,"namespace")?e.namespace.split("."):[];if(o=f=a=n=n||C,3!==n.nodeType&&8!==n.nodeType&&!Dt.test(d+ce.event.triggered)&&(-1<d.indexOf(".")&&(d=(h=d.split(".")).shift(),h.sort()),u=d.indexOf(":")<0&&"on"+d,(e=e[ce.expando]?e:new ce.Event(d,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:ce.makeArray(t,[e]),c=ce.event.special[d]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!y(n)){for(s=c.delegateType||d,Dt.test(s+d)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(n.ownerDocument||C)&&p.push(a.defaultView||a.parentWindow||ie)}i=0;while((o=p[i++])&&!e.isPropagationStopped())f=o,e.type=1<i?s:c.bindType||d,(l=(_.get(o,"events")||Object.create(null))[e.type]&&_.get(o,"handle"))&&l.apply(o,t),(l=u&&o[u])&&l.apply&&$(o)&&(e.result=l.apply(o,t),!1===e.result&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),t)||!$(n)||u&&v(n[d])&&!y(n)&&((a=n[u])&&(n[u]=null),ce.event.triggered=d,e.isPropagationStopped()&&f.addEventListener(d,Nt),n[d](),e.isPropagationStopped()&&f.removeEventListener(d,Nt),ce.event.triggered=void 0,a&&(n[u]=a)),e.result}},simulate:function(e,t,n){var r=ce.extend(new ce.Event,n,{type:e,isSimulated:!0});ce.event.trigger(r,null,t)}}),ce.fn.extend({trigger:function(e,t){return this.each(function(){ce.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return ce.event.trigger(e,t,n,!0)}});var qt=/\[\]$/,Lt=/\r?\n/g,Ht=/^(?:submit|button|image|reset|file)$/i,Ot=/^(?:input|select|textarea|keygen)/i;function Pt(n,e,r,i){var t;if(Array.isArray(e))ce.each(e,function(e,t){r||qt.test(n)?i(n,t):Pt(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,i)});else if(r||"object"!==x(e))i(n,e);else for(t in e)Pt(n+"["+t+"]",e[t],r,i)}ce.param=function(e,t){var n,r=[],i=function(e,t){var n=v(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!ce.isPlainObject(e))ce.each(e,function(){i(this.name,this.value)});else for(n in e)Pt(n,e[n],t,i);return r.join("&")},ce.fn.extend({serialize:function(){return ce.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ce.prop(this,"elements");return e?ce.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ce(this).is(":disabled")&&Ot.test(this.nodeName)&&!Ht.test(e)&&(this.checked||!we.test(e))}).map(function(e,t){var n=ce(this).val();return null==n?null:Array.isArray(n)?ce.map(n,function(e){return{name:t.name,value:e.replace(Lt,"\r\n")}}):{name:t.name,value:n.replace(Lt,"\r\n")}}).get()}});var Rt=/%20/g,Mt=/#.*$/,It=/([?&])_=[^&]*/,Wt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ft=/^(?:GET|HEAD)$/,$t=/^\/\//,Bt={},_t={},Xt="*/".concat("*"),Ut=C.createElement("a");function zt(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(D)||[];if(v(t))while(n=i[r++])"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function Vt(t,i,o,a){var s={},u=t===_t;function l(e){var r;return s[e]=!0,ce.each(t[e]||[],function(e,t){var n=t(i,o,a);return"string"!=typeof n||u||s[n]?u?!(r=n):void 0:(i.dataTypes.unshift(n),l(n),!1)}),r}return l(i.dataTypes[0])||!s["*"]&&l("*")}function Gt(e,t){var n,r,i=ce.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&ce.extend(!0,e,r),e}Ut.href=Et.href,ce.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Et.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Et.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Xt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":ce.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Gt(Gt(e,ce.ajaxSettings),t):Gt(ce.ajaxSettings,e)},ajaxPrefilter:zt(Bt),ajaxTransport:zt(_t),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var c,f,p,n,d,r,h,g,i,o,v=ce.ajaxSetup({},t),y=v.context||v,m=v.context&&(y.nodeType||y.jquery)?ce(y):ce.event,x=ce.Deferred(),b=ce.Callbacks("once memory"),w=v.statusCode||{},a={},s={},u="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(h){if(!n){n={};while(t=Wt.exec(p))n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2])}t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return h?p:null},setRequestHeader:function(e,t){return null==h&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==h&&(v.mimeType=e),this},statusCode:function(e){var t;if(e)if(h)T.always(e[T.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||u;return c&&c.abort(t),l(0,t),this}};if(x.promise(T),v.url=((e||v.url||Et.href)+"").replace($t,Et.protocol+"//"),v.type=t.method||t.type||v.method||v.type,v.dataTypes=(v.dataType||"*").toLowerCase().match(D)||[""],null==v.crossDomain){r=C.createElement("a");try{r.href=v.url,r.href=r.href,v.crossDomain=Ut.protocol+"//"+Ut.host!=r.protocol+"//"+r.host}catch(e){v.crossDomain=!0}}if(v.data&&v.processData&&"string"!=typeof v.data&&(v.data=ce.param(v.data,v.traditional)),Vt(Bt,v,t,T),h)return T;for(i in(g=ce.event&&v.global)&&0==ce.active++&&ce.event.trigger("ajaxStart"),v.type=v.type.toUpperCase(),v.hasContent=!Ft.test(v.type),f=v.url.replace(Mt,""),v.hasContent?v.data&&v.processData&&0===(v.contentType||"").indexOf("application/x-www-form-urlencoded")&&(v.data=v.data.replace(Rt,"+")):(o=v.url.slice(f.length),v.data&&(v.processData||"string"==typeof v.data)&&(f+=(At.test(f)?"&":"?")+v.data,delete v.data),!1===v.cache&&(f=f.replace(It,"$1"),o=(At.test(f)?"&":"?")+"_="+jt.guid+++o),v.url=f+o),v.ifModified&&(ce.lastModified[f]&&T.setRequestHeader("If-Modified-Since",ce.lastModified[f]),ce.etag[f]&&T.setRequestHeader("If-None-Match",ce.etag[f])),(v.data&&v.hasContent&&!1!==v.contentType||t.contentType)&&T.setRequestHeader("Content-Type",v.contentType),T.setRequestHeader("Accept",v.dataTypes[0]&&v.accepts[v.dataTypes[0]]?v.accepts[v.dataTypes[0]]+("*"!==v.dataTypes[0]?", "+Xt+"; q=0.01":""):v.accepts["*"]),v.headers)T.setRequestHeader(i,v.headers[i]);if(v.beforeSend&&(!1===v.beforeSend.call(y,T,v)||h))return T.abort();if(u="abort",b.add(v.complete),T.done(v.success),T.fail(v.error),c=Vt(_t,v,t,T)){if(T.readyState=1,g&&m.trigger("ajaxSend",[T,v]),h)return T;v.async&&0<v.timeout&&(d=ie.setTimeout(function(){T.abort("timeout")},v.timeout));try{h=!1,c.send(a,l)}catch(e){if(h)throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,n,r){var i,o,a,s,u,l=t;h||(h=!0,d&&ie.clearTimeout(d),c=void 0,p=r||"",T.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(v,T,n)),!i&&-1<ce.inArray("script",v.dataTypes)&&ce.inArray("json",v.dataTypes)<0&&(v.converters["text script"]=function(){}),s=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(v,s,T,i),i?(v.ifModified&&((u=T.getResponseHeader("Last-Modified"))&&(ce.lastModified[f]=u),(u=T.getResponseHeader("etag"))&&(ce.etag[f]=u)),204===e||"HEAD"===v.type?l="nocontent":304===e?l="notmodified":(l=s.state,o=s.data,i=!(a=s.error))):(a=l,!e&&l||(l="error",e<0&&(e=0))),T.status=e,T.statusText=(t||l)+"",i?x.resolveWith(y,[o,l,T]):x.rejectWith(y,[T,l,a]),T.statusCode(w),w=void 0,g&&m.trigger(i?"ajaxSuccess":"ajaxError",[T,v,i?o:a]),b.fireWith(y,[T,l]),g&&(m.trigger("ajaxComplete",[T,v]),--ce.active||ce.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return ce.get(e,t,n,"json")},getScript:function(e,t){return ce.get(e,void 0,t,"script")}}),ce.each(["get","post"],function(e,i){ce[i]=function(e,t,n,r){return v(t)&&(r=r||n,n=t,t=void 0),ce.ajax(ce.extend({url:e,type:i,dataType:r,data:t,success:n},ce.isPlainObject(e)&&e))}}),ce.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),ce._evalUrl=function(e,t,n){return ce.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){ce.globalEval(e,t,n)}})},ce.fn.extend({wrapAll:function(e){var t;return this[0]&&(v(e)&&(e=e.call(this[0])),t=ce(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return v(n)?this.each(function(e){ce(this).wrapInner(n.call(this,e))}):this.each(function(){var e=ce(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=v(t);return this.each(function(e){ce(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){ce(this).replaceWith(this.childNodes)}),this}}),ce.expr.pseudos.hidden=function(e){return!ce.expr.pseudos.visible(e)},ce.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},ce.ajaxSettings.xhr=function(){try{return new ie.XMLHttpRequest}catch(e){}};var Yt={0:200,1223:204},Qt=ce.ajaxSettings.xhr();le.cors=!!Qt&&"withCredentials"in Qt,le.ajax=Qt=!!Qt,ce.ajaxTransport(function(i){var o,a;if(le.cors||Qt&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(Yt[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),a=r.onerror=r.ontimeout=o("error"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&ie.setTimeout(function(){o&&a()})},o=o("abort");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),ce.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),ce.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return ce.globalEval(e),e}}}),ce.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),ce.ajaxTransport("script",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=ce("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),C.head.appendChild(r[0])},abort:function(){i&&i()}}});var Jt,Kt=[],Zt=/(=)\?(?=&|$)|\?\?/;ce.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Kt.pop()||ce.expando+"_"+jt.guid++;return this[e]=!0,e}}),ce.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(Zt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Zt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=v(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Zt,"$1"+r):!1!==e.jsonp&&(e.url+=(At.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||ce.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=ie[r],ie[r]=function(){o=arguments},n.always(function(){void 0===i?ce(ie).removeProp(r):ie[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,Kt.push(r)),o&&v(i)&&i(o[0]),o=i=void 0}),"script"}),le.createHTMLDocument=((Jt=C.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Jt.childNodes.length),ce.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(le.createHTMLDocument?((r=(t=C.implementation.createHTMLDocument("")).createElement("base")).href=C.location.href,t.head.appendChild(r)):t=C),o=!n&&[],(i=w.exec(e))?[t.createElement(i[1])]:(i=Ae([e],t,o),o&&o.length&&ce(o).remove(),ce.merge([],i.childNodes)));var r,i,o},ce.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return-1<s&&(r=Tt(e.slice(s)),e=e.slice(0,s)),v(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<a.length&&ce.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?ce("<div>").append(ce.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},ce.expr.pseudos.animated=function(t){return ce.grep(ce.timers,function(e){return t===e.elem}).length},ce.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=ce.css(e,"position"),c=ce(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=ce.css(e,"top"),u=ce.css(e,"left"),("absolute"===l||"fixed"===l)&&-1<(o+u).indexOf("auto")?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),v(t)&&(t=t.call(e,n,ce.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):c.css(f)}},ce.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){ce.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===ce.css(r,"position"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&"static"===ce.css(e,"position"))e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=ce(e).offset()).top+=ce.css(e,"borderTopWidth",!0),i.left+=ce.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-ce.css(r,"marginTop",!0),left:t.left-i.left-ce.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&"static"===ce.css(e,"position"))e=e.offsetParent;return e||J})}}),ce.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o="pageYOffset"===i;ce.fn[t]=function(e){return R(this,function(e,t,n){var r;if(y(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n)return r?r[i]:e[t];r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n},t,e,arguments.length)}}),ce.each(["top","left"],function(e,n){ce.cssHooks[n]=Ye(le.pixelPosition,function(e,t){if(t)return t=Ge(e,n),_e.test(t)?ce(e).position()[n]+"px":t})}),ce.each({Height:"height",Width:"width"},function(a,s){ce.each({padding:"inner"+a,content:s,"":"outer"+a},function(r,o){ce.fn[o]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return R(this,function(e,t,n){var r;return y(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+a],r["scroll"+a],e.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?ce.css(e,t,i):ce.style(e,t,n,i)},s,n?e:void 0,n)}})}),ce.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ce.fn[t]=function(e){return this.on(t,e)}}),ce.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),ce.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){ce.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}});var en=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;ce.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),v(e))return r=ae.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(ae.call(arguments)))}).guid=e.guid=e.guid||ce.guid++,i},ce.holdReady=function(e){e?ce.readyWait++:ce.ready(!0)},ce.isArray=Array.isArray,ce.parseJSON=JSON.parse,ce.nodeName=fe,ce.isFunction=v,ce.isWindow=y,ce.camelCase=F,ce.type=x,ce.now=Date.now,ce.isNumeric=function(e){var t=ce.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},ce.trim=function(e){return null==e?"":(e+"").replace(en,"$1")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return ce});var tn=ie.jQuery,nn=ie.$;return ce.noConflict=function(e){return ie.$===ce&&(ie.$=nn),e&&ie.jQuery===ce&&(ie.jQuery=tn),ce},"undefined"==typeof e&&(ie.jQuery=ie.$=ce),ce});

/**
 * bxSlider v4.2.1d
 * Copyright 2013-2017 Steven Wanderski
 * Written while drinking Belgian ales and listening to jazz
 * Licensed under MIT (http://opensource.org/licenses/MIT)
 */
!function(t){var e={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,slideZIndex:50,wrapperClass:"bx-wrapper",touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,ariaLive:!0,ariaHidden:!0,keyboardEnabled:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",stopAutoOnClick:!1,autoHover:!1,autoDelay:0,autoSlideForOnePage:!1,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,shrinkItems:!1,onSliderLoad:function(){return!0},onSlideBefore:function(){return!0},onSlideAfter:function(){return!0},onSlideNext:function(){return!0},onSlidePrev:function(){return!0},onSliderResize:function(){return!0},onAutoChange:function(){return!0}};t.fn.bxSlider=function(n){if(0===this.length)return this;if(this.length>1)return this.each(function(){t(this).bxSlider(n)}),this;var s={},o=this,r=t(window).width(),a=t(window).height();if(!t(o).data("bxSlider")){var l=function(){t(o).data("bxSlider")||(s.settings=t.extend({},e,n),s.settings.slideWidth=parseInt(s.settings.slideWidth),s.children=o.children(s.settings.slideSelector),s.children.length<s.settings.minSlides&&(s.settings.minSlides=s.children.length),s.children.length<s.settings.maxSlides&&(s.settings.maxSlides=s.children.length),s.settings.randomStart&&(s.settings.startSlide=Math.floor(Math.random()*s.children.length)),s.active={index:s.settings.startSlide},s.carousel=s.settings.minSlides>1||s.settings.maxSlides>1,s.carousel&&(s.settings.preloadImages="all"),s.minThreshold=s.settings.minSlides*s.settings.slideWidth+(s.settings.minSlides-1)*s.settings.slideMargin,s.maxThreshold=s.settings.maxSlides*s.settings.slideWidth+(s.settings.maxSlides-1)*s.settings.slideMargin,s.working=!1,s.controls={},s.interval=null,s.animProp="vertical"===s.settings.mode?"top":"left",s.usingCSS=s.settings.useCSS&&"fade"!==s.settings.mode&&function(){for(var t=document.createElement("div"),e=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"],i=0;i<e.length;i++)if(void 0!==t.style[e[i]])return s.cssPrefix=e[i].replace("Perspective","").toLowerCase(),s.animProp="-"+s.cssPrefix+"-transform",!0;return!1}(),"vertical"===s.settings.mode&&(s.settings.maxSlides=s.settings.minSlides),o.data("origStyle",o.attr("style")),o.children(s.settings.slideSelector).each(function(){t(this).data("origStyle",t(this).attr("style"))}),d())},d=function(){var e=s.children.eq(s.settings.startSlide);o.wrap('<div class="'+s.settings.wrapperClass+'"><div class="bx-viewport"></div></div>'),s.viewport=o.parent(),s.settings.ariaLive&&!s.settings.ticker&&s.viewport.attr("aria-live","polite"),s.loader=t('<div class="bx-loading" />'),s.viewport.prepend(s.loader),o.css({width:"horizontal"===s.settings.mode?1e3*s.children.length+215+"%":"auto",position:"relative"}),s.usingCSS&&s.settings.easing?o.css("-"+s.cssPrefix+"-transition-timing-function",s.settings.easing):s.settings.easing||(s.settings.easing="swing"),s.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),s.viewport.parent().css({maxWidth:u()}),s.children.css({float:"horizontal"===s.settings.mode?"left":"none",listStyle:"none",position:"relative"}),s.children.css("width",h()),"horizontal"===s.settings.mode&&s.settings.slideMargin>0&&s.children.css("marginRight",s.settings.slideMargin),"vertical"===s.settings.mode&&s.settings.slideMargin>0&&s.children.css("marginBottom",s.settings.slideMargin),"fade"===s.settings.mode&&(s.children.css({position:"absolute",zIndex:0,display:"none"}),s.children.eq(s.settings.startSlide).css({zIndex:s.settings.slideZIndex,display:"block"})),s.controls.el=t('<div class="bx-controls" />'),s.settings.captions&&k(),s.active.last=s.settings.startSlide===f()-1,s.settings.video&&o.fitVids(),"none"===s.settings.preloadImages?e=null:("all"===s.settings.preloadImages||s.settings.ticker)&&(e=s.children),s.settings.ticker?s.settings.pager=!1:(s.settings.controls&&C(),s.settings.auto&&s.settings.autoControls&&T(),s.settings.pager&&b(),(s.settings.controls||s.settings.autoControls||s.settings.pager)&&s.viewport.after(s.controls.el)),null===e?g():c(e,g)},c=function(e,i){var n=e.find('img:not([src=""]), iframe').length,s=0;if(0===n)return void i();e.find('img:not([src=""]), iframe').each(function(){t(this).one("load error",function(){++s===n&&i()}).each(function(){(this.complete||""==this.src)&&t(this).trigger("load")})})},g=function(){if(s.settings.infiniteLoop&&"fade"!==s.settings.mode&&!s.settings.ticker){var e="vertical"===s.settings.mode?s.settings.minSlides:s.settings.maxSlides,i=s.children.slice(0,e).clone(!0).addClass("bx-clone"),n=s.children.slice(-e).clone(!0).addClass("bx-clone");s.settings.ariaHidden&&(i.attr("aria-hidden",!0),n.attr("aria-hidden",!0)),o.append(i).prepend(n)}s.loader.remove(),m(),"vertical"===s.settings.mode&&(s.settings.adaptiveHeight=!0),s.viewport.height(p()),o.redrawSlider(),s.settings.onSliderLoad.call(o,s.active.index),s.initialized=!0,s.settings.responsive&&t(window).on("resize",U),s.settings.auto&&s.settings.autoStart&&(f()>1||s.settings.autoSlideForOnePage)&&L(),s.settings.ticker&&O(),s.settings.pager&&z(s.settings.startSlide),s.settings.controls&&q(),s.settings.touchEnabled&&!s.settings.ticker&&X(),s.settings.keyboardEnabled&&!s.settings.ticker&&t(document).keydown(B)},p=function(){var e=0,n=t();if("vertical"===s.settings.mode||s.settings.adaptiveHeight)if(s.carousel){var o=1===s.settings.moveSlides?s.active.index:s.active.index*x();for(n=s.children.eq(o),i=1;i<=s.settings.maxSlides-1;i++)n=o+i>=s.children.length?n.add(s.children.eq(i-1)):n.add(s.children.eq(o+i))}else n=s.children.eq(s.active.index);else n=s.children;return"vertical"===s.settings.mode?(n.each(function(i){e+=t(this).outerHeight()}),s.settings.slideMargin>0&&(e+=s.settings.slideMargin*(s.settings.minSlides-1))):e=Math.max.apply(Math,n.map(function(){return t(this).outerHeight(!1)}).get()),"border-box"===s.viewport.css("box-sizing")?e+=parseFloat(s.viewport.css("padding-top"))+parseFloat(s.viewport.css("padding-bottom"))+parseFloat(s.viewport.css("border-top-width"))+parseFloat(s.viewport.css("border-bottom-width")):"padding-box"===s.viewport.css("box-sizing")&&(e+=parseFloat(s.viewport.css("padding-top"))+parseFloat(s.viewport.css("padding-bottom"))),e},u=function(){var t="100%";return s.settings.slideWidth>0&&(t="horizontal"===s.settings.mode?s.settings.maxSlides*s.settings.slideWidth+(s.settings.maxSlides-1)*s.settings.slideMargin:s.settings.slideWidth),t},h=function(){var t=s.settings.slideWidth,e=s.viewport.width();if(0===s.settings.slideWidth||s.settings.slideWidth>e&&!s.carousel||"vertical"===s.settings.mode)t=e;else if(s.settings.maxSlides>1&&"horizontal"===s.settings.mode){if(e>s.maxThreshold)return t;e<s.minThreshold?t=(e-s.settings.slideMargin*(s.settings.minSlides-1))/s.settings.minSlides:s.settings.shrinkItems&&(t=Math.floor((e+s.settings.slideMargin)/Math.ceil((e+s.settings.slideMargin)/(t+s.settings.slideMargin))-s.settings.slideMargin))}return t},v=function(){var t=1,e=null;return"horizontal"===s.settings.mode&&s.settings.slideWidth>0?s.viewport.width()<s.minThreshold?t=s.settings.minSlides:s.viewport.width()>s.maxThreshold?t=s.settings.maxSlides:(e=s.children.first().width()+s.settings.slideMargin,t=Math.floor((s.viewport.width()+s.settings.slideMargin)/e)||1):"vertical"===s.settings.mode&&(t=s.settings.minSlides),t},f=function(){var t=0,e=0,i=0;if(s.settings.moveSlides>0){if(!s.settings.infiniteLoop){for(;e<s.children.length;)++t,e=i+v(),i+=s.settings.moveSlides<=v()?s.settings.moveSlides:v();return i}t=Math.ceil(s.children.length/x())}else t=Math.ceil(s.children.length/v());return t},x=function(){return s.settings.moveSlides>0&&s.settings.moveSlides<=v()?s.settings.moveSlides:v()},m=function(){var t,e,i;s.children.length>s.settings.maxSlides&&s.active.last&&!s.settings.infiniteLoop?"horizontal"===s.settings.mode?(e=s.children.last(),t=e.position(),S(-(t.left-(s.viewport.width()-e.outerWidth())),"reset",0)):"vertical"===s.settings.mode&&(i=s.children.length-s.settings.minSlides,t=s.children.eq(i).position(),S(-t.top,"reset",0)):(t=s.children.eq(s.active.index*x()).position(),s.active.index===f()-1&&(s.active.last=!0),void 0!==t&&("horizontal"===s.settings.mode?S(-t.left,"reset",0):"vertical"===s.settings.mode&&S(-t.top,"reset",0)))},S=function(e,i,n,r){var a,l;s.usingCSS?(l="vertical"===s.settings.mode?"translate3d(0, "+e+"px, 0)":"translate3d("+e+"px, 0, 0)",o.css("-"+s.cssPrefix+"-transition-duration",n/1e3+"s"),"slide"===i?(o.css(s.animProp,l),0!==n?o.on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(e){t(e.target).is(o)&&(o.off("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),A())}):A()):"reset"===i?o.css(s.animProp,l):"ticker"===i&&(o.css("-"+s.cssPrefix+"-transition-timing-function","linear"),o.css(s.animProp,l),0!==n?o.on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(e){t(e.target).is(o)&&(o.off("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),S(r.resetValue,"reset",0),F())}):(S(r.resetValue,"reset",0),F()))):(a={},a[s.animProp]=e,"slide"===i?o.animate(a,n,s.settings.easing,function(){A()}):"reset"===i?o.css(s.animProp,e):"ticker"===i&&o.animate(a,n,"linear",function(){S(r.resetValue,"reset",0),F()}))},w=function(){for(var e="",i="",n=f(),o=0;o<n;o++)i="",s.settings.buildPager&&t.isFunction(s.settings.buildPager)||s.settings.pagerCustom?(i=s.settings.buildPager(o),s.pagerEl.addClass("bx-custom-pager")):(i=o+1,s.pagerEl.addClass("bx-default-pager")),e+='<div class="bx-pager-item"><a href="" data-slide-index="'+o+'" class="bx-pager-link">'+i+"</a></div>";s.pagerEl.html(e)},b=function(){s.settings.pagerCustom?s.pagerEl=t(s.settings.pagerCustom):(s.pagerEl=t('<div class="bx-pager" />'),s.settings.pagerSelector?t(s.settings.pagerSelector).html(s.pagerEl):s.controls.el.addClass("bx-has-pager").append(s.pagerEl),w()),s.pagerEl.on("click touchend","a",I)},C=function(){s.controls.next=t('<a class="bx-next" href="">'+s.settings.nextText+"</a>"),s.controls.prev=t('<a class="bx-prev" href="">'+s.settings.prevText+"</a>"),s.controls.next.on("click touchend",P),s.controls.prev.on("click touchend",E),s.settings.nextSelector&&t(s.settings.nextSelector).append(s.controls.next),s.settings.prevSelector&&t(s.settings.prevSelector).append(s.controls.prev),s.settings.nextSelector||s.settings.prevSelector||(s.controls.directionEl=t('<div class="bx-controls-direction" />'),s.controls.directionEl.append(s.controls.prev).append(s.controls.next),s.controls.el.addClass("bx-has-controls-direction").append(s.controls.directionEl))},T=function(){s.controls.start=t('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+s.settings.startText+"</a></div>"),s.controls.stop=t('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+s.settings.stopText+"</a></div>"),s.controls.autoEl=t('<div class="bx-controls-auto" />'),s.controls.autoEl.on("click",".bx-start",M),s.controls.autoEl.on("click",".bx-stop",y),s.settings.autoControlsCombine?s.controls.autoEl.append(s.controls.start):s.controls.autoEl.append(s.controls.start).append(s.controls.stop),s.settings.autoControlsSelector?t(s.settings.autoControlsSelector).html(s.controls.autoEl):s.controls.el.addClass("bx-has-controls-auto").append(s.controls.autoEl),D(s.settings.autoStart?"stop":"start")},k=function(){s.children.each(function(e){var i=t(this).find("img:first").attr("title");void 0!==i&&(""+i).length&&t(this).append('<div class="bx-caption"><span>'+i+"</span></div>")})},P=function(t){t.preventDefault(),s.controls.el.hasClass("disabled")||(s.settings.auto&&s.settings.stopAutoOnClick&&o.stopAuto(),o.goToNextSlide())},E=function(t){t.preventDefault(),s.controls.el.hasClass("disabled")||(s.settings.auto&&s.settings.stopAutoOnClick&&o.stopAuto(),o.goToPrevSlide())},M=function(t){o.startAuto(),t.preventDefault()},y=function(t){o.stopAuto(),t.preventDefault()},I=function(e){var i,n;e.preventDefault(),s.controls.el.hasClass("disabled")||(s.settings.auto&&s.settings.stopAutoOnClick&&o.stopAuto(),i=t(e.currentTarget),void 0!==i.attr("data-slide-index")&&(n=parseInt(i.attr("data-slide-index")))!==s.active.index&&o.goToSlide(n))},z=function(e){var i=s.children.length;if("short"===s.settings.pagerType)return s.settings.maxSlides>1&&(i=Math.ceil(s.children.length/s.settings.maxSlides)),void s.pagerEl.html(e+1+s.settings.pagerShortSeparator+i);s.pagerEl.find("a").removeClass("active"),s.pagerEl.each(function(i,n){t(n).find("a").eq(e).addClass("active")})},A=function(){if(s.settings.infiniteLoop){var t="";0===s.active.index?t=s.children.eq(0).position():s.active.index===f()-1&&s.carousel?t=s.children.eq((f()-1)*x()).position():s.active.index===s.children.length-1&&(t=s.children.eq(s.children.length-1).position()),t&&("horizontal"===s.settings.mode?S(-t.left,"reset",0):"vertical"===s.settings.mode&&S(-t.top,"reset",0))}s.working=!1,s.settings.onSlideAfter.call(o,s.children.eq(s.active.index),s.oldIndex,s.active.index)},D=function(t){s.settings.autoControlsCombine?s.controls.autoEl.html(s.controls[t]):(s.controls.autoEl.find("a").removeClass("active"),s.controls.autoEl.find("a:not(.bx-"+t+")").addClass("active"))},q=function(){1===f()?(s.controls.prev.addClass("disabled"),s.controls.next.addClass("disabled")):!s.settings.infiniteLoop&&s.settings.hideControlOnEnd&&(0===s.active.index?(s.controls.prev.addClass("disabled"),s.controls.next.removeClass("disabled")):s.active.index===f()-1?(s.controls.next.addClass("disabled"),s.controls.prev.removeClass("disabled")):(s.controls.prev.removeClass("disabled"),s.controls.next.removeClass("disabled")))},H=function(){o.startAuto()},W=function(){o.stopAuto()},L=function(){s.settings.autoDelay>0?setTimeout(o.startAuto,s.settings.autoDelay):(o.startAuto(),t(window).focus(H).blur(W)),s.settings.autoHover&&o.hover(function(){s.interval&&(o.stopAuto(!0),s.autoPaused=!0)},function(){s.autoPaused&&(o.startAuto(!0),s.autoPaused=null)})},O=function(){var e,i,n,r,a,l,d,c,g=0;"next"===s.settings.autoDirection?o.append(s.children.clone().addClass("bx-clone")):(o.prepend(s.children.clone().addClass("bx-clone")),e=s.children.first().position(),g="horizontal"===s.settings.mode?-e.left:-e.top),S(g,"reset",0),s.settings.pager=!1,s.settings.controls=!1,s.settings.autoControls=!1,s.settings.tickerHover&&(s.usingCSS?(r="horizontal"===s.settings.mode?4:5,s.viewport.hover(function(){i=o.css("-"+s.cssPrefix+"-transform"),n=parseFloat(i.split(",")[r]),S(n,"reset",0)},function(){c=0,s.children.each(function(e){c+="horizontal"===s.settings.mode?t(this).outerWidth(!0):t(this).outerHeight(!0)}),a=s.settings.speed/c,l="horizontal"===s.settings.mode?"left":"top",d=a*(c-Math.abs(parseInt(n))),F(d)})):s.viewport.hover(function(){o.stop()},function(){c=0,s.children.each(function(e){c+="horizontal"===s.settings.mode?t(this).outerWidth(!0):t(this).outerHeight(!0)}),a=s.settings.speed/c,l="horizontal"===s.settings.mode?"left":"top",d=a*(c-Math.abs(parseInt(o.css(l)))),F(d)})),F()},F=function(t){var e,i,n,r=t||s.settings.speed,a={left:0,top:0},l={left:0,top:0};"next"===s.settings.autoDirection?a=o.find(".bx-clone").first().position():l=s.children.first().position(),e="horizontal"===s.settings.mode?-a.left:-a.top,i="horizontal"===s.settings.mode?-l.left:-l.top,n={resetValue:i},S(e,"ticker",r,n)},N=function(e){var i=t(window),n={top:i.scrollTop(),left:i.scrollLeft()},s=e.offset();return n.right=n.left+i.width(),n.bottom=n.top+i.height(),s.right=s.left+e.outerWidth(),s.bottom=s.top+e.outerHeight(),!(n.right<s.left||n.left>s.right||n.bottom<s.top||n.top>s.bottom)},B=function(t){var e=document.activeElement.tagName.toLowerCase();if(null==new RegExp(e,["i"]).exec("input|textarea")&&N(o)){if(39===t.keyCode)return P(t),!1;if(37===t.keyCode)return E(t),!1}},X=function(){s.touch={start:{x:0,y:0},end:{x:0,y:0}},s.viewport.on("touchstart MSPointerDown pointerdown",Y),s.viewport.on("click",".bxslider a",function(t){s.viewport.hasClass("click-disabled")&&(t.preventDefault(),s.viewport.removeClass("click-disabled"))})},Y=function(t){if("touchstart"===t.type||0===t.button)if(t.preventDefault(),s.controls.el.addClass("disabled"),s.working)s.controls.el.removeClass("disabled");else{s.touch.originalPos=o.position();var e=t.originalEvent,i=void 0!==e.changedTouches?e.changedTouches:[e],n="function"==typeof PointerEvent;if(n&&void 0===e.pointerId)return;s.touch.start.x=i[0].pageX,s.touch.start.y=i[0].pageY,s.viewport.get(0).setPointerCapture&&(s.pointerId=e.pointerId,s.viewport.get(0).setPointerCapture(s.pointerId)),s.originalClickTarget=e.originalTarget||e.target,s.originalClickButton=e.button,s.originalClickButtons=e.buttons,s.originalEventType=e.type,s.hasMove=!1,s.viewport.on("touchmove MSPointerMove pointermove",R),s.viewport.on("touchend MSPointerUp pointerup",Z),s.viewport.on("MSPointerCancel pointercancel",V)}},V=function(t){t.preventDefault(),S(s.touch.originalPos.left,"reset",0),s.controls.el.removeClass("disabled"),s.viewport.off("MSPointerCancel pointercancel",V),s.viewport.off("touchmove MSPointerMove pointermove",R),s.viewport.off("touchend MSPointerUp pointerup",Z),s.viewport.get(0).releasePointerCapture&&s.viewport.get(0).releasePointerCapture(s.pointerId)},R=function(t){var e=t.originalEvent,i=void 0!==e.changedTouches?e.changedTouches:[e],n=Math.abs(i[0].pageX-s.touch.start.x),o=Math.abs(i[0].pageY-s.touch.start.y),r=0,a=0;s.hasMove=!0,3*n>o&&s.settings.preventDefaultSwipeX?t.preventDefault():3*o>n&&s.settings.preventDefaultSwipeY&&t.preventDefault(),"touchmove"!==t.type&&t.preventDefault(),"fade"!==s.settings.mode&&s.settings.oneToOneTouch&&("horizontal"===s.settings.mode?(a=i[0].pageX-s.touch.start.x,r=s.touch.originalPos.left+a):(a=i[0].pageY-s.touch.start.y,r=s.touch.originalPos.top+a),S(r,"reset",0))},Z=function(e){e.preventDefault(),s.viewport.off("touchmove MSPointerMove pointermove",R),s.controls.el.removeClass("disabled");var i=e.originalEvent,n=void 0!==i.changedTouches?i.changedTouches:[i],r=0,a=0;s.touch.end.x=n[0].pageX,s.touch.end.y=n[0].pageY,"fade"===s.settings.mode?(a=Math.abs(s.touch.start.x-s.touch.end.x))>=s.settings.swipeThreshold&&(s.touch.start.x>s.touch.end.x?o.goToNextSlide():o.goToPrevSlide(),o.stopAuto()):("horizontal"===s.settings.mode?(a=s.touch.end.x-s.touch.start.x,r=s.touch.originalPos.left):(a=s.touch.end.y-s.touch.start.y,r=s.touch.originalPos.top),!s.settings.infiniteLoop&&(0===s.active.index&&a>0||s.active.last&&a<0)?S(r,"reset",200):Math.abs(a)>=s.settings.swipeThreshold?(a<0?o.goToNextSlide():o.goToPrevSlide(),o.stopAuto()):S(r,"reset",200)),s.viewport.off("touchend MSPointerUp pointerup",Z),s.viewport.get(0).releasePointerCapture&&s.viewport.get(0).releasePointerCapture(s.pointerId),!1!==s.hasMove||0!==s.originalClickButton&&"touchstart"!==s.originalEventType||t(s.originalClickTarget).trigger({type:"click",button:s.originalClickButton,buttons:s.originalClickButtons})},U=function(e){if(s.initialized)if(s.working)window.setTimeout(U,10);else{var i=t(window).width(),n=t(window).height();r===i&&a===n||(r=i,a=n,o.redrawSlider(),s.settings.onSliderResize.call(o,s.active.index))}},j=function(t){var e=v();s.settings.ariaHidden&&!s.settings.ticker&&(s.children.attr("aria-hidden","true"),s.children.slice(t,t+e).attr("aria-hidden","false"))},Q=function(t){return t<0?s.settings.infiniteLoop?f()-1:s.active.index:t>=f()?s.settings.infiniteLoop?0:s.active.index:t};return o.goToSlide=function(e,i){var n,r,a,l,d=!0,c=0,g={left:0,top:0},u=null;if(s.oldIndex=s.active.index,s.active.index=Q(e),!s.working&&s.active.index!==s.oldIndex){if(s.working=!0,void 0!==(d=s.settings.onSlideBefore.call(o,s.children.eq(s.active.index),s.oldIndex,s.active.index))&&!d)return s.active.index=s.oldIndex,void(s.working=!1);"next"===i?s.settings.onSlideNext.call(o,s.children.eq(s.active.index),s.oldIndex,s.active.index)||(d=!1):"prev"===i&&(s.settings.onSlidePrev.call(o,s.children.eq(s.active.index),s.oldIndex,s.active.index)||(d=!1)),s.active.last=s.active.index>=f()-1,(s.settings.pager||s.settings.pagerCustom)&&z(s.active.index),s.settings.controls&&q(),"fade"===s.settings.mode?(s.settings.adaptiveHeight&&s.viewport.height()!==p()&&s.viewport.animate({height:p()},s.settings.adaptiveHeightSpeed),s.children.filter(":visible").fadeOut(s.settings.speed).css({zIndex:0}),s.children.eq(s.active.index).css("zIndex",s.settings.slideZIndex+1).fadeIn(s.settings.speed,function(){t(this).css("zIndex",s.settings.slideZIndex),A()})):(s.settings.adaptiveHeight&&s.viewport.height()!==p()&&s.viewport.animate({height:p()},s.settings.adaptiveHeightSpeed),!s.settings.infiniteLoop&&s.carousel&&s.active.last?"horizontal"===s.settings.mode?(u=s.children.eq(s.children.length-1),g=u.position(),c=s.viewport.width()-u.outerWidth()):(n=s.children.length-s.settings.minSlides,g=s.children.eq(n).position()):s.carousel&&s.active.last&&"prev"===i?(r=1===s.settings.moveSlides?s.settings.maxSlides-x():(f()-1)*x()-(s.children.length-s.settings.maxSlides),u=o.children(".bx-clone").eq(r),g=u.position()):"next"===i&&0===s.active.index?(g=o.find("> .bx-clone").eq(s.settings.maxSlides).position(),s.active.last=!1):e>=0&&(l=e*parseInt(x()),g=s.children.eq(l).position()),void 0!==g&&(a="horizontal"===s.settings.mode?-(g.left-c):-g.top,S(a,"slide",s.settings.speed)),s.working=!1),s.settings.ariaHidden&&j(s.active.index*x())}},o.goToNextSlide=function(){if((s.settings.infiniteLoop||!s.active.last)&&!0!==s.working){var t=parseInt(s.active.index)+1;o.goToSlide(t,"next")}},o.goToPrevSlide=function(){if((s.settings.infiniteLoop||0!==s.active.index)&&!0!==s.working){var t=parseInt(s.active.index)-1;o.goToSlide(t,"prev")}},o.startAuto=function(t){s.interval||(s.interval=setInterval(function(){"next"===s.settings.autoDirection?o.goToNextSlide():o.goToPrevSlide()},s.settings.pause),s.settings.onAutoChange.call(o,!0),s.settings.autoControls&&!0!==t&&D("stop"))},o.stopAuto=function(t){s.autoPaused&&(s.autoPaused=!1),s.interval&&(clearInterval(s.interval),s.interval=null,s.settings.onAutoChange.call(o,!1),s.settings.autoControls&&!0!==t&&D("start"))},o.getCurrentSlide=function(){return s.active.index},o.getCurrentSlideElement=function(){return s.children.eq(s.active.index)},o.getSlideElement=function(t){return s.children.eq(t)},o.getSlideCount=function(){return s.children.length},o.isWorking=function(){return s.working},o.redrawSlider=function(){s.children.add(o.find(".bx-clone")).outerWidth(h()),s.viewport.css("height",p()),s.settings.ticker||m(),s.active.last&&(s.active.index=f()-1),s.active.index>=f()&&(s.active.last=!0),s.settings.pager&&!s.settings.pagerCustom&&(w(),z(s.active.index)),s.settings.ariaHidden&&j(s.active.index*x())},o.destroySlider=function(){s.initialized&&(s.initialized=!1,t(".bx-clone",this).remove(),s.children.each(function(){void 0!==t(this).data("origStyle")?t(this).attr("style",t(this).data("origStyle")):t(this).removeAttr("style")}),void 0!==t(this).data("origStyle")?this.attr("style",t(this).data("origStyle")):t(this).removeAttr("style"),t(this).unwrap().unwrap(),s.controls.el&&s.controls.el.remove(),s.controls.next&&s.controls.next.remove(),s.controls.prev&&s.controls.prev.remove(),s.pagerEl&&s.settings.controls&&!s.settings.pagerCustom&&s.pagerEl.remove(),t(".bx-caption",this).remove(),s.controls.autoEl&&s.controls.autoEl.remove(),clearInterval(s.interval),s.settings.responsive&&t(window).off("resize",U),s.settings.keyboardEnabled&&t(document).off("keydown",B),t(this).removeData("bxSlider"),t(window).off("blur",W).off("focus",H))},o.reloadSlider=function(e){void 0!==e&&(n=e),o.destroySlider(),l(),t(o).data("bxSlider",this)},l(),t(o).data("bxSlider",this),this}}}(jQuery);
// ==================================================
// fancyBox v3.5.7
//
// Licensed GPLv3 for open source use
// or fancyBox Commercial License for commercial use
//
// http://fancyapps.com/fancybox/
// Copyright 2019 fancyApps
//
// ==================================================
!function(t,e,n,o){"use strict";function i(t,e){var o,i,a,s=[],r=0;t&&t.isDefaultPrevented()||(t.preventDefault(),e=e||{},t&&t.data&&(e=h(t.data.options,e)),o=e.$target||n(t.currentTarget).trigger("blur"),(a=n.fancybox.getInstance())&&a.$trigger&&a.$trigger.is(o)||(e.selector?s=n(e.selector):(i=o.attr("data-fancybox")||"",i?(s=t.data?t.data.items:[],s=s.length?s.filter('[data-fancybox="'+i+'"]'):n('[data-fancybox="'+i+'"]')):s=[o]),r=n(s).index(o),r<0&&(r=0),a=n.fancybox.open(s,e,r),a.$trigger=o))}if(t.console=t.console||{info:function(t){}},n){if(n.fn.fancybox)return void console.info("fancyBox already initialized");var a={closeExisting:!1,loop:!1,gutter:50,keyboard:!0,preventCaptionOverlap:!0,arrows:!0,infobar:!0,smallBtn:"auto",toolbar:"auto",buttons:["zoom","slideShow","thumbs","close"],idleTime:3,protect:!1,modal:!1,image:{preload:!1},ajax:{settings:{data:{fancybox:!0}}},iframe:{tpl:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" allowfullscreen="allowfullscreen" allow="autoplay; fullscreen" src=""></iframe>',preload:!0,css:{},attr:{scrolling:"auto"}},video:{tpl:'<video class="fancybox-video" controls controlsList="nodownload" poster="{{poster}}"><source src="{{src}}" type="{{format}}" />Sorry, your browser doesn\'t support embedded videos, <a href="{{src}}">download</a> and watch with your favorite video player!</video>',format:"",autoStart:!0},defaultType:"image",animationEffect:"zoom",animationDuration:366,zoomOpacity:"auto",transitionEffect:"fade",transitionDuration:366,slideClass:"",baseClass:"",baseTpl:'<div class="fancybox-container" role="dialog" tabindex="-1"><div class="fancybox-bg"></div><div class="fancybox-inner"><div class="fancybox-infobar"><span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span></div><div class="fancybox-toolbar">{{buttons}}</div><div class="fancybox-navigation">{{arrows}}</div><div class="fancybox-stage"></div><div class="fancybox-caption"><div class="fancybox-caption__body"></div></div></div></div>',spinnerTpl:'<div class="fancybox-loading"></div>',errorTpl:'<div class="fancybox-error"><p>{{ERROR}}</p></div>',btnTpl:{download:'<a download data-fancybox-download class="fancybox-button fancybox-button--download" title="{{DOWNLOAD}}" href="javascript:;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.62 17.09V19H5.38v-1.91zm-2.97-6.96L17 11.45l-5 4.87-5-4.87 1.36-1.32 2.68 2.64V5h1.92v7.77z"/></svg></a>',zoom:'<button data-fancybox-zoom class="fancybox-button fancybox-button--zoom" title="{{ZOOM}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.7 17.3l-3-3a5.9 5.9 0 0 0-.6-7.6 5.9 5.9 0 0 0-8.4 0 5.9 5.9 0 0 0 0 8.4 5.9 5.9 0 0 0 7.7.7l3 3a1 1 0 0 0 1.3 0c.4-.5.4-1 0-1.5zM8.1 13.8a4 4 0 0 1 0-5.7 4 4 0 0 1 5.7 0 4 4 0 0 1 0 5.7 4 4 0 0 1-5.7 0z"/></svg></button>',close:'<button data-fancybox-close class="fancybox-button fancybox-button--close" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 10.6L6.6 5.2 5.2 6.6l5.4 5.4-5.4 5.4 1.4 1.4 5.4-5.4 5.4 5.4 1.4-1.4-5.4-5.4 5.4-5.4-1.4-1.4-5.4 5.4z"/></svg></button>',arrowLeft:'<button data-fancybox-prev class="fancybox-button fancybox-button--arrow_left" title="{{PREV}}"><div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M11.28 15.7l-1.34 1.37L5 12l4.94-5.07 1.34 1.38-2.68 2.72H19v1.94H8.6z"/></svg></div></button>',arrowRight:'<button data-fancybox-next class="fancybox-button fancybox-button--arrow_right" title="{{NEXT}}"><div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.4 12.97l-2.68 2.72 1.34 1.38L19 12l-4.94-5.07-1.34 1.38 2.68 2.72H5v1.94z"/></svg></div></button>',smallBtn:'<button type="button" data-fancybox-close class="fancybox-button fancybox-close-small" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" version="1" viewBox="0 0 24 24"><path d="M13 12l5-5-1-1-5 5-5-5-1 1 5 5-5 5 1 1 5-5 5 5 1-1z"/></svg></button>'},parentEl:"body",hideScrollbar:!0,autoFocus:!0,backFocus:!0,trapFocus:!0,fullScreen:{autoStart:!1},touch:{vertical:!0,momentum:!0},hash:null,media:{},slideShow:{autoStart:!1,speed:3e3},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",axis:"y"},wheel:"auto",onInit:n.noop,beforeLoad:n.noop,afterLoad:n.noop,beforeShow:n.noop,afterShow:n.noop,beforeClose:n.noop,afterClose:n.noop,onActivate:n.noop,onDeactivate:n.noop,clickContent:function(t,e){return"image"===t.type&&"zoom"},clickSlide:"close",clickOutside:"close",dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1,mobile:{preventCaptionOverlap:!1,idleTime:!1,clickContent:function(t,e){return"image"===t.type&&"toggleControls"},clickSlide:function(t,e){return"image"===t.type?"toggleControls":"close"},dblclickContent:function(t,e){return"image"===t.type&&"zoom"},dblclickSlide:function(t,e){return"image"===t.type&&"zoom"}},lang:"en",i18n:{en:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",ERROR:"The requested content cannot be loaded. <br/> Please try again later.",PLAY_START:"Start slideshow",PLAY_STOP:"Pause slideshow",FULL_SCREEN:"Full screen",THUMBS:"Thumbnails",DOWNLOAD:"Download",SHARE:"Share",ZOOM:"Zoom"},de:{CLOSE:"Schlie&szlig;en",NEXT:"Weiter",PREV:"Zur&uuml;ck",ERROR:"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es sp&auml;ter nochmal.",PLAY_START:"Diaschau starten",PLAY_STOP:"Diaschau beenden",FULL_SCREEN:"Vollbild",THUMBS:"Vorschaubilder",DOWNLOAD:"Herunterladen",SHARE:"Teilen",ZOOM:"Vergr&ouml;&szlig;ern"}}},s=n(t),r=n(e),c=0,l=function(t){return t&&t.hasOwnProperty&&t instanceof n},d=function(){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||function(e){return t.setTimeout(e,1e3/60)}}(),u=function(){return t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.oCancelAnimationFrame||function(e){t.clearTimeout(e)}}(),f=function(){var t,n=e.createElement("fakeelement"),o={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in o)if(void 0!==n.style[t])return o[t];return"transitionend"}(),p=function(t){return t&&t.length&&t[0].offsetHeight},h=function(t,e){var o=n.extend(!0,{},t,e);return n.each(e,function(t,e){n.isArray(e)&&(o[t]=e)}),o},g=function(t){var o,i;return!(!t||t.ownerDocument!==e)&&(n(".fancybox-container").css("pointer-events","none"),o={x:t.getBoundingClientRect().left+t.offsetWidth/2,y:t.getBoundingClientRect().top+t.offsetHeight/2},i=e.elementFromPoint(o.x,o.y)===t,n(".fancybox-container").css("pointer-events",""),i)},b=function(t,e,o){var i=this;i.opts=h({index:o},n.fancybox.defaults),n.isPlainObject(e)&&(i.opts=h(i.opts,e)),n.fancybox.isMobile&&(i.opts=h(i.opts,i.opts.mobile)),i.id=i.opts.id||++c,i.currIndex=parseInt(i.opts.index,10)||0,i.prevIndex=null,i.prevPos=null,i.currPos=0,i.firstRun=!0,i.group=[],i.slides={},i.addContent(t),i.group.length&&i.init()};n.extend(b.prototype,{init:function(){var o,i,a=this,s=a.group[a.currIndex],r=s.opts;r.closeExisting&&n.fancybox.close(!0),n("body").addClass("fancybox-active"),!n.fancybox.getInstance()&&!1!==r.hideScrollbar&&!n.fancybox.isMobile&&e.body.scrollHeight>t.innerHeight&&(n("head").append('<style id="fancybox-style-noscroll" type="text/css">.compensate-for-scrollbar{margin-right:'+(t.innerWidth-e.documentElement.clientWidth)+"px;}</style>"),n("body").addClass("compensate-for-scrollbar")),i="",n.each(r.buttons,function(t,e){i+=r.btnTpl[e]||""}),o=n(a.translate(a,r.baseTpl.replace("{{buttons}}",i).replace("{{arrows}}",r.btnTpl.arrowLeft+r.btnTpl.arrowRight))).attr("id","fancybox-container-"+a.id).addClass(r.baseClass).data("FancyBox",a).appendTo(r.parentEl),a.$refs={container:o},["bg","inner","infobar","toolbar","stage","caption","navigation"].forEach(function(t){a.$refs[t]=o.find(".fancybox-"+t)}),a.trigger("onInit"),a.activate(),a.jumpTo(a.currIndex)},translate:function(t,e){var n=t.opts.i18n[t.opts.lang]||t.opts.i18n.en;return e.replace(/\{\{(\w+)\}\}/g,function(t,e){return void 0===n[e]?t:n[e]})},addContent:function(t){var e,o=this,i=n.makeArray(t);n.each(i,function(t,e){var i,a,s,r,c,l={},d={};n.isPlainObject(e)?(l=e,d=e.opts||e):"object"===n.type(e)&&n(e).length?(i=n(e),d=i.data()||{},d=n.extend(!0,{},d,d.options),d.$orig=i,l.src=o.opts.src||d.src||i.attr("href"),l.type||l.src||(l.type="inline",l.src=e)):l={type:"html",src:e+""},l.opts=n.extend(!0,{},o.opts,d),n.isArray(d.buttons)&&(l.opts.buttons=d.buttons),n.fancybox.isMobile&&l.opts.mobile&&(l.opts=h(l.opts,l.opts.mobile)),a=l.type||l.opts.type,r=l.src||"",!a&&r&&((s=r.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i))?(a="video",l.opts.video.format||(l.opts.video.format="video/"+("ogv"===s[1]?"ogg":s[1]))):r.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?a="image":r.match(/\.(pdf)((\?|#).*)?$/i)?(a="iframe",l=n.extend(!0,l,{contentType:"pdf",opts:{iframe:{preload:!1}}})):"#"===r.charAt(0)&&(a="inline")),a?l.type=a:o.trigger("objectNeedsType",l),l.contentType||(l.contentType=n.inArray(l.type,["html","inline","ajax"])>-1?"html":l.type),l.index=o.group.length,"auto"==l.opts.smallBtn&&(l.opts.smallBtn=n.inArray(l.type,["html","inline","ajax"])>-1),"auto"===l.opts.toolbar&&(l.opts.toolbar=!l.opts.smallBtn),l.$thumb=l.opts.$thumb||null,l.opts.$trigger&&l.index===o.opts.index&&(l.$thumb=l.opts.$trigger.find("img:first"),l.$thumb.length&&(l.opts.$orig=l.opts.$trigger)),l.$thumb&&l.$thumb.length||!l.opts.$orig||(l.$thumb=l.opts.$orig.find("img:first")),l.$thumb&&!l.$thumb.length&&(l.$thumb=null),l.thumb=l.opts.thumb||(l.$thumb?l.$thumb[0].src:null),"function"===n.type(l.opts.caption)&&(l.opts.caption=l.opts.caption.apply(e,[o,l])),"function"===n.type(o.opts.caption)&&(l.opts.caption=o.opts.caption.apply(e,[o,l])),l.opts.caption instanceof n||(l.opts.caption=void 0===l.opts.caption?"":l.opts.caption+""),"ajax"===l.type&&(c=r.split(/\s+/,2),c.length>1&&(l.src=c.shift(),l.opts.filter=c.shift())),l.opts.modal&&(l.opts=n.extend(!0,l.opts,{trapFocus:!0,infobar:0,toolbar:0,smallBtn:0,keyboard:0,slideShow:0,fullScreen:0,thumbs:0,touch:0,clickContent:!1,clickSlide:!1,clickOutside:!1,dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1})),o.group.push(l)}),Object.keys(o.slides).length&&(o.updateControls(),(e=o.Thumbs)&&e.isActive&&(e.create(),e.focus()))},addEvents:function(){var e=this;e.removeEvents(),e.$refs.container.on("click.fb-close","[data-fancybox-close]",function(t){t.stopPropagation(),t.preventDefault(),e.close(t)}).on("touchstart.fb-prev click.fb-prev","[data-fancybox-prev]",function(t){t.stopPropagation(),t.preventDefault(),e.previous()}).on("touchstart.fb-next click.fb-next","[data-fancybox-next]",function(t){t.stopPropagation(),t.preventDefault(),e.next()}).on("click.fb","[data-fancybox-zoom]",function(t){e[e.isScaledDown()?"scaleToActual":"scaleToFit"]()}),s.on("orientationchange.fb resize.fb",function(t){t&&t.originalEvent&&"resize"===t.originalEvent.type?(e.requestId&&u(e.requestId),e.requestId=d(function(){e.update(t)})):(e.current&&"iframe"===e.current.type&&e.$refs.stage.hide(),setTimeout(function(){e.$refs.stage.show(),e.update(t)},n.fancybox.isMobile?600:250))}),r.on("keydown.fb",function(t){var o=n.fancybox?n.fancybox.getInstance():null,i=o.current,a=t.keyCode||t.which;if(9==a)return void(i.opts.trapFocus&&e.focus(t));if(!(!i.opts.keyboard||t.ctrlKey||t.altKey||t.shiftKey||n(t.target).is("input,textarea,video,audio,select")))return 8===a||27===a?(t.preventDefault(),void e.close(t)):37===a||38===a?(t.preventDefault(),void e.previous()):39===a||40===a?(t.preventDefault(),void e.next()):void e.trigger("afterKeydown",t,a)}),e.group[e.currIndex].opts.idleTime&&(e.idleSecondsCounter=0,r.on("mousemove.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle",function(t){e.idleSecondsCounter=0,e.isIdle&&e.showControls(),e.isIdle=!1}),e.idleInterval=t.setInterval(function(){++e.idleSecondsCounter>=e.group[e.currIndex].opts.idleTime&&!e.isDragging&&(e.isIdle=!0,e.idleSecondsCounter=0,e.hideControls())},1e3))},removeEvents:function(){var e=this;s.off("orientationchange.fb resize.fb"),r.off("keydown.fb .fb-idle"),this.$refs.container.off(".fb-close .fb-prev .fb-next"),e.idleInterval&&(t.clearInterval(e.idleInterval),e.idleInterval=null)},previous:function(t){return this.jumpTo(this.currPos-1,t)},next:function(t){return this.jumpTo(this.currPos+1,t)},jumpTo:function(t,e){var o,i,a,s,r,c,l,d,u,f=this,h=f.group.length;if(!(f.isDragging||f.isClosing||f.isAnimating&&f.firstRun)){if(t=parseInt(t,10),!(a=f.current?f.current.opts.loop:f.opts.loop)&&(t<0||t>=h))return!1;if(o=f.firstRun=!Object.keys(f.slides).length,r=f.current,f.prevIndex=f.currIndex,f.prevPos=f.currPos,s=f.createSlide(t),h>1&&((a||s.index<h-1)&&f.createSlide(t+1),(a||s.index>0)&&f.createSlide(t-1)),f.current=s,f.currIndex=s.index,f.currPos=s.pos,f.trigger("beforeShow",o),f.updateControls(),s.forcedDuration=void 0,n.isNumeric(e)?s.forcedDuration=e:e=s.opts[o?"animationDuration":"transitionDuration"],e=parseInt(e,10),i=f.isMoved(s),s.$slide.addClass("fancybox-slide--current"),o)return s.opts.animationEffect&&e&&f.$refs.container.css("transition-duration",e+"ms"),f.$refs.container.addClass("fancybox-is-open").trigger("focus"),f.loadSlide(s),void f.preload("image");c=n.fancybox.getTranslate(r.$slide),l=n.fancybox.getTranslate(f.$refs.stage),n.each(f.slides,function(t,e){n.fancybox.stop(e.$slide,!0)}),r.pos!==s.pos&&(r.isComplete=!1),r.$slide.removeClass("fancybox-slide--complete fancybox-slide--current"),i?(u=c.left-(r.pos*c.width+r.pos*r.opts.gutter),n.each(f.slides,function(t,o){o.$slide.removeClass("fancybox-animated").removeClass(function(t,e){return(e.match(/(^|\s)fancybox-fx-\S+/g)||[]).join(" ")});var i=o.pos*c.width+o.pos*o.opts.gutter;n.fancybox.setTranslate(o.$slide,{top:0,left:i-l.left+u}),o.pos!==s.pos&&o.$slide.addClass("fancybox-slide--"+(o.pos>s.pos?"next":"previous")),p(o.$slide),n.fancybox.animate(o.$slide,{top:0,left:(o.pos-s.pos)*c.width+(o.pos-s.pos)*o.opts.gutter},e,function(){o.$slide.css({transform:"",opacity:""}).removeClass("fancybox-slide--next fancybox-slide--previous"),o.pos===f.currPos&&f.complete()})})):e&&s.opts.transitionEffect&&(d="fancybox-animated fancybox-fx-"+s.opts.transitionEffect,r.$slide.addClass("fancybox-slide--"+(r.pos>s.pos?"next":"previous")),n.fancybox.animate(r.$slide,d,e,function(){r.$slide.removeClass(d).removeClass("fancybox-slide--next fancybox-slide--previous")},!1)),s.isLoaded?f.revealContent(s):f.loadSlide(s),f.preload("image")}},createSlide:function(t){var e,o,i=this;return o=t%i.group.length,o=o<0?i.group.length+o:o,!i.slides[t]&&i.group[o]&&(e=n('<div class="fancybox-slide"></div>').appendTo(i.$refs.stage),i.slides[t]=n.extend(!0,{},i.group[o],{pos:t,$slide:e,isLoaded:!1}),i.updateSlide(i.slides[t])),i.slides[t]},scaleToActual:function(t,e,o){var i,a,s,r,c,l=this,d=l.current,u=d.$content,f=n.fancybox.getTranslate(d.$slide).width,p=n.fancybox.getTranslate(d.$slide).height,h=d.width,g=d.height;l.isAnimating||l.isMoved()||!u||"image"!=d.type||!d.isLoaded||d.hasError||(l.isAnimating=!0,n.fancybox.stop(u),t=void 0===t?.5*f:t,e=void 0===e?.5*p:e,i=n.fancybox.getTranslate(u),i.top-=n.fancybox.getTranslate(d.$slide).top,i.left-=n.fancybox.getTranslate(d.$slide).left,r=h/i.width,c=g/i.height,a=.5*f-.5*h,s=.5*p-.5*g,h>f&&(a=i.left*r-(t*r-t),a>0&&(a=0),a<f-h&&(a=f-h)),g>p&&(s=i.top*c-(e*c-e),s>0&&(s=0),s<p-g&&(s=p-g)),l.updateCursor(h,g),n.fancybox.animate(u,{top:s,left:a,scaleX:r,scaleY:c},o||366,function(){l.isAnimating=!1}),l.SlideShow&&l.SlideShow.isActive&&l.SlideShow.stop())},scaleToFit:function(t){var e,o=this,i=o.current,a=i.$content;o.isAnimating||o.isMoved()||!a||"image"!=i.type||!i.isLoaded||i.hasError||(o.isAnimating=!0,n.fancybox.stop(a),e=o.getFitPos(i),o.updateCursor(e.width,e.height),n.fancybox.animate(a,{top:e.top,left:e.left,scaleX:e.width/a.width(),scaleY:e.height/a.height()},t||366,function(){o.isAnimating=!1}))},getFitPos:function(t){var e,o,i,a,s=this,r=t.$content,c=t.$slide,l=t.width||t.opts.width,d=t.height||t.opts.height,u={};return!!(t.isLoaded&&r&&r.length)&&(e=n.fancybox.getTranslate(s.$refs.stage).width,o=n.fancybox.getTranslate(s.$refs.stage).height,e-=parseFloat(c.css("paddingLeft"))+parseFloat(c.css("paddingRight"))+parseFloat(r.css("marginLeft"))+parseFloat(r.css("marginRight")),o-=parseFloat(c.css("paddingTop"))+parseFloat(c.css("paddingBottom"))+parseFloat(r.css("marginTop"))+parseFloat(r.css("marginBottom")),l&&d||(l=e,d=o),i=Math.min(1,e/l,o/d),l*=i,d*=i,l>e-.5&&(l=e),d>o-.5&&(d=o),"image"===t.type?(u.top=Math.floor(.5*(o-d))+parseFloat(c.css("paddingTop")),u.left=Math.floor(.5*(e-l))+parseFloat(c.css("paddingLeft"))):"video"===t.contentType&&(a=t.opts.width&&t.opts.height?l/d:t.opts.ratio||16/9,d>l/a?d=l/a:l>d*a&&(l=d*a)),u.width=l,u.height=d,u)},update:function(t){var e=this;n.each(e.slides,function(n,o){e.updateSlide(o,t)})},updateSlide:function(t,e){var o=this,i=t&&t.$content,a=t.width||t.opts.width,s=t.height||t.opts.height,r=t.$slide;o.adjustCaption(t),i&&(a||s||"video"===t.contentType)&&!t.hasError&&(n.fancybox.stop(i),n.fancybox.setTranslate(i,o.getFitPos(t)),t.pos===o.currPos&&(o.isAnimating=!1,o.updateCursor())),o.adjustLayout(t),r.length&&(r.trigger("refresh"),t.pos===o.currPos&&o.$refs.toolbar.add(o.$refs.navigation.find(".fancybox-button--arrow_right")).toggleClass("compensate-for-scrollbar",r.get(0).scrollHeight>r.get(0).clientHeight)),o.trigger("onUpdate",t,e)},centerSlide:function(t){var e=this,o=e.current,i=o.$slide;!e.isClosing&&o&&(i.siblings().css({transform:"",opacity:""}),i.parent().children().removeClass("fancybox-slide--previous fancybox-slide--next"),n.fancybox.animate(i,{top:0,left:0,opacity:1},void 0===t?0:t,function(){i.css({transform:"",opacity:""}),o.isComplete||e.complete()},!1))},isMoved:function(t){var e,o,i=t||this.current;return!!i&&(o=n.fancybox.getTranslate(this.$refs.stage),e=n.fancybox.getTranslate(i.$slide),!i.$slide.hasClass("fancybox-animated")&&(Math.abs(e.top-o.top)>.5||Math.abs(e.left-o.left)>.5))},updateCursor:function(t,e){var o,i,a=this,s=a.current,r=a.$refs.container;s&&!a.isClosing&&a.Guestures&&(r.removeClass("fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-zoomOut fancybox-can-swipe fancybox-can-pan"),o=a.canPan(t,e),i=!!o||a.isZoomable(),r.toggleClass("fancybox-is-zoomable",i),n("[data-fancybox-zoom]").prop("disabled",!i),o?r.addClass("fancybox-can-pan"):i&&("zoom"===s.opts.clickContent||n.isFunction(s.opts.clickContent)&&"zoom"==s.opts.clickContent(s))?r.addClass("fancybox-can-zoomIn"):s.opts.touch&&(s.opts.touch.vertical||a.group.length>1)&&"video"!==s.contentType&&r.addClass("fancybox-can-swipe"))},isZoomable:function(){var t,e=this,n=e.current;if(n&&!e.isClosing&&"image"===n.type&&!n.hasError){if(!n.isLoaded)return!0;if((t=e.getFitPos(n))&&(n.width>t.width||n.height>t.height))return!0}return!1},isScaledDown:function(t,e){var o=this,i=!1,a=o.current,s=a.$content;return void 0!==t&&void 0!==e?i=t<a.width&&e<a.height:s&&(i=n.fancybox.getTranslate(s),i=i.width<a.width&&i.height<a.height),i},canPan:function(t,e){var o=this,i=o.current,a=null,s=!1;return"image"===i.type&&(i.isComplete||t&&e)&&!i.hasError&&(s=o.getFitPos(i),void 0!==t&&void 0!==e?a={width:t,height:e}:i.isComplete&&(a=n.fancybox.getTranslate(i.$content)),a&&s&&(s=Math.abs(a.width-s.width)>1.5||Math.abs(a.height-s.height)>1.5)),s},loadSlide:function(t){var e,o,i,a=this;if(!t.isLoading&&!t.isLoaded){if(t.isLoading=!0,!1===a.trigger("beforeLoad",t))return t.isLoading=!1,!1;switch(e=t.type,o=t.$slide,o.off("refresh").trigger("onReset").addClass(t.opts.slideClass),e){case"image":a.setImage(t);break;case"iframe":a.setIframe(t);break;case"html":a.setContent(t,t.src||t.content);break;case"video":a.setContent(t,t.opts.video.tpl.replace(/\{\{src\}\}/gi,t.src).replace("{{format}}",t.opts.videoFormat||t.opts.video.format||"").replace("{{poster}}",t.thumb||""));break;case"inline":n(t.src).length?a.setContent(t,n(t.src)):a.setError(t);break;case"ajax":a.showLoading(t),i=n.ajax(n.extend({},t.opts.ajax.settings,{url:t.src,success:function(e,n){"success"===n&&a.setContent(t,e)},error:function(e,n){e&&"abort"!==n&&a.setError(t)}})),o.one("onReset",function(){i.abort()});break;default:a.setError(t)}return!0}},setImage:function(t){var o,i=this;setTimeout(function(){var e=t.$image;i.isClosing||!t.isLoading||e&&e.length&&e[0].complete||t.hasError||i.showLoading(t)},50),i.checkSrcset(t),t.$content=n('<div class="fancybox-content"></div>').addClass("fancybox-is-hidden").appendTo(t.$slide.addClass("fancybox-slide--image")),!1!==t.opts.preload&&t.opts.width&&t.opts.height&&t.thumb&&(t.width=t.opts.width,t.height=t.opts.height,o=e.createElement("img"),o.onerror=function(){n(this).remove(),t.$ghost=null},o.onload=function(){i.afterLoad(t)},t.$ghost=n(o).addClass("fancybox-image").appendTo(t.$content).attr("src",t.thumb)),i.setBigImage(t)},checkSrcset:function(e){var n,o,i,a,s=e.opts.srcset||e.opts.image.srcset;if(s){i=t.devicePixelRatio||1,a=t.innerWidth*i,o=s.split(",").map(function(t){var e={};return t.trim().split(/\s+/).forEach(function(t,n){var o=parseInt(t.substring(0,t.length-1),10);if(0===n)return e.url=t;o&&(e.value=o,e.postfix=t[t.length-1])}),e}),o.sort(function(t,e){return t.value-e.value});for(var r=0;r<o.length;r++){var c=o[r];if("w"===c.postfix&&c.value>=a||"x"===c.postfix&&c.value>=i){n=c;break}}!n&&o.length&&(n=o[o.length-1]),n&&(e.src=n.url,e.width&&e.height&&"w"==n.postfix&&(e.height=e.width/e.height*n.value,e.width=n.value),e.opts.srcset=s)}},setBigImage:function(t){var o=this,i=e.createElement("img"),a=n(i);t.$image=a.one("error",function(){o.setError(t)}).one("load",function(){var e;t.$ghost||(o.resolveImageSlideSize(t,this.naturalWidth,this.naturalHeight),o.afterLoad(t)),o.isClosing||(t.opts.srcset&&(e=t.opts.sizes,e&&"auto"!==e||(e=(t.width/t.height>1&&s.width()/s.height()>1?"100":Math.round(t.width/t.height*100))+"vw"),a.attr("sizes",e).attr("srcset",t.opts.srcset)),t.$ghost&&setTimeout(function(){t.$ghost&&!o.isClosing&&t.$ghost.hide()},Math.min(300,Math.max(1e3,t.height/1600))),o.hideLoading(t))}).addClass("fancybox-image").attr("src",t.src).appendTo(t.$content),(i.complete||"complete"==i.readyState)&&a.naturalWidth&&a.naturalHeight?a.trigger("load"):i.error&&a.trigger("error")},resolveImageSlideSize:function(t,e,n){var o=parseInt(t.opts.width,10),i=parseInt(t.opts.height,10);t.width=e,t.height=n,o>0&&(t.width=o,t.height=Math.floor(o*n/e)),i>0&&(t.width=Math.floor(i*e/n),t.height=i)},setIframe:function(t){var e,o=this,i=t.opts.iframe,a=t.$slide;t.$content=n('<div class="fancybox-content'+(i.preload?" fancybox-is-hidden":"")+'"></div>').css(i.css).appendTo(a),a.addClass("fancybox-slide--"+t.contentType),t.$iframe=e=n(i.tpl.replace(/\{rnd\}/g,(new Date).getTime())).attr(i.attr).appendTo(t.$content),i.preload?(o.showLoading(t),e.on("load.fb error.fb",function(e){this.isReady=1,t.$slide.trigger("refresh"),o.afterLoad(t)}),a.on("refresh.fb",function(){var n,o,s=t.$content,r=i.css.width,c=i.css.height;if(1===e[0].isReady){try{n=e.contents(),o=n.find("body")}catch(t){}o&&o.length&&o.children().length&&(a.css("overflow","visible"),s.css({width:"100%","max-width":"100%",height:"9999px"}),void 0===r&&(r=Math.ceil(Math.max(o[0].clientWidth,o.outerWidth(!0)))),s.css("width",r||"").css("max-width",""),void 0===c&&(c=Math.ceil(Math.max(o[0].clientHeight,o.outerHeight(!0)))),s.css("height",c||""),a.css("overflow","auto")),s.removeClass("fancybox-is-hidden")}})):o.afterLoad(t),e.attr("src",t.src),a.one("onReset",function(){try{n(this).find("iframe").hide().unbind().attr("src","//about:blank")}catch(t){}n(this).off("refresh.fb").empty(),t.isLoaded=!1,t.isRevealed=!1})},setContent:function(t,e){var o=this;o.isClosing||(o.hideLoading(t),t.$content&&n.fancybox.stop(t.$content),t.$slide.empty(),l(e)&&e.parent().length?((e.hasClass("fancybox-content")||e.parent().hasClass("fancybox-content"))&&e.parents(".fancybox-slide").trigger("onReset"),t.$placeholder=n("<div>").hide().insertAfter(e),e.css("display","inline-block")):t.hasError||("string"===n.type(e)&&(e=n("<div>").append(n.trim(e)).contents()),t.opts.filter&&(e=n("<div>").html(e).find(t.opts.filter))),t.$slide.one("onReset",function(){n(this).find("video,audio").trigger("pause"),t.$placeholder&&(t.$placeholder.after(e.removeClass("fancybox-content").hide()).remove(),t.$placeholder=null),t.$smallBtn&&(t.$smallBtn.remove(),t.$smallBtn=null),t.hasError||(n(this).empty(),t.isLoaded=!1,t.isRevealed=!1)}),n(e).appendTo(t.$slide),n(e).is("video,audio")&&(n(e).addClass("fancybox-video"),n(e).wrap("<div></div>"),t.contentType="video",t.opts.width=t.opts.width||n(e).attr("width"),t.opts.height=t.opts.height||n(e).attr("height")),t.$content=t.$slide.children().filter("div,form,main,video,audio,article,.fancybox-content").first(),t.$content.siblings().hide(),t.$content.length||(t.$content=t.$slide.wrapInner("<div></div>").children().first()),t.$content.addClass("fancybox-content"),t.$slide.addClass("fancybox-slide--"+t.contentType),o.afterLoad(t))},setError:function(t){t.hasError=!0,t.$slide.trigger("onReset").removeClass("fancybox-slide--"+t.contentType).addClass("fancybox-slide--error"),t.contentType="html",this.setContent(t,this.translate(t,t.opts.errorTpl)),t.pos===this.currPos&&(this.isAnimating=!1)},showLoading:function(t){var e=this;(t=t||e.current)&&!t.$spinner&&(t.$spinner=n(e.translate(e,e.opts.spinnerTpl)).appendTo(t.$slide).hide().fadeIn("fast"))},hideLoading:function(t){var e=this;(t=t||e.current)&&t.$spinner&&(t.$spinner.stop().remove(),delete t.$spinner)},afterLoad:function(t){var e=this;e.isClosing||(t.isLoading=!1,t.isLoaded=!0,e.trigger("afterLoad",t),e.hideLoading(t),!t.opts.smallBtn||t.$smallBtn&&t.$smallBtn.length||(t.$smallBtn=n(e.translate(t,t.opts.btnTpl.smallBtn)).appendTo(t.$content)),t.opts.protect&&t.$content&&!t.hasError&&(t.$content.on("contextmenu.fb",function(t){return 2==t.button&&t.preventDefault(),!0}),"image"===t.type&&n('<div class="fancybox-spaceball"></div>').appendTo(t.$content)),e.adjustCaption(t),e.adjustLayout(t),t.pos===e.currPos&&e.updateCursor(),e.revealContent(t))},adjustCaption:function(t){var e,n=this,o=t||n.current,i=o.opts.caption,a=o.opts.preventCaptionOverlap,s=n.$refs.caption,r=!1;s.toggleClass("fancybox-caption--separate",a),a&&i&&i.length&&(o.pos!==n.currPos?(e=s.clone().appendTo(s.parent()),e.children().eq(0).empty().html(i),r=e.outerHeight(!0),e.empty().remove()):n.$caption&&(r=n.$caption.outerHeight(!0)),o.$slide.css("padding-bottom",r||""))},adjustLayout:function(t){var e,n,o,i,a=this,s=t||a.current;s.isLoaded&&!0!==s.opts.disableLayoutFix&&(s.$content.css("margin-bottom",""),s.$content.outerHeight()>s.$slide.height()+.5&&(o=s.$slide[0].style["padding-bottom"],i=s.$slide.css("padding-bottom"),parseFloat(i)>0&&(e=s.$slide[0].scrollHeight,s.$slide.css("padding-bottom",0),Math.abs(e-s.$slide[0].scrollHeight)<1&&(n=i),s.$slide.css("padding-bottom",o))),s.$content.css("margin-bottom",n))},revealContent:function(t){var e,o,i,a,s=this,r=t.$slide,c=!1,l=!1,d=s.isMoved(t),u=t.isRevealed;return t.isRevealed=!0,e=t.opts[s.firstRun?"animationEffect":"transitionEffect"],i=t.opts[s.firstRun?"animationDuration":"transitionDuration"],i=parseInt(void 0===t.forcedDuration?i:t.forcedDuration,10),!d&&t.pos===s.currPos&&i||(e=!1),"zoom"===e&&(t.pos===s.currPos&&i&&"image"===t.type&&!t.hasError&&(l=s.getThumbPos(t))?c=s.getFitPos(t):e="fade"),"zoom"===e?(s.isAnimating=!0,c.scaleX=c.width/l.width,c.scaleY=c.height/l.height,a=t.opts.zoomOpacity,"auto"==a&&(a=Math.abs(t.width/t.height-l.width/l.height)>.1),a&&(l.opacity=.1,c.opacity=1),n.fancybox.setTranslate(t.$content.removeClass("fancybox-is-hidden"),l),p(t.$content),void n.fancybox.animate(t.$content,c,i,function(){s.isAnimating=!1,s.complete()})):(s.updateSlide(t),e?(n.fancybox.stop(r),o="fancybox-slide--"+(t.pos>=s.prevPos?"next":"previous")+" fancybox-animated fancybox-fx-"+e,r.addClass(o).removeClass("fancybox-slide--current"),t.$content.removeClass("fancybox-is-hidden"),p(r),"image"!==t.type&&t.$content.hide().show(0),void n.fancybox.animate(r,"fancybox-slide--current",i,function(){r.removeClass(o).css({transform:"",opacity:""}),t.pos===s.currPos&&s.complete()},!0)):(t.$content.removeClass("fancybox-is-hidden"),u||!d||"image"!==t.type||t.hasError||t.$content.hide().fadeIn("fast"),void(t.pos===s.currPos&&s.complete())))},getThumbPos:function(t){var e,o,i,a,s,r=!1,c=t.$thumb;return!(!c||!g(c[0]))&&(e=n.fancybox.getTranslate(c),o=parseFloat(c.css("border-top-width")||0),i=parseFloat(c.css("border-right-width")||0),a=parseFloat(c.css("border-bottom-width")||0),s=parseFloat(c.css("border-left-width")||0),r={top:e.top+o,left:e.left+s,width:e.width-i-s,height:e.height-o-a,scaleX:1,scaleY:1},e.width>0&&e.height>0&&r)},complete:function(){var t,e=this,o=e.current,i={};!e.isMoved()&&o.isLoaded&&(o.isComplete||(o.isComplete=!0,o.$slide.siblings().trigger("onReset"),e.preload("inline"),p(o.$slide),o.$slide.addClass("fancybox-slide--complete"),n.each(e.slides,function(t,o){o.pos>=e.currPos-1&&o.pos<=e.currPos+1?i[o.pos]=o:o&&(n.fancybox.stop(o.$slide),o.$slide.off().remove())}),e.slides=i),e.isAnimating=!1,e.updateCursor(),e.trigger("afterShow"),o.opts.video.autoStart&&o.$slide.find("video,audio").filter(":visible:first").trigger("play").one("ended",function(){Document.exitFullscreen?Document.exitFullscreen():this.webkitExitFullscreen&&this.webkitExitFullscreen(),e.next()}),o.opts.autoFocus&&"html"===o.contentType&&(t=o.$content.find("input[autofocus]:enabled:visible:first"),t.length?t.trigger("focus"):e.focus(null,!0)),o.$slide.scrollTop(0).scrollLeft(0))},preload:function(t){var e,n,o=this;o.group.length<2||(n=o.slides[o.currPos+1],e=o.slides[o.currPos-1],e&&e.type===t&&o.loadSlide(e),n&&n.type===t&&o.loadSlide(n))},focus:function(t,o){var i,a,s=this,r=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","video","audio","[contenteditable]",'[tabindex]:not([tabindex^="-"])'].join(",");s.isClosing||(i=!t&&s.current&&s.current.isComplete?s.current.$slide.find("*:visible"+(o?":not(.fancybox-close-small)":"")):s.$refs.container.find("*:visible"),i=i.filter(r).filter(function(){return"hidden"!==n(this).css("visibility")&&!n(this).hasClass("disabled")}),i.length?(a=i.index(e.activeElement),t&&t.shiftKey?(a<0||0==a)&&(t.preventDefault(),i.eq(i.length-1).trigger("focus")):(a<0||a==i.length-1)&&(t&&t.preventDefault(),i.eq(0).trigger("focus"))):s.$refs.container.trigger("focus"))},activate:function(){var t=this;n(".fancybox-container").each(function(){var e=n(this).data("FancyBox");e&&e.id!==t.id&&!e.isClosing&&(e.trigger("onDeactivate"),e.removeEvents(),e.isVisible=!1)}),t.isVisible=!0,(t.current||t.isIdle)&&(t.update(),t.updateControls()),t.trigger("onActivate"),t.addEvents()},close:function(t,e){var o,i,a,s,r,c,l,u=this,f=u.current,h=function(){u.cleanUp(t)};return!u.isClosing&&(u.isClosing=!0,!1===u.trigger("beforeClose",t)?(u.isClosing=!1,d(function(){u.update()}),!1):(u.removeEvents(),a=f.$content,o=f.opts.animationEffect,i=n.isNumeric(e)?e:o?f.opts.animationDuration:0,f.$slide.removeClass("fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated"),!0!==t?n.fancybox.stop(f.$slide):o=!1,f.$slide.siblings().trigger("onReset").remove(),i&&u.$refs.container.removeClass("fancybox-is-open").addClass("fancybox-is-closing").css("transition-duration",i+"ms"),u.hideLoading(f),u.hideControls(!0),u.updateCursor(),"zoom"!==o||a&&i&&"image"===f.type&&!u.isMoved()&&!f.hasError&&(l=u.getThumbPos(f))||(o="fade"),"zoom"===o?(n.fancybox.stop(a),s=n.fancybox.getTranslate(a),c={top:s.top,left:s.left,scaleX:s.width/l.width,scaleY:s.height/l.height,width:l.width,height:l.height},r=f.opts.zoomOpacity,
"auto"==r&&(r=Math.abs(f.width/f.height-l.width/l.height)>.1),r&&(l.opacity=0),n.fancybox.setTranslate(a,c),p(a),n.fancybox.animate(a,l,i,h),!0):(o&&i?n.fancybox.animate(f.$slide.addClass("fancybox-slide--previous").removeClass("fancybox-slide--current"),"fancybox-animated fancybox-fx-"+o,i,h):!0===t?setTimeout(h,i):h(),!0)))},cleanUp:function(e){var o,i,a,s=this,r=s.current.opts.$orig;s.current.$slide.trigger("onReset"),s.$refs.container.empty().remove(),s.trigger("afterClose",e),s.current.opts.backFocus&&(r&&r.length&&r.is(":visible")||(r=s.$trigger),r&&r.length&&(i=t.scrollX,a=t.scrollY,r.trigger("focus"),n("html, body").scrollTop(a).scrollLeft(i))),s.current=null,o=n.fancybox.getInstance(),o?o.activate():(n("body").removeClass("fancybox-active compensate-for-scrollbar"),n("#fancybox-style-noscroll").remove())},trigger:function(t,e){var o,i=Array.prototype.slice.call(arguments,1),a=this,s=e&&e.opts?e:a.current;if(s?i.unshift(s):s=a,i.unshift(a),n.isFunction(s.opts[t])&&(o=s.opts[t].apply(s,i)),!1===o)return o;"afterClose"!==t&&a.$refs?a.$refs.container.trigger(t+".fb",i):r.trigger(t+".fb",i)},updateControls:function(){var t=this,o=t.current,i=o.index,a=t.$refs.container,s=t.$refs.caption,r=o.opts.caption;o.$slide.trigger("refresh"),r&&r.length?(t.$caption=s,s.children().eq(0).html(r)):t.$caption=null,t.hasHiddenControls||t.isIdle||t.showControls(),a.find("[data-fancybox-count]").html(t.group.length),a.find("[data-fancybox-index]").html(i+1),a.find("[data-fancybox-prev]").prop("disabled",!o.opts.loop&&i<=0),a.find("[data-fancybox-next]").prop("disabled",!o.opts.loop&&i>=t.group.length-1),"image"===o.type?a.find("[data-fancybox-zoom]").show().end().find("[data-fancybox-download]").attr("href",o.opts.image.src||o.src).show():o.opts.toolbar&&a.find("[data-fancybox-download],[data-fancybox-zoom]").hide(),n(e.activeElement).is(":hidden,[disabled]")&&t.$refs.container.trigger("focus")},hideControls:function(t){var e=this,n=["infobar","toolbar","nav"];!t&&e.current.opts.preventCaptionOverlap||n.push("caption"),this.$refs.container.removeClass(n.map(function(t){return"fancybox-show-"+t}).join(" ")),this.hasHiddenControls=!0},showControls:function(){var t=this,e=t.current?t.current.opts:t.opts,n=t.$refs.container;t.hasHiddenControls=!1,t.idleSecondsCounter=0,n.toggleClass("fancybox-show-toolbar",!(!e.toolbar||!e.buttons)).toggleClass("fancybox-show-infobar",!!(e.infobar&&t.group.length>1)).toggleClass("fancybox-show-caption",!!t.$caption).toggleClass("fancybox-show-nav",!!(e.arrows&&t.group.length>1)).toggleClass("fancybox-is-modal",!!e.modal)},toggleControls:function(){this.hasHiddenControls?this.showControls():this.hideControls()}}),n.fancybox={version:"3.5.7",defaults:a,getInstance:function(t){var e=n('.fancybox-container:not(".fancybox-is-closing"):last').data("FancyBox"),o=Array.prototype.slice.call(arguments,1);return e instanceof b&&("string"===n.type(t)?e[t].apply(e,o):"function"===n.type(t)&&t.apply(e,o),e)},open:function(t,e,n){return new b(t,e,n)},close:function(t){var e=this.getInstance();e&&(e.close(),!0===t&&this.close(t))},destroy:function(){this.close(!0),r.add("body").off("click.fb-start","**")},isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),use3d:function(){var n=e.createElement("div");return t.getComputedStyle&&t.getComputedStyle(n)&&t.getComputedStyle(n).getPropertyValue("transform")&&!(e.documentMode&&e.documentMode<11)}(),getTranslate:function(t){var e;return!(!t||!t.length)&&(e=t[0].getBoundingClientRect(),{top:e.top||0,left:e.left||0,width:e.width,height:e.height,opacity:parseFloat(t.css("opacity"))})},setTranslate:function(t,e){var n="",o={};if(t&&e)return void 0===e.left&&void 0===e.top||(n=(void 0===e.left?t.position().left:e.left)+"px, "+(void 0===e.top?t.position().top:e.top)+"px",n=this.use3d?"translate3d("+n+", 0px)":"translate("+n+")"),void 0!==e.scaleX&&void 0!==e.scaleY?n+=" scale("+e.scaleX+", "+e.scaleY+")":void 0!==e.scaleX&&(n+=" scaleX("+e.scaleX+")"),n.length&&(o.transform=n),void 0!==e.opacity&&(o.opacity=e.opacity),void 0!==e.width&&(o.width=e.width),void 0!==e.height&&(o.height=e.height),t.css(o)},animate:function(t,e,o,i,a){var s,r=this;n.isFunction(o)&&(i=o,o=null),r.stop(t),s=r.getTranslate(t),t.on(f,function(c){(!c||!c.originalEvent||t.is(c.originalEvent.target)&&"z-index"!=c.originalEvent.propertyName)&&(r.stop(t),n.isNumeric(o)&&t.css("transition-duration",""),n.isPlainObject(e)?void 0!==e.scaleX&&void 0!==e.scaleY&&r.setTranslate(t,{top:e.top,left:e.left,width:s.width*e.scaleX,height:s.height*e.scaleY,scaleX:1,scaleY:1}):!0!==a&&t.removeClass(e),n.isFunction(i)&&i(c))}),n.isNumeric(o)&&t.css("transition-duration",o+"ms"),n.isPlainObject(e)?(void 0!==e.scaleX&&void 0!==e.scaleY&&(delete e.width,delete e.height,t.parent().hasClass("fancybox-slide--image")&&t.parent().addClass("fancybox-is-scaling")),n.fancybox.setTranslate(t,e)):t.addClass(e),t.data("timer",setTimeout(function(){t.trigger(f)},o+33))},stop:function(t,e){t&&t.length&&(clearTimeout(t.data("timer")),e&&t.trigger(f),t.off(f).css("transition-duration",""),t.parent().removeClass("fancybox-is-scaling"))}},n.fn.fancybox=function(t){var e;return t=t||{},e=t.selector||!1,e?n("body").off("click.fb-start",e).on("click.fb-start",e,{options:t},i):this.off("click.fb-start").on("click.fb-start",{items:this,options:t},i),this},r.on("click.fb-start","[data-fancybox]",i),r.on("click.fb-start","[data-fancybox-trigger]",function(t){n('[data-fancybox="'+n(this).attr("data-fancybox-trigger")+'"]').eq(n(this).attr("data-fancybox-index")||0).trigger("click.fb-start",{$trigger:n(this)})}),function(){var t=null;r.on("mousedown mouseup focus blur",".fancybox-button",function(e){switch(e.type){case"mousedown":t=n(this);break;case"mouseup":t=null;break;case"focusin":n(".fancybox-button").removeClass("fancybox-focus"),n(this).is(t)||n(this).is("[disabled]")||n(this).addClass("fancybox-focus");break;case"focusout":n(".fancybox-button").removeClass("fancybox-focus")}})}()}}(window,document,jQuery),function(t){"use strict";var e={youtube:{matcher:/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*))(.*)/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},paramPlace:8,type:"iframe",url:"https://www.youtube-nocookie.com/embed/$4",thumb:"https://img.youtube.com/vi/$4/hqdefault.jpg"},vimeo:{matcher:/^.+vimeo.com\/(.*\/)?([\d]+)(.*)?/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1},paramPlace:3,type:"iframe",url:"//player.vimeo.com/video/$2"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size=l"},gmap_place:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(((maps\/(place\/(.*)\/)?\@(.*),(\d+.?\d+?)z))|(\?ll=))(.*)?/i,type:"iframe",url:function(t){return"//maps.google."+t[2]+"/?ll="+(t[9]?t[9]+"&z="+Math.floor(t[10])+(t[12]?t[12].replace(/^\//,"&"):""):t[12]+"").replace(/\?/,"&")+"&output="+(t[12]&&t[12].indexOf("layer=c")>0?"svembed":"embed")}},gmap_search:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(maps\/search\/)(.*)/i,type:"iframe",url:function(t){return"//maps.google."+t[2]+"/maps?q="+t[5].replace("query=","q=").replace("api=1","")+"&output=embed"}}},n=function(e,n,o){if(e)return o=o||"","object"===t.type(o)&&(o=t.param(o,!0)),t.each(n,function(t,n){e=e.replace("$"+t,n||"")}),o.length&&(e+=(e.indexOf("?")>0?"&":"?")+o),e};t(document).on("objectNeedsType.fb",function(o,i,a){var s,r,c,l,d,u,f,p=a.src||"",h=!1;s=t.extend(!0,{},e,a.opts.media),t.each(s,function(e,o){if(c=p.match(o.matcher)){if(h=o.type,f=e,u={},o.paramPlace&&c[o.paramPlace]){d=c[o.paramPlace],"?"==d[0]&&(d=d.substring(1)),d=d.split("&");for(var i=0;i<d.length;++i){var s=d[i].split("=",2);2==s.length&&(u[s[0]]=decodeURIComponent(s[1].replace(/\+/g," ")))}}return l=t.extend(!0,{},o.params,a.opts[e],u),p="function"===t.type(o.url)?o.url.call(this,c,l,a):n(o.url,c,l),r="function"===t.type(o.thumb)?o.thumb.call(this,c,l,a):n(o.thumb,c),"youtube"===e?p=p.replace(/&t=((\d+)m)?(\d+)s/,function(t,e,n,o){return"&start="+((n?60*parseInt(n,10):0)+parseInt(o,10))}):"vimeo"===e&&(p=p.replace("&%23","#")),!1}}),h?(a.opts.thumb||a.opts.$thumb&&a.opts.$thumb.length||(a.opts.thumb=r),"iframe"===h&&(a.opts=t.extend(!0,a.opts,{iframe:{preload:!1,attr:{scrolling:"no"}}})),t.extend(a,{type:h,src:p,origSrc:a.src,contentSource:f,contentType:"image"===h?"image":"gmap_place"==f||"gmap_search"==f?"map":"video"})):p&&(a.type=a.opts.defaultType)});var o={youtube:{src:"https://www.youtube.com/iframe_api",class:"YT",loading:!1,loaded:!1},vimeo:{src:"https://player.vimeo.com/api/player.js",class:"Vimeo",loading:!1,loaded:!1},load:function(t){var e,n=this;if(this[t].loaded)return void setTimeout(function(){n.done(t)});this[t].loading||(this[t].loading=!0,e=document.createElement("script"),e.type="text/javascript",e.src=this[t].src,"youtube"===t?window.onYouTubeIframeAPIReady=function(){n[t].loaded=!0,n.done(t)}:e.onload=function(){n[t].loaded=!0,n.done(t)},document.body.appendChild(e))},done:function(e){var n,o,i;"youtube"===e&&delete window.onYouTubeIframeAPIReady,(n=t.fancybox.getInstance())&&(o=n.current.$content.find("iframe"),"youtube"===e&&void 0!==YT&&YT?i=new YT.Player(o.attr("id"),{events:{onStateChange:function(t){0==t.data&&n.next()}}}):"vimeo"===e&&void 0!==Vimeo&&Vimeo&&(i=new Vimeo.Player(o),i.on("ended",function(){n.next()})))}};t(document).on({"afterShow.fb":function(t,e,n){e.group.length>1&&("youtube"===n.contentSource||"vimeo"===n.contentSource)&&o.load(n.contentSource)}})}(jQuery),function(t,e,n){"use strict";var o=function(){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||function(e){return t.setTimeout(e,1e3/60)}}(),i=function(){return t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.oCancelAnimationFrame||function(e){t.clearTimeout(e)}}(),a=function(e){var n=[];e=e.originalEvent||e||t.e,e=e.touches&&e.touches.length?e.touches:e.changedTouches&&e.changedTouches.length?e.changedTouches:[e];for(var o in e)e[o].pageX?n.push({x:e[o].pageX,y:e[o].pageY}):e[o].clientX&&n.push({x:e[o].clientX,y:e[o].clientY});return n},s=function(t,e,n){return e&&t?"x"===n?t.x-e.x:"y"===n?t.y-e.y:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)):0},r=function(t){if(t.is('a,area,button,[role="button"],input,label,select,summary,textarea,video,audio,iframe')||n.isFunction(t.get(0).onclick)||t.data("selectable"))return!0;for(var e=0,o=t[0].attributes,i=o.length;e<i;e++)if("data-fancybox-"===o[e].nodeName.substr(0,14))return!0;return!1},c=function(e){var n=t.getComputedStyle(e)["overflow-y"],o=t.getComputedStyle(e)["overflow-x"],i=("scroll"===n||"auto"===n)&&e.scrollHeight>e.clientHeight,a=("scroll"===o||"auto"===o)&&e.scrollWidth>e.clientWidth;return i||a},l=function(t){for(var e=!1;;){if(e=c(t.get(0)))break;if(t=t.parent(),!t.length||t.hasClass("fancybox-stage")||t.is("body"))break}return e},d=function(t){var e=this;e.instance=t,e.$bg=t.$refs.bg,e.$stage=t.$refs.stage,e.$container=t.$refs.container,e.destroy(),e.$container.on("touchstart.fb.touch mousedown.fb.touch",n.proxy(e,"ontouchstart"))};d.prototype.destroy=function(){var t=this;t.$container.off(".fb.touch"),n(e).off(".fb.touch"),t.requestId&&(i(t.requestId),t.requestId=null),t.tapped&&(clearTimeout(t.tapped),t.tapped=null)},d.prototype.ontouchstart=function(o){var i=this,c=n(o.target),d=i.instance,u=d.current,f=u.$slide,p=u.$content,h="touchstart"==o.type;if(h&&i.$container.off("mousedown.fb.touch"),(!o.originalEvent||2!=o.originalEvent.button)&&f.length&&c.length&&!r(c)&&!r(c.parent())&&(c.is("img")||!(o.originalEvent.clientX>c[0].clientWidth+c.offset().left))){if(!u||d.isAnimating||u.$slide.hasClass("fancybox-animated"))return o.stopPropagation(),void o.preventDefault();i.realPoints=i.startPoints=a(o),i.startPoints.length&&(u.touch&&o.stopPropagation(),i.startEvent=o,i.canTap=!0,i.$target=c,i.$content=p,i.opts=u.opts.touch,i.isPanning=!1,i.isSwiping=!1,i.isZooming=!1,i.isScrolling=!1,i.canPan=d.canPan(),i.startTime=(new Date).getTime(),i.distanceX=i.distanceY=i.distance=0,i.canvasWidth=Math.round(f[0].clientWidth),i.canvasHeight=Math.round(f[0].clientHeight),i.contentLastPos=null,i.contentStartPos=n.fancybox.getTranslate(i.$content)||{top:0,left:0},i.sliderStartPos=n.fancybox.getTranslate(f),i.stagePos=n.fancybox.getTranslate(d.$refs.stage),i.sliderStartPos.top-=i.stagePos.top,i.sliderStartPos.left-=i.stagePos.left,i.contentStartPos.top-=i.stagePos.top,i.contentStartPos.left-=i.stagePos.left,n(e).off(".fb.touch").on(h?"touchend.fb.touch touchcancel.fb.touch":"mouseup.fb.touch mouseleave.fb.touch",n.proxy(i,"ontouchend")).on(h?"touchmove.fb.touch":"mousemove.fb.touch",n.proxy(i,"ontouchmove")),n.fancybox.isMobile&&e.addEventListener("scroll",i.onscroll,!0),((i.opts||i.canPan)&&(c.is(i.$stage)||i.$stage.find(c).length)||(c.is(".fancybox-image")&&o.preventDefault(),n.fancybox.isMobile&&c.parents(".fancybox-caption").length))&&(i.isScrollable=l(c)||l(c.parent()),n.fancybox.isMobile&&i.isScrollable||o.preventDefault(),(1===i.startPoints.length||u.hasError)&&(i.canPan?(n.fancybox.stop(i.$content),i.isPanning=!0):i.isSwiping=!0,i.$container.addClass("fancybox-is-grabbing")),2===i.startPoints.length&&"image"===u.type&&(u.isLoaded||u.$ghost)&&(i.canTap=!1,i.isSwiping=!1,i.isPanning=!1,i.isZooming=!0,n.fancybox.stop(i.$content),i.centerPointStartX=.5*(i.startPoints[0].x+i.startPoints[1].x)-n(t).scrollLeft(),i.centerPointStartY=.5*(i.startPoints[0].y+i.startPoints[1].y)-n(t).scrollTop(),i.percentageOfImageAtPinchPointX=(i.centerPointStartX-i.contentStartPos.left)/i.contentStartPos.width,i.percentageOfImageAtPinchPointY=(i.centerPointStartY-i.contentStartPos.top)/i.contentStartPos.height,i.startDistanceBetweenFingers=s(i.startPoints[0],i.startPoints[1]))))}},d.prototype.onscroll=function(t){var n=this;n.isScrolling=!0,e.removeEventListener("scroll",n.onscroll,!0)},d.prototype.ontouchmove=function(t){var e=this;return void 0!==t.originalEvent.buttons&&0===t.originalEvent.buttons?void e.ontouchend(t):e.isScrolling?void(e.canTap=!1):(e.newPoints=a(t),void((e.opts||e.canPan)&&e.newPoints.length&&e.newPoints.length&&(e.isSwiping&&!0===e.isSwiping||t.preventDefault(),e.distanceX=s(e.newPoints[0],e.startPoints[0],"x"),e.distanceY=s(e.newPoints[0],e.startPoints[0],"y"),e.distance=s(e.newPoints[0],e.startPoints[0]),e.distance>0&&(e.isSwiping?e.onSwipe(t):e.isPanning?e.onPan():e.isZooming&&e.onZoom()))))},d.prototype.onSwipe=function(e){var a,s=this,r=s.instance,c=s.isSwiping,l=s.sliderStartPos.left||0;if(!0!==c)"x"==c&&(s.distanceX>0&&(s.instance.group.length<2||0===s.instance.current.index&&!s.instance.current.opts.loop)?l+=Math.pow(s.distanceX,.8):s.distanceX<0&&(s.instance.group.length<2||s.instance.current.index===s.instance.group.length-1&&!s.instance.current.opts.loop)?l-=Math.pow(-s.distanceX,.8):l+=s.distanceX),s.sliderLastPos={top:"x"==c?0:s.sliderStartPos.top+s.distanceY,left:l},s.requestId&&(i(s.requestId),s.requestId=null),s.requestId=o(function(){s.sliderLastPos&&(n.each(s.instance.slides,function(t,e){var o=e.pos-s.instance.currPos;n.fancybox.setTranslate(e.$slide,{top:s.sliderLastPos.top,left:s.sliderLastPos.left+o*s.canvasWidth+o*e.opts.gutter})}),s.$container.addClass("fancybox-is-sliding"))});else if(Math.abs(s.distance)>10){if(s.canTap=!1,r.group.length<2&&s.opts.vertical?s.isSwiping="y":r.isDragging||!1===s.opts.vertical||"auto"===s.opts.vertical&&n(t).width()>800?s.isSwiping="x":(a=Math.abs(180*Math.atan2(s.distanceY,s.distanceX)/Math.PI),s.isSwiping=a>45&&a<135?"y":"x"),"y"===s.isSwiping&&n.fancybox.isMobile&&s.isScrollable)return void(s.isScrolling=!0);r.isDragging=s.isSwiping,s.startPoints=s.newPoints,n.each(r.slides,function(t,e){var o,i;n.fancybox.stop(e.$slide),o=n.fancybox.getTranslate(e.$slide),i=n.fancybox.getTranslate(r.$refs.stage),e.$slide.css({transform:"",opacity:"","transition-duration":""}).removeClass("fancybox-animated").removeClass(function(t,e){return(e.match(/(^|\s)fancybox-fx-\S+/g)||[]).join(" ")}),e.pos===r.current.pos&&(s.sliderStartPos.top=o.top-i.top,s.sliderStartPos.left=o.left-i.left),n.fancybox.setTranslate(e.$slide,{top:o.top-i.top,left:o.left-i.left})}),r.SlideShow&&r.SlideShow.isActive&&r.SlideShow.stop()}},d.prototype.onPan=function(){var t=this;if(s(t.newPoints[0],t.realPoints[0])<(n.fancybox.isMobile?10:5))return void(t.startPoints=t.newPoints);t.canTap=!1,t.contentLastPos=t.limitMovement(),t.requestId&&i(t.requestId),t.requestId=o(function(){n.fancybox.setTranslate(t.$content,t.contentLastPos)})},d.prototype.limitMovement=function(){var t,e,n,o,i,a,s=this,r=s.canvasWidth,c=s.canvasHeight,l=s.distanceX,d=s.distanceY,u=s.contentStartPos,f=u.left,p=u.top,h=u.width,g=u.height;return i=h>r?f+l:f,a=p+d,t=Math.max(0,.5*r-.5*h),e=Math.max(0,.5*c-.5*g),n=Math.min(r-h,.5*r-.5*h),o=Math.min(c-g,.5*c-.5*g),l>0&&i>t&&(i=t-1+Math.pow(-t+f+l,.8)||0),l<0&&i<n&&(i=n+1-Math.pow(n-f-l,.8)||0),d>0&&a>e&&(a=e-1+Math.pow(-e+p+d,.8)||0),d<0&&a<o&&(a=o+1-Math.pow(o-p-d,.8)||0),{top:a,left:i}},d.prototype.limitPosition=function(t,e,n,o){var i=this,a=i.canvasWidth,s=i.canvasHeight;return n>a?(t=t>0?0:t,t=t<a-n?a-n:t):t=Math.max(0,a/2-n/2),o>s?(e=e>0?0:e,e=e<s-o?s-o:e):e=Math.max(0,s/2-o/2),{top:e,left:t}},d.prototype.onZoom=function(){var e=this,a=e.contentStartPos,r=a.width,c=a.height,l=a.left,d=a.top,u=s(e.newPoints[0],e.newPoints[1]),f=u/e.startDistanceBetweenFingers,p=Math.floor(r*f),h=Math.floor(c*f),g=(r-p)*e.percentageOfImageAtPinchPointX,b=(c-h)*e.percentageOfImageAtPinchPointY,m=(e.newPoints[0].x+e.newPoints[1].x)/2-n(t).scrollLeft(),v=(e.newPoints[0].y+e.newPoints[1].y)/2-n(t).scrollTop(),y=m-e.centerPointStartX,x=v-e.centerPointStartY,w=l+(g+y),$=d+(b+x),S={top:$,left:w,scaleX:f,scaleY:f};e.canTap=!1,e.newWidth=p,e.newHeight=h,e.contentLastPos=S,e.requestId&&i(e.requestId),e.requestId=o(function(){n.fancybox.setTranslate(e.$content,e.contentLastPos)})},d.prototype.ontouchend=function(t){var o=this,s=o.isSwiping,r=o.isPanning,c=o.isZooming,l=o.isScrolling;if(o.endPoints=a(t),o.dMs=Math.max((new Date).getTime()-o.startTime,1),o.$container.removeClass("fancybox-is-grabbing"),n(e).off(".fb.touch"),e.removeEventListener("scroll",o.onscroll,!0),o.requestId&&(i(o.requestId),o.requestId=null),o.isSwiping=!1,o.isPanning=!1,o.isZooming=!1,o.isScrolling=!1,o.instance.isDragging=!1,o.canTap)return o.onTap(t);o.speed=100,o.velocityX=o.distanceX/o.dMs*.5,o.velocityY=o.distanceY/o.dMs*.5,r?o.endPanning():c?o.endZooming():o.endSwiping(s,l)},d.prototype.endSwiping=function(t,e){var o=this,i=!1,a=o.instance.group.length,s=Math.abs(o.distanceX),r="x"==t&&a>1&&(o.dMs>130&&s>10||s>50);o.sliderLastPos=null,"y"==t&&!e&&Math.abs(o.distanceY)>50?(n.fancybox.animate(o.instance.current.$slide,{top:o.sliderStartPos.top+o.distanceY+150*o.velocityY,opacity:0},200),i=o.instance.close(!0,250)):r&&o.distanceX>0?i=o.instance.previous(300):r&&o.distanceX<0&&(i=o.instance.next(300)),!1!==i||"x"!=t&&"y"!=t||o.instance.centerSlide(200),o.$container.removeClass("fancybox-is-sliding")},d.prototype.endPanning=function(){var t,e,o,i=this;i.contentLastPos&&(!1===i.opts.momentum||i.dMs>350?(t=i.contentLastPos.left,e=i.contentLastPos.top):(t=i.contentLastPos.left+500*i.velocityX,e=i.contentLastPos.top+500*i.velocityY),o=i.limitPosition(t,e,i.contentStartPos.width,i.contentStartPos.height),o.width=i.contentStartPos.width,o.height=i.contentStartPos.height,n.fancybox.animate(i.$content,o,366))},d.prototype.endZooming=function(){var t,e,o,i,a=this,s=a.instance.current,r=a.newWidth,c=a.newHeight;a.contentLastPos&&(t=a.contentLastPos.left,e=a.contentLastPos.top,i={top:e,left:t,width:r,height:c,scaleX:1,scaleY:1},n.fancybox.setTranslate(a.$content,i),r<a.canvasWidth&&c<a.canvasHeight?a.instance.scaleToFit(150):r>s.width||c>s.height?a.instance.scaleToActual(a.centerPointStartX,a.centerPointStartY,150):(o=a.limitPosition(t,e,r,c),n.fancybox.animate(a.$content,o,150)))},d.prototype.onTap=function(e){var o,i=this,s=n(e.target),r=i.instance,c=r.current,l=e&&a(e)||i.startPoints,d=l[0]?l[0].x-n(t).scrollLeft()-i.stagePos.left:0,u=l[0]?l[0].y-n(t).scrollTop()-i.stagePos.top:0,f=function(t){var o=c.opts[t];if(n.isFunction(o)&&(o=o.apply(r,[c,e])),o)switch(o){case"close":r.close(i.startEvent);break;case"toggleControls":r.toggleControls();break;case"next":r.next();break;case"nextOrClose":r.group.length>1?r.next():r.close(i.startEvent);break;case"zoom":"image"==c.type&&(c.isLoaded||c.$ghost)&&(r.canPan()?r.scaleToFit():r.isScaledDown()?r.scaleToActual(d,u):r.group.length<2&&r.close(i.startEvent))}};if((!e.originalEvent||2!=e.originalEvent.button)&&(s.is("img")||!(d>s[0].clientWidth+s.offset().left))){if(s.is(".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container"))o="Outside";else if(s.is(".fancybox-slide"))o="Slide";else{if(!r.current.$content||!r.current.$content.find(s).addBack().filter(s).length)return;o="Content"}if(i.tapped){if(clearTimeout(i.tapped),i.tapped=null,Math.abs(d-i.tapX)>50||Math.abs(u-i.tapY)>50)return this;f("dblclick"+o)}else i.tapX=d,i.tapY=u,c.opts["dblclick"+o]&&c.opts["dblclick"+o]!==c.opts["click"+o]?i.tapped=setTimeout(function(){i.tapped=null,r.isAnimating||f("click"+o)},500):f("click"+o);return this}},n(e).on("onActivate.fb",function(t,e){e&&!e.Guestures&&(e.Guestures=new d(e))}).on("beforeClose.fb",function(t,e){e&&e.Guestures&&e.Guestures.destroy()})}(window,document,jQuery),function(t,e){"use strict";e.extend(!0,e.fancybox.defaults,{btnTpl:{slideShow:'<button data-fancybox-play class="fancybox-button fancybox-button--play" title="{{PLAY_START}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.5 5.4v13.2l11-6.6z"/></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.33 5.75h2.2v12.5h-2.2V5.75zm5.15 0h2.2v12.5h-2.2V5.75z"/></svg></button>'},slideShow:{autoStart:!1,speed:3e3,progress:!0}});var n=function(t){this.instance=t,this.init()};e.extend(n.prototype,{timer:null,isActive:!1,$button:null,init:function(){var t=this,n=t.instance,o=n.group[n.currIndex].opts.slideShow;t.$button=n.$refs.toolbar.find("[data-fancybox-play]").on("click",function(){t.toggle()}),n.group.length<2||!o?t.$button.hide():o.progress&&(t.$progress=e('<div class="fancybox-progress"></div>').appendTo(n.$refs.inner))},set:function(t){var n=this,o=n.instance,i=o.current;i&&(!0===t||i.opts.loop||o.currIndex<o.group.length-1)?n.isActive&&"video"!==i.contentType&&(n.$progress&&e.fancybox.animate(n.$progress.show(),{scaleX:1},i.opts.slideShow.speed),n.timer=setTimeout(function(){o.current.opts.loop||o.current.index!=o.group.length-1?o.next():o.jumpTo(0)},i.opts.slideShow.speed)):(n.stop(),o.idleSecondsCounter=0,o.showControls())},clear:function(){var t=this;clearTimeout(t.timer),t.timer=null,t.$progress&&t.$progress.removeAttr("style").hide()},start:function(){var t=this,e=t.instance.current;e&&(t.$button.attr("title",(e.opts.i18n[e.opts.lang]||e.opts.i18n.en).PLAY_STOP).removeClass("fancybox-button--play").addClass("fancybox-button--pause"),t.isActive=!0,e.isComplete&&t.set(!0),t.instance.trigger("onSlideShowChange",!0))},stop:function(){var t=this,e=t.instance.current;t.clear(),t.$button.attr("title",(e.opts.i18n[e.opts.lang]||e.opts.i18n.en).PLAY_START).removeClass("fancybox-button--pause").addClass("fancybox-button--play"),t.isActive=!1,t.instance.trigger("onSlideShowChange",!1),t.$progress&&t.$progress.removeAttr("style").hide()},toggle:function(){var t=this;t.isActive?t.stop():t.start()}}),e(t).on({"onInit.fb":function(t,e){e&&!e.SlideShow&&(e.SlideShow=new n(e))},"beforeShow.fb":function(t,e,n,o){var i=e&&e.SlideShow;o?i&&n.opts.slideShow.autoStart&&i.start():i&&i.isActive&&i.clear()},"afterShow.fb":function(t,e,n){var o=e&&e.SlideShow;o&&o.isActive&&o.set()},"afterKeydown.fb":function(n,o,i,a,s){var r=o&&o.SlideShow;!r||!i.opts.slideShow||80!==s&&32!==s||e(t.activeElement).is("button,a,input")||(a.preventDefault(),r.toggle())},"beforeClose.fb onDeactivate.fb":function(t,e){var n=e&&e.SlideShow;n&&n.stop()}}),e(t).on("visibilitychange",function(){var n=e.fancybox.getInstance(),o=n&&n.SlideShow;o&&o.isActive&&(t.hidden?o.clear():o.set())})}(document,jQuery),function(t,e){"use strict";var n=function(){for(var e=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n={},o=0;o<e.length;o++){var i=e[o];if(i&&i[1]in t){for(var a=0;a<i.length;a++)n[e[0][a]]=i[a];return n}}return!1}();if(n){var o={request:function(e){e=e||t.documentElement,e[n.requestFullscreen](e.ALLOW_KEYBOARD_INPUT)},exit:function(){t[n.exitFullscreen]()},toggle:function(e){e=e||t.documentElement,this.isFullscreen()?this.exit():this.request(e)},isFullscreen:function(){return Boolean(t[n.fullscreenElement])},enabled:function(){return Boolean(t[n.fullscreenEnabled])}};e.extend(!0,e.fancybox.defaults,{btnTpl:{fullScreen:'<button data-fancybox-fullscreen class="fancybox-button fancybox-button--fsenter" title="{{FULL_SCREEN}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z"/></svg></button>'},fullScreen:{autoStart:!1}}),e(t).on(n.fullscreenchange,function(){var t=o.isFullscreen(),n=e.fancybox.getInstance();n&&(n.current&&"image"===n.current.type&&n.isAnimating&&(n.isAnimating=!1,n.update(!0,!0,0),n.isComplete||n.complete()),n.trigger("onFullscreenChange",t),n.$refs.container.toggleClass("fancybox-is-fullscreen",t),n.$refs.toolbar.find("[data-fancybox-fullscreen]").toggleClass("fancybox-button--fsenter",!t).toggleClass("fancybox-button--fsexit",t))})}e(t).on({"onInit.fb":function(t,e){var i;if(!n)return void e.$refs.toolbar.find("[data-fancybox-fullscreen]").remove();e&&e.group[e.currIndex].opts.fullScreen?(i=e.$refs.container,i.on("click.fb-fullscreen","[data-fancybox-fullscreen]",function(t){t.stopPropagation(),t.preventDefault(),o.toggle()}),e.opts.fullScreen&&!0===e.opts.fullScreen.autoStart&&o.request(),e.FullScreen=o):e&&e.$refs.toolbar.find("[data-fancybox-fullscreen]").hide()},"afterKeydown.fb":function(t,e,n,o,i){e&&e.FullScreen&&70===i&&(o.preventDefault(),e.FullScreen.toggle())},"beforeClose.fb":function(t,e){e&&e.FullScreen&&e.$refs.container.hasClass("fancybox-is-fullscreen")&&o.exit()}})}(document,jQuery),function(t,e){"use strict";var n="fancybox-thumbs";e.fancybox.defaults=e.extend(!0,{btnTpl:{thumbs:'<button data-fancybox-thumbs class="fancybox-button fancybox-button--thumbs" title="{{THUMBS}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.59 14.59h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76H5.65V5.65z"/></svg></button>'},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",axis:"y"}},e.fancybox.defaults);var o=function(t){this.init(t)};e.extend(o.prototype,{$button:null,$grid:null,$list:null,isVisible:!1,isActive:!1,init:function(t){var e=this,n=t.group,o=0;e.instance=t,e.opts=n[t.currIndex].opts.thumbs,t.Thumbs=e,e.$button=t.$refs.toolbar.find("[data-fancybox-thumbs]");for(var i=0,a=n.length;i<a&&(n[i].thumb&&o++,!(o>1));i++);o>1&&e.opts?(e.$button.removeAttr("style").on("click",function(){e.toggle()}),e.isActive=!0):e.$button.hide()},create:function(){var t,o=this,i=o.instance,a=o.opts.parentEl,s=[];o.$grid||(o.$grid=e('<div class="'+n+" "+n+"-"+o.opts.axis+'"></div>').appendTo(i.$refs.container.find(a).addBack().filter(a)),o.$grid.on("click","a",function(){i.jumpTo(e(this).attr("data-index"))})),o.$list||(o.$list=e('<div class="'+n+'__list">').appendTo(o.$grid)),e.each(i.group,function(e,n){t=n.thumb,t||"image"!==n.type||(t=n.src),s.push('<a href="javascript:;" tabindex="0" data-index="'+e+'"'+(t&&t.length?' style="background-image:url('+t+')"':'class="fancybox-thumbs-missing"')+"></a>")}),o.$list[0].innerHTML=s.join(""),"x"===o.opts.axis&&o.$list.width(parseInt(o.$grid.css("padding-right"),10)+i.group.length*o.$list.children().eq(0).outerWidth(!0))},focus:function(t){var e,n,o=this,i=o.$list,a=o.$grid;o.instance.current&&(e=i.children().removeClass("fancybox-thumbs-active").filter('[data-index="'+o.instance.current.index+'"]').addClass("fancybox-thumbs-active"),n=e.position(),"y"===o.opts.axis&&(n.top<0||n.top>i.height()-e.outerHeight())?i.stop().animate({scrollTop:i.scrollTop()+n.top},t):"x"===o.opts.axis&&(n.left<a.scrollLeft()||n.left>a.scrollLeft()+(a.width()-e.outerWidth()))&&i.parent().stop().animate({scrollLeft:n.left},t))},update:function(){var t=this;t.instance.$refs.container.toggleClass("fancybox-show-thumbs",this.isVisible),t.isVisible?(t.$grid||t.create(),t.instance.trigger("onThumbsShow"),t.focus(0)):t.$grid&&t.instance.trigger("onThumbsHide"),t.instance.update()},hide:function(){this.isVisible=!1,this.update()},show:function(){this.isVisible=!0,this.update()},toggle:function(){this.isVisible=!this.isVisible,this.update()}}),e(t).on({"onInit.fb":function(t,e){var n;e&&!e.Thumbs&&(n=new o(e),n.isActive&&!0===n.opts.autoStart&&n.show())},"beforeShow.fb":function(t,e,n,o){var i=e&&e.Thumbs;i&&i.isVisible&&i.focus(o?0:250)},"afterKeydown.fb":function(t,e,n,o,i){var a=e&&e.Thumbs;a&&a.isActive&&71===i&&(o.preventDefault(),a.toggle())},"beforeClose.fb":function(t,e){var n=e&&e.Thumbs;n&&n.isVisible&&!1!==n.opts.hideOnClose&&n.$grid.hide()}})}(document,jQuery),function(t,e){"use strict";function n(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(t).replace(/[&<>"'`=\/]/g,function(t){return e[t]})}e.extend(!0,e.fancybox.defaults,{btnTpl:{share:'<button data-fancybox-share class="fancybox-button fancybox-button--share" title="{{SHARE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M2.55 19c1.4-8.4 9.1-9.8 11.9-9.8V5l7 7-7 6.3v-3.5c-2.8 0-10.5 2.1-11.9 4.2z"/></svg></button>'},share:{url:function(t,e){return!t.currentHash&&"inline"!==e.type&&"html"!==e.type&&(e.origSrc||e.src)||window.location},
tpl:'<div class="fancybox-share"><h1>{{SHARE}}</h1><p><a class="fancybox-share__button fancybox-share__button--fb" href="https://www.facebook.com/sharer/sharer.php?u={{url}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m287 456v-299c0-21 6-35 35-35h38v-63c-7-1-29-3-55-3-54 0-91 33-91 94v306m143-254h-205v72h196" /></svg><span>Facebook</span></a><a class="fancybox-share__button fancybox-share__button--tw" href="https://twitter.com/intent/tweet?url={{url}}&text={{descr}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m456 133c-14 7-31 11-47 13 17-10 30-27 37-46-15 10-34 16-52 20-61-62-157-7-141 75-68-3-129-35-169-85-22 37-11 86 26 109-13 0-26-4-37-9 0 39 28 72 65 80-12 3-25 4-37 2 10 33 41 57 77 57-42 30-77 38-122 34 170 111 378-32 359-208 16-11 30-25 41-42z" /></svg><span>Twitter</span></a><a class="fancybox-share__button fancybox-share__button--pt" href="https://www.pinterest.com/pin/create/button/?url={{url}}&description={{descr}}&media={{media}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m265 56c-109 0-164 78-164 144 0 39 15 74 47 87 5 2 10 0 12-5l4-19c2-6 1-8-3-13-9-11-15-25-15-45 0-58 43-110 113-110 62 0 96 38 96 88 0 67-30 122-73 122-24 0-42-19-36-44 6-29 20-60 20-81 0-19-10-35-31-35-25 0-44 26-44 60 0 21 7 36 7 36l-30 125c-8 37-1 83 0 87 0 3 4 4 5 2 2-3 32-39 42-75l16-64c8 16 31 29 56 29 74 0 124-67 124-157 0-69-58-132-146-132z" fill="#fff"/></svg><span>Pinterest</span></a></p><p><input class="fancybox-share__input" type="text" value="{{url_raw}}" onclick="select()" /></p></div>'}}),e(t).on("click","[data-fancybox-share]",function(){var t,o,i=e.fancybox.getInstance(),a=i.current||null;a&&("function"===e.type(a.opts.share.url)&&(t=a.opts.share.url.apply(a,[i,a])),o=a.opts.share.tpl.replace(/\{\{media\}\}/g,"image"===a.type?encodeURIComponent(a.src):"").replace(/\{\{url\}\}/g,encodeURIComponent(t)).replace(/\{\{url_raw\}\}/g,n(t)).replace(/\{\{descr\}\}/g,i.$caption?encodeURIComponent(i.$caption.text()):""),e.fancybox.open({src:i.translate(i,o),type:"html",opts:{touch:!1,animationEffect:!1,afterLoad:function(t,e){i.$refs.container.one("beforeClose.fb",function(){t.close(null,0)}),e.$content.find(".fancybox-share__button").click(function(){return window.open(this.href,"Share","width=550, height=450"),!1})},mobile:{autoFocus:!1}}}))})}(document,jQuery),function(t,e,n){"use strict";function o(){var e=t.location.hash.substr(1),n=e.split("-"),o=n.length>1&&/^\+?\d+$/.test(n[n.length-1])?parseInt(n.pop(-1),10)||1:1,i=n.join("-");return{hash:e,index:o<1?1:o,gallery:i}}function i(t){""!==t.gallery&&n("[data-fancybox='"+n.escapeSelector(t.gallery)+"']").eq(t.index-1).focus().trigger("click.fb-start")}function a(t){var e,n;return!!t&&(e=t.current?t.current.opts:t.opts,""!==(n=e.hash||(e.$orig?e.$orig.data("fancybox")||e.$orig.data("fancybox-trigger"):""))&&n)}n.escapeSelector||(n.escapeSelector=function(t){return(t+"").replace(/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,function(t,e){return e?"\0"===t?"":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t})}),n(function(){!1!==n.fancybox.defaults.hash&&(n(e).on({"onInit.fb":function(t,e){var n,i;!1!==e.group[e.currIndex].opts.hash&&(n=o(),(i=a(e))&&n.gallery&&i==n.gallery&&(e.currIndex=n.index-1))},"beforeShow.fb":function(n,o,i,s){var r;i&&!1!==i.opts.hash&&(r=a(o))&&(o.currentHash=r+(o.group.length>1?"-"+(i.index+1):""),t.location.hash!=="#"+o.currentHash&&(s&&!o.origHash&&(o.origHash=t.location.hash),o.hashTimer&&clearTimeout(o.hashTimer),o.hashTimer=setTimeout(function(){"replaceState"in t.history?(t.history[s?"pushState":"replaceState"]({},e.title,t.location.pathname+t.location.search+"#"+o.currentHash),s&&(o.hasCreatedHistory=!0)):t.location.hash=o.currentHash,o.hashTimer=null},300)))},"beforeClose.fb":function(n,o,i){i&&!1!==i.opts.hash&&(clearTimeout(o.hashTimer),o.currentHash&&o.hasCreatedHistory?t.history.back():o.currentHash&&("replaceState"in t.history?t.history.replaceState({},e.title,t.location.pathname+t.location.search+(o.origHash||"")):t.location.hash=o.origHash),o.currentHash=null)}}),n(t).on("hashchange.fb",function(){var t=o(),e=null;n.each(n(".fancybox-container").get().reverse(),function(t,o){var i=n(o).data("FancyBox");if(i&&i.currentHash)return e=i,!1}),e?e.currentHash===t.gallery+"-"+t.index||1===t.index&&e.currentHash==t.gallery||(e.currentHash=null,e.close()):""!==t.gallery&&i(t)}),setTimeout(function(){n.fancybox.getInstance()||i(o())},50))})}(window,document,jQuery),function(t,e){"use strict";var n=(new Date).getTime();e(t).on({"onInit.fb":function(t,e,o){e.$refs.stage.on("mousewheel DOMMouseScroll wheel MozMousePixelScroll",function(t){var o=e.current,i=(new Date).getTime();e.group.length<2||!1===o.opts.wheel||"auto"===o.opts.wheel&&"image"!==o.type||(t.preventDefault(),t.stopPropagation(),o.$slide.hasClass("fancybox-animated")||(t=t.originalEvent||t,i-n<250||(n=i,e[(-t.deltaY||-t.deltaX||t.wheelDelta||-t.detail)<0?"next":"previous"]())))})}})}(document,jQuery);
/**
 * @license
 * Video.js 8.3.0 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).videojs=t()}(this,function(){"use strict";var R="8.3.0";const U={},B=function(e,t){return U[e]=U[e]||[],t&&(U[e]=U[e].concat(t)),U[e]};function F(e,t){return!((t=B(e).indexOf(t))<=-1||(U[e]=U[e].slice(),U[e].splice(t,1),0))}const j={prefixed:!0};var H=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],q=H[0];let V;for(let e=0;e<H.length;e++)if(H[e][1]in document){V=H[e];break}if(V){for(let e=0;e<V.length;e++)j[q[e]]=V[e];j.prefixed=V[0]!==q[0]}let l=[];function $(e){return K(e)?Object.keys(e):[]}const d=function t(i){let s="info",r;function n(...e){r("log",s,e)}var a,o;return r=(a=i,(t,i,s)=>{var e,i=o.levels[i],r=new RegExp(`^(${i})$`);if("log"!==t&&s.unshift(t.toUpperCase()+":"),s.unshift(a+":"),l&&(l.push([].concat(s)),e=l.length-1e3,l.splice(0,0<e?e:0)),window.console){let e=window.console[t];(e=e||"debug"!==t?e:window.console.info||window.console.log)&&i&&r.test(t)&&e[Array.isArray(s)?"apply":"call"](window.console,s)}}),(o=n).createLogger=e=>t(i+": "+e),n.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:s},n.level=e=>{if("string"==typeof e){if(!n.levels.hasOwnProperty(e))throw new Error(`"${e}" in not a valid log level`);s=e}return s},n.history=()=>l?[].concat(l):[],n.history.filter=t=>(l||[]).filter(e=>new RegExp(`.*${t}.*`).test(e[0])),n.history.clear=()=>{l&&(l.length=0)},n.history.disable=()=>{null!==l&&(l.length=0,l=null)},n.history.enable=()=>{null===l&&(l=[])},n.error=(...e)=>r("error",s,e),n.warn=(...e)=>r("warn",s,e),n.debug=(...e)=>r("debug",s,e),n}("VIDEOJS"),W=d.createLogger,G=Object.prototype.toString;function z(t,i){$(t).forEach(e=>i(t[e],e))}function X(i,s,e=0){return $(i).reduce((e,t)=>s(e,i[t],t),e)}function K(e){return!!e&&"object"==typeof e}function Y(e){return K(e)&&"[object Object]"===G.call(e)&&e.constructor===Object}function h(...e){const i={};return e.forEach(e=>{e&&z(e,(e,t)=>{Y(e)?(Y(i[t])||(i[t]={}),i[t]=h(i[t],e)):i[t]=e})}),i}function Q(t,i,s,e=!0){const r=e=>Object.defineProperty(t,i,{value:e,enumerable:!0,writable:!0});var n={configurable:!0,enumerable:!0,get(){var e=s();return r(e),e}};return e&&(n.set=r),Object.defineProperty(t,i,n)}var J=Object.freeze({__proto__:null,each:z,reduce:X,isObject:K,isPlain:Y,merge:h,defineLazyProperty:Q});let Z=!1,ee=null,te=!1,ie,se=!1,re=!1,ne=!1,ae=!1,oe=null,le=null,de=null,he=!1,ue=!1,ce=!1,pe=!1;const me=Boolean(_e()&&("ontouchstart"in window||window.navigator.maxTouchPoints||window.DocumentTouch&&window.document instanceof window.DocumentTouch));var ge,e=window.navigator&&window.navigator.userAgentData;if(e&&(te="Android"===e.platform,re=Boolean(e.brands.find(e=>"Microsoft Edge"===e.brand)),ne=Boolean(e.brands.find(e=>"Chromium"===e.brand)),ae=!re&&ne,oe=le=(e.brands.find(e=>"Chromium"===e.brand)||{}).version||null,ue="Windows"===e.platform),!ne){const M=window.navigator&&window.navigator.userAgent||"";Z=/iPod/i.test(M),ee=(e=M.match(/OS (\d+)_/i))&&e[1]?e[1]:null,te=/Android/i.test(M),ie=(e=M.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i))?(mt=e[1]&&parseFloat(e[1]),ge=e[2]&&parseFloat(e[2]),mt&&ge?parseFloat(e[1]+"."+e[2]):mt||null):null,se=/Firefox/i.test(M),re=/Edg/i.test(M),ne=/Chrome/i.test(M)||/CriOS/i.test(M),ae=!re&&ne,oe=le=(ge=M.match(/(Chrome|CriOS)\/(\d+)/))&&ge[2]?parseFloat(ge[2]):null,de=function(){var e=/MSIE\s(\d+)\.\d/.exec(M);let t=e&&parseFloat(e[1]);return t=!t&&/Trident\/7.0/i.test(M)&&/rv:11.0/.test(M)?11:t}(),he=/Safari/i.test(M)&&!ae&&!te&&!re,ue=/Windows/i.test(M),ce=/iPad/i.test(M)||he&&me&&!/iPhone/i.test(M),pe=/iPhone/i.test(M)&&!ce}const u=pe||ce||Z,fe=(he||u)&&!ae;e=Object.freeze({__proto__:null,get IS_IPOD(){return Z},get IOS_VERSION(){return ee},get IS_ANDROID(){return te},get ANDROID_VERSION(){return ie},get IS_FIREFOX(){return se},get IS_EDGE(){return re},get IS_CHROMIUM(){return ne},get IS_CHROME(){return ae},get CHROMIUM_VERSION(){return oe},get CHROME_VERSION(){return le},get IE_VERSION(){return de},get IS_SAFARI(){return he},get IS_WINDOWS(){return ue},get IS_IPAD(){return ce},get IS_IPHONE(){return pe},TOUCH_ENABLED:me,IS_IOS:u,IS_ANY_SAFARI:fe});function ye(e){return"string"==typeof e&&Boolean(e.trim())}function _e(){return document===window.document}function ve(e){return K(e)&&1===e.nodeType}function be(){try{return window.parent!==window.self}catch(e){return!0}}function Te(i){return function(e,t){return ye(e)?(t=ve(t=ye(t)?document.querySelector(t):t)?t:document)[i]&&t[i](e):document[i](null)}}function o(e="div",i={},t={},s){const r=document.createElement(e);return Object.getOwnPropertyNames(i).forEach(function(e){var t=i[e];"textContent"===e?Se(r,t):r[e]===t&&"tabIndex"!==e||(r[e]=t)}),Object.getOwnPropertyNames(t).forEach(function(e){r.setAttribute(e,t[e])}),s&&He(r,s),r}function Se(e,t){return"undefined"==typeof e.textContent?e.innerText=t:e.textContent=t,e}function we(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function Ee(e,t){if(0<=t.indexOf(" "))throw new Error("class has illegal whitespace characters");return e.classList.contains(t)}function ke(e,...t){return e.classList.add(...t.reduce((e,t)=>e.concat(t.split(/\s+/)),[])),e}function Ce(e,...t){return e?(e.classList.remove(...t.reduce((e,t)=>e.concat(t.split(/\s+/)),[])),e):(d.warn("removeClass was called with an element that doesn't exist"),null)}function Ie(t,e,i){return"boolean"!=typeof(i="function"==typeof i?i(t,e):i)&&(i=void 0),e.split(/\s+/).forEach(e=>t.classList.toggle(e,i)),t}function xe(i,s){Object.getOwnPropertyNames(s).forEach(function(e){var t=s[e];null===t||"undefined"==typeof t||!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})}function Ae(i){var s={};if(i&&i.attributes&&0<i.attributes.length){var r=i.attributes;for(let t=r.length-1;0<=t;t--){var n=r[t].name;let e=r[t].value;"boolean"!=typeof i[n]&&-1===",autoplay,controls,playsinline,loop,muted,default,defaultMuted,".indexOf(","+n+",")||(e=null!==e),s[n]=e}}return s}function Pe(e,t){return e.getAttribute(t)}function Le(e,t,i){e.setAttribute(t,i)}function Oe(e,t){e.removeAttribute(t)}function De(){document.body.focus(),document.onselectstart=function(){return!1}}function Ne(){document.onselectstart=function(){return!0}}function Me(e){if(e&&e.getBoundingClientRect&&e.parentNode){const t=e.getBoundingClientRect(),i={};return["bottom","height","left","right","top","width"].forEach(e=>{void 0!==t[e]&&(i[e]=t[e])}),i.height||(i.height=parseFloat(Ge(e,"height"))),i.width||(i.width=parseFloat(Ge(e,"width"))),i}}function Re(e){if(!e||!e.offsetParent)return{left:0,top:0,width:0,height:0};var t=e.offsetWidth,i=e.offsetHeight;let s=0,r=0;for(;e.offsetParent&&e!==document[j.fullscreenElement];)s+=e.offsetLeft,r+=e.offsetTop,e=e.offsetParent;return{left:s,top:r,width:t,height:i}}function Ue(t,e){var i={x:0,y:0};if(u){let e=t;for(;e&&"html"!==e.nodeName.toLowerCase();){var s,r=Ge(e,"transform");/^matrix/.test(r)?(s=r.slice(7,-1).split(/,\s/).map(Number),i.x+=s[4],i.y+=s[5]):/^matrix3d/.test(r)&&(s=r.slice(9,-1).split(/,\s/).map(Number),i.x+=s[12],i.y+=s[13]),e=e.parentNode}}var n={},a=Re(e.target),t=Re(t),o=t.width,l=t.height;let d=e.offsetY-(t.top-a.top),h=e.offsetX-(t.left-a.left);return e.changedTouches&&(h=e.changedTouches[0].pageX-t.left,d=e.changedTouches[0].pageY+t.top,u)&&(h-=i.x,d-=i.y),n.y=1-Math.max(0,Math.min(1,d/l)),n.x=Math.max(0,Math.min(1,h/o)),n}function Be(e){return K(e)&&3===e.nodeType}function Fe(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function je(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map(e=>ve(e="function"==typeof e?e():e)||Be(e)?e:"string"==typeof e&&/\S/.test(e)?document.createTextNode(e):void 0).filter(e=>e)}function He(t,e){return je(e).forEach(e=>t.appendChild(e)),t}function qe(e,t){return He(Fe(e),t)}function Ve(e){return void 0===e.button&&void 0===e.buttons||0===e.button&&void 0===e.buttons||"mouseup"===e.type&&0===e.button&&0===e.buttons||0===e.button&&1===e.buttons}const $e=Te("querySelector"),We=Te("querySelectorAll");function Ge(t,i){if(!t||!i)return"";if("function"!=typeof window.getComputedStyle)return"";{let e;try{e=window.getComputedStyle(t)}catch(e){return""}return e?e.getPropertyValue(i)||e[i]:""}}var ze=Object.freeze({__proto__:null,isReal:_e,isEl:ve,isInFrame:be,createEl:o,textContent:Se,prependTo:we,hasClass:Ee,addClass:ke,removeClass:Ce,toggleClass:Ie,setAttributes:xe,getAttributes:Ae,getAttribute:Pe,setAttribute:Le,removeAttribute:Oe,blockTextSelection:De,unblockTextSelection:Ne,getBoundingClientRect:Me,findPosition:Re,getPointerPosition:Ue,isTextNode:Be,emptyEl:Fe,normalizeContent:je,appendContent:He,insertContent:qe,isSingleLeftClick:Ve,$:$e,$$:We,computedStyle:Ge});let Xe=!1,Ke;function Ye(){if(!1!==Ke.options.autoSetup){var e=Array.prototype.slice.call(document.getElementsByTagName("video")),t=Array.prototype.slice.call(document.getElementsByTagName("audio")),i=Array.prototype.slice.call(document.getElementsByTagName("video-js")),s=e.concat(t,i);if(s&&0<s.length)for(let e=0,t=s.length;e<t;e++){var r=s[e];if(!r||!r.getAttribute){Qe(1);break}void 0===r.player&&null!==r.getAttribute("data-setup")&&Ke(r)}else Xe||Qe(1)}}function Qe(e,t){_e()&&(t&&(Ke=t),window.setTimeout(Ye,e))}function Je(){Xe=!0,window.removeEventListener("load",Je)}_e()&&("complete"===document.readyState?Je():window.addEventListener("load",Je));function Ze(e){var t=document.createElement("style");return t.className=e,t}function et(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t}var c=new WeakMap;let tt=3;function it(e,t){var i;c.has(e)&&(0===(i=c.get(e)).handlers[t].length&&(delete i.handlers[t],e.removeEventListener?e.removeEventListener(t,i.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,i.dispatcher)),Object.getOwnPropertyNames(i.handlers).length<=0&&(delete i.handlers,delete i.dispatcher,delete i.disabled),0===Object.getOwnPropertyNames(i).length)&&c.delete(e)}function st(t,i,e,s){e.forEach(function(e){t(i,e,s)})}function rt(e){if(!e.fixed_){if(!e||!e.isPropagationStopped||!e.isImmediatePropagationStopped){const n=e||window.event;e={};for(const a in n)"layerX"===a||"layerY"===a||"keyLocation"===a||"webkitMovementX"===a||"webkitMovementY"===a||"path"===a||"returnValue"===a&&n.preventDefault||(e[a]=n[a]);var t,i;e.target||(e.target=e.srcElement||document),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){n.preventDefault&&n.preventDefault(),e.returnValue=!1,n.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){n.stopPropagation&&n.stopPropagation(),e.cancelBubble=!0,n.cancelBubble=!0,e.isPropagationStopped=s},e.isPropagationStopped=r,e.stopImmediatePropagation=function(){n.stopImmediatePropagation&&n.stopImmediatePropagation(),e.isImmediatePropagationStopped=s,e.stopPropagation()},e.isImmediatePropagationStopped=r,null!==e.clientX&&void 0!==e.clientX&&(t=document.documentElement,i=document.body,e.pageX=e.clientX+(t&&t.scrollLeft||i&&i.scrollLeft||0)-(t&&t.clientLeft||i&&i.clientLeft||0),e.pageY=e.clientY+(t&&t.scrollTop||i&&i.scrollTop||0)-(t&&t.clientTop||i&&i.clientTop||0)),e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}e.fixed_=!0}return e;function s(){return!0}function r(){return!1}}let nt;const at=["touchstart","touchmove"];function ot(n,t,e){if(Array.isArray(t))return st(ot,n,t,e);c.has(n)||c.set(n,{});const a=c.get(n);if(a.handlers||(a.handlers={}),a.handlers[t]||(a.handlers[t]=[]),e.guid||(e.guid=tt++),a.handlers[t].push(e),a.dispatcher||(a.disabled=!1,a.dispatcher=function(i,s){if(!a.disabled){i=rt(i);var e=a.handlers[i.type];if(e){var r=e.slice(0);for(let e=0,t=r.length;e<t&&!i.isImmediatePropagationStopped();e++)try{r[e].call(n,i,s)}catch(e){d.error(e)}}}}),1===a.handlers[t].length)if(n.addEventListener){let e=!1;(function(){if("boolean"!=typeof nt){nt=!1;try{var e=Object.defineProperty({},"passive",{get(){nt=!0}});window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){}}return nt})()&&-1<at.indexOf(t)&&(e={passive:!0}),n.addEventListener(t,a.dispatcher,e)}else n.attachEvent&&n.attachEvent("on"+t,a.dispatcher)}function p(e,t,i){if(c.has(e)){const n=c.get(e);if(n.handlers){if(Array.isArray(t))return st(p,e,t,i);var s=function(e,t){n.handlers[t]=[],it(e,t)};if(void 0===t)for(const a in n.handlers)Object.prototype.hasOwnProperty.call(n.handlers||{},a)&&s(e,a);else{var r=n.handlers[t];if(r)if(i){if(i.guid)for(let e=0;e<r.length;e++)r[e].guid===i.guid&&r.splice(e--,1);it(e,t)}else s(e,t)}}}}function lt(e,t,i){var s=c.has(e)?c.get(e):{},r=e.parentNode||e.ownerDocument;return"string"==typeof t?t={type:t,target:e}:t.target||(t.target=e),t=rt(t),s.dispatcher&&s.dispatcher.call(e,t,i),r&&!t.isPropagationStopped()&&!0===t.bubbles?lt.call(null,r,t,i):!r&&!t.defaultPrevented&&t.target&&t.target[t.type]&&(c.has(t.target)||c.set(t.target,{}),s=c.get(t.target),t.target[t.type])&&(s.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),s.disabled=!1),!t.defaultPrevented}function dt(e,t,i){if(Array.isArray(t))return st(dt,e,t,i);function s(){p(e,t,s),i.apply(this,arguments)}s.guid=i.guid=i.guid||tt++,ot(e,t,s)}function ht(e,t,i){function s(){p(e,t,s),i.apply(this,arguments)}s.guid=i.guid=i.guid||tt++,ot(e,t,s)}var ut=Object.freeze({__proto__:null,fixEvent:rt,on:ot,off:p,trigger:lt,one:dt,any:ht});function m(e,t,i){return t.guid||(t.guid=tt++),(e=t.bind(e)).guid=i?i+"_"+t.guid:t.guid,e}function ct(i,s){let r=window.performance.now();return function(...e){var t=window.performance.now();t-r>=s&&(i(...e),r=t)}}function pt(s,r,n,a=window){let o;function e(){const e=this,t=arguments;let i=function(){o=null,i=null,n||s.apply(e,t)};!o&&n&&s.apply(e,t),a.clearTimeout(o),o=a.setTimeout(i,r)}return e.cancel=()=>{a.clearTimeout(o),o=null},e}var mt=Object.freeze({__proto__:null,UPDATE_REFRESH_INTERVAL:30,bind_:m,throttle:ct,debounce:pt});let gt;class ft{on(e,t){var i=this.addEventListener;this.addEventListener=()=>{},ot(this,e,t),this.addEventListener=i}off(e,t){p(this,e,t)}one(e,t){var i=this.addEventListener;this.addEventListener=()=>{},dt(this,e,t),this.addEventListener=i}any(e,t){var i=this.addEventListener;this.addEventListener=()=>{},ht(this,e,t),this.addEventListener=i}trigger(e){var t=e.type||e;e=rt(e="string"==typeof e?{type:t}:e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),lt(this,e)}queueTrigger(e){gt=gt||new Map;const t=e.type||e;let i=gt.get(this);i||(i=new Map,gt.set(this,i));var s=i.get(t),s=(i.delete(t),window.clearTimeout(s),window.setTimeout(()=>{i.delete(t),0===i.size&&(i=null,gt.delete(this)),this.trigger(e)},0));i.set(t,s)}}ft.prototype.allowedEvents_={},ft.prototype.addEventListener=ft.prototype.on,ft.prototype.removeEventListener=ft.prototype.off,ft.prototype.dispatchEvent=ft.prototype.trigger;const yt=e=>"function"==typeof e.name?e.name():"string"==typeof e.name?e.name:e.name_||(e.constructor&&e.constructor.name?e.constructor.name:typeof e),_t=t=>t instanceof ft||!!t.eventBusEl_&&["on","one","off","trigger"].every(e=>"function"==typeof t[e]),vt=e=>"string"==typeof e&&/\S/.test(e)||Array.isArray(e)&&!!e.length,bt=(e,t,i)=>{if(!e||!e.nodeName&&!_t(e))throw new Error(`Invalid target for ${yt(t)}#${i}; must be a DOM node or evented object.`)},Tt=(e,t,i)=>{if(!vt(e))throw new Error(`Invalid event type for ${yt(t)}#${i}; must be a non-empty string or array.`)},St=(e,t,i)=>{if("function"!=typeof e)throw new Error(`Invalid listener for ${yt(t)}#${i}; must be a function.`)},wt=(e,t,i)=>{var s=t.length<3||t[0]===e||t[0]===e.eventBusEl_;let r,n,a;return s?(r=e.eventBusEl_,3<=t.length&&t.shift(),[n,a]=t):[r,n,a]=t,bt(r,e,i),Tt(n,e,i),St(a,e,i),a=m(e,a),{isTargetingSelf:s,target:r,type:n,listener:a}},Et=(e,t,i,s)=>{bt(e,e,t),e.nodeName?ut[t](e,i,s):e[t](i,s)},kt={on(...e){const{isTargetingSelf:t,target:i,type:s,listener:r}=wt(this,e,"on");if(Et(i,"on",s,r),!t){const n=()=>this.off(i,s,r);n.guid=r.guid;e=()=>this.off("dispose",n);e.guid=r.guid,Et(this,"on","dispose",n),Et(i,"on","dispose",e)}},one(...e){const{isTargetingSelf:t,target:i,type:s,listener:r}=wt(this,e,"one");if(t)Et(i,"one",s,r);else{const n=(...e)=>{this.off(i,s,n),r.apply(null,e)};n.guid=r.guid,Et(i,"one",s,n)}},any(...e){const{isTargetingSelf:t,target:i,type:s,listener:r}=wt(this,e,"any");if(t)Et(i,"any",s,r);else{const n=(...e)=>{this.off(i,s,n),r.apply(null,e)};n.guid=r.guid,Et(i,"any",s,n)}},off(e,t,i){!e||vt(e)?p(this.eventBusEl_,e,t):(e=e,t=t,bt(e,this,"off"),Tt(t,this,"off"),St(i,this,"off"),i=m(this,i),this.off("dispose",i),e.nodeName?(p(e,t,i),p(e,"dispose",i)):_t(e)&&(e.off(t,i),e.off("dispose",i)))},trigger(e,t){bt(this.eventBusEl_,this,"trigger");var i=e&&"string"!=typeof e?e.type:e;if(vt(i))return lt(this.eventBusEl_,e,t);throw new Error(`Invalid event type for ${yt(this)}#trigger; `+"must be a non-empty string or object with a type key that has a non-empty value.")}};function Ct(e,t={}){t=t.eventBusKey;if(t){if(!e[t].nodeName)throw new Error(`The eventBusKey "${t}" does not refer to an element.`);e.eventBusEl_=e[t]}else e.eventBusEl_=o("span",{className:"vjs-event-bus"});Object.assign(e,kt),e.eventedCallbacks&&e.eventedCallbacks.forEach(e=>{e()}),e.on("dispose",()=>{e.off(),[e,e.el_,e.eventBusEl_].forEach(function(e){e&&c.has(e)&&c.delete(e)}),window.setTimeout(()=>{e.eventBusEl_=null},0)})}const It={state:{},setState(e){"function"==typeof e&&(e=e());let i;return z(e,(e,t)=>{this.state[t]!==e&&((i=i||{})[t]={from:this.state[t],to:e}),this.state[t]=e}),i&&_t(this)&&this.trigger({changes:i,type:"statechanged"}),i}};function xt(e,t){Object.assign(e,It),e.state=Object.assign({},e.state,t),"function"==typeof e.handleStateChanged&&_t(e)&&e.on("statechanged",e.handleStateChanged)}function At(e){return"string"!=typeof e?e:e.replace(/./,e=>e.toLowerCase())}function g(e){return"string"!=typeof e?e:e.replace(/./,e=>e.toUpperCase())}function Pt(e,t){return g(e)===g(t)}var Lt=Object.freeze({__proto__:null,toLowerCase:At,toTitleCase:g,titleCaseEquals:Pt}),Ot="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Dt(e,t){return e(t={exports:{}},t.exports),t.exports}var r=Dt(function(e,t){function i(e){var t;return"number"==typeof(e=e&&"object"==typeof e&&(t=e.which||e.keyCode||e.charCode)?t:e)?o[e]:(t=String(e),s[t.toLowerCase()]||r[t.toLowerCase()]||(1===t.length?t.charCodeAt(0):void 0))}i.isEventKey=function(e,t){if(e&&"object"==typeof e){e=e.which||e.keyCode||e.charCode;if(null!=e)if("string"==typeof t){var i=s[t.toLowerCase()];if(i)return i===e;if(i=r[t.toLowerCase()])return i===e}else if("number"==typeof t)return t===e;return!1}};for(var s=(t=e.exports=i).code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},r=t.aliases={windows:91,"":16,"":18,"":17,"":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91},n=97;n<123;n++)s[String.fromCharCode(n)]=n-32;for(var n=48;n<58;n++)s[n-48]=n;for(n=1;n<13;n++)s["f"+n]=n+111;for(n=0;n<10;n++)s["numpad "+n]=n+96;var a,o=t.names=t.title={};for(n in s)o[s[n]]=n;for(a in r)s[a]=r[a]});r.code,r.codes,r.aliases,r.names,r.title;class f{constructor(e,t,i){!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=h({},this.options_),t=this.options_=h(this.options_,t),this.id_=t.id||t.el&&t.el.id,this.id_||(e=e&&e.id&&e.id()||"no_player",this.id_=e+"_component_"+tt++),this.name_=t.name||null,t.el?this.el_=t.el:!1!==t.createEl&&(this.el_=this.createEl()),t.className&&this.el_&&t.className.split(" ").forEach(e=>this.addClass(e)),["on","off","one","any","trigger"].forEach(e=>{this[e]=void 0}),!1!==t.evented&&(Ct(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),xt(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Set,this.setIntervalIds_=new Set,this.rafIds_=new Set,this.namedRafs_=new Map,(this.clearingTimersOnDispose_=!1)!==t.initChildren&&this.initChildren(),this.ready(i),!1!==t.reportTouchActivity&&this.enableTouchActivity()}on(e,t){}off(e,t){}one(e,t){}any(e,t){}trigger(e){}dispose(e={}){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(let e=this.children_.length-1;0<=e;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(e.restoreEl?this.el_.parentNode.replaceChild(e.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}}isDisposed(){return Boolean(this.isDisposed_)}player(){return this.player_}options(e){return e&&(this.options_=h(this.options_,e)),this.options_}el(){return this.el_}createEl(e,t,i){return o(e,t,i)}localize(e,s,t=e){var i=this.player_.language&&this.player_.language(),r=this.player_.languages&&this.player_.languages(),n=r&&r[i],i=i&&i.split("-")[0],r=r&&r[i];let a=t;return n&&n[e]?a=n[e]:r&&r[e]&&(a=r[e]),a=s?a.replace(/\{(\d+)\}/g,function(e,t){t=s[t-1];let i="undefined"==typeof t?e:t;return i}):a}handleLanguagechange(){}contentEl(){return this.contentEl_||this.el_}id(){return this.id_}name(){return this.name_}children(){return this.children_}getChildById(e){return this.childIndex_[e]}getChild(e){if(e)return this.childNameIndex_[e]}getDescendant(...t){t=t.reduce((e,t)=>e.concat(t),[]);let i=this;for(let e=0;e<t.length;e++)if(!(i=i.getChild(t[e]))||!i.getChild)return;return i}addChild(e,t={},i=this.children_.length){let s,r;if("string"==typeof e){r=g(e);var n=t.componentClass||r,a=(t.name=r,f.getComponent(n));if(!a)throw new Error(`Component ${n} does not exist`);if("function"!=typeof a)return null;s=new a(this.player_||this,t)}else s=e;if(s.parentComponent_&&s.parentComponent_.removeChild(s),this.children_.splice(i,0,s),s.parentComponent_=this,"function"==typeof s.id&&(this.childIndex_[s.id()]=s),(r=r||s.name&&g(s.name()))&&(this.childNameIndex_[r]=s,this.childNameIndex_[At(r)]=s),"function"==typeof s.el&&s.el()){let e=null;this.children_[i+1]&&(this.children_[i+1].el_?e=this.children_[i+1].el_:ve(this.children_[i+1])&&(e=this.children_[i+1])),this.contentEl().insertBefore(s.el(),e)}return s}removeChild(i){if((i="string"==typeof i?this.getChild(i):i)&&this.children_){let t=!1;for(let e=this.children_.length-1;0<=e;e--)if(this.children_[e]===i){t=!0,this.children_.splice(e,1);break}var e;t&&(i.parentComponent_=null,this.childIndex_[i.id()]=null,this.childNameIndex_[g(i.name())]=null,this.childNameIndex_[At(i.name())]=null,e=i.el())&&e.parentNode===this.contentEl()&&this.contentEl().removeChild(i.el())}}initChildren(){const s=this.options_.children;if(s){const r=this.options_;let e;const t=f.getComponent("Tech");(e=Array.isArray(s)?s:Object.keys(s)).concat(Object.keys(this.options_).filter(function(t){return!e.some(function(e){return"string"==typeof e?t===e:t===e.name})})).map(e=>{let t,i;return i="string"==typeof e?(t=e,s[t]||this.options_[t]||{}):(t=e.name,e),{name:t,opts:i}}).filter(e=>{e=f.getComponent(e.opts.componentClass||g(e.name));return e&&!t.isTech(e)}).forEach(e=>{var t=e.name;let i=e.opts;!1!==(i=void 0!==r[t]?r[t]:i)&&((i=!0===i?{}:i).playerOptions=this.options_.playerOptions,e=this.addChild(t,i))&&(this[t]=e)})}}buildCSSClass(){return""}ready(e,t=!1){e&&(this.isReady_?t?e.call(this):this.setTimeout(e,1):(this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(e)))}triggerReady(){this.isReady_=!0,this.setTimeout(function(){var e=this.readyQueue_;this.readyQueue_=[],e&&0<e.length&&e.forEach(function(e){e.call(this)},this),this.trigger("ready")},1)}$(e,t){return $e(e,t||this.contentEl())}$$(e,t){return We(e,t||this.contentEl())}hasClass(e){return Ee(this.el_,e)}addClass(...e){ke(this.el_,...e)}removeClass(...e){Ce(this.el_,...e)}toggleClass(e,t){Ie(this.el_,e,t)}show(){this.removeClass("vjs-hidden")}hide(){this.addClass("vjs-hidden")}lockShowing(){this.addClass("vjs-lock-showing")}unlockShowing(){this.removeClass("vjs-lock-showing")}getAttribute(e){return Pe(this.el_,e)}setAttribute(e,t){Le(this.el_,e,t)}removeAttribute(e){Oe(this.el_,e)}width(e,t){return this.dimension("width",e,t)}height(e,t){return this.dimension("height",e,t)}dimensions(e,t){this.width(e,!0),this.height(t)}dimension(e,t,i){var s,r;if(void 0===t)return this.el_?-1!==(r=(s=this.el_.style[e]).indexOf("px"))?parseInt(s.slice(0,r),10):parseInt(this.el_["offset"+g(e)],10):0;-1!==(""+(t=null!==t&&t==t?t:0)).indexOf("%")||-1!==(""+t).indexOf("px")?this.el_.style[e]=t:this.el_.style[e]="auto"===t?"":t+"px",i||this.trigger("componentresize")}currentDimension(e){let t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");return t=Ge(this.el_,e),0!==(t=parseFloat(t))&&!isNaN(t)||(e="offset"+g(e),t=this.el_[e]),t}currentDimensions(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}}currentWidth(){return this.currentDimension("width")}currentHeight(){return this.currentDimension("height")}focus(){this.el_.focus()}blur(){this.el_.blur()}handleKeyDown(e){this.player_&&(r.isEventKey(e,"Tab")||e.stopPropagation(),this.player_.handleKeyDown(e))}handleKeyPress(e){this.handleKeyDown(e)}emitTapEvents(){let t=0,i=null;let s;this.on("touchstart",function(e){1===e.touches.length&&(i={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY},t=window.performance.now(),s=!0)}),this.on("touchmove",function(e){var t;(1<e.touches.length||i&&(t=e.touches[0].pageX-i.pageX,e=e.touches[0].pageY-i.pageY,10<Math.sqrt(t*t+e*e)))&&(s=!1)});function e(){s=!1}this.on("touchleave",e),this.on("touchcancel",e),this.on("touchend",function(e){!(i=null)===s&&window.performance.now()-t<200&&(e.preventDefault(),this.trigger("tap"))})}enableTouchActivity(){if(this.player()&&this.player().reportUserActivity){const i=m(this.player(),this.player().reportUserActivity);let t;this.on("touchstart",function(){i(),this.clearInterval(t),t=this.setInterval(i,250)});var e=function(e){i(),this.clearInterval(t)};this.on("touchmove",i),this.on("touchend",e),this.on("touchcancel",e)}}setTimeout(e,t){var i;return e=m(this,e),this.clearTimersOnDispose_(),i=window.setTimeout(()=>{this.setTimeoutIds_.has(i)&&this.setTimeoutIds_.delete(i),e()},t),this.setTimeoutIds_.add(i),i}clearTimeout(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),window.clearTimeout(e)),e}setInterval(e,t){e=m(this,e),this.clearTimersOnDispose_();e=window.setInterval(e,t);return this.setIntervalIds_.add(e),e}clearInterval(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),window.clearInterval(e)),e}requestAnimationFrame(e){var t;return this.clearTimersOnDispose_(),e=m(this,e),t=window.requestAnimationFrame(()=>{this.rafIds_.has(t)&&this.rafIds_.delete(t),e()}),this.rafIds_.add(t),t}requestNamedAnimationFrame(e,t){var i;if(!this.namedRafs_.has(e))return this.clearTimersOnDispose_(),t=m(this,t),i=this.requestAnimationFrame(()=>{t(),this.namedRafs_.has(e)&&this.namedRafs_.delete(e)}),this.namedRafs_.set(e,i),e}cancelNamedAnimationFrame(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))}cancelAnimationFrame(e){return this.rafIds_.has(e)&&(this.rafIds_.delete(e),window.cancelAnimationFrame(e)),e}clearTimersOnDispose_(){this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",()=>{[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(([e,i])=>{this[e].forEach((e,t)=>this[i](t))}),this.clearingTimersOnDispose_=!1}))}static registerComponent(t,e){if("string"!=typeof t||!t)throw new Error(`Illegal component name, "${t}"; must be a non-empty string.`);var i=f.getComponent("Tech"),i=i&&i.isTech(e),s=f===e||f.prototype.isPrototypeOf(e.prototype);if(i||!s){let e;throw e=i?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error(`Illegal component, "${t}"; ${e}.`)}t=g(t),f.components_||(f.components_={});s=f.getComponent("Player");if("Player"===t&&s&&s.players){const r=s.players;i=Object.keys(r);if(r&&0<i.length&&i.map(e=>r[e]).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return f.components_[t]=e,f.components_[At(t)]=e}static getComponent(e){if(e&&f.components_)return f.components_[e]}}function Nt(e,t,i,s){var r=s,n=i.length-1;if("number"!=typeof r||r<0||n<r)throw new Error(`Failed to execute '${e}' on 'TimeRanges': The index provided (${r}) is non-numeric or out of bounds (0-${n}).`);return i[s][t]}function Mt(e){let t;return t=void 0===e||0===e.length?{length:0,start(){throw new Error("This TimeRanges object is empty")},end(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:Nt.bind(null,"start",0,e),end:Nt.bind(null,"end",1,e)},window.Symbol&&window.Symbol.iterator&&(t[window.Symbol.iterator]=()=>(e||[]).values()),t}function Rt(e,t){return Array.isArray(e)?Mt(e):void 0===e||void 0===t?Mt():Mt([[e,t]])}f.registerComponent("Component",f);function Ut(e,t){e=e<0?0:e;let i=Math.floor(e%60),s=Math.floor(e/60%60),r=Math.floor(e/3600);var n=Math.floor(t/60%60),t=Math.floor(t/3600);return r=0<(r=!isNaN(e)&&e!==1/0?r:s=i="-")||0<t?r+":":"",s=((r||10<=n)&&s<10?"0"+s:s)+":",i=i<10?"0"+i:i,r+s+i}let Bt=Ut;function Ft(e){Bt=e}function jt(){Bt=Ut}function Ht(e,t=e){return Bt(e,t)}var qt=Object.freeze({__proto__:null,createTimeRanges:Rt,createTimeRange:Rt,setFormatTime:Ft,resetFormatTime:jt,formatTime:Ht});function Vt(t,i){let s=0;var r;let n;if(!i)return 0;t&&t.length||(t=Rt(0,0));for(let e=0;e<t.length;e++)r=t.start(e),(n=t.end(e))>i&&(n=i),s+=n-r;return s/i}function i(e){if(e instanceof i)return e;"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:K(e)&&("number"==typeof e.code&&(this.code=e.code),Object.assign(this,e)),this.message||(this.message=i.defaultMessages[this.code]||"")}i.prototype.code=0,i.prototype.message="",i.prototype.status=null,i.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],i.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(let e=0;e<i.errorTypes.length;e++)i[i.errorTypes[e]]=e,i.prototype[i.errorTypes[e]]=e;var $t=function(e,t){var i,s=null;try{i=JSON.parse(e,t)}catch(e){s=e}return[s,i]};function Wt(e){return null!=e&&"function"==typeof e.then}function Gt(e){Wt(e)&&e.then(null,e=>{})}function zt(s){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((e,t,i)=>(s[t]&&(e[t]=s[t]),e),{cues:s.cues&&Array.prototype.map.call(s.cues,function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}})})}var Xt=function(e){var t=e.$$("track");const i=Array.prototype.map.call(t,e=>e.track);return Array.prototype.map.call(t,function(e){var t=zt(e.track);return e.src&&(t.src=e.src),t}).concat(Array.prototype.filter.call(e.textTracks(),function(e){return-1===i.indexOf(e)}).map(zt))},Kt=function(e,i){return e.forEach(function(e){const t=i.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach(e=>t.addCue(e))}),i.textTracks()};zt;const Yt="vjs-modal-dialog";class Qt extends f{constructor(e,t){super(e,t),this.handleKeyDown_=e=>this.handleKeyDown(e),this.close_=e=>this.close(e),this.opened_=this.hasBeenOpened_=this.hasBeenFilled_=!1,this.closeable(!this.options_.uncloseable),this.content(this.options_.content),this.contentEl_=o("div",{className:Yt+"-content"},{role:"document"}),this.descEl_=o("p",{className:Yt+"-description vjs-control-text",id:this.el().getAttribute("aria-describedby")}),Se(this.descEl_,this.description()),this.el_.appendChild(this.descEl_),this.el_.appendChild(this.contentEl_)}createEl(){return super.createEl("div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})}dispose(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,super.dispose()}buildCSSClass(){return Yt+" vjs-hidden "+super.buildCSSClass()}label(){return this.localize(this.options_.label||"Modal Window")}description(){let e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e}open(){var e;this.opened_||(e=this.player(),this.trigger("beforemodalopen"),this.opened_=!0,!this.options_.fillAlways&&(this.hasBeenOpened_||this.hasBeenFilled_)||this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0)}opened(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_}close(){var e;this.opened_&&(e=this.player(),this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary)&&this.dispose()}closeable(t){if("boolean"==typeof t){var i,t=this.closeable_=!!t;let e=this.getChild("closeButton");t&&!e&&(i=this.contentEl_,this.contentEl_=this.el_,e=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=i,this.on(e,"close",this.close_)),!t&&e&&(this.off(e,"close",this.close_),this.removeChild(e),e.dispose())}return this.closeable_}fill(){this.fillWith(this.content())}fillWith(e){var t=this.contentEl(),i=t.parentNode,s=t.nextSibling,e=(this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,i.removeChild(t),this.empty(),qe(t,e),this.trigger("modalfill"),s?i.insertBefore(t,s):i.appendChild(t),this.getChild("closeButton"));e&&i.appendChild(e.el_)}empty(){this.trigger("beforemodalempty"),Fe(this.contentEl()),this.trigger("modalempty")}content(e){return"undefined"!=typeof e&&(this.content_=e),this.content_}conditionalFocus_(){var e=document.activeElement,t=this.player_.el_;this.previouslyActiveEl_=null,!t.contains(e)&&t!==e||(this.previouslyActiveEl_=e,this.focus())}conditionalBlur_(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)}handleKeyDown(e){if(e.stopPropagation(),r.isEventKey(e,"Escape")&&this.closeable())e.preventDefault(),this.close();else if(r.isEventKey(e,"Tab")){var i=this.focusableEls_(),s=this.el_.querySelector(":focus");let t;for(let e=0;e<i.length;e++)if(s===i[e]){t=e;break}document.activeElement===this.el_&&(t=0),e.shiftKey&&0===t?(i[i.length-1].focus(),e.preventDefault()):e.shiftKey||t!==i.length-1||(i[0].focus(),e.preventDefault())}}focusableEls_(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,e=>(e instanceof window.HTMLAnchorElement||e instanceof window.HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof window.HTMLInputElement||e instanceof window.HTMLSelectElement||e instanceof window.HTMLTextAreaElement||e instanceof window.HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof window.HTMLIFrameElement||e instanceof window.HTMLObjectElement||e instanceof window.HTMLEmbedElement||e.hasAttribute("tabindex")&&-1!==e.getAttribute("tabindex")||e.hasAttribute("contenteditable"))}}Qt.prototype.options_={pauseOnOpen:!0,temporary:!0},f.registerComponent("ModalDialog",Qt);class Jt extends ft{constructor(t=[]){super(),this.tracks_=[],Object.defineProperty(this,"length",{get(){return this.tracks_.length}});for(let e=0;e<t.length;e++)this.addTrack(t[e])}addTrack(e){const t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get(){return this.tracks_[t]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=()=>{this.trigger({track:e,type:"labelchange",target:this})},_t(e)&&e.addEventListener("labelchange",e.labelchange_)}removeTrack(i){let s;for(let e=0,t=this.length;e<t;e++)if(this[e]===i){(s=this[e]).off&&s.off(),this.tracks_.splice(e,1);break}s&&this.trigger({track:s,type:"removetrack",target:this})}getTrackById(i){let s=null;for(let e=0,t=this.length;e<t;e++){var r=this[e];if(r.id===i){s=r;break}}return s}}for(const Nu in Jt.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"})Jt.prototype["on"+Nu]=null;function Zt(t,i){for(let e=0;e<t.length;e++)Object.keys(t[e]).length&&i.id!==t[e].id&&(t[e].enabled=!1)}function ei(t,i){for(let e=0;e<t.length;e++)Object.keys(t[e]).length&&i.id!==t[e].id&&(t[e].selected=!1)}class ti extends Jt{addTrack(e){super.addTrack(e),this.queueChange_||(this.queueChange_=()=>this.queueTrigger("change")),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=()=>this.trigger("selectedlanguagechange")),e.addEventListener("modechange",this.queueChange_);-1===["metadata","chapters"].indexOf(e.kind)&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)}removeTrack(e){super.removeTrack(e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_)&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_)}}class ii{constructor(e){ii.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get(){return this.length_}})}setCues_(e){var t=this.length||0;let i=0;function s(e){""+e in this||Object.defineProperty(this,""+e,{get(){return this.cues_[e]}})}var r=e.length;this.cues_=e,this.length_=e.length;if(t<r)for(i=t;i<r;i++)s.call(this,i)}getCueById(i){let s=null;for(let e=0,t=this.length;e<t;e++){var r=this[e];if(r.id===i){s=r;break}}return s}}const si={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},ri={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},ni={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},ai={disabled:"disabled",hidden:"hidden",showing:"showing"};class oi extends ft{constructor(e={}){super();const t={id:e.id||"vjs_track_"+tt++,kind:e.kind||"",language:e.language||""};let i=e.label||"";for(const s in t)Object.defineProperty(this,s,{get(){return t[s]},set(){}});Object.defineProperty(this,"label",{get(){return i},set(e){e!==i&&(i=e,this.trigger("labelchange"))}})}}function li(e){var t=["protocol","hostname","port","pathname","search","hash","host"],i=document.createElement("a"),s=(i.href=e,{});for(let e=0;e<t.length;e++)s[t[e]]=i[t[e]];return"http:"===s.protocol&&(s.host=s.host.replace(/:80$/,"")),"https:"===s.protocol&&(s.host=s.host.replace(/:443$/,"")),s.protocol||(s.protocol=window.location.protocol),s.host||(s.host=window.location.host),s}function di(e){var t;return e.match(/^https?:\/\//)||((t=document.createElement("a")).href=e,e=t.href),e}function hi(e,t=window.location){return(":"===(e=li(e)).protocol?t:e).protocol+e.host!==t.protocol+t.host}const ui=function(e){if("string"==typeof e){e=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(e);if(e)return e.pop().toLowerCase()}return""};var ci=Object.freeze({__proto__:null,parseUrl:li,getAbsoluteURL:di,getFileExtension:ui,isCrossOrigin:hi}),pi="undefined"!=typeof window?window:"undefined"!=typeof Ot?Ot:"undefined"!=typeof self?self:{},mi=pi,gi=Dt(function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i,s=arguments[t];for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}),fi=(pi=gi)&&pi.__esModule&&Object.prototype.hasOwnProperty.call(pi,"default")?pi.default:pi,yi=function(e){var t;return!!e&&("[object Function]"===(t=_i.call(e))||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt))},_i=Object.prototype.toString;ki.httpHandler=function(s,r){return void 0===r&&(r=!1),function(e,t,i){if(e)s(e);else if(400<=t.statusCode&&t.statusCode<=599){e=i;if(r)if(mi.TextDecoder){t=function(e){void 0===e&&(e="");return e.toLowerCase().split(";").reduce(function(e,t){var t=t.split("="),i=t[0],t=t[1];return"charset"===i.trim()?t.trim():e},"utf-8")}(t.headers&&t.headers["content-type"]);try{e=new TextDecoder(t).decode(i)}catch(e){}}else e=String.fromCharCode.apply(null,new Uint8Array(i));s({cause:e})}else s(null,i)}};for(var vi=function(e){var s={};return e&&e.trim().split("\n").forEach(function(e){var t=e.indexOf(":"),i=e.slice(0,t).trim().toLowerCase(),e=e.slice(t+1).trim();"undefined"==typeof s[i]?s[i]=e:Array.isArray(s[i])?s[i].push(e):s[i]=[s[i],e]}),s},bi=ki,pi=ki,Ti=(ki.XMLHttpRequest=mi.XMLHttpRequest||function(){},ki.XDomainRequest="withCredentials"in new ki.XMLHttpRequest?ki.XMLHttpRequest:mi.XDomainRequest,["get","put","post","patch","head","delete"]),Si=function(s){ki["delete"===s?"del":s]=function(e,t,i){return(t=Ei(e,t,i)).method=s.toUpperCase(),Ci(t)}},wi=0;wi<Ti.length;wi++)Si(Ti[wi]);function Ei(e,t,i){var s=e;return yi(t)?(i=t,"string"==typeof e&&(s={uri:e})):s=gi({},t,{uri:e}),s.callback=i,s}function ki(e,t,i){return Ci(t=Ei(e,t,i))}function Ci(s){if("undefined"==typeof s.callback)throw new Error("callback argument missing");var r=!1,n=function(e,t,i){r||(r=!0,s.callback(e,t,i))};function a(){var e=void 0,e=d.response||d.responseText||function(e){try{if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML}catch(e){}return null}(d);if(g)try{e=JSON.parse(e)}catch(e){}return e}function t(e){return clearTimeout(l),(e=e instanceof Error?e:new Error(""+(e||"Unknown XMLHttpRequest Error"))).statusCode=0,n(e,f)}function e(){var e,t,i;if(!o)return clearTimeout(l),e=s.useXDR&&void 0===d.status?200:1223===d.status?204:d.status,t=f,i=null,0!==e?(t={body:a(),statusCode:e,method:u,headers:{},url:h,rawRequest:d},d.getAllResponseHeaders&&(t.headers=vi(d.getAllResponseHeaders()))):i=new Error("Internal XMLHttpRequest Error"),n(i,t,t.body)}var i,o,l,d=s.xhr||null,h=(d=d||new(s.cors||s.useXDR?ki.XDomainRequest:ki.XMLHttpRequest)).url=s.uri||s.url,u=d.method=s.method||"GET",c=s.body||s.data,p=d.headers=s.headers||{},m=!!s.sync,g=!1,f={body:void 0,headers:{},statusCode:0,method:u,url:h,rawRequest:d};if("json"in s&&!1!==s.json&&(g=!0,p.accept||p.Accept||(p.Accept="application/json"),"GET"!==u)&&"HEAD"!==u&&(p["content-type"]||p["Content-Type"]||(p["Content-Type"]="application/json"),c=JSON.stringify(!0===s.json?c:s.json)),d.onreadystatechange=function(){4===d.readyState&&setTimeout(e,0)},d.onload=e,d.onerror=t,d.onprogress=function(){},d.onabort=function(){o=!0},d.ontimeout=t,d.open(u,h,!m,s.username,s.password),m||(d.withCredentials=!!s.withCredentials),!m&&0<s.timeout&&(l=setTimeout(function(){var e;o||(o=!0,d.abort("timeout"),(e=new Error("XMLHttpRequest timeout")).code="ETIMEDOUT",t(e))},s.timeout)),d.setRequestHeader)for(i in p)p.hasOwnProperty(i)&&d.setRequestHeader(i,p[i]);else if(s.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return;return 1}(s.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in s&&(d.responseType=s.responseType),"beforeSend"in s&&"function"==typeof s.beforeSend&&s.beforeSend(d),d.send(c||null),d}bi.default=pi;function Ii(e,t){var i=new window.WebVTT.Parser(window,window.vttjs,window.WebVTT.StringDecoder());const s=[];i.oncue=function(e){t.addCue(e)},i.onparsingerror=function(e){s.push(e)},i.onflush=function(){t.trigger({type:"loadeddata",target:t})},i.parse(e),0<s.length&&(window.console&&window.console.groupCollapsed&&window.console.groupCollapsed("Text Track parsing errors for "+t.src),s.forEach(e=>d.error(e)),window.console)&&window.console.groupEnd&&window.console.groupEnd(),i.flush()}function xi(e,s){var t={uri:e};(e=hi(e))&&(t.cors=e),(e="use-credentials"===s.tech_.crossOrigin())&&(t.withCredentials=e),bi(t,m(this,function(e,t,i){if(e)return d.error(e,t);s.loaded_=!0,"function"!=typeof window.WebVTT?s.tech_&&s.tech_.any(["vttjsloaded","vttjserror"],e=>{if("vttjserror"!==e.type)return Ii(i,s);d.error("vttjs failed to load, stopping trying to process "+s.src)}):Ii(i,s)}))}class Ai extends oi{constructor(e={}){if(!e.tech)throw new Error("A tech was not provided.");e=h(e,{kind:ni[e.kind]||"subtitles",language:e.language||e.srclang||""});let t=ai[e.mode]||"disabled";const i=e.default,s=("metadata"!==e.kind&&"chapters"!==e.kind||(t="hidden"),super(e),this.tech_=e.tech,this.cues_=[],this.activeCues_=[],this.preload_=!1!==this.tech_.preloadTextTracks,new ii(this.cues_)),n=new ii(this.activeCues_);let a=!1;this.timeupdateHandler=m(this,function(e={}){this.tech_.isDisposed()||(this.tech_.isReady_&&(this.activeCues=this.activeCues,a)&&(this.trigger("cuechange"),a=!1),"timeupdate"!==e.type&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler)))});this.tech_.one("dispose",()=>{this.stopTracking()}),"disabled"!==t&&this.startTracking(),Object.defineProperties(this,{default:{get(){return i},set(){}},mode:{get(){return t},set(e){ai[e]&&t!==e&&(t=e,this.preload_||"disabled"===t||0!==this.cues.length||xi(this.src,this),this.stopTracking(),"disabled"!==t&&this.startTracking(),this.trigger("modechange"))}},cues:{get(){return this.loaded_?s:null},set(){}},activeCues:{get(){if(!this.loaded_)return null;if(0!==this.cues.length){var i=this.tech_.currentTime(),s=[];for(let e=0,t=this.cues.length;e<t;e++){var r=this.cues[e];r.startTime<=i&&r.endTime>=i&&s.push(r)}if(a=!1,s.length!==this.activeCues_.length)a=!0;else for(let e=0;e<s.length;e++)-1===this.activeCues_.indexOf(s[e])&&(a=!0);this.activeCues_=s,n.setCues_(this.activeCues_)}return n},set(){}}}),e.src?(this.src=e.src,this.preload_||(this.loaded_=!0),(this.preload_||"subtitles"!==e.kind&&"captions"!==e.kind)&&xi(this.src,this)):this.loaded_=!0}startTracking(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)}stopTracking(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)}addCue(e){let t=e;if(window.vttjs&&!(e instanceof window.vttjs.VTTCue)){t=new window.vttjs.VTTCue(e.startTime,e.endTime,e.text);for(const s in e)s in t||(t[s]=e[s]);t.id=e.id,t.originalCue_=e}var i=this.tech_.textTracks();for(let e=0;e<i.length;e++)i[e]!==this&&i[e].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)}removeCue(e){let t=this.cues_.length;for(;t--;){var i=this.cues_[t];if(i===e||i.originalCue_&&i.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}}}Ai.prototype.allowedEvents_={cuechange:"cuechange"};class Pi extends oi{constructor(e={}){e=h(e,{kind:ri[e.kind]||""});super(e);let t=!1;Object.defineProperty(this,"enabled",{get(){return t},set(e){"boolean"==typeof e&&e!==t&&(t=e,this.trigger("enabledchange"))}}),e.enabled&&(this.enabled=e.enabled),this.loaded_=!0}}class Li extends oi{constructor(e={}){e=h(e,{kind:si[e.kind]||""});super(e);let t=!1;Object.defineProperty(this,"selected",{get(){return t},set(e){"boolean"==typeof e&&e!==t&&(t=e,this.trigger("selectedchange"))}}),e.selected&&(this.selected=e.selected)}}class Oi extends ft{constructor(e={}){super();let t;const i=new Ai(e);this.kind=i.kind,this.src=i.src,this.srclang=i.language,this.label=i.label,this.default=i.default,Object.defineProperties(this,{readyState:{get(){return t}},track:{get(){return i}}}),t=Oi.NONE,i.addEventListener("loadeddata",()=>{t=Oi.LOADED,this.trigger({type:"load",target:this})})}}Oi.prototype.allowedEvents_={load:"load"},Oi.NONE=0,Oi.LOADING=1,Oi.LOADED=2,Oi.ERROR=3;const Di={audio:{ListClass:class extends Jt{constructor(t=[]){for(let e=t.length-1;0<=e;e--)if(t[e].enabled){Zt(t,t[e]);break}super(t),this.changing_=!1}addTrack(e){e.enabled&&Zt(this,e),super.addTrack(e),e.addEventListener&&(e.enabledChange_=()=>{this.changing_||(this.changing_=!0,Zt(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)}},TrackClass:Pi,capitalName:"Audio"},video:{ListClass:class extends Jt{constructor(t=[]){for(let e=t.length-1;0<=e;e--)if(t[e].selected){ei(t,t[e]);break}super(t),this.changing_=!1,Object.defineProperty(this,"selectedIndex",{get(){for(let e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set(){}})}addTrack(e){e.selected&&ei(this,e),super.addTrack(e),e.addEventListener&&(e.selectedChange_=()=>{this.changing_||(this.changing_=!0,ei(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)}},TrackClass:Li,capitalName:"Video"},text:{ListClass:ti,TrackClass:Ai,capitalName:"Text"}},Ni=(Object.keys(Di).forEach(function(e){Di[e].getterName=e+"Tracks",Di[e].privateName=e+"Tracks_"}),{remoteText:{ListClass:ti,TrackClass:Ai,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:class{constructor(i=[]){this.trackElements_=[],Object.defineProperty(this,"length",{get(){return this.trackElements_.length}});for(let e=0,t=i.length;e<t;e++)this.addTrackElement_(i[e])}addTrackElement_(e){const t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get(){return this.trackElements_[t]}}),-1===this.trackElements_.indexOf(e)&&this.trackElements_.push(e)}getTrackElementByTrack_(i){let s;for(let e=0,t=this.trackElements_.length;e<t;e++)if(i===this.trackElements_[e].track){s=this.trackElements_[e];break}return s}removeTrackElement_(i){for(let e=0,t=this.trackElements_.length;e<t;e++)if(i===this.trackElements_[e]){this.trackElements_[e].track&&"function"==typeof this.trackElements_[e].track.off&&this.trackElements_[e].track.off(),"function"==typeof this.trackElements_[e].off&&this.trackElements_[e].off(),this.trackElements_.splice(e,1);break}}},TrackClass:Oi,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}}),a=Object.assign({},Di,Ni);Ni.names=Object.keys(Ni),Di.names=Object.keys(Di),a.names=[].concat(Ni.names).concat(Di.names);var pi="undefined"!=typeof Ot?Ot:"undefined"!=typeof window?window:{},Mi="undefined"!=typeof document?document:(Mi=pi["__GLOBAL_DOCUMENT_CACHE@4"])||(pi["__GLOBAL_DOCUMENT_CACHE@4"]={}),Ot=Mi,Ri=Object.create||function(e){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return Ui.prototype=e,new Ui};function Ui(){}function Bi(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function Fi(e){function t(e,t,i,s){return 3600*(0|e)+60*(0|t)+(0|i)+(0|s)/1e3}e=e.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return e?e[3]?t(e[1],e[2],e[3].replace(":",""),e[4]):59<e[1]?t(e[1],e[2],0,e[4]):t(0,e[1],e[2],e[4]):null}function ji(){this.values=Ri(null)}function Hi(e,t,i,s){var r,n,a=s?e.split(s):[e];for(r in a)"string"==typeof a[r]&&2===(n=a[r].split(i)).length&&t(n[0].trim(),n[1].trim())}((Bi.prototype=Ri(Error.prototype)).constructor=Bi).Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},ji.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,i){return i?this.has(e)?this.values[e]:t[i]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,i){for(var s=0;s<i.length;++s)if(t===i[s]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&0<=(t=parseFloat(t))&&t<=100)&&(this.set(e,t),!0)}};var qi=Ot.createElement&&Ot.createElement("textarea"),Vi={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},$i={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},Wi={v:"title",lang:"lang"},Gi={rt:"ruby"};function zi(e,t){for(var i,s,r,n,a,o,l=e.document.createElement("div"),d=l,h=[];null!==(o=void 0,o=t?(o=(o=t.match(/^([^<]*)(<[^>]*>?)?/))[1]||o[2],t=t.substr(o.length),o):null);)"<"===o[0]?"/"===o[1]?h.length&&h[h.length-1]===o.substr(2).replace(">","")&&(h.pop(),d=d.parentNode):(s=Fi(o.substr(1,o.length-2)))?(i=e.document.createProcessingInstruction("timestamp",s),d.appendChild(i)):(s=o.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/))&&(r=s[1],n=s[3],a=void 0,a=Vi[r],i=a?(a=e.document.createElement(a),(r=Wi[r])&&n&&(a[r]=n.trim()),a):null)&&(r=d,Gi[(n=i).localName]&&Gi[n.localName]!==r.localName||(s[2]&&((a=s[2].split(".")).forEach(function(e){var t=/^bg_/.test(e),e=t?e.slice(3):e;$i.hasOwnProperty(e)&&(e=$i[e],i.style[t?"background-color":"color"]=e)}),i.className=a.join(" ")),h.push(s[1]),d.appendChild(i),d=i)):d.appendChild(e.document.createTextNode((n=o,qi.innerHTML=n,n=qi.textContent,qi.textContent="",n)));return l}var Xi=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function Ki(e){var t=[],i="";if(e&&e.childNodes)for(n(t,e);i=function e(t){var i,s,r;return t&&t.length?(s=(i=t.pop()).textContent||i.innerText)?(r=s.match(/^.*(\n|\r)/))?r[t.length=0]:s:"ruby"===i.tagName?e(t):i.childNodes?(n(t,i),e(t)):void 0:null}(t);)for(var s=0;s<i.length;s++)if(function(e){for(var t=0;t<Xi.length;t++){var i=Xi[t];if(e>=i[0]&&e<=i[1])return 1}}(i.charCodeAt(s)))return"rtl";return"ltr";function n(e,t){for(var i=t.childNodes.length-1;0<=i;i--)e.push(t.childNodes[i])}}function Yi(){}function Qi(e,t,i){Yi.call(this),this.cue=t,this.cueDiv=zi(e,t.text);var s={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"},r=(this.applyStyles(s,this.cueDiv),this.div=e.document.createElement("div"),s={direction:Ki(this.cueDiv),writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===t.align?"center":t.align,font:i.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(s),this.div.appendChild(this.cueDiv),0);switch(t.positionAlign){case"start":r=t.position;break;case"center":r=t.position-t.size/2;break;case"end":r=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(r,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(r,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function y(e){var t,i,s,r;e.div&&(t=e.div.offsetHeight,i=e.div.offsetWidth,s=e.div.offsetTop,r=(r=(r=e.div.childNodes)&&r[0])&&r.getClientRects&&r.getClientRects(),e=e.div.getBoundingClientRect(),r=r?Math.max(r[0]&&r[0].height||0,e.height/r.length):0),this.left=e.left,this.right=e.right,this.top=e.top||s,this.height=e.height||t,this.bottom=e.bottom||s+(e.height||t),this.width=e.width||i,this.lineHeight=void 0!==r?r:e.lineHeight}function Ji(e,t,o,l){var i,s=new y(t),r=t.cue,n=function(e){if("number"==typeof e.line&&(e.snapToLines||0<=e.line&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,i=t.textTrackList,s=0,r=0;r<i.length&&i[r]!==t;r++)"showing"===i[r].mode&&s++;return-1*++s}(r),a=[];if(r.snapToLines){switch(r.vertical){case"":a=["+y","-y"],i="height";break;case"rl":a=["+x","-x"],i="width";break;case"lr":a=["-x","+x"],i="width"}var d=s.lineHeight,h=d*Math.round(n),u=o[i]+d,c=a[0];Math.abs(h)>u&&(h=h<0?-1:1,h*=Math.ceil(u/d)*d),n<0&&(h+=""===r.vertical?o.height:o.width,a=a.reverse()),s.move(c,h)}else{var p=s.lineHeight/o.height*100;switch(r.lineAlign){case"center":n-=p/2;break;case"end":n-=p}switch(r.vertical){case"":t.applyStyles({top:t.formatStyle(n,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(n,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(n,"%")})}a=["+y","-x","+x","-y"],s=new y(t)}u=function(e,t){for(var i,s=new y(e),r=1,n=0;n<t.length;n++){for(;e.overlapsOppositeAxis(o,t[n])||e.within(o)&&e.overlapsAny(l);)e.move(t[n]);if(e.within(o))return e;var a=e.intersectPercentage(o);a<r&&(i=new y(e),r=a),e=new y(s)}return i||s}(s,a);t.move(u.toCSSCompatValues(o))}function Zi(){}Yi.prototype.applyStyles=function(e,t){for(var i in t=t||this.div,e)e.hasOwnProperty(i)&&(t.style[i]=e[i])},Yi.prototype.formatStyle=function(e,t){return 0===e?0:e+t},(Qi.prototype=Ri(Yi.prototype)).constructor=Qi,y.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},y.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},y.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},y.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},y.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},y.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},y.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},y.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,i=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,s=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||s,height:e.height||t,bottom:e.bottom||s+(e.height||t),width:e.width||i}},Zi.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},Zi.convertCueToDOMTree=function(e,t){return e&&t?zi(e,t):null};Zi.processCues=function(e,t,i){if(!e||!t||!i)return null;for(;i.firstChild;)i.removeChild(i.firstChild);var s=e.document.createElement("div");if(s.style.position="absolute",s.style.left="0",s.style.right="0",s.style.top="0",s.style.bottom="0",s.style.margin="1.5%",i.appendChild(s),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return 1}(t))for(var r,n,a=[],o=y.getSimpleBoxPosition(s),l={font:Math.round(.05*o.height*100)/100+"px sans-serif"},d=0;d<t.length;d++)n=t[d],r=new Qi(e,n,l),s.appendChild(r.div),Ji(0,r,o,a),n.displayState=r.div,a.push(y.getSimpleBoxPosition(r));else for(var h=0;h<t.length;h++)s.appendChild(t[h].displayState)},(Zi.Parser=function(e,t,i){i||(i=t,t={}),t=t||{},this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=i||new TextDecoder("utf8"),this.regionList=[]}).prototype={reportOrThrowError:function(e){if(!(e instanceof Bi))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){var s=this;function t(){for(var e=s.buffer,t=0;t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var i=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,s.buffer=e.substr(t),i}function i(e){e.match(/X-TIMESTAMP-MAP/)?Hi(e,function(e,t){var i;"X-TIMESTAMP-MAP"===e&&(e=t,i=new ji,Hi(e,function(e,t){switch(e){case"MPEGT":i.integer(e+"S",t);break;case"LOCA":i.set(e+"L",Fi(t))}},/[^\d]:/,/,/),s.ontimestampmap)&&s.ontimestampmap({MPEGTS:i.get("MPEGTS"),LOCAL:i.get("LOCAL")})},/=/):Hi(e,function(e,t){var r;"Region"===e&&(e=t,r=new ji,Hi(e,function(e,t){switch(e){case"id":r.set(e,t);break;case"width":r.percent(e,t);break;case"lines":r.integer(e,t);break;case"regionanchor":case"viewportanchor":var i,s=t.split(",");2===s.length&&((i=new ji).percent("x",s[0]),i.percent("y",s[1]),i.has("x")&&i.has("y"))&&(r.set(e+"X",i.get("x")),r.set(e+"Y",i.get("y")));break;case"scroll":r.alt(e,t,["up"])}},/=/,/\s/),r.has("id"))&&((e=new(s.vttjs.VTTRegion||s.window.VTTRegion)).width=r.get("width",100),e.lines=r.get("lines",3),e.regionAnchorX=r.get("regionanchorX",0),e.regionAnchorY=r.get("regionanchorY",100),e.viewportAnchorX=r.get("viewportanchorX",0),e.viewportAnchorY=r.get("viewportanchorY",100),e.scroll=r.get("scroll",""),s.onregion&&s.onregion(e),s.regionList.push({id:r.get("id"),region:e}))},/:/)}e&&(s.buffer+=s.decoder.decode(e,{stream:!0}));try{if("INITIAL"===s.state){if(!/\r\n|\n/.test(s.buffer))return this;var r,n=(r=t()).match(/^WEBVTT([ \t].*)?$/);if(!n||!n[0])throw new Bi(Bi.Errors.BadSignature);s.state="HEADER"}for(var a=!1;s.buffer;){if(!/\r\n|\n/.test(s.buffer))return this;switch(a?a=!1:r=t(),s.state){case"HEADER":/:/.test(r)?i(r):r||(s.state="ID");continue;case"NOTE":r||(s.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(r)){s.state="NOTE";break}if(!r)continue;s.cue=new(s.vttjs.VTTCue||s.window.VTTCue)(0,0,"");try{s.cue.align="center"}catch(e){s.cue.align="middle"}if(s.state="CUE",-1===r.indexOf("--\x3e")){s.cue.id=r;continue}case"CUE":try{!function(t,i,n){var s=t;function e(){var e=Fi(t);if(null===e)throw new Bi(Bi.Errors.BadTimeStamp,"Malformed timestamp: "+s);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function r(){t=t.replace(/^\s+/,"")}if(r(),i.startTime=e(),r(),"--\x3e"!==t.substr(0,3))throw new Bi(Bi.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+s);t=t.substr(3),r(),i.endTime=e(),r();var a=t,o=new ji;Hi(a,function(e,t){switch(e){case"region":for(var i=n.length-1;0<=i;i--)if(n[i].id===t){o.set(e,n[i].region);break}break;case"vertical":o.alt(e,t,["rl","lr"]);break;case"line":var s=t.split(","),r=s[0];o.integer(e,r),o.percent(e,r)&&o.set("snapToLines",!1),o.alt(e,r,["auto"]),2===s.length&&o.alt("lineAlign",s[1],["start","center","end"]);break;case"position":s=t.split(","),o.percent(e,s[0]),2===s.length&&o.alt("positionAlign",s[1],["start","center","end"]);break;case"size":o.percent(e,t);break;case"align":o.alt(e,t,["start","center","end","left","right"])}},/:/,/\s/),i.region=o.get("region",null),i.vertical=o.get("vertical","");try{i.line=o.get("line","auto")}catch(e){}i.lineAlign=o.get("lineAlign","start"),i.snapToLines=o.get("snapToLines",!0),i.size=o.get("size",100);try{i.align=o.get("align","center")}catch(e){i.align=o.get("align","middle")}try{i.position=o.get("position","auto")}catch(e){i.position=o.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},i.align)}i.positionAlign=o.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},i.align)}(r,s.cue,s.regionList)}catch(e){s.reportOrThrowError(e),s.cue=null,s.state="BADCUE";continue}s.state="CUETEXT";continue;case"CUETEXT":var o=-1!==r.indexOf("--\x3e");if(!r||o&&(a=!0)){s.oncue&&s.oncue(s.cue),s.cue=null,s.state="ID";continue}s.cue.text&&(s.cue.text+="\n"),s.cue.text+=r.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":r||(s.state="ID");continue}}}catch(e){s.reportOrThrowError(e),"CUETEXT"===s.state&&s.cue&&s.oncue&&s.oncue(s.cue),s.cue=null,s.state="INITIAL"===s.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),!t.cue&&"HEADER"!==t.state||(t.buffer+="\n\n",t.parse()),"INITIAL"===t.state)throw new Bi(Bi.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}};var es=Zi,ts={"":1,lr:1,rl:1},is={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function ss(e){return"string"==typeof e&&!!is[e.toLowerCase()]&&e.toLowerCase()}function rs(e,t,i){this.hasBeenReset=!1;var s="",r=!1,n=e,a=t,o=i,l=null,d="",h=!0,u="auto",c="start",p="auto",m="auto",g=100,f="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return s},set:function(e){s=""+e}},pauseOnExit:{enumerable:!0,get:function(){return r},set:function(e){r=!!e}},startTime:{enumerable:!0,get:function(){return n},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");n=e,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");a=e,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return o},set:function(e){o=""+e,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(e){l=e,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return d},set:function(e){e="string"==typeof(e=e)&&!!ts[e.toLowerCase()]&&e.toLowerCase();if(!1===e)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");d=e,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return h},set:function(e){h=!!e,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("Line: an invalid number or illegal string was specified.");u=e,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return c},set:function(e){e=ss(e);e&&(c=e,this.hasBeenReset=!0)}},position:{enumerable:!0,get:function(){return p},set:function(e){if(e<0||100<e)throw new Error("Position must be between 0 and 100.");p=e,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return m},set:function(e){e=ss(e);e&&(m=e,this.hasBeenReset=!0)}},size:{enumerable:!0,get:function(){return g},set:function(e){if(e<0||100<e)throw new Error("Size must be between 0 and 100.");g=e,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return f},set:function(e){e=ss(e);if(!e)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");f=e,this.hasBeenReset=!0}}}),this.displayState=void 0}rs.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var ns=rs,as={"":!0,up:!0};function os(e){return"number"==typeof e&&0<=e&&e<=100}function ls(){var t=100,i=3,s=0,r=100,n=0,a=100,o="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(e){if(!os(e))throw new Error("Width must be between 0 and 100.");t=e}},lines:{enumerable:!0,get:function(){return i},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");i=e}},regionAnchorY:{enumerable:!0,get:function(){return r},set:function(e){if(!os(e))throw new Error("RegionAnchorX must be between 0 and 100.");r=e}},regionAnchorX:{enumerable:!0,get:function(){return s},set:function(e){if(!os(e))throw new Error("RegionAnchorY must be between 0 and 100.");s=e}},viewportAnchorY:{enumerable:!0,get:function(){return a},set:function(e){if(!os(e))throw new Error("ViewportAnchorY must be between 0 and 100.");a=e}},viewportAnchorX:{enumerable:!0,get:function(){return n},set:function(e){if(!os(e))throw new Error("ViewportAnchorX must be between 0 and 100.");n=e}},scroll:{enumerable:!0,get:function(){return o},set:function(e){e="string"==typeof(e=e)&&!!as[e.toLowerCase()]&&e.toLowerCase();!1!==e&&(o=e)}}})}var ds=Dt(function(e){var e=e.exports={WebVTT:es,VTTCue:ns,VTTRegion:ls},t=(mi.vttjs=e,mi.WebVTT=e.WebVTT,e.VTTCue),i=e.VTTRegion,s=mi.VTTCue,r=mi.VTTRegion;e.shim=function(){mi.VTTCue=t,mi.VTTRegion=i},e.restore=function(){mi.VTTCue=s,mi.VTTRegion=r},mi.VTTCue||e.shim()});ds.WebVTT,ds.VTTCue,ds.VTTRegion;class _ extends f{constructor(t={},e=function(){}){t.reportTouchActivity=!1,super(null,t,e),this.onDurationChange_=e=>this.onDurationChange(e),this.trackProgress_=e=>this.trackProgress(e),this.trackCurrentTime_=e=>this.trackCurrentTime(e),this.stopTrackingCurrentTime_=e=>this.stopTrackingCurrentTime(e),this.disposeSourceHandler_=e=>this.disposeSourceHandler(e),this.queuedHanders_=new Set,this.hasStarted_=!1,this.on("playing",function(){this.hasStarted_=!0}),this.on("loadstart",function(){this.hasStarted_=!1}),a.names.forEach(e=>{e=a[e];t&&t[e.getterName]&&(this[e.privateName]=t[e.getterName])}),this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(e=>{!1===t[`native${e}Tracks`]&&(this[`featuresNative${e}Tracks`]=!1)}),!1===t.nativeCaptions||!1===t.nativeTextTracks?this.featuresNativeTextTracks=!1:!0!==t.nativeCaptions&&!0!==t.nativeTextTracks||(this.featuresNativeTextTracks=!0),this.featuresNativeTextTracks||this.emulateTextTracks(),this.preloadTextTracks=!1!==t.preloadTextTracks,this.autoRemoteTextTracks_=new a.text.ListClass,this.initTrackListeners(),t.nativeControlsForTouch||this.emitTapEvents(),this.constructor&&(this.name_=this.constructor.name||"Unknown Tech")}triggerSourceset(e){this.isReady_||this.one("ready",()=>this.setTimeout(()=>this.triggerSourceset(e),1)),this.trigger({src:e,type:"sourceset"})}manualProgressOn(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)}manualProgressOff(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)}trackProgress(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(m(this,function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),1===(this.bufferedPercent_=e)&&this.stopTrackingProgress()}),500)}onDurationChange(e){this.duration_=this.duration()}buffered(){return Rt(0,0)}bufferedPercent(){return Vt(this.buffered(),this.duration_)}stopTrackingProgress(){this.clearInterval(this.progressInterval)}manualTimeUpdatesOn(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)}manualTimeUpdatesOff(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)}trackCurrentTime(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)}stopTrackingCurrentTime(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}dispose(){this.clearTracks(Di.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),super.dispose()}clearTracks(e){(e=[].concat(e)).forEach(e=>{var t=this[e+"Tracks"]()||[];let i=t.length;for(;i--;){var s=t[i];"text"===e&&this.removeRemoteTextTrack(s),t.removeTrack(s)}})}cleanupAutoTextTracks(){var e=this.autoRemoteTextTracks_||[];let t=e.length;for(;t--;){var i=e[t];this.removeRemoteTextTrack(i)}}reset(){}crossOrigin(){}setCrossOrigin(){}error(e){return void 0!==e&&(this.error_=new i(e),this.trigger("error")),this.error_}played(){return this.hasStarted_?Rt(0,0):Rt()}play(){}setScrubbing(e){}scrubbing(){}setCurrentTime(e){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}initTrackListeners(){Di.names.forEach(e=>{var t=Di[e];const i=()=>{this.trigger(e+"trackchange")},s=this[t.getterName]();s.addEventListener("removetrack",i),s.addEventListener("addtrack",i),this.on("dispose",()=>{s.removeEventListener("removetrack",i),s.removeEventListener("addtrack",i)})})}addWebVttScript_(){if(!window.WebVTT)if(document.body.contains(this.el()))if(!this.options_["vtt.js"]&&Y(ds)&&0<Object.keys(ds).length)this.trigger("vttjsloaded");else{const e=document.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=()=>{this.trigger("vttjsloaded")},e.onerror=()=>{this.trigger("vttjserror")},this.on("dispose",()=>{e.onload=null,e.onerror=null}),window.WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)}emulateTextTracks(){const i=this.textTracks(),e=this.remoteTextTracks(),t=e=>i.addTrack(e.track),s=e=>i.removeTrack(e.track),r=(e.on("addtrack",t),e.on("removetrack",s),this.addWebVttScript_(),()=>this.trigger("texttrackchange")),n=()=>{r();for(let e=0;e<i.length;e++){var t=i[e];t.removeEventListener("cuechange",r),"showing"===t.mode&&t.addEventListener("cuechange",r)}};n(),i.addEventListener("change",n),i.addEventListener("addtrack",n),i.addEventListener("removetrack",n),this.on("dispose",function(){e.off("addtrack",t),e.off("removetrack",s),i.removeEventListener("change",n),i.removeEventListener("addtrack",n),i.removeEventListener("removetrack",n);for(let e=0;e<i.length;e++)i[e].removeEventListener("cuechange",r)})}addTextTrack(e,t,i){if(e)return e=e,t=t,i=i,r={},n=(s=this).textTracks(),r.kind=e,t&&(r.label=t),i&&(r.language=i),r.tech=s,e=new a.text.TrackClass(r),n.addTrack(e),e;throw new Error("TextTrack kind is required but was not provided");var s,r,n}createRemoteTextTrack(e){e=h(e,{tech:this});return new Ni.remoteTextEl.TrackClass(e)}addRemoteTextTrack(e={},t){const i=this.createRemoteTextTrack(e);return"boolean"!=typeof t&&(t=!1),this.remoteTextTrackEls().addTrackElement_(i),this.remoteTextTracks().addTrack(i.track),!1===t&&this.ready(()=>this.autoRemoteTextTracks_.addTrack(i.track)),i}removeRemoteTextTrack(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)}getVideoPlaybackQuality(){return{}}requestPictureInPicture(){return Promise.reject()}disablePictureInPicture(){return!0}setDisablePictureInPicture(){}requestVideoFrameCallback(e){const t=tt++;return!this.isReady_||this.paused()?(this.queuedHanders_.add(t),this.one("playing",()=>{this.queuedHanders_.has(t)&&(this.queuedHanders_.delete(t),e())})):this.requestNamedAnimationFrame(t,e),t}cancelVideoFrameCallback(e){this.queuedHanders_.has(e)?this.queuedHanders_.delete(e):this.cancelNamedAnimationFrame(e)}setPoster(){}playsinline(){}setPlaysinline(){}overrideNativeAudioTracks(e){}overrideNativeVideoTracks(e){}canPlayType(e){return""}static canPlayType(e){return""}static canPlaySource(e,t){return _.canPlayType(e.type)}static isTech(e){return e.prototype instanceof _||e instanceof _||e===_}static registerTech(e,t){if(_.techs_||(_.techs_={}),!_.isTech(t))throw new Error(`Tech ${e} must be a Tech`);if(!_.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(_.canPlaySource)return e=g(e),_.techs_[e]=t,_.techs_[At(e)]=t,"Tech"!==e&&_.defaultTechOrder_.push(e),t;throw new Error("Techs must have a static canPlaySource method on them")}static getTech(e){if(e)return _.techs_&&_.techs_[e]?_.techs_[e]:(e=g(e),window&&window.videojs&&window.videojs[e]?(d.warn(`The ${e} tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)`),window.videojs[e]):void 0)}}a.names.forEach(function(e){const t=a[e];_.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}}),_.prototype.featuresVolumeControl=!0,_.prototype.featuresMuteControl=!0,_.prototype.featuresFullscreenResize=!1,_.prototype.featuresPlaybackRate=!1,_.prototype.featuresProgressEvents=!1,_.prototype.featuresSourceset=!1,_.prototype.featuresTimeupdateEvents=!1,_.prototype.featuresNativeTextTracks=!1,_.prototype.featuresVideoFrameCallback=!1,_.withSourceHandlers=function(r){r.registerSourceHandler=function(e,t){let i=r.sourceHandlers;i=i||(r.sourceHandlers=[]),void 0===t&&(t=i.length),i.splice(t,0,e)},r.canPlayType=function(t){var i,s=r.sourceHandlers||[];for(let e=0;e<s.length;e++)if(i=s[e].canPlayType(t))return i;return""},r.selectSourceHandler=function(t,i){var s=r.sourceHandlers||[];for(let e=0;e<s.length;e++)if(s[e].canHandleSource(t,i))return s[e];return null},r.canPlaySource=function(e,t){var i=r.selectSourceHandler(e,t);return i?i.canHandleSource(e,t):""};["seekable","seeking","duration"].forEach(function(e){const t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})},r.prototype),r.prototype.setSource=function(e){let t=r.selectSourceHandler(e,this.options_);t||(r.nativeSourceHandler?t=r.nativeSourceHandler:d.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),t!==r.nativeSourceHandler&&(this.currentSource_=e),this.sourceHandler_=t.handleSource(e,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},r.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},f.registerComponent("Tech",_),_.registerTech("Tech",_),_.defaultTechOrder_=[];const hs={},us={},cs={};function ps(e,t,i){e.setTimeout(()=>function i(s={},e=[],r,n,a=[],o=!1){const[t,...l]=e;if("string"==typeof t)i(s,hs[t],r,n,a,o);else if(t){const d=vs(n,t);if(!d.setSource)return a.push(d),i(s,l,r,n,a,o);d.setSource(Object.assign({},s),function(e,t){if(e)return i(s,l,r,n,a,o);a.push(d),i(t,s.type===t.type?l:hs[t.type],r,n,a,o)})}else l.length?i(s,l,r,n,a,o):o?r(s,a):i(s,hs["*"],r,n,a,!0)}(t,hs[t.type],i,e),1)}function ms(e,t,i,s=null){var r="call"+g(i),r=e.reduce(_s(r),s),s=r===cs,t=s?null:t[i](r),n=e,a=i,o=t,l=s;for(let e=n.length-1;0<=e;e--){var d=n[e];d[a]&&d[a](l,o)}return t}const gs={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},fs={setCurrentTime:1,setMuted:1,setVolume:1},ys={play:1,pause:1};function _s(i){return(e,t)=>e===cs?cs:t[i]?t[i](e):e}function vs(e,t){var i=us[e.id()];let s=null;if(null==i)s=t(e),us[e.id()]=[[t,s]];else{for(let e=0;e<i.length;e++){var[r,n]=i[e];r===t&&(s=n)}null===s&&(s=t(e),i.push([t,s]))}return s}function bs(e){if(Array.isArray(e)){let t=[];e.forEach(function(e){e=bs(e),Array.isArray(e)?t=t.concat(e):K(e)&&t.push(e)}),e=t}else e="string"==typeof e&&e.trim()?[ws({src:e})]:K(e)&&"string"==typeof e.src&&e.src&&e.src.trim()?[ws(e)]:[];return e}const Ts={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},Ss=function(e=""){e=ui(e);return Ts[e.toLowerCase()]||""};function ws(e){var t;return e.type||(t=Ss(e.src))&&(e.type=t),e}class Es extends f{constructor(s,e,t){if(super(s,h({createEl:!1},e),t),e.playerOptions.sources&&0!==e.playerOptions.sources.length)s.src(e.playerOptions.sources);else for(let t=0,i=e.playerOptions.techOrder;t<i.length;t++){var r=g(i[t]);let e=_.getTech(r);if((e=r?e:f.getComponent(r))&&e.isSupported()){s.loadTech_(r);break}}}}f.registerComponent("MediaLoader",Es);class ks extends f{constructor(e,t){super(e,t),this.options_.controlText&&this.controlText(this.options_.controlText),this.handleMouseOver_=e=>this.handleMouseOver(e),this.handleMouseOut_=e=>this.handleMouseOut(e),this.handleClick_=e=>this.handleClick(e),this.handleKeyDown_=e=>this.handleKeyDown(e),this.emitTapEvents(),this.enable()}createEl(e="div",t={},i={}){t=Object.assign({className:this.buildCSSClass(),tabIndex:0},t),"button"===e&&d.error(`Creating a ClickableComponent with an HTML element of ${e} is not supported; use a Button instead.`),i=Object.assign({role:"button"},i),this.tabIndex_=t.tabIndex;e=o(e,t,i);return e.appendChild(o("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(e),e}dispose(){this.controlTextEl_=null,super.dispose()}createControlTextEl(e){return this.controlTextEl_=o("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_}controlText(e,t=this.el()){if(void 0===e)return this.controlText_||"Need Text";var i=this.localize(e);this.controlText_=e,Se(this.controlTextEl_,i),this.nonIconControl||this.player_.options_.noUITitleAttributes||t.setAttribute("title",i)}buildCSSClass(){return"vjs-control vjs-button "+super.buildCSSClass()}enable(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),"undefined"!=typeof this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))}disable(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),"undefined"!=typeof this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)}handleLanguagechange(){this.controlText(this.controlText_)}handleClick(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)}handleKeyDown(e){r.isEventKey(e,"Space")||r.isEventKey(e,"Enter")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}f.registerComponent("ClickableComponent",ks);class Cs extends ks{constructor(e,t){super(e,t),this.update(),this.update_=e=>this.update(e),e.on("posterchange",this.update_)}dispose(){this.player().off("posterchange",this.update_),super.dispose()}createEl(){return o("div",{className:"vjs-poster"})}crossOrigin(e){if("undefined"==typeof e)return this.$("img")?this.$("img").crossOrigin:this.player_.tech_&&this.player_.tech_.isReady_?this.player_.crossOrigin():this.player_.options_.crossOrigin||this.player_.options_.crossorigin||null;null!==e&&"anonymous"!==e&&"use-credentials"!==e?this.player_.log.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`):this.$("img")&&(this.$("img").crossOrigin=e)}update(e){var t=this.player().poster();this.setSrc(t),t?this.show():this.hide()}setSrc(e){e?(this.$("img")||this.el_.appendChild(o("picture",{className:"vjs-poster",tabIndex:-1},{},o("img",{loading:"lazy",crossOrigin:this.crossOrigin()},{alt:""}))),this.$("img").src=e):this.el_.textContent=""}handleClick(e){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?Gt(this.player_.play()):this.player_.pause())}}Cs.prototype.crossorigin=Cs.prototype.crossOrigin,f.registerComponent("PosterImage",Cs);const Is={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function xs(e,t){let i;if(4===e.length)i=e[1]+e[1]+e[2]+e[2]+e[3]+e[3];else{if(7!==e.length)throw new Error("Invalid color code provided, "+e+"; must be formatted as e.g. #f0e or #f604e2.");i=e.slice(1)}return"rgba("+parseInt(i.slice(0,2),16)+","+parseInt(i.slice(2,4),16)+","+parseInt(i.slice(4,6),16)+","+t+")"}function As(e,t,i){try{e.style[t]=i}catch(e){}}class Ps extends f{constructor(s,e,t){super(s,e,t);const r=e=>this.updateDisplay(e);s.on("loadstart",e=>this.toggleDisplay(e)),s.on("texttrackchange",r),s.on("loadedmetadata",e=>this.preselectTrack(e)),s.ready(m(this,function(){if(s.tech_&&s.tech_.featuresNativeTextTracks)this.hide();else{s.on("fullscreenchange",r),s.on("playerresize",r);const e=window.screen.orientation||window,i=window.screen.orientation?"change":"orientationchange";e.addEventListener(i,r),s.on("dispose",()=>e.removeEventListener(i,r));var t=this.options_.playerOptions.tracks||[];for(let e=0;e<t.length;e++)this.player_.addRemoteTextTrack(t[e],!0);this.preselectTrack()}}))}preselectTrack(){var t={captions:1,subtitles:1},i=this.player_.textTracks(),s=this.player_.cache_.selectedLanguage;let r,n,a;for(let e=0;e<i.length;e++){var o=i[e];s&&s.enabled&&s.language&&s.language===o.language&&o.kind in t?a=o.kind!==s.kind&&a||o:s&&!s.enabled?(a=null,r=null,n=null):o.default&&("descriptions"!==o.kind||r?o.kind in t&&!n&&(n=o):r=o)}a?a.mode="showing":n?n.mode="showing":r&&(r.mode="showing")}toggleDisplay(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()}createEl(){return super.createEl("div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})}clearDisplay(){"function"==typeof window.WebVTT&&window.WebVTT.processCues(window,[],this.el_)}updateDisplay(){var s=this.player_.textTracks(),e=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),e){var t=[];for(let e=0;e<s.length;++e){var i=s[e];"showing"===i.mode&&t.push(i)}this.updateForTrack(t)}else{let e=null,t=null,i=s.length;for(;i--;){var r=s[i];"showing"===r.mode&&("descriptions"===r.kind?e=r:t=r)}t?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(t)):e&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(e))}}updateDisplayState(e){var t=this.player_.textTrackSettings.getValues(),i=e.activeCues;let s=i.length;for(;s--;){var r,n=i[s];n&&(n=n.displayState,t.color&&(n.firstChild.style.color=t.color),t.textOpacity&&As(n.firstChild,"color",xs(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(n.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&As(n.firstChild,"backgroundColor",xs(t.backgroundColor||"#000",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?As(n,"backgroundColor",xs(t.windowColor,t.windowOpacity)):n.style.backgroundColor=t.windowColor),t.edgeStyle&&("dropshadow"===t.edgeStyle?n.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===t.edgeStyle?n.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===t.edgeStyle?n.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===t.edgeStyle&&(n.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),t.fontPercent&&1!==t.fontPercent&&(r=window.parseFloat(n.style.fontSize),n.style.fontSize=r*t.fontPercent+"px",n.style.height="auto",n.style.top="auto"),t.fontFamily)&&"default"!==t.fontFamily&&("small-caps"===t.fontFamily?n.firstChild.style.fontVariant="small-caps":n.firstChild.style.fontFamily=Is[t.fontFamily])}}updateForTrack(i){if(Array.isArray(i)||(i=[i]),"function"==typeof window.WebVTT&&!i.every(e=>!e.activeCues)){var t=[];for(let e=0;e<i.length;++e){var s=i[e];for(let e=0;e<s.activeCues.length;++e)t.push(s.activeCues[e])}window.WebVTT.processCues(window,t,this.el_);for(let t=0;t<i.length;++t){var r=i[t];for(let e=0;e<r.activeCues.length;++e){var n=r.activeCues[e].displayState;ke(n,"vjs-text-track-cue","vjs-text-track-cue-"+(r.language||t)),r.language&&Le(n,"lang",r.language)}this.player_.textTrackSettings&&this.updateDisplayState(r)}}}}f.registerComponent("TextTrackDisplay",Ps);class Ls extends f{createEl(){var e=this.player_.isAudio(),e=this.localize(e?"Audio Player":"Video Player"),e=o("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[e])}),t=super.createEl("div",{className:"vjs-loading-spinner",dir:"ltr"});return t.appendChild(e),t}handleLanguagechange(){this.$(".vjs-control-text").textContent=this.localize("{1} is loading.",[this.player_.isAudio()?"Audio Player":"Video Player"])}}f.registerComponent("LoadingSpinner",Ls);class s extends ks{createEl(e,t={},i={}){t=o("button",t=Object.assign({className:this.buildCSSClass()},t),i=Object.assign({type:"button"},i));return t.appendChild(o("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(t),t}addChild(e,t={}){var i=this.constructor.name;return d.warn(`Adding an actionable (user controllable) child to a Button (${i}) is not supported; use a ClickableComponent instead.`),f.prototype.addChild.call(this,e,t)}enable(){super.enable(),this.el_.removeAttribute("disabled")}disable(){super.disable(),this.el_.setAttribute("disabled","disabled")}handleKeyDown(e){r.isEventKey(e,"Space")||r.isEventKey(e,"Enter")?e.stopPropagation():super.handleKeyDown(e)}}f.registerComponent("Button",s);class Os extends s{constructor(e,t){super(e,t),this.mouseused_=!1,this.on("mousedown",e=>this.handleMouseDown(e))}buildCSSClass(){return"vjs-big-play-button"}handleClick(e){var t=this.player_.play();if(this.mouseused_&&e.clientX&&e.clientY)Gt(t),this.player_.tech(!0)&&this.player_.tech(!0).focus();else{var e=this.player_.getChild("controlBar");const i=e&&e.getChild("playToggle");i?(e=()=>i.focus(),Wt(t)?t.then(e,()=>{}):this.setTimeout(e,1)):this.player_.tech(!0).focus()}}handleKeyDown(e){this.mouseused_=!1,super.handleKeyDown(e)}handleMouseDown(e){this.mouseused_=!0}}Os.prototype.controlText_="Play Video",f.registerComponent("BigPlayButton",Os);s;f.registerComponent("CloseButton",class extends s{constructor(e,t){super(e,t),this.controlText(t&&t.controlText||this.localize("Close"))}buildCSSClass(){return"vjs-close-button "+super.buildCSSClass()}handleClick(e){this.trigger({type:"close",bubbles:!1})}handleKeyDown(e){r.isEventKey(e,"Esc")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}});class Ds extends s{constructor(e,t={}){super(e,t),t.replay=void 0===t.replay||t.replay,this.on(e,"play",e=>this.handlePlay(e)),this.on(e,"pause",e=>this.handlePause(e)),t.replay&&this.on(e,"ended",e=>this.handleEnded(e))}buildCSSClass(){return"vjs-play-control "+super.buildCSSClass()}handleClick(e){this.player_.paused()?Gt(this.player_.play()):this.player_.pause()}handleSeeked(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)}handlePlay(e){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")}handlePause(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")}handleEnded(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",e=>this.handleSeeked(e))}}Ds.prototype.controlText_="Play",f.registerComponent("PlayToggle",Ds);class Ns extends f{constructor(e,t){super(e,t),this.on(e,["timeupdate","ended"],e=>this.updateContent(e)),this.updateTextNode_()}createEl(){var e=this.buildCSSClass(),t=super.createEl("div",{className:e+" vjs-time-control vjs-control"}),i=o("span",{className:"vjs-control-text",textContent:this.localize(this.labelText_)+""},{role:"presentation"});return t.appendChild(i),this.contentEl_=o("span",{className:e+"-display"},{role:"presentation"}),t.appendChild(this.contentEl_),t}dispose(){this.contentEl_=null,this.textNode_=null,super.dispose()}updateTextNode_(e=0){e=Ht(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",()=>{if(this.contentEl_){let e=this.textNode_;e&&this.contentEl_.firstChild!==e&&(e=null,d.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),this.textNode_=document.createTextNode(this.formattedTime_),this.textNode_&&(e?this.contentEl_.replaceChild(this.textNode_,e):this.contentEl_.appendChild(this.textNode_))}}))}updateContent(e){}}Ns.prototype.labelText_="Time",Ns.prototype.controlText_="Time",f.registerComponent("TimeDisplay",Ns);class Ms extends Ns{buildCSSClass(){return"vjs-current-time"}updateContent(e){let t;t=this.player_.ended()?this.player_.duration():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(t)}}Ms.prototype.labelText_="Current Time",Ms.prototype.controlText_="Current Time",f.registerComponent("CurrentTimeDisplay",Ms);class Rs extends Ns{constructor(e,t){super(e,t);t=e=>this.updateContent(e);this.on(e,"durationchange",t),this.on(e,"loadstart",t),this.on(e,"loadedmetadata",t)}buildCSSClass(){return"vjs-duration"}updateContent(e){var t=this.player_.duration();this.updateTextNode_(t)}}Rs.prototype.labelText_="Duration",Rs.prototype.controlText_="Duration",f.registerComponent("DurationDisplay",Rs);class Us extends f{createEl(){var e=super.createEl("div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),t=super.createEl("div"),i=super.createEl("span",{textContent:"/"});return t.appendChild(i),e.appendChild(t),e}}f.registerComponent("TimeDivider",Us);class Bs extends Ns{constructor(e,t){super(e,t),this.on(e,"durationchange",e=>this.updateContent(e))}buildCSSClass(){return"vjs-remaining-time"}createEl(){var e=super.createEl();return!1!==this.options_.displayNegative&&e.insertBefore(o("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e}updateContent(e){if("number"==typeof this.player_.duration()){let e;e=this.player_.ended()?0:this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime(),this.updateTextNode_(e)}}}Bs.prototype.labelText_="Remaining Time",Bs.prototype.controlText_="Remaining Time",f.registerComponent("RemainingTimeDisplay",Bs);class Fs extends f{constructor(e,t){super(e,t),this.updateShowing(),this.on(this.player(),"durationchange",e=>this.updateShowing(e))}createEl(){var e=super.createEl("div",{className:"vjs-live-control vjs-control"});return this.contentEl_=o("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(o("span",{className:"vjs-control-text",textContent:this.localize("Stream Type")+""})),this.contentEl_.appendChild(document.createTextNode(this.localize("LIVE"))),e.appendChild(this.contentEl_),e}dispose(){this.contentEl_=null,super.dispose()}updateShowing(e){this.player().duration()===1/0?this.show():this.hide()}}f.registerComponent("LiveDisplay",Fs);class js extends s{constructor(e,t){super(e,t),this.updateLiveEdgeStatus(),this.player_.liveTracker&&(this.updateLiveEdgeStatusHandler_=e=>this.updateLiveEdgeStatus(e),this.on(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_))}createEl(){var e=super.createEl("button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=o("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e}updateLiveEdgeStatus(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))}handleClick(){this.player_.liveTracker.seekToLiveEdge()}dispose(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,super.dispose()}}function Hs(e,t,i){return e=Number(e),Math.min(i,Math.max(t,isNaN(e)?t:e))}js.prototype.controlText_="Seek to live, currently playing live",f.registerComponent("SeekToLive",js);pi=Object.freeze({__proto__:null,clamp:Hs});class qs extends f{constructor(e,t){super(e,t),this.handleMouseDown_=e=>this.handleMouseDown(e),this.handleMouseUp_=e=>this.handleMouseUp(e),this.handleKeyDown_=e=>this.handleKeyDown(e),this.handleClick_=e=>this.handleClick(e),this.handleMouseMove_=e=>this.handleMouseMove(e),this.update_=e=>this.update(e),this.bar=this.getChild(this.options_.barName),this.vertical(!!this.options_.vertical),this.enable()}enabled(){return this.enabled_}enable(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)}disable(){var e;this.enabled()&&(e=this.bar.el_.ownerDocument,this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1)}createEl(e,t={},i={}){return t.className=t.className+" vjs-slider",t=Object.assign({tabIndex:0},t),i=Object.assign({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100},i),super.createEl(e,t,i)}handleMouseDown(e){var t=this.bar.el_.ownerDocument;"mousedown"===e.type&&e.preventDefault(),"touchstart"!==e.type||ae||e.preventDefault(),De(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove_),this.on(t,"mouseup",this.handleMouseUp_),this.on(t,"touchmove",this.handleMouseMove_),this.on(t,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)}handleMouseMove(e){}handleMouseUp(e){var t=this.bar.el_.ownerDocument;Ne(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove_),this.off(t,"mouseup",this.handleMouseUp_),this.off(t,"touchmove",this.handleMouseMove_),this.off(t,"touchend",this.handleMouseUp_),this.update()}update(){if(this.el_&&this.bar){const t=this.getProgress();return t!==this.progress_&&(this.progress_=t,this.requestNamedAnimationFrame("Slider#update",()=>{var e=this.vertical()?"height":"width";this.bar.el().style[e]=(100*t).toFixed(2)+"%"})),t}}getProgress(){return Number(Hs(this.getPercent(),0,1).toFixed(4))}calculateDistance(e){e=Ue(this.el_,e);return this.vertical()?e.y:e.x}handleKeyDown(e){r.isEventKey(e,"Left")||r.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepBack()):r.isEventKey(e,"Right")||r.isEventKey(e,"Up")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e)}handleClick(e){e.stopPropagation(),e.preventDefault()}vertical(e){if(void 0===e)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")}}f.registerComponent("Slider",qs);const Vs=(e,t)=>Hs(e/t*100,0,100).toFixed(2)+"%";class $s extends f{constructor(e,t){super(e,t),this.partEls_=[],this.on(e,"progress",e=>this.update(e))}createEl(){var e=super.createEl("div",{className:"vjs-load-progress"}),t=o("span",{className:"vjs-control-text"}),i=o("span",{textContent:this.localize("Loaded")}),s=document.createTextNode(": ");return this.percentageEl_=o("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(t),t.appendChild(i),t.appendChild(s),t.appendChild(this.percentageEl_),e}dispose(){this.partEls_=null,this.percentageEl_=null,super.dispose()}update(e){this.requestNamedAnimationFrame("LoadProgressBar#update",()=>{var e=this.player_.liveTracker,i=this.player_.buffered(),e=e&&e.isLive()?e.seekableEnd():this.player_.duration(),s=this.player_.bufferedEnd(),r=this.partEls_,e=Vs(s,e);this.percent_!==e&&(this.el_.style.width=e,Se(this.percentageEl_,e),this.percent_=e);for(let t=0;t<i.length;t++){var n=i.start(t),a=i.end(t);let e=r[t];e||(e=this.el_.appendChild(o()),r[t]=e),e.dataset.start===n&&e.dataset.end===a||(e.dataset.start=n,e.dataset.end=a,e.style.left=Vs(n,s),e.style.width=Vs(a-n,s))}for(let e=r.length;e>i.length;e--)this.el_.removeChild(r[e-1]);r.length=i.length})}}f.registerComponent("LoadProgressBar",$s);class Ws extends f{constructor(e,t){super(e,t),this.update=ct(m(this,this.update),30)}createEl(){return super.createEl("div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})}update(t,i,s){var r=Re(this.el_),n=Me(this.player_.el()),i=t.width*i;if(n&&r){var a=t.left-n.left+i,i=t.width-i+(n.right-t.right);let e=r.width/2;a<e?e+=e-a:i<e&&(e=i),e<0?e=0:e>r.width&&(e=r.width),e=Math.round(e),this.el_.style.right=`-${e}px`,this.write(s)}}write(e){Se(this.el_,e)}updateTime(r,n,a,o){this.requestNamedAnimationFrame("TimeTooltip#updateTime",()=>{let e;var t,i,s=this.player_.duration();e=this.player_.liveTracker&&this.player_.liveTracker.isLive()?((i=(t=this.player_.liveTracker.liveWindow())-n*t)<1?"":"-")+Ht(i,t):Ht(a,s),this.update(r,n,e),o&&o()})}}f.registerComponent("TimeTooltip",Ws);class Gs extends f{constructor(e,t){super(e,t),this.update=ct(m(this,this.update),30)}createEl(){return super.createEl("div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})}update(e,t){var i,s=this.getChild("timeTooltip");s&&(i=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),s.updateTime(e,t,i))}}Gs.prototype.options_={children:[]},u||te||Gs.prototype.options_.children.push("timeTooltip"),f.registerComponent("PlayProgressBar",Gs);class zs extends f{constructor(e,t){super(e,t),this.update=ct(m(this,this.update),30)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,t){var i=t*this.player_.duration();this.getChild("timeTooltip").updateTime(e,t,i,()=>{this.el_.style.left=e.width*t+"px"})}}zs.prototype.options_={children:["timeTooltip"]},f.registerComponent("MouseTimeDisplay",zs);class Xs extends qs{constructor(e,t){super(e,t),this.setEventHandlers_()}setEventHandlers_(){this.update_=m(this,this.update),this.update=ct(this.update_,30),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=e=>this.enableInterval_(e),this.disableIntervalHandler_=e=>this.disableInterval_(e),this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in document&&"visibilityState"in document&&this.on(document,"visibilitychange",this.toggleVisibility_)}toggleVisibility_(e){"hidden"===document.visibilityState?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(this.player_.ended()||this.player_.paused()||this.enableInterval_(),this.update())}enableInterval_(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,30))}disableInterval_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&"ended"!==e.type||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)}createEl(){return super.createEl("div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})}update(e){if("hidden"!==document.visibilityState){const s=super.update();return this.requestNamedAnimationFrame("SeekBar#update",()=>{var e=this.player_.ended()?this.player_.duration():this.getCurrentTime_(),t=this.player_.liveTracker;let i=this.player_.duration();t&&t.isLive()&&(i=this.player_.liveTracker.liveCurrentTime()),this.percent_!==s&&(this.el_.setAttribute("aria-valuenow",(100*s).toFixed(2)),this.percent_=s),this.currentTime_===e&&this.duration_===i||(this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[Ht(e,i),Ht(i,i)],"{1} of {2}")),this.currentTime_=e,this.duration_=i),this.bar&&this.bar.update(Me(this.el()),this.getProgress())}),s}}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}getCurrentTime_(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()}getPercent(){var e=this.getCurrentTime_();let t;var i=this.player_.liveTracker;return i&&i.isLive()?(t=(e-i.seekableStart())/i.liveWindow(),i.atLiveEdge()&&(t=1)):t=e/this.player_.duration(),t}handleMouseDown(e){Ve(e)&&(e.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),super.handleMouseDown(e))}handleMouseMove(t,i=!1){if(Ve(t)){i||this.player_.scrubbing()||this.player_.scrubbing(!0);let e;i=this.calculateDistance(t),t=this.player_.liveTracker;if(t&&t.isLive()){if(.99<=i)return void t.seekToLiveEdge();var s=t.seekableStart(),r=t.liveCurrentTime();if((e=(e=(e=s+i*t.liveWindow())>=r?r:e)<=s?s+.1:e)===1/0)return}else(e=i*this.player_.duration())===this.player_.duration()&&(e-=.1);this.userSeek_(e)}}enable(){super.enable();var e=this.getChild("mouseTimeDisplay");e&&e.show()}disable(){super.disable();var e=this.getChild("mouseTimeDisplay");e&&e.hide()}handleMouseUp(e){super.handleMouseUp(e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?Gt(this.player_.play()):this.update_()}stepForward(){this.userSeek_(this.player_.currentTime()+5)}stepBack(){this.userSeek_(this.player_.currentTime()-5)}handleAction(e){this.player_.paused()?this.player_.play():this.player_.pause()}handleKeyDown(e){var t,i=this.player_.liveTracker;r.isEventKey(e,"Space")||r.isEventKey(e,"Enter")?(e.preventDefault(),e.stopPropagation(),this.handleAction(e)):r.isEventKey(e,"Home")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(0)):r.isEventKey(e,"End")?(e.preventDefault(),e.stopPropagation(),i&&i.isLive()?this.userSeek_(i.liveCurrentTime()):this.userSeek_(this.player_.duration())):/^[0-9]$/.test(r(e))?(e.preventDefault(),e.stopPropagation(),t=10*(r.codes[r(e)]-r.codes[0])/100,i&&i.isLive()?this.userSeek_(i.seekableStart()+i.liveWindow()*t):this.userSeek_(this.player_.duration()*t)):r.isEventKey(e,"PgDn")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()-60)):r.isEventKey(e,"PgUp")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()+60)):super.handleKeyDown(e)}dispose(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in document&&"visibilityState"in document&&this.off(document,"visibilitychange",this.toggleVisibility_),super.dispose()}}Xs.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},u||te||Xs.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),f.registerComponent("SeekBar",Xs);class Ks extends f{constructor(e,t){super(e,t),this.handleMouseMove=ct(m(this,this.handleMouseMove),30),this.throttledHandleMouseSeek=ct(m(this,this.handleMouseSeek),30),this.handleMouseUpHandler_=e=>this.handleMouseUp(e),this.handleMouseDownHandler_=e=>this.handleMouseDown(e),this.enable()}createEl(){return super.createEl("div",{className:"vjs-progress-control vjs-control"})}handleMouseMove(e){var t,i,s,r,n=this.getChild("seekBar");n&&(t=n.getChild("playProgressBar"),i=n.getChild("mouseTimeDisplay"),t||i)&&(s=Re(r=n.el()),r=Hs(r=Ue(r,e).x,0,1),i&&i.update(s,r),t)&&t.update(s,n.getProgress())}handleMouseSeek(e){var t=this.getChild("seekBar");t&&t.handleMouseMove(e)}enabled(){return this.enabled_}disable(){var e;this.children().forEach(e=>e.disable&&e.disable()),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())&&(e=this.getChild("seekBar"),this.player_.scrubbing(!1),e.videoWasPlaying)&&Gt(this.player_.play())}enable(){this.children().forEach(e=>e.enable&&e.enable()),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)}removeListenersAddedOnMousedownAndTouchstart(){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)}handleMouseDown(e){var t=this.el_.ownerDocument,i=this.getChild("seekBar");i&&i.handleMouseDown(e),this.on(t,"mousemove",this.throttledHandleMouseSeek),this.on(t,"touchmove",this.throttledHandleMouseSeek),this.on(t,"mouseup",this.handleMouseUpHandler_),this.on(t,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){var t=this.getChild("seekBar");t&&t.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()}}Ks.prototype.options_={children:["seekBar"]},f.registerComponent("ProgressControl",Ks);class Ys extends s{constructor(e,t){super(e,t),this.on(e,["enterpictureinpicture","leavepictureinpicture"],e=>this.handlePictureInPictureChange(e)),this.on(e,["disablepictureinpicturechanged","loadedmetadata"],e=>this.handlePictureInPictureEnabledChange(e)),this.on(e,["loadedmetadata","audioonlymodechange","audiopostermodechange"],()=>{"audio"===e.currentType().substring(0,5)||e.audioPosterMode()||e.audioOnlyMode()?(e.isInPictureInPicture()&&e.exitPictureInPicture(),this.hide()):this.show()}),this.disable()}buildCSSClass(){return"vjs-picture-in-picture-control "+super.buildCSSClass()}handlePictureInPictureEnabledChange(){document.pictureInPictureEnabled&&!1===this.player_.disablePictureInPicture()||this.player_.options_.enableDocumentPictureInPicture&&"documentPictureInPicture"in window?this.enable():this.disable()}handlePictureInPictureChange(e){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()}handleClick(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()}}Ys.prototype.controlText_="Picture-in-Picture",f.registerComponent("PictureInPictureToggle",Ys);class Qs extends s{constructor(e,t){super(e,t),this.on(e,"fullscreenchange",e=>this.handleFullscreenChange(e)),!1===document[e.fsApi_.fullscreenEnabled]&&this.disable()}buildCSSClass(){return"vjs-fullscreen-control "+super.buildCSSClass()}handleFullscreenChange(e){this.player_.isFullscreen()?this.controlText("Exit Fullscreen"):this.controlText("Fullscreen")}handleClick(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()}}Qs.prototype.controlText_="Fullscreen",f.registerComponent("FullscreenToggle",Qs);class Js extends f{createEl(){var e=super.createEl("div",{className:"vjs-volume-level"});return e.appendChild(super.createEl("span",{className:"vjs-control-text"})),e}}f.registerComponent("VolumeLevel",Js);class Zs extends f{constructor(e,t){super(e,t),this.update=ct(m(this,this.update),30)}createEl(){return super.createEl("div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})}update(t,i,s,e){if(!s){var s=Me(this.el_),r=Me(this.player_.el()),i=t.width*i;if(!r||!s)return;var n=t.left-r.left+i,i=t.width-i+(r.right-t.right);let e=s.width/2;n<e?e+=e-n:i<e&&(e=i),e<0?e=0:e>s.width&&(e=s.width),this.el_.style.right=`-${e}px`}this.write(e+"%")}write(e){Se(this.el_,e)}updateVolume(e,t,i,s,r){this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",()=>{this.update(e,t,i,s.toFixed(0)),r&&r()})}}f.registerComponent("VolumeLevelTooltip",Zs);class er extends f{constructor(e,t){super(e,t),this.update=ct(m(this,this.update),30)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,t,i){var s=100*t;this.getChild("volumeLevelTooltip").updateVolume(e,t,i,s,()=>{i?this.el_.style.bottom=e.height*t+"px":this.el_.style.left=e.width*t+"px"})}}er.prototype.options_={children:["volumeLevelTooltip"]},f.registerComponent("MouseVolumeLevelDisplay",er);class tr extends qs{constructor(e,t){super(e,t),this.on("slideractive",e=>this.updateLastVolume_(e)),this.on(e,"volumechange",e=>this.updateARIAAttributes(e)),e.ready(()=>this.updateARIAAttributes())}createEl(){return super.createEl("div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})}handleMouseDown(e){Ve(e)&&super.handleMouseDown(e)}handleMouseMove(e){var t,i,s,r=this.getChild("mouseVolumeLevelDisplay");r&&(t=Me(s=this.el()),i=this.vertical(),s=Ue(s,e),s=Hs(s=i?s.y:s.x,0,1),r.update(t,s,i)),Ve(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))}checkMuted(){this.player_.muted()&&this.player_.muted(!1)}getPercent(){return this.player_.muted()?0:this.player_.volume()}stepForward(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)}stepBack(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)}updateARIAAttributes(e){var t=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")}volumeAsPercentage_(){return Math.round(100*this.player_.volume())}updateLastVolume_(){const e=this.player_.volume();this.one("sliderinactive",()=>{0===this.player_.volume()&&this.player_.lastVolume_(e)})}}tr.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},u||te||tr.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay"),tr.prototype.playerEvent="volumechange",f.registerComponent("VolumeBar",tr);class ir extends f{constructor(e,t={}){var i,s;t.vertical=t.vertical||!1,"undefined"!=typeof t.volumeBar&&!Y(t.volumeBar)||(t.volumeBar=t.volumeBar||{},t.volumeBar.vertical=t.vertical),super(e,t),i=this,(s=e).tech_&&!s.tech_.featuresVolumeControl&&i.addClass("vjs-hidden"),i.on(s,"loadstart",function(){s.tech_.featuresVolumeControl?i.removeClass("vjs-hidden"):i.addClass("vjs-hidden")}),this.throttledHandleMouseMove=ct(m(this,this.handleMouseMove),30),this.handleMouseUpHandler_=e=>this.handleMouseUp(e),this.on("mousedown",e=>this.handleMouseDown(e)),this.on("touchstart",e=>this.handleMouseDown(e)),this.on("mousemove",e=>this.handleMouseMove(e)),this.on(this.volumeBar,["focus","slideractive"],()=>{this.volumeBar.addClass("vjs-slider-active"),this.addClass("vjs-slider-active"),this.trigger("slideractive")}),this.on(this.volumeBar,["blur","sliderinactive"],()=>{this.volumeBar.removeClass("vjs-slider-active"),this.removeClass("vjs-slider-active"),this.trigger("sliderinactive")})}createEl(){let e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),super.createEl("div",{className:"vjs-volume-control vjs-control "+e})}handleMouseDown(e){var t=this.el_.ownerDocument;this.on(t,"mousemove",this.throttledHandleMouseMove),this.on(t,"touchmove",this.throttledHandleMouseMove),this.on(t,"mouseup",this.handleMouseUpHandler_),this.on(t,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){var t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseMove),this.off(t,"touchmove",this.throttledHandleMouseMove),this.off(t,"mouseup",this.handleMouseUpHandler_),this.off(t,"touchend",this.handleMouseUpHandler_)}handleMouseMove(e){this.volumeBar.handleMouseMove(e)}}ir.prototype.options_={children:["volumeBar"]},f.registerComponent("VolumeControl",ir);class sr extends s{constructor(e,t){var i,s;super(e,t),i=this,(s=e).tech_&&!s.tech_.featuresMuteControl&&i.addClass("vjs-hidden"),i.on(s,"loadstart",function(){s.tech_.featuresMuteControl?i.removeClass("vjs-hidden"):i.addClass("vjs-hidden")}),this.on(e,["loadstart","volumechange"],e=>this.update(e))}buildCSSClass(){return"vjs-mute-control "+super.buildCSSClass()}handleClick(e){var t=this.player_.volume(),i=this.player_.lastVolume_();0===t?(this.player_.volume(i<.1?.1:i),this.player_.muted(!1)):this.player_.muted(!this.player_.muted())}update(e){this.updateIcon_(),this.updateControlText_()}updateIcon_(){var e=this.player_.volume();let t=3;u&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===e||this.player_.muted()?t=0:e<.33?t=1:e<.67&&(t=2),Ce(this.el_,[0,1,2,3].reduce((e,t)=>e+`${t?" ":""}vjs-vol-`+t,"")),ke(this.el_,"vjs-vol-"+t)}updateControlText_(){var e=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)}}sr.prototype.controlText_="Mute",f.registerComponent("MuteToggle",sr);class rr extends f{constructor(e,t={}){"undefined"!=typeof t.inline?t.inline=t.inline:t.inline=!0,"undefined"!=typeof t.volumeControl&&!Y(t.volumeControl)||(t.volumeControl=t.volumeControl||{},t.volumeControl.vertical=!t.inline),super(e,t),this.handleKeyPressHandler_=e=>this.handleKeyPress(e),this.on(e,["loadstart"],e=>this.volumePanelState_(e)),this.on(this.muteToggle,"keyup",e=>this.handleKeyPress(e)),this.on(this.volumeControl,"keyup",e=>this.handleVolumeControlKeyUp(e)),this.on("keydown",e=>this.handleKeyPress(e)),this.on("mouseover",e=>this.handleMouseOver(e)),this.on("mouseout",e=>this.handleMouseOut(e)),this.on(this.volumeControl,["slideractive"],this.sliderActive_),this.on(this.volumeControl,["sliderinactive"],this.sliderInactive_)}sliderActive_(){this.addClass("vjs-slider-active")}sliderInactive_(){this.removeClass("vjs-slider-active")}volumePanelState_(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")}createEl(){let e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),super.createEl("div",{className:"vjs-volume-panel vjs-control "+e})}dispose(){this.handleMouseOut(),super.dispose()}handleVolumeControlKeyUp(e){r.isEventKey(e,"Esc")&&this.muteToggle.focus()}handleMouseOver(e){this.addClass("vjs-hover"),ot(document,"keyup",this.handleKeyPressHandler_)}handleMouseOut(e){this.removeClass("vjs-hover"),p(document,"keyup",this.handleKeyPressHandler_)}handleKeyPress(e){r.isEventKey(e,"Esc")&&this.handleMouseOut()}}rr.prototype.options_={children:["muteToggle","volumeControl"]},f.registerComponent("VolumePanel",rr);s;f.registerComponent("SkipForward",class extends s{constructor(e,t){super(e,t),this.validOptions=[5,10,30],this.skipTime=this.getSkipForwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime])),this.show()):this.hide()}getSkipForwardTime(){var e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.forward}buildCSSClass(){return`vjs-skip-forward-${this.getSkipForwardTime()} `+super.buildCSSClass()}handleClick(e){var t=this.player_.currentTime(),i=this.player_.liveTracker,i=i&&i.isLive()?i.seekableEnd():this.player_.duration();let s;s=t+this.skipTime<=i?t+this.skipTime:i,this.player_.currentTime(s)}handleLanguagechange(){this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime]))}});class nr extends s{constructor(e,t){super(e,t),this.validOptions=[5,10,30],this.skipTime=this.getSkipBackwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime])),this.show()):this.hide()}getSkipBackwardTime(){var e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.backward}buildCSSClass(){return`vjs-skip-backward-${this.getSkipBackwardTime()} `+super.buildCSSClass()}handleClick(e){var t=this.player_.currentTime(),i=this.player_.liveTracker,i=i&&i.isLive()&&i.seekableStart();let s;s=i&&t-this.skipTime<=i?i:t>=this.skipTime?t-this.skipTime:0,this.player_.currentTime(s)}handleLanguagechange(){this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime]))}}nr.prototype.controlText_="Skip Backward",f.registerComponent("SkipBackward",nr);class ar extends f{constructor(e,t){super(e,t),t&&(this.menuButton_=t.menuButton),this.focusedChild_=-1,this.on("keydown",e=>this.handleKeyDown(e)),this.boundHandleBlur_=e=>this.handleBlur(e),this.boundHandleTapClick_=e=>this.handleTapClick(e)}addEventListenerForItem(e){e instanceof f&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))}removeEventListenerForItem(e){e instanceof f&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))}removeChild(e){"string"==typeof e&&(e=this.getChild(e)),this.removeEventListenerForItem(e),super.removeChild(e)}addItem(e){e=this.addChild(e);e&&this.addEventListenerForItem(e)}createEl(){var e=this.options_.contentElType||"ul",e=(this.contentEl_=o(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu"),super.createEl("div",{append:this.contentEl_,className:"vjs-menu"}));return e.appendChild(this.contentEl_),ot(e,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),e}dispose(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,super.dispose()}handleBlur(e){const t=e.relatedTarget||document.activeElement;this.children().some(e=>e.el()===t)||(e=this.menuButton_)&&e.buttonPressed_&&t!==e.el().firstChild&&e.unpressButton()}handleTapClick(t){var e;this.menuButton_&&(this.menuButton_.unpressButton(),e=this.children(),Array.isArray(e))&&(e=e.filter(e=>e.el()===t.target)[0])&&"CaptionSettingsMenuItem"!==e.name()&&this.menuButton_.focus()}handleKeyDown(e){r.isEventKey(e,"Left")||r.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(r.isEventKey(e,"Right")||r.isEventKey(e,"Up"))&&(e.preventDefault(),e.stopPropagation(),this.stepBack())}stepForward(){let e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)}stepBack(){let e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)}focus(e=0){var t=this.children().slice();t.length&&t[0].hasClass("vjs-menu-title")&&t.shift(),0<t.length&&(e<0?e=0:e>=t.length&&(e=t.length-1),t[this.focusedChild_=e].el_.focus())}}f.registerComponent("Menu",ar);class or extends f{constructor(e,t={}){super(e,t),this.menuButton_=new s(e,t),this.menuButton_.controlText(this.controlText_),this.menuButton_.el_.setAttribute("aria-haspopup","true");e=s.prototype.buildCSSClass(),this.menuButton_.el_.className=this.buildCSSClass()+" "+e,this.menuButton_.removeClass("vjs-control"),this.addChild(this.menuButton_),this.update(),this.enabled_=!0,t=e=>this.handleClick(e);this.handleMenuKeyUp_=e=>this.handleMenuKeyUp(e),this.on(this.menuButton_,"tap",t),this.on(this.menuButton_,"click",t),this.on(this.menuButton_,"keydown",e=>this.handleKeyDown(e)),this.on(this.menuButton_,"mouseenter",()=>{this.addClass("vjs-hover"),this.menu.show(),ot(document,"keyup",this.handleMenuKeyUp_)}),this.on("mouseleave",e=>this.handleMouseLeave(e)),this.on("keydown",e=>this.handleSubmenuKeyDown(e))}update(){var e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))}createMenu(){var e,t=new ar(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title&&(e=o("li",{className:"vjs-menu-title",textContent:g(this.options_.title),tabIndex:-1}),e=new f(this.player_,{el:e}),t.addItem(e)),this.items=this.createItems(),this.items)for(let e=0;e<this.items.length;e++)t.addItem(this.items[e]);return t}createItems(){}createEl(){return super.createEl("div",{className:this.buildWrapperCSSClass()},{})}buildWrapperCSSClass(){let e="vjs-menu-button";!0===this.options_.inline?e+="-inline":e+="-popup";var t=s.prototype.buildCSSClass();return`vjs-menu-button ${e} ${t} `+super.buildCSSClass()}buildCSSClass(){let e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup",`vjs-menu-button ${e} `+super.buildCSSClass()}controlText(e,t=this.menuButton_.el()){return this.menuButton_.controlText(e,t)}dispose(){this.handleMouseLeave(),super.dispose()}handleClick(e){this.buttonPressed_?this.unpressButton():this.pressButton()}handleMouseLeave(e){this.removeClass("vjs-hover"),p(document,"keyup",this.handleMenuKeyUp_)}focus(){this.menuButton_.focus()}blur(){this.menuButton_.blur()}handleKeyDown(e){r.isEventKey(e,"Esc")||r.isEventKey(e,"Tab")?(this.buttonPressed_&&this.unpressButton(),r.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus())):!r.isEventKey(e,"Up")&&!r.isEventKey(e,"Down")||this.buttonPressed_||(e.preventDefault(),this.pressButton())}handleMenuKeyUp(e){(r.isEventKey(e,"Esc")||r.isEventKey(e,"Tab"))&&this.removeClass("vjs-hover")}handleSubmenuKeyPress(e){this.handleSubmenuKeyDown(e)}handleSubmenuKeyDown(e){(r.isEventKey(e,"Esc")||r.isEventKey(e,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),r.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus()))}pressButton(){this.enabled_&&(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),u&&be()||this.menu.focus())}unpressButton(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))}disable(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()}enable(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()}}f.registerComponent("MenuButton",or);class lr extends or{constructor(e,t){const i=t.tracks;if(super(e,t),this.items.length<=1&&this.hide(),i){const s=m(this,this.update);i.addEventListener("removetrack",s),i.addEventListener("addtrack",s),i.addEventListener("labelchange",s),this.player_.on("ready",s),this.player_.on("dispose",function(){i.removeEventListener("removetrack",s),i.removeEventListener("addtrack",s),i.removeEventListener("labelchange",s)})}}}f.registerComponent("TrackButton",lr);const dr=["Tab","Esc","Up","Down","Right","Left"];class hr extends ks{constructor(e,t){super(e,t),this.selectable=t.selectable,this.isSelected_=t.selected||!1,this.multiSelectable=t.multiSelectable,this.selected(this.isSelected_),this.selectable?this.multiSelectable?this.el_.setAttribute("role","menuitemcheckbox"):this.el_.setAttribute("role","menuitemradio"):this.el_.setAttribute("role","menuitem")}createEl(e,t,i){this.nonIconControl=!0;t=super.createEl("li",Object.assign({className:"vjs-menu-item",tabIndex:-1},t),i);return t.replaceChild(o("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)}),t.querySelector(".vjs-icon-placeholder")),t}handleKeyDown(t){dr.some(e=>r.isEventKey(t,e))||super.handleKeyDown(t)}handleClick(e){this.selected(!0)}selected(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))}}f.registerComponent("MenuItem",hr);class ur extends hr{constructor(e,t){var i=t.track;const s=e.textTracks(),r=(t.label=i.label||i.language||"Unknown",t.selected="showing"===i.mode,super(e,t),this.track=i,this.kinds=(t.kinds||[t.kind||this.track.kind]).filter(Boolean),(...e)=>{this.handleTracksChange.apply(this,e)}),n=(...e)=>{this.handleSelectedLanguageChange.apply(this,e)};if(e.on(["loadstart","texttrackchange"],r),s.addEventListener("change",r),s.addEventListener("selectedlanguagechange",n),this.on("dispose",function(){e.off(["loadstart","texttrackchange"],r),s.removeEventListener("change",r),s.removeEventListener("selectedlanguagechange",n)}),void 0===s.onchange){let e;this.on(["tap","click"],function(){if("object"!=typeof window.Event)try{e=new window.Event("change")}catch(e){}e||(e=document.createEvent("Event")).initEvent("change",!0,!0),s.dispatchEvent(e)})}this.handleTracksChange()}handleClick(e){var t=this.track,i=this.player_.textTracks();if(super.handleClick(e),i)for(let e=0;e<i.length;e++){var s=i[e];-1!==this.kinds.indexOf(s.kind)&&(s===t?"showing"!==s.mode&&(s.mode="showing"):"disabled"!==s.mode&&(s.mode="disabled"))}}handleTracksChange(e){var t="showing"===this.track.mode;t!==this.isSelected_&&this.selected(t)}handleSelectedLanguageChange(e){var t;"showing"!==this.track.mode||(t=this.player_.cache_.selectedLanguage)&&t.enabled&&t.language===this.track.language&&t.kind!==this.track.kind||(this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind})}dispose(){this.track=null,super.dispose()}}f.registerComponent("TextTrackMenuItem",ur);class cr extends ur{constructor(e,t){t.track={player:e,kind:t.kind,kinds:t.kinds,default:!1,mode:"disabled"},t.kinds||(t.kinds=[t.kind]),t.label?t.track.label=t.label:t.track.label=t.kinds.join(" and ")+" off",t.selectable=!0,t.multiSelectable=!1,super(e,t)}handleTracksChange(e){var i=this.player().textTracks();let s=!0;for(let e=0,t=i.length;e<t;e++){var r=i[e];if(-1<this.options_.kinds.indexOf(r.kind)&&"showing"===r.mode){s=!1;break}}s!==this.isSelected_&&this.selected(s)}handleSelectedLanguageChange(e){var i=this.player().textTracks();let s=!0;for(let e=0,t=i.length;e<t;e++){var r=i[e];if(-1<["captions","descriptions","subtitles"].indexOf(r.kind)&&"showing"===r.mode){s=!1;break}}s&&(this.player_.cache_.selectedLanguage={enabled:!1})}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.label),super.handleLanguagechange()}}f.registerComponent("OffTextTrackMenuItem",cr);class pr extends lr{constructor(e,t={}){t.tracks=e.textTracks(),super(e,t)}createItems(t=[],i=ur){let e;this.label_&&(e=this.label_+" off"),t.push(new cr(this.player_,{kinds:this.kinds_,kind:this.kind_,label:e})),this.hideThreshold_+=1;var s=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(let e=0;e<s.length;e++){var r,n=s[e];-1<this.kinds_.indexOf(n.kind)&&((r=new i(this.player_,{track:n,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1})).addClass(`vjs-${n.kind}-menu-item`),t.push(r))}return t}}f.registerComponent("TextTrackButton",pr);class mr extends hr{constructor(e,t){var i=t.track,s=t.cue,r=e.currentTime();t.selectable=!0,t.multiSelectable=!1,t.label=s.text,t.selected=s.startTime<=r&&r<s.endTime,super(e,t),this.track=i,this.cue=s}handleClick(e){super.handleClick(),this.player_.currentTime(this.cue.startTime)}}f.registerComponent("ChaptersTrackMenuItem",mr);class gr extends pr{constructor(e,t,i){super(e,t,i),this.selectCurrentItem_=()=>{this.items.forEach(e=>{e.selected(this.track_.activeCues[0]===e.cue)})}}buildCSSClass(){return"vjs-chapters-button "+super.buildCSSClass()}buildWrapperCSSClass(){return"vjs-chapters-button "+super.buildWrapperCSSClass()}update(e){e&&e.track&&"chapters"!==e.track.kind||((e=this.findChaptersTrack())!==this.track_?(this.setTrack(e),super.update()):(!this.items||e&&e.cues&&e.cues.length!==this.items.length)&&super.update())}setTrack(e){var t;this.track_!==e&&(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_&&((t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_))&&t.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null),this.track_=e,this.track_)&&(this.track_.mode="hidden",(t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_))&&t.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_))}findChaptersTrack(){var t=this.player_.textTracks()||[];for(let e=t.length-1;0<=e;e--){var i=t[e];if(i.kind===this.kind_)return i}}getMenuCaption(){return this.track_&&this.track_.label?this.track_.label:this.localize(g(this.kind_))}createMenu(){return this.options_.title=this.getMenuCaption(),super.createMenu()}createItems(){var i=[];if(this.track_){var s=this.track_.cues;if(s)for(let e=0,t=s.length;e<t;e++){var r=s[e],r=new mr(this.player_,{track:this.track_,cue:r});i.push(r)}}return i}}gr.prototype.kind_="chapters",gr.prototype.controlText_="Chapters",f.registerComponent("ChaptersButton",gr);class fr extends pr{constructor(e,t,i){super(e,t,i);const s=e.textTracks(),r=m(this,this.handleTracksChange);s.addEventListener("change",r),this.on("dispose",function(){s.removeEventListener("change",r)})}handleTracksChange(e){var i=this.player().textTracks();let s=!1;for(let e=0,t=i.length;e<t;e++){var r=i[e];if(r.kind!==this.kind_&&"showing"===r.mode){s=!0;break}}s?this.disable():this.enable()}buildCSSClass(){return"vjs-descriptions-button "+super.buildCSSClass()}buildWrapperCSSClass(){return"vjs-descriptions-button "+super.buildWrapperCSSClass()}}fr.prototype.kind_="descriptions",fr.prototype.controlText_="Descriptions",f.registerComponent("DescriptionsButton",fr);class yr extends pr{constructor(e,t,i){super(e,t,i)}buildCSSClass(){return"vjs-subtitles-button "+super.buildCSSClass()}buildWrapperCSSClass(){return"vjs-subtitles-button "+super.buildWrapperCSSClass()}}yr.prototype.kind_="subtitles",yr.prototype.controlText_="Subtitles",f.registerComponent("SubtitlesButton",yr);class _r extends ur{constructor(e,t){t.track={player:e,kind:t.kind,label:t.kind+" settings",selectable:!1,default:!1,mode:"disabled"},t.selectable=!1,t.name="CaptionSettingsMenuItem",super(e,t),this.addClass("vjs-texttrack-settings"),this.controlText(", opens "+t.kind+" settings dialog")}handleClick(e){this.player().getChild("textTrackSettings").open()}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.kind+" settings"),super.handleLanguagechange()}}f.registerComponent("CaptionSettingsMenuItem",_r);class vr extends pr{constructor(e,t,i){super(e,t,i)}buildCSSClass(){return"vjs-captions-button "+super.buildCSSClass()}buildWrapperCSSClass(){return"vjs-captions-button "+super.buildWrapperCSSClass()}createItems(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new _r(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),super.createItems(e)}}vr.prototype.kind_="captions",vr.prototype.controlText_="Captions",f.registerComponent("CaptionsButton",vr);class br extends ur{createEl(e,t,i){e=super.createEl(e,t,i),t=e.querySelector(".vjs-menu-item-text");return"captions"===this.options_.track.kind&&(t.appendChild(o("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),t.appendChild(o("span",{className:"vjs-control-text",textContent:" "+this.localize("Captions")}))),e}}f.registerComponent("SubsCapsMenuItem",br);class Tr extends pr{constructor(e,t={}){super(e,t),this.label_="subtitles",-1<["en","en-us","en-ca","fr-ca"].indexOf(this.player_.language_)&&(this.label_="captions"),this.menuButton_.controlText(g(this.label_))}buildCSSClass(){return"vjs-subs-caps-button "+super.buildCSSClass()}buildWrapperCSSClass(){return"vjs-subs-caps-button "+super.buildWrapperCSSClass()}createItems(){let e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new _r(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=super.createItems(e,br)}}Tr.prototype.kinds_=["captions","subtitles"],Tr.prototype.controlText_="Subtitles",f.registerComponent("SubsCapsButton",Tr);class Sr extends hr{constructor(e,t){var i=t.track;const s=e.audioTracks(),r=(t.label=i.label||i.language||"Unknown",t.selected=i.enabled,super(e,t),this.track=i,this.addClass(`vjs-${i.kind}-menu-item`),(...e)=>{this.handleTracksChange.apply(this,e)});s.addEventListener("change",r),this.on("dispose",()=>{s.removeEventListener("change",r)})}createEl(e,t,i){e=super.createEl(e,t,i),t=e.querySelector(".vjs-menu-item-text");return"main-desc"===this.options_.track.kind&&(t.appendChild(o("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),t.appendChild(o("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),e}handleClick(e){if(super.handleClick(e),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks){var t=this.player_.audioTracks();for(let e=0;e<t.length;e++){var i=t[e];i!==this.track&&(i.enabled=i===this.track)}}}handleTracksChange(e){this.selected(this.track.enabled)}}f.registerComponent("AudioTrackMenuItem",Sr);class wr extends lr{constructor(e,t={}){t.tracks=e.audioTracks(),super(e,t)}buildCSSClass(){return"vjs-audio-button "+super.buildCSSClass()}buildWrapperCSSClass(){return"vjs-audio-button "+super.buildWrapperCSSClass()}createItems(t=[]){this.hideThreshold_=1;var i=this.player_.audioTracks();for(let e=0;e<i.length;e++){var s=i[e];t.push(new Sr(this.player_,{track:s,selectable:!0,multiSelectable:!1}))}return t}}wr.prototype.controlText_="Audio Track",f.registerComponent("AudioTrackButton",wr);class Er extends hr{constructor(e,t){var i=t.rate,s=parseFloat(i,10);t.label=i,t.selected=s===e.playbackRate(),t.selectable=!0,t.multiSelectable=!1,super(e,t),this.label=i,this.rate=s,this.on(e,"ratechange",e=>this.update(e))}handleClick(e){super.handleClick(),this.player().playbackRate(this.rate)}update(e){this.selected(this.player().playbackRate()===this.rate)}}Er.prototype.contentElType="button",f.registerComponent("PlaybackRateMenuItem",Er);class kr extends or{constructor(e,t){super(e,t),this.menuButton_.el_.setAttribute("aria-describedby",this.labelElId_),this.updateVisibility(),this.updateLabel(),this.on(e,"loadstart",e=>this.updateVisibility(e)),this.on(e,"ratechange",e=>this.updateLabel(e)),this.on(e,"playbackrateschange",e=>this.handlePlaybackRateschange(e))}createEl(){var e=super.createEl();return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=o("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),e.appendChild(this.labelEl_),e}dispose(){this.labelEl_=null,super.dispose()}buildCSSClass(){return"vjs-playback-rate "+super.buildCSSClass()}buildWrapperCSSClass(){return"vjs-playback-rate "+super.buildWrapperCSSClass()}createItems(){var t=this.playbackRates(),i=[];for(let e=t.length-1;0<=e;e--)i.push(new Er(this.player(),{rate:t[e]+"x"}));return i}handlePlaybackRateschange(e){this.update()}playbackRates(){var e=this.player();return e.playbackRates&&e.playbackRates()||[]}playbackRateSupported(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&0<this.playbackRates().length}updateVisibility(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")}updateLabel(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")}}kr.prototype.controlText_="Playback Rate",f.registerComponent("PlaybackRateMenuButton",kr);class Cr extends f{buildCSSClass(){return"vjs-spacer "+super.buildCSSClass()}createEl(e="div",t={},i={}){return t.className||(t.className=this.buildCSSClass()),super.createEl(e,t,i)}}f.registerComponent("Spacer",Cr);f.registerComponent("CustomControlSpacer",class extends Cr{buildCSSClass(){return"vjs-custom-control-spacer "+super.buildCSSClass()}createEl(){return super.createEl("div",{className:this.buildCSSClass(),textContent:""})}});class Ir extends f{createEl(){return super.createEl("div",{className:"vjs-control-bar",dir:"ltr"})}}Ir.prototype.options_={children:["playToggle","skipBackward","skipForward","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in document&&Ir.prototype.options_.children.splice(Ir.prototype.options_.children.length-1,0,"pictureInPictureToggle"),f.registerComponent("ControlBar",Ir);class xr extends Qt{constructor(e,t){super(e,t),this.on(e,"error",e=>this.open(e))}buildCSSClass(){return"vjs-error-display "+super.buildCSSClass()}content(){var e=this.player().error();return e?this.localize(e.message):""}}xr.prototype.options_=Object.assign({},Qt.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),f.registerComponent("ErrorDisplay",xr);const Ar="vjs-text-track-settings";var Mi=["#000","Black"],Ot=["#00F","Blue"],Pr=["#0FF","Cyan"],Lr=["#0F0","Green"],t=["#F0F","Magenta"],Or=["#F00","Red"],Dr=["#FFF","White"],n=["#FF0","Yellow"],Nr=["1","Opaque"],Mr=["0.5","Semi-Transparent"],Rr=["0","Transparent"];const Ur={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[Mi,Dr,Or,Lr,Ot,n,t,Pr]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Opacity",options:[Nr,Mr,Rr]},color:{selector:".vjs-text-color > select",id:"captions-foreground-color-%s",label:"Color",options:[Dr,Mi,Or,Lr,Ot,n,t,Pr]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:e=>"1.00"===e?null:Number(e)},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Opacity",options:[Nr,Mr]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Opacity",options:[Rr,Mr,Nr]}};function Br(e,t){if((e=t?t(e):e)&&"none"!==e)return e}Ur.windowColor.options=Ur.backgroundColor.options;class Fr extends Qt{constructor(e,t){t.temporary=!1,super(e,t),this.updateDisplay=this.updateDisplay.bind(this),this.fill(),this.hasBeenOpened_=this.hasBeenFilled_=!0,this.endDialog=o("p",{className:"vjs-control-text",textContent:this.localize("End of dialog window.")}),this.el().appendChild(this.endDialog),this.setDefaults(),void 0===t.persistTextTrackSettings&&(this.options_.persistTextTrackSettings=this.options_.playerOptions.persistTextTrackSettings),this.on(this.$(".vjs-done-button"),"click",()=>{this.saveSettings(),this.close()}),this.on(this.$(".vjs-default-button"),"click",()=>{this.setDefaults(),this.updateDisplay()}),z(Ur,e=>{this.on(this.$(e.selector),"change",this.updateDisplay)}),this.options_.persistTextTrackSettings&&this.restoreSettings()}dispose(){this.endDialog=null,super.dispose()}createElSelect_(e,t="",i="label"){e=Ur[e];const s=e.id.replace("%s",this.id_),r=[t,s].join(" ").trim();return[`<${i} id="${s}" class="${"label"===i?"vjs-label":""}">`,this.localize(e.label),`</${i}>`,`<select aria-labelledby="${r}">`].concat(e.options.map(e=>{var t=s+"-"+e[1].replace(/\W+/g,"");return[`<option id="${t}" value="${e[0]}" `,`aria-labelledby="${r} ${t}">`,this.localize(e[1]),"</option>"].join("")})).concat("</select>").join("")}createElFgColor_(){var e="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg vjs-track-setting">',`<legend id="${e}">`,this.localize("Text"),"</legend>",'<span class="vjs-text-color">',this.createElSelect_("color",e),"</span>",'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")}createElBgColor_(){var e="captions-background-"+this.id_;return['<fieldset class="vjs-bg vjs-track-setting">',`<legend id="${e}">`,this.localize("Text Background"),"</legend>",'<span class="vjs-bg-color">',this.createElSelect_("backgroundColor",e),"</span>",'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")}createElWinColor_(){var e="captions-window-"+this.id_;return['<fieldset class="vjs-window vjs-track-setting">',`<legend id="${e}">`,this.localize("Caption Area Background"),"</legend>",'<span class="vjs-window-color">',this.createElSelect_("windowColor",e),"</span>",'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")}createElColors_(){return o("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})}createElFont_(){return o("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})}createElControls_(){var e=this.localize("restore all settings to the default values");return o("div",{className:"vjs-track-settings-controls",innerHTML:[`<button type="button" class="vjs-default-button" title="${e}">`,this.localize("Reset"),`<span class="vjs-control-text"> ${e}</span>`,"</button>",`<button type="button" class="vjs-done-button">${this.localize("Done")}</button>`].join("")})}content(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]}label(){return this.localize("Caption Settings Dialog")}description(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")}buildCSSClass(){return super.buildCSSClass()+" vjs-text-track-settings"}getValues(){return X(Ur,(e,t,i)=>{s=this.$(t.selector),t=t.parser;var s=Br(s.options[s.options.selectedIndex].value,t);return void 0!==s&&(e[i]=s),e},{})}setValues(n){z(Ur,(e,t)=>{var i=this.$(e.selector),s=n[t],r=e.parser;if(s)for(let e=0;e<i.options.length;e++)if(Br(i.options[e].value,r)===s){i.selectedIndex=e;break}})}setDefaults(){z(Ur,e=>{var t=e.hasOwnProperty("default")?e.default:0;this.$(e.selector).selectedIndex=t})}restoreSettings(){let e;try{e=JSON.parse(window.localStorage.getItem(Ar))}catch(e){d.warn(e)}e&&this.setValues(e)}saveSettings(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?window.localStorage.setItem(Ar,JSON.stringify(e)):window.localStorage.removeItem(Ar)}catch(e){d.warn(e)}}}updateDisplay(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()}conditionalBlur_(){this.previouslyActiveEl_=null;var e=this.player_.controlBar,t=e&&e.subsCapsButton,e=e&&e.captionsButton;t?t.focus():e&&e.focus()}handleLanguagechange(){this.fill()}}f.registerComponent("TextTrackSettings",Fr);class jr extends f{constructor(e,t){let i=t.ResizeObserver||window.ResizeObserver;super(e,h({createEl:!(i=null===t.ResizeObserver?!1:i),reportTouchActivity:!1},t)),this.ResizeObserver=t.ResizeObserver||window.ResizeObserver,this.loadListener_=null,this.resizeObserver_=null,this.debouncedHandler_=pt(()=>{this.resizeHandler()},100,!1,this),i?(this.resizeObserver_=new this.ResizeObserver(this.debouncedHandler_),this.resizeObserver_.observe(e.el())):(this.loadListener_=()=>{if(this.el_&&this.el_.contentWindow){const t=this.debouncedHandler_;let e=this.unloadListener_=function(){p(this,"resize",t),p(this,"unload",e),e=null};ot(this.el_.contentWindow,"unload",e),ot(this.el_.contentWindow,"resize",t)}},this.one("load",this.loadListener_))}createEl(){return super.createEl("iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})}resizeHandler(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")}dispose(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,super.dispose()}}f.registerComponent("ResizeManager",jr);const Hr={trackingThreshold:20,liveTolerance:15};class qr extends f{constructor(e,t){super(e,h(Hr,t,{createEl:!1})),this.trackLiveHandler_=()=>this.trackLive_(),this.handlePlay_=e=>this.handlePlay(e),this.handleFirstTimeupdate_=e=>this.handleFirstTimeupdate(e),this.handleSeeked_=e=>this.handleSeeked(e),this.seekToLiveEdge_=e=>this.seekToLiveEdge(e),this.reset_(),this.on(this.player_,"durationchange",e=>this.handleDurationchange(e)),this.on(this.player_,"canplay",()=>this.toggleTracking())}trackLive_(){var t=this.player_.seekable();if(t&&t.length){var t=Number(window.performance.now().toFixed(4)),i=-1===this.lastTime_?0:(t-this.lastTime_)/1e3,t=(this.lastTime_=t,this.pastSeekEnd_=this.pastSeekEnd()+i,this.liveCurrentTime()),i=this.player_.currentTime();let e=this.player_.paused()||this.seekedBehindLive_||Math.abs(t-i)>this.options_.liveTolerance;(e=this.timeupdateSeen_&&t!==1/0?e:!1)!==this.behindLiveEdge_&&(this.behindLiveEdge_=e,this.trigger("liveedgechange"))}}handleDurationchange(){this.toggleTracking()}toggleTracking(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())}startTracking(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,30),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))}handleFirstTimeupdate(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)}handleSeeked(){var e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&2<e,this.nextSeekedFromUser_=!1,this.trackLive_()}handlePlay(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)}reset_(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)}nextSeekedFromUser(){this.nextSeekedFromUser_=!0}stopTracking(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))}seekableEnd(){var e=this.player_.seekable(),t=[];let i=e?e.length:0;for(;i--;)t.push(e.end(i));return t.length?t.sort()[t.length-1]:1/0}seekableStart(){var e=this.player_.seekable(),t=[];let i=e?e.length:0;for(;i--;)t.push(e.start(i));return t.length?t.sort()[0]:0}liveWindow(){var e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()}isLive(){return this.isTracking()}atLiveEdge(){return!this.behindLiveEdge()}liveCurrentTime(){return this.pastSeekEnd()+this.seekableEnd()}pastSeekEnd(){var e=this.seekableEnd();return-1!==this.lastSeekEnd_&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_}behindLiveEdge(){return this.behindLiveEdge_}isTracking(){return"number"==typeof this.trackingInterval_}seekToLiveEdge(){this.seekedBehindLive_=!1,this.atLiveEdge()||(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))}dispose(){this.stopTracking(),super.dispose()}}f.registerComponent("LiveTracker",qr);class Vr extends f{constructor(e,t){super(e,t),this.on("statechanged",e=>this.updateDom_()),this.updateDom_()}createEl(){return this.els={title:o("div",{className:"vjs-title-bar-title",id:"vjs-title-bar-title-"+tt++}),description:o("div",{className:"vjs-title-bar-description",id:"vjs-title-bar-description-"+tt++})},o("div",{className:"vjs-title-bar"},{},Object.values(this.els))}updateDom_(){var e=this.player_.tech_;const s=e&&e.el_,r={title:"aria-labelledby",description:"aria-describedby"};["title","description"].forEach(e=>{var t=this.state[e],i=this.els[e],e=r[e];Fe(i),t&&Se(i,t),s&&(s.removeAttribute(e),t)&&s.setAttribute(e,i.id)}),this.state.title||this.state.description?this.show():this.hide()}update(e){this.setState(e)}dispose(){var e=this.player_.tech_,e=e&&e.el_;e&&(e.removeAttribute("aria-labelledby"),e.removeAttribute("aria-describedby")),super.dispose(),this.els=null}}f.registerComponent("TitleBar",Vr);function $r(i){const s=i.el();if(!s.resetSourceWatch_){const t={},e=Kr(i),r=t=>(...e)=>{e=t.apply(s,e);return Gr(i),e};["append","appendChild","insertAdjacentHTML"].forEach(e=>{s[e]&&(t[e]=s[e],s[e]=r(t[e]))}),Object.defineProperty(s,"innerHTML",h(e,{set:r(e.set)})),s.resetSourceWatch_=()=>{s.resetSourceWatch_=null,Object.keys(t).forEach(e=>{s[e]=t[e]}),Object.defineProperty(s,"innerHTML",e)},i.one("sourceset",s.resetSourceWatch_)}}function Wr(i){if(i.featuresSourceset){const s=i.el();if(!s.resetSourceset_){e=i;const t=Xr([e.el(),window.HTMLMediaElement.prototype,Yr],"src");var e;const r=s.setAttribute,n=s.load;Object.defineProperty(s,"src",h(t,{set:e=>{e=t.set.call(s,e);return i.triggerSourceset(s.src),e}})),s.setAttribute=(e,t)=>{t=r.call(s,e,t);return/src/i.test(e)&&i.triggerSourceset(s.src),t},s.load=()=>{var e=n.call(s);return Gr(i)||(i.triggerSourceset(""),$r(i)),e},s.currentSrc?i.triggerSourceset(s.currentSrc):Gr(i)||$r(i),s.resetSourceset_=()=>{s.resetSourceset_=null,s.load=n,s.setAttribute=r,Object.defineProperty(s,"src",t),s.resetSourceWatch_&&s.resetSourceWatch_()}}}}const Gr=t=>{var e=t.el();if(e.hasAttribute("src"))t.triggerSourceset(e.src);else{var i=t.$$("source"),s=[];let e="";if(!i.length)return!1;for(let e=0;e<i.length;e++){var r=i[e].src;r&&-1===s.indexOf(r)&&s.push(r)}if(!s.length)return!1;1===s.length&&(e=s[0]),t.triggerSourceset(e)}return!0},zr=Object.defineProperty({},"innerHTML",{get(){return this.cloneNode(!0).innerHTML},set(e){for(var t=document.createElement(this.nodeName.toLowerCase()),i=(t.innerHTML=e,document.createDocumentFragment());t.childNodes.length;)i.appendChild(t.childNodes[0]);return this.innerText="",window.Element.prototype.appendChild.call(this,i),this.innerHTML}}),Xr=(t,i)=>{let s={};for(let e=0;e<t.length&&!((s=Object.getOwnPropertyDescriptor(t[e],i))&&s.set&&s.get);e++);return s.enumerable=!0,s.configurable=!0,s},Kr=e=>Xr([e.el(),window.HTMLMediaElement.prototype,window.Element.prototype,zr],"innerHTML"),Yr=Object.defineProperty({},"src",{get(){return this.hasAttribute("src")?di(window.Element.prototype.getAttribute.call(this,"src")):""},set(e){return window.Element.prototype.setAttribute.call(this,"src",e),e}});class v extends _{constructor(e,t){super(e,t);t=e.source;let i=!1;if(this.featuresVideoFrameCallback=this.featuresVideoFrameCallback&&"VIDEO"===this.el_.tagName,t&&(this.el_.currentSrc!==t.src||e.tag&&3===e.tag.initNetworkState_)?this.setSource(t):this.handleLateInit_(this.el_),e.enableSourceset&&this.setupSourcesetHandling_(),this.isScrubbing_=!1,this.el_.hasChildNodes()){var s=this.el_.childNodes;let e=s.length;for(var r=[];e--;){var n=s[e];"track"===n.nodeName.toLowerCase()&&(this.featuresNativeTextTracks?(this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack(n.track),this.textTracks().addTrack(n.track),i||this.el_.hasAttribute("crossorigin")||!hi(n.src)||(i=!0)):r.push(n))}for(let e=0;e<r.length;e++)this.el_.removeChild(r[e])}this.proxyNativeTracks_(),this.featuresNativeTextTracks&&i&&d.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),this.restoreMetadataTracksInIOSNativePlayer_(),(me||pe)&&!0===e.nativeControlsForTouch&&this.setControls(!0),this.proxyWebkitFullscreen_(),this.triggerReady()}dispose(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),v.disposeMediaElement(this.el_),this.options_=null,super.dispose()}setupSourcesetHandling_(){Wr(this)}restoreMetadataTracksInIOSNativePlayer_(){const i=this.textTracks();let s;const e=()=>{s=[];for(let e=0;e<i.length;e++){var t=i[e];"metadata"===t.kind&&s.push({track:t,storedMode:t.mode})}},r=(e(),i.addEventListener("change",e),this.on("dispose",()=>i.removeEventListener("change",e)),()=>{for(let e=0;e<s.length;e++){var t=s[e];"disabled"===t.track.mode&&t.track.mode!==t.storedMode&&(t.track.mode=t.storedMode)}i.removeEventListener("change",r)});this.on("webkitbeginfullscreen",()=>{i.removeEventListener("change",e),i.removeEventListener("change",r),i.addEventListener("change",r)}),this.on("webkitendfullscreen",()=>{i.removeEventListener("change",e),i.addEventListener("change",e),i.removeEventListener("change",r)})}overrideNative_(e,t){if(t===this[`featuresNative${e}Tracks`]){const i=e.toLowerCase();this[i+"TracksListeners_"]&&Object.keys(this[i+"TracksListeners_"]).forEach(e=>{this.el()[i+"Tracks"].removeEventListener(e,this[i+"TracksListeners_"][e])}),this[`featuresNative${e}Tracks`]=!t,this[i+"TracksListeners_"]=null,this.proxyNativeTracksForType_(i)}}overrideNativeAudioTracks(e){this.overrideNative_("Audio",e)}overrideNativeVideoTracks(e){this.overrideNative_("Video",e)}proxyNativeTracksForType_(i){var e=Di[i];const s=this.el()[e.getterName],r=this[e.getterName]();if(this[`featuresNative${e.capitalName}Tracks`]&&s&&s.addEventListener){const n={change:e=>{var t={type:"change",target:r,currentTarget:r,srcElement:r};r.trigger(t),"text"===i&&this[Ni.remoteText.getterName]().trigger(t)},addtrack(e){r.addTrack(e.track)},removetrack(e){r.removeTrack(e.track)}},t=function(){var e=[];for(let i=0;i<r.length;i++){let t=!1;for(let e=0;e<s.length;e++)if(s[e]===r[i]){t=!0;break}t||e.push(r[i])}for(;e.length;)r.removeTrack(e.shift())};this[e.getterName+"Listeners_"]=n,Object.keys(n).forEach(t=>{const i=n[t];s.addEventListener(t,i),this.on("dispose",e=>s.removeEventListener(t,i))}),this.on("loadstart",t),this.on("dispose",e=>this.off("loadstart",t))}}proxyNativeTracks_(){Di.names.forEach(e=>{this.proxyNativeTracksForType_(e)})}createEl(){let t=this.options_.tag;t&&(this.options_.playerElIngest||this.movingMediaElementInDOM)||(t?(e=t.cloneNode(!0),t.parentNode&&t.parentNode.insertBefore(e,t),v.disposeMediaElement(t),t=e):(t=document.createElement("video"),e=h({},this.options_.tag&&Ae(this.options_.tag)),me&&!0===this.options_.nativeControlsForTouch||delete e.controls,xe(t,Object.assign(e,{id:this.options_.techId,class:"vjs-tech"}))),t.playerId=this.options_.playerId),"undefined"!=typeof this.options_.preload&&Le(t,"preload",this.options_.preload),void 0!==this.options_.disablePictureInPicture&&(t.disablePictureInPicture=this.options_.disablePictureInPicture);var e,i=["loop","muted","playsinline","autoplay"];for(let e=0;e<i.length;e++){var s=i[e],r=this.options_[s];"undefined"!=typeof r&&(r?Le(t,s,s):Oe(t,s),t[s]=r)}return t}handleLateInit_(e){if(0!==e.networkState&&3!==e.networkState)if(0===e.readyState){let e=!1;const t=function(){e=!0},i=(this.on("loadstart",t),function(){e||this.trigger("loadstart")});this.on("loadedmetadata",i),void this.ready(function(){this.off("loadstart",t),this.off("loadedmetadata",i),e||this.trigger("loadstart")})}else{const s=["loadstart"];s.push("loadedmetadata"),2<=e.readyState&&s.push("loadeddata"),3<=e.readyState&&s.push("canplay"),4<=e.readyState&&s.push("canplaythrough"),this.ready(function(){s.forEach(function(e){this.trigger(e)},this)})}}setScrubbing(e){this.isScrubbing_=e}scrubbing(){return this.isScrubbing_}setCurrentTime(e){try{this.isScrubbing_&&this.el_.fastSeek&&fe?this.el_.fastSeek(e):this.el_.currentTime=e}catch(e){d(e,"Video is not ready. (Video.js)")}}duration(){if(this.el_.duration===1/0&&te&&ae&&0===this.el_.currentTime){const e=()=>{0<this.el_.currentTime&&(this.el_.duration===1/0&&this.trigger("durationchange"),this.off("timeupdate",e))};return this.on("timeupdate",e),NaN}return this.el_.duration||NaN}width(){return this.el_.offsetWidth}height(){return this.el_.offsetHeight}proxyWebkitFullscreen_(){if("webkitDisplayingFullscreen"in this.el_){const e=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},t=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",t),this.on("dispose",()=>{this.off("webkitbeginfullscreen",t),this.off("webkitendfullscreen",e)})}}supportsFullScreen(){return"function"==typeof this.el_.webkitEnterFullScreen}enterFullScreen(){const e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)Gt(this.el_.play()),this.setTimeout(function(){e.pause();try{e.webkitEnterFullScreen()}catch(e){this.trigger("fullscreenerror",e)}},0);else try{e.webkitEnterFullScreen()}catch(e){this.trigger("fullscreenerror",e)}}exitFullScreen(){this.el_.webkitDisplayingFullscreen?this.el_.webkitExitFullScreen():this.trigger("fullscreenerror",new Error("The video is not fullscreen"))}requestPictureInPicture(){return this.el_.requestPictureInPicture()}requestVideoFrameCallback(e){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(e):super.requestVideoFrameCallback(e)}cancelVideoFrameCallback(e){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(e):super.cancelVideoFrameCallback(e)}src(e){if(void 0===e)return this.el_.src;this.setSrc(e)}reset(){v.resetMediaElement(this.el_)}currentSrc(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc}setControls(e){this.el_.controls=!!e}addTextTrack(e,t,i){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,t,i):super.addTextTrack(e,t,i)}createRemoteTextTrack(e){var t;return this.featuresNativeTextTracks?(t=document.createElement("track"),e.kind&&(t.kind=e.kind),e.label&&(t.label=e.label),(e.language||e.srclang)&&(t.srclang=e.language||e.srclang),e.default&&(t.default=e.default),e.id&&(t.id=e.id),e.src&&(t.src=e.src),t):super.createRemoteTextTrack(e)}addRemoteTextTrack(e,t){e=super.addRemoteTextTrack(e,t);return this.featuresNativeTextTracks&&this.el().appendChild(e),e}removeRemoteTextTrack(t){if(super.removeRemoteTextTrack(t),this.featuresNativeTextTracks){var i=this.$$("track");let e=i.length;for(;e--;)t!==i[e]&&t!==i[e].track||this.el().removeChild(i[e])}}getVideoPlaybackQuality(){var e;return"function"==typeof this.el().getVideoPlaybackQuality?this.el().getVideoPlaybackQuality():(e={},"undefined"!=typeof this.el().webkitDroppedFrameCount&&"undefined"!=typeof this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),window.performance&&(e.creationTime=window.performance.now()),e)}}Q(v,"TEST_VID",function(){var e,t;if(_e())return e=document.createElement("video"),(t=document.createElement("track")).kind="captions",t.srclang="en",t.label="English",e.appendChild(t),e}),v.isSupported=function(){try{v.TEST_VID.volume=.5}catch(e){return!1}return!(!v.TEST_VID||!v.TEST_VID.canPlayType)},v.canPlayType=function(e){return v.TEST_VID.canPlayType(e)},v.canPlaySource=function(e,t){return v.canPlayType(e.type)},v.canControlVolume=function(){try{const t=v.TEST_VID.volume;v.TEST_VID.volume=t/2+.1;var e=t!==v.TEST_VID.volume;return e&&u?(window.setTimeout(()=>{v&&v.prototype&&(v.prototype.featuresVolumeControl=t!==v.TEST_VID.volume)}),!1):e}catch(e){return!1}},v.canMuteVolume=function(){try{var e=v.TEST_VID.muted;return v.TEST_VID.muted=!e,v.TEST_VID.muted?Le(v.TEST_VID,"muted","muted"):Oe(v.TEST_VID,"muted"),e!==v.TEST_VID.muted}catch(e){return!1}},v.canControlPlaybackRate=function(){if(te&&ae&&le<58)return!1;try{var e=v.TEST_VID.playbackRate;return v.TEST_VID.playbackRate=e/2+.1,e!==v.TEST_VID.playbackRate}catch(e){return!1}},v.canOverrideAttributes=function(){try{var e=()=>{};Object.defineProperty(document.createElement("video"),"src",{get:e,set:e}),Object.defineProperty(document.createElement("audio"),"src",{get:e,set:e}),Object.defineProperty(document.createElement("video"),"innerHTML",{get:e,set:e}),Object.defineProperty(document.createElement("audio"),"innerHTML",{get:e,set:e})}catch(e){return!1}return!0},v.supportsNativeTextTracks=function(){return fe||u&&ae},v.supportsNativeVideoTracks=function(){return!(!v.TEST_VID||!v.TEST_VID.videoTracks)},v.supportsNativeAudioTracks=function(){return!(!v.TEST_VID||!v.TEST_VID.audioTracks)},v.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function([e,t]){Q(v.prototype,e,()=>v[t](),!0)}),v.prototype.featuresVolumeControl=v.canControlVolume(),v.prototype.movingMediaElementInDOM=!u,v.prototype.featuresFullscreenResize=!0,v.prototype.featuresProgressEvents=!0,v.prototype.featuresTimeupdateEvents=!0,v.prototype.featuresVideoFrameCallback=!(!v.TEST_VID||!v.TEST_VID.requestVideoFrameCallback),v.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);if(e.removeAttribute("src"),"function"==typeof e.load)try{e.load()}catch(e){}}},v.resetMediaElement=function(t){if(t){var i=t.querySelectorAll("source");let e=i.length;for(;e--;)t.removeChild(i[e]);if(t.removeAttribute("src"),"function"==typeof t.load)try{t.load()}catch(e){}}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(e){v.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){v.prototype["set"+g(t)]=function(e){(this.el_[t]=e)?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(e){v.prototype[e]=function(){return this.el_[e]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(t){v.prototype["set"+g(t)]=function(e){this.el_[t]=e}}),["pause","load","play"].forEach(function(e){v.prototype[e]=function(){return this.el_[e]()}}),_.withSourceHandlers(v),v.nativeSourceHandler={},v.nativeSourceHandler.canPlayType=function(e){try{return v.TEST_VID.canPlayType(e)}catch(e){return""}},v.nativeSourceHandler.canHandleSource=function(e,t){return e.type?v.nativeSourceHandler.canPlayType(e.type):e.src?(e=ui(e.src),v.nativeSourceHandler.canPlayType("video/"+e)):""},v.nativeSourceHandler.handleSource=function(e,t,i){t.setSrc(e.src)},v.nativeSourceHandler.dispose=function(){},v.registerSourceHandler(v.nativeSourceHandler),_.registerTech("Html5",v);const Qr=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Jr={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Zr=["tiny","xsmall","small","medium","large","xlarge","huge"],en={},tn=(Zr.forEach(e=>{var t="x"===e.charAt(0)?"x-"+e.substring(1):e;en[e]="vjs-layout-"+t}),{tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0});class b extends f{constructor(e,t,i){if(e.id=e.id||t.id||"vjs_video_"+tt++,(t=Object.assign(b.getTagSettings(e),t)).initChildren=!1,t.createEl=!1,t.evented=!1,t.reportTouchActivity=!1,t.language||(s=e.closest("[lang]"))&&(t.language=s.getAttribute("lang")),super(null,t,i),this.boundDocumentFullscreenChange_=e=>this.documentFullscreenChange_(e),this.boundFullWindowOnEscKey_=e=>this.fullWindowOnEscKey(e),this.boundUpdateStyleEl_=e=>this.updateStyleEl_(e),this.boundApplyInitTime_=e=>this.applyInitTime_(e),this.boundUpdateCurrentBreakpoint_=e=>this.updateCurrentBreakpoint_(e),this.boundHandleTechClick_=e=>this.handleTechClick_(e),this.boundHandleTechDoubleClick_=e=>this.handleTechDoubleClick_(e),this.boundHandleTechTouchStart_=e=>this.handleTechTouchStart_(e),this.boundHandleTechTouchMove_=e=>this.handleTechTouchMove_(e),this.boundHandleTechTouchEnd_=e=>this.handleTechTouchEnd_(e),this.boundHandleTechTap_=e=>this.handleTechTap_(e),this.isFullscreen_=!1,this.log=W(this.id_),this.fsApi_=j,this.isPosterFromTech_=!1,this.queuedCallbacks_=[],this.isReady_=!1,this.hasStarted_=!1,this.userActive_=!1,this.debugEnabled_=!1,this.audioOnlyMode_=!1,this.audioPosterMode_=!1,this.audioOnlyCache_={playerHeight:null,hiddenChildren:[]},!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(this.tag=e,this.tagAttributes=e&&Ae(e),this.language(this.options_.language),t.languages){const r={};Object.getOwnPropertyNames(t.languages).forEach(function(e){r[e.toLowerCase()]=t.languages[e]}),this.languages_=r}else this.languages_=b.prototype.options_.languages;this.resetCache_(),this.poster_=t.poster||"",this.controls_=!!t.controls,e.controls=!1,e.removeAttribute("controls"),this.changingSrc_=!1,this.playCallbacks_=[],this.playTerminatedQueue_=[],e.hasAttribute("autoplay")?this.autoplay(!0):this.autoplay(this.options_.autoplay),t.plugins&&Object.keys(t.plugins).forEach(e=>{if("function"!=typeof this[e])throw new Error(`plugin "${e}" does not exist`)}),this.scrubbing_=!1,this.el_=this.createEl(),Ct(this,{eventBusKey:"el_"}),this.fsApi_.requestFullscreen&&(ot(document,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.on(this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_)),this.fluid_&&this.on(["playerreset","resize"],this.boundUpdateStyleEl_);var s=h(this.options_),i=(t.plugins&&Object.keys(t.plugins).forEach(e=>{this[e](t.plugins[e])}),t.debug&&this.debug(!0),this.options_.playerOptions=s,this.middleware_=[],this.playbackRates(t.playbackRates),this.initChildren(),this.isAudio("audio"===e.nodeName.toLowerCase()),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.el_.setAttribute("role","region"),this.isAudio()?this.el_.setAttribute("aria-label",this.localize("Audio Player")):this.el_.setAttribute("aria-label",this.localize("Video Player")),this.isAudio()&&this.addClass("vjs-audio"),me&&this.addClass("vjs-touch-enabled"),u||this.addClass("vjs-workinghover"),b.players[this.id_]=this,R.split(".")[0]);this.addClass("vjs-v"+i),this.userActive(!0),this.reportUserActivity(),this.one("play",e=>this.listenForUserActivity_(e)),this.on("keydown",e=>this.handleKeyDown(e)),this.on("languagechange",e=>this.handleLanguagechange(e)),this.breakpoints(this.options_.breakpoints),this.responsive(this.options_.responsive),this.on("ready",()=>{this.audioPosterMode(this.options_.audioPosterMode),this.audioOnlyMode(this.options_.audioOnlyMode)})}dispose(){var e;this.trigger("dispose"),this.off("dispose"),p(document,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),p(document,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),b.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),e=this,us[e.id()]=null,a.names.forEach(e=>{e=this[a[e].getterName]();e&&e.off&&e.off()}),super.dispose({restoreEl:this.options_.restoreEl})}createEl(){let t=this.tag,i,e=this.playerElIngest_=t.parentNode&&t.parentNode.hasAttribute&&t.parentNode.hasAttribute("data-vjs-player");const s="video-js"===this.tag.tagName.toLowerCase(),r=(e?i=this.el_=t.parentNode:s||(i=this.el_=super.createEl("div")),Ae(t));if(s){for(i=this.el_=t,t=this.tag=document.createElement("video");i.children.length;)t.appendChild(i.firstChild);Ee(i,"video-js")||ke(i,"video-js"),i.appendChild(t),e=this.playerElIngest_=i,Object.keys(i).forEach(e=>{try{t[e]=i[e]}catch(e){}})}t.setAttribute("tabindex","-1"),r.tabindex="-1",ae&&ue&&(t.setAttribute("role","application"),r.role="application"),t.removeAttribute("width"),t.removeAttribute("height"),"width"in r&&delete r.width,"height"in r&&delete r.height,Object.getOwnPropertyNames(r).forEach(function(e){s&&"class"===e||i.setAttribute(e,r[e]),s&&t.setAttribute(e,r[e])}),t.playerId=t.id,t.id+="_html5_api",t.className="vjs-tech",(t.player=i.player=this).addClass("vjs-paused"),!0!==window.VIDEOJS_NO_DYNAMIC_STYLE&&(this.styleEl_=Ze("vjs-styles-dimensions"),n=$e(".vjs-styles-defaults"),(a=$e("head")).insertBefore(this.styleEl_,n?n.nextSibling:a.firstChild)),this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);var n,a,o=t.getElementsByTagName("a");for(let e=0;e<o.length;e++){var l=o.item(e);ke(l,"vjs-hidden"),l.setAttribute("hidden","hidden")}return t.initNetworkState_=t.networkState,t.parentNode&&!e&&t.parentNode.insertBefore(i,t),we(t,i),this.children_.unshift(t),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=i}crossOrigin(e){if("undefined"==typeof e)return this.techGet_("crossOrigin");null!==e&&"anonymous"!==e&&"use-credentials"!==e?d.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`):(this.techCall_("setCrossOrigin",e),this.posterImage&&this.posterImage.crossOrigin(e))}width(e){return this.dimension("width",e)}height(e){return this.dimension("height",e)}dimension(e,t){var i,s=e+"_";if(void 0===t)return this[s]||0;""===t||"auto"===t?(this[s]=void 0,this.updateStyleEl_()):(i=parseFloat(t),isNaN(i)?d.error(`Improper value "${t}" supplied for for `+e):(this[s]=i,this.updateStyleEl_()))}fluid(e){if(void 0===e)return!!this.fluid_;var t;this.fluid_=!!e,_t(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),e=this,t=()=>{this.on(["playerreset","resize"],this.boundUpdateStyleEl_)},_t(e)?t():(e.eventedCallbacks||(e.eventedCallbacks=[]),e.eventedCallbacks.push(t))):this.removeClass("vjs-fluid"),this.updateStyleEl_()}fill(e){if(void 0===e)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")}aspectRatio(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()}updateStyleEl_(){if(!0===window.VIDEOJS_NO_DYNAMIC_STYLE){const e="number"==typeof this.width_?this.width_:this.options_.width,t="number"==typeof this.height_?this.height_:this.options_.height;var r=this.tech_&&this.tech_.el();void(r&&(0<=e&&(r.width=e),0<=t)&&(r.height=t))}else{let e,t,i,s;r=(i=void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:0<this.videoWidth()?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),r=r[1]/r[0];e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/r:this.videoWidth()||300,t=void 0!==this.height_?this.height_:e*r,s=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(s),et(this.styleEl_,`
      .${s} {
        width: ${e}px;
        height: ${t}px;
      }

      .${s}.vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: ${100*r}%;
      }
    `)}}loadTech_(e,t){this.tech_&&this.unloadTech_();var i=g(e),s=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==i&&this.tag&&(_.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=i,this.isReady_=!1;let r=this.autoplay();const n={source:t,autoplay:r="string"==typeof this.autoplay()||!0===this.autoplay()&&this.options_.normalizeAutoplay?!1:r,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+`_${s}_api`,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};a.names.forEach(e=>{e=a[e];n[e.getterName]=this[e.privateName]}),Object.assign(n,this.options_[i]),Object.assign(n,this.options_[s]),Object.assign(n,this.options_[e.toLowerCase()]),this.tag&&(n.tag=this.tag),t&&t.src===this.cache_.src&&0<this.cache_.currentTime&&(n.startTime=this.cache_.currentTime);s=_.getTech(e);if(!s)throw new Error(`No Tech named '${i}' exists! '${i}' should be registered using videojs.registerTech()'`);this.tech_=new s(n),this.tech_.ready(m(this,this.handleTechReady_),!0),Kt(this.textTracksJson_||[],this.tech_),Qr.forEach(t=>{this.on(this.tech_,t,e=>this[`handleTech${g(t)}_`](e))}),Object.keys(Jr).forEach(t=>{this.on(this.tech_,t,e=>{0===this.tech_.playbackRate()&&this.tech_.seeking()?this.queuedCallbacks_.push({callback:this[`handleTech${Jr[t]}_`].bind(this),event:e}):this[`handleTech${Jr[t]}_`](e)})}),this.on(this.tech_,"loadstart",e=>this.handleTechLoadStart_(e)),this.on(this.tech_,"sourceset",e=>this.handleTechSourceset_(e)),this.on(this.tech_,"waiting",e=>this.handleTechWaiting_(e)),this.on(this.tech_,"ended",e=>this.handleTechEnded_(e)),this.on(this.tech_,"seeking",e=>this.handleTechSeeking_(e)),this.on(this.tech_,"play",e=>this.handleTechPlay_(e)),this.on(this.tech_,"pause",e=>this.handleTechPause_(e)),this.on(this.tech_,"durationchange",e=>this.handleTechDurationChange_(e)),this.on(this.tech_,"fullscreenchange",(e,t)=>this.handleTechFullscreenChange_(e,t)),this.on(this.tech_,"fullscreenerror",(e,t)=>this.handleTechFullscreenError_(e,t)),this.on(this.tech_,"enterpictureinpicture",e=>this.handleTechEnterPictureInPicture_(e)),this.on(this.tech_,"leavepictureinpicture",e=>this.handleTechLeavePictureInPicture_(e)),this.on(this.tech_,"error",e=>this.handleTechError_(e)),this.on(this.tech_,"posterchange",e=>this.handleTechPosterChange_(e)),this.on(this.tech_,"textdata",e=>this.handleTechTextData_(e)),this.on(this.tech_,"ratechange",e=>this.handleTechRateChange_(e)),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===i&&this.tag||we(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)}unloadTech_(){a.names.forEach(e=>{e=a[e];this[e.privateName]=this[e.getterName]()}),this.textTracksJson_=Xt(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1}tech(e){return void 0===e&&d.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_}addTechControlsListeners_(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)}removeTechControlsListeners_(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)}handleTechReady_(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()}handleTechLoadStart_(){this.removeClass("vjs-ended","vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()&&this.hasStarted(!1),this.trigger("loadstart"),this.manualAutoplay_(!0===this.autoplay()&&this.options_.normalizeAutoplay?"play":this.autoplay())}manualAutoplay_(t){if(this.tech_&&"string"==typeof t){var i=()=>{const e=this.muted(),t=(this.muted(!0),()=>{this.muted(e)});this.playTerminatedQueue_.push(t);var i=this.play();if(Wt(i))return i.catch(e=>{throw t(),new Error("Rejection at manualAutoplay. Restoring muted value. "+(e||""))})};let e;if("any"!==t||this.muted()?e="muted"!==t||this.muted()?this.play():i():Wt(e=this.play())&&(e=e.catch(i)),Wt(e))return e.then(()=>{this.trigger({type:"autoplay-success",autoplay:t})}).catch(()=>{this.trigger({type:"autoplay-failure",autoplay:t})})}}updateSourceCaches_(e=""){let t=e,i="";"string"!=typeof t&&(t=e.src,i=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],t&&!i&&(i=((e,t)=>{if(!t)return"";if(e.cache_.source.src===t&&e.cache_.source.type)return e.cache_.source.type;var i=e.cache_.sources.filter(e=>e.src===t);if(i.length)return i[0].type;var s=e.$$("source");for(let e=0;e<s.length;e++){var r=s[e];if(r.type&&r.src&&r.src===t)return r.type}return Ss(t)})(this,t)),this.cache_.source=h({},e,{src:t,type:i});var e=this.cache_.sources.filter(e=>e.src&&e.src===t),s=[],r=this.$$("source"),n=[];for(let e=0;e<r.length;e++){var a=Ae(r[e]);s.push(a),a.src&&a.src===t&&n.push(a.src)}n.length&&!e.length?this.cache_.sources=s:e.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=t}handleTechSourceset_(t){if(!this.changingSrc_){let e=e=>this.updateSourceCaches_(e);var i=this.currentSource().src,s=t.src;(e=!i||/^blob:/.test(i)||!/^blob:/.test(s)||this.lastSource_&&(this.lastSource_.tech===s||this.lastSource_.player===i)?e:()=>{})(s),t.src||this.tech_.any(["sourceset","loadstart"],e=>{"sourceset"!==e.type&&(e=this.techGet("currentSrc"),this.lastSource_.tech=e,this.updateSourceCaches_(e))})}this.lastSource_={player:this.currentSource().src,tech:t.src},this.trigger({src:t.src,type:"sourceset"})}hasStarted(e){if(void 0===e)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?this.addClass("vjs-has-started"):this.removeClass("vjs-has-started"))}handleTechPlay_(){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")}handleTechRateChange_(){0<this.tech_.playbackRate()&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach(e=>e.callback(e.event)),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")}handleTechWaiting_(){this.addClass("vjs-waiting"),this.trigger("waiting");const e=this.currentTime(),t=()=>{e!==this.currentTime()&&(this.removeClass("vjs-waiting"),this.off("timeupdate",t))};this.on("timeupdate",t)}handleTechCanPlay_(){this.removeClass("vjs-waiting"),this.trigger("canplay")}handleTechCanPlayThrough_(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")}handleTechPlaying_(){this.removeClass("vjs-waiting"),this.trigger("playing")}handleTechSeeking_(){this.addClass("vjs-seeking"),this.trigger("seeking")}handleTechSeeked_(){this.removeClass("vjs-seeking","vjs-ended"),this.trigger("seeked")}handleTechPause_(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")}handleTechEnded_(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")}handleTechDurationChange_(){this.duration(this.techGet_("duration"))}handleTechClick_(e){!this.controls_||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.click&&!1===this.options_.userActions.click||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.click?this.options_.userActions.click.call(this,e):this.paused()?Gt(this.play()):this.pause())}handleTechDoubleClick_(t){!this.controls_||Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),e=>e.contains(t.target))||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.doubleClick&&!1===this.options_.userActions.doubleClick||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,t):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}handleTechTap_(){this.userActive(!this.userActive())}handleTechTouchStart_(){this.userWasActive=this.userActive()}handleTechTouchMove_(){this.userWasActive&&this.reportUserActivity()}handleTechTouchEnd_(e){e.cancelable&&e.preventDefault()}toggleFullscreenClass_(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")}documentFullscreenChange_(t){t=t.target.player;if(!t||t===this){t=this.el();let e=document[this.fsApi_.fullscreenElement]===t;!e&&t.matches?e=t.matches(":"+this.fsApi_.fullscreen):!e&&t.msMatchesSelector&&(e=t.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(e)}}handleTechFullscreenChange_(e,t){t&&(t.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",()=>{this.removeClass("vjs-ios-native-fs")})),this.isFullscreen(t.isFullscreen))}handleTechFullscreenError_(e,t){this.trigger("fullscreenerror",t)}togglePictureInPictureClass_(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")}handleTechEnterPictureInPicture_(e){this.isInPictureInPicture(!0)}handleTechLeavePictureInPicture_(e){this.isInPictureInPicture(!1)}handleTechError_(){var e=this.tech_.error();this.error(e)}handleTechTextData_(){let e=1<arguments.length?arguments[1]:null;this.trigger("textdata",e)}getCache(){return this.cache_}resetCache_(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}}techCall_(t,i){this.ready(function(){if(t in fs)return e=this.middleware_,this.tech_[t](e.reduce(_s(t),i));if(t in ys)return ms(this.middleware_,this.tech_,t,i);var e;try{this.tech_&&this.tech_[t](i)}catch(e){throw d(e),e}},!0)}techGet_(t){if(this.tech_&&this.tech_.isReady_){if(t in gs)return e=this.middleware_,i=this.tech_,e.reduceRight(_s(t),i[t]());if(t in ys)return ms(this.middleware_,this.tech_,t);var e,i;try{return this.tech_[t]()}catch(e){throw void 0===this.tech_[t]?d(`Video.js: ${t} method not defined for ${this.techName_} playback technology.`,e):"TypeError"===e.name?(d(`Video.js: ${t} unavailable on ${this.techName_} playback technology element.`,e),this.tech_.isReady_=!1):d(e),e}}}play(){return new Promise(e=>{this.play_(e)})}play_(e=Gt){this.playCallbacks_.push(e);var t,e=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc())),i=Boolean(fe||u);this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),this.isReady_&&e?(t=this.techGet_("play"),i&&this.hasClass("vjs-ended")&&this.resetProgressBar_(),null===t?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(t)):(this.waitToPlay_=e=>{this.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!e&&i&&this.load())}runPlayTerminatedQueue_(){var e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach(function(e){e()})}runPlayCallbacks_(t){var e=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],e.forEach(function(e){e(t)})}pause(){this.techCall_("pause")}paused(){return!1!==this.techGet_("paused")}played(){return this.techGet_("played")||Rt(0,0)}scrubbing(e){if("undefined"==typeof e)return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")}currentTime(e){return"undefined"!=typeof e?(e<0&&(e=0),this.isReady_&&!this.changingSrc_&&this.tech_&&this.tech_.isReady_?(this.techCall_("setCurrentTime",e),void(this.cache_.initTime=0)):(this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),void this.one("canplay",this.boundApplyInitTime_))):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)}applyInitTime_(){this.currentTime(this.cache_.initTime)}duration(e){if(void 0===e)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(e=(e=parseFloat(e))<0?1/0:e)!==this.cache_.duration&&((this.cache_.duration=e)===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))}remainingTime(){return this.duration()-this.currentTime()}remainingTimeDisplay(){return Math.floor(this.duration())-Math.floor(this.currentTime())}buffered(){let e=this.techGet_("buffered");return e=e&&e.length?e:Rt(0,0)}bufferedPercent(){return Vt(this.buffered(),this.duration())}bufferedEnd(){var e=this.buffered(),t=this.duration();let i=e.end(e.length-1);return i=i>t?t:i}volume(e){let t;if(void 0===e)return t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t;t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),0<t&&this.lastVolume_(t)}muted(e){if(void 0===e)return this.techGet_("muted")||!1;this.techCall_("setMuted",e)}defaultMuted(e){return void 0!==e?this.techCall_("setDefaultMuted",e):this.techGet_("defaultMuted")||!1}lastVolume_(e){if(void 0===e||0===e)return this.cache_.lastVolume;this.cache_.lastVolume=e}supportsFullScreen(){return this.techGet_("supportsFullScreen")||!1}isFullscreen(e){var t;if(void 0===e)return this.isFullscreen_;t=this.isFullscreen_,this.isFullscreen_=Boolean(e),this.isFullscreen_!==t&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_()}requestFullscreen(a){this.isInPictureInPicture()&&this.exitPictureInPicture();const o=this;return new Promise((e,i)=>{function s(){o.off("fullscreenerror",r),o.off("fullscreenchange",t)}function t(){s(),e()}function r(e,t){s(),i(t)}o.one("fullscreenchange",t),o.one("fullscreenerror",r);var n=o.requestFullscreenHelper_(a);n&&(n.then(s,s),n.then(e,i))})}requestFullscreenHelper_(e){let t;if(this.fsApi_.prefixed||(t=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==e&&(t=e)),this.fsApi_.requestFullscreen)return(e=this.el_[this.fsApi_.requestFullscreen](t))&&e.then(()=>this.isFullscreen(!0),()=>this.isFullscreen(!1)),e;this.tech_.supportsFullScreen()&&!0==!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()}exitFullscreen(){const a=this;return new Promise((e,i)=>{function s(){a.off("fullscreenerror",r),a.off("fullscreenchange",t)}function t(){s(),e()}function r(e,t){s(),i(t)}a.one("fullscreenchange",t),a.one("fullscreenerror",r);var n=a.exitFullscreenHelper_();n&&(n.then(s,s),n.then(e,i))})}exitFullscreenHelper_(){var e;if(this.fsApi_.requestFullscreen)return(e=document[this.fsApi_.exitFullscreen]())&&Gt(e.then(()=>this.isFullscreen(!1))),e;this.tech_.supportsFullScreen()&&!0==!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()}enterFullWindow(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=document.documentElement.style.overflow,ot(document,"keydown",this.boundFullWindowOnEscKey_),document.documentElement.style.overflow="hidden",ke(document.body,"vjs-full-window"),this.trigger("enterFullWindow")}fullWindowOnEscKey(e){r.isEventKey(e,"Esc")&&!0===this.isFullscreen()&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())}exitFullWindow(){this.isFullscreen(!1),this.isFullWindow=!1,p(document,"keydown",this.boundFullWindowOnEscKey_),document.documentElement.style.overflow=this.docOrigOverflow,Ce(document.body,"vjs-full-window"),this.trigger("exitFullWindow")}disablePictureInPicture(e){if(void 0===e)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")}isInPictureInPicture(e){if(void 0===e)return!!this.isInPictureInPicture_;this.isInPictureInPicture_=!!e,this.togglePictureInPictureClass_()}requestPictureInPicture(){if(this.options_.enableDocumentPictureInPicture&&window.documentPictureInPicture){const t=document.createElement(this.el().tagName);return t.classList=this.el().classList,t.classList.add("vjs-pip-container"),this.posterImage&&t.appendChild(this.posterImage.el().cloneNode(!0)),this.titleBar&&t.appendChild(this.titleBar.el().cloneNode(!0)),t.appendChild(o("p",{className:"vjs-pip-text"},{},this.localize("Playing in picture-in-picture"))),window.documentPictureInPicture.requestWindow({initialAspectRatio:this.videoWidth()/this.videoHeight(),copyStyleSheets:!0}).then(e=>(this.el_.parentNode.insertBefore(t,this.el_),e.document.body.append(this.el_),e.document.body.classList.add("vjs-pip-window"),this.player_.isInPictureInPicture(!0),this.player_.trigger("enterpictureinpicture"),e.addEventListener("unload",e=>{e=e.target.querySelector(".video-js");t.replaceWith(e),this.player_.isInPictureInPicture(!1),this.player_.trigger("leavepictureinpicture")}),e))}return"pictureInPictureEnabled"in document&&!1===this.disablePictureInPicture()?this.techGet_("requestPictureInPicture"):Promise.reject("No PiP mode is available")}exitPictureInPicture(){return window.documentPictureInPicture&&window.documentPictureInPicture.window?(window.documentPictureInPicture.window.close(),Promise.resolve()):"pictureInPictureEnabled"in document?document.exitPictureInPicture():void 0}handleKeyDown(e){var t,i,s=this.options_["userActions"];s&&s.hotkeys&&(t=this.el_.ownerDocument.activeElement,i=t.tagName.toLowerCase(),t.isContentEditable||("input"===i?-1===["button","checkbox","hidden","radio","reset","submit"].indexOf(t.type):-1!==["textarea"].indexOf(i))||("function"==typeof s.hotkeys?s.hotkeys.call(this,e):this.handleHotkeys(e)))}handleHotkeys(e){var{fullscreenKey:t=e=>r.isEventKey(e,"f"),muteKey:i=e=>r.isEventKey(e,"m"),playPauseKey:s=e=>r.isEventKey(e,"k")||r.isEventKey(e,"Space")}=this.options_.userActions?this.options_.userActions.hotkeys:{};t.call(this,e)?(e.preventDefault(),e.stopPropagation(),t=f.getComponent("FullscreenToggle"),!1!==document[this.fsApi_.fullscreenEnabled]&&t.prototype.handleClick.call(this,e)):i.call(this,e)?(e.preventDefault(),e.stopPropagation(),f.getComponent("MuteToggle").prototype.handleClick.call(this,e)):s.call(this,e)&&(e.preventDefault(),e.stopPropagation(),f.getComponent("PlayToggle").prototype.handleClick.call(this,e))}canPlayType(s){var r;for(let t=0,i=this.options_.techOrder;t<i.length;t++){var n=i[t];let e=_.getTech(n);if(e=e||f.getComponent(n)){if(e.isSupported()&&(r=e.canPlayType(s)))return r}else d.error(`The "${n}" tech is undefined. Skipped browser support check for that tech.`)}return""}selectSource(e){function t(e,i,s){let r;return e.some(t=>i.some(e=>{if(r=s(t,e))return!0})),r}var i=this.options_.techOrder.map(e=>[e,_.getTech(e)]).filter(([e,t])=>t?t.isSupported():(d.error(`The "${e}" tech is undefined. Skipped browser support check for that tech.`),!1));let s;var r,n=([e,t],i)=>{if(t.canPlaySource(i,this.options_[e.toLowerCase()]))return{source:i,tech:e}};return(s=this.options_.sourceOrder?t(e,i,(r=n,(e,t)=>r(t,e))):t(i,e,n))||!1}handleSrc_(e,s){if("undefined"==typeof e)return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();const r=bs(e);if(r.length){if(this.changingSrc_=!0,s||(this.cache_.sources=r),this.updateSourceCaches_(r[0]),ps(this,r[0],(e,t)=>{var i;if(this.middleware_=t,s||(this.cache_.sources=r),this.updateSourceCaches_(e),this.src_(e))return 1<r.length?this.handleSrc_(r.slice(1)):(this.changingSrc_=!1,this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),void this.triggerReady());i=this.tech_,t.forEach(e=>e.setTech&&e.setTech(i))}),1<r.length){const t=()=>{this.error(null),this.handleSrc_(r.slice(1),!0)},i=()=>{this.off("error",t)};this.one("error",t),this.one("playing",i),this.resetRetryOnError_=()=>{this.off("error",t),this.off("playing",i)}}}else this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0)}src(e){return this.handleSrc_(e,!1)}src_(e){var t=this.selectSource([e]);return!t||(Pt(t.tech,this.techName_)?this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0):(this.changingSrc_=!0,this.loadTech_(t.tech,t.source),this.tech_.ready(()=>{this.changingSrc_=!1})),!1)}load(){this.techCall_("load")}reset(){this.paused()?this.doReset_():Gt(this.play().then(()=>this.doReset_()))}doReset_(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),_t(this)&&this.trigger("playerreset")}resetControlBarUI_(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()}resetProgressBar_(){this.currentTime(0);var{currentTimeDisplay:e,durationDisplay:t,progressControl:i,remainingTimeDisplay:s}=this.controlBar||{},i=(i||{})["seekBar"];e&&e.updateContent(),t&&t.updateContent(),s&&s.updateContent(),i&&(i.update(),i.loadProgressBar)&&i.loadProgressBar.update()}resetPlaybackRate_(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()}resetVolumeBar_(){this.volume(1),this.trigger("volumechange")}currentSources(){var e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t}currentSource(){return this.cache_.source||{}}currentSrc(){return this.currentSource()&&this.currentSource().src||""}currentType(){return this.currentSource()&&this.currentSource().type||""}preload(e){if(void 0===e)return this.techGet_("preload");this.techCall_("setPreload",e),this.options_.preload=e}autoplay(e){if(void 0===e)return this.options_.autoplay||!1;let t;"string"==typeof e&&/(any|play|muted)/.test(e)||!0===e&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_("string"==typeof e?e:"play"),t=!1):this.options_.autoplay=!!e,t="undefined"==typeof t?this.options_.autoplay:t,this.tech_&&this.techCall_("setAutoplay",t)}playsinline(e){return void 0!==e?(this.techCall_("setPlaysinline",e),this.options_.playsinline=e,this):this.techGet_("playsinline")}loop(e){if(void 0===e)return this.techGet_("loop");this.techCall_("setLoop",e),this.options_.loop=e}poster(e){if(void 0===e)return this.poster_;(e=e||"")!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))}handleTechPosterChange_(){var e;(!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster&&(e=this.tech_.poster()||"")!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}controls(e){if(void 0===e)return!!this.controls_;this.controls_!==(e=!!e)&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))}usingNativeControls(e){if(void 0===e)return!!this.usingNativeControls_;this.usingNativeControls_!==(e=!!e)&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))}error(t){if(void 0===t)return this.error_||null;if(B("beforeerror").forEach(e=>{e=e(this,t);K(e)&&!Array.isArray(e)||"string"==typeof e||"number"==typeof e||null===e?t=e:this.log.error("please return a value that MediaError expects in beforeerror hooks")}),this.options_.suppressNotSupportedError&&t&&4===t.code){const e=function(){this.error(t)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],e),void this.one("loadstart",function(){this.off(["click","touchstart"],e)})}else null===t?(this.error_=t,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close()):(this.error_=new i(t),this.addClass("vjs-error"),d.error(`(CODE:${this.error_.code} ${i.errorTypes[this.error_.code]})`,this.error_.message,this.error_),this.trigger("error"),B("error").forEach(e=>e(this,this.error_)))}reportUserActivity(e){this.userActivity_=!0}userActive(e){if(void 0===e)return this.userActive_;(e=!!e)!==this.userActive_&&(this.userActive_=e,this.userActive_?(this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive")):(this.tech_&&this.tech_.one("mousemove",function(e){e.stopPropagation(),e.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")))}listenForUserActivity_(){let t,i,s;const r=m(this,this.reportUserActivity);function e(e){r(),this.clearInterval(t)}this.on("mousedown",function(){r(),this.clearInterval(t),t=this.setInterval(r,250)}),this.on("mousemove",function(e){e.screenX===i&&e.screenY===s||(i=e.screenX,s=e.screenY,r())}),this.on("mouseup",e),this.on("mouseleave",e);var n=this.getChild("controlBar");!n||u||te||(n.on("mouseenter",function(e){0!==this.player().options_.inactivityTimeout&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),n.on("mouseleave",function(e){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",r),this.on("keyup",r);let a;this.setInterval(function(){var e;this.userActivity_&&(this.userActivity_=!1,this.userActive(!0),this.clearTimeout(a),(e=this.options_.inactivityTimeout)<=0||(a=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},e)))},250)}playbackRate(e){if(void 0===e)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",e)}defaultPlaybackRate(e){return void 0!==e?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1}isAudio(e){if(void 0===e)return!!this.isAudio_;this.isAudio_=!!e}enableAudioOnlyUI_(){this.addClass("vjs-audio-only-mode");var e=this.children();const t=this.getChild("ControlBar");var i=t&&t.currentHeight();e.forEach(e=>{e!==t&&e.el_&&!e.hasClass("vjs-hidden")&&(e.hide(),this.audioOnlyCache_.hiddenChildren.push(e))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.height(i),this.trigger("audioonlymodechange")}disableAudioOnlyUI_(){this.removeClass("vjs-audio-only-mode"),this.audioOnlyCache_.hiddenChildren.forEach(e=>e.show()),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")}audioOnlyMode(e){return"boolean"!=typeof e||e===this.audioOnlyMode_?this.audioOnlyMode_:(this.audioOnlyMode_=e)?(e=[],this.isInPictureInPicture()&&e.push(this.exitPictureInPicture()),this.isFullscreen()&&e.push(this.exitFullscreen()),this.audioPosterMode()&&e.push(this.audioPosterMode(!1)),Promise.all(e).then(()=>this.enableAudioOnlyUI_())):Promise.resolve().then(()=>this.disableAudioOnlyUI_())}enablePosterModeUI_(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}disablePosterModeUI_(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}audioPosterMode(e){return"boolean"!=typeof e||e===this.audioPosterMode_?this.audioPosterMode_:(this.audioPosterMode_=e)?(this.audioOnlyMode()?this.audioOnlyMode(!1):Promise.resolve()).then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.disablePosterModeUI_()})}addTextTrack(e,t,i){if(this.tech_)return this.tech_.addTextTrack(e,t,i)}addRemoteTextTrack(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)}removeRemoteTextTrack(e={}){let t=e["track"];if(t=t||e,this.tech_)return this.tech_.removeRemoteTextTrack(t)}getVideoPlaybackQuality(){return this.techGet_("getVideoPlaybackQuality")}videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0}videoHeight(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0}language(e){if(void 0===e)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),_t(this))&&this.trigger("languagechange")}languages(){return h(b.prototype.options_.languages,this.languages_)}toJSON(){var t=h(this.options_),i=t.tracks;t.tracks=[];for(let e=0;e<i.length;e++){var s=i[e];(s=h(s)).player=void 0,t.tracks[e]=s}return t}createModal(e,t){(t=t||{}).content=e||"";const i=new Qt(this,t);return this.addChild(i),i.on("dispose",()=>{this.removeChild(i)}),i.open(),i}updateCurrentBreakpoint_(){if(this.responsive()){var t=this.currentBreakpoint(),i=this.currentWidth();for(let e=0;e<Zr.length;e++){var s=Zr[e];if(i<=this.breakpoints_[s]){if(t===s)return;t&&this.removeClass(en[t]),this.addClass(en[s]),this.breakpoint_=s;break}}}}removeCurrentBreakpoint_(){var e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)}breakpoints(e){return void 0!==e&&(this.breakpoint_="",this.breakpoints_=Object.assign({},tn,e),this.updateCurrentBreakpoint_()),Object.assign(this.breakpoints_)}responsive(e){return void 0===e?this.responsive_:(e=Boolean(e))!==this.responsive_?((this.responsive_=e)?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e):void 0}currentBreakpoint(){return this.breakpoint_}currentBreakpointClass(){return en[this.breakpoint_]||""}loadMedia(e,t){var i,s,r,n,a,o;e&&"object"==typeof e&&(this.reset(),this.cache_.media=h(e),{artist:e,artwork:i,description:s,poster:r,src:n,textTracks:a,title:o}=this.cache_.media,!i&&r&&(this.cache_.media.artwork=[{src:r,type:Ss(r)}]),n&&this.src(n),r&&this.poster(r),Array.isArray(a)&&a.forEach(e=>this.addRemoteTextTrack(e,!1)),this.titleBar&&this.titleBar.update({title:o,description:s||e||""}),this.ready(t))}getMedia(){var e,t;return this.cache_.media?h(this.cache_.media):(e=this.poster(),t={src:this.currentSources(),textTracks:Array.prototype.map.call(this.remoteTextTracks(),e=>({kind:e.kind,label:e.label,language:e.language,src:e.src}))},e&&(t.poster=e,t.artwork=[{src:t.poster,type:Ss(t.poster)}]),t)}static getTagSettings(e){var t,i={sources:[],tracks:[]},s=Ae(e),r=s["data-setup"];if(Ee(e,"vjs-fill")&&(s.fill=!0),Ee(e,"vjs-fluid")&&(s.fluid=!0),null!==r&&([r,t]=$t(r||"{}"),r&&d.error(r),Object.assign(s,t)),Object.assign(i,s),e.hasChildNodes()){var n=e.childNodes;for(let e=0,t=n.length;e<t;e++){var a=n[e],o=a.nodeName.toLowerCase();"source"===o?i.sources.push(Ae(a)):"track"===o&&i.tracks.push(Ae(a))}}return i}debug(e){if(void 0===e)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)}playbackRates(e){if(void 0===e)return this.cache_.playbackRates;Array.isArray(e)&&e.every(e=>"number"==typeof e)&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))}}a.names.forEach(function(e){const t=a[e];b.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}}),b.prototype.crossorigin=b.prototype.crossOrigin,b.players={};Dr=window.navigator;b.prototype.options_={techOrder:_.defaultTechOrder_,html5:{},enableSourceset:!0,inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","titleBar","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Dr&&(Dr.languages&&Dr.languages[0]||Dr.userLanguage||Dr.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1},["ended","seeking","seekable","networkState","readyState"].forEach(function(e){b.prototype[e]=function(){return this.techGet_(e)}}),Qr.forEach(function(e){b.prototype[`handleTech${g(e)}_`]=function(){return this.trigger(e)}}),f.registerComponent("Player",b);function sn(t,i){function s(){hn(this,{name:t,plugin:i,instance:null},!0);var e=i.apply(this,arguments);return dn(this,t),hn(this,{name:t,plugin:i,instance:e}),e}return Object.keys(i).forEach(function(e){s[e]=i[e]}),s}const rn="plugin",nn="activePlugins_",an={},on=e=>an.hasOwnProperty(e),ln=e=>on(e)?an[e]:void 0,dn=(e,t)=>{e[nn]=e[nn]||{},e[nn][t]=!0},hn=(e,t,i)=>{i=(i?"before":"")+"pluginsetup";e.trigger(i,t),e.trigger(i+":"+t.name,t)},un=(i,s)=>(s.prototype.name=i,function(...e){hn(this,{name:i,plugin:s,instance:null},!0);const t=new s(this,...e);return this[i]=()=>t,hn(this,t.getEventHash()),t});class cn{constructor(e){if(this.constructor===cn)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,this.log||(this.log=this.player.log.createLogger(this.name)),Ct(this),delete this.trigger,xt(this,this.constructor.defaultState),dn(e,this.name),this.dispose=this.dispose.bind(this),e.on("dispose",this.dispose)}version(){return this.constructor.VERSION}getEventHash(e={}){return e.name=this.name,e.plugin=this.constructor,e.instance=this,e}trigger(e,t={}){return lt(this.eventBusEl_,e,this.getEventHash(t))}handleStateChanged(e){}dispose(){var{name:e,player:t}=this;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t[nn][e]=!1,this.player=this.state=null,t[e]=un(e,an[e])}static isBasic(e){e="string"==typeof e?ln(e):e;return"function"==typeof e&&!cn.prototype.isPrototypeOf(e.prototype)}static registerPlugin(e,t){if("string"!=typeof e)throw new Error(`Illegal plugin name, "${e}", must be a string, was ${typeof e}.`);if(on(e))d.warn(`A plugin named "${e}" already exists. You may want to avoid re-registering plugins!`);else if(b.prototype.hasOwnProperty(e))throw new Error(`Illegal plugin name, "${e}", cannot share a name with an existing player method!`);if("function"!=typeof t)throw new Error(`Illegal plugin for "${e}", must be a function, was ${typeof t}.`);return an[e]=t,e!==rn&&(cn.isBasic(t)?b.prototype[e]=sn(e,t):b.prototype[e]=un(e,t)),t}static deregisterPlugin(e){if(e===rn)throw new Error("Cannot de-register base plugin.");on(e)&&(delete an[e],delete b.prototype[e])}static getPlugins(e=Object.keys(an)){let i;return e.forEach(e=>{var t=ln(e);t&&((i=i||{})[e]=t)}),i}static getPluginVersion(e){e=ln(e);return e&&e.VERSION||""}}function pn(e,i,s,r){{var n=i+` is deprecated and will be removed in ${e}.0; please use ${s} instead.`,a=r;let t=!1;return function(...e){return t||d.warn(n),t=!0,a.apply(this,e)}}}cn.getPlugin=ln,cn.BASE_PLUGIN_NAME=rn,cn.registerPlugin(rn,cn),b.prototype.usingPlugin=function(e){return!!this[nn]&&!0===this[nn][e]},b.prototype.hasPlugin=function(e){return!!on(e)};const mn=e=>0===e.indexOf("#")?e.slice(1):e;function T(e,t,i){let s=T.getPlayer(e);if(s)t&&d.warn(`Player "${e}" is already initialised. Options will not be applied.`),i&&s.ready(i);else{const r="string"==typeof e?$e("#"+mn(e)):e;if(!ve(r))throw new TypeError("The element or ID supplied is not valid. (videojs)");r.ownerDocument.defaultView&&r.ownerDocument.body.contains(r)||d.warn("The element supplied is not included in the DOM"),!0===(t=t||{}).restoreEl&&(t.restoreEl=(r.parentNode&&r.parentNode.hasAttribute("data-vjs-player")?r.parentNode:r).cloneNode(!0)),B("beforesetup").forEach(e=>{e=e(r,h(t));!K(e)||Array.isArray(e)?d.error("please return an object in beforesetup hooks"):t=h(t,e)});e=f.getComponent("Player");s=new e(r,t,i),B("setup").forEach(e=>e(s))}return s}T.hooks_=U,T.hooks=B,T.hook=function(e,t){B(e,t)},T.hookOnce=function(s,e){B(s,[].concat(e).map(t=>{const i=(...e)=>(F(s,i),t(...e));return i}))},T.removeHook=F,!0!==window.VIDEOJS_NO_DYNAMIC_STYLE&&_e()&&!(Mi=$e(".vjs-styles-defaults"))&&(Mi=Ze("vjs-styles-defaults"),(Or=$e("head"))&&Or.insertBefore(Mi,Or.firstChild),et(Mi,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: 56.25%
      }
    `)),Qe(1,T),T.VERSION=R,T.options=b.prototype.options_,T.getPlayers=()=>b.players,T.getPlayer=e=>{var t=b.players;let i;if("string"==typeof e){var s=mn(e),r=t[s];if(r)return r;i=$e("#"+s)}else i=e;if(ve(i)){var{player:r,playerId:s}=i;if(r||t[s])return r||t[s]}},T.getAllPlayers=()=>Object.keys(b.players).map(e=>b.players[e]).filter(Boolean),T.players=b.players,T.getComponent=f.getComponent,T.registerComponent=(e,t)=>{_.isTech(t)&&d.warn(`The ${e} tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)`),f.registerComponent.call(f,e,t)},T.getTech=_.getTech,T.registerTech=_.registerTech,T.use=function(e,t){hs[e]=hs[e]||[],hs[e].push(t)},Object.defineProperty(T,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(T.middleware,"TERMINATOR",{value:cs,writeable:!1,enumerable:!0}),T.browser=e,T.obj=J,T.mergeOptions=pn(9,"videojs.mergeOptions","videojs.obj.merge",h),T.defineLazyProperty=pn(9,"videojs.defineLazyProperty","videojs.obj.defineLazyProperty",Q),T.bind=pn(9,"videojs.bind","native Function.prototype.bind",m),T.registerPlugin=cn.registerPlugin,T.deregisterPlugin=cn.deregisterPlugin,T.plugin=(e,t)=>(d.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),cn.registerPlugin(e,t)),T.getPlugins=cn.getPlugins,T.getPlugin=cn.getPlugin,T.getPluginVersion=cn.getPluginVersion,T.addLanguage=function(e,t){return e=(""+e).toLowerCase(),T.options.languages=h(T.options.languages,{[e]:t}),T.options.languages[e]},T.log=d,T.createLogger=W,T.time=qt,T.createTimeRange=pn(9,"videojs.createTimeRange","videojs.time.createTimeRanges",Rt),T.createTimeRanges=pn(9,"videojs.createTimeRanges","videojs.time.createTimeRanges",Rt),T.formatTime=pn(9,"videojs.formatTime","videojs.time.formatTime",Ht),T.setFormatTime=pn(9,"videojs.setFormatTime","videojs.time.setFormatTime",Ft),T.resetFormatTime=pn(9,"videojs.resetFormatTime","videojs.time.resetFormatTime",jt),T.parseUrl=pn(9,"videojs.parseUrl","videojs.url.parseUrl",li),T.isCrossOrigin=pn(9,"videojs.isCrossOrigin","videojs.url.isCrossOrigin",hi),T.EventTarget=ft,T.any=ht,T.on=ot,T.one=dt,T.off=p,T.trigger=lt,T.xhr=bi,T.TextTrack=Ai,T.AudioTrack=Pi,T.VideoTrack=Li,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(e=>{T[e]=function(){return d.warn(`videojs.${e}() is deprecated; use videojs.dom.${e}() instead`),ze[e].apply(null,arguments)}}),T.computedStyle=pn(9,"videojs.computedStyle","videojs.dom.computedStyle",Ge),T.dom=ze,T.fn=mt,T.num=pi,T.str=Lt,T.url=ci,Dt(function(e,t){
/*! @name videojs-contrib-quality-levels @version 3.0.0 @license Apache-2.0 */
e.exports=function(e){function t(e){return e&&typeof e==="object"&&"default"in e?e:{default:e}}var i=t(e);class s{constructor(e){let t=this;t.id=e.id;t.label=t.id;t.width=e.width;t.height=e.height;t.bitrate=e.bandwidth;t.frameRate=e.frameRate;t.enabled_=e.enabled;Object.defineProperty(t,"enabled",{get(){return t.enabled_()},set(e){t.enabled_(e)}});return t}}class n extends i["default"].EventTarget{constructor(){super();let e=this;e.levels_=[];e.selectedIndex_=-1;Object.defineProperty(e,"selectedIndex",{get(){return e.selectedIndex_}});Object.defineProperty(e,"length",{get(){return e.levels_.length}});return e}addQualityLevel(e){let t=this.getQualityLevelById(e.id);if(t)return t;const i=this.levels_.length;t=new s(e);if(!(""+i in this))Object.defineProperty(this,i,{get(){return this.levels_[i]}});this.levels_.push(t);this.trigger({qualityLevel:t,type:"addqualitylevel"});return t}removeQualityLevel(i){let s=null;for(let e=0,t=this.length;e<t;e++)if(this[e]===i){s=this.levels_.splice(e,1)[0];if(this.selectedIndex_===e)this.selectedIndex_=-1;else if(this.selectedIndex_>e)this.selectedIndex_--;break}if(s)this.trigger({qualityLevel:i,type:"removequalitylevel"});return s}getQualityLevelById(i){for(let e=0,t=this.length;e<t;e++){const s=this[e];if(s.id===i)return s}return null}dispose(){this.selectedIndex_=-1;this.levels_.length=0}}n.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"};for(const d in n.prototype.allowedEvents_)n.prototype["on"+d]=null;var a="3.0.0";const r=i["default"].registerPlugin||i["default"].plugin,o=function(e,t){const i=e.qualityLevels;const s=new n;const r=function(){s.dispose();e.qualityLevels=i;e.off("dispose",r)};e.on("dispose",r);e.qualityLevels=()=>s;e.qualityLevels.VERSION=a;return s},l=function(e){return o(this,i["default"].mergeOptions({},e))};return r("qualityLevels",l),l.VERSION=a,l}(T)});var gn=Dt(function(e,t){var i,n,s,r,a;i=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,n=/^(?=([^\/?#]*))\1([^]*)$/,s=/(?:\/|^)\.(?=\/)/g,r=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,a={buildAbsoluteURL:function(e,t,i){if(i=i||{},e=e.trim(),!(t=t.trim())){if(!i.alwaysNormalize)return e;var s=a.parseURL(e);if(s)return s.path=a.normalizePath(s.path),a.buildURLFromParts(s);throw new Error("Error trying to parse base URL.")}s=a.parseURL(t);if(!s)throw new Error("Error trying to parse relative URL.");if(s.scheme)return i.alwaysNormalize?(s.path=a.normalizePath(s.path),a.buildURLFromParts(s)):t;t=a.parseURL(e);if(!t)throw new Error("Error trying to parse base URL.");!t.netLoc&&t.path&&"/"!==t.path[0]&&(e=n.exec(t.path),t.netLoc=e[1],t.path=e[2]),t.netLoc&&!t.path&&(t.path="/");var r,e={scheme:t.scheme,netLoc:s.netLoc,path:null,params:s.params,query:s.query,fragment:s.fragment};return s.netLoc||(e.netLoc=t.netLoc,"/"!==s.path[0]&&(s.path?(r=(r=t.path).substring(0,r.lastIndexOf("/")+1)+s.path,e.path=a.normalizePath(r)):(e.path=t.path,s.params||(e.params=t.params,s.query)||(e.query=t.query)))),null===e.path&&(e.path=i.alwaysNormalize?a.normalizePath(s.path):s.path),a.buildURLFromParts(e)},parseURL:function(e){e=i.exec(e);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(s,"");e.length!==(e=e.replace(r,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=a}),fn="http://example.com",Lr=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){return!!this.listeners[e]&&(t=this.listeners[e].indexOf(t),this.listeners[e]=this.listeners[e].slice(0),this.listeners[e].splice(t,1),-1<t)},t.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var i=t.length,s=0;s<i;++s)t[s].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),n=t.length,a=0;a<n;++a)t[a].apply(this,r)},t.dispose=function(){this.listeners={}},t.pipe=function(t){this.on("data",function(e){t.push(e)})},e}();function yn(e){e=e;for(var t=window.atob?window.atob(e):Buffer.from(e,"base64").toString("binary"),i=new Uint8Array(t.length),s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i}
/*! @name m3u8-parser @version 6.0.0 @license Apache-2.0 */class _n extends Lr{constructor(){super(),this.buffer=""}push(e){let t;for(this.buffer+=e,t=this.buffer.indexOf("\n");-1<t;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)}}function vn(e){var e=/([0-9.]*)?@?([0-9.]*)?/.exec(e||""),t={};return e[1]&&(t.length=parseInt(e[1],10)),e[2]&&(t.offset=parseInt(e[2],10)),t}function bn(t){var i={};if(t){var s,r=t.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))'));let e=r.length;for(;e--;)""!==r[e]&&((s=/([^=]*)=(.*)/.exec(r[e]).slice(1))[0]=s[0].replace(/^\s+|\s+$/g,""),s[1]=s[1].replace(/^\s+|\s+$/g,""),s[1]=s[1].replace(/^['"](.*)['"]$/g,"$1"),i[s[0]]=s[1])}return i}const Tn=String.fromCharCode(9);class Sn extends Lr{constructor(){super(),this.customParsers=[],this.tagMappers=[]}push(i){let s,r;0!==(i=i.trim()).length&&("#"!==i[0]?this.trigger("data",{type:"uri",uri:i}):this.tagMappers.reduce((e,t)=>{t=t(i);return t===i?e:e.concat([t])},[i]).forEach(t=>{for(let e=0;e<this.customParsers.length;e++)if(this.customParsers[e].call(this,t))return;var e,i;0!==t.indexOf("#EXT")?this.trigger("data",{type:"comment",text:t.slice(1)}):(t=t.replace("\r",""),(s=/^#EXTM3U/.exec(t))?this.trigger("data",{type:"tag",tagType:"m3u"}):(s=/^#EXTINF:([0-9\.]*)?,?(.*)?$/.exec(t))?(r={type:"tag",tagType:"inf"},s[1]&&(r.duration=parseFloat(s[1])),s[2]&&(r.title=s[2]),this.trigger("data",r)):(s=/^#EXT-X-TARGETDURATION:([0-9.]*)?/.exec(t))?(r={type:"tag",tagType:"targetduration"},s[1]&&(r.duration=parseInt(s[1],10)),this.trigger("data",r)):(s=/^#EXT-X-VERSION:([0-9.]*)?/.exec(t))?(r={type:"tag",tagType:"version"},s[1]&&(r.version=parseInt(s[1],10)),this.trigger("data",r)):(s=/^#EXT-X-MEDIA-SEQUENCE:(\-?[0-9.]*)?/.exec(t))?(r={type:"tag",tagType:"media-sequence"},s[1]&&(r.number=parseInt(s[1],10)),this.trigger("data",r)):(s=/^#EXT-X-DISCONTINUITY-SEQUENCE:(\-?[0-9.]*)?/.exec(t))?(r={type:"tag",tagType:"discontinuity-sequence"},s[1]&&(r.number=parseInt(s[1],10)),this.trigger("data",r)):(s=/^#EXT-X-PLAYLIST-TYPE:(.*)?$/.exec(t))?(r={type:"tag",tagType:"playlist-type"},s[1]&&(r.playlistType=s[1]),this.trigger("data",r)):(s=/^#EXT-X-BYTERANGE:(.*)?$/.exec(t))?(r=fi(vn(s[1]),{type:"tag",tagType:"byterange"}),this.trigger("data",r)):(s=/^#EXT-X-ALLOW-CACHE:(YES|NO)?/.exec(t))?(r={type:"tag",tagType:"allow-cache"},s[1]&&(r.allowed=!/NO/.test(s[1])),this.trigger("data",r)):(s=/^#EXT-X-MAP:(.*)$/.exec(t))?(r={type:"tag",tagType:"map"},s[1]&&((i=bn(s[1])).URI&&(r.uri=i.URI),i.BYTERANGE)&&(r.byterange=vn(i.BYTERANGE)),this.trigger("data",r)):(s=/^#EXT-X-STREAM-INF:(.*)$/.exec(t))?(r={type:"tag",tagType:"stream-inf"},s[1]&&(r.attributes=bn(s[1]),r.attributes.RESOLUTION&&(i={},(e=r.attributes.RESOLUTION.split("x"))[0]&&(i.width=parseInt(e[0],10)),e[1]&&(i.height=parseInt(e[1],10)),r.attributes.RESOLUTION=i),r.attributes.BANDWIDTH&&(r.attributes.BANDWIDTH=parseInt(r.attributes.BANDWIDTH,10)),r.attributes["FRAME-RATE"]&&(r.attributes["FRAME-RATE"]=parseFloat(r.attributes["FRAME-RATE"])),r.attributes["PROGRAM-ID"])&&(r.attributes["PROGRAM-ID"]=parseInt(r.attributes["PROGRAM-ID"],10)),this.trigger("data",r)):(s=/^#EXT-X-MEDIA:(.*)$/.exec(t))?(r={type:"tag",tagType:"media"},s[1]&&(r.attributes=bn(s[1])),this.trigger("data",r)):(s=/^#EXT-X-ENDLIST/.exec(t))?this.trigger("data",{type:"tag",tagType:"endlist"}):(s=/^#EXT-X-DISCONTINUITY/.exec(t))?this.trigger("data",{type:"tag",tagType:"discontinuity"}):(s=/^#EXT-X-PROGRAM-DATE-TIME:(.*)$/.exec(t))?(r={type:"tag",tagType:"program-date-time"},s[1]&&(r.dateTimeString=s[1],r.dateTimeObject=new Date(s[1])),this.trigger("data",r)):(s=/^#EXT-X-KEY:(.*)$/.exec(t))?(r={type:"tag",tagType:"key"},s[1]&&(r.attributes=bn(s[1]),r.attributes.IV)&&("0x"===r.attributes.IV.substring(0,2).toLowerCase()&&(r.attributes.IV=r.attributes.IV.substring(2)),r.attributes.IV=r.attributes.IV.match(/.{8}/g),r.attributes.IV[0]=parseInt(r.attributes.IV[0],16),r.attributes.IV[1]=parseInt(r.attributes.IV[1],16),r.attributes.IV[2]=parseInt(r.attributes.IV[2],16),r.attributes.IV[3]=parseInt(r.attributes.IV[3],16),r.attributes.IV=new Uint32Array(r.attributes.IV)),this.trigger("data",r)):(s=/^#EXT-X-START:(.*)$/.exec(t))?(r={type:"tag",tagType:"start"},s[1]&&(r.attributes=bn(s[1]),r.attributes["TIME-OFFSET"]=parseFloat(r.attributes["TIME-OFFSET"]),r.attributes.PRECISE=/YES/.test(r.attributes.PRECISE)),this.trigger("data",r)):(s=/^#EXT-X-CUE-OUT-CONT:(.*)?$/.exec(t))?(r={type:"tag",tagType:"cue-out-cont"},s[1]?r.data=s[1]:r.data="",this.trigger("data",r)):(s=/^#EXT-X-CUE-OUT:(.*)?$/.exec(t))?(r={type:"tag",tagType:"cue-out"},s[1]?r.data=s[1]:r.data="",this.trigger("data",r)):(s=/^#EXT-X-CUE-IN:(.*)?$/.exec(t))?(r={type:"tag",tagType:"cue-in"},s[1]?r.data=s[1]:r.data="",this.trigger("data",r)):(s=/^#EXT-X-SKIP:(.*)$/.exec(t))&&s[1]?((r={type:"tag",tagType:"skip"}).attributes=bn(s[1]),r.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(r.attributes["SKIPPED-SEGMENTS"]=parseInt(r.attributes["SKIPPED-SEGMENTS"],10)),r.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(r.attributes["RECENTLY-REMOVED-DATERANGES"]=r.attributes["RECENTLY-REMOVED-DATERANGES"].split(Tn)),this.trigger("data",r)):(s=/^#EXT-X-PART:(.*)$/.exec(t))&&s[1]?((r={type:"tag",tagType:"part"}).attributes=bn(s[1]),["DURATION"].forEach(function(e){r.attributes.hasOwnProperty(e)&&(r.attributes[e]=parseFloat(r.attributes[e]))}),["INDEPENDENT","GAP"].forEach(function(e){r.attributes.hasOwnProperty(e)&&(r.attributes[e]=/YES/.test(r.attributes[e]))}),r.attributes.hasOwnProperty("BYTERANGE")&&(r.attributes.byterange=vn(r.attributes.BYTERANGE)),this.trigger("data",r)):(s=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(t))&&s[1]?((r={type:"tag",tagType:"server-control"}).attributes=bn(s[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(e){r.attributes.hasOwnProperty(e)&&(r.attributes[e]=parseFloat(r.attributes[e]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(e){r.attributes.hasOwnProperty(e)&&(r.attributes[e]=/YES/.test(r.attributes[e]))}),this.trigger("data",r)):(s=/^#EXT-X-PART-INF:(.*)$/.exec(t))&&s[1]?((r={type:"tag",tagType:"part-inf"}).attributes=bn(s[1]),["PART-TARGET"].forEach(function(e){r.attributes.hasOwnProperty(e)&&(r.attributes[e]=parseFloat(r.attributes[e]))}),this.trigger("data",r)):(s=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(t))&&s[1]?((r={type:"tag",tagType:"preload-hint"}).attributes=bn(s[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(e){var t;r.attributes.hasOwnProperty(e)&&(r.attributes[e]=parseInt(r.attributes[e],10),t="BYTERANGE-LENGTH"===e?"length":"offset",r.attributes.byterange=r.attributes.byterange||{},r.attributes.byterange[t]=r.attributes[e],delete r.attributes[e])}),this.trigger("data",r)):(s=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(t))&&s[1]?((r={type:"tag",tagType:"rendition-report"}).attributes=bn(s[1]),["LAST-MSN","LAST-PART"].forEach(function(e){r.attributes.hasOwnProperty(e)&&(r.attributes[e]=parseInt(r.attributes[e],10))}),this.trigger("data",r)):this.trigger("data",{type:"tag",data:t.slice(4)}))}))}addParser({expression:t,customType:i,dataParser:s,segment:r}){"function"!=typeof s&&(s=e=>e),this.customParsers.push(e=>{if(t.exec(e))return this.trigger("data",{type:"custom",data:s(e),customType:i,segment:r}),!0})}addTagMapper({expression:t,map:i}){this.tagMappers.push(e=>t.test(e)?i(e):e)}}function wn(t){const i={};return Object.keys(t).forEach(function(e){i[e.toLowerCase().replace(/-(\w)/g,e=>e[1].toUpperCase())]=t[e]}),i}function En(e){var t,i,s,r,n,{serverControl:e,targetDuration:a,partTargetDuration:o}=e;e&&(t="#EXT-X-SERVER-CONTROL",i="holdBack",s="partHoldBack",r=a&&3*a,n=o&&2*o,a&&!e.hasOwnProperty(i)&&(e[i]=r,this.trigger("info",{message:t+` defaulting HOLD-BACK to targetDuration * 3 (${r}).`})),r&&e[i]<r&&(this.trigger("warn",{message:t+` clamping HOLD-BACK (${e[i]}) to targetDuration * 3 (${r})`}),e[i]=r),o&&!e.hasOwnProperty(s)&&(e[s]=3*o,this.trigger("info",{message:t+` defaulting PART-HOLD-BACK to partTargetDuration * 3 (${e[s]}).`})),o)&&e[s]<n&&(this.trigger("warn",{message:t+` clamping PART-HOLD-BACK (${e[s]}) to partTargetDuration * 2 (${n}).`}),e[s]=n)}class kn extends Lr{constructor(){super(),this.lineStream=new _n,this.parseStream=new Sn,this.lineStream.pipe(this.parseStream);const e=this,s=[];let a={},r,o,l=!1;const d={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}};let h=0,u=(this.manifest={allowCache:!0,discontinuityStarts:[],segments:[]},0),c=0;this.on("end",()=>{a.uri||!a.parts&&!a.preloadHints||(!a.map&&r&&(a.map=r),!a.key&&o&&(a.key=o),a.timeline||"number"!=typeof h||(a.timeline=h),this.manifest.preloadSegment=a)}),this.parseStream.on("data",function(n){let t,i;({tag(){({version(){n.version&&(this.manifest.version=n.version)},"allow-cache"(){this.manifest.allowCache=n.allowed,"allowed"in n||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange(){var e={};"length"in n&&((a.byterange=e).length=n.length,"offset"in n||(n.offset=u)),"offset"in n&&((a.byterange=e).offset=n.offset),u=e.offset+e.length},endlist(){this.manifest.endList=!0},inf(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),0<n.duration&&(a.duration=n.duration),0===n.duration&&(a.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=s},key(){if(n.attributes)if("NONE"===n.attributes.METHOD)o=null;else if(n.attributes.URI)if("com.apple.streamingkeydelivery"===n.attributes.KEYFORMAT)this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:n.attributes};else if("com.microsoft.playready"===n.attributes.KEYFORMAT)this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:n.attributes.URI};else{if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===n.attributes.KEYFORMAT)return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(n.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===n.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==n.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):n.attributes.KEYID&&"0x"===n.attributes.KEYID.substring(0,2)?(this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:n.attributes.KEYFORMAT,keyId:n.attributes.KEYID.substring(2)},pssh:yn(n.attributes.URI.split(",")[1])})):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}));n.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),o={method:n.attributes.METHOD||"AES-128",uri:n.attributes.URI},"undefined"!=typeof n.attributes.IV&&(o.iv=n.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence"(){isFinite(n.number)?this.manifest.mediaSequence=n.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+n.number})},"discontinuity-sequence"(){isFinite(n.number)?(this.manifest.discontinuitySequence=n.number,h=n.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+n.number})},"playlist-type"(){/VOD|EVENT/.test(n.playlistType)?this.manifest.playlistType=n.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+n.playlist})},map(){r={},n.uri&&(r.uri=n.uri),n.byterange&&(r.byterange=n.byterange),o&&(r.key=o)},"stream-inf"(){this.manifest.playlists=s,this.manifest.mediaGroups=this.manifest.mediaGroups||d,n.attributes?(a.attributes||(a.attributes={}),fi(a.attributes,n.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media(){var e;this.manifest.mediaGroups=this.manifest.mediaGroups||d,n.attributes&&n.attributes.TYPE&&n.attributes["GROUP-ID"]&&n.attributes.NAME?((e=this.manifest.mediaGroups[n.attributes.TYPE])[n.attributes["GROUP-ID"]]=e[n.attributes["GROUP-ID"]]||{},t=e[n.attributes["GROUP-ID"]],(i={default:/yes/i.test(n.attributes.DEFAULT)}).default?i.autoselect=!0:i.autoselect=/yes/i.test(n.attributes.AUTOSELECT),n.attributes.LANGUAGE&&(i.language=n.attributes.LANGUAGE),n.attributes.URI&&(i.uri=n.attributes.URI),n.attributes["INSTREAM-ID"]&&(i.instreamId=n.attributes["INSTREAM-ID"]),n.attributes.CHARACTERISTICS&&(i.characteristics=n.attributes.CHARACTERISTICS),n.attributes.FORCED&&(i.forced=/yes/i.test(n.attributes.FORCED)),t[n.attributes.NAME]=i):this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity(){h+=1,a.discontinuity=!0,this.manifest.discontinuityStarts.push(s.length)},"program-date-time"(){"undefined"==typeof this.manifest.dateTimeString&&(this.manifest.dateTimeString=n.dateTimeString,this.manifest.dateTimeObject=n.dateTimeObject),a.dateTimeString=n.dateTimeString,a.dateTimeObject=n.dateTimeObject},targetduration(){!isFinite(n.duration)||n.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+n.duration}):(this.manifest.targetDuration=n.duration,En.call(this,this.manifest))},start(){!n.attributes||isNaN(n.attributes["TIME-OFFSET"])?this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"}):this.manifest.start={timeOffset:n.attributes["TIME-OFFSET"],precise:n.attributes.PRECISE}},"cue-out"(){a.cueOut=n.data},"cue-out-cont"(){a.cueOutCont=n.data},"cue-in"(){a.cueIn=n.data},skip(){this.manifest.skip=wn(n.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",n.attributes,["SKIPPED-SEGMENTS"])},part(){l=!0;var e=this.manifest.segments.length,t=wn(n.attributes),t=(a.parts=a.parts||[],a.parts.push(t),t.byterange&&(t.byterange.hasOwnProperty("offset")||(t.byterange.offset=c),c=t.byterange.offset+t.byterange.length),a.parts.length-1);this.warnOnMissingAttributes_(`#EXT-X-PART #${t} for segment #`+e,n.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach((e,t)=>{e.hasOwnProperty("lastPart")||this.trigger("warn",{message:`#EXT-X-RENDITION-REPORT #${t} lacks required attribute(s): LAST-PART`})})},"server-control"(){var e=this.manifest.serverControl=wn(n.attributes);e.hasOwnProperty("canBlockReload")||(e.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),En.call(this,this.manifest),e.canSkipDateranges&&!e.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint"(){var t=this.manifest.segments.length,i=wn(n.attributes),e=i.type&&"PART"===i.type,s=(a.preloadHints=a.preloadHints||[],a.preloadHints.push(i),!i.byterange||i.byterange.hasOwnProperty("offset")||(i.byterange.offset=e?c:0,e&&(c=i.byterange.offset+i.byterange.length)),a.preloadHints.length-1);if(this.warnOnMissingAttributes_(`#EXT-X-PRELOAD-HINT #${s} for segment #`+t,n.attributes,["TYPE","URI"]),i.type)for(let e=0;e<a.preloadHints.length-1;e++){var r=a.preloadHints[e];r.type&&r.type===i.type&&this.trigger("warn",{message:`#EXT-X-PRELOAD-HINT #${s} for segment #${t} has the same TYPE ${i.type} as preload hint #`+e})}},"rendition-report"(){var e=wn(n.attributes),e=(this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(e),this.manifest.renditionReports.length-1),t=["LAST-MSN","URI"];l&&t.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #"+e,n.attributes,t)},"part-inf"(){this.manifest.partInf=wn(n.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",n.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),En.call(this,this.manifest)}}[n.tagType]||function(){}).call(e)},uri(){a.uri=n.uri,s.push(a),!this.manifest.targetDuration||"duration"in a||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),a.duration=this.manifest.targetDuration),o&&(a.key=o),a.timeline=h,r&&(a.map=r),c=0,a={}},comment(){},custom(){n.segment?(a.custom=a.custom||{},a.custom[n.customType]=n.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[n.customType]=n.data)}})[n.type].call(e)})}warnOnMissingAttributes_(e,t,i){const s=[];i.forEach(function(e){t.hasOwnProperty(e)||s.push(e)}),s.length&&this.trigger("warn",{message:e+" lacks required attribute(s): "+s.join(", ")})}push(e){this.lineStream.push(e)}end(){this.lineStream.push("\n"),this.trigger("end")}addParser(e){this.parseStream.addParser(e)}addTagMapper(e){this.parseStream.addTagMapper(e)}}function Cn(e){return Dn.audio.test((e=void 0===e?"":e).trim().toLowerCase())}function In(e){return void 0===e&&(e=""),window.MediaSource&&window.MediaSource.isTypeSupported&&window.MediaSource.isTypeSupported(Bn(e))||!1}function xn(e){return(e=void 0===e?"":e).toLowerCase().split(",").every(function(e){e=e.trim();for(var t=0;t<Mn.length;t++){var i=Mn[t];if(Dn["muxer"+i].test(e))return!0}return!1})}function An(e){return jn.test(e)?"hls":Hn.test(e)?"dash":"application/vnd.videojs.vhs+json"===e?"vhs-json":null}function Pn(e,t){for(var i=void 0!==(t=(void 0===t?{}:t).le)&&t,s=(e=w(e="bigint"!=typeof e&&"number"!=typeof e||"number"==typeof e&&e!=e?0:e),t=e,Math.ceil(t.toString(2).length/8)),r=new Uint8Array(new ArrayBuffer(s)),n=0;n<s;n++){var a=i?n:Math.abs(n+1-r.length);r[a]=Number(e/Vn[n]&w(255)),e<0&&(r[a]=Math.abs(~r[a]),r[a]-=0===n?1:2)}return r}function Ln(e,t){if("string"!=typeof(e="string"!=typeof e&&e&&"function"==typeof e.toString?e.toString():e))return new Uint8Array;t||(e=unescape(encodeURIComponent(e)));for(var i=new Uint8Array(e.length),s=0;s<e.length;s++)i[s]=e.charCodeAt(s);return i}function On(e,t){if(/^[a-z]+:/i.test(t))return t;/^data:/.test(e)&&(e=window.location&&window.location.href||"");var i="function"==typeof window.URL,s=/^\/\//.test(e),r=!window.location&&!/\/\//i.test(e);return i?e=new window.URL(e,window.location||Wn):/\/\//i.test(e)||(e=gn.buildAbsoluteURL(window.location&&window.location.href||"",e)),i?(i=new URL(t,e),r?i.href.slice(Wn.length):s?i.href.slice(i.protocol.length):i.href):gn.buildAbsoluteURL(e,t)}var Dn={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},Nn=["video","audio","text"],Mn=["Video","Audio","Text"],Rn=function(e){return e&&e.replace(/avc1\.(\d+)\.(\d+)/i,function(e,t,i){return"avc1."+("00"+Number(t).toString(16)).slice(-2)+"00"+("00"+Number(i).toString(16)).slice(-2)})},Un=function(e){var e=(e=void 0===e?"":e).split(","),n=[];return e.forEach(function(s){var r;s=s.trim(),Nn.forEach(function(e){var t,i=Dn[e].exec(s.toLowerCase());!i||i.length<=1||(r=e,i=s.substring(0,i[1].length),t=s.replace(i,""),n.push({type:i,details:t,mediaType:e}))}),r||n.push({type:s,details:"",mediaType:"unknown"})}),n},Bn=function(e){var t,i,s;if(e&&"string"==typeof e)return i="video",1===(t=e.toLowerCase().split(",").map(function(e){return Rn(e.trim())})).length&&Cn(t[0])?i="audio":1===t.length&&(s=t[0],Dn.text.test((s=void 0===s?"":s).trim().toLowerCase()))&&(i="application"),s="mp4",t.every(function(e){return Dn.mp4.test(e)})?s="mp4":t.every(function(e){return Dn.webm.test(e)})?s="webm":t.every(function(e){return Dn.ogg.test(e)})&&(s="ogg"),i+"/"+s+';codecs="'+e+'"'},Fn="mp4a.40.2",jn=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,Hn=/^application\/dash\+xml/i,qn=function(e){return"function"===ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},S=function(e){return e instanceof Uint8Array?e:(Array.isArray(e)||qn(e)||e instanceof ArrayBuffer||(e="number"!=typeof e||"number"==typeof e&&e!=e?0:[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},w=window.BigInt||Number,Vn=[w("0x1"),w("0x100"),w("0x10000"),w("0x1000000"),w("0x100000000"),w("0x10000000000"),w("0x1000000000000"),w("0x100000000000000"),w("0x10000000000000000")],$n=(Ot=new Uint16Array([65484]),255!==(Ot=new Uint8Array(Ot.buffer,Ot.byteOffset,Ot.byteLength))[0]&&Ot[0],function(s,e){var e=void 0===e?{}:e,t=e.signed,t=void 0!==t&&t,e=e.le,r=void 0!==e&&e,e=(s=S(s),r?"reduce":"reduceRight"),e=(s[e]||Array.prototype[e]).call(s,function(e,t,i){i=r?i:Math.abs(i+1-s.length);return e+w(t)*Vn[i]},w(0));return t&&(t=Vn[s.length]/w(2)-w(1))<(e=w(e))&&(e=(e=e-t-t)-w(2)),Number(e)}),E=function(i,e,t){var t=void 0===t?{}:t,s=t.offset,r=void 0===s?0:s,s=t.mask,n=void 0===s?[]:s,t=(i=S(i),(e=S(e)).every||Array.prototype.every);return e.length&&i.length-r>=e.length&&t.call(e,function(e,t){return e===(n[t]?n[t]&i[r+t]:i[r+t])})},Wn="http://example.com";function Gn(e){e=e;for(var t=window.atob?window.atob(e):Buffer.from(e,"base64").toString("binary"),i=new Uint8Array(t.length),s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i}function zn(e,t){return(t=void 0===t?Object:t)&&"function"==typeof t.freeze?t.freeze(e):e}var Xn=zn({HTML:"text/html",isHTML:function(e){return e===Xn.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),Kn=zn({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(e){return e===Kn.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"}),Yn={assign:function(e,t){if(null===e||"object"!=typeof e)throw new TypeError("target is not an object");for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},find:function(e,t,i){if(void 0===i&&(i=Array.prototype),e&&"function"==typeof i.find)return i.find.call(e,t);for(var s=0;s<e.length;s++)if(Object.prototype.hasOwnProperty.call(e,s)){var r=e[s];if(t.call(void 0,r,s,e))return r}},freeze:zn,MIME_TYPE:Xn,NAMESPACE:Kn},Qn=Yn.find,Jn=Yn.NAMESPACE;function Zn(e){return""!==e}function ea(e,t){return e.hasOwnProperty(t)||(e[t]=!0),e}function ta(e){return e?(e=(e=e)?e.split(/[\t\n\f\r ]+/).filter(Zn):[],Object.keys(e.reduce(ea,{}))):[]}function ia(e,t){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}function sa(e,t){var i=e.prototype;function s(){}i instanceof t||(s.prototype=t.prototype,ia(i,s=new s),e.prototype=i=s),i.constructor!=e&&(i.constructor=e)}var n={},t=(n.ELEMENT_NODE=1,n.ATTRIBUTE_NODE=2,n.TEXT_NODE=3,n.CDATA_SECTION_NODE=4,n.ENTITY_REFERENCE_NODE=5,n.ENTITY_NODE=6,n.PROCESSING_INSTRUCTION_NODE=7,n.COMMENT_NODE=8,n.DOCUMENT_NODE=9,n.DOCUMENT_TYPE_NODE=10,n.DOCUMENT_FRAGMENT_NODE=11,n.NOTATION_NODE=12,{}),k={},ra=(t.INDEX_SIZE_ERR=(k[1]="Index size error",1),t.DOMSTRING_SIZE_ERR=(k[2]="DOMString size error",2),t.HIERARCHY_REQUEST_ERR=(k[3]="Hierarchy request error",3)),na=(t.WRONG_DOCUMENT_ERR=(k[4]="Wrong document",4),t.INVALID_CHARACTER_ERR=(k[5]="Invalid character",5),t.NO_DATA_ALLOWED_ERR=(k[6]="No data allowed",6),t.NO_MODIFICATION_ALLOWED_ERR=(k[7]="No modification allowed",7),t.NOT_FOUND_ERR=(k[8]="Not found",8));t.NOT_SUPPORTED_ERR=(k[9]="Not supported",9),t.INUSE_ATTRIBUTE_ERR=(k[10]="Attribute in use",10);function C(e,t){var i;return t instanceof Error?i=t:(i=this,Error.call(this,k[e]),this.message=k[e],Error.captureStackTrace&&Error.captureStackTrace(this,C)),i.code=e,t&&(this.message=this.message+": "+t),i}function aa(){}function oa(e,t){this._node=e,this._refresh=t,la(this)}function la(e){var t,i=e._node._inc||e._node.ownerDocument._inc;e._inc!=i&&(t=e._refresh(e._node),Ga(e,"length",t.length),ia(t,e),e._inc=i)}function da(){}function ha(e,t){for(var i=e.length;i--;)if(e[i]===t)return i}function ua(e,t,i,s){s?t[ha(t,s)]=i:t[t.length++]=i,e&&(t=(i.ownerElement=e).ownerDocument)&&(s&&ya(t,e,s),s=e,e=i,(i=t)&&i._inc++,e.namespaceURI===Jn.XMLNS)&&(s._nsMap[e.prefix?e.localName:""]=e.value)}function ca(e,t,i){var s=ha(t,i);if(!(0<=s))throw new C(na,new Error(e.tagName+"@"+i));for(var r,n=t.length-1;s<n;)t[s]=t[++s];t.length=n,e&&(r=e.ownerDocument)&&(ya(r,e,i),i.ownerElement=null)}function pa(){}function I(){}function ma(e){return("<"==e?"&lt;":">"==e&&"&gt;")||("&"==e?"&amp;":'"'==e&&"&quot;")||"&#"+e.charCodeAt()+";"}function ga(e,t){if(t(e))return 1;if(e=e.firstChild)do{if(ga(e,t))return 1}while(e=e.nextSibling)}function fa(){this.ownerDocument=this}function ya(e,t,i){e&&e._inc++,i.namespaceURI===Jn.XMLNS&&delete t._nsMap[i.prefix?i.localName:""]}function _a(e,t,i){if(e&&e._inc){e._inc++;var s=t.childNodes;if(i)s[s.length++]=i;else{for(var r=t.firstChild,n=0;r;)r=(s[n++]=r).nextSibling;s.length=n,delete s[s.length]}}}function va(e,t){var i=t.previousSibling,s=t.nextSibling;return i?i.nextSibling=s:e.firstChild=s,s?s.previousSibling=i:e.lastChild=i,t.parentNode=null,t.previousSibling=null,t.nextSibling=null,_a(e.ownerDocument,e),t}function ba(e){return e&&e.nodeType===I.DOCUMENT_TYPE_NODE}function Ta(e){return e&&e.nodeType===I.ELEMENT_NODE}function Sa(e){return e&&e.nodeType===I.TEXT_NODE}function wa(e,t){var i,e=e.childNodes||[];if(!Qn(e,Ta)&&!ba(t))return i=Qn(e,ba),!(t&&i&&e.indexOf(i)>e.indexOf(t))}function Ea(e,t){var i,e=e.childNodes||[];if(!Qn(e,function(e){return Ta(e)&&e!==t}))return i=Qn(e,ba),!(t&&i&&e.indexOf(i)>e.indexOf(t))}function ka(e,t,i){if(!(s=e)||s.nodeType!==I.DOCUMENT_NODE&&s.nodeType!==I.DOCUMENT_FRAGMENT_NODE&&s.nodeType!==I.ELEMENT_NODE)throw new C(ra,"Unexpected parent node type "+e.nodeType);var s;if(i&&i.parentNode!==e)throw new C(na,"child not in parent");if(!(s=t)||!(Ta(s)||Sa(s)||ba(s)||s.nodeType===I.DOCUMENT_FRAGMENT_NODE||s.nodeType===I.COMMENT_NODE||s.nodeType===I.PROCESSING_INSTRUCTION_NODE)||ba(t)&&e.nodeType!==I.DOCUMENT_NODE)throw new C(ra,"Unexpected node type "+t.nodeType+" for parent node type "+e.nodeType)}function Ca(e,t,i){var s=e.childNodes||[],r=t.childNodes||[];if(t.nodeType===I.DOCUMENT_FRAGMENT_NODE){var n=r.filter(Ta);if(1<n.length||Qn(r,Sa))throw new C(ra,"More than one element or text in fragment");if(1===n.length&&!wa(e,i))throw new C(ra,"Element in fragment can not be inserted before doctype")}if(Ta(t)&&!wa(e,i))throw new C(ra,"Only one element can be added and only after doctype");if(ba(t)){if(Qn(s,ba))throw new C(ra,"Only one doctype is allowed");r=Qn(s,Ta);if(i&&s.indexOf(r)<s.indexOf(i))throw new C(ra,"Doctype can only be inserted before an element");if(!i&&r)throw new C(ra,"Doctype can not be appended since element is present")}}function Ia(e,t,i){var s=e.childNodes||[],r=t.childNodes||[];if(t.nodeType===I.DOCUMENT_FRAGMENT_NODE){var n=r.filter(Ta);if(1<n.length||Qn(r,Sa))throw new C(ra,"More than one element or text in fragment");if(1===n.length&&!Ea(e,i))throw new C(ra,"Element in fragment can not be inserted before doctype")}if(Ta(t)&&!Ea(e,i))throw new C(ra,"Only one element can be added and only after doctype");if(ba(t)){if(Qn(s,function(e){return ba(e)&&e!==i}))throw new C(ra,"Only one doctype is allowed");r=Qn(s,Ta);if(i&&s.indexOf(r)<s.indexOf(i))throw new C(ra,"Doctype can only be inserted before an element")}}function xa(e,t,i,s){ka(e,t,i),e.nodeType===I.DOCUMENT_NODE&&(s||Ca)(e,t,i);s=t.parentNode;if(s&&s.removeChild(t),11===t.nodeType){var r=t.firstChild;if(null==r)return t;var n=t.lastChild}else r=n=t;s=i?i.previousSibling:e.lastChild;for(r.previousSibling=s,n.nextSibling=i,s?s.nextSibling=r:e.firstChild=r,null==i?e.lastChild=n:i.previousSibling=n;r.parentNode=e,r!==n&&(r=r.nextSibling););return _a(e.ownerDocument||e,e),11==t.nodeType&&(t.firstChild=t.lastChild=null),t}function Aa(){this._nsMap={}}function Pa(){}function La(){}function Oa(){}function Da(){}function Na(){}function Ma(){}function Ra(){}function Ua(){}function Ba(){}function Fa(){}function ja(){}function Ha(){}function qa(e,t){var i,s=[],r=9==this.nodeType&&this.documentElement||this,n=r.prefix,a=r.namespaceURI;return Wa(this,s,e,t,i=a&&null==n&&null==r.lookupPrefix(a)?[{namespace:a,prefix:null}]:i),s.join("")}function Va(e,t,i){var s=e.prefix||"",r=e.namespaceURI;if(r&&("xml"!==s||r!==Jn.XML)&&r!==Jn.XMLNS){for(var n=i.length;n--;){var a=i[n];if(a.prefix===s)return a.namespace!==r}return 1}}function $a(e,t,i){e.push(" ",t,'="',i.replace(/[<>&"\t\n\r]/g,ma),'"')}function Wa(e,t,i,s,r){if(r=r||[],s){if(!(e=s(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case 1:var n=e.attributes,a=n.length,o=e.firstChild,l=e.tagName,d=l;if(!(i=Jn.isHTML(e.namespaceURI)||i)&&!e.prefix&&e.namespaceURI){for(var h,u=0;u<n.length;u++)if("xmlns"===n.item(u).name){h=n.item(u).value;break}if(!h)for(var c=r.length-1;0<=c;c--)if(""===(p=r[c]).prefix&&p.namespace===e.namespaceURI){h=p.namespace;break}if(h!==e.namespaceURI)for(var p,c=r.length-1;0<=c;c--)if((p=r[c]).namespace===e.namespaceURI){p.prefix&&(d=p.prefix+":"+l);break}}t.push("<",d);for(var m=0;m<a;m++)"xmlns"==(g=n.item(m)).prefix?r.push({prefix:g.localName,namespace:g.value}):"xmlns"==g.nodeName&&r.push({prefix:"",namespace:g.value});for(var g,f,y,m=0;m<a;m++)Va(g=n.item(m),0,r)&&($a(t,(f=g.prefix||"")?"xmlns:"+f:"xmlns",y=g.namespaceURI),r.push({prefix:f,namespace:y})),Wa(g,t,i,s,r);if(l===d&&Va(e,0,r)&&($a(t,(f=e.prefix||"")?"xmlns:"+f:"xmlns",y=e.namespaceURI),r.push({prefix:f,namespace:y})),o||i&&!/^(?:meta|link|img|br|hr|input)$/i.test(l)){if(t.push(">"),i&&/^script$/i.test(l))for(;o;)o.data?t.push(o.data):Wa(o,t,i,s,r.slice()),o=o.nextSibling;else for(;o;)Wa(o,t,i,s,r.slice()),o=o.nextSibling;t.push("</",d,">")}else t.push("/>");return;case 9:case 11:for(o=e.firstChild;o;)Wa(o,t,i,s,r.slice()),o=o.nextSibling;return;case 2:return $a(t,e.name,e.value);case 3:return t.push(e.data.replace(/[<&>]/g,ma));case 4:return t.push("<![CDATA[",e.data,"]]>");case 8:return t.push("\x3c!--",e.data,"--\x3e");case 10:var _=e.publicId,v=e.systemId;return t.push("<!DOCTYPE ",e.name),void(_?(t.push(" PUBLIC ",_),v&&"."!=v&&t.push(" ",v),t.push(">")):v&&"."!=v?t.push(" SYSTEM ",v,">"):((_=e.internalSubset)&&t.push(" [",_,"]"),t.push(">")));case 7:return t.push("<?",e.target," ",e.data,"?>");case 5:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function Ga(e,t,i){e[t]=i}t.INVALID_STATE_ERR=(k[11]="Invalid state",11),t.SYNTAX_ERR=(k[12]="Syntax error",12),t.INVALID_MODIFICATION_ERR=(k[13]="Invalid modification",13),t.NAMESPACE_ERR=(k[14]="Invalid namespace",14),t.INVALID_ACCESS_ERR=(k[15]="Invalid access",15),C.prototype=Error.prototype,ia(t,C),aa.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var i=[],s=0;s<this.length;s++)Wa(this[s],i,e,t);return i.join("")},filter:function(e){return Array.prototype.filter.call(this,e)},indexOf:function(e){return Array.prototype.indexOf.call(this,e)}},oa.prototype.item=function(e){return la(this),this[e]},sa(oa,aa),da.prototype={length:0,item:aa.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var i=this[t];if(i.nodeName==e)return i}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new C(10);t=this.getNamedItem(e.nodeName);return ua(this._ownerElement,this,e,t),t},setNamedItemNS:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new C(10);return t=this.getNamedItemNS(e.namespaceURI,e.localName),ua(this._ownerElement,this,e,t),t},removeNamedItem:function(e){e=this.getNamedItem(e);return ca(this._ownerElement,this,e),e},removeNamedItemNS:function(e,t){e=this.getNamedItemNS(e,t);return ca(this._ownerElement,this,e),e},getNamedItemNS:function(e,t){for(var i=this.length;i--;){var s=this[i];if(s.localName==t&&s.namespaceURI==e)return s}return null}},pa.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,i){var s=new fa;return s.implementation=this,s.childNodes=new aa,s.doctype=i||null,i&&s.appendChild(i),t&&(i=s.createElementNS(e,t),s.appendChild(i)),s},createDocumentType:function(e,t,i){var s=new Ma;return s.name=e,s.nodeName=e,s.publicId=t||"",s.systemId=i||"",s}},I.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return xa(this,e,t)},replaceChild:function(e,t){xa(this,e,t,Ia),t&&this.removeChild(t)},removeChild:function(e){return va(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return function e(t,i,s){var r=new i.constructor;for(var n in i){var a;Object.prototype.hasOwnProperty.call(i,n)&&"object"!=typeof(a=i[n])&&a!=r[n]&&(r[n]=a)}i.childNodes&&(r.childNodes=new aa);r.ownerDocument=t;switch(r.nodeType){case 1:var o=i.attributes,l=r.attributes=new da,d=o.length;l._ownerElement=r;for(var h=0;h<d;h++)r.setAttributeNode(e(t,o.item(h),!0));break;case 2:s=!0}if(s)for(var u=i.firstChild;u;)r.appendChild(e(t,u,s)),u=u.nextSibling;return r}(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&3==t.nodeType&&3==e.nodeType?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return 0<this.attributes.length},lookupPrefix:function(e){for(var t=this;t;){var i=t._nsMap;if(i)for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)&&i[s]===e)return s;t=2==t.nodeType?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var i=t._nsMap;if(i&&Object.prototype.hasOwnProperty.call(i,e))return i[e];t=2==t.nodeType?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},ia(n,I),ia(n,I.prototype),fa.prototype={nodeName:"#document",nodeType:9,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(11==e.nodeType)for(var i=e.firstChild;i;){var s=i.nextSibling;this.insertBefore(i,t),i=s}else xa(this,e,t),null===(e.ownerDocument=this).documentElement&&1===e.nodeType&&(this.documentElement=e);return e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),va(this,e)},replaceChild:function(e,t){xa(this,e,t,Ia),e.ownerDocument=this,t&&this.removeChild(t),Ta(e)&&(this.documentElement=e)},importNode:function(e,t){return function e(t,i,s){var r;switch(i.nodeType){case 1:(r=i.cloneNode(!1)).ownerDocument=t;case 11:break;case 2:s=!0}r=r||i.cloneNode(!1);r.ownerDocument=t;r.parentNode=null;if(s)for(var n=i.firstChild;n;)r.appendChild(e(t,n,s)),n=n.nextSibling;return r}(this,e,t)},getElementById:function(t){var i=null;return ga(this.documentElement,function(e){if(1==e.nodeType&&e.getAttribute("id")==t)return i=e,!0}),i},getElementsByClassName:function(a){var o=ta(a);return new oa(this,function(r){var n=[];return 0<o.length&&ga(r.documentElement,function(e){var t,i,s;e!==r&&1===e.nodeType&&(t=e.getAttribute("class"))&&((i=a===t)||(t=ta(t),i=o.every((s=t,function(e){return s&&-1!==s.indexOf(e)}))),i)&&n.push(e)}),n})},createElement:function(e){var t=new Aa;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new aa,(t.attributes=new da)._ownerElement=t},createDocumentFragment:function(){var e=new Fa;return e.ownerDocument=this,e.childNodes=new aa,e},createTextNode:function(e){var t=new Oa;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new Da;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new Na;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var i=new ja;return i.ownerDocument=this,i.tagName=i.target=e,i.nodeValue=i.data=t,i},createAttribute:function(e){var t=new Pa;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new Ba;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var i=new Aa,s=t.split(":"),r=i.attributes=new da;return i.childNodes=new aa,i.ownerDocument=this,i.nodeName=t,i.tagName=t,i.namespaceURI=e,2==s.length?(i.prefix=s[0],i.localName=s[1]):i.localName=t,r._ownerElement=i},createAttributeNS:function(e,t){var i=new Pa,s=t.split(":");return i.ownerDocument=this,i.nodeName=t,i.name=t,i.namespaceURI=e,i.specified=!0,2==s.length?(i.prefix=s[0],i.localName=s[1]):i.localName=t,i}},sa(fa,I),fa.prototype.getElementsByTagName=(Aa.prototype={nodeType:1,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){e=this.getAttributeNode(e);return e&&e.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){e=this.ownerDocument.createAttribute(e);e.value=e.nodeValue=""+t,this.setAttributeNode(e)},removeAttribute:function(e){e=this.getAttributeNode(e);e&&this.removeAttributeNode(e)},appendChild:function(e){return 11===e.nodeType?this.insertBefore(e,null):(t=this,(e=e).parentNode&&e.parentNode.removeChild(e),e.parentNode=t,e.previousSibling=t.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:t.firstChild=e,t.lastChild=e,_a(t.ownerDocument,t,e),e);var t},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){e=this.getAttributeNodeNS(e,t);e&&this.removeAttributeNode(e)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){e=this.getAttributeNodeNS(e,t);return e&&e.value||""},setAttributeNS:function(e,t,i){e=this.ownerDocument.createAttributeNS(e,t);e.value=e.nodeValue=""+i,this.setAttributeNode(e)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(s){return new oa(this,function(t){var i=[];return ga(t,function(e){e===t||1!=e.nodeType||"*"!==s&&e.tagName!=s||i.push(e)}),i})},getElementsByTagNameNS:function(s,r){return new oa(this,function(t){var i=[];return ga(t,function(e){e===t||1!==e.nodeType||"*"!==s&&e.namespaceURI!==s||"*"!==r&&e.localName!=r||i.push(e)}),i})}}).getElementsByTagName,fa.prototype.getElementsByTagNameNS=Aa.prototype.getElementsByTagNameNS,sa(Aa,I),Pa.prototype.nodeType=2,sa(Pa,I),La.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(k[ra])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,i){var s=this.data.substring(0,e),e=this.data.substring(e+t);this.nodeValue=this.data=i=s+i+e,this.length=i.length}},sa(La,I),Oa.prototype={nodeName:"#text",nodeType:3,splitText:function(e){var t=(i=this.data).substring(e),i=i.substring(0,e),e=(this.data=this.nodeValue=i,this.length=i.length,this.ownerDocument.createTextNode(t));return this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling),e}},sa(Oa,La),Da.prototype={nodeName:"#comment",nodeType:8},sa(Da,La),Na.prototype={nodeName:"#cdata-section",nodeType:4},sa(Na,La),Ma.prototype.nodeType=10,sa(Ma,I),Ra.prototype.nodeType=12,sa(Ra,I),Ua.prototype.nodeType=6,sa(Ua,I),Ba.prototype.nodeType=5,sa(Ba,I),Fa.prototype.nodeName="#document-fragment",Fa.prototype.nodeType=11,sa(Fa,I),ja.prototype.nodeType=7,sa(ja,I),Ha.prototype.serializeToString=function(e,t,i){return qa.call(e,t,i)},I.prototype.toString=qa;try{Object.defineProperty&&(Object.defineProperty(oa.prototype,"length",{get:function(){return la(this),this.$$length}}),Object.defineProperty(I.prototype,"textContent",{get:function(){return function e(t){switch(t.nodeType){case 1:case 11:var i=[];for(t=t.firstChild;t;)7!==t.nodeType&&8!==t.nodeType&&i.push(e(t)),t=t.nextSibling;return i.join("");default:return t.nodeValue}}(this)},set:function(e){switch(this.nodeType){case 1:case 11:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),Ga=function(e,t,i){e["$$"+t]=i})}catch(e){}var Pr={DocumentType:Ma,DOMException:C,DOMImplementation:pa,Element:Aa,Node:I,NodeList:aa,XMLSerializer:Ha},za=Dt(function(e,t){var i=Yn.freeze;t.XML_ENTITIES=i({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=i({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",times:"",divide:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",fnof:"",circ:"",tilde:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",bull:"",hellip:"",permil:"",prime:"",Prime:"",lsaquo:"",rsaquo:"",oline:"",euro:"",trade:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lceil:"",rceil:"",lfloor:"",rfloor:"",loz:"",spades:"",clubs:"",hearts:"",diams:""}),t.entityMap=t.HTML_ENTITIES}),Xa=(za.XML_ENTITIES,za.HTML_ENTITIES,za.entityMap,Yn.NAMESPACE),Rr=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,Mr=new RegExp("[\\-\\.0-9"+Rr.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),Ka=new RegExp("^"+Rr.source+Mr.source+"*(?::"+Rr.source+Mr.source+"*)?$"),Ya=0,Qa=1,Ja=2,Za=3,eo=4,to=5,io=6,so=7;function ro(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,ro)}function no(){}function ao(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function oo(e,t,i){for(var s=e.tagName,r=null,n=e.length;n--;){var a=e[n],o=a.qName,l=a.value,o=0<(h=o.indexOf(":"))?(d=a.prefix=o.slice(0,h),u=o.slice(h+1),"xmlns"===d&&u):(d=null,"xmlns"===(u=o)&&"");a.localName=u,!1!==o&&(null==r&&(r={},lo(i,i={})),i[o]=r[o]=l,a.uri=Xa.XMLNS,t.startPrefixMapping(o,l))}for(var d,n=e.length;n--;)(d=(a=e[n]).prefix)&&("xml"===d&&(a.uri=Xa.XML),"xmlns"!==d)&&(a.uri=i[d||""]);var h,u=0<(h=s.indexOf(":"))?(d=e.prefix=s.slice(0,h),e.localName=s.slice(h+1)):(d=null,e.localName=s),c=e.uri=i[d||""];if(t.startElement(c,u,s,e),!e.closed)return e.currentNSMap=i,e.localNSMap=r,1;if(t.endElement(c,u,s),r)for(d in r)Object.prototype.hasOwnProperty.call(r,d)&&t.endPrefixMapping(d)}function lo(e,t){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}function ho(){this.attributeNames={}}(ro.prototype=new Error).name=ro.name,no.prototype={parse:function(e,t,i){var s=this.domBuilder;s.startDocument(),lo(t,t={}),function(i,e,s,r,n){function a(e){var t=e.slice(1,-1);return Object.hasOwnProperty.call(s,t)?s[t]:"#"===t.charAt(0)?65535<(t=parseInt(t.substr(1).replace("x","0x")))?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):String.fromCharCode(t):(n.error("entity not found:"+e),e)}function t(e){var t;m<e&&(t=i.substring(m,e).replace(/&#?\w+;/g,a),u&&o(m),r.characters(t,0,e-m),m=e)}function o(e,t){for(;d<=e&&(t=h.exec(i));)l=t.index,d=l+t[0].length,u.lineNumber++;u.columnNumber=e-l+1}var l=0,d=0,h=/.*(?:\r\n?|\n)|.*$/g,u=r.locator,c=[{currentNSMap:e}],p={},m=0;for(;;){try{var g,f,y=i.indexOf("<",m);if(y<0)return i.substr(m).match(/^\s*$/)||(g=r.doc,f=g.createTextNode(i.substr(m)),g.appendChild(f),r.currentElement=f);switch(m<y&&t(y),i.charAt(y+1)){case"/":var _=i.indexOf(">",y+3),v=i.substring(y+2,_).replace(/[ \t\n\r]+$/g,""),b=c.pop(),T=(_<0?(v=i.substring(y+2).replace(/[\s<].*/,""),n.error("end tag name: "+v+" is not complete:"+b.tagName),_=y+1+v.length):v.match(/\s</)&&(v=v.replace(/[\s<].*/,""),n.error("end tag name: "+v+" maybe not complete"),_=y+1+v.length),b.localNSMap),S=b.tagName==v;if(S||b.tagName&&b.tagName.toLowerCase()==v.toLowerCase()){if(r.endElement(b.uri,b.localName,v),T)for(var w in T)Object.prototype.hasOwnProperty.call(T,w)&&r.endPrefixMapping(w);S||n.fatalError("end tag name: "+v+" is not match the current start tagName:"+b.tagName)}else c.push(b);_++;break;case"?":u&&o(y),_=function(e,t,i){var s=e.indexOf("?>",t);if(s){e=e.substring(t,s).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(e)return e[0].length,i.processingInstruction(e[1],e[2]),s+2}return-1}(i,y,r);break;case"!":u&&o(y),_=function(e,t,i,s){{if("-"===e.charAt(t+2))return"-"===e.charAt(t+3)?(n=e.indexOf("--\x3e",t+4),t<n?(i.comment(e,t+4,n-t-4),n+3):(s.error("Unclosed comment"),-1)):-1;if("CDATA["==e.substr(t+3,6))return n=e.indexOf("]]>",t+9),i.startCDATA(),i.characters(e,t+9,n-t-9),i.endCDATA(),n+3;var r,s=function(e,t){var i,s=[],r=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;r.lastIndex=t,r.exec(e);for(;i=r.exec(e);)if(s.push(i),i[1])return s}(e,t),n=s.length;if(1<n&&/!doctype/i.test(s[0][0]))return e=s[1][0],r=t=!1,3<n&&(/^public$/i.test(s[2][0])?(t=s[3][0],r=4<n&&s[4][0]):/^system$/i.test(s[2][0])&&(r=s[3][0])),s=s[n-1],i.startDTD(e,t,r),i.endDTD(),s.index+s[0].length}return-1}(i,y,r,n);break;default:u&&o(y);var E=new ho,k=c[c.length-1].currentNSMap,_=function(e,t,s,i,r,n){function a(e,t,i){s.attributeNames.hasOwnProperty(e)&&n.fatalError("Attribute "+e+" redefined"),s.addValue(e,t.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,r),i)}var o,l=++t,d=Ya;for(;;){var h=e.charAt(l);switch(h){case"=":if(d===Qa)o=e.slice(t,l);else if(d!==Ja)throw new Error("attribute equal must after attrName");d=Za;break;case"'":case'"':if(d===Za||d===Qa){if(d===Qa&&(n.warning('attribute value must after "="'),o=e.slice(t,l)),t=l+1,!(0<(l=e.indexOf(h,t))))throw new Error("attribute value no end '"+h+"' match");u=e.slice(t,l),a(o,u,t-1)}else{if(d!=eo)throw new Error('attribute value must after "="');u=e.slice(t,l),a(o,u,t),n.warning('attribute "'+o+'" missed start quot('+h+")!!"),t=l+1}d=to;break;case"/":switch(d){case Ya:s.setTagName(e.slice(t,l));case to:case io:case so:d=so,s.closed=!0;case eo:case Qa:case Ja:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return n.error("unexpected end of input"),d==Ya&&s.setTagName(e.slice(t,l)),l;case">":switch(d){case Ya:s.setTagName(e.slice(t,l));case to:case io:case so:break;case eo:case Qa:"/"===(u=e.slice(t,l)).slice(-1)&&(s.closed=!0,u=u.slice(0,-1));case Ja:d===Ja&&(u=o),d==eo?(n.warning('attribute "'+u+'" missed quot(")!'),a(o,u,t)):(Xa.isHTML(i[""])&&u.match(/^(?:disabled|checked|selected)$/i)||n.warning('attribute "'+u+'" missed value!! "'+u+'" instead!!'),a(u,u,t));break;case Za:throw new Error("attribute value missed!!")}return l;case"":h=" ";default:if(h<=" ")switch(d){case Ya:s.setTagName(e.slice(t,l)),d=io;break;case Qa:o=e.slice(t,l),d=Ja;break;case eo:var u=e.slice(t,l);n.warning('attribute "'+u+'" missed quot(")!!'),a(o,u,t);case to:d=io}else switch(d){case Ja:s.tagName,Xa.isHTML(i[""])&&o.match(/^(?:disabled|checked|selected)$/i)||n.warning('attribute "'+o+'" missed value!! "'+o+'" instead2!!'),a(o,o,t),t=l,d=Qa;break;case to:n.warning('attribute space is required"'+o+'"!!');case io:d=Qa,t=l;break;case Za:d=eo,t=l;break;case so:throw new Error("elements closed character '/' and '>' must be connected to")}}l++}}(i,y,E,k,a,n),C=E.length;if(!E.closed&&function(e,t,i,s){var r=s[i];null==r&&((r=e.lastIndexOf("</"+i+">"))<t&&(r=e.lastIndexOf("</"+i)),s[i]=r);return r<t}(i,_,E.tagName,p)&&(E.closed=!0,s.nbsp||n.warning("unclosed xml attribute")),u&&C){for(var I=ao(u,{}),x=0;x<C;x++){var A=E[x];o(A.offset),A.locator=ao(u,{})}r.locator=I,oo(E,r,k)&&c.push(E),r.locator=u}else oo(E,r,k)&&c.push(E);Xa.isHTML(E.uri)&&!E.closed?_=function(e,t,i,s,r){if(/^(?:script|textarea)$/i.test(i)){var n=e.indexOf("</"+i+">",t),e=e.substring(t+1,n);if(/[&<]/.test(e))return/^script$/i.test(i)?r.characters(e,0,e.length):(e=e.replace(/&#?\w+;/g,s),r.characters(e,0,e.length)),n}return t+1}(i,_,E.tagName,a,r):_++}}catch(e){if(e instanceof ro)throw e;n.error("element parse error: "+e),_=-1}m<_?m=_:t(Math.max(y,m)+1)}}(e,t,i,s,this.errorHandler),s.endDocument()}},ho.prototype={setTagName:function(e){if(!Ka.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,i){if(!Ka.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:i}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}};var Nr={XMLReader:no,ParseError:ro},uo=Pr.DOMImplementation,co=Yn.NAMESPACE,po=Nr.ParseError,mo=Nr.XMLReader;function go(e){return e.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028]/g,"\n")}function fo(e){this.options=e||{locator:{}}}function yo(){this.cdata=!1}function _o(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function vo(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function bo(e,t,i){return"string"==typeof e?e.substr(t,i):e.length>=t+i||t?new java.lang.String(e,t,i)+"":e}function To(e,t){(e.currentElement||e.doc).appendChild(t)}fo.prototype.parseFromString=function(e,t){var i=this.options,s=new mo,r=i.domBuilder||new yo,n=i.errorHandler,a=i.locator,o=i.xmlns||{},t=/\/x?html?$/.test(t),l=t?za.HTML_ENTITIES:za.XML_ENTITIES,n=(a&&r.setDocumentLocator(a),s.errorHandler=function(s,e,r){if(!s){if(e instanceof yo)return e;s=e}var n={},a=s instanceof Function;function t(t){var i=s[t];!i&&a&&(i=2==s.length?function(e){s(t,e)}:s),n[t]=i?function(e){i("[xmldom "+t+"]\t"+e+vo(r))}:function(){}}return r=r||{},t("warning"),t("error"),t("fatalError"),n}(n,r,a),s.domBuilder=i.domBuilder||r,t&&(o[""]=co.HTML),o.xml=o.xml||co.XML,i.normalizeLineEndings||go);return e&&"string"==typeof e?s.parse(n(e),o,l):s.errorHandler.error("invalid doc source"),r.doc},yo.prototype={startDocument:function(){this.doc=(new uo).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,i,s){var r=this.doc,n=r.createElementNS(e,i||t),a=s.length;To(this,n),this.currentElement=n,this.locator&&_o(this.locator,n);for(var o=0;o<a;o++){var e=s.getURI(o),l=s.getValue(o),i=s.getQName(o),d=r.createAttributeNS(e,i);this.locator&&_o(s.getLocator(o),d),d.value=d.nodeValue=l,n.setAttributeNode(d)}},endElement:function(e,t,i){var s=this.currentElement;s.tagName,this.currentElement=s.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){e=this.doc.createProcessingInstruction(e,t);this.locator&&_o(this.locator,e),To(this,e)},ignorableWhitespace:function(e,t,i){},characters:function(e,t,i){var s;(e=bo.apply(this,arguments))&&(s=this.cdata?this.doc.createCDATASection(e):this.doc.createTextNode(e),this.currentElement?this.currentElement.appendChild(s):/^\s*$/.test(e)&&this.doc.appendChild(s),this.locator)&&_o(this.locator,s)},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,i){e=bo.apply(this,arguments);e=this.doc.createComment(e);this.locator&&_o(this.locator,e),To(this,e)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,i){var s=this.doc.implementation;s&&s.createDocumentType&&(s=s.createDocumentType(e,t,i),this.locator&&_o(this.locator,s),To(this,s),this.doc.doctype=s)},warning:function(e){},error:function(e){},fatalError:function(e){throw new po(e,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(e){yo.prototype[e]=function(){return null}});var So={__DOMHandler:yo,normalizeLineEndings:go,DOMParser:fo}.DOMParser;
/*! @name mpd-parser @version 1.0.1 @license Apache-2.0 */
const wo=e=>!!e&&"object"==typeof e,x=(...e)=>e.reduce((t,i)=>("object"==typeof i&&Object.keys(i).forEach(e=>{Array.isArray(t[e])&&Array.isArray(i[e])?t[e]=t[e].concat(i[e]):wo(t[e])&&wo(i[e])?t[e]=x(t[e],i[e]):t[e]=i[e]}),t),{}),Eo=t=>Object.keys(t).map(e=>t[e]),ko=e=>e.reduce((e,t)=>e.concat(t),[]),Co=t=>{if(!t.length)return[];var i=[];for(let e=0;e<t.length;e++)i.push(t[e]);return i};var Io={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"};const xo=({baseUrl:s="",source:r="",range:n="",indexRange:a=""})=>{s={uri:r,resolvedUri:On(s||"",r)};if(n||a){r=(n||a).split("-");let e=window.BigInt?window.BigInt(r[0]):parseInt(r[0],10),t=window.BigInt?window.BigInt(r[1]):parseInt(r[1],10);e<Number.MAX_SAFE_INTEGER&&"bigint"==typeof e&&(e=Number(e)),t<Number.MAX_SAFE_INTEGER&&"bigint"==typeof t&&(t=Number(t));let i;"bigint"==typeof(i="bigint"==typeof t||"bigint"==typeof e?window.BigInt(t)-window.BigInt(e)+window.BigInt(1):t-e+1)&&i<Number.MAX_SAFE_INTEGER&&(i=Number(i)),s.byterange={length:i,offset:e}}return s},Ao=e=>(e&&"number"!=typeof e&&(e=parseInt(e,10)),isNaN(e)?null:e),Po={static(e){var{duration:t,timescale:i=1,sourceDuration:s,periodDuration:r}=e,e=Ao(e.endNumber),t=t/i;return"number"==typeof e?{start:0,end:e}:"number"==typeof r?{start:0,end:r/t}:{start:0,end:s/t}},dynamic(e){var{NOW:t,clientOffset:i,availabilityStartTime:s,timescale:r=1,duration:n,periodStart:a=0,minimumUpdatePeriod:o=0,timeShiftBufferDepth:l=1/0}=e,e=Ao(e.endNumber),t=(t+i)/1e3,i=s+a,s=Math.ceil((t+o-i)*r/n),a=Math.floor((t-i-l)*r/n),o=Math.floor((t-i)*r/n);return{start:Math.max(0,a),end:"number"==typeof e?e:Math.min(s,o)}}},Lo=e=>{var n,{type:t,duration:i,timescale:s=1,periodDuration:r,sourceDuration:a}=e,{start:o,end:l}=Po[t](e),o=((t,i)=>{var s=[];for(let e=t;e<i;e++)s.push(e);return s})(o,l).map((n=e,e=>{var{duration:t,timescale:i=1,periodStart:s,startNumber:r=1}=n;return{number:r+e,duration:t/i,timeline:s,time:e*t}}));return"static"===t&&(o[l=o.length-1].duration=("number"==typeof r?r:a)-i/s*l),o},Oo=e=>{var{baseUrl:t,initialization:i={},sourceDuration:s,indexRange:r="",periodStart:n,presentationTime:a,number:o=0,duration:l}=e;if(t)return i=xo({baseUrl:t,source:i.sourceURL,range:i.range}),(t=xo({baseUrl:t,source:t,indexRange:r})).map=i,l?(r=Lo(e)).length&&(t.duration=r[0].duration,t.timeline=r[0].timeline):s&&(t.duration=s,t.timeline=n),t.presentationTime=a||n,t.number=o,[t];throw new Error(Io.NO_BASE_URL)},Do=(e,i,s)=>{var r=e.sidx.map||null,n=e.sidx.duration,a=e.timeline||0,t=e.sidx.byterange,t=t.offset+t.length,o=i.timescale,l=i.references.filter(e=>1!==e.referenceType),d=[],h=e.endList?"static":"dynamic",u=e.sidx.timeline;let c=u,p=e.mediaSequence||0,m;m="bigint"==typeof i.firstOffset?window.BigInt(t)+i.firstOffset:t+i.firstOffset;for(let t=0;t<l.length;t++){var g=i.references[t],f=g.referencedSize,g=g.subsegmentDuration;let e;e="bigint"==typeof m?m+window.BigInt(f)-window.BigInt(1):m+f-1;var y=m+"-"+e,y={baseUrl:s,timescale:o,timeline:a,periodStart:u,presentationTime:c,number:p,duration:g,sourceDuration:n,indexRange:y,type:h},y=Oo(y)[0];r&&(y.map=r),d.push(y),"bigint"==typeof m?m+=window.BigInt(f):m+=f,c+=g/o,p++}return e.segments=d,e},No=["AUDIO","SUBTITLES"],Mo=e=>{return e=e,i=({timeline:e})=>e,Eo(e.reduce((t,e)=>(e.forEach(e=>{t[i(e)]=e}),t),{})).sort((e,t)=>e.timeline>t.timeline?1:-1);var i},Ro=e=>{let r=[];var n,a;return n=e,e=No,a=(e,t,i,s)=>{r=r.concat(e.playlists||[])},e.forEach(function(e){for(var t in n.mediaGroups[e])for(var i in n.mediaGroups[e][t]){var s=n.mediaGroups[e][t][i];a(s,e,t,i)}}),r},Uo=({playlist:i,mediaSequence:e})=>{i.mediaSequence=e,i.segments.forEach((e,t)=>{e.number=i.mediaSequence+t})},Bo=({oldManifest:e,newManifest:t})=>{var r,n,i=e.playlists.concat(Ro(e)),s=t.playlists.concat(Ro(t));return t.timelineStarts=Mo([e.timelineStarts,t.timelineStarts]),{oldPlaylists:r,newPlaylists:e,timelineStarts:n}=[{oldPlaylists:i,newPlaylists:s,timelineStarts:t.timelineStarts}][0],e.forEach(t=>{t.discontinuitySequence=n.findIndex(function({timeline:e}){return e===t.timeline});var e=((t,i)=>{for(let e=0;e<t.length;e++)if(t[e].attributes.NAME===i)return t[e];return null})(r,t.attributes.NAME);if(e&&!t.sidx){const s=t.segments[0];var i=e.segments.findIndex(function(e){return Math.abs(e.presentationTime-s.presentationTime)<1/60});-1===i?(Uo({playlist:t,mediaSequence:e.mediaSequence+e.segments.length}),t.segments[0].discontinuity=!0,t.discontinuityStarts.unshift(0),(!e.segments.length&&t.timeline>e.timeline||e.segments.length&&t.timeline>e.segments[e.segments.length-1].timeline)&&t.discontinuitySequence--):(e.segments[i].discontinuity&&!s.discontinuity&&(s.discontinuity=!0,t.discontinuityStarts.unshift(0),t.discontinuitySequence--),Uo({playlist:t,mediaSequence:e.segments[i].number}))}}),t},Fo=e=>e&&e.uri+"-"+(e=>{let t;return t="bigint"==typeof e.offset||"bigint"==typeof e.length?window.BigInt(e.offset)+window.BigInt(e.length)-window.BigInt(1):e.offset+e.length-1,e.offset+"-"+t})(e.byterange),jo=e=>{return Eo(e.reduce((e,t)=>{var i=t.attributes.id+(t.attributes.lang||"");return e[i]?(t.segments&&(t.segments[0]&&(t.segments[0].discontinuity=!0),e[i].segments.push(...t.segments)),t.attributes.contentProtection&&(e[i].attributes.contentProtection=t.attributes.contentProtection)):(e[i]=t,e[i].attributes.timelineStarts=[]),e[i].attributes.timelineStarts.push({start:t.attributes.periodStart,timeline:t.attributes.periodStart}),e},{})).map(e=>{var t,s;return e.discontinuityStarts=(t=e.segments||[],s="discontinuity",t.reduce((e,t,i)=>(t[s]&&e.push(i),e),[])),e})},Ho=(e,t)=>{var i=Fo(e.sidx),t=i&&t[i]&&t[i].sidx;return t&&Do(e,t,e.sidx.resolvedUri),e},qo=(e,o={})=>e.reduce((e,t)=>{var i,s,r,n,a=t.attributes.lang||"text";return e[a]||(e[a]={language:a,default:!1,autoselect:!1,playlists:[],uri:""}),e[a].playlists.push(Ho(({attributes:a,segments:t,mediaSequence:i,discontinuityStarts:s,discontinuitySequence:r}=[t][0],"undefined"==typeof t&&(t=[{uri:a.baseUrl,timeline:a.periodStart,resolvedUri:a.baseUrl||"",duration:a.sourceDuration,number:0}],a.duration=a.sourceDuration),n={NAME:a.id,BANDWIDTH:a.bandwidth,"PROGRAM-ID":1},a.codecs&&(n.CODECS=a.codecs),{attributes:n,uri:"",endList:"static"===a.type,timeline:a.periodStart,resolvedUri:a.baseUrl||"",targetDuration:a.duration,timelineStarts:a.timelineStarts,discontinuityStarts:s,discontinuitySequence:r,mediaSequence:i,segments:t}),o)),e},{}),Vo=({attributes:e,segments:t,sidx:i,discontinuityStarts:s})=>{s={attributes:{NAME:e.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:e.width,height:e.height},CODECS:e.codecs,BANDWIDTH:e.bandwidth,"PROGRAM-ID":1},uri:"",endList:"static"===e.type,timeline:e.periodStart,resolvedUri:"",targetDuration:e.duration,discontinuityStarts:s,timelineStarts:e.timelineStarts,segments:t};return e.frameRate&&(s.attributes["FRAME-RATE"]=e.frameRate),e.contentProtection&&(s.contentProtection=e.contentProtection),i&&(s.sidx=i),s},$o=({attributes:e})=>"video/mp4"===e.mimeType||"video/webm"===e.mimeType||"video"===e.contentType,Wo=({attributes:e})=>"audio/mp4"===e.mimeType||"audio/webm"===e.mimeType||"audio"===e.contentType,Go=({attributes:e})=>"text/vtt"===e.mimeType||"text"===e.contentType,zo=i=>i?Object.keys(i).reduce((e,t)=>{t=i[t];return e.concat(t.playlists)},[]):[],Xo=({dashPlaylists:e,locations:t,sidxMapping:i={},previousManifest:s})=>{var r,n,a,o,l,d,h,u;return e.length?({sourceDuration:a,type:l,suggestedPresentationDelay:d,minimumUpdatePeriod:o}=e[0].attributes,r=jo(e.filter($o)).map(Vo),h=jo(e.filter(Wo)),n=jo(e.filter(Go)),e=e.map(e=>e.attributes.captionServices).filter(Boolean),a={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:"",duration:a,playlists:((e,t={})=>{if(Object.keys(t).length)for(const i in e)e[i]=Ho(e[i],t);return e})(r,i)},0<=o&&(a.minimumUpdatePeriod=1e3*o),t&&(a.locations=t),"dynamic"===l&&(a.suggestedPresentationDelay=d),o=0===a.playlists.length,t=h.length?((e,n={},a)=>{let o;e=e.reduce((e,t)=>{var i=t.attributes.role&&t.attributes.role.value||"",s=t.attributes.lang||"";let r=t.attributes.label||"main";e[r=s&&!t.attributes.label?t.attributes.lang+(i?` (${i})`:""):r]||(e[r]={language:s,autoselect:!0,default:"main"===i,playlists:[],uri:""});s=Ho((({attributes:e,segments:t,sidx:i,mediaSequence:s,discontinuitySequence:r,discontinuityStarts:n},a)=>{r={attributes:{NAME:e.id,BANDWIDTH:e.bandwidth,CODECS:e.codecs,"PROGRAM-ID":1},uri:"",endList:"static"===e.type,timeline:e.periodStart,resolvedUri:"",targetDuration:e.duration,discontinuitySequence:r,discontinuityStarts:n,timelineStarts:e.timelineStarts,mediaSequence:s,segments:t};return e.contentProtection&&(r.contentProtection=e.contentProtection),i&&(r.sidx=i),a&&(r.attributes.AUDIO="audio",r.attributes.SUBTITLES="subs"),r})(t,a),n);return e[r].playlists.push(s),"undefined"==typeof o&&"main"===i&&((o=t).default=!0),e},{});return o||(e[Object.keys(e)[0]].default=!0),e})(h,i,o):null,l=n.length?qo(n,i):null,h=(d=r.concat(zo(t),zo(l))).map(({timelineStarts:e})=>e),a.timelineStarts=Mo(h),u=a.timelineStarts,d.forEach(t=>{t.mediaSequence=0,t.discontinuitySequence=u.findIndex(function({timeline:e}){return e===t.timeline}),t.segments&&t.segments.forEach((e,t)=>{e.number=t})}),t&&(a.mediaGroups.AUDIO.audio=t),l&&(a.mediaGroups.SUBTITLES.subs=l),e.length&&(a.mediaGroups["CLOSED-CAPTIONS"].cc=e.reduce((s,e)=>(e&&e.forEach(e=>{var{channel:t,language:i}=e;s[i]={autoselect:!1,default:!1,instreamId:t,language:i},e.hasOwnProperty("aspectRatio")&&(s[i].aspectRatio=e.aspectRatio),e.hasOwnProperty("easyReader")&&(s[i].easyReader=e.easyReader),e.hasOwnProperty("3D")&&(s[i]["3D"]=e["3D"])}),s),{})),s?Bo({oldManifest:s,newManifest:a}):a):{}},Ko=(s,r)=>{var{type:n,minimumUpdatePeriod:a=0,media:o="",sourceDuration:l,timescale:d=1,startNumber:h=1,periodStart:u}=s,c=[];let p=-1;for(let i=0;i<r.length;i++){var m=r[i],g=m.d,f=m.r||0,m=m.t||0;p<0&&(p=m),m&&m>p&&(p=m);let e;e=f<0?(m=i+1)===r.length?"dynamic"===n&&0<a&&0<o.indexOf("$Number$")?((e,t,i)=>{var{NOW:e,clientOffset:s,availabilityStartTime:r,timescale:n=1,periodStart:a=0,minimumUpdatePeriod:o=0}=e;return Math.ceil((((e+s)/1e3+o-(r+a))*n-t)/i)})(s,p,g):(l*d-p)/g:(r[m].t-p)/g:f+1;var y=h+c.length+e;let t=h+c.length;for(;t<y;)c.push({number:t,duration:g/d,time:p,timeline:u}),p+=g,t++}return c},Yo=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,Qo=(e,t)=>{return e.replace(Yo,(r=t,(e,t,i,s)=>{return"$$"===e?"$":"undefined"==typeof r[t]?e:(e=""+r[t],"RepresentationID"===t||(s=i?parseInt(s,10):1)<=e.length?e:new Array(s-e.length+1).join("0")+e)}));var r},Jo=(r,e)=>{const n={RepresentationID:r.id,Bandwidth:r.bandwidth||0};var{initialization:t={sourceURL:"",range:""}}=r;const a=xo({baseUrl:r.baseUrl,source:Qo(t.sourceURL,n),range:t.range});return t=e,((e=r).duration||t?e.duration?Lo(e):Ko(e,t):[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodStart}]).map(e=>{n.Number=e.number,n.Time=e.time;var t=Qo(r.media||"",n),i=r.timescale||1,s=r.presentationTimeOffset||0,s=r.periodStart+(e.time-s)/i;return{uri:t,timeline:e.timeline,duration:e.duration,resolvedUri:On(r.baseUrl||"",t),map:a,number:e.number,presentationTime:s}})},Zo=(r,e)=>{const{duration:t,segmentUrls:i=[],periodStart:n}=r;if(!t&&!e||t&&e)throw new Error(Io.SEGMENT_TIME_UNSPECIFIED);const a=i.map(e=>{var{baseUrl:t,initialization:i={}}=t=r,i=xo({baseUrl:t,source:i.sourceURL,range:i.range});return(t=xo({baseUrl:t,source:e.media,range:e.mediaRange})).map=i,t});let s;return t&&(s=Lo(r)),(s=e?Ko(r,e):s).map((e,t)=>{var i,s;if(a[t])return t=a[t],i=r.timescale||1,s=r.presentationTimeOffset||0,t.timeline=e.timeline,t.duration=e.duration,t.number=e.number,t.presentationTime=n+(e.time-s)/i,t}).filter(e=>e)},el=({attributes:e,segmentInfo:t})=>{let i,s;t.template?(s=Jo,i=x(e,t.template)):t.base?(s=Oo,i=x(e,t.base)):t.list&&(s=Zo,i=x(e,t.list));var r,n,a,e={attributes:e};return s&&(r=s(i,t.segmentTimeline),i.duration?({duration:n,timescale:a=1}=i,i.duration=n/a):r.length?i.duration=r.reduce((e,t)=>Math.max(e,Math.ceil(t.duration)),0):i.duration=0,e.attributes=i,e.segments=r,t.base)&&i.indexRange&&(e.sidx=r[0],e.segments=[]),e},tl=e=>e.map(el),A=(e,t)=>Co(e.childNodes).filter(({tagName:e})=>e===t),il=e=>e.textContent.trim(),sl=e=>{var t,i,s,r,n,e=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(e);return e?([e,t,i,s,r,n]=e.slice(1),31536e3*parseFloat(e||0)+2592e3*parseFloat(t||0)+86400*parseFloat(i||0)+3600*parseFloat(s||0)+60*parseFloat(r||0)+parseFloat(n||0)):0},rl={mediaPresentationDuration(e){return sl(e)},availabilityStartTime(e){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e=e)&&(e+="Z"),Date.parse(e)/1e3},minimumUpdatePeriod(e){return sl(e)},suggestedPresentationDelay(e){return sl(e)},type(e){return e},timeShiftBufferDepth(e){return sl(e)},start(e){return sl(e)},width(e){return parseInt(e,10)},height(e){return parseInt(e,10)},bandwidth(e){return parseInt(e,10)},frameRate(e){return parseFloat(e.split("/").reduce((e,t)=>e/t))},startNumber(e){return parseInt(e,10)},timescale(e){return parseInt(e,10)},presentationTimeOffset(e){return parseInt(e,10)},duration(e){var t=parseInt(e,10);return isNaN(t)?sl(e):t},d(e){return parseInt(e,10)},t(e){return parseInt(e,10)},r(e){return parseInt(e,10)},DEFAULT(e){return e}},P=e=>e&&e.attributes?Co(e.attributes).reduce((e,t)=>{var i=rl[t.name]||rl.DEFAULT;return e[t.name]=i(t.value),e},{}):{},nl={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},al=(e,i)=>i.length?ko(e.map(function(t){return i.map(function(e){return On(t,il(e))})})):e,ol=e=>{var t=A(e,"SegmentTemplate")[0],i=A(e,"SegmentList")[0],s=i&&A(i,"SegmentURL").map(e=>x({tag:"SegmentURL"},P(e))),e=A(e,"SegmentBase")[0],r=i||t,r=r&&A(r,"SegmentTimeline")[0],n=i||e||t,n=n&&A(n,"Initialization")[0],t=t&&P(t);t&&n?t.initialization=n&&P(n):t&&t.initialization&&(t.initialization={sourceURL:t.initialization});const a={template:t,segmentTimeline:r&&A(r,"S").map(e=>P(e)),list:i&&x(P(i),{segmentUrls:s,initialization:P(n)}),base:e&&x(P(e),{initialization:P(n)})};return Object.keys(a).forEach(e=>{a[e]||delete a[e]}),a},ll=(l,d,h)=>e=>{var t=P(e),i=al(d,A(e,"BaseURL")),s=A(e,"Role")[0],s={role:P(s)};let r=x(l,t,s);var n,a,o,t=A(e,"Accessibility")[0],t="urn:scte:dash:cc:cea-608:2015"===(s=P(t)).schemeIdUri?("string"!=typeof s.value?[]:s.value.split(";")).map(e=>{let t,i;return i=e,/^CC\d=/.test(e)?[t,i]=e.split("="):/^CC\d$/.test(e)&&(t=e),{channel:t,language:i}}):"urn:scte:dash:cc:cea-708:2015"===s.schemeIdUri?("string"!=typeof s.value?[]:s.value.split(";")).map(e=>{const i={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};var t,s;return/=/.test(e)?([t,s=""]=e.split("="),i.channel=t,i.language=e,s.split(",").forEach(e=>{var[e,t]=e.split(":");"lang"===e?i.language=t:"er"===e?i.easyReader=Number(t):"war"===e?i.aspectRatio=Number(t):"3D"===e&&(i["3D"]=Number(t))})):i.language=e,i.channel&&(i.channel="SERVICE"+i.channel),i}):void 0,s=(t&&(r=x(r,{captionServices:t})),A(e,"Label")[0]),s=(s&&s.childNodes.length&&(t=s.childNodes[0].nodeValue.trim(),r=x(r,{label:t})),A(e,"ContentProtection").reduce((e,t)=>{var i=P(t),s=(i.schemeIdUri&&(i.schemeIdUri=i.schemeIdUri.toLowerCase()),nl[i.schemeIdUri]);return s&&(e[s]={attributes:i},i=A(t,"cenc:pssh")[0])&&(t=il(i),e[s].pssh=t&&Gn(t)),e},{})),t=(Object.keys(s).length&&(r=x(r,{contentProtection:s})),ol(e)),s=A(e,"Representation"),e=x(h,t);return ko(s.map((n=r,a=i,o=e,e=>{var t=A(e,"BaseURL"),t=al(a,t);const i=x(n,P(e)),s=ol(e);return t.map(e=>({segmentInfo:x(o,s),attributes:x(i,{baseUrl:e})}))})))},dl=(e,t={})=>{var{manifestUri:t="",NOW:i=Date.now(),clientOffset:s=0}=t,r=A(e,"Period");if(!r.length)throw new Error(Io.INVALID_NUMBER_OF_PERIOD);var n=A(e,"Location");const a=P(e);var o,l,t=al([t],A(e,"BaseURL"));a.type=a.type||"static",a.sourceDuration=a.mediaPresentationDuration||0,a.NOW=i,a.clientOffset=s,n.length&&(a.locations=n.map(il));const d=[];return r.forEach((e,t)=>{var i,s,r=P(e),t=d[t-1];r.start=({attributes:t,priorPeriodAttributes:i,mpdType:s}=[{attributes:r,priorPeriodAttributes:t?t.attributes:null,mpdType:a.type}][0],"number"==typeof t.start?t.start:i&&"number"==typeof i.start&&"number"==typeof i.duration?i.start+i.duration:i||"static"!==s?null:0),d.push({node:e,attributes:r})}),{locations:a.locations,representationInfo:ko(d.map((o=a,l=t,(e,t)=>{var i=al(l,A(e.node,"BaseURL")),s=x(o,{periodStart:e.attributes.start}),r=("number"==typeof e.attributes.duration&&(s.periodDuration=e.attributes.duration),A(e.node,"AdaptationSet")),e=ol(e.node);return ko(r.map(ll(s,i,e)))})))}},hl=e=>{if(""===e)throw new Error(Io.DASH_EMPTY_MANIFEST);var t,i=new So;let s;try{t=i.parseFromString(e,"application/xml"),s=t&&"MPD"===t.documentElement.tagName?t.documentElement:null}catch(e){}if(!s||s&&0<s.getElementsByTagName("parsererror").length)throw new Error(Io.DASH_INVALID_XML);return s},ul=e=>{e=hl(e);if(!(e=A(e,"UTCTiming")[0]))return null;var t=P(e);switch(t.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":t.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":t.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":t.method="DIRECT",t.value=Date.parse(t.value);break;default:throw new Error(Io.UNSUPPORTED_UTC_TIMING_SCHEME)}return t};function cl(e,t){var i,s,r;return void 0===t&&(t=0),(e=S(e)).length-t<10||!E(e,Sl,{offset:t})?t:(t+=(void 0===(s=t)&&(s=0),r=(i=S(i=e))[s+5],i=i[s+6]<<21|i[s+7]<<14|i[s+8]<<7|i[s+9],(16&r)>>4?20+i:10+i),cl(e,t))}function pl(e){return"string"==typeof e?Ln(e):e}function ml(e,t,i){void 0===i&&(i=!1),s=t,t=Array.isArray(s)?s.map(pl):[pl(s)],e=S(e);var s,r=[];if(t.length)for(var n=0;n<e.length;){var a=(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3])>>>0,o=e.subarray(n+4,n+8);if(0==a)break;a=n+a;if(a>e.length){if(i)break;a=e.length}var l=e.subarray(n+8,a);E(o,t[0])&&(1===t.length?r.push(l):r.push.apply(r,ml(l,t.slice(1),i))),n=a}return r}function gl(e,t,i){var s;return i>=t.length?t.length:(s=Cl(t,i,!1),E(e.bytes,s.bytes)?i:gl(e,t,i+(e=Cl(t,i+s.length)).length+e.value+s.length))}function fl(e,t){i=t,t=Array.isArray(i)?i.map(function(e){return Il(e)}):[Il(i)],e=S(e);var i,s=[];if(t.length)for(var r=0;r<e.length;){var n=Cl(e,r,!1),a=Cl(e,r+n.length),o=r+n.length+a.length,l=(127===a.value&&(a.value=gl(n,e,o),a.value!==e.length)&&(a.value-=o),o+a.value>e.length?e.length:o+a.value),o=e.subarray(o,l);E(t[0],n.bytes)&&(1===t.length?s.push(o):s=s.concat(fl(o,t.slice(1)))),r+=n.length+a.length+o.length}return s}function yl(e,t,i,s){void 0===s&&(s=1/0),e=S(e),i=[].concat(i);for(var r,n=0,a=0;n<e.length&&(a<s||r);){var o=void 0;if(E(e.subarray(n),xl)?o=4:E(e.subarray(n),Al)&&(o=3),o){if(a++,r)return Ll(e.subarray(r,n));var l=void 0;"h264"===t?l=31&e[n+o]:"h265"===t&&(l=e[n+o]>>1&63),-1!==i.indexOf(l)&&(r=n+o),n+=o+("h264"===t?1:2)}else n++}return e.subarray(0,0)}function _l(e){e=S(e);for(var t=0;t<Dl.length;t++){var i=Dl[t];if(Nl[i](e))return i}return""}var vl=Math.pow(2,32),bl=function(e){var t,e=new DataView(e.buffer,e.byteOffset,e.byteLength);return e.getBigUint64?(t=e.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(t):t:e.getUint32(0)*vl+e.getUint32(4)},Tl=function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),references:[],referenceId:t.getUint32(4),timescale:t.getUint32(8)},s=12,r=(0===i.version?(i.earliestPresentationTime=t.getUint32(s),i.firstOffset=t.getUint32(s+4),s+=8):(i.earliestPresentationTime=bl(e.subarray(s)),i.firstOffset=bl(e.subarray(s+8)),s+=16),t.getUint16(s+=2));for(s+=2;0<r;s+=12,r--)i.references.push({referenceType:(128&e[s])>>>7,referencedSize:2147483647&t.getUint32(s),subsegmentDuration:t.getUint32(s+4),startsWithSap:!!(128&e[s+8]),sapType:(112&e[s+8])>>>4,sapDeltaTime:268435455&t.getUint32(s+8)});return i},Sl=S([73,68,51]),wl={EBML:S([26,69,223,163]),DocType:S([66,130]),Segment:S([24,83,128,103]),SegmentInfo:S([21,73,169,102]),Tracks:S([22,84,174,107]),Track:S([174]),TrackNumber:S([215]),DefaultDuration:S([35,227,131]),TrackEntry:S([174]),TrackType:S([131]),FlagDefault:S([136]),CodecID:S([134]),CodecPrivate:S([99,162]),VideoTrack:S([224]),AudioTrack:S([225]),Cluster:S([31,67,182,117]),Timestamp:S([231]),TimestampScale:S([42,215,177]),BlockGroup:S([160]),BlockDuration:S([155]),Block:S([161]),SimpleBlock:S([163])},El=[128,64,32,16,8,4,2,1],kl=function(e){for(var t=1,i=0;i<El.length&&!(e&El[i]);i++)t++;return t},Cl=function(e,t,i,s){void 0===i&&(i=!0),void 0===s&&(s=!1);var r=kl(e[t]),n=e.subarray(t,t+r);return i&&((n=Array.prototype.slice.call(e,t,t+r))[0]^=El[r-1]),{length:r,value:$n(n,{signed:s}),bytes:n}},Il=function e(t){return"string"==typeof t?t.match(/.{1,2}/g).map(e):"number"==typeof t?Pn(t):t},xl=S([0,0,0,1]),Al=S([0,0,1]),Pl=S([0,0,3]),Ll=function(e){for(var t=[],i=1;i<e.length-2;)E(e.subarray(i,i+3),Pl)&&(t.push(i+2),i++),i++;if(0===t.length)return e;for(var s=e.length-t.length,r=new Uint8Array(s),n=0,i=0;i<s;n++,i++)n===t[0]&&(n++,t.shift()),r[i]=e[n];return r},L={webm:S([119,101,98,109]),matroska:S([109,97,116,114,111,115,107,97]),flac:S([102,76,97,67]),ogg:S([79,103,103,83]),ac3:S([11,119]),riff:S([82,73,70,70]),avi:S([65,86,73]),wav:S([87,65,86,69]),"3gp":S([102,116,121,112,51,103]),mp4:S([102,116,121,112]),fmp4:S([115,116,121,112]),mov:S([102,116,121,112,113,116]),moov:S([109,111,111,118]),moof:S([109,111,111,102])},Ol={aac:function(e){var t=cl(e);return E(e,[255,16],{offset:t,mask:[255,22]})},mp3:function(e){var t=cl(e);return E(e,[255,2],{offset:t,mask:[255,6]})},webm:function(e){e=fl(e,[wl.EBML,wl.DocType])[0];return E(e,L.webm)},mkv:function(e){e=fl(e,[wl.EBML,wl.DocType])[0];return E(e,L.matroska)},mp4:function(e){return!Ol["3gp"](e)&&!Ol.mov(e)&&(!!(E(e,L.mp4,{offset:4})||E(e,L.fmp4,{offset:4})||E(e,L.moof,{offset:4})||E(e,L.moov,{offset:4}))||void 0)},mov:function(e){return E(e,L.mov,{offset:4})},"3gp":function(e){return E(e,L["3gp"],{offset:4})},ac3:function(e){var t=cl(e);return E(e,L.ac3,{offset:t})},ts:function(e){if(e.length<189&&1<=e.length)return 71===e[0];for(var t=0;t+188<e.length&&t<188;){if(71===e[t]&&71===e[t+188])return!0;t+=1}return!1},flac:function(e){var t=cl(e);return E(e,L.flac,{offset:t})},ogg:function(e){return E(e,L.ogg)},avi:function(e){return E(e,L.riff)&&E(e,L.avi,{offset:8})},wav:function(e){return E(e,L.riff)&&E(e,L.wav,{offset:8})},h264:function(e){return yl(e,"h264",7,3).length},h265:function(e){return yl(e,"h265",[32,33],3).length}},Dl=Object.keys(Ol).filter(function(e){return"ts"!==e&&"h264"!==e&&"h265"!==e}).concat(["ts","h264","h265"]),Nl=(Dl.forEach(function(e){var t=Ol[e];Ol[e]=function(e){return t(S(e))}}),Ol),Ml=9e4;
/*! @name @videojs/http-streaming @version 3.0.2 @license Apache-2.0 */
const Rl=function(e,t){if(/^[a-z]+:/i.test(t))return t;/^data:/.test(e)&&(e=window.location&&window.location.href||"");var i="function"==typeof window.URL,s=/^\/\//.test(e),r=!window.location&&!/\/\//i.test(e);return i?e=new window.URL(e,window.location||fn):/\/\//i.test(e)||(e=gn.buildAbsoluteURL(window.location&&window.location.href||"",e)),i?(i=new URL(t,e),r?i.href.slice(fn.length):s?i.href.slice(i.protocol.length):i.href):gn.buildAbsoluteURL(e,t)},Ul=(e,t)=>t&&t.responseURL&&e!==t.responseURL?t.responseURL:e,Bl=e=>T.log.debug?T.log.debug.bind(T,"VHS:",e+" >"):function(){};function O(...e){var t=T.obj||T;return(t.merge||t.mergeOptions).apply(t,e)}function Fl(...e){var t=T.time||T;return(t.createTimeRanges||t.createTimeRanges).apply(t,e)}function jl(e,i){return Xl(e,function(e,t){return e-zl<=i&&t+zl>=i})}function Hl(e,t){return Xl(e,function(e){return e-Gl>=t})}function ql(e){if(e&&e.length&&e.end)return e.end(e.length-1)}function Vl(t,i){let s=0;if(t&&t.length)for(let e=0;e<t.length;e++){var r=t.start(e),n=t.end(e);n<i||(s+=r<i&&i<=n?n-i:n-r)}return s}function $l({defaultDuration:t,durationList:i,startIndex:s,endIndex:r}){let n=0;if(r<s&&([s,r]=[r,s]),s<0){for(let e=s;e<Math.min(0,r);e++)n+=t;s=0}for(let e=s;e<r;e++)n+=i[e].duration;return n}function Wl(e,t,i,s){if(!e||!e.segments)return null;if(e.endList)return nd(e);if(null===t)return null;t=t||0;let r=rd(e,e.mediaSequence+e.segments.length,t);return i&&(s="number"==typeof s?s:td(null,e),r-=s),Math.max(0,r)}const Gl=1/30,zl=3*Gl,Xl=function(e,t){var i=[];let s;if(e&&e.length)for(s=0;s<e.length;s++)t(e.start(s),e.end(s))&&i.push([e.start(s),e.end(s)]);return Fl(i)},Kl=t=>{var i=[];if(!t||!t.length)return"";for(let e=0;e<t.length;e++)i.push(t.start(e)+" => "+t.end(e));return i.join(", ")},Yl=t=>{var i=[];for(let e=0;e<t.length;e++)i.push({start:t.start(e),end:t.end(e)});return i},Ql=(t,e)=>{if(!e.preload)return e.duration;let i=0;return(e.parts||[]).forEach(function(e){i+=e.duration}),(e.preloadHints||[]).forEach(function(e){"PART"===e.type&&(i+=t.partTargetDuration)}),i},Jl=e=>(e.segments||[]).reduce((i,s,r)=>(s.parts?s.parts.forEach(function(e,t){i.push({duration:e.duration,segmentIndex:r,partIndex:t,part:e,segment:s})}):i.push({duration:s.duration,segmentIndex:r,partIndex:null,segment:s,part:null}),i),[]),Zl=e=>{e=e.segments&&e.segments.length&&e.segments[e.segments.length-1];return e&&e.parts||[]},ed=({preloadSegment:e})=>{var t;if(e)return{parts:e,preloadHints:t}=e,(t||[]).reduce((e,t)=>e+("PART"===t.type?1:0),0)+(e&&e.length?e.length:0)},td=(e,t)=>{return t.endList?0:e&&e.suggestedPresentationDelay?e.suggestedPresentationDelay:(e=0<Zl(t).length)&&t.serverControl&&t.serverControl.partHoldBack?t.serverControl.partHoldBack:e&&t.partTargetDuration?3*t.partTargetDuration:t.serverControl&&t.serverControl.holdBack?t.serverControl.holdBack:t.targetDuration?3*t.targetDuration:0},id=function(e,t){let i=0,s=t-e.mediaSequence,r=e.segments[s];if(r){if("undefined"!=typeof r.start)return{result:r.start,precise:!0};if("undefined"!=typeof r.end)return{result:r.end-r.duration,precise:!0}}for(;s--;){if("undefined"!=typeof(r=e.segments[s]).end)return{result:i+r.end,precise:!0};if(i+=Ql(e,r),"undefined"!=typeof r.start)return{result:i+r.start,precise:!0}}return{result:i,precise:!1}},sd=function(e,t){let i=0;var s;let r=t-e.mediaSequence;for(;r<e.segments.length;r++){if("undefined"!=typeof(s=e.segments[r]).start)return{result:s.start-i,precise:!0};if(i+=Ql(e,s),"undefined"!=typeof s.end)return{result:s.end-i,precise:!0}}return{result:-1,precise:!1}},rd=function(e,t,i){var s;return(t="undefined"==typeof t?e.mediaSequence+e.segments.length:t)<e.mediaSequence?0:(s=id(e,t)).precise?s.result:(e=sd(e,t)).precise?e.result:s.result+i},nd=function(e,t,i){if(!e)return 0;if("number"!=typeof i&&(i=0),"undefined"==typeof t){if(e.totalDuration)return e.totalDuration;if(!e.endList)return window.Infinity}return rd(e,t,i)};function ad(e){return e.excludeUntil&&e.excludeUntil>Date.now()}function od(e){return e.excludeUntil&&e.excludeUntil===1/0}function ld(e){var t=ad(e);return!e.disabled&&!t}function dd(e,t){return t.attributes&&t.attributes[e]}function hd(e,t){var i=e&&e.mediaGroups&&e.mediaGroups.AUDIO||{};let s=!1;for(const r in i){for(const n in i[r])if(s=t(i[r][n]))break;if(s)break}return!!s}const ud=(e,t)=>{if(1===e.playlists.length)return!0;const i=t.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===e.playlists.filter(e=>!!ld(e)&&(e.attributes.BANDWIDTH||0)<i).length},cd=(e,t)=>!(!e&&!t||!e&&t||e&&!t||e!==t&&(!e.id||!t.id||e.id!==t.id)&&(!e.resolvedUri||!t.resolvedUri||e.resolvedUri!==t.resolvedUri)&&(!e.uri||!t.uri||e.uri!==t.uri)),pd=t=>{if(!t||!t.playlists||!t.playlists.length)return hd(t,e=>e.playlists&&e.playlists.length||e.uri);for(let e=0;e<t.playlists.length;e++){const s=t.playlists[e];var i=s.attributes&&s.attributes.CODECS;if(!i||!i.split(",").every(e=>Cn(e))){i=hd(t,e=>cd(s,e));if(!i)return!1}}return!0};var md={liveEdgeDelay:td,duration:nd,seekable:function(e,t,i){var s=t||0,e=Wl(e,t,!0,i);return null===e?Fl():Fl(s,e)},getMediaInfoForTime:function({playlist:t,currentTime:i,startingSegmentIndex:s,startingPartIndex:r,startTime:n,exactManifestTimings:a}){let o=i-n;var l=Jl(t);let d=0;for(let e=0;e<l.length;e++){var h=l[e];if(s===h.segmentIndex&&("number"!=typeof r||"number"!=typeof h.partIndex||r===h.partIndex)){d=e;break}}if(o<0){if(0<d)for(let e=d-1;0<=e;e--){var u=l[e];if(o+=u.duration,a){if(o<0)continue}else if(o+Gl<=0)continue;return{partIndex:u.partIndex,segmentIndex:u.segmentIndex,startTime:n-$l({defaultDuration:t.targetDuration,durationList:l,startIndex:d,endIndex:e})}}return{partIndex:l[0]&&l[0].partIndex||null,segmentIndex:l[0]&&l[0].segmentIndex||0,startTime:i}}if(d<0){for(let e=d;e<0;e++)if((o-=t.targetDuration)<0)return{partIndex:l[0]&&l[0].partIndex||null,segmentIndex:l[0]&&l[0].segmentIndex||0,startTime:i};d=0}for(let e=d;e<l.length;e++){var c=l[e];if(o-=c.duration,a){if(0<o)continue}else if(0<=o-Gl)continue;return{partIndex:c.partIndex,segmentIndex:c.segmentIndex,startTime:n+$l({defaultDuration:t.targetDuration,durationList:l,startIndex:d,endIndex:e})}}return{segmentIndex:l[l.length-1].segmentIndex,partIndex:l[l.length-1].partIndex,startTime:i}},isEnabled:ld,isDisabled:function(e){return e.disabled},isExcluded:ad,isIncompatible:od,playlistEnd:Wl,isAes:function(t){for(let e=0;e<t.segments.length;e++)if(t.segments[e].key)return!0;return!1},hasAttribute:dd,estimateSegmentRequestTime:function(e,t,i,s=0){return dd("BANDWIDTH",i)?(e*i.attributes.BANDWIDTH-8*s)/t:NaN},isLowestEnabledRendition:ud,isAudioOnly:pd,playlistMatch:cd,segmentDurationWithParts:Ql};const gd=T["log"],fd=(e,t)=>e+"-"+t,yd=(r,n)=>{r.mediaGroups&&["AUDIO","SUBTITLES"].forEach(e=>{if(r.mediaGroups[e])for(const i in r.mediaGroups[e])for(const s in r.mediaGroups[e][i]){var t=r.mediaGroups[e][i][s];n(t,e,i,s)}})},_d=({playlist:e,uri:t,id:i})=>{e.id=i,e.playlistErrors_=0,t&&(e.uri=t),e.attributes=e.attributes||{}},vd=(o,e,l=(e,t,i)=>`placeholder-uri-${e}-${t}-`+i)=>{o.uri=e;for(let e=0;e<o.playlists.length;e++){var t;o.playlists[e].uri||(t="placeholder-uri-"+e,o.playlists[e].uri=t)}const i=pd(o);yd(o,(e,r,n,a)=>{if(!e.playlists||!e.playlists.length){if(i&&"AUDIO"===r&&!e.uri)for(let e=0;e<o.playlists.length;e++){var t=o.playlists[e];if(t.attributes&&t.attributes.AUDIO&&t.attributes.AUDIO===n)return}e.playlists=[fi({},e)]}e.playlists.forEach(function(e,t){var i=l(r,n,a,e),s=fd(t,i);e.uri?e.resolvedUri=e.resolvedUri||Rl(o.uri,e.uri):(e.uri=0===t?i:s,e.resolvedUri=e.uri),e.id=e.id||s,e.attributes=e.attributes||{},o.playlists[e.id]=e,o.playlists[e.uri]=e})});{var s=o;let e=s.playlists.length;for(;e--;){var r=s.playlists[e];_d({playlist:r,id:fd(e,r.uri)}),r.resolvedUri=Rl(s.uri,r.uri),s.playlists[r.id]=r,(s.playlists[r.uri]=r).attributes.BANDWIDTH||gd.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}}var n;n=o,yd(n,e=>{e.uri&&(e.resolvedUri=Rl(n.uri,e.uri))})};Dr=T.EventTarget;function bd(e){var t=e.segments||[],i=e.preloadSegment;if(i&&i.parts&&i.parts.length){if(i.preloadHints)for(let e=0;e<i.preloadHints.length;e++)if("MAP"===i.preloadHints[e].type)return t;i.duration=e.targetDuration,i.preload=!0,t.push(i)}return t}const Td=(t,i)=>{if(!t)return i;var s=O(t,i);if(t.preloadHints&&!i.preloadHints&&delete s.preloadHints,t.parts&&!i.parts)delete s.parts;else if(t.parts&&i.parts)for(let e=0;e<i.parts.length;e++)t.parts&&t.parts[e]&&(s.parts[e]=O(t.parts[e],i.parts[e]));return!t.skipped&&i.skipped&&(s.skipped=!1),t.preload&&!i.preload&&(s.preload=!1),s},Sd=(e,t)=>{!e.resolvedUri&&e.uri&&(e.resolvedUri=Rl(t,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=Rl(t,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=Rl(t,e.map.uri)),e.map&&e.map.key&&!e.map.key.resolvedUri&&(e.map.key.resolvedUri=Rl(t,e.map.key.uri)),e.parts&&e.parts.length&&e.parts.forEach(e=>{e.resolvedUri||(e.resolvedUri=Rl(t,e.uri))}),e.preloadHints&&e.preloadHints.length&&e.preloadHints.forEach(e=>{e.resolvedUri||(e.resolvedUri=Rl(t,e.uri))})},wd=(e,t)=>e===t||e.segments&&t.segments&&e.segments.length===t.segments.length&&e.endList===t.endList&&e.mediaSequence===t.mediaSequence&&e.preloadSegment===t.preloadSegment,Ed=(e,r,t=wd)=>{var i=O(e,{}),s=i.playlists[r.id];if(!s)return null;if(t(s,r))return null;r.segments=bd(r);const n=O(s,r);if(n.preloadSegment&&!r.preloadSegment&&delete n.preloadSegment,s.segments){if(r.skip){r.segments=r.segments||[];for(let e=0;e<r.skip.skippedSegments;e++)r.segments.unshift({skipped:!0})}n.segments=((e,t,i)=>{var s=e.slice(),r=t.slice(),n=(i=i||0,[]);let a;for(let e=0;e<r.length;e++){var o=s[e+i],l=r[e];o?(a=o.map||a,n.push(Td(o,l))):(a&&!l.map&&(l.map=a),n.push(l))}return n})(s.segments,r.segments,r.mediaSequence-s.mediaSequence)}n.segments.forEach(e=>{Sd(e,n.resolvedUri)});for(let e=0;e<i.playlists.length;e++)i.playlists[e].id===r.id&&(i.playlists[e]=n);return i.playlists[r.id]=n,i.playlists[r.uri]=n,yd(e,(t,e,i,s)=>{if(t.playlists)for(let e=0;e<t.playlists.length;e++)r.id===t.playlists[e].id&&(t.playlists[e]=n)}),i},kd=(e,t)=>{var i=e.segments||[],i=i[i.length-1],s=i&&i.parts&&i.parts[i.parts.length-1],s=s&&s.duration||i&&i.duration;return t&&s?1e3*s:500*(e.partTargetDuration||e.targetDuration||10)};class Cd extends Dr{constructor(e,t,i={}){if(super(),!e)throw new Error("A non-empty playlist URL or object is required");this.logger_=Bl("PlaylistLoader");var{withCredentials:i=!1}=i,e=(this.src=e,this.vhs_=t,this.withCredentials=i,t.options_);this.customTagParsers=e&&e.customTagParsers||[],this.customTagMappers=e&&e.customTagMappers||[],this.llhls=e&&e.llhls,this.state="HAVE_NOTHING",this.handleMediaupdatetimeout_=this.handleMediaupdatetimeout_.bind(this),this.on("mediaupdatetimeout",this.handleMediaupdatetimeout_)}handleMediaupdatetimeout_(){if("HAVE_METADATA"===this.state){var t=this.media();let e=Rl(this.main.uri,t.uri);this.llhls&&(e=((e,t)=>{if(!t.endList&&t.serverControl){const r={};if(t.serverControl.canBlockReload){var i,s=t["preloadSegment"];let e=t.mediaSequence+t.segments.length;s&&(s=s.parts||[],-1<(i=ed(t)-1)&&i!=s.length-1&&(r._HLS_part=i),-1<i||s.length)&&e--,r._HLS_msn=e}if(t.serverControl&&t.serverControl.canSkipUntil&&(r._HLS_skip=t.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(r).length){const n=new window.URL(e);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(e){r.hasOwnProperty(e)&&n.searchParams.set(e,r[e])}),e=n.toString()}}return e})(e,t)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:e,withCredentials:this.withCredentials},(e,t)=>{if(this.request)return e?this.playlistRequestError(this.request,this.media(),"HAVE_METADATA"):void this.haveMetadata({playlistString:this.request.responseText,url:this.media().uri,id:this.media().id})})}}playlistRequestError(e,t,i){var{uri:t,id:s}=t;this.request=null,i&&(this.state=i),this.error={playlist:this.main.playlists[s],status:e.status,message:`HLS playlist request error at URL: ${t}.`,responseText:e.responseText,code:500<=e.status?4:2},this.trigger("error")}parseManifest_({url:t,manifestString:i}){{var[{onwarn:i,oninfo:e,manifestString:s,customTagParsers:r=[],customTagMappers:n=[],llhls:a}]=[{onwarn:({message:e})=>this.logger_(`m3u8-parser warn for ${t}: `+e),oninfo:({message:e})=>this.logger_(`m3u8-parser info for ${t}: `+e),manifestString:i,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,llhls:this.llhls}];const o=new kn,l=(i&&o.on("warn",i),e&&o.on("info",e),r.forEach(e=>o.addParser(e)),n.forEach(e=>o.addTagMapper(e)),o.push(s),o.end(),o.manifest);if(a||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(e){l.hasOwnProperty(e)&&delete l[e]}),l.segments&&l.segments.forEach(function(t){["parts","preloadHints"].forEach(function(e){t.hasOwnProperty(e)&&delete t[e]})})),!l.targetDuration){let e=10;l.segments&&l.segments.length&&(e=l.segments.reduce((e,t)=>Math.max(e,t.duration),0)),i&&i("manifest has no targetDuration defaulting to "+e),l.targetDuration=e}return(e=Zl(l)).length&&!l.partTargetDuration&&(r=e.reduce((e,t)=>Math.max(e,t.duration),0),i&&(i("manifest has no partTargetDuration defaulting to "+r),gd.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),l.partTargetDuration=r),l}}haveMetadata({playlistString:e,playlistObject:t,url:i,id:s}){this.request=null,this.state="HAVE_METADATA";t=t||this.parseManifest_({url:i,manifestString:e}),t.lastRequest=Date.now(),_d({playlist:t,uri:i,id:s}),e=Ed(this.main,t);this.targetDuration=t.partTargetDuration||t.targetDuration,this.pendingMedia_=null,e?(this.main=e,this.media_=this.main.playlists[s]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(kd(this.media(),!!e)),this.trigger("loadedplaylist")}dispose(){this.trigger("dispose"),this.stopRequest(),window.clearTimeout(this.mediaUpdateTimeout),window.clearTimeout(this.finalRenditionTimeout),this.off()}stopRequest(){var e;this.request&&(e=this.request,this.request=null,e.onreadystatechange=null,e.abort())}media(i,e){if(!i)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);if("string"==typeof i){if(!this.main.playlists[i])throw new Error("Unknown playlist URI: "+i);i=this.main.playlists[i]}if(window.clearTimeout(this.finalRenditionTimeout),e)e=(i.partTargetDuration||i.targetDuration)/2*1e3||5e3,this.finalRenditionTimeout=window.setTimeout(this.media.bind(this,i,!1),e);else{const s=this.state;var e=!this.media_||i.id!==this.media_.id,t=this.main.playlists[i.id];if(t&&t.endList||i.endList&&i.segments.length)this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=i,e&&(this.trigger("mediachanging"),"HAVE_MAIN_MANIFEST"===s?this.trigger("loadedmetadata"):this.trigger("mediachange"));else if(this.updateMediaUpdateTimeout_(kd(i,!0)),e){if(this.state="SWITCHING_MEDIA",this.request){if(i.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=i,this.request=this.vhs_.xhr({uri:i.resolvedUri,withCredentials:this.withCredentials},(e,t)=>{if(this.request){if(i.lastRequest=Date.now(),i.resolvedUri=Ul(i.resolvedUri,t),e)return this.playlistRequestError(this.request,i,s);this.haveMetadata({playlistString:t.responseText,url:i.uri,id:i.id}),"HAVE_MAIN_MANIFEST"===s?this.trigger("loadedmetadata"):this.trigger("mediachange")}})}}}pause(){this.mediaUpdateTimeout&&(window.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MAIN_MANIFEST":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")}load(e){this.mediaUpdateTimeout&&(window.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);var t=this.media();e?(e=t?(t.partTargetDuration||t.targetDuration)/2*1e3:5e3,this.mediaUpdateTimeout=window.setTimeout(()=>{this.mediaUpdateTimeout=null,this.load()},e)):this.started?t&&!t.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()}updateMediaUpdateTimeout_(e){this.mediaUpdateTimeout&&(window.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.media()&&!this.media().endList&&(this.mediaUpdateTimeout=window.setTimeout(()=>{this.mediaUpdateTimeout=null,this.trigger("mediaupdatetimeout"),this.updateMediaUpdateTimeout_(e)},e))}start(){this.started=!0,"object"==typeof this.src?(this.src.uri||(this.src.uri=window.location.href),this.src.resolvedUri=this.src.uri,setTimeout(()=>{this.setupInitialPlaylist(this.src)},0)):this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},(e,t)=>{if(this.request){if(this.request=null,e)return this.error={status:t.status,message:`HLS playlist request error at URL: ${this.src}.`,responseText:t.responseText,code:2},"HAVE_NOTHING"===this.state&&(this.started=!1),this.trigger("error");this.src=Ul(this.src,t);e=this.parseManifest_({manifestString:t.responseText,url:this.src});this.setupInitialPlaylist(e)}})}srcUri(){return"string"==typeof this.src?this.src:this.src.uri}setupInitialPlaylist(e){var t,i,s,r;this.state="HAVE_MAIN_MANIFEST",e.playlists?(this.main=e,vd(this.main,this.srcUri()),e.playlists.forEach(t=>{t.segments=bd(t),t.segments.forEach(e=>{Sd(e,t.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.main.playlists[0])):(t=this.srcUri()||window.location.href,this.main=(i=t,s=fd(0,i),(r={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:window.location.href,resolvedUri:window.location.href,playlists:[{uri:i,id:s,resolvedUri:i,attributes:{}}]}).playlists[s]=r.playlists[0],r.playlists[i]=r.playlists[0],r),this.haveMetadata({playlistObject:e,url:t,id:this.main.playlists[0].id}),this.trigger("loadedmetadata"))}}function Id(e,t,i,s){var r="arraybuffer"===e.responseType?e.response:e.responseText;!t&&r&&(e.responseTime=Date.now(),e.roundTripTime=e.responseTime-e.requestTime,e.bytesReceived=r.byteLength||r.length,e.bandwidth||(e.bandwidth=Math.floor(e.bytesReceived/e.roundTripTime*8*1e3))),i.headers&&(e.responseHeaders=i.headers),t&&"ETIMEDOUT"===t.code&&(e.timedout=!0),s(t=t||e.aborted||200===i.statusCode||206===i.statusCode||0===i.statusCode?t:new Error("XHR Failed with a response of: "+(e&&(r||e.responseText))),e)}function xd(){function n(e,i){e=O({timeout:45e3},e);var t=n.beforeRequest||T.Vhs.xhr.beforeRequest;t&&"function"==typeof t&&(t=t(e))&&(e=t);const s=(!0===T.Vhs.xhr.original?Md:T.Vhs.xhr)(e,function(e,t){return Id(s,e,t,i)}),r=s.abort;return s.abort=function(){return s.aborted=!0,r.apply(s,arguments)},s.uri=e.uri,s.requestTime=Date.now(),s}return n.original=!0,n}function Ad(e){var t={};return e.byterange&&(t.Range=function(e){let t;return"bytes="+e.offset+"-"+(t="bigint"==typeof e.offset||"bigint"==typeof e.length?window.BigInt(e.offset)+window.BigInt(e.length)-window.BigInt(1):e.offset+e.length-1)}(e.byterange)),t}function Pd(e,t){return e=e.toString(16),"00".substring(0,2-e.length)+e+(t%2?" ":"")}function Ld(e){return 32<=e&&e<126?String.fromCharCode(e):"."}function Od(i){const s={};return Object.keys(i).forEach(e=>{var t=i[e];qn(t)?s[e]={bytes:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength}:s[e]=t}),s}function Dd(e){var t=e.byterange||{length:1/0,offset:0};return[t.length,t.offset,e.resolvedUri].join(",")}function Nd(e){return e.resolvedUri}const Md=T["xhr"],Rd=e=>{var t,i,s=Array.prototype.slice.call(e);let r="";for(let e=0;e<s.length/16;e++)t=s.slice(16*e,16*e+16).map(Pd).join(""),i=s.slice(16*e,16*e+16).map(Ld).join(""),r+=t+" "+i+"\n";return r};Or=Object.freeze({__proto__:null,createTransferableMessage:Od,initSegmentId:Dd,segmentKeyId:Nd,hexDump:Rd,tagDump:({bytes:e})=>Rd(e),textRanges:e=>{let t="",i;for(i=0;i<e.length;i++)t+=(s=e,r=i,s.start(r)+"-"+s.end(r)+" ");var s,r;return t}});const Ud=.25,Bd=e=>e.transmuxedPresentationEnd-e.transmuxedPresentationStart-e.transmuxerPrependedSeconds,Fd=({playlist:e,time:t=void 0,callback:i})=>{var s,r;if(i)return e&&void 0!==t?(e=((t,i)=>{if(!i||!i.segments||0===i.segments.length)return null;let s=0,r;for(let e=0;e<i.segments.length&&(r=i.segments[e],!(t<=(s=r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationEnd:s+r.duration)));e++);var e=i.segments[i.segments.length-1];if(e.videoTimingInfo&&e.videoTimingInfo.transmuxedPresentationEnd<t)return null;if(t>s){if(t>s+e.duration*Ud)return null;r=e}return{segment:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:s-r.duration,type:r.videoTimingInfo?"accurate":"estimate"}})(t,e))?"estimate"===e.type?i({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:e.estimatedStart}):(s={mediaSeconds:t},t=t,(r=(e=e.segment).dateTimeObject?(r=e.videoTimingInfo.transmuxerPrependedSeconds,t=t-(e.videoTimingInfo.transmuxedPresentationStart+r),new Date(e.dateTimeObject.getTime()+1e3*t)):null)&&(s.programDateTime=r.toISOString()),i(null,s)):i({message:"valid programTime was not found"}):i({message:"getProgramTime: playlist and time must be provided"});throw new Error("getProgramTime: callback must be provided")},jd=({programTime:e,playlist:t,retryCount:i=2,seekTo:s,pauseAfterSeek:r=!0,tech:n,callback:a})=>{var o,l,d;if(a)return"undefined"!=typeof e&&t&&s?t.endList||n.hasStarted_?(t=>{if(!t.segments||0===t.segments.length)return!1;for(let e=0;e<t.segments.length;e++)if(!t.segments[e].dateTimeObject)return!1;return!0})(t)?(d=((e,t)=>{let i;try{i=new Date(e)}catch(e){return null}if(!t||!t.segments||0===t.segments.length)return null;let s=t.segments[0];if(i<s.dateTimeObject)return null;for(let e=0;e<t.segments.length-1;e++){s=t.segments[e];var r=t.segments[e+1].dateTimeObject;if(i<r)break}var e=t.segments[t.segments.length-1],n=e.dateTimeObject,a=e.videoTimingInfo?Bd(e.videoTimingInfo):e.duration+e.duration*Ud,a=new Date(n.getTime()+1e3*a);return i>a?null:{segment:s=i>n?e:s,estimatedStart:s.videoTimingInfo?s.videoTimingInfo.transmuxedPresentationStart:md.duration(t,t.mediaSequence+t.segments.indexOf(s)),type:s.videoTimingInfo?"accurate":"estimate"}})(e,t))?(l=((e,t)=>{let i,s;try{i=new Date(e),s=new Date(t)}catch(e){}e=i.getTime();return(s.getTime()-e)/1e3})((o=d.segment).dateTimeObject,e),"estimate"===d.type?0===i?a({message:e+" is not buffered yet. Try again"}):(s(d.estimatedStart+l),void n.one("seeked",()=>{jd({programTime:e,playlist:t,retryCount:i-1,seekTo:s,pauseAfterSeek:r,tech:n,callback:a})})):(d=o.start+l,n.one("seeked",()=>a(null,n.currentTime())),r&&n.pause(),void s(d))):a({message:e+" was not found in the stream"}):a({message:"programDateTime tags must be provided in the manifest "+t.resolvedUri}):a({message:"player must be playing a live stream to start buffering"}):a({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});throw new Error("seekToProgramTime: callback must be provided")},Hd=(e,t)=>{if(4===e.readyState)return t()},qd=(e,t,r)=>{let s=[],n,a=!1;function o(e,t,i,s){return t.abort(),a=!0,r(e,t,i,s)}function i(e,t){var i;if(!a)return e?o(e,t,"",s):(i=t.responseText.substring(s&&s.byteLength||0,t.responseText.length),s=function(){for(var e,t,i,s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(r=r.filter(function(e){return e&&(e.byteLength||e.length)&&"string"!=typeof e})).length<=1?S(r[0]):(e=r.reduce(function(e,t,i){return e+(t.byteLength||t.length)},0),t=new Uint8Array(e),i=0,r.forEach(function(e){e=S(e),t.set(e,i),i+=e.byteLength}),t)}(s,Ln(i,!0)),n=n||cl(s),s.length<10||n&&s.length<n+2||"ts"===(i=_l(s))&&s.length<188||!i&&s.length<376?Hd(t,()=>o(e,t,"",s)):o(null,t,i,s))}const l=t({uri:e,beforeSend(e){e.overrideMimeType("text/plain; charset=x-user-defined"),e.addEventListener("progress",function({}){return Id(e,null,{statusCode:e.status},i)})}},function(e,t){return Id(l,e,t,i)});return l};Mi=T.EventTarget;function Vd(t,i){if(!wd(t,i))return!1;if(t.sidx&&i.sidx&&(t.sidx.offset!==i.sidx.offset||t.sidx.length!==i.sidx.length))return!1;if(!t.sidx&&i.sidx||t.sidx&&!i.sidx)return!1;if(t.segments&&!i.segments||!t.segments&&i.segments)return!1;if(t.segments||i.segments)for(let e=0;e<t.segments.length;e++){var s=t.segments[e],r=i.segments[e];if(s.uri!==r.uri)return!1;if(s.byterange||r.byterange){s=s.byterange,r=r.byterange;if(s&&!r||!s&&r)return!1;if(s.offset!==r.offset||s.length!==r.length)return!1}}return!0}const $d=(e,t,i,s)=>{return`placeholder-uri-${e}-${t}-`+(s.attributes.NAME||i)},Wd=({mainXml:e,srcUrl:t,clientOffset:i,sidxMapping:s,previousManifest:r})=>{e=e,i={manifestUri:t,clientOffset:i,sidxMapping:s,previousManifest:r},e=dl(hl(e),i),s=tl(e.representationInfo);r=Xo({dashPlaylists:s,locations:e.locations,sidxMapping:i.sidxMapping,previousManifest:i.previousManifest});return vd(r,t,$d),r},Gd=(e,t,i)=>{let a=!0,o=O(e,{duration:t.duration,minimumUpdatePeriod:t.minimumUpdatePeriod,timelineStarts:t.timelineStarts});for(let e=0;e<t.playlists.length;e++){var s=t.playlists[e],r=(s.sidx&&(r=Fo(s.sidx),i)&&i[r]&&i[r].sidx&&Do(s,i[r].sidx,s.sidx.resolvedUri),Ed(o,s,Vd));r&&(o=r,a=!1)}var n,l;return yd(t,(e,t,i,s)=>{var r,n;e.playlists&&e.playlists.length&&(r=e.playlists[0].id,n=Ed(o,e.playlists[0],Vd))&&(s in(o=n).mediaGroups[t][i]||(o.mediaGroups[t][i][s]=e),o.mediaGroups[t][i][s].playlists[0]=o.playlists[r],a=!1)}),n=o,l=t,yd(n,(e,t,i,s)=>{s in l.mediaGroups[t][i]||delete n.mediaGroups[t][i][s]}),(a=t.minimumUpdatePeriod===e.minimumUpdatePeriod&&a)?null:o},zd=(e,t)=>{return(Boolean(!e.map&&!t.map)||Boolean(e.map&&t.map&&e.map.byterange.offset===t.map.byterange.offset&&e.map.byterange.length===t.map.byterange.length))&&e.uri===t.uri&&e.byterange.offset===t.byterange.offset&&e.byterange.length===t.byterange.length},Xd=(e,t)=>{var i={};for(const a in e){var s=e[a].sidx;if(s){var r=Fo(s);if(!t[r])break;var n=t[r].sidxInfo;zd(n,s)&&(i[r]=t[r])}}return i};class Kd extends Mi{constructor(e,t,i={},s){super(),this.mainPlaylistLoader_=s||this,s||(this.isMain_=!0);var{withCredentials:s=!1}=i;if(this.vhs_=t,this.withCredentials=s,!e)throw new Error("A non-empty playlist URL or object is required");this.on("minimumUpdatePeriod",()=>{this.refreshXml_()}),this.on("mediaupdatetimeout",()=>{this.refreshMedia_(this.media().id)}),this.state="HAVE_NOTHING",this.loadedPlaylists_={},this.logger_=Bl("DashPlaylistLoader"),this.isMain_?(this.mainPlaylistLoader_.srcUrl=e,this.mainPlaylistLoader_.sidxMapping_={}):this.childPlaylist_=e}requestErrored_(e,t,i){return!this.request||(this.request=null,e?(this.error="object"!=typeof e||e instanceof Error?{status:t.status,message:"DASH request error at URL: "+t.uri,response:t.response,code:2}:e,i&&(this.state=i),this.trigger("error"),!0):void 0)}addSidxSegments_(a,s,r){const n=a.sidx&&Fo(a.sidx);if(a.sidx&&n&&!this.mainPlaylistLoader_.sidxMapping_[n]){const o=Ul(a.sidx.resolvedUri),l=(t,i)=>{if(!this.requestErrored_(t,i,s)){t=this.mainPlaylistLoader_.sidxMapping_;let e;try{e=Tl(S(i.response).subarray(8))}catch(e){return void this.requestErrored_(e,i,s)}return t[n]={sidxInfo:a.sidx,sidx:e},Do(a,e,a.sidx.resolvedUri),r(!0)}};this.request=qd(o,this.vhs_.xhr,(e,t,i,s)=>{var r,n;return e?l(e,t):i&&"mp4"===i?({offset:r,length:n}=a.sidx.byterange,s.length>=n+r?l(e,{response:s.subarray(r,r+n),status:t.status,uri:t.uri}):void(this.request=this.vhs_.xhr({uri:o,responseType:"arraybuffer",headers:Ad({byterange:a.sidx.byterange})},l))):l({status:t.status,message:`Unsupported ${i||"unknown"} container type for sidx segment at URL: `+o,response:"",playlist:a,internal:!0,playlistExclusionDuration:1/0,code:2},t)})}else this.mediaRequest_=window.setTimeout(()=>r(!1),0)}dispose(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},window.clearTimeout(this.minimumUpdatePeriodTimeout_),window.clearTimeout(this.mediaRequest_),window.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.off()}hasPendingRequest(){return this.request||this.mediaRequest_}stopRequest(){var e;this.request&&(e=this.request,this.request=null,e.onreadystatechange=null,e.abort())}media(t){if(!t)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);const i=this.state;if("string"==typeof t){if(!this.mainPlaylistLoader_.main.playlists[t])throw new Error("Unknown playlist URI: "+t);t=this.mainPlaylistLoader_.main.playlists[t]}var e=!this.media_||t.id!==this.media_.id;e&&this.loadedPlaylists_[t.id]&&this.loadedPlaylists_[t.id].endList?(this.state="HAVE_METADATA",this.media_=t,e&&(this.trigger("mediachanging"),this.trigger("mediachange"))):e&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(t,i,e=>{this.haveMetadata({startingState:i,playlist:t})}))}haveMetadata({startingState:e,playlist:t}){this.state="HAVE_METADATA",this.loadedPlaylists_[t.id]=t,this.mediaRequest_=null,this.refreshMedia_(t.id),"HAVE_MAIN_MANIFEST"===e?this.trigger("loadedmetadata"):this.trigger("mediachange")}pause(){this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),window.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMain_&&(window.clearTimeout(this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_),this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_=null),"HAVE_NOTHING"===this.state&&(this.started=!1)}load(e){window.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;var t=this.media();e?(e=t?t.targetDuration/2*1e3:5e3,this.mediaUpdateTimeout=window.setTimeout(()=>this.load(),e)):this.started?t&&!t.endList?(this.isMain_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist"):this.start()}start(){this.started=!0,this.isMain_?this.requestMain_((e,t)=>{this.haveMain_(),this.hasPendingRequest()||this.media_||this.media(this.mainPlaylistLoader_.main.playlists[0])}):this.mediaRequest_=window.setTimeout(()=>this.haveMain_(),0)}requestMain_(s){this.request=this.vhs_.xhr({uri:this.mainPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},(e,t)=>{if(this.requestErrored_(e,t))"HAVE_NOTHING"===this.state&&(this.started=!1);else{const i=t.responseText!==this.mainPlaylistLoader_.mainXml_;if(this.mainPlaylistLoader_.mainXml_=t.responseText,t.responseHeaders&&t.responseHeaders.date?this.mainLoaded_=Date.parse(t.responseHeaders.date):this.mainLoaded_=Date.now(),this.mainPlaylistLoader_.srcUrl=Ul(this.mainPlaylistLoader_.srcUrl,t),!i)return s(t,i);this.handleMain_(),this.syncClientServerClock_(()=>s(t,i))}})}syncClientServerClock_(s){const r=ul(this.mainPlaylistLoader_.mainXml_);return null===r?(this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),s()):"DIRECT"===r.method?(this.mainPlaylistLoader_.clientOffset_=r.value-Date.now(),s()):void(this.request=this.vhs_.xhr({uri:Rl(this.mainPlaylistLoader_.srcUrl,r.value),method:r.method,withCredentials:this.withCredentials},(t,i)=>{if(this.request){if(t)return this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),s();let e;e="HEAD"===r.method?i.responseHeaders&&i.responseHeaders.date?Date.parse(i.responseHeaders.date):this.mainLoaded_:Date.parse(i.responseText),this.mainPlaylistLoader_.clientOffset_=e-Date.now(),s()}}))}haveMain_(){this.state="HAVE_MAIN_MANIFEST",this.isMain_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)}handleMain_(){this.mediaRequest_=null;var e=this.mainPlaylistLoader_.main;let t=Wd({mainXml:this.mainPlaylistLoader_.mainXml_,srcUrl:this.mainPlaylistLoader_.srcUrl,clientOffset:this.mainPlaylistLoader_.clientOffset_,sidxMapping:this.mainPlaylistLoader_.sidxMapping_,previousManifest:e});e&&(t=Gd(e,t,this.mainPlaylistLoader_.sidxMapping_)),this.mainPlaylistLoader_.main=t||e;var i=this.mainPlaylistLoader_.main.locations&&this.mainPlaylistLoader_.main.locations[0];return i&&i!==this.mainPlaylistLoader_.srcUrl&&(this.mainPlaylistLoader_.srcUrl=i),(!e||t&&t.minimumUpdatePeriod!==e.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),Boolean(t)}updateMinimumUpdatePeriodTimeout_(){var e=this.mainPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(window.clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);let t=e.main&&e.main.minimumUpdatePeriod;0===t&&(e.media()?t=1e3*e.media().targetDuration:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),"number"!=typeof t||t<=0?t<0&&this.logger_(`found invalid minimumUpdatePeriod of ${t}, not setting a timeout`):this.createMUPTimeout_(t)}createMUPTimeout_(e){const t=this.mainPlaylistLoader_;t.minimumUpdatePeriodTimeout_=window.setTimeout(()=>{t.minimumUpdatePeriodTimeout_=null,t.trigger("minimumUpdatePeriod"),t.createMUPTimeout_(e)},e)}refreshXml_(){this.requestMain_((e,t)=>{t&&(this.media_&&(this.media_=this.mainPlaylistLoader_.main.playlists[this.media_.id]),this.mainPlaylistLoader_.sidxMapping_=((e,r)=>{let n=Xd(e.playlists,r);return yd(e,(e,t,i,s)=>{e.playlists&&e.playlists.length&&(e=e.playlists,n=O(n,Xd(e,r)))}),n})(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.sidxMapping_),this.addSidxSegments_(this.media(),this.state,e=>{this.refreshMedia_(this.media().id)}))})}refreshMedia_(e){if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMain_&&this.handleMain_();var t=this.mainPlaylistLoader_.main.playlists;const i=!this.media_||this.media_!==t[e];if(i?this.media_=t[e]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){const s=()=>{this.media().endList||(this.mediaUpdateTimeout=window.setTimeout(()=>{this.trigger("mediaupdatetimeout"),s()},kd(this.media(),Boolean(i))))};s()}this.trigger("loadedplaylist")}}var D={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30};function Yd(e){return e.on=e.addEventListener,e.off=e.removeEventListener,e}const Qd=t=>{var i=new Uint8Array(new ArrayBuffer(t.length));for(let e=0;e<t.length;e++)i[e]=t.charCodeAt(e);return i.buffer};function Jd(s){return function(){const e=function(t){try{return URL.createObjectURL(new Blob([t],{type:"application/javascript"}))}catch(e){var i=new BlobBuilder;return i.append(t),URL.createObjectURL(i.getBlob())}}(s);var t=Yd(new Worker(e));t.objURL=e;const i=t.terminate;return t.on=t.addEventListener,t.off=t.removeEventListener,t.terminate=function(){return URL.revokeObjectURL(e),i.call(this)},t}}function Zd(e){return`var browserWorkerPolyFill = ${Yd.toString()};
`+"browserWorkerPolyFill(self);\n"+e}function eh(e){return e.toString().replace(/^function.+?{/,"").slice(0,-1)}var th=Jd(Zd(eh(function(){function e(){this.init=function(){var n={};this.on=function(e,t){n[e]||(n[e]=[]),n[e]=n[e].concat(t)},this.off=function(e,t){return!!n[e]&&(t=n[e].indexOf(t),n[e]=n[e].slice(),n[e].splice(t,1),-1<t)},this.trigger=function(e){var t,i,s,r=n[e];if(r)if(2===arguments.length)for(i=r.length,t=0;t<i;++t)r[t].call(this,arguments[1]);else{for(s=[],t=arguments.length,t=1;t<arguments.length;++t)s.push(arguments[t]);for(i=r.length,t=0;t<i;++t)r[t].apply(this,s)}},this.dispose=function(){n={}}}}var l,R,U,B,F,j,H,q,V,$,W,G,z,X,K,Y,Q,J,Z,ee,d,te,ie,se,re,ne,ae,oe,t,le,de,he,ue,ce,pe,me,ge,fe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},i=(e.prototype.pipe=function(t){return this.on("data",function(e){t.push(e)}),this.on("done",function(e){t.flush(e)}),this.on("partialdone",function(e){t.partialFlush(e)}),this.on("endedtimeline",function(e){t.endTimeline(e)}),this.on("reset",function(e){t.reset(e)}),t},e.prototype.push=function(e){this.trigger("data",e)},e.prototype.flush=function(e){this.trigger("done",e)},e.prototype.partialFlush=function(e){this.trigger("partialdone",e)},e.prototype.endTimeline=function(e){this.trigger("endedtimeline",e)},e.prototype.reset=function(e){this.trigger("reset",e)},e),ye=Math.pow(2,32),_e={getUint64:function(e){var t,e=new DataView(e.buffer,e.byteOffset,e.byteLength);return e.getBigUint64?(t=e.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(t):t:e.getUint32(0)*ye+e.getUint32(4)},MAX_UINT32:ye},ve=_e.MAX_UINT32;if(d={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(var s in d)d.hasOwnProperty(s)&&(d[s]=[s.charCodeAt(0),s.charCodeAt(1),s.charCodeAt(2),s.charCodeAt(3)]);te=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),se=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),ie=new Uint8Array([0,0,0,1]),Ce=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),xe=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),re={video:Ce,audio:xe},oe=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),ae=new Uint8Array([0,0,0,0,0,0,0,0]),t=new Uint8Array([0,0,0,0,0,0,0,0]),le=t,de=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),he=t,ne=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}l=function(e){for(var t,i=[],s=0,r=1;r<arguments.length;r++)i.push(arguments[r]);for(r=i.length;r--;)s+=i[r].byteLength;for(t=new Uint8Array(s+8),new DataView(t.buffer,t.byteOffset,t.byteLength).setUint32(0,t.byteLength),t.set(e,4),r=0,s=8;r<i.length;r++)t.set(i[r],s),s+=i[r].byteLength;return t},R=function(){return l(d.dinf,l(d.dref,oe))},U=function(e){return l(d.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},X=function(e){return l(d.hdlr,re[e])},z=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(t[12]=e.samplerate>>>24&255,t[13]=e.samplerate>>>16&255,t[14]=e.samplerate>>>8&255,t[15]=255&e.samplerate),l(d.mdhd,t)},G=function(e){return l(d.mdia,z(e),X(e.type),j(e))},F=function(e){return l(d.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},j=function(e){return l(d.minf,"video"===e.type?l(d.vmhd,ne):l(d.smhd,ae),R(),Y(e))},q=function(e){for(var t=e.length,i=[];t--;)i[t]=Z(e[t]);return l.apply(null,[d.mvex].concat(i))},V=function(e){e=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return l(d.mvhd,e)},K=function(e){for(var t,i=e.samples||[],s=new Uint8Array(4+i.length),r=0;r<i.length;r++)t=i[r].flags,s[r+4]=t.dependsOn<<4|t.isDependedOn<<2|t.hasRedundancy;return l(d.sdtp,s)},Y=function(e){return l(d.stbl,Q(e),l(d.stts,he),l(d.stsc,le),l(d.stsz,de),l(d.stco,t))},Q=function(e){return l(d.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),("video"===e.type?ue:ce)(e))},ue=function(e){for(var t,i,s=e.sps||[],r=e.pps||[],n=[],a=[],o=0;o<s.length;o++)n.push((65280&s[o].byteLength)>>>8),n.push(255&s[o].byteLength),n=n.concat(Array.prototype.slice.call(s[o]));for(o=0;o<r.length;o++)a.push((65280&r[o].byteLength)>>>8),a.push(255&r[o].byteLength),a=a.concat(Array.prototype.slice.call(r[o]));return t=[d.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),l(d.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([s.length],n,[r.length],a))),l(d.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],e.sarRatio&&(i=e.sarRatio[0],e=e.sarRatio[1],t.push(l(d.pasp,new Uint8Array([(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])))),l.apply(null,t)},ce=function(e){return l(d.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),U(e))},W=function(e){e=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return l(d.tkhd,e)},J=function(e){var t,i=l(d.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),s=Math.floor(e.baseMediaDecodeTime/ve),r=Math.floor(e.baseMediaDecodeTime%ve),s=l(d.tfdt,new Uint8Array([1,0,0,0,s>>>24&255,s>>>16&255,s>>>8&255,255&s,r>>>24&255,r>>>16&255,r>>>8&255,255&r]));return"audio"===e.type?(t=ee(e,92),l(d.traf,i,s,t)):(r=K(e),t=ee(e,r.length+92),l(d.traf,i,s,t,r))},$=function(e){return e.duration=e.duration||4294967295,l(d.trak,W(e),G(e))},Z=function(e){var t=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(t[t.length-1]=0),l(d.trex,t)},pe=function(e,t){var i=0,s=0,r=0,n=0;return e.length&&(void 0!==e[0].duration&&(i=1),void 0!==e[0].size&&(s=2),void 0!==e[0].flags&&(r=4),void 0!==e[0].compositionTimeOffset)&&(n=8),[0,0,i|s|r|n,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},me=function(e,t){var i,s,r,n,a=e.samples||[];for(t+=20+16*a.length,e=pe(a,t),(s=new Uint8Array(e.length+16*a.length)).set(e),i=e.length,n=0;n<a.length;n++)r=a[n],s[i++]=(4278190080&r.duration)>>>24,s[i++]=(16711680&r.duration)>>>16,s[i++]=(65280&r.duration)>>>8,s[i++]=255&r.duration,s[i++]=(4278190080&r.size)>>>24,s[i++]=(16711680&r.size)>>>16,s[i++]=(65280&r.size)>>>8,s[i++]=255&r.size,s[i++]=r.flags.isLeading<<2|r.flags.dependsOn,s[i++]=r.flags.isDependedOn<<6|r.flags.hasRedundancy<<4|r.flags.paddingValue<<1|r.flags.isNonSyncSample,s[i++]=61440&r.flags.degradationPriority,s[i++]=15&r.flags.degradationPriority,s[i++]=(4278190080&r.compositionTimeOffset)>>>24,s[i++]=(16711680&r.compositionTimeOffset)>>>16,s[i++]=(65280&r.compositionTimeOffset)>>>8,s[i++]=255&r.compositionTimeOffset;return l(d.trun,s)},ge=function(e,t){var i,s,r,n,a=e.samples||[];for(t+=20+8*a.length,e=pe(a,t),(i=new Uint8Array(e.length+8*a.length)).set(e),s=e.length,n=0;n<a.length;n++)r=a[n],i[s++]=(4278190080&r.duration)>>>24,i[s++]=(16711680&r.duration)>>>16,i[s++]=(65280&r.duration)>>>8,i[s++]=255&r.duration,i[s++]=(4278190080&r.size)>>>24,i[s++]=(16711680&r.size)>>>16,i[s++]=(65280&r.size)>>>8,i[s++]=255&r.size;return l(d.trun,i)},ee=function(e,t){return("audio"===e.type?ge:me)(e,t)};function be(e,t){var i=Ie();return i.dataOffset=t,i.compositionTimeOffset=e.pts-e.dts,i.duration=e.duration,i.size=4*e.length,i.size+=e.byteLength,e.keyFrame&&(i.flags.dependsOn=2,i.flags.isNonSyncSample=0),i}function r(e){for(var t=[];e--;)t.push(0);return t}function n(e){e=e||{},n.prototype.init.call(this),this.parse708captions_="boolean"!=typeof e.parse708captions||e.parse708captions,this.captionPackets_=[],this.ccStreams_=[new g(0,0),new g(0,1),new g(1,0),new g(1,1)],this.parse708captions_&&(this.cc708Stream_=new m({captionServices:e.captionServices})),this.reset(),this.ccStreams_.forEach(function(e){e.on("data",this.trigger.bind(this,"data")),e.on("partialdone",this.trigger.bind(this,"partialdone")),e.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))}function o(e){return 32<=e&&e<=127||160<=e&&e<=255}function a(e){this.windowNum=e,this.reset()}function Te(e,t,i){this.serviceNum=e,this.text="",this.currentWindow=new a(-1),this.windows=[],this.stream=i,"string"==typeof t&&this.createTextDecoder(t)}function Se(e){return null===e?"":(e=Fe[e]||e,String.fromCharCode(e))}function h(){for(var e=[],t=je+1;t--;)e.push("");return e}function we(e,t){var i=1;for(t<e&&(i=-1);Math.abs(t-e)>We;)e+=i*$e;return e}function Ee(e){var t,i;Ee.prototype.init.call(this),this.type_=e||"shared",this.push=function(e){"shared"!==this.type_&&e.type!==this.type_||(void 0===i&&(i=e.dts),e.dts=we(e.dts,i),e.pts=we(e.pts,i),t=e.dts,this.trigger("data",e))},this.flush=function(){i=t,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){t=i=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}}var ke,Ce={ftyp:B=function(){return l(d.ftyp,te,ie,te,se)},mdat:function(e){return l(d.mdat,e)},moof:function(e,t){for(var i=[],s=t.length;s--;)i[s]=J(t[s]);return l.apply(null,[d.moof,F(e)].concat(i))},moov:H=function(e){for(var t=e.length,i=[];t--;)i[t]=$(e[t]);return l.apply(null,[d.moov,V(4294967295)].concat(i).concat(q(e)))},initSegment:function(e){var t=B(),e=H(e),i=new Uint8Array(t.byteLength+e.byteLength);return i.set(t),i.set(e,t.byteLength),i}},Ie=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},xe={groupNalsIntoFrames:function(e){var t,i,s=[],r=[];for(r.byteLength=0,r.nalCount=0,t=s.byteLength=r.duration=0;t<e.length;t++)"access_unit_delimiter_rbsp"===(i=e[t]).nalUnitType?(s.length&&(s.duration=i.dts-s.dts,r.byteLength+=s.byteLength,r.nalCount+=s.length,r.duration+=s.duration,r.push(s)),(s=[i]).byteLength=i.data.byteLength,s.pts=i.pts,s.dts=i.dts):("slice_layer_without_partitioning_rbsp_idr"===i.nalUnitType&&(s.keyFrame=!0),s.duration=i.dts-s.dts,s.byteLength+=i.data.byteLength,s.push(i));return r.length&&(!s.duration||s.duration<=0)&&(s.duration=r[r.length-1].duration),r.byteLength+=s.byteLength,r.nalCount+=s.length,r.duration+=s.duration,r.push(s),r},groupFramesIntoGops:function(e){var t,i,s=[],r=[];for(s.byteLength=0,s.nalCount=0,s.duration=0,s.pts=e[0].pts,s.dts=e[0].dts,r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=e[0].pts,r.dts=e[0].dts,t=0;t<e.length;t++)(i=e[t]).keyFrame?(s.length&&(r.push(s),r.byteLength+=s.byteLength,r.nalCount+=s.nalCount,r.duration+=s.duration),(s=[i]).nalCount=i.length,s.byteLength=i.byteLength,s.pts=i.pts,s.dts=i.dts,s.duration=i.duration):(s.duration+=i.duration,s.nalCount+=i.length,s.byteLength+=i.byteLength,s.push(i));return r.length&&s.duration<=0&&(s.duration=r[r.length-1].duration),r.byteLength+=s.byteLength,r.nalCount+=s.nalCount,r.duration+=s.duration,r.push(s),r},extendFirstKeyFrame:function(e){var t;return!e[0][0].keyFrame&&1<e.length&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},generateSampleTable:function(e,t){for(var i,s,r,n=t||0,a=[],o=0;o<e.length;o++)for(s=e[o],i=0;i<s.length;i++)r=s[i],n+=(r=be(r,n)).size,a.push(r);return a},concatenateNalData:function(e){for(var t,i,s,r,n,a=0,o=e.byteLength,l=e.nalCount,d=new Uint8Array(o+4*l),h=new DataView(d.buffer),u=0;u<e.length;u++)for(s=e[u],t=0;t<s.length;t++)for(r=s[t],i=0;i<r.length;i++)n=r[i],h.setUint32(a,n.data.byteLength),d.set(n.data,a+=4),a+=n.data.byteLength;return d},generateSampleTableForFrame:function(e,t){var i=[],e=be(e,t||0);return i.push(e),i},concatenateNalDataForFrame:function(e){for(var t,i=0,s=e.byteLength,r=e.length,n=new Uint8Array(s+4*r),a=new DataView(n.buffer),o=0;o<e.length;o++)t=e[o],a.setUint32(i,t.data.byteLength),n.set(t.data,i+=4),i+=t.data.byteLength;return n}},u=[33,16,5,32,164,27],Ae=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],Pe=function(e){return 9e4*e},Le=function(e,t){return e*t},Oe=function(e){return e/9e4},De=function(e,t){return e/t},c={ONE_SECOND_IN_TS:9e4,secondsToVideoTs:Pe,secondsToAudioTs:Le,videoTsToSeconds:Oe,audioTsToSeconds:De,audioTsToVideoTs:function(e,t){return e/t*9e4},videoTsToAudioTs:function(e,t){return e/9e4*t},metadataTsToSeconds:function(e,t,i){return Oe(i?e:e-t)}},Ne=function(){var e,i;return ke||(e={96e3:[u,[227,64],r(154),[56]],88200:[u,[231],r(170),[56]],64e3:[u,[248,192],r(240),[56]],48e3:[u,[255,192],r(268),[55,148,128],r(54),[112]],44100:[u,[255,192],r(268),[55,163,128],r(84),[112]],32e3:[u,[255,192],r(268),[55,234],r(226),[112]],24e3:[u,[255,192],r(268),[55,255,128],r(268),[111,112],r(126),[224]],16e3:[u,[255,192],r(268),[55,255,128],r(268),[111,255],r(269),[223,108],r(195),[1,192]],12e3:[Ae,r(268),[3,127,248],r(268),[6,255,240],r(268),[13,255,224],r(268),[27,253,128],r(259),[56]],11025:[Ae,r(268),[3,127,248],r(268),[6,255,240],r(268),[13,255,224],r(268),[27,255,192],r(268),[55,175,128],r(108),[112]],8e3:[Ae,r(268),[3,121,16],r(47),[7]]},i=e,ke=Object.keys(i).reduce(function(e,t){return e[t]=new Uint8Array(i[t].reduce(function(e,t){return e.concat(t)},[])),e},{})),ke},Me=c,Pe={prefixWithSilence:function(e,t,i,s){var r,n,a,o,l,d=0,h=0;if(t.length&&(n=Me.audioTsToVideoTs(e.baseMediaDecodeTime,e.samplerate),r=Math.ceil(Me.ONE_SECOND_IN_TS/(e.samplerate/1024)),i&&s&&(n=n-Math.max(i,s),h=(d=Math.floor(n/r))*r),!(d<1||h>Me.ONE_SECOND_IN_TS/2))){for(a=(a=Ne()[e.samplerate])||t[0].data,o=0;o<d;o++)l=t[0],t.splice(0,0,{data:a,dts:l.dts-r,pts:l.pts-r});return e.baseMediaDecodeTime-=Math.floor(Me.videoTsToAudioTs(h,e.samplerate)),h}},trimAdtsFramesByEarliestDts:function(e,t,i){return t.minSegmentDts>=i?e:(t.minSegmentDts=1/0,e.filter(function(e){return e.dts>=i&&(t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),t.minSegmentPts=t.minSegmentDts,!0)}))},generateSampleTable:function(e){for(var t,i=[],s=0;s<e.length;s++)t=e[s],i.push({size:t.data.byteLength,duration:1024});return i},concatenateFrameData:function(e){for(var t,i=0,s=new Uint8Array(function(e){for(var t=0,i=0;i<e.length;i++)t+=e[i].data.byteLength;return t}(e)),r=0;r<e.length;r++)t=e[r],s.set(t.data,i),i+=t.data.byteLength;return s}},Re=c.ONE_SECOND_IN_TS,Le={clearDtsInfo:function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},calculateTrackBaseMediaDecodeTime:function(e,t){var i=e.minSegmentDts;return t||(i-=e.timelineStartInfo.dts),t=e.timelineStartInfo.baseMediaDecodeTime,t+=i,t=Math.max(0,t),"audio"===e.type&&(t*=e.samplerate/Re,t=Math.floor(t)),t},collectDtsInfo:function(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),void 0===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),void 0===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))}},De={parseSei:function(e){for(var t=0,i={payloadType:-1,payloadSize:0},s=0,r=0;t<e.byteLength&&128!==e[t];){for(;255===e[t];)s+=255,t++;for(s+=e[t++];255===e[t];)r+=255,t++;if(r+=e[t++],!i.payload&&4===s){if("GA94"===String.fromCharCode(e[t+3],e[t+4],e[t+5],e[t+6])){i.payloadType=s,i.payloadSize=r,i.payload=e.subarray(t,t+r);break}i.payload=void 0}t+=r,r=s=0}return i},parseUserData:function(e){return 181!==e.payload[0]||49!=(e.payload[1]<<8|e.payload[2])||"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])||3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},parseCaptionPackets:function(e,t){var i,s,r,n,a=[];if(64&t[0])for(s=31&t[0],i=0;i<s;i++)n={type:3&t[2+(r=3*i)],pts:e},4&t[2+r]&&(n.ccData=t[3+r]<<8|t[4+r],a.push(n));return a},discardEmulationPreventionBytes:function(e){for(var t=e.byteLength,i=[],s=1;s<t-2;)0===e[s]&&0===e[s+1]&&3===e[s+2]?(i.push(s+2),s+=2):s++;if(0===i.length)return e;for(var r=t-i.length,n=new Uint8Array(r),a=0,s=0;s<r;a++,s++)a===i[0]&&(a++,i.shift()),n[s]=e[a];return n},USER_DATA_REGISTERED_ITU_T_T35:4},p=i,Ue=De,Be=((n.prototype=new p).push=function(e){var t;"sei_rbsp"===e.nalUnitType&&(t=Ue.parseSei(e.escapedRBSP)).payload&&t.payloadType===Ue.USER_DATA_REGISTERED_ITU_T_T35&&(t=Ue.parseUserData(t))&&(e.dts<this.latestDts_?this.ignoreNextEqualDts_=!0:e.dts===this.latestDts_&&this.ignoreNextEqualDts_?(this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1)):(t=Ue.parseCaptionPackets(e.pts,t),this.captionPackets_=this.captionPackets_.concat(t),this.latestDts_!==e.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=e.dts))},n.prototype.flushCCStreams=function(t){this.ccStreams_.forEach(function(e){return"flush"===t?e.flush():e.partialFlush()},this)},n.prototype.flushStream=function(e){this.captionPackets_.length&&(this.captionPackets_.forEach(function(e,t){e.presortIndex=t}),this.captionPackets_.sort(function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts}),this.captionPackets_.forEach(function(e){e.type<2?this.dispatchCea608Packet(e):this.dispatchCea708Packet(e)},this),this.captionPackets_.length=0),this.flushCCStreams(e)},n.prototype.flush=function(){return this.flushStream("flush")},n.prototype.partialFlush=function(){return this.flushStream("partialFlush")},n.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(e){e.reset()})},n.prototype.dispatchCea608Packet=function(e){this.setsTextOrXDSActive(e)?this.activeCea608Channel_[e.type]=null:this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},n.prototype.setsChannel1Active=function(e){return 4096==(30720&e.ccData)},n.prototype.setsChannel2Active=function(e){return 6144==(30720&e.ccData)},n.prototype.setsTextOrXDSActive=function(e){return 256==(28928&e.ccData)||4138==(30974&e.ccData)||6186==(30974&e.ccData)},n.prototype.dispatchCea708Packet=function(e){this.parse708captions_&&this.cc708Stream_.push(e)},{127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600}),m=(a.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},a.prototype.getText=function(){return this.rows.join("\n")},a.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},a.prototype.newLine=function(e){for(this.rows.length>=this.virtualRowCount&&"function"==typeof this.beforeRowOverflow&&this.beforeRowOverflow(e),0<this.rows.length&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},a.prototype.isEmpty=function(){return 0===this.rows.length||1===this.rows.length&&""===this.rows[0]},a.prototype.addText=function(e){this.rows[this.rowIdx]+=e},a.prototype.backspace=function(){var e;this.isEmpty()||(e=this.rows[this.rowIdx],this.rows[this.rowIdx]=e.substr(0,e.length-1))},Te.prototype.init=function(e,t){this.startPts=e;for(var i=0;i<8;i++)this.windows[i]=new a(i),"function"==typeof t&&(this.windows[i].beforeRowOverflow=t)},Te.prototype.setCurrentWindow=function(e){this.currentWindow=this.windows[e]},Te.prototype.createTextDecoder=function(t){if("undefined"==typeof TextDecoder)this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(t)}catch(e){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+t+" encoding. "+e})}},function(e){e=e||{},m.prototype.init.call(this);var t,i=this,s=e.captionServices||{},r={};Object.keys(s).forEach(e=>{t=s[e],/^SERVICE/.test(e)&&(r[e]=t.encoding)}),this.serviceEncodings=r,this.current708Packet=null,this.services={},this.push=function(e){(3===e.type||null===i.current708Packet)&&i.new708Packet(),i.add708Bytes(e)}}),Fe=(m.prototype=new p,m.prototype.new708Packet=function(){null!==this.current708Packet&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},m.prototype.add708Bytes=function(e){var t=e.ccData,i=t>>>8,t=255&t;this.current708Packet.ptsVals.push(e.pts),this.current708Packet.data.push(i),this.current708Packet.data.push(t)},m.prototype.push708Packet=function(){var e,t=this.current708Packet,i=t.data,s=null,r=0,n=i[r++];for(t.seq=n>>6,t.sizeCode=63&n;r<i.length;r++)e=31&(n=i[r++]),7===(s=n>>5)&&0<e&&(s=i[r++]),this.pushServiceBlock(s,r,e),0<e&&(r+=e-1)},m.prototype.pushServiceBlock=function(e,t,i){for(var s,r=t,n=this.current708Packet.data,a=(a=this.services[e])||this.initService(e,r);r<t+i&&r<n.length;r++)s=n[r],o(s)?r=this.handleText(r,a):24===s?r=this.multiByteCharacter(r,a):16===s?r=this.extendedCommands(r,a):128<=s&&s<=135?r=this.setCurrentWindow(r,a):152<=s&&s<=159?r=this.defineWindow(r,a):136===s?r=this.clearWindows(r,a):140===s?r=this.deleteWindows(r,a):137===s?r=this.displayWindows(r,a):138===s?r=this.hideWindows(r,a):139===s?r=this.toggleWindows(r,a):151===s?r=this.setWindowAttributes(r,a):144===s?r=this.setPenAttributes(r,a):145===s?r=this.setPenColor(r,a):146===s?r=this.setPenLocation(r,a):143===s?a=this.reset(r,a):8===s?a.currentWindow.backspace():12===s?a.currentWindow.clearText():13===s?a.currentWindow.pendingNewLine=!0:14===s?a.currentWindow.clearText():141===s&&r++},m.prototype.extendedCommands=function(e,t){var i=this.current708Packet.data[++e];return e=o(i)?this.handleText(e,t,{isExtended:!0}):e},m.prototype.getPts=function(e){return this.current708Packet.ptsVals[Math.floor(e/2)]},m.prototype.initService=function(t,e){var i,s="SERVICE"+t,r=this;return s in this.serviceEncodings&&(i=this.serviceEncodings[s]),this.services[t]=new Te(t,i,r),this.services[t].init(this.getPts(e),function(e){r.flushDisplayed(e,r.services[t])}),this.services[t]},m.prototype.handleText=function(e,t,i){var s,r=i&&i.isExtended,i=i&&i.isMultiByte,n=this.current708Packet.data,a=r?4096:0,o=n[e],n=n[e+1],l=t.currentWindow,n=t.textDecoder_&&!r?(i?(s=[o,n],e++):s=[o],t.textDecoder_.decode(new Uint8Array(s))):(i=Be[r=a|o]||r,4096&r&&r===i?"":String.fromCharCode(i));return l.pendingNewLine&&!l.isEmpty()&&l.newLine(this.getPts(e)),l.pendingNewLine=!1,l.addText(n),e},m.prototype.multiByteCharacter=function(e,t){var i=this.current708Packet.data,s=i[e+1],i=i[e+2];return e=o(s)&&o(i)?this.handleText(++e,t,{isMultiByte:!0}):e},m.prototype.setCurrentWindow=function(e,t){var i=this.current708Packet.data[e];return t.setCurrentWindow(7&i),e},m.prototype.defineWindow=function(e,t){var i=this.current708Packet.data,s=i[e],t=(t.setCurrentWindow(7&s),t.currentWindow),s=i[++e];return t.visible=(32&s)>>5,t.rowLock=(16&s)>>4,t.columnLock=(8&s)>>3,t.priority=7&s,s=i[++e],t.relativePositioning=(128&s)>>7,t.anchorVertical=127&s,s=i[++e],t.anchorHorizontal=s,s=i[++e],t.anchorPoint=(240&s)>>4,t.rowCount=15&s,s=i[++e],t.columnCount=63&s,s=i[++e],t.windowStyle=(56&s)>>3,t.penStyle=7&s,t.virtualRowCount=t.rowCount+1,e},m.prototype.setWindowAttributes=function(e,t){var i=this.current708Packet.data,t=(i[e],t.currentWindow.winAttr),s=i[++e];return t.fillOpacity=(192&s)>>6,t.fillRed=(48&s)>>4,t.fillGreen=(12&s)>>2,t.fillBlue=3&s,s=i[++e],t.borderType=(192&s)>>6,t.borderRed=(48&s)>>4,t.borderGreen=(12&s)>>2,t.borderBlue=3&s,s=i[++e],t.borderType+=(128&s)>>5,t.wordWrap=(64&s)>>6,t.printDirection=(48&s)>>4,t.scrollDirection=(12&s)>>2,t.justify=3&s,s=i[++e],t.effectSpeed=(240&s)>>4,t.effectDirection=(12&s)>>2,t.displayEffect=3&s,e},m.prototype.flushDisplayed=function(e,t){for(var i=[],s=0;s<8;s++)t.windows[s].visible&&!t.windows[s].isEmpty()&&i.push(t.windows[s].getText());t.endPts=e,t.text=i.join("\n\n"),this.pushCaption(t),t.startPts=e},m.prototype.pushCaption=function(e){""!==e.text&&(this.trigger("data",{startPts:e.startPts,endPts:e.endPts,text:e.text,stream:"cc708_"+e.serviceNum}),e.text="",e.startPts=e.endPts)},m.prototype.displayWindows=function(e,t){var i=this.current708Packet.data[++e],s=this.getPts(e);this.flushDisplayed(s,t);for(var r=0;r<8;r++)i&1<<r&&(t.windows[r].visible=1);return e},m.prototype.hideWindows=function(e,t){var i=this.current708Packet.data[++e],s=this.getPts(e);this.flushDisplayed(s,t);for(var r=0;r<8;r++)i&1<<r&&(t.windows[r].visible=0);return e},m.prototype.toggleWindows=function(e,t){var i=this.current708Packet.data[++e],s=this.getPts(e);this.flushDisplayed(s,t);for(var r=0;r<8;r++)i&1<<r&&(t.windows[r].visible^=1);return e},m.prototype.clearWindows=function(e,t){var i=this.current708Packet.data[++e],s=this.getPts(e);this.flushDisplayed(s,t);for(var r=0;r<8;r++)i&1<<r&&t.windows[r].clearText();return e},m.prototype.deleteWindows=function(e,t){var i=this.current708Packet.data[++e],s=this.getPts(e);this.flushDisplayed(s,t);for(var r=0;r<8;r++)i&1<<r&&t.windows[r].reset();return e},m.prototype.setPenAttributes=function(e,t){var i=this.current708Packet.data,t=(i[e],t.currentWindow.penAttr),s=i[++e];return t.textTag=(240&s)>>4,t.offset=(12&s)>>2,t.penSize=3&s,s=i[++e],t.italics=(128&s)>>7,t.underline=(64&s)>>6,t.edgeType=(56&s)>>3,t.fontStyle=7&s,e},m.prototype.setPenColor=function(e,t){var i=this.current708Packet.data,t=(i[e],t.currentWindow.penColor),s=i[++e];return t.fgOpacity=(192&s)>>6,t.fgRed=(48&s)>>4,t.fgGreen=(12&s)>>2,t.fgBlue=3&s,s=i[++e],t.bgOpacity=(192&s)>>6,t.bgRed=(48&s)>>4,t.bgGreen=(12&s)>>2,t.bgBlue=3&s,s=i[++e],t.edgeRed=(48&s)>>4,t.edgeGreen=(12&s)>>2,t.edgeBlue=3&s,e},m.prototype.setPenLocation=function(e,t){var i=this.current708Packet.data,s=(i[e],t.currentWindow.penLoc);return t.currentWindow.pendingNewLine=!0,t=i[++e],s.row=15&t,t=i[++e],s.column=63&t,e},m.prototype.reset=function(e,t){var i=this.getPts(e);return this.flushDisplayed(i,t),this.initService(t.serviceNum,e)},{42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496}),je=14,He=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],g=function(e,t){g.prototype.init.call(this),this.field_=e||0,this.dataChannel_=t||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,i,s,r,n=32639&e.ccData;n===this.lastControlCode_?this.lastControlCode_=null:(4096==(61440&n)?this.lastControlCode_=n:n!==this.PADDING_&&(this.lastControlCode_=null),t=n>>>8,i=255&n,n!==this.PADDING_&&(n===this.RESUME_CAPTION_LOADING_?this.mode_="popOn":n===this.END_OF_CAPTION_?(this.mode_="popOn",this.clearFormatting(e.pts),this.flushDisplayed(e.pts),r=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=r,this.startPts_=e.pts):n===this.ROLL_UP_2_ROWS_?(this.rollUpRows_=2,this.setRollUp(e.pts)):n===this.ROLL_UP_3_ROWS_?(this.rollUpRows_=3,this.setRollUp(e.pts)):n===this.ROLL_UP_4_ROWS_?(this.rollUpRows_=4,this.setRollUp(e.pts)):n===this.CARRIAGE_RETURN_?(this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts):n===this.BACKSPACE_?"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1):n===this.ERASE_DISPLAYED_MEMORY_?(this.flushDisplayed(e.pts),this.displayed_=h()):n===this.ERASE_NON_DISPLAYED_MEMORY_?this.nonDisplayed_=h():n===this.RESUME_DIRECT_CAPTIONING_?("paintOn"!==this.mode_&&(this.flushDisplayed(e.pts),this.displayed_=h()),this.mode_="paintOn",this.startPts_=e.pts):this.isSpecialCharacter(t,i)?(s=Se((t=(3&t)<<8)|i),this[this.mode_](e.pts,s),this.column_++):this.isExtCharacter(t,i)?("popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),s=Se((t=(3&t)<<8)|i),this[this.mode_](e.pts,s),this.column_++):this.isMidRowCode(t,i)?(this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14==(14&i)&&this.addFormatting(e.pts,["i"]),1==(1&i)&&this.addFormatting(e.pts,["u"])):this.isOffsetControlCode(t,i)?this.column_+=3&i:this.isPAC(t,i)?(r=He.indexOf(7968&n),"rollUp"===this.mode_&&(r-this.rollUpRows_+1<0&&(r=this.rollUpRows_-1),this.setRollUp(e.pts,r)),r!==this.row_&&(this.clearFormatting(e.pts),this.row_=r),1&i&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),16==(16&n)&&(this.column_=4*((14&n)>>1)),this.isColorPAC(i)&&14==(14&i)&&this.addFormatting(e.pts,["i"])):this.isNormalChar(t)&&(0===i&&(i=null),s=Se(t),s+=Se(i),this[this.mode_](e.pts,s),this.column_+=s.length)))}},p=(g.prototype=new p,g.prototype.flushDisplayed=function(e){var t=this.displayed_.map(function(e,t){try{return e.trim()}catch(e){return this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+t+"."}),""}},this).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})},g.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=h(),this.nonDisplayed_=h(),this.lastControlCode_=null,this.column_=0,this.row_=je,this.rollUpRows_=2,this.formatting_=[]},g.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},g.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&48<=t&&t<=63},g.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&32<=t&&t<=63},g.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&32<=t&&t<=47},g.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&33<=t&&t<=35},g.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&64<=t&&t<=127},g.prototype.isColorPAC=function(e){return 64<=e&&e<=79||96<=e&&e<=127},g.prototype.isNormalChar=function(e){return 32<=e&&e<=127},g.prototype.setRollUp=function(e,t){if("rollUp"!==this.mode_&&(this.row_=je,this.mode_="rollUp",this.flushDisplayed(e),this.nonDisplayed_=h(),this.displayed_=h()),void 0!==t&&t!==this.row_)for(var i=0;i<this.rollUpRows_;i++)this.displayed_[t-i]=this.displayed_[this.row_-i],this.displayed_[this.row_-i]="";void 0===t&&(t=this.row_),this.topRow_=t-this.rollUpRows_+1},g.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);t=t.reduce(function(e,t){return e+"<"+t+">"},"");this[this.mode_](e,t)},g.prototype.clearFormatting=function(e){var t;this.formatting_.length&&(t=this.formatting_.reverse().reduce(function(e,t){return e+"</"+t+">"},""),this.formatting_=[],this[this.mode_](e,t))},g.prototype.popOn=function(e,t){var i=this.nonDisplayed_[this.row_];this.nonDisplayed_[this.row_]=i+=t},g.prototype.rollUp=function(e,t){var i=this.displayed_[this.row_];this.displayed_[this.row_]=i+=t},g.prototype.shiftRowsUp_=function(){for(var e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.row_+1;e<je+1;e++)this.displayed_[e]="";for(e=this.topRow_;e<this.row_;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[this.row_]=""},g.prototype.paintOn=function(e,t){var i=this.displayed_[this.row_];this.displayed_[this.row_]=i+=t},{CaptionStream:n,Cea608Stream:g,Cea708Stream:m}),qe={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Ve=i,$e=8589934592,We=4294967296;Ee.prototype=new Ve;function Ge(e,t,i){for(var s="",r=t;r<i;r++)s+="%"+("00"+e[r].toString(16)).slice(-2);return s}function f(e,t,i){return decodeURIComponent(Ge(e,t,i))}function y(e,t,i){return unescape(Ge(e,t,i))}function _(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]}var ze,Xe,Ke,Ve=Ee,Ye=we,Qe=(e,t,i)=>{if(e)for(var s=i;s<e.length;s++)if(e[s]===t)return s;return-1},Je=3,v={APIC:function(e){var t,i=1;e.data[0]!==Je||(t=Qe(e.data,0,1))<0||(e.mimeType=y(e.data,1,t),e.pictureType=e.data[i=t+1],(t=Qe(e.data,0,++i))<0)||(e.description=f(e.data,i,t),i=t+1,"--\x3e"===e.mimeType?e.url=y(e.data,i,e.data.length):e.pictureData=e.data.subarray(i,e.data.length))},"T*":function(e){e.data[0]===Je&&(e.value=f(e.data,1,e.data.length).replace(/\0*$/,""),e.values=e.value.split("\0"))},TXXX:function(e){var t;e.data[0]===Je&&-1!==(t=Qe(e.data,0,1))&&(e.description=f(e.data,1,t),e.value=f(e.data,t+1,e.data.length).replace(/\0*$/,""),e.data=e.value)},"W*":function(e){e.url=y(e.data,0,e.data.length).replace(/\0.*$/,"")},WXXX:function(e){var t;e.data[0]===Je&&-1!==(t=Qe(e.data,0,1))&&(e.description=f(e.data,1,t),e.url=y(e.data,t+1,e.data.length).replace(/\0.*$/,""))},PRIV:function(e){for(var t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=y(e.data,0,t);break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}},b={parseId3Frames:function(e){var t,i=10,s=0,r=[];if(!(e.length<10||e[0]!=="I".charCodeAt(0)||e[1]!=="D".charCodeAt(0)||e[2]!=="3".charCodeAt(0))){s=_(e.subarray(6,10));s+=10,64&e[5]&&(i=(i+=4)+_(e.subarray(10,14)),s-=_(e.subarray(16,20)));do{if((t=_(e.subarray(i+4,i+8)))<1)break;var n={id:String.fromCharCode(e[i],e[i+1],e[i+2],e[i+3]),data:e.subarray(i+10,i+t+10)}}while(n.key=n.id,v[n.id]?v[n.id](n):"T"===n.id[0]?v["T*"](n):"W"===n.id[0]&&v["W*"](n),r.push(n),(i=i+10+t)<s);return r}},parseSyncSafeInteger:_,frameParsers:v},T=i,Ze=qe,S=b,et=function(e){var t,i={descriptor:e&&e.descriptor},l=0,d=[],h=0;if(et.prototype.init.call(this),this.dispatchType=Ze.METADATA_STREAM_TYPE.toString(16),i.descriptor)for(t=0;t<i.descriptor.length;t++)this.dispatchType+=("00"+i.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,i,s,r,n,a,o;if("timed-metadata"===e.type)if(e.dataAlignmentIndicator&&(h=0,d.length=0),0===d.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});else if(d.push(e),h+=e.data.byteLength,1===d.length&&(l=S.parseSyncSafeInteger(e.data.subarray(6,10)),l+=10),!(h<l)){for(t={data:new Uint8Array(l),frames:[],pts:d[0].pts,dts:d[0].dts},r=0;r<l;)t.data.set(d[0].data.subarray(0,l-r),r),r+=d[0].data.byteLength,h-=d[0].data.byteLength,d.shift();i=10,64&t.data[5]&&(i=(i+=4)+S.parseSyncSafeInteger(t.data.subarray(10,14)),l-=S.parseSyncSafeInteger(t.data.subarray(16,20)));do{if((s=S.parseSyncSafeInteger(t.data.subarray(i+4,i+8)))<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping remaining metadata parsing."});break}}while((o={id:String.fromCharCode(t.data[i],t.data[i+1],t.data[i+2],t.data[i+3]),data:t.data.subarray(i+10,i+s+10)}).key=o.id,S.frameParsers[o.id]?S.frameParsers[o.id](o):"T"===o.id[0]?S.frameParsers["T*"](o):"W"===o.id[0]&&S.frameParsers["W*"](o),"com.apple.streaming.transportStreamTimestamp"===o.owner&&(a=(1&(n=o.data)[3])<<30|n[4]<<22|n[5]<<14|n[6]<<6|n[7]>>>2,a=(a*=4)+(3&n[7]),o.timeStamp=a,void 0===t.pts&&void 0===t.dts&&(t.pts=o.timeStamp,t.dts=o.timeStamp),this.trigger("timestamp",o)),t.frames.push(o),(i=i+10+s)<l);this.trigger("data",t)}}},b=(et.prototype=new T,et),T=i,tt=p,w=qe,it=function(){var r=new Uint8Array(188),n=0;it.prototype.init.call(this),this.push=function(e){var t,i=0,s=188;for(n?((t=new Uint8Array(e.byteLength+n)).set(r.subarray(0,n)),t.set(e,n),n=0):t=e;s<t.byteLength;)71===t[i]&&71===t[s]?(this.trigger("data",t.subarray(i,s)),i+=188,s+=188):(i++,s++);i<t.byteLength&&(r.set(t.subarray(i),0),n=t.byteLength-i)},this.flush=function(){188===n&&71===r[0]&&(this.trigger("data",r),n=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){n=0,this.trigger("reset")}},st=(it.prototype=new T,(ze=function(){var s,r,n,a;ze.prototype.init.call(this),(a=this).packetsWaitingForPmt=[],this.programMapTable=void 0,s=function(e,t){var i=0;t.payloadUnitStartIndicator&&(i+=e[i]+1),("pat"===t.type?r:n)(e.subarray(i),t)},r=function(e,t){t.section_number=e[7],t.last_section_number=e[8],a.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=a.pmtPid},n=function(e,t){var i,s;if(1&e[5]){for(a.programMapTable={video:null,audio:null,"timed-metadata":{}},i=3+((15&e[1])<<8|e[2])-4,s=12+((15&e[10])<<8|e[11]);s<i;){var r=e[s],n=(31&e[s+1])<<8|e[s+2];r===w.H264_STREAM_TYPE&&null===a.programMapTable.video?a.programMapTable.video=n:r===w.ADTS_STREAM_TYPE&&null===a.programMapTable.audio?a.programMapTable.audio=n:r===w.METADATA_STREAM_TYPE&&(a.programMapTable["timed-metadata"][n]=r),s+=5+((15&e[s+3])<<8|e[s+4])}t.programMapTable=a.programMapTable}},this.push=function(e){var t={},i=4;if(t.payloadUnitStartIndicator=!!(64&e[1]),t.pid=31&e[1],t.pid<<=8,t.pid|=e[2],1<(48&e[3])>>>4&&(i+=e[i]+1),0===t.pid)t.type="pat",s(e.subarray(i),t),this.trigger("data",t);else if(t.pid===this.pmtPid)for(t.type="pmt",s(e.subarray(i),t),this.trigger("data",t);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([e,i,t]):this.processPes_(e,i,t)},this.processPes_=function(e,t,i){i.pid===this.programMapTable.video?i.streamType=w.H264_STREAM_TYPE:i.pid===this.programMapTable.audio?i.streamType=w.ADTS_STREAM_TYPE:i.streamType=this.programMapTable["timed-metadata"][i.pid],i.type="pes",i.data=e.subarray(t),this.trigger("data",i)}}).prototype=new T,ze.STREAM_TYPES={h264:27,adts:15},(Xe=function(){function s(e,t,i){var s,r=new Uint8Array(e.size),n={type:t},a=0,o=0;if(e.data.length&&!(e.size<9)){for(n.trackId=e.data[0].pid,a=0;a<e.data.length;a++)s=e.data[a],r.set(s.data,o),o+=s.data.byteLength;d(r,n),t="video"===t||n.packetLength<=e.size,(i||t)&&(e.size=0,e.data.length=0),t&&l.trigger("data",n)}}var t,l=this,r=!1,n={data:[],size:0},a={data:[],size:0},o={data:[],size:0},d=function(e,t){var i=e[0]<<16|e[1]<<8|e[2];t.data=new Uint8Array,1==i&&(t.packetLength=6+(e[4]<<8|e[5]),t.dataAlignmentIndicator=0!=(4&e[6]),192&(i=e[7])&&(t.pts=(14&e[9])<<27|(255&e[10])<<20|(254&e[11])<<12|(255&e[12])<<5|(254&e[13])>>>3,t.pts*=4,t.pts+=(6&e[13])>>>1,t.dts=t.pts,64&i)&&(t.dts=(14&e[14])<<27|(255&e[15])<<20|(254&e[16])<<12|(255&e[17])<<5|(254&e[18])>>>3,t.dts*=4,t.dts+=(6&e[18])>>>1),t.data=e.subarray(9+e[8]))};Xe.prototype.init.call(this),this.push=function(i){({pat:function(){},pes:function(){var e,t;switch(i.streamType){case w.H264_STREAM_TYPE:e=n,t="video";break;case w.ADTS_STREAM_TYPE:e=a,t="audio";break;case w.METADATA_STREAM_TYPE:e=o,t="timed-metadata";break;default:return}i.payloadUnitStartIndicator&&s(e,t,!0),e.data.push(i),e.size+=i.data.byteLength},pmt:function(){var e={type:"metadata",tracks:[]};null!==(t=i.programMapTable).video&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.video,codec:"avc",type:"video"}),null!==t.audio&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.audio,codec:"adts",type:"audio"}),r=!0,l.trigger("data",e)}})[i.type]()},this.reset=function(){n.size=0,n.data.length=0,a.size=0,a.data.length=0,this.trigger("reset")},this.flushStreams_=function(){s(n,"video"),s(a,"audio"),s(o,"timed-metadata")},this.flush=function(){var e;!r&&t&&(e={type:"metadata",tracks:[]},null!==t.video&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.video,codec:"avc",type:"video"}),null!==t.audio&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.audio,codec:"adts",type:"audio"}),l.trigger("data",e)),r=!1,this.flushStreams_(),this.trigger("done")}}).prototype=new T,{PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:it,TransportParseStream:ze,ElementaryStream:Xe,TimestampRolloverStream:Ve,CaptionStream:tt.CaptionStream,Cea608Stream:tt.Cea608Stream,Cea708Stream:tt.Cea708Stream,MetadataStream:b});for(Ke in w)w.hasOwnProperty(Ke)&&(st[Ke]=w[Ke]);var rt,nt,T=st,Ve=i,at=c.ONE_SECOND_IN_TS,ot=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],lt=function(l){var d,h=0;lt.prototype.init.call(this),this.skipWarn_=function(e,t){this.trigger("log",{level:"warn",message:`adts skiping bytes ${e} to ${t} in frame ${h} outside syncword`})},this.push=function(e){var t,i,s,r,n,a,o=0;if(l||(h=0),"audio"===e.type){for(d&&d.length?(s=d,(d=new Uint8Array(s.byteLength+e.data.byteLength)).set(s),d.set(e.data,s.byteLength)):d=e.data;o+7<d.length;)if(255!==d[o]||240!=(246&d[o+1]))"number"!=typeof a&&(a=o),o++;else{if("number"==typeof a&&(this.skipWarn_(a,o),a=null),i=2*(1&~d[o+1]),t=(3&d[o+3])<<11|d[o+4]<<3|(224&d[o+5])>>5,n=(r=1024*(1+(3&d[o+6])))*at/ot[(60&d[o+2])>>>2],d.byteLength-o<t)break;this.trigger("data",{pts:e.pts+h*n,dts:e.dts+h*n,sampleCount:r,audioobjecttype:1+(d[o+2]>>>6&3),channelcount:(1&d[o+2])<<2|(192&d[o+3])>>>6,samplerate:ot[(60&d[o+2])>>>2],samplingfrequencyindex:(60&d[o+2])>>>2,samplesize:16,data:d.subarray(o+7+i,o+t)}),h++,o+=t}"number"==typeof a&&(this.skipWarn_(a,o),a=null),d=d.subarray(o)}},this.flush=function(){h=0,this.trigger("done")},this.reset=function(){d=void 0,this.trigger("reset")},this.endTimeline=function(){d=void 0,this.trigger("endedtimeline")}},tt=(lt.prototype=new Ve,lt),b=i,dt=function(s){var r=s.byteLength,n=0,a=0;this.length=function(){return 8*r},this.bitsAvailable=function(){return 8*r+a},this.loadWord=function(){var e=s.byteLength-r,t=new Uint8Array(4),i=Math.min(4,r);if(0===i)throw new Error("no bytes available");t.set(s.subarray(e,e+i)),n=new DataView(t.buffer).getUint32(0),a=8*i,r-=i},this.skipBits=function(e){var t;e<a||(e=(e-=a)-8*(t=Math.floor(e/8)),r-=t,this.loadWord()),n<<=e,a-=e},this.readBits=function(e){var t=Math.min(a,e),i=n>>>32-t;return 0<(a-=t)?n<<=t:0<r&&this.loadWord(),0<(t=e-t)?i<<t|this.readBits(t):i},this.skipLeadingZeros=function(){for(var e=0;e<a;++e)if(0!=(n&2147483648>>>e))return n<<=e,a-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()},ht=function(){var s,r,n=0;ht.prototype.init.call(this),this.push=function(e){for(var t,i=(r=r?((t=new Uint8Array(r.byteLength+e.data.byteLength)).set(r),t.set(e.data,r.byteLength),t):e.data).byteLength;n<i-3;n++)if(1===r[n+2]){s=n+5;break}for(;s<i;)switch(r[s]){case 0:if(0!==r[s-1])s+=2;else if(0!==r[s-2])s++;else{for(n+3!==s-2&&this.trigger("data",r.subarray(n+3,s-2));1!==r[++s]&&s<i;);n=s-2,s+=3}break;case 1:0!==r[s-1]||0!==r[s-2]?s+=3:(this.trigger("data",r.subarray(n+3,s-2)),n=s-2,s+=3);break;default:s+=3}r=r.subarray(n),s-=n,n=0},this.reset=function(){r=null,n=0,this.trigger("reset")},this.flush=function(){r&&3<r.byteLength&&this.trigger("data",r.subarray(n+3)),r=null,n=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}};ht.prototype=new b,nt={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(rt=function(){var i,s,r,n,a,o,g,t=new ht;rt.prototype.init.call(this),(i=this).push=function(e){"video"===e.type&&(s=e.trackId,r=e.pts,n=e.dts,t.push(e))},t.on("data",function(e){var t={trackId:s,pts:r,dts:n,data:e,nalUnitTypeCode:31&e[0]};switch(t.nalUnitTypeCode){case 5:t.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:t.nalUnitType="sei_rbsp",t.escapedRBSP=a(e.subarray(1));break;case 7:t.nalUnitType="seq_parameter_set_rbsp",t.escapedRBSP=a(e.subarray(1)),t.config=o(t.escapedRBSP);break;case 8:t.nalUnitType="pic_parameter_set_rbsp";break;case 9:t.nalUnitType="access_unit_delimiter_rbsp"}i.trigger("data",t)}),t.on("done",function(){i.trigger("done")}),t.on("partialdone",function(){i.trigger("partialdone")}),t.on("reset",function(){i.trigger("reset")}),t.on("endedtimeline",function(){i.trigger("endedtimeline")}),this.flush=function(){t.flush()},this.partialFlush=function(){t.partialFlush()},this.reset=function(){t.reset()},this.endTimeline=function(){t.endTimeline()},g=function(e,t){for(var i=8,s=8,r=0;r<e;r++)i=0===(s=0!==s?(i+t.readExpGolomb()+256)%256:s)?i:s},a=function(e){for(var t=e.byteLength,i=[],s=1;s<t-2;)0===e[s]&&0===e[s+1]&&3===e[s+2]?(i.push(s+2),s+=2):s++;if(0===i.length)return e;for(var r=t-i.length,n=new Uint8Array(r),a=0,s=0;s<r;a++,s++)a===i[0]&&(a++,i.shift()),n[s]=e[a];return n},o=function(e){var t,i,s,r,n,a,o=0,l=0,d=0,h=0,u=[1,1],c=new dt(e),e=c.readUnsignedByte(),p=c.readUnsignedByte(),m=c.readUnsignedByte();if(c.skipUnsignedExpGolomb(),nt[e]&&(3===(i=c.readUnsignedExpGolomb())&&c.skipBits(1),c.skipUnsignedExpGolomb(),c.skipUnsignedExpGolomb(),c.skipBits(1),c.readBoolean()))for(n=3!==i?8:12,a=0;a<n;a++)c.readBoolean()&&g(a<6?16:64,c);if(c.skipUnsignedExpGolomb(),0===(i=c.readUnsignedExpGolomb()))c.readUnsignedExpGolomb();else if(1===i)for(c.skipBits(1),c.skipExpGolomb(),c.skipExpGolomb(),t=c.readUnsignedExpGolomb(),a=0;a<t;a++)c.skipExpGolomb();if(c.skipUnsignedExpGolomb(),c.skipBits(1),i=c.readUnsignedExpGolomb(),s=c.readUnsignedExpGolomb(),0===(r=c.readBits(1))&&c.skipBits(1),c.skipBits(1),c.readBoolean()&&(o=c.readUnsignedExpGolomb(),l=c.readUnsignedExpGolomb(),d=c.readUnsignedExpGolomb(),h=c.readUnsignedExpGolomb()),c.readBoolean()&&c.readBoolean()){switch(c.readUnsignedByte()){case 1:u=[1,1];break;case 2:u=[12,11];break;case 3:u=[10,11];break;case 4:u=[16,11];break;case 5:u=[40,33];break;case 6:u=[24,11];break;case 7:u=[20,11];break;case 8:u=[32,11];break;case 9:u=[80,33];break;case 10:u=[18,11];break;case 11:u=[15,11];break;case 12:u=[64,33];break;case 13:u=[160,99];break;case 14:u=[4,3];break;case 15:u=[3,2];break;case 16:u=[2,1];break;case 255:u=[c.readUnsignedByte()<<8|c.readUnsignedByte(),c.readUnsignedByte()<<8|c.readUnsignedByte()]}u&&(u[0],u[1])}return{profileIdc:e,levelIdc:m,profileCompatibility:p,width:16*(i+1)-2*o-2*l,height:(2-r)*(s+1)*16-2*d-2*h,sarRatio:u}}}).prototype=new b;function ut(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]}var Ve=rt,ct=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],pt=function(e,t){var i=0<=(i=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9])?i:0;return(16&e[t+5])>>4?20+i:10+i},mt=function(e,t){return e.length-t<10||e[t]!=="I".charCodeAt(0)||e[t+1]!=="D".charCodeAt(0)||e[t+2]!=="3".charCodeAt(0)?t:(t+=pt(e,t),mt(e,t))},gt=function(e,t,i){for(var s="",r=t;r<i;r++)s+="%"+("00"+e[r].toString(16)).slice(-2);return s},b={isLikelyAacData:function(e){var t=mt(e,0);return e.length>=t+2&&255==(255&e[t])&&240==(240&e[t+1])&&16==(22&e[t+1])},parseId3TagSize:pt,parseAdtsSize:function(e,t){var i=(224&e[t+5])>>5,s=e[t+4]<<3;return 6144&e[t+3]|s|i},parseType:function(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":!0&e[t]&&240==(240&e[t+1])?"audio":null},parseSampleRate:function(e){for(var t=0;t+5<e.length;){if(255===e[t]&&240==(246&e[t+1]))return ct[(60&e[t+2])>>>2];t++}return null},parseAacTimestamp:function(e){var t,i=10;64&e[5]&&(i=(i+=4)+ut(e.subarray(10,14)));do{if((t=ut(e.subarray(i+4,i+8)))<1)return null;if("PRIV"===String.fromCharCode(e[i],e[i+1],e[i+2],e[i+3]))for(var s,r,n=e.subarray(i+10,i+t+10),a=0;a<n.byteLength;a++)if(0===n[a]){if("com.apple.streaming.transportStreamTimestamp"===unescape(gt(n,0,a)))return r=(1&(s=n.subarray(a+1))[3])<<30|s[4]<<22|s[5]<<14|s[6]<<6|s[7]>>>2,(r*=4)+(3&s[7]);break}}while((i=i+10+t)<e.byteLength);return null}},E=i,ft=b,yt=function(){var n=new Uint8Array,a=0;yt.prototype.init.call(this),this.setTimestamp=function(e){a=e},this.push=function(e){var t,i,s=0,r=0;for(n.length?(i=n.length,(n=new Uint8Array(e.byteLength+i)).set(n.subarray(0,i)),n.set(e,i)):n=e;3<=n.length-r;)if(n[r]==="I".charCodeAt(0)&&n[r+1]==="D".charCodeAt(0)&&n[r+2]==="3".charCodeAt(0)){if(n.length-r<10)break;if(r+(s=ft.parseId3TagSize(n,r))>n.length)break;t={type:"timed-metadata",data:n.subarray(r,r+s)},this.trigger("data",t),r+=s}else if(255==(255&n[r])&&240==(240&n[r+1])){if(n.length-r<7)break;if(r+(s=ft.parseAdtsSize(n,r))>n.length)break;t={type:"audio",data:n.subarray(r,r+s),pts:a,dts:a},this.trigger("data",t),r+=s}else r++;i=n.length-r,n=0<i?n.subarray(r):new Uint8Array},this.reset=function(){n=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){n=new Uint8Array,this.trigger("endedtimeline")}};yt.prototype=new E;function _t(e,t){for(var i=Object.keys(t),s=0;s<i.length;s++){var r=i[s];"headOfPipeline"!==r&&t[r].on&&t[r].on("log",Ot.bind(e,r))}}function vt(e,t){var i;if(e.length===t.length){for(i=0;i<e.length;i++)if(e[i]!==t[i])return;return 1}}function bt(e,t,i,s,r,n){return{start:{dts:e,pts:e+(i-t)},end:{dts:e+(s-t),pts:e+(r-i)},prependedContentDuration:n,baseMediaDecodeTime:e}}var Tt,St,k,E=i,C=Ce,I=xe,wt=Pe,x=Le,A=T,Et=c,kt=tt,Ct=Ve,It=yt,xt=b.isLikelyAacData,At=c.ONE_SECOND_IN_TS,Pt=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Lt=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],Ot=function(e,t){t.stream=e,this.trigger("log",t)},Dt=function(n,a){var o=[],l=0,d=0,h=1/0,u=(a=a||{}).firstSequenceNumber||0;Dt.prototype.init.call(this),this.push=function(t){x.collectDtsInfo(n,t),n&&Pt.forEach(function(e){n[e]=t[e]}),o.push(t)},this.setEarliestDts=function(e){l=e},this.setVideoBaseMediaDecodeTime=function(e){h=e},this.setAudioAppendStart=function(e){d=e},this.flush=function(){var e,t,i,s,r;0!==o.length&&(e=wt.trimAdtsFramesByEarliestDts(o,n,l),n.baseMediaDecodeTime=x.calculateTrackBaseMediaDecodeTime(n,a.keepOriginalTimestamps),r=wt.prefixWithSilence(n,e,d,h),n.samples=wt.generateSampleTable(e),i=C.mdat(wt.concatenateFrameData(e)),o=[],s=C.moof(u,[n]),t=new Uint8Array(s.byteLength+i.byteLength),u++,t.set(s),t.set(i,s.byteLength),x.clearDtsInfo(n),i=Math.ceil(1024*At/n.samplerate),e.length&&(s=e.length*i,this.trigger("segmentTimingInfo",bt(Et.audioTsToVideoTs(n.baseMediaDecodeTime,n.samplerate),e[0].dts,e[0].pts,e[0].dts+s,e[0].pts+s,r||0)),this.trigger("timingInfo",{start:e[0].pts,end:e[0].pts+s})),this.trigger("data",{track:n,boxes:t})),this.trigger("done","AudioSegmentStream")},this.reset=function(){x.clearDtsInfo(n),o=[],this.trigger("reset")}};Dt.prototype=new E,(Tt=function(a,n){var t,i,o=[],d=[],l=(n=n||{}).firstSequenceNumber||0;Tt.prototype.init.call(this),delete a.minPTS,this.gopCache_=[],this.push=function(e){x.collectDtsInfo(a,e),"seq_parameter_set_rbsp"!==e.nalUnitType||t||(t=e.config,a.sps=[e.data],Lt.forEach(function(e){a[e]=t[e]},this)),"pic_parameter_set_rbsp"!==e.nalUnitType||i||(i=e.data,a.pps=[e.data]),o.push(e)},this.flush=function(){for(var e,t,i,s=0;o.length&&"access_unit_delimiter_rbsp"!==o[0].nalUnitType;)o.shift();if(0!==o.length){if(e=I.groupNalsIntoFrames(o),(e=I.groupFramesIntoGops(e))[0][0].keyFrame||((r=this.getGopForFusion_(o[0],a))?(s=r.duration,e.unshift(r),e.byteLength+=r.byteLength,e.nalCount+=r.nalCount,e.pts=r.pts,e.dts=r.dts,e.duration+=r.duration):e=I.extendFirstKeyFrame(e)),d.length){var r=n.alignGopsAtEnd?this.alignGopsAtEnd_(e):this.alignGopsAtStart_(e);if(!r)return this.gopCache_.unshift({gop:e.pop(),pps:a.pps,sps:a.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");x.clearDtsInfo(a),e=r}x.collectDtsInfo(a,e),a.samples=I.generateSampleTable(e),r=C.mdat(I.concatenateNalData(e)),a.baseMediaDecodeTime=x.calculateTrackBaseMediaDecodeTime(a,n.keepOriginalTimestamps),this.trigger("processedGopsInfo",e.map(function(e){return{pts:e.pts,dts:e.dts,byteLength:e.byteLength}})),t=e[0],i=e[e.length-1],this.trigger("segmentTimingInfo",bt(a.baseMediaDecodeTime,t.dts,t.pts,i.dts+i.duration,i.pts+i.duration,s)),this.trigger("timingInfo",{start:e[0].pts,end:e[e.length-1].pts+e[e.length-1].duration}),this.gopCache_.unshift({gop:e.pop(),pps:a.pps,sps:a.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.trigger("baseMediaDecodeTime",a.baseMediaDecodeTime),this.trigger("timelineStartInfo",a.timelineStartInfo),t=C.moof(l,[a]),i=new Uint8Array(t.byteLength+r.byteLength),l++,i.set(t),i.set(r,t.byteLength),this.trigger("data",{track:a,boxes:i})}this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),o=[],this.gopCache_.length=0,d.length=0,this.trigger("reset")},this.resetStream_=function(){x.clearDtsInfo(a),i=t=void 0},this.getGopForFusion_=function(e){for(var t,i,s,r=1/0,n=0;n<this.gopCache_.length;n++)i=(s=this.gopCache_[n]).gop,a.pps&&vt(a.pps[0],s.pps[0])&&a.sps&&vt(a.sps[0],s.sps[0])&&(i.dts<a.timelineStartInfo.dts||-1e4<=(i=e.dts-i.dts-i.duration)&&i<=45e3&&(!t||i<r)&&(t=s,r=i));return t?t.gop:null},this.alignGopsAtStart_=function(e){for(var t,i,s,r,n=e.byteLength,a=e.nalCount,o=e.duration,l=t=0;l<d.length&&t<e.length&&(i=d[l],s=e[t],i.pts!==s.pts);)s.pts>i.pts?l++:(t++,n-=s.byteLength,a-=s.nalCount,o-=s.duration);return 0===t?e:t===e.length?null:((r=e.slice(t)).byteLength=n,r.duration=o,r.nalCount=a,r.pts=r[0].pts,r.dts=r[0].dts,r)},this.alignGopsAtEnd_=function(e){for(var t,i,s,r,n=d.length-1,a=e.length-1,o=null,l=!1;0<=n&&0<=a;){if(t=d[n],i=e[a],t.pts===i.pts){l=!0;break}t.pts>i.pts?n--:(n===d.length-1&&(o=a),a--)}return l||null!==o?0===(s=l?a:o)?e:(r=(s=e.slice(s)).reduce(function(e,t){return e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e},{byteLength:0,duration:0,nalCount:0}),s.byteLength=r.byteLength,s.duration=r.duration,s.nalCount=r.nalCount,s.pts=s[0].pts,s.dts=s[0].dts,s):null},this.alignGopsWith=function(e){d=e}}).prototype=new E,((k=function(e,t){this.numberOfTracks=0,this.metadataStream=t,"undefined"!=typeof(e=e||{}).remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,"boolean"==typeof e.keepOriginalTimestamps?this.keepOriginalTimestamps=e.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,k.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track,this.pendingBoxes.push(e.boxes)),void("audio"===e.track.type&&(this.audioTrack=e.track,this.pendingBoxes.unshift(e.boxes))))}}).prototype=new E).flush=function(e){var t,i,s,r=0,n={captions:[],captionStreams:{},metadata:[],info:{}},a=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(a=this.videoTrack.timelineStartInfo.pts,Lt.forEach(function(e){n.info[e]=this.videoTrack[e]},this)):this.audioTrack&&(a=this.audioTrack.timelineStartInfo.pts,Pt.forEach(function(e){n.info[e]=this.audioTrack[e]},this)),this.videoTrack||this.audioTrack){for(1===this.pendingTracks.length?n.type=this.pendingTracks[0].type:n.type="combined",this.emittedTracks+=this.pendingTracks.length,e=C.initSegment(this.pendingTracks),n.initSegment=new Uint8Array(e.byteLength),n.initSegment.set(e),n.data=new Uint8Array(this.pendingBytes),s=0;s<this.pendingBoxes.length;s++)n.data.set(this.pendingBoxes[s],r),r+=this.pendingBoxes[s].byteLength;for(s=0;s<this.pendingCaptions.length;s++)(t=this.pendingCaptions[s]).startTime=Et.metadataTsToSeconds(t.startPts,a,this.keepOriginalTimestamps),t.endTime=Et.metadataTsToSeconds(t.endPts,a,this.keepOriginalTimestamps),n.captionStreams[t.stream]=!0,n.captions.push(t);for(s=0;s<this.pendingMetadata.length;s++)(i=this.pendingMetadata[s]).cueTime=Et.metadataTsToSeconds(i.pts,a,this.keepOriginalTimestamps),n.metadata.push(i);for(n.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",n),s=0;s<n.captions.length;s++)t=n.captions[s],this.trigger("caption",t);for(s=0;s<n.metadata.length;s++)i=n.metadata[s],this.trigger("id3Frame",i)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},k.prototype.setRemux=function(e){this.remuxTracks=e},(St=function(s){var r,n,a=this,i=!0;St.prototype.init.call(this),s=s||{},this.baseMediaDecodeTime=s.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var t={};(this.transmuxPipeline_=t).type="aac",t.metadataStream=new A.MetadataStream,t.aacStream=new It,t.audioTimestampRolloverStream=new A.TimestampRolloverStream("audio"),t.timedMetadataTimestampRolloverStream=new A.TimestampRolloverStream("timed-metadata"),t.adtsStream=new kt,t.coalesceStream=new k(s,t.metadataStream),t.headOfPipeline=t.aacStream,t.aacStream.pipe(t.audioTimestampRolloverStream).pipe(t.adtsStream),t.aacStream.pipe(t.timedMetadataTimestampRolloverStream).pipe(t.metadataStream).pipe(t.coalesceStream),t.metadataStream.on("timestamp",function(e){t.aacStream.setTimestamp(e.timeStamp)}),t.aacStream.on("data",function(e){"timed-metadata"!==e.type&&"audio"!==e.type||t.audioSegmentStream||(n=n||{timelineStartInfo:{baseMediaDecodeTime:a.baseMediaDecodeTime},codec:"adts",type:"audio"},t.coalesceStream.numberOfTracks++,t.audioSegmentStream=new Dt(n,s),t.audioSegmentStream.on("log",a.getLogTrigger_("audioSegmentStream")),t.audioSegmentStream.on("timingInfo",a.trigger.bind(a,"audioTimingInfo")),t.adtsStream.pipe(t.audioSegmentStream).pipe(t.coalesceStream),a.trigger("trackinfo",{hasAudio:!!n,hasVideo:!!r}))}),t.coalesceStream.on("data",this.trigger.bind(this,"data")),t.coalesceStream.on("done",this.trigger.bind(this,"done")),_t(this,t)},this.setupTsPipeline=function(){var i={};(this.transmuxPipeline_=i).type="ts",i.metadataStream=new A.MetadataStream,i.packetStream=new A.TransportPacketStream,i.parseStream=new A.TransportParseStream,i.elementaryStream=new A.ElementaryStream,i.timestampRolloverStream=new A.TimestampRolloverStream,i.adtsStream=new kt,i.h264Stream=new Ct,i.captionStream=new A.CaptionStream(s),i.coalesceStream=new k(s,i.metadataStream),i.headOfPipeline=i.packetStream,i.packetStream.pipe(i.parseStream).pipe(i.elementaryStream).pipe(i.timestampRolloverStream),i.timestampRolloverStream.pipe(i.h264Stream),i.timestampRolloverStream.pipe(i.adtsStream),i.timestampRolloverStream.pipe(i.metadataStream).pipe(i.coalesceStream),i.h264Stream.pipe(i.captionStream).pipe(i.coalesceStream),i.elementaryStream.on("data",function(e){var t;if("metadata"===e.type){for(t=e.tracks.length;t--;)r||"video"!==e.tracks[t].type?n||"audio"!==e.tracks[t].type||((n=e.tracks[t]).timelineStartInfo.baseMediaDecodeTime=a.baseMediaDecodeTime):(r=e.tracks[t]).timelineStartInfo.baseMediaDecodeTime=a.baseMediaDecodeTime;r&&!i.videoSegmentStream&&(i.coalesceStream.numberOfTracks++,i.videoSegmentStream=new Tt(r,s),i.videoSegmentStream.on("log",a.getLogTrigger_("videoSegmentStream")),i.videoSegmentStream.on("timelineStartInfo",function(e){n&&!s.keepOriginalTimestamps&&(n.timelineStartInfo=e,i.audioSegmentStream.setEarliestDts(e.dts-a.baseMediaDecodeTime))}),i.videoSegmentStream.on("processedGopsInfo",a.trigger.bind(a,"gopInfo")),i.videoSegmentStream.on("segmentTimingInfo",a.trigger.bind(a,"videoSegmentTimingInfo")),i.videoSegmentStream.on("baseMediaDecodeTime",function(e){n&&i.audioSegmentStream.setVideoBaseMediaDecodeTime(e)}),i.videoSegmentStream.on("timingInfo",a.trigger.bind(a,"videoTimingInfo")),i.h264Stream.pipe(i.videoSegmentStream).pipe(i.coalesceStream)),n&&!i.audioSegmentStream&&(i.coalesceStream.numberOfTracks++,i.audioSegmentStream=new Dt(n,s),i.audioSegmentStream.on("log",a.getLogTrigger_("audioSegmentStream")),i.audioSegmentStream.on("timingInfo",a.trigger.bind(a,"audioTimingInfo")),i.audioSegmentStream.on("segmentTimingInfo",a.trigger.bind(a,"audioSegmentTimingInfo")),i.adtsStream.pipe(i.audioSegmentStream).pipe(i.coalesceStream)),a.trigger("trackinfo",{hasAudio:!!n,hasVideo:!!r})}}),i.coalesceStream.on("data",this.trigger.bind(this,"data")),i.coalesceStream.on("id3Frame",function(e){e.dispatchType=i.metadataStream.dispatchType,a.trigger("id3Frame",e)}),i.coalesceStream.on("caption",this.trigger.bind(this,"caption")),i.coalesceStream.on("done",this.trigger.bind(this,"done")),_t(this,i)},this.setBaseMediaDecodeTime=function(e){var t=this.transmuxPipeline_;s.keepOriginalTimestamps||(this.baseMediaDecodeTime=e),n&&(n.timelineStartInfo.dts=void 0,n.timelineStartInfo.pts=void 0,x.clearDtsInfo(n),t.audioTimestampRolloverStream)&&t.audioTimestampRolloverStream.discontinuity(),r&&(t.videoSegmentStream&&(t.videoSegmentStream.gopCache_=[]),r.timelineStartInfo.dts=void 0,r.timelineStartInfo.pts=void 0,x.clearDtsInfo(r),t.captionStream.reset()),t.timestampRolloverStream&&t.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){n&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.setRemux=function(e){var t=this.transmuxPipeline_;s.remux=e,t&&t.coalesceStream&&t.coalesceStream.setRemux(e)},this.alignGopsWith=function(e){r&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},this.getLogTrigger_=function(t){var i=this;return function(e){e.stream=t,i.trigger("log",e)}},this.push=function(e){var t;i&&((t=xt(e))&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),i=!1),this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){i=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new E;function Nt(e){var t="";return(t+=String.fromCharCode(e[0]))+String.fromCharCode(e[1])+String.fromCharCode(e[2])+String.fromCharCode(e[3])}function Mt(e,t){var i,s,r,n=[];if(!t.length)return null;for(i=0;i<e.byteLength;)s=$t(e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3]),r=Wt(e.subarray(i+4,i+8)),s=1<s?i+s:e.byteLength,r===t[0]&&(1===t.length?n.push(e.subarray(i+8,s)):(r=Mt(e.subarray(i+8,s),t.slice(1))).length&&(n=n.concat(r))),i=s;return n}function Rt(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4))};return t.baseMediaDecodeTime=1===t.version?zt(e.subarray(4)):Gt(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),t}function Ut(e){var t,i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},s=new DataView(e.buffer,e.byteOffset,e.byteLength),r=1&i.flags[2],n=4&i.flags[2],a=1&i.flags[1],o=2&i.flags[1],l=4&i.flags[1],d=8&i.flags[1],h=s.getUint32(4),u=8;for(r&&(i.dataOffset=s.getInt32(u),u+=4),n&&h&&(t={flags:Xt(e.subarray(u,u+4))},u+=4,a&&(t.duration=s.getUint32(u),u+=4),o&&(t.size=s.getUint32(u),u+=4),d&&(t.compositionTimeOffset=1===i.version?s.getInt32(u):s.getUint32(u),u+=4),i.samples.push(t),h--);h--;)t={},a&&(t.duration=s.getUint32(u),u+=4),o&&(t.size=s.getUint32(u),u+=4),l&&(t.flags=Xt(e.subarray(u,u+4)),u+=4),d&&(t.compositionTimeOffset=1===i.version?s.getInt32(u):s.getUint32(u),u+=4),i.samples.push(t);return i}function Bt(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),i=1&(e={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:t.getUint32(4)}).flags[2],s=2&e.flags[2],r=8&e.flags[2],n=16&e.flags[2],a=32&e.flags[2],o=65536&e.flags[0],l=131072&e.flags[0],d=8;return i&&(d+=4,e.baseDataOffset=t.getUint32(12),d+=4),s&&(e.sampleDescriptionIndex=t.getUint32(d),d+=4),r&&(e.defaultSampleDuration=t.getUint32(d),d+=4),n&&(e.defaultSampleSize=t.getUint32(d),d+=4),a&&(e.defaultSampleFlags=t.getUint32(d)),o&&(e.durationIsEmpty=!0),!i&&l&&(e.baseDataOffsetIsMoof=!0),e}function Ft(e){var t=31&e[1];return t<<8|e[2]}function jt(e){return!!(64&e[1])}function Ht(e){var t=0;return 1<(48&e[3])>>>4&&(t+=e[4]+1),t}function qt(e){switch(e){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}}var Vt=St,i=function(e){return e>>>0},Pe=function(e){return("00"+e.toString(16)).slice(-2)},$t=i,Wt=Nt,Gt=i,zt=_e.getUint64,Xt=function(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}},Le="undefined"!=typeof window?window:"undefined"!=typeof fe?fe:"undefined"!=typeof self?self:{},T=Le,Kt=De.discardEmulationPreventionBytes,Yt=p.CaptionStream,P=Mt,Qt=Rt,Jt=Ut,Zt=Bt,ei=T,ti=function(e,h){var i=P(e,["moof","traf"]),e=P(e,["mdat"]),u={},s=[];return e.forEach(function(e,t){t=i[t];s.push({mdat:e,traf:t})}),s.forEach(function(e){var t,i,s,r,n,a=e.mdat,e=e.traf,o=P(e,["tfhd"]),o=Zt(o[0]),l=o.trackId,d=P(e,["tfdt"]),d=0<d.length?Qt(d[0]).baseMediaDecodeTime:0,e=P(e,["trun"]);h===l&&0<e.length&&(t=d,i=o.defaultSampleDuration||0,s=o.defaultSampleSize||0,r=o.trackId,n=[],e.forEach(function(e){e=Jt(e).samples;e.forEach(function(e){void 0===e.duration&&(e.duration=i),void 0===e.size&&(e.size=s),e.trackId=r,e.dts=t,void 0===e.compositionTimeOffset&&(e.compositionTimeOffset=0),"bigint"==typeof t?(e.pts=t+ei.BigInt(e.compositionTimeOffset),t+=ei.BigInt(e.duration)):(e.pts=t+e.compositionTimeOffset,t+=e.duration)}),n=n.concat(e)}),d=function(e,t,i){for(var s,r,n=new DataView(e.buffer,e.byteOffset,e.byteLength),a={logs:[],seiNals:[]},o=0;o+4<e.length;o+=s)if(s=n.getUint32(o),o+=4,!(s<=0))switch(31&e[o]){case 6:var l=e.subarray(o+1,o+1+s),d=function(e,t){for(var i=e,s=0;s<t.length;s++){var r=t[s];if(i<r.size)return r;i-=r.size}return null}(o,t),l={nalUnitType:"sei_rbsp",size:s,data:l,escapedRBSP:Kt(l),trackId:i};if(d)l.pts=d.pts,l.dts=d.dts,r=d;else{if(!r){a.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+o+" for trackId "+i+". See mux.js#223."});break}l.pts=r.pts,l.dts=r.dts}a.seiNals.push(l)}return a}(a,n,l),u[l]||(u[l]={seiNals:[],logs:[]}),u[l].seiNals=u[l].seiNals.concat(d.seiNals),u[l].logs=u[l].logs.concat(d.logs))}),u},ii=function(){var t,a,o,l,d,i,s=!1;this.isInitialized=function(){return s},this.init=function(e){t=new Yt,s=!0,i=!!e&&e.isPartial,t.on("data",function(e){e.startTime=e.startPts/l,e.endTime=e.endPts/l,d.captions.push(e),d.captionStreams[e.stream]=!0}),t.on("log",function(e){d.logs.push(e)})},this.isNewInit=function(e,t){return!(e&&0===e.length||t&&"object"==typeof t&&0===Object.keys(t).length||o===e[0]&&l===t[o])},this.parse=function(e,t,i){var s,r;if(!this.isInitialized())return null;if(!t||!i)return null;if(this.isNewInit(t,i))o=t[0],l=i[o];else if(null===o||!l)return a.push(e),null;for(;0<a.length;){var n=a.shift();this.parse(n,t,i)}return e=e,r=l,(s=null===(s=o)?null:{seiNals:(e=ti(e,s)[s]||{}).seiNals,logs:e.logs,timescale:r})&&s.logs&&(d.logs=d.logs.concat(s.logs)),null!==s&&s.seiNals?(this.pushNals(s.seiNals),this.flushStream(),d):d.logs.length?{logs:d.logs,captions:[],captionStreams:[]}:null},this.pushNals=function(e){if(!this.isInitialized()||!e||0===e.length)return null;e.forEach(function(e){t.push(e)})},this.flushStream=function(){if(!this.isInitialized())return null;i?t.partialFlush():t.flush()},this.clearParsedCaptions=function(){d.captions=[],d.captionStreams={},d.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;t.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){a=[],l=o=null,d?this.clearParsedCaptions():d={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},si=i,L=Pe,O=Mt,ri=Nt,ni=_e.getUint64,ai=T,oi=function(e){var t=0===e[0]?12:20;return si(e[t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t])},li=function(n,e){e=O(e,["moof","traf"]).reduce(function(e,t){var i=O(t,["tfhd"])[0],i=si(i[4]<<24|i[5]<<16|i[6]<<8|i[7]),i=n[i]||9e4,t=O(t,["tfdt"])[0],s=new DataView(t.buffer,t.byteOffset,t.byteLength),t=1===t[0]?ni(t.subarray(4,12)):s.getUint32(4);let r;return"bigint"==typeof t?r=t/ai.BigInt(i):"number"!=typeof t||isNaN(t)||(r=t/i),e=(r=r<Number.MAX_SAFE_INTEGER?Number(r):r)<e?r:e},1/0);return"bigint"==typeof e||isFinite(e)?e:0},di=function(e){var e=O(e,["moov","trak"]),n=[];return e.forEach(function(e){var t,i={},s=O(e,["tkhd"])[0],r=(s&&(r=(s=new DataView(s.buffer,s.byteOffset,s.byteLength)).getUint8(0),i.id=0===r?s.getUint32(12):s.getUint32(20)),O(e,["mdia","hdlr"])[0]),r=(r&&(s=ri(r.subarray(8,12)),i.type="vide"===s?"video":"soun"===s?"audio":s),O(e,["mdia","minf","stbl","stsd"])[0]),s=(r&&(s=r.subarray(8),i.codec=ri(s.subarray(4,8)),r=O(s,[i.codec])[0])&&(/^[asm]vc[1-9]$/i.test(i.codec)?(t=r.subarray(78),"avcC"===ri(t.subarray(4,8))&&11<t.length?(i.codec+=".",i.codec+=L(t[9]),i.codec+=L(t[10]),i.codec+=L(t[11])):i.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(i.codec)?(t=r.subarray(28),"esds"===ri(t.subarray(4,8))&&20<t.length&&0!==t[19]?(i.codec+="."+L(t[19]),i.codec+="."+L(t[20]>>>2&63).replace(/^0/,"")):i.codec="mp4a.40.2"):i.codec=i.codec.toLowerCase()),O(e,["mdia","mdhd"])[0]);s&&(i.timescale=oi(s)),n.push(i)}),n},hi=qe,ui=qe,D=Ye,N={},M=(N.ts={parseType:function(e,t){e=Ft(e);return 0===e?"pat":e===t?"pmt":t?"pes":null},parsePat:function(e){var t=jt(e),i=4+Ht(e);return t&&(i+=e[i]+1),(31&e[i+10])<<8|e[i+11]},parsePmt:function(e){var t={},i=jt(e),s=4+Ht(e);if(i&&(s+=e[s]+1),1&e[s+5]){for(var r=3+((15&e[s+1])<<8|e[s+2])-4,n=12+((15&e[s+10])<<8|e[s+11]);n<r;){var a=s+n;t[(31&e[a+1])<<8|e[a+2]]=e[a],n+=5+((15&e[a+3])<<8|e[a+4])}return t}},parsePayloadUnitStartIndicator:jt,parsePesType:function(e,t){switch(t[Ft(e)]){case hi.H264_STREAM_TYPE:return"video";case hi.ADTS_STREAM_TYPE:return"audio";case hi.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(e){var t,i,s;return!jt(e)||(t=4+Ht(e))>=e.byteLength?null:(i=null,192&(s=e[t+7])&&((i={}).pts=(14&e[t+9])<<27|(255&e[t+10])<<20|(254&e[t+11])<<12|(255&e[t+12])<<5|(254&e[t+13])>>>3,i.pts*=4,i.pts+=(6&e[t+13])>>>1,i.dts=i.pts,64&s)&&(i.dts=(14&e[t+14])<<27|(255&e[t+15])<<20|(254&e[t+16])<<12|(255&e[t+17])<<5|(254&e[t+18])>>>3,i.dts*=4,i.dts+=(6&e[t+18])>>>1),i)},videoPacketContainsKeyFrame:function(e){for(var t=4+Ht(e),i=e.subarray(t),s=0,r=0,n=!1;r<i.byteLength-3;r++)if(1===i[r+2]){s=r+5;break}for(;s<i.byteLength;)switch(i[s]){case 0:if(0!==i[s-1])s+=2;else if(0!==i[s-2])s++;else{for(r+3!==s-2&&"slice_layer_without_partitioning_rbsp_idr"===qt(31&i[r+3])&&(n=!0);1!==i[++s]&&s<i.length;);r=s-2,s+=3}break;case 1:0!==i[s-1]||0!==i[s-2]?s+=3:("slice_layer_without_partitioning_rbsp_idr"===qt(31&i[r+3])&&(n=!0),r=s-2,s+=3);break;default:s+=3}return i=i.subarray(r),s-=r,r=0,n=i&&3<i.byteLength&&"slice_layer_without_partitioning_rbsp_idr"===qt(31&i[r+3])?!0:n}},N.aac=b,c.ONE_SECOND_IN_TS),ci=function(e,t){for(var i,s=0,r=188;r<e.byteLength;)if(71===e[s]&&71===e[r]){switch(i=e.subarray(s,r),N.ts.parseType(i,t.pid)){case"pat":t.pid=N.ts.parsePat(i);break;case"pmt":var n=N.ts.parsePmt(i);t.table=t.table||{},Object.keys(n).forEach(function(e){t.table[e]=n[e]})}s+=188,r+=188}else s++,r++},pi=function(e,t,i){for(var s,r,n,a,o=0,l=188,d=!1;l<=e.byteLength;)if(71!==e[o]||71!==e[l]&&l!==e.byteLength)o++,l++;else{if(s=e.subarray(o,l),"pes"===N.ts.parseType(s,t.pid)&&(r=N.ts.parsePesType(s,t.table),n=N.ts.parsePayloadUnitStartIndicator(s),"audio"===r)&&n&&(a=N.ts.parsePesTime(s))&&(a.type="audio",i.audio.push(a),d=!0),d)break;o+=188,l+=188}for(o=(l=e.byteLength)-188,d=!1;0<=o;)if(71!==e[o]||71!==e[l]&&l!==e.byteLength)o--,l--;else{if(s=e.subarray(o,l),"pes"===N.ts.parseType(s,t.pid)&&(r=N.ts.parsePesType(s,t.table),n=N.ts.parsePayloadUnitStartIndicator(s),"audio"===r)&&n&&(a=N.ts.parsePesTime(s))&&(a.type="audio",i.audio.push(a),d=!0),d)break;o-=188,l-=188}},mi=function(e,t,i){for(var s,r,n,a,o,l,d,h,u=0,c=188,p=!1,m={data:[],size:0};c<e.byteLength;)if(71===e[u]&&71===e[c]){if(s=e.subarray(u,c),"pes"===N.ts.parseType(s,t.pid))if(r=N.ts.parsePesType(s,t.table),n=N.ts.parsePayloadUnitStartIndicator(s),"video"===r&&(n&&!p&&(a=N.ts.parsePesTime(s))&&(a.type="video",i.video.push(a),p=!0),!i.firstKeyFrame)){if(n&&0!==m.size){for(o=new Uint8Array(m.size),l=0;m.data.length;)d=m.data.shift(),o.set(d,l),l+=d.byteLength;N.ts.videoPacketContainsKeyFrame(o)&&(h=N.ts.parsePesTime(o))&&(i.firstKeyFrame=h,i.firstKeyFrame.type="video"),m.size=0}m.data.push(s),m.size+=s.byteLength}if(p&&i.firstKeyFrame)break;u+=188,c+=188}else u++,c++;for(u=(c=e.byteLength)-188,p=!1;0<=u;)if(71===e[u]&&71===e[c]){if(s=e.subarray(u,c),"pes"===N.ts.parseType(s,t.pid)&&(r=N.ts.parsePesType(s,t.table),n=N.ts.parsePayloadUnitStartIndicator(s),"video"===r)&&n&&(a=N.ts.parsePesTime(s))&&(a.type="video",i.video.push(a),p=!0),p)break;u-=188,c-=188}else u--,c--},gi=function(e,t){var i,s,r,e=(N.aac.isLikelyAacData(e)?function(e){for(var t,i,s=!1,r=0,n=null,a=null,o=0,l=0;3<=e.length-l;){switch(N.aac.parseType(e,l)){case"timed-metadata":e.length-l<10?s=!0:(o=N.aac.parseId3TagSize(e,l))>e.length?s=!0:(null===a&&(t=e.subarray(l,l+o),a=N.aac.parseAacTimestamp(t)),l+=o);break;case"audio":e.length-l<7?s=!0:(o=N.aac.parseAdtsSize(e,l))>e.length?s=!0:(null===n&&(t=e.subarray(l,l+o),n=N.aac.parseSampleRate(t)),r++,l+=o);break;default:l++}if(s)return null}return null===n||null===a?null:{audio:[{type:"audio",dts:a,pts:a},{type:"audio",dts:a+1024*r*(i=M/n),pts:a+1024*r*i}]}}:function(e){var t,i={pid:null,table:null},s={};for(t in ci(e,i),i.table)if(i.table.hasOwnProperty(t))switch(i.table[t]){case ui.H264_STREAM_TYPE:s.video=[],mi(e,i,s),0===s.video.length&&delete s.video;break;case ui.ADTS_STREAM_TYPE:s.audio=[],pi(e,i,s),0===s.audio.length&&delete s.audio}return s})(e);return e&&(e.audio||e.video)?(t=t,(i=e).audio&&i.audio.length&&("undefined"!=typeof(s=t)&&!isNaN(s)||(s=i.audio[0].dts),i.audio.forEach(function(e){e.dts=D(e.dts,s),e.pts=D(e.pts,s),e.dtsTime=e.dts/M,e.ptsTime=e.pts/M})),i.video&&i.video.length&&("undefined"!=typeof(r=t)&&!isNaN(r)||(r=i.video[0].dts),i.video.forEach(function(e){e.dts=D(e.dts,r),e.pts=D(e.pts,r),e.dtsTime=e.dts/M,e.ptsTime=e.pts/M}),i.firstKeyFrame)&&((t=i.firstKeyFrame).dts=D(t.dts,r),t.pts=D(t.pts,r),t.dtsTime=t.dts/M,t.ptsTime=t.pts/M),e):null};class fi{constructor(e,t){this.options=t||{},this.self=e,this.init()}init(){var i,e;this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new Vt(this.options),i=this.self,(e=this.transmuxer).on("data",function(e){var t=e.initSegment,t=(e.initSegment={data:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength},e.data);e.data=t.buffer,i.postMessage({action:"data",segment:e,byteOffset:t.byteOffset,byteLength:t.byteLength},[e.data])}),e.on("done",function(e){i.postMessage({action:"done"})}),e.on("gopInfo",function(e){i.postMessage({action:"gopInfo",gopInfo:e})}),e.on("videoSegmentTimingInfo",function(e){var t={start:{decode:c.videoTsToSeconds(e.start.dts),presentation:c.videoTsToSeconds(e.start.pts)},end:{decode:c.videoTsToSeconds(e.end.dts),presentation:c.videoTsToSeconds(e.end.pts)},baseMediaDecodeTime:c.videoTsToSeconds(e.baseMediaDecodeTime)};e.prependedContentDuration&&(t.prependedContentDuration=c.videoTsToSeconds(e.prependedContentDuration)),i.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:t})}),e.on("audioSegmentTimingInfo",function(e){var t={start:{decode:c.videoTsToSeconds(e.start.dts),presentation:c.videoTsToSeconds(e.start.pts)},end:{decode:c.videoTsToSeconds(e.end.dts),presentation:c.videoTsToSeconds(e.end.pts)},baseMediaDecodeTime:c.videoTsToSeconds(e.baseMediaDecodeTime)};e.prependedContentDuration&&(t.prependedContentDuration=c.videoTsToSeconds(e.prependedContentDuration)),i.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:t})}),e.on("id3Frame",function(e){i.postMessage({action:"id3Frame",id3Frame:e})}),e.on("caption",function(e){i.postMessage({action:"caption",caption:e})}),e.on("trackinfo",function(e){i.postMessage({action:"trackinfo",trackInfo:e})}),e.on("audioTimingInfo",function(e){i.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:c.videoTsToSeconds(e.start),end:c.videoTsToSeconds(e.end)}})}),e.on("videoTimingInfo",function(e){i.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:c.videoTsToSeconds(e.start),end:c.videoTsToSeconds(e.end)}})}),e.on("log",function(e){i.postMessage({action:"log",log:e})})}pushMp4Captions(e){this.captionParser||(this.captionParser=new ii,this.captionParser.init());var t=new Uint8Array(e.data,e.byteOffset,e.byteLength),e=this.captionParser.parse(t,e.trackIds,e.timescales);this.self.postMessage({action:"mp4Captions",captions:e&&e.captions||[],logs:e&&e.logs||[],data:t.buffer},[t.buffer])}probeMp4StartTime({timescales:e,data:t}){e=li(e,t);this.self.postMessage({action:"probeMp4StartTime",startTime:e,data:t},[t.buffer])}probeMp4Tracks({data:e}){var t=di(e);this.self.postMessage({action:"probeMp4Tracks",tracks:t,data:e},[e.buffer])}probeTs({data:e,baseStartTime:t}){t="number"!=typeof t||isNaN(t)?void 0:t*c.ONE_SECOND_IN_TS,t=gi(e,t);let i=null;t&&((i={hasVideo:t.video&&2===t.video.length||!1,hasAudio:t.audio&&2===t.audio.length||!1}).hasVideo&&(i.videoStart=t.video[0].ptsTime),i.hasAudio)&&(i.audioStart=t.audio[0].ptsTime),this.self.postMessage({action:"probeTs",result:i,data:e},[e.buffer])}clearAllMp4Captions(){this.captionParser&&this.captionParser.clearAllCaptions()}clearParsedMp4Captions(){this.captionParser&&this.captionParser.clearParsedCaptions()}push(e){e=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(e)}reset(){this.transmuxer.reset()}setTimestampOffset(e){e=e.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(c.secondsToVideoTs(e)))}setAudioAppendStart(e){this.transmuxer.setAudioAppendStart(Math.ceil(c.secondsToVideoTs(e.appendStart)))}setRemux(e){this.transmuxer.setRemux(e.remux)}flush(e){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})}endTimeline(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})}alignGopsWith(e){this.transmuxer.alignGopsWith(e.gopsToAlignWith.slice())}}self.onmessage=function(e){"init"===e.data.action&&e.data.options?this.messageHandlers=new fi(self,e.data.options):(this.messageHandlers||(this.messageHandlers=new fi(self)),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data))}})));const ih=(e,t,i)=>{var{type:s,initSegment:r,captions:n,captionStreams:a,metadata:o,videoFrameDtsTime:l,videoFramePtsTime:d}=e.data.segment,t=(t.buffer.push({captions:n,captionStreams:a,metadata:o}),e.data.segment.boxes||{data:e.data.segment.data}),n={type:s,data:new Uint8Array(t.data,t.data.byteOffset,t.data.byteLength),initSegment:new Uint8Array(r.data,r.byteOffset,r.byteLength)};"undefined"!=typeof l&&(n.videoFrameDtsTime=l),"undefined"!=typeof d&&(n.videoFramePtsTime=d),i(n)},sh=({transmuxedData:e,callback:t})=>{e.buffer=[],t(e)},rh=(e,t)=>{t.gopInfo=e.data.gopInfo},nh=t=>{const{transmuxer:i,bytes:e,audioAppendStart:s,gopsToAlignWith:r,remux:n,onData:a,onTrackInfo:o,onAudioTimingInfo:l,onVideoTimingInfo:d,onVideoSegmentTimingInfo:h,onAudioSegmentTimingInfo:u,onId3:c,onCaptions:p,onDone:m,onEndedTimeline:g,onTransmuxerLog:f,isEndOfTimeline:y}=t,_={buffer:[]};let v=y;var b,T;i.onmessage=e=>{i.currentTransmux!==t||("data"===e.data.action&&ih(e,_,a),"trackinfo"===e.data.action&&o(e.data.trackInfo),"gopInfo"===e.data.action&&rh(e,_),"audioTimingInfo"===e.data.action&&l(e.data.audioTimingInfo),"videoTimingInfo"===e.data.action&&d(e.data.videoTimingInfo),"videoSegmentTimingInfo"===e.data.action&&h(e.data.videoSegmentTimingInfo),"audioSegmentTimingInfo"===e.data.action&&u(e.data.audioSegmentTimingInfo),"id3Frame"===e.data.action&&c([e.data.id3Frame],e.data.id3Frame.dispatchType),"caption"===e.data.action&&p(e.data.caption),"endedtimeline"===e.data.action&&(v=!1,g()),"log"===e.data.action&&f(e.data.log),"transmuxed"!==e.data.type)||v||(i.onmessage=null,sh({transmuxedData:_,callback:m}),ah(i))},s&&i.postMessage({action:"setAudioAppendStart",appendStart:s}),Array.isArray(r)&&i.postMessage({action:"alignGopsWith",gopsToAlignWith:r}),"undefined"!=typeof n&&i.postMessage({action:"setRemux",remux:n}),e.byteLength&&(b=e instanceof ArrayBuffer?e:e.buffer,T=e instanceof ArrayBuffer?0:e.byteOffset,i.postMessage({action:"push",data:b,byteOffset:T,byteLength:e.byteLength},[b])),y&&i.postMessage({action:"endTimeline"}),i.postMessage({action:"flush"})},ah=e=>{e.currentTransmux=null,e.transmuxQueue.length&&(e.currentTransmux=e.transmuxQueue.shift(),"function"==typeof e.currentTransmux?e.currentTransmux():nh(e.currentTransmux))},oh=(e,t)=>{e.postMessage({action:t}),ah(e)},lh=(e,t)=>{t.currentTransmux?t.transmuxQueue.push(oh.bind(null,t,e)):(t.currentTransmux=e,oh(t,e))};const dh=e=>{e.transmuxer.currentTransmux?e.transmuxer.transmuxQueue.push(e):(e.transmuxer.currentTransmux=e,nh(e))};var hh=e=>{lh("reset",e)},uh=(dh,e=>{const t=new th,i=(t.currentTransmux=null,t.transmuxQueue=[],t.terminate);return t.terminate=()=>(t.currentTransmux=null,t.transmuxQueue.length=0,i.call(t)),t.postMessage({action:"init",options:e}),t});function ch(t){const i=t.transmuxer,s=t.endAction||t.action,r=t.callback;var e,n=fi({},t,{endAction:null,transmuxer:null,callback:null});const a=e=>{e.data.action===s&&(i.removeEventListener("message",a),e.data.data&&(e.data.data=new Uint8Array(e.data.data,t.byteOffset||0,t.byteLength||e.data.data.byteLength),t.data)&&(t.data=e.data.data),r(e.data))};i.addEventListener("message",a),t.data?(e=t.data instanceof ArrayBuffer,n.byteOffset=e?0:t.data.byteOffset,n.byteLength=t.data.byteLength,e=[e?t.data:t.data.buffer],i.postMessage(n,e)):i.postMessage(n)}function ph(e){let t=0;return e.audio&&t++,e.video&&t++,t}function mh(e,t){var i=t.attributes||{},s=Lh(function(e){e=e.attributes||{};if(e.CODECS)return Un(e.CODECS)}(t)||[]);return!Ph(e,t)||s.audio||((e,t)=>{if(!Ph(e,t))return!0;var t=t.attributes||{},i=e.mediaGroups.AUDIO[t.AUDIO];for(const s in i)if(!i[s].uri&&!i[s].playlists)return!0;return!1})(e,t)||(t=Lh(function(e,t){if(e.mediaGroups.AUDIO&&t){var i=e.mediaGroups.AUDIO[t];if(i)for(var s in i){s=i[s];if(s.default&&s.playlists)return Un(s.playlists[0].attributes.CODECS)}}return null}(e,i.AUDIO)||[])).audio&&(s.audio=t.audio),s}function gh(e,t){return(e=e&&window.getComputedStyle(e))?e[t]:""}function fh(e,t){let i,s;return i=(i=e.attributes.BANDWIDTH?e.attributes.BANDWIDTH:i)||window.Number.MAX_VALUE,s=(s=t.attributes.BANDWIDTH?t.attributes.BANDWIDTH:s)||window.Number.MAX_VALUE,i-s}const yh={FAILURE:2,TIMEOUT:-101,ABORTED:-102},_h=e=>{e.forEach(e=>{e.abort()})},vh=e=>({bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}),bh=e=>{var t=e.target,t={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-t.requestTime||0};return t.bytesReceived=e.loaded,t.bandwidth=Math.floor(t.bytesReceived/t.roundTripTime*8*1e3),t},Th=(e,t)=>t.timedout?{status:t.status,message:"HLS request timed-out at URL: "+t.uri,code:yh.TIMEOUT,xhr:t}:t.aborted?{status:t.status,message:"HLS request aborted at URL: "+t.uri,code:yh.ABORTED,xhr:t}:e?{status:t.status,message:"HLS request errored at URL: "+t.uri,code:yh.FAILURE,xhr:t}:"arraybuffer"===t.responseType&&0===t.response.byteLength?{status:t.status,message:"Empty HLS response at URL: "+t.uri,code:yh.FAILURE,xhr:t}:null,Sh=(r,n,a)=>(e,t)=>{var i=t.response,e=Th(e,t);if(e)return a(e,r);if(16!==i.byteLength)return a({status:t.status,message:"Invalid HLS key at URL: "+t.uri,code:yh.FAILURE,xhr:t},r);var e=new DataView(i),s=new Uint32Array([e.getUint32(0),e.getUint32(4),e.getUint32(8),e.getUint32(12)]);for(let e=0;e<n.length;e++)n[e].bytes=s;return a(null,r)},wh=(i,s)=>{var e,t=_l(i.map.bytes);if("mp4"!==t)return e=i.map.resolvedUri||i.map.uri,s({internal:!0,message:`Found unsupported ${t||"unknown"} container for initialization segment at URL: `+e,code:yh.FAILURE});ch({action:"probeMp4Tracks",data:i.map.bytes,transmuxer:i.transmuxer,callback:({tracks:e,data:t})=>(i.map.bytes=t,e.forEach(function(e){i.map.tracks=i.map.tracks||{},i.map.tracks[e.type]||"number"==typeof(i.map.tracks[e.type]=e).id&&e.timescale&&(i.map.timescales=i.map.timescales||{},i.map.timescales[e.id]=e.timescale)}),s(null))})},Eh=({segment:i,bytes:t,trackInfoFn:s,timingInfoFn:e,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:n,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:d,dataFn:h,doneFn:u,onTransmuxerLog:c})=>{var p=i.map&&i.map.tracks||{};const m=Boolean(p.audio&&p.video);let g=e.bind(null,i,"audio","start");const f=e.bind(null,i,"audio","end");let y=e.bind(null,i,"video","start");const _=e.bind(null,i,"video","end");ch({action:"probeTs",transmuxer:i.transmuxer,data:t,baseStartTime:i.baseStartTime,callback:e=>{i.bytes=t=e.data;e=e.result;e&&(s(i,{hasAudio:e.hasAudio,hasVideo:e.hasVideo,isMuxed:m}),s=null,e.hasAudio&&!m&&g(e.audioStart),e.hasVideo&&y(e.videoStart),g=null,y=null),dh({bytes:t,transmuxer:i.transmuxer,audioAppendStart:i.audioAppendStart,gopsToAlignWith:i.gopsToAlignWith,remux:m,onData:e=>{e.type="combined"===e.type?"video":e.type,h(i,e)},onTrackInfo:e=>{s&&(m&&(e.isMuxed=!0),s(i,e))},onAudioTimingInfo:e=>{g&&"undefined"!=typeof e.start&&(g(e.start),g=null),f&&"undefined"!=typeof e.end&&f(e.end)},onVideoTimingInfo:e=>{y&&"undefined"!=typeof e.start&&(y(e.start),y=null),_&&"undefined"!=typeof e.end&&_(e.end)},onVideoSegmentTimingInfo:e=>{r(e)},onAudioSegmentTimingInfo:e=>{n(e)},onId3:(e,t)=>{a(i,e,t)},onCaptions:e=>{o(i,[e])},isEndOfTimeline:l,onEndedTimeline:()=>{d()},onTransmuxerLog:c,onDone:e=>{u&&(e.type="combined"===e.type?"video":e.type,u(null,i,e))}})}})},kh=({segment:i,bytes:s,trackInfoFn:e,timingInfoFn:r,videoSegmentTimingInfoFn:t,audioSegmentTimingInfoFn:n,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:d,dataFn:h,doneFn:u,onTransmuxerLog:c})=>{let p=new Uint8Array(s);if(m=p,0<ml(m,["moof"]).length){i.isFmp4=!0;const g=i.map["tracks"],f={isFmp4:!0,hasVideo:!!g.video,hasAudio:!!g.audio},y=(g.audio&&g.audio.codec&&"enca"!==g.audio.codec&&(f.audioCodec=g.audio.codec),g.video&&g.video.codec&&"encv"!==g.video.codec&&(f.videoCodec=g.video.codec),g.video&&g.audio&&(f.isMuxed=!0),e(i,f),e=>{h(i,{data:p,type:f.hasAudio&&!f.isMuxed?"audio":"video"}),e&&e.length&&o(i,e),u(null,i,{})});void ch({action:"probeMp4StartTime",timescales:i.map.timescales,data:p,transmuxer:i.transmuxer,callback:({data:e,startTime:t})=>{s=e.buffer,i.bytes=p=e,f.hasAudio&&!f.isMuxed&&r(i,"audio","start",t),f.hasVideo&&r(i,"video","start",t),g.video&&e.byteLength&&i.transmuxer?ch({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:i.transmuxer,data:p,timescales:i.map.timescales,trackIds:[g.video.id],callback:e=>{s=e.data.buffer,i.bytes=p=e.data,e.logs.forEach(function(e){c(O(e,{stream:"mp4CaptionParser"}))}),y(e.captions)}}):y()}})}else{var m;i.transmuxer?("undefined"==typeof i.container&&(i.container=_l(p)),"ts"!==i.container&&"aac"!==i.container?(e(i,{hasAudio:!1,hasVideo:!1}),u(null,i,{})):Eh({segment:i,bytes:s,trackInfoFn:e,timingInfoFn:r,videoSegmentTimingInfoFn:t,audioSegmentTimingInfoFn:n,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:d,dataFn:h,doneFn:u,onTransmuxerLog:c})):u(null,i,{})}},Ch=function({id:t,key:e,encryptedBytes:i,decryptionWorker:s},r){const n=e=>{e.data.source===t&&(s.removeEventListener("message",n),e=e.data.decrypted,r(new Uint8Array(e.bytes,e.byteOffset,e.byteLength)))};s.addEventListener("message",n);let a;a=e.bytes.slice?e.bytes.slice():new Uint32Array(Array.prototype.slice.call(e.bytes)),s.postMessage(Od({source:t,encrypted:i,key:a,iv:e.iv}),[i.buffer,a.buffer])},Ih=({decryptionWorker:e,segment:t,trackInfoFn:i,timingInfoFn:s,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:n,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:d,dataFn:h,doneFn:u,onTransmuxerLog:c})=>{Ch({id:t.requestId,key:t.key,encryptedBytes:t.encryptedBytes,decryptionWorker:e},e=>{t.bytes=e,kh({segment:t,bytes:t.bytes,trackInfoFn:i,timingInfoFn:s,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:n,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:d,dataFn:h,doneFn:u,onTransmuxerLog:c})})},xh=({xhr:e,xhrOptions:t,decryptionWorker:i,segment:s,abortFn:r,progressFn:n,trackInfoFn:a,timingInfoFn:o,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:d,id3Fn:h,captionsFn:u,isEndOfTimeline:c,endedTimelineFn:p,dataFn:m,doneFn:g,onTransmuxerLog:f})=>{const y=[];var _,v,i=(({activeXhrs:s,decryptionWorker:r,trackInfoFn:n,timingInfoFn:a,videoSegmentTimingInfoFn:o,audioSegmentTimingInfoFn:l,id3Fn:d,captionsFn:h,isEndOfTimeline:u,endedTimelineFn:c,dataFn:p,doneFn:m,onTransmuxerLog:g})=>{let f=0,y=!1;return(e,t)=>{if(!y){if(e)return y=!0,_h(s),m(e,t);if((f+=1)===s.length){const i=function(){if(t.encryptedBytes)return Ih({decryptionWorker:r,segment:t,trackInfoFn:n,timingInfoFn:a,videoSegmentTimingInfoFn:o,audioSegmentTimingInfoFn:l,id3Fn:d,captionsFn:h,isEndOfTimeline:u,endedTimelineFn:c,dataFn:p,doneFn:m,onTransmuxerLog:g});kh({segment:t,bytes:t.bytes,trackInfoFn:n,timingInfoFn:a,videoSegmentTimingInfoFn:o,audioSegmentTimingInfoFn:l,id3Fn:d,captionsFn:h,isEndOfTimeline:u,endedTimelineFn:c,dataFn:p,doneFn:m,onTransmuxerLog:g})};if(t.endOfAllRequests=Date.now(),t.map&&t.map.encryptedBytes&&!t.map.bytes)return Ch({decryptionWorker:r,id:t.requestId+"-init",encryptedBytes:t.map.encryptedBytes,key:t.map.key},e=>{t.map.bytes=e,wh(t,e=>{if(e)return _h(s),m(e,t);i()})});i()}}}})({activeXhrs:y,decryptionWorker:i,trackInfoFn:a,timingInfoFn:o,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:d,id3Fn:h,captionsFn:u,isEndOfTimeline:c,endedTimelineFn:p,dataFn:m,doneFn:g,onTransmuxerLog:f}),u=(s.key&&!s.key.bytes&&(a=[s.key],s.map&&!s.map.bytes&&s.map.key&&s.map.key.resolvedUri===s.key.resolvedUri&&a.push(s.map.key),o=e(O(t,{uri:s.key.resolvedUri,responseType:"arraybuffer"}),Sh(s,a,i)),y.push(o)),s.map&&!s.map.bytes&&(!s.map.key||s.key&&s.key.resolvedUri===s.map.key.resolvedUri||(l=e(O(t,{uri:s.map.key.resolvedUri,responseType:"arraybuffer"}),Sh(s,[s.map.key],i)),y.push(l)),d=O(t,{uri:s.map.resolvedUri,responseType:"arraybuffer",headers:Ad(s.map)}),{segment:_,finishProcessingFn:v}=[{segment:s,finishProcessingFn:i}][0],h=e(d,(e,t)=>{var e=Th(e,t);return e?v(e,_):(e=new Uint8Array(t.response),_.map.key?(_.map.encryptedBytes=e,v(null,_)):(_.map.bytes=e,void wh(_,function(e){if(e)return e.xhr=t,e.status=t.status,v(e,_);v(null,_)})))}),y.push(h)),O(t,{uri:s.part&&s.part.resolvedUri||s.resolvedUri,responseType:"arraybuffer",headers:Ad(s)}));({segment:b,finishProcessingFn:T,responseType:S}={segment:s,finishProcessingFn:i,responseType:u.responseType});var b,T,S,w,E,c=e(u,(e,t)=>{var e=Th(e,t);return e?T(e,b):(e="arraybuffer"!==S&&t.responseText?Qd(t.responseText.substring(b.lastReachedChar||0)):t.response,b.stats=vh(t),b.key?b.encryptedBytes=new Uint8Array(e):b.bytes=new Uint8Array(e),T(null,b))});c.addEventListener("progress",({segment:w,progressFn:E}=[{segment:s,progressFn:n}][0],e=>{var t=e.target;if(!t.aborted)return w.stats=O(w.stats,bh(e)),!w.stats.firstBytesReceivedAt&&w.stats.bytesReceived&&(w.stats.firstBytesReceivedAt=Date.now()),E(e,w)})),y.push(c);const k={};return y.forEach(e=>{var t,i;e.addEventListener("loadend",({loadendState:t,abortFn:i}=[{loadendState:k,abortFn:r}][0],e=>{e.target.aborted&&i&&!t.calledAbortFn&&(i(),t.calledAbortFn=!0)}))}),()=>_h(y)},Ah=Bl("CodecUtils"),Ph=(e,t)=>{t=t.attributes||{};return e&&e.mediaGroups&&e.mediaGroups.AUDIO&&t.AUDIO&&e.mediaGroups.AUDIO[t.AUDIO]},Lh=function(e){const s={};return e.forEach(({mediaType:e,type:t,details:i})=>{s[e]=s[e]||[],s[e].push(Rn(""+t+i))}),Object.keys(s).forEach(function(e){1<s[e].length?(Ah(`multiple ${e} codecs found as attributes: ${s[e].join(", ")}. Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs.`),s[e]=null):s[e]=s[e][0]}),s},Oh=Bl("PlaylistSelector"),Dh=function(e){var t;if(e&&e.playlist)return t=e.playlist,JSON.stringify({id:t.id,bandwidth:e.bandwidth,width:e.width,height:e.height,codecs:t.attributes&&t.attributes.CODECS||""})},Nh=function(e,s){const r=e.slice();e.sort(function(e,t){var i=s(e,t);return 0===i?r.indexOf(e)-r.indexOf(t):i})};function Mh(o,t,l,d,h,u){if(o){var c={bandwidth:t,width:l,height:d,limitRenditionByPlayerDimensions:h};let e=o.playlists,r=(md.isAudioOnly(o)&&(e=u.getAudioTrackPlaylists_(),c.audioOnly=!0),e.map(e=>{var t=e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width,i=e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height,s=e.attributes&&e.attributes.BANDWIDTH;return{bandwidth:s||window.Number.MAX_VALUE,width:t,height:i,playlist:e}})),n=(Nh(r,(e,t)=>e.bandwidth-t.bandwidth),(r=r.filter(e=>!md.isIncompatible(e.playlist))).filter(e=>md.isEnabled(e.playlist)));o=(n=n.length?n:r.filter(e=>!md.isDisabled(e.playlist))).filter(e=>e.bandwidth*D.BANDWIDTH_VARIANCE<t);let a=o[o.length-1];var p=o.filter(e=>e.bandwidth===a.bandwidth)[0];if(!1===h){const g=p||n[0]||r[0];if(g&&g.playlist){let e=p?"bandwidthBestRep":"sortedPlaylistReps";return n[0]&&(e="enabledPlaylistReps"),Oh(`choosing ${Dh(g)} using ${e} with options`,c),g.playlist}}else{var m,h=o.filter(e=>e.width&&e.height),o=(Nh(h,(e,t)=>e.width-t.width),h.filter(e=>e.width===l&&e.height===d)),o=(a=o[o.length-1],o.filter(e=>e.bandwidth===a.bandwidth)[0]);let t,i;o||(m=(t=h.filter(e=>e.width>l||e.height>d)).filter(e=>e.width===t[0].width&&e.height===t[0].height),a=m[m.length-1],i=m.filter(e=>e.bandwidth===a.bandwidth)[0]);let s;u.leastPixelDiffSelector&&(m=h.map(e=>(e.pixelDiff=Math.abs(e.width-l)+Math.abs(e.height-d),e)),Nh(m,(e,t)=>e.pixelDiff===t.pixelDiff?t.bandwidth-e.bandwidth:e.pixelDiff-t.pixelDiff),s=m[0]);const g=s||i||o||p||n[0]||r[0];if(g&&g.playlist){let e="sortedPlaylistReps";return s?e="leastPixelDiffRep":i?e="resolutionPlusOneRep":o?e="resolutionBestRep":p?e="bandwidthBestRep":n[0]&&(e="enabledPlaylistReps"),Oh(`choosing ${Dh(g)} using ${e} with options`,c),g.playlist}}return Oh("could not choose a playlist with options",c),null}}function Rh(){var e=this.useDevicePixelRatio&&window.devicePixelRatio||1;return Mh(this.playlists.main,this.systemBandwidth,parseInt(gh(this.tech_.el(),"width"),10)*e,parseInt(gh(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions,this.playlistController_)}function Uh(e,t,i){let s;var r;if(i&&i.cues)for(s=i.cues.length;s--;)(r=i.cues[s]).startTime>=e&&r.endTime<=t&&i.removeCue(r)}const Bh=({inbandTextTracks:e,metadataArray:t,timestampOffset:i,videoDuration:s})=>{if(t){const a=window.WebKitDataCue||window.VTTCue,o=e.metadataTrack_;if(o&&(t.forEach(e=>{const s=e.cueTime+i;!("number"!=typeof s||window.isNaN(s)||s<0)&&s<1/0&&e.frames.forEach(e=>{var t,i=new a(s,s,e.value||e.url||e.data||"");i.frame=e,i.value=e,t=i,Object.defineProperties(t.frame,{id:{get(){return T.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get(){return T.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get(){return T.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}}),o.addCue(i)})}),o.cues)&&o.cues.length){var r=o.cues,n=[];for(let e=0;e<r.length;e++)r[e]&&n.push(r[e]);const l=n.reduce((e,t)=>{var i=e[t.startTime]||[];return i.push(t),e[t.startTime]=i,e},{}),d=Object.keys(l).sort((e,t)=>Number(e)-Number(t));d.forEach((e,t)=>{e=l[e];const i=Number(d[t+1])||s;e.forEach(e=>{e.endTime=i})})}}},Fh=e=>"number"==typeof e&&isFinite(e),jh=e=>{var{startOfSegment:t,duration:i,segment:s,part:r,playlist:{mediaSequence:n,id:a,segments:o=[]},mediaIndex:l,partIndex:d,timeline:h}=e,o=o.length-1;let u="mediaIndex/partIndex increment";e.getMediaInfoForTime?u=`getMediaInfoForTime (${e.getMediaInfoForTime})`:e.isSyncRequest&&(u="getSyncSegmentCandidate (isSyncRequest)"),e.independent&&(u+=" with independent "+e.independent);var c="number"==typeof d,e=e.segment.uri?"segment":"pre-segment",p=c?ed({preloadSegment:s})-1:0;return e+` [${n+l}/${n+o}]`+(c?` part [${d}/${p}]`:"")+` segment start/end [${s.start} => ${s.end}]`+(c?` part start/end [${r.start} => ${r.end}]`:"")+` startOfSegment [${t}]`+` duration [${i}]`+` timeline [${h}]`+` selected by [${u}]`+` playlist [${a}]`},Hh=e=>e+"TimingInfo",qh=({timelineChangeController:e,currentTimeline:t,segmentTimeline:i,loaderType:s,audioDisabled:r})=>{return!(t===i||("audio"===s?(t=e.lastTimelineChange({type:"main"}))&&t.to===i:"main"!==s||!r||(t=e.pendingTimelineChange({type:"audio"}))&&t.to===i))},Vh=({segmentDuration:e,maxDuration:t})=>!!e&&Math.round(e)>t+Gl,$h=(e,t)=>{var i,s,r;return"hls"===t&&(t=(e=>{let s=0;return["video","audio"].forEach(function(t){t=e[t+"TimingInfo"];if(t){var{start:t,end:i}=t;let e;"bigint"==typeof t||"bigint"==typeof i?e=window.BigInt(i)-window.BigInt(t):"number"==typeof t&&"number"==typeof i&&(e=i-t),"undefined"!=typeof e&&e>s&&(s=e)}}),s="bigint"==typeof s&&s<Number.MAX_SAFE_INTEGER?Number(s):s})({audioTimingInfo:e.audioTimingInfo,videoTimingInfo:e.videoTimingInfo}))&&(i=e.playlist.targetDuration,s=Vh({segmentDuration:t,maxDuration:2*i}),r=Vh({segmentDuration:t,maxDuration:i}),t=`Segment with index ${e.mediaIndex} `+`from playlist ${e.playlist.id} `+`has a duration of ${t} `+`when the reported duration is ${e.duration} `+`and the target duration is ${i}. `+"For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1",s||r)?{severity:s?"warn":"info",message:t}:null};class Wh extends T.EventTarget{constructor(e,t=0){if(super(),!e)throw new TypeError("Initialization settings are required");if("function"!=typeof e.currentTime)throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");this.bandwidth=e.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.partIndex=null,this.hasPlayed_=e.hasPlayed,this.currentTime_=e.currentTime,this.seekable_=e.seekable,this.seeking_=e.seeking,this.duration_=e.duration,this.mediaSource_=e.mediaSource,this.vhs_=e.vhs,this.loaderType_=e.loaderType,this.currentMediaInfo_=void 0,this.startingMediaInfo_=void 0,this.segmentMetadataTrack_=e.segmentMetadataTrack,this.goalBufferLength_=e.goalBufferLength,this.sourceType_=e.sourceType,this.sourceUpdater_=e.sourceUpdater,this.inbandTextTracks_=e.inbandTextTracks,this.state_="INIT",this.timelineChangeController_=e.timelineChangeController,this.shouldSaveSegmentTimingInfo_=!0,this.parse708captions_=e.parse708captions,this.useDtsForTimestampOffset_=e.useDtsForTimestampOffset,this.captionServices_=e.captionServices,this.exactManifestTimings=e.exactManifestTimings,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.pendingSegment_=null,this.xhrOptions_=null,this.pendingSegments_=[],this.audioDisabled_=!1,this.isPendingTimestampOffset_=!1,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=11<=T.browser.IE_VERSION,this.appendInitSegment_={audio:!0,video:!0},this.playlistOfLastInitSegment_={audio:null,video:null},this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_={id3:[],caption:[]},this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.cacheEncryptionKeys_=e.cacheEncryptionKeys,this.keyCache_={},this.decrypter_=e.decrypter,this.syncController_=e.syncController,this.syncPoint_={segmentIndex:0,time:0},this.transmuxer_=this.createTransmuxer_(),this.triggerSyncInfoUpdate_=()=>this.trigger("syncinfoupdate"),this.syncController_.on("syncinfoupdate",this.triggerSyncInfoUpdate_),this.mediaSource_.addEventListener("sourceopen",()=>{this.isEndOfStream_()||(this.ended_=!1)}),this.fetchAtBuffer_=!1,this.logger_=Bl(`SegmentLoader[${this.loaderType_}]`),Object.defineProperty(this,"state",{get(){return this.state_},set(e){e!==this.state_&&(this.logger_(this.state_+" -> "+e),this.state_=e,this.trigger("statechange"))}}),this.sourceUpdater_.on("ready",()=>{this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}),"main"===this.loaderType_&&this.timelineChangeController_.on("pendingtimelinechange",()=>{this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}),"audio"===this.loaderType_&&this.timelineChangeController_.on("timelinechange",()=>{this.hasEnoughInfoToLoad_()&&this.processLoadQueue_(),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()})}createTransmuxer_(){return uh({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})}resetStats_(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0}dispose(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&window.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()}setAudio(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())}abort(){"WAITING"!==this.state?this.pendingSegment_&&(this.pendingSegment_=null):(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_())}abort_(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,window.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null}checkForAbort_(e){return"APPENDING"!==this.state||this.pendingSegment_?!this.pendingSegment_||this.pendingSegment_.requestId!==e:(this.state="READY",!0)}error(e){return"undefined"!=typeof e&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_}endOfStream(){this.ended_=!0,this.transmuxer_&&hh(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")}buffered_(){var e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return Fl();if("main"===this.loaderType_){var{hasAudio:e,hasVideo:t,isMuxed:i}=e;if(t&&e&&!this.audioDisabled_&&!i)return this.sourceUpdater_.buffered();if(t)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()}initSegmentForMap(e,t=!1){if(!e)return null;var i=Dd(e);let s=this.initSegments_[i];return t&&!s&&e.bytes&&(this.initSegments_[i]=s={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),s||e}segmentKey(e,t=!1){if(!e)return null;var i=Nd(e);let s=this.keyCache_[i];this.cacheEncryptionKeys_&&t&&!s&&e.bytes&&(this.keyCache_[i]=s={resolvedUri:e.resolvedUri,bytes:e.bytes});t={resolvedUri:(s||e).resolvedUri};return s&&(t.bytes=s.bytes),t}couldBeginLoading_(){return this.playlist_&&!this.paused()}load(){if(this.monitorBuffer_(),this.playlist_)return"INIT"===this.state&&this.couldBeginLoading_()?this.init_():void(!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY"))}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}playlist(t,i={}){if(t){var s,r=this.playlist_,n=this.pendingSegment_;this.playlist_=t,this.xhrOptions_=i,"INIT"===this.state&&(t.syncInfo={mediaSequence:t.mediaSequence,time:0},"main"===this.loaderType_)&&this.syncController_.setDateTimeMappingForStart(t);let e=null;if(r&&(r.id?e=r.id:r.uri&&(e=r.uri)),this.logger_(`playlist update [${e} => ${t.id||t.uri}]`),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();r&&r.uri===t.uri?(i=t.mediaSequence-r.mediaSequence,this.logger_(`live window shift [${i}]`),null!==this.mediaIndex&&(this.mediaIndex-=i,this.mediaIndex<0?(this.mediaIndex=null,this.partIndex=null):(s=this.playlist_.segments[this.mediaIndex],!this.partIndex||s.parts&&s.parts.length&&s.parts[this.partIndex]||(s=this.mediaIndex,this.logger_(`currently processing part (index ${this.partIndex}) no longer exists.`),this.resetLoader(),this.mediaIndex=s))),n&&(n.mediaIndex-=i,n.mediaIndex<0?(n.mediaIndex=null,n.partIndex=null):(0<=n.mediaIndex&&(n.segment=t.segments[n.mediaIndex]),0<=n.partIndex&&n.segment.parts&&(n.part=n.segment.parts[n.partIndex]))),this.syncController_.saveExpiredSegmentInfo(r,t)):(null!==this.mediaIndex&&(t.endList?this.resyncLoader():this.resetLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate"))}}pause(){this.checkBufferTimeout_&&(window.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}paused(){return null===this.checkBufferTimeout_}resetEverything(e){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))}resetLoader(){this.fetchAtBuffer_=!1,this.resyncLoader()}resyncLoader(){this.transmuxer_&&hh(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}remove(t,i,s=()=>{},r=!1){if((i=i===1/0?this.duration_():i)<=t)this.logger_("skipping remove because end ${end} is <= start ${start}");else if(this.sourceUpdater_&&this.getMediaInfo_()){let e=1;var n=()=>{0===--e&&s()};!r&&this.audioDisabled_||(e++,this.sourceUpdater_.removeAudio(t,i,n)),!r&&"main"!==this.loaderType_||(this.gopBuffer_=((t,i,e,s)=>{var r=Math.ceil((i-s)*Ml),n=Math.ceil((e-s)*Ml),i=t.slice();let a=t.length;for(;a--&&!(t[a].pts<=n););if(-1!==a){let e=a+1;for(;e--&&!(t[e].pts<=r););e=Math.max(e,0),i.splice(e,a-e+1)}return i})(this.gopBuffer_,t,i,this.timeMapping_),e++,this.sourceUpdater_.removeVideo(t,i,n));for(const a in this.inbandTextTracks_)Uh(t,i,this.inbandTextTracks_[a]);Uh(t,i,this.segmentMetadataTrack_),n()}else this.logger_("skipping remove because no source updater or starting media info")}monitorBuffer_(){this.checkBufferTimeout_&&window.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=window.setTimeout(this.monitorBufferTick_.bind(this),1)}monitorBufferTick_(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&window.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=window.setTimeout(this.monitorBufferTick_.bind(this),500)}fillBuffer_(){var e;this.sourceUpdater_.updating()||(e=this.chooseNextRequest_())&&("number"==typeof e.timestampOffset&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e))}isEndOfStream_(e=this.mediaIndex,t=this.playlist_,i=this.partIndex){var s;return!(!t||!this.mediaSource_)&&(s="number"==typeof e&&t.segments[e],e=e+1===t.segments.length,i=!s||!s.parts||i+1===s.parts.length,t.endList)&&"open"===this.mediaSource_.readyState&&e&&i}chooseNextRequest_(){var e=this.buffered_(),t=ql(e)||0,e=Vl(e,this.currentTime_()),i=!this.hasPlayed_()&&1<=e,s=e>=this.goalBufferLength_(),r=this.playlist_.segments;if(!r.length||i||s)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());var n,i={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:Boolean(!this.syncPoint_)},t=(i.isSyncRequest?i.mediaIndex=function(t,i,s){i=i||[];var r=[];let n=0;for(let e=0;e<i.length;e++){var a=i[e];if(t===a.timeline&&(r.push(e),(n+=a.duration)>s))return e}return 0===r.length?0:r[r.length-1]}(this.currentTimeline_,r,t):null!==this.mediaIndex?(s=r[this.mediaIndex],n="number"==typeof this.partIndex?this.partIndex:-1,i.startOfSegment=s.end||t,s.parts&&s.parts[n+1]?(i.mediaIndex=this.mediaIndex,i.partIndex=n+1):i.mediaIndex=this.mediaIndex+1):({segmentIndex:s,startTime:n,partIndex:o}=md.getMediaInfoForTime({exactManifestTimings:this.exactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?t:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time}),i.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd "+t:"currentTime "+this.currentTime_(),i.mediaIndex=s,i.startOfSegment=n,i.partIndex=o),r[i.mediaIndex]);let a=t&&"number"==typeof i.partIndex&&t.parts&&t.parts[i.partIndex];if(!t||"number"==typeof i.partIndex&&!a)return null;"number"!=typeof i.partIndex&&t.parts&&(i.partIndex=0,a=t.parts[0]),e||!a||a.independent||(0===i.partIndex?(n=(s=r[i.mediaIndex-1]).parts&&s.parts.length&&s.parts[s.parts.length-1])&&n.independent&&(--i.mediaIndex,i.partIndex=s.parts.length-1,i.independent="previous segment"):t.parts[i.partIndex-1].independent&&(--i.partIndex,i.independent="previous part"));var o=this.mediaSource_&&"ended"===this.mediaSource_.readyState;return i.mediaIndex>=r.length-1&&o&&!this.seeking_()?null:this.generateSegmentInfo_(i)}generateSegmentInfo_(e){var{independent:e,playlist:t,mediaIndex:i,startOfSegment:s,isSyncRequest:r,partIndex:n,forceTimestampOffset:a,getMediaInfoForTime:o}=e,l=t.segments[i],d="number"==typeof n&&l.parts[n],i={requestId:"segment-loader-"+Math.random(),uri:d&&d.resolvedUri||l.resolvedUri,mediaIndex:i,partIndex:d?n:null,isSyncRequest:r,startOfSegment:s,playlist:t,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:l.timeline,duration:d&&d.duration||l.duration,segment:l,part:d,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:o,independent:e},n="undefined"!=typeof a?a:this.isPendingTimestampOffset_,r=(i.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:l.timeline,currentTimeline:this.currentTimeline_,startOfSegment:s,buffered:this.buffered_(),overrideCheck:n}),ql(this.sourceUpdater_.audioBuffered()));return"number"==typeof r&&(i.audioAppendStart=r-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(i.gopsToAlignWith=((e,t,i)=>{if("undefined"==typeof t||null===t||!e.length)return[];var s=Math.ceil((t-i+3)*Ml);let r;for(r=0;r<e.length&&!(e[r].pts>s);r++);return e.slice(r)})(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),i}timestampOffsetForSegment_(e){return{segmentTimeline:e,currentTimeline:t,startOfSegment:i,buffered:s,overrideCheck:r}=[e][0],r||e!==t?!(e<t)&&s.length?s.end(s.length-1):i:null;var t,i,s,r}earlyAbortWhenNeeded_(t){if(!this.vhs_.tech_.paused()&&this.xhrOptions_.timeout&&this.playlist_.attributes.BANDWIDTH&&!(Date.now()-(t.firstBytesReceivedAt||Date.now())<1e3)){var e=this.currentTime_(),i=t.bandwidth,s=this.pendingSegment_.duration,t=md.estimateSegmentRequestTime(s,i,this.playlist_,t.bytesReceived),r=([r,n,a=1]=[this.buffered_(),e,this.vhs_.tech_.playbackRate()],((r.length?r.end(r.length-1):0)-n)/a-1);if(!(t<=r)){var n=function(e){const{main:t,currentTime:i,bandwidth:s,duration:r,segmentDuration:n,timeUntilRebuffer:a,currentTimeline:o,syncController:l}=e;e=t.playlists.filter(e=>!md.isIncompatible(e));let d=e.filter(md.isEnabled);var e=(d=d.length?d:e.filter(e=>!md.isDisabled(e))).filter(md.hasAttribute.bind(null,"BANDWIDTH")).map(e=>{var t=l.getSyncPoint(e,r,o,i)?1:2;return{playlist:e,rebufferingImpact:md.estimateSegmentRequestTime(n,s,e)*t-a}}),h=e.filter(e=>e.rebufferingImpact<=0);return Nh(h,(e,t)=>fh(t.playlist,e.playlist)),h.length?h[0]:(Nh(e,(e,t)=>e.rebufferingImpact-t.rebufferingImpact),e[0]||null)}({main:this.vhs_.playlists.main,currentTime:e,bandwidth:i,duration:this.duration_(),segmentDuration:s,timeUntilRebuffer:r,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(n){var a=t-r-n.rebufferingImpact;let e=.5;r<=Gl&&(e=1),!n.playlist||n.playlist.uri===this.playlist_.uri||a<e||(this.bandwidth=n.playlist.attributes.BANDWIDTH*D.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}}}}handleAbort_(e){this.logger_("Aborting "+jh(e)),this.mediaRequestsAborted+=1}handleProgress_(e,t){this.earlyAbortWhenNeeded_(t.stats),this.checkForAbort_(t.requestId)||this.trigger("progress")}handleTrackInfo_(e,t){this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId)||this.checkForIllegalMediaSwitch(t)||(function(t,i){if(!t&&!i||!t&&i||t&&!i)return!1;if(t!==i){var s=Object.keys(t).sort(),r=Object.keys(i).sort();if(s.length!==r.length)return!1;for(let e=0;e<s.length;e++){var n=s[e];if(n!==r[e])return!1;if(t[n]!==i[n])return!1}}return!0}(this.currentMediaInfo_,t=t||{})||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=t,this.currentMediaInfo_=t,this.logger_("trackinfo update",t),this.trigger("trackinfo")),this.checkForAbort_(e.requestId))||(this.pendingSegment_.trackInfo=t,this.hasEnoughInfoToAppend_()&&this.processCallQueue_())}handleTimingInfo_(e,t,i,s){var r;this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId)||((e=this.pendingSegment_)[r=Hh(t)]=e[r]||{},e[r][i]=s,this.logger_(`timinginfo: ${t} - ${i} - `+s),this.hasEnoughInfoToAppend_()&&this.processCallQueue_())}handleCaptions_(e,t){if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId))if(0===t.length)this.logger_("SegmentLoader received no captions from a caption event");else if(this.pendingSegment_.hasAppendedData_){const c=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),p={};t.forEach(e=>{p[e.stream]=p[e.stream]||{startTime:1/0,captions:[],endTime:0};var t=p[e.stream];t.startTime=Math.min(t.startTime,e.startTime+c),t.endTime=Math.max(t.endTime,e.endTime+c),t.captions.push(e)}),Object.keys(p).forEach(e=>{var{startTime:t,endTime:i,captions:s}=p[e],r=this.inbandTextTracks_,n=(this.logger_(`adding cues from ${t} -> ${i} for `+e),r),a=this.vhs_.tech_,o=e;if(!n[o]){a.trigger({type:"usage",name:"vhs-608"});let s=o;/^cc708_/.test(o)&&(s="SERVICE"+o.split("_")[1]);var l=a.textTracks().getTrackById(s);if(l)n[o]=l;else{let e=o,t=o,i=!1;l=(a.options_.vhs&&a.options_.vhs.captionServices||{})[s];l&&(e=l.label,t=l.language,i=l.default),n[o]=a.addRemoteTextTrack({kind:"captions",id:s,default:i,label:e,language:t},!1).track}}Uh(t,i,r[e]);var{inbandTextTracks:d,captionArray:l,timestampOffset:h}={captionArray:s,inbandTextTracks:r,timestampOffset:c};if(l){const u=window.WebKitDataCue||window.VTTCue;l.forEach(e=>{var t=e.stream;d[t].addCue(new u(e.startTime+h,e.endTime+h,e.text))})}}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}else this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,t))}handleId3_(e,t,i){var s,r,n,a;this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId)||(this.pendingSegment_.hasAppendedData_?(s=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),r=this.inbandTextTracks_,n=i,a=this.vhs_.tech_,r.metadataTrack_||(r.metadataTrack_=a.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,r.metadataTrack_.inBandMetadataTrackDispatchType=n),Bh({inbandTextTracks:this.inbandTextTracks_,metadataArray:t,timestampOffset:s,videoDuration:this.duration_()})):this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,t,i)))}processMetadataQueue_(){this.metadataQueue_.id3.forEach(e=>e()),this.metadataQueue_.caption.forEach(e=>e()),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]}processCallQueue_(){var e=this.callQueue_;this.callQueue_=[],e.forEach(e=>e())}processLoadQueue_(){var e=this.loadQueue_;this.loadQueue_=[],e.forEach(e=>e())}hasEnoughInfoToLoad_(){var e;return"audio"!==this.loaderType_||!(!(e=this.pendingSegment_)||this.getCurrentMediaInfo_()&&qh({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))}getCurrentMediaInfo_(e=this.pendingSegment_){return e&&e.trackInfo||this.currentMediaInfo_}getMediaInfo_(e=this.pendingSegment_){return this.getCurrentMediaInfo_(e)||this.startingMediaInfo_}getPendingSegmentPlaylist(){return this.pendingSegment_?this.pendingSegment_.playlist:null}hasEnoughInfoToAppend_(){var e,t,i,s;return!!this.sourceUpdater_.ready()&&!(this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_||(e=this.pendingSegment_,t=this.getCurrentMediaInfo_(),!e)||!t||({hasAudio:t,hasVideo:i,isMuxed:s}=t,i&&!e.videoTimingInfo)||t&&!this.audioDisabled_&&!s&&!e.audioTimingInfo||qh({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))}handleData_(t,e){if(this.earlyAbortWhenNeeded_(t.stats),!this.checkForAbort_(t.requestId))if(this.callQueue_.length||!this.hasEnoughInfoToAppend_())this.callQueue_.push(this.handleData_.bind(this,t,e));else{var i=this.pendingSegment_;if(this.setTimeMapping_(i.timeline),this.updateMediaSecondsLoaded_(i.part||i.segment),"closed"!==this.mediaSource_.readyState){if(t.map&&(t.map=this.initSegmentForMap(t.map,!0),i.segment.map=t.map),t.key&&this.segmentKey(t.key,!0),i.isFmp4=t.isFmp4,i.timingInfo=i.timingInfo||{},i.isFmp4)this.trigger("fmp4"),i.timingInfo.start=i[Hh(e.type)].start;else{t=this.getCurrentMediaInfo_(),t="main"===this.loaderType_&&t&&t.hasVideo;let e;t&&(e=i.videoTimingInfo.start),i.timingInfo.start=this.trueSegmentStart_({currentStart:i.timingInfo.start,playlist:i.playlist,mediaIndex:i.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:t,firstVideoFrameTimeForData:e,videoTimingInfo:i.videoTimingInfo,audioTimingInfo:i.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(i,e.type),this.updateSourceBufferTimestampOffset_(i),i.isSyncRequest){this.updateTimingInfoEnd_(i),this.syncController_.saveSegmentTimingInfo({segmentInfo:i,shouldSaveTimelineMapping:"main"===this.loaderType_});t=this.chooseNextRequest_();if(t.mediaIndex!==i.mediaIndex||t.partIndex!==i.partIndex)return void this.logger_("sync segment was incorrect, not appending");this.logger_("sync segment was correct, appending")}i.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(i,e)}}}updateAppendInitSegmentStatus(e,t){"main"!==this.loaderType_||"number"!=typeof e.timestampOffset||e.changedTimestampOffset||(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[t]!==e.playlist&&(this.appendInitSegment_[t]=!0)}getInitSegmentAndUpdateState_({type:e,initSegment:t,map:i,playlist:s}){if(i){var r=Dd(i);if(this.activeInitSegmentId_===r)return null;t=this.initSegmentForMap(i,!0).bytes,this.activeInitSegmentId_=r}return t&&this.appendInitSegment_[e]?(this.playlistOfLastInitSegment_[e]=s,this.appendInitSegment_[e]=!1,this.activeInitSegmentId_=null,t):null}handleQuotaExceededError_({segmentInfo:e,type:t,bytes:i},s){var r=this.sourceUpdater_.audioBuffered(),n=this.sourceUpdater_.videoBuffered(),a=(1<r.length&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+Yl(r).join(", ")),1<n.length&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+Yl(n).join(", ")),r.length?r.start(0):0),o=r.length?r.end(r.length-1):0,l=n.length?n.start(0):0,d=n.length?n.end(n.length-1):0;o-a<=1&&d-l<=1?(this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. "+`Appended byte length: ${i.byteLength}, `+`audio buffer: ${Yl(r).join(", ")}, `+`video buffer: ${Yl(n).join(", ")}, `),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error")):(this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:e,type:t,bytes:i})),o=this.currentTime_()-1,this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to "+o),this.remove(0,o,()=>{this.logger_("On QUOTA_EXCEEDED_ERR, retrying append in 1s"),this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=window.setTimeout(()=>{this.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),this.quotaExceededErrorRetryTimeout_=null,this.processCallQueue_()},1e3)},!0))}handleAppendError_({segmentInfo:e,type:t,bytes:i},s){s&&(22===s.code?this.handleQuotaExceededError_({segmentInfo:e,type:t,bytes:i}):(this.logger_("Received non QUOTA_EXCEEDED_ERR on append",s),this.error(`${t} append of ${i.length}b failed for segment `+`#${e.mediaIndex} in playlist `+e.playlist.id),this.trigger("appenderror")))}appendToSourceBuffer_({segmentInfo:e,type:t,initSegment:i,data:s,bytes:r}){if(!r){var n=[s];let e=s.byteLength;i&&(n.unshift(i),e+=i.byteLength),r=(e=>{let t=0,i;return e.bytes&&(i=new Uint8Array(e.bytes),e.segments.forEach(e=>{i.set(e,t),t+=e.byteLength})),i})({bytes:e,segments:n})}this.sourceUpdater_.appendBuffer({segmentInfo:e,type:t,bytes:r},this.handleAppendError_.bind(this,{segmentInfo:e,type:t,bytes:r}))}handleSegmentTimingInfo_(e,t,i){this.pendingSegment_&&t===this.pendingSegment_.requestId&&((t=this.pendingSegment_.segment)[e=e+"TimingInfo"]||(t[e]={}),t[e].transmuxerPrependedSeconds=i.prependedContentDuration||0,t[e].transmuxedPresentationStart=i.start.presentation,t[e].transmuxedDecodeStart=i.start.decode,t[e].transmuxedPresentationEnd=i.end.presentation,t[e].transmuxedDecodeEnd=i.end.decode,t[e].baseMediaDecodeTime=i.baseMediaDecodeTime)}appendData_(e,t){var{type:i,data:s}=t;s&&s.byteLength&&("audio"===i&&this.audioDisabled_||(t=this.getInitSegmentAndUpdateState_({type:i,initSegment:t.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null}),this.appendToSourceBuffer_({segmentInfo:e,type:i,initSegment:t,data:s})))}loadSegment_(t){this.state="WAITING",this.pendingSegment_=t,this.trimBackBuffer_(t),"number"==typeof t.timestampOffset&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.hasEnoughInfoToLoad_()?this.updateTransmuxerAndRequestSegment_(t):this.loadQueue_.push(()=>{var e=fi({},t,{forceTimestampOffset:!0});fi(t,this.generateSegmentInfo_(e)),this.isPendingTimestampOffset_=!1,this.updateTransmuxerAndRequestSegment_(t)})}updateTransmuxerAndRequestSegment_(s){this.shouldUpdateTransmuxerTimestampOffset_(s.timestampOffset)&&(this.gopBuffer_.length=0,s.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:s.timestampOffset}));var e=this.createSimplifiedSegmentObj_(s),t=this.isEndOfStream_(s.mediaIndex,s.playlist,s.partIndex),i=null!==this.mediaIndex,r=s.timeline!==this.currentTimeline_&&0<s.timeline,t=t||i&&r;this.logger_("Requesting "+jh(s)),e.map&&!e.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),s.abortRequests=xh({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:e,abortFn:this.handleAbort_.bind(this,s),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",s.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",s.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:t,endedTimelineFn:()=>{this.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:({message:e,level:t,stream:i})=>{this.logger_(jh(s)+` logged from transmuxer stream ${i} as a ${t}: `+e)}})}trimBackBuffer_(e){var t=((e,t,i)=>{let s=t-D.BACK_BUFFER_LENGTH;return e.length&&(s=Math.max(s,e.start(0))),Math.min(t-i,s)})(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);0<t&&this.remove(0,t)}createSimplifiedSegmentObj_(e){var t=e.segment,i=e.part,i={resolvedUri:(i||t).resolvedUri,byterange:(i||t).byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part},s=e.playlist.segments[e.mediaIndex-1];return s&&s.timeline===t.timeline&&(s.videoTimingInfo?i.baseStartTime=s.videoTimingInfo.transmuxedDecodeEnd:s.audioTimingInfo&&(i.baseStartTime=s.audioTimingInfo.transmuxedDecodeEnd)),t.key&&(s=t.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]),i.key=this.segmentKey(t.key),i.key.iv=s),t.map&&(i.map=this.initSegmentForMap(t.map)),i}saveTransferStats_(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)}saveBandwidthRelatedStats_(e,t){this.pendingSegment_.byteLength=t.bytesReceived,e<1/60?this.logger_("Ignoring segment's bandwidth because its duration of "+e+" is less than the min to record "+1/60):(this.bandwidth=t.bandwidth,this.roundTrip=t.roundTripTime)}handleTimeout_(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")}segmentRequestFinished_(e,t,i){if(this.callQueue_.length)this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,t,i));else if(this.saveTransferStats_(t.stats),this.pendingSegment_&&t.requestId===this.pendingSegment_.requestId){if(e)return this.pendingSegment_=null,this.state="READY",e.code===yh.ABORTED?void 0:(this.pause(),e.code===yh.TIMEOUT?void this.handleTimeout_():(this.mediaRequestsErrored+=1,this.error(e),void this.trigger("error")));e=this.pendingSegment_;this.saveBandwidthRelatedStats_(e.duration,t.stats),e.endOfAllRequests=t.endOfAllRequests,i.gopInfo&&(this.gopBuffer_=((e,t,i)=>{if(!t.length)return e;if(i)return t.slice();var s=t[0].pts;let r=0;for(r;r<e.length&&!(e[r].pts>=s);r++);return e.slice(0,r).concat(t)})(this.gopBuffer_,i.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(e)}}setTimeMapping_(e){e=this.syncController_.mappingForTimeline(e);null!==e&&(this.timeMapping_=e)}updateMediaSecondsLoaded_(e){"number"==typeof e.start&&"number"==typeof e.end?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration}shouldUpdateTransmuxerTimestampOffset_(e){return null!==e&&("main"===this.loaderType_&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset())}trueSegmentStart_({currentStart:e,playlist:t,mediaIndex:i,firstVideoFrameTimeForData:s,currentVideoTimestampOffset:r,useVideoTimingInfo:n,videoTimingInfo:a,audioTimingInfo:o}){return"undefined"!=typeof e?e:n?(e=t.segments[i-1],0!==i&&e&&"undefined"!=typeof e.start&&e.end===s+r?a.start:s):o.start}waitForAppendsToComplete_(e){var t,i,s=this.getCurrentMediaInfo_(e);s?({hasAudio:s,hasVideo:i,isMuxed:t}=s,i="main"===this.loaderType_&&i,s=!this.audioDisabled_&&s&&!t,e.waitingOnAppends=0,e.hasAppendedData_?(i&&e.waitingOnAppends++,s&&e.waitingOnAppends++,i&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),s&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))):(e.timingInfo||"number"!=typeof e.timestampOffset||(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),this.checkAppendsDone_(e))):(this.error({message:"No starting media returned, likely due to an unsupported media format.",playlistExclusionDuration:1/0}),this.trigger("error"))}checkAppendsDone_(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,0===e.waitingOnAppends&&this.handleAppendsDone_())}checkForIllegalMediaSwitch(e){i=this.loaderType_,t=this.getCurrentMediaInfo_(),e=e;var t,i="main"===i&&t&&e?e.hasAudio||e.hasVideo?t.hasVideo&&!e.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!t.hasVideo&&e.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null;return!!i&&(this.error({message:i,playlistExclusionDuration:1/0}),this.trigger("error"),!0)}updateSourceBufferTimestampOffset_(t){if(null!==t.timestampOffset&&"number"==typeof t.timingInfo.start&&!t.changedTimestampOffset&&"main"===this.loaderType_){let e=!1;t.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:t.segment.videoTimingInfo,audioTimingInfo:t.segment.audioTimingInfo,timingInfo:t.timingInfo}),t.changedTimestampOffset=!0,t.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(t.timestampOffset),e=!0),t.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(t.timestampOffset),e=!0),e&&this.trigger("timestampoffset")}}getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e,audioTimingInfo:t,timingInfo:i}){return this.useDtsForTimestampOffset_?e&&"number"==typeof e.transmuxedDecodeStart?e.transmuxedDecodeStart:t&&"number"==typeof t.transmuxedDecodeStart?t.transmuxedDecodeStart:i.start:i.start}updateTimingInfoEnd_(e){e.timingInfo=e.timingInfo||{};var t=this.getMediaInfo_(),t="main"===this.loaderType_&&t&&t.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;t&&(e.timingInfo.end="number"==typeof t.end?t.end:t.start+e.duration)}handleAppendsDone_(){var e,t,i;this.pendingSegment_&&this.trigger("appendsdone"),this.pendingSegment_?(e=this.pendingSegment_,this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:"main"===this.loaderType_}),(t=$h(e,this.sourceType_))&&("warn"===t.severity?T.log.warn(t.message):this.logger_(t.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",e.isSyncRequest&&(this.trigger("syncinfoupdate"),!e.hasAppendedData_)?this.logger_("Throwing away un-appended sync request "+jh(e)):(this.logger_("Appended "+jh(e)),this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),"main"!==this.loaderType_||this.audioDisabled_||this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate"),t=e.segment,i=e.part,t=t.end&&this.currentTime_()-t.end>3*e.playlist.targetDuration,i=i&&i.end&&this.currentTime_()-i.end>3*e.playlist.partTargetDuration,t||i?(this.logger_(`bad ${t?"segment":"part"} `+jh(e)),this.resetEverything()):(null!==this.mediaIndex&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()))):(this.state="READY",this.paused()||this.monitorBuffer_())}recordThroughput_(e){var t,i;e.duration<1/60?this.logger_("Ignoring segment's throughput because its duration of "+e.duration+" is less than the min to record "+1/60):(t=this.throughput.rate,i=Date.now()-e.endOfAllRequests+1,e=Math.floor(e.byteLength/i*8*1e3),this.throughput.rate+=(e-t)/++this.throughput.count)}addSegmentMetadataCue_(e){var t,i,s,r;this.segmentMetadataTrack_&&(t=(r=e.segment).start,i=r.end,Fh(t))&&Fh(i)&&(Uh(t,i,this.segmentMetadataTrack_),s=window.WebKitDataCue||window.VTTCue,r={custom:r.custom,dateTimeObject:r.dateTimeObject,dateTimeString:r.dateTimeString,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:t,end:i},(e=new s(t,i,JSON.stringify(r))).value=r,this.segmentMetadataTrack_.addCue(e))}}function Gh(){}function zh(e){return"string"!=typeof e?e:e.replace(/./,e=>e.toUpperCase())}const Xh=["video","audio"],Kh=(e,t)=>{var i=t[e+"Buffer"];return i&&i.updating||t.queuePending[e]},Yh=(i,s)=>{if(0!==s.queue.length){let e=0,t=s.queue[e];if("mediaSource"===t.type)s.updating()||"closed"===s.mediaSource.readyState||(s.queue.shift(),t.action(s),t.doneFn&&t.doneFn(),Yh("audio",s),Yh("video",s));else if("mediaSource"!==i&&s.ready()&&"closed"!==s.mediaSource.readyState&&!Kh(i,s)){if(t.type!==i){if(null===(e=((t,i)=>{for(let e=0;e<i.length;e++){var s=i[e];if("mediaSource"===s.type)return null;if(s.type===t)return e}return null})(i,s.queue)))return;t=s.queue[e]}s.queue.splice(e,1),(s.queuePending[i]=t).action(i,s),t.doneFn||(s.queuePending[i]=null,Yh(i,s))}}},Qh=(e,t)=>{var i=t[e+"Buffer"],s=zh(e);i&&(i.removeEventListener("updateend",t[`on${s}UpdateEnd_`]),i.removeEventListener("error",t[`on${s}Error_`]),t.codecs[e]=null,t[e+"Buffer"]=null)},Jh=(e,t)=>e&&t&&-1!==Array.prototype.indexOf.call(e.sourceBuffers,t),Zh={appendBuffer:(s,r,n)=>(t,i)=>{var e=i[t+"Buffer"];if(Jh(i.mediaSource,e)){i.logger_(`Appending segment ${r.mediaIndex}'s ${s.length} bytes to ${t}Buffer`);try{e.appendBuffer(s)}catch(e){i.logger_(`Error with code ${e.code} `+(22===e.code?"(QUOTA_EXCEEDED_ERR) ":"")+`when appending segment ${r.mediaIndex} to ${t}Buffer`),i.queuePending[t]=null,n(e)}}},remove:(s,r)=>(t,i)=>{var e=i[t+"Buffer"];if(Jh(i.mediaSource,e)){i.logger_(`Removing ${s} to ${r} from ${t}Buffer`);try{e.remove(s,r)}catch(e){i.logger_(`Remove ${s} to ${r} from ${t}Buffer failed`)}}},timestampOffset:s=>(e,t)=>{var i=t[e+"Buffer"];Jh(t.mediaSource,i)&&(t.logger_(`Setting ${e}timestampOffset to `+s),i.timestampOffset=s)},callback:i=>(e,t)=>{i()},endOfStream:t=>e=>{if("open"===e.mediaSource.readyState){e.logger_(`Calling mediaSource endOfStream(${t||""})`);try{e.mediaSource.endOfStream(t)}catch(e){T.log.warn("Failed to call media source endOfStream",e)}}},duration:t=>e=>{e.logger_("Setting mediaSource duration to "+t);try{e.mediaSource.duration=t}catch(e){T.log.warn("Failed to set media source duration",e)}},abort:()=>(t,e)=>{if("open"===e.mediaSource.readyState){var i=e[t+"Buffer"];if(Jh(e.mediaSource,i)){e.logger_(`calling abort on ${t}Buffer`);try{i.abort()}catch(e){T.log.warn(`Failed to abort on ${t}Buffer`,e)}}}},addSourceBuffer:(s,r)=>e=>{var t=zh(s),i=Bn(r),i=(e.logger_(`Adding ${s}Buffer with codec ${r} to mediaSource`),e.mediaSource.addSourceBuffer(i));i.addEventListener("updateend",e[`on${t}UpdateEnd_`]),i.addEventListener("error",e[`on${t}Error_`]),e.codecs[s]=r,e[s+"Buffer"]=i},removeSourceBuffer:i=>e=>{var t=e[i+"Buffer"];if(Qh(i,e),Jh(e.mediaSource,t)){e.logger_(`Removing ${i}Buffer with codec ${e.codecs[i]} from mediaSource`);try{e.mediaSource.removeSourceBuffer(t)}catch(e){T.log.warn(`Failed to removeSourceBuffer ${i}Buffer`,e)}}},changeType:r=>(e,t)=>{var i=t[e+"Buffer"],s=Bn(r);Jh(t.mediaSource,i)&&t.codecs[e]!==r&&(t.logger_(`changing ${e}Buffer codec from ${t.codecs[e]} to `+r),i.changeType(s),t.codecs[e]=r)}},eu=({type:e,sourceUpdater:t,action:i,doneFn:s,name:r})=>{t.queue.push({type:e,action:i,doneFn:s,name:r}),Yh(e,t)},tu=(i,s)=>e=>{var t;s.queuePending[i]&&(t=s.queuePending[i].doneFn,s.queuePending[i]=null,t)&&t(s[i+"Error_"]),Yh(i,s)};class iu extends T.EventTarget{constructor(e){super(),this.mediaSource=e,this.sourceopenListener_=()=>Yh("mediaSource",this),this.mediaSource.addEventListener("sourceopen",this.sourceopenListener_),this.logger_=Bl("SourceUpdater"),this.audioTimestampOffset_=0,this.videoTimestampOffset_=0,this.queue=[],this.queuePending={audio:null,video:null},this.delayedAudioAppendQueue_=[],this.videoAppendQueued_=!1,this.codecs={},this.onVideoUpdateEnd_=tu("video",this),this.onAudioUpdateEnd_=tu("audio",this),this.onVideoError_=e=>{this.videoError_=e},this.onAudioError_=e=>{this.audioError_=e},this.createdSourceBuffers_=!1,this.initializedEme_=!1,this.triggeredReady_=!1}initializedEme(){this.initializedEme_=!0,this.triggerReady()}hasCreatedSourceBuffers(){return this.createdSourceBuffers_}hasInitializedAnyEme(){return this.initializedEme_}ready(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()}createSourceBuffers(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())}triggerReady(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))}addSourceBuffer(e,t){eu({type:"mediaSource",sourceUpdater:this,action:Zh.addSourceBuffer(e,t),name:"addSourceBuffer"})}abort(e){eu({type:e,sourceUpdater:this,action:Zh.abort(e),name:"abort"})}removeSourceBuffer(e){this.canRemoveSourceBuffer()?eu({type:"mediaSource",sourceUpdater:this,action:Zh.removeSourceBuffer(e),name:"removeSourceBuffer"}):T.log.error("removeSourceBuffer is not supported!")}canRemoveSourceBuffer(){return!T.browser.IE_VERSION&&!T.browser.IS_FIREFOX&&window.MediaSource&&window.MediaSource.prototype&&"function"==typeof window.MediaSource.prototype.removeSourceBuffer}static canChangeType(){return window.SourceBuffer&&window.SourceBuffer.prototype&&"function"==typeof window.SourceBuffer.prototype.changeType}canChangeType(){return this.constructor.canChangeType()}changeType(e,t){this.canChangeType()?eu({type:e,sourceUpdater:this,action:Zh.changeType(t),name:"changeType"}):T.log.error("changeType is not supported!")}addOrChangeSourceBuffers(i){if(!i||"object"!=typeof i||0===Object.keys(i).length)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(i).forEach(e=>{var t=i[e];if(!this.hasCreatedSourceBuffers())return this.addSourceBuffer(e,t);this.canChangeType()&&this.changeType(e,t)})}appendBuffer(e,t){var{segmentInfo:i,type:s,bytes:r}=e;this.processedAppend_=!0,"audio"===s&&this.videoBuffer&&!this.videoAppendQueued_?(this.delayedAudioAppendQueue_.push([e,t]),this.logger_(`delayed audio append of ${r.length} until video append`)):(e=t,eu({type:s,sourceUpdater:this,action:Zh.appendBuffer(r,i||{mediaIndex:-1},e),doneFn:t,name:"appendBuffer"}),"video"===s&&(this.videoAppendQueued_=!0,this.delayedAudioAppendQueue_.length)&&(r=this.delayedAudioAppendQueue_.slice(),this.logger_(`queuing delayed audio ${r.length} appendBuffers`),this.delayedAudioAppendQueue_.length=0,r.forEach(e=>{this.appendBuffer.apply(this,e)})))}audioBuffered(){return Jh(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered||Fl()}videoBuffered(){return Jh(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered||Fl()}buffered(){var e=Jh(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,t=Jh(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;if(t&&!e)return this.audioBuffered();if(e&&!t)return this.videoBuffered();{var r=this.audioBuffered();var n=this.videoBuffered();let e=null,t=null,i=0;var a=[],o=[];if(!(r&&r.length&&n&&n.length))return Fl();let s=r.length;for(;s--;)a.push({time:r.start(s),type:"start"}),a.push({time:r.end(s),type:"end"});for(s=n.length;s--;)a.push({time:n.start(s),type:"start"}),a.push({time:n.end(s),type:"end"});for(a.sort(function(e,t){return e.time-t.time}),s=0;s<a.length;s++)"start"===a[s].type?2===++i&&(e=a[s].time):"end"===a[s].type&&1===--i&&(t=a[s].time),null!==e&&null!==t&&(o.push([e,t]),e=null,t=null);return Fl(o);return}}setDuration(e,t=Gh){eu({type:"mediaSource",sourceUpdater:this,action:Zh.duration(e),name:"duration",doneFn:t})}endOfStream(e=null,t=Gh){"string"!=typeof e&&(e=void 0),eu({type:"mediaSource",sourceUpdater:this,action:Zh.endOfStream(e),name:"endOfStream",doneFn:t})}removeAudio(e,t,i=Gh){this.audioBuffered().length&&0!==this.audioBuffered().end(0)?eu({type:"audio",sourceUpdater:this,action:Zh.remove(e,t),doneFn:i,name:"remove"}):i()}removeVideo(e,t,i=Gh){this.videoBuffered().length&&0!==this.videoBuffered().end(0)?eu({type:"video",sourceUpdater:this,action:Zh.remove(e,t),doneFn:i,name:"remove"}):i()}updating(){return!(!Kh("audio",this)&&!Kh("video",this))}audioTimestampOffset(e){return"undefined"!=typeof e&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(eu({type:"audio",sourceUpdater:this,action:Zh.timestampOffset(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_}videoTimestampOffset(e){return"undefined"!=typeof e&&this.videoBuffer&&this.videoTimestampOffset!==e&&(eu({type:"video",sourceUpdater:this,action:Zh.timestampOffset(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_}audioQueueCallback(e){this.audioBuffer&&eu({type:"audio",sourceUpdater:this,action:Zh.callback(e),name:"callback"})}videoQueueCallback(e){this.videoBuffer&&eu({type:"video",sourceUpdater:this,action:Zh.callback(e),name:"callback"})}dispose(){this.trigger("dispose"),Xh.forEach(e=>{this.abort(e),this.canRemoveSourceBuffer()?this.removeSourceBuffer(e):this[e+"QueueCallback"](()=>Qh(e,this))}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()}}const su=e=>decodeURIComponent(escape(String.fromCharCode.apply(null,e))),ru=new Uint8Array("\n\n".split("").map(e=>e.charCodeAt(0)));class nu extends Error{constructor(){super("Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")}}class au extends Wh{constructor(e,t={}){super(e,t),this.mediaSource_=null,this.subtitlesTrack_=null,this.loaderType_="subtitle",this.featuresNativeTextTracks_=e.featuresNativeTextTracks,this.loadVttJs=e.loadVttJs,this.shouldSaveSegmentTimingInfo_=!1}createTransmuxer_(){return null}buffered_(){var e;return this.subtitlesTrack_&&this.subtitlesTrack_.cues&&this.subtitlesTrack_.cues.length?Fl([[(e=this.subtitlesTrack_.cues)[0].startTime,e[e.length-1].startTime]]):Fl()}initSegmentForMap(e,t=!1){if(!e)return null;var i=Dd(e);let s=this.initSegments_[i];return t&&!s&&e.bytes&&(t=ru.byteLength+e.bytes.byteLength,(t=new Uint8Array(t)).set(e.bytes),t.set(ru,e.bytes.byteLength),this.initSegments_[i]=s={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:t}),s||e}couldBeginLoading_(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}track(e){return"undefined"!=typeof e&&(this.subtitlesTrack_=e,"INIT"===this.state&&this.couldBeginLoading_())&&this.init_(),this.subtitlesTrack_}remove(e,t){Uh(e,t,this.subtitlesTrack_)}fillBuffer_(){var e=this.chooseNextRequest_();e&&(null===this.syncController_.timestampOffsetForTimeline(e.timeline)?(this.syncController_.one("timestampoffset",()=>{this.state="READY",this.paused()||this.monitorBuffer_()}),this.state="WAITING_ON_TIMELINE"):this.loadSegment_(e))}timestampOffsetForSegment_(){return null}chooseNextRequest_(){return this.skipEmptySegments_(super.chooseNextRequest_())}skipEmptySegments_(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e}stopForError(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")}segmentRequestFinished_(e,t,i){if(this.subtitlesTrack_)if(this.saveTransferStats_(t.stats),this.pendingSegment_)if(e)e.code===yh.TIMEOUT&&this.handleTimeout_(),e.code===yh.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(e);else{var s=this.pendingSegment_,r=(this.saveBandwidthRelatedStats_(s.duration,t.stats),t.key&&this.segmentKey(t.key,!0),this.state="APPENDING",this.trigger("appending"),s.segment);if(r.map&&(r.map.bytes=t.map.bytes),s.bytes=t.bytes,"function"!=typeof window.WebVTT&&"function"==typeof this.loadVttJs)this.state="WAITING_ON_VTTJS",this.loadVttJs().then(()=>this.segmentRequestFinished_(e,t,i),()=>this.stopForError({message:"Error loading vtt.js"}));else{r.requested=!0;try{this.parseVTTCues_(s)}catch(e){return void this.stopForError({message:e.message})}if(this.updateTimeMapping_(s,this.syncController_.timelines[s.timeline],this.playlist_),s.cues.length?s.timingInfo={start:s.cues[0].startTime,end:s.cues[s.cues.length-1].endTime}:s.timingInfo={start:s.startOfSegment,end:s.startOfSegment+s.duration},s.isSyncRequest)this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";else{s.byteLength=s.bytes.byteLength,this.mediaSecondsLoaded+=r.duration,s.cues.forEach(e=>{this.subtitlesTrack_.addCue(this.featuresNativeTextTracks_?new window.VTTCue(e.startTime,e.endTime,e.text):e)});var n=this.subtitlesTrack_,a=n.cues;if(a)for(let i=0;i<a.length;i++){var o=[];let t=0;for(let e=0;e<a.length;e++)a[i].startTime===a[e].startTime&&a[i].endTime===a[e].endTime&&a[i].text===a[e].text&&1<++t&&o.push(a[e]);o.length&&o.forEach(e=>n.removeCue(e))}this.handleAppendsDone_()}}}else this.state="READY",this.mediaRequestsAborted+=1;else this.state="READY"}handleData_(){}updateTimingInfoEnd_(){}parseVTTCues_(t){let e,i=!1;if("function"!=typeof window.WebVTT)throw new nu;"function"==typeof window.TextDecoder?e=new window.TextDecoder("utf8"):(e=window.WebVTT.StringDecoder(),i=!0);var s=new window.WebVTT.Parser(window,window.vttjs,e);if(t.cues=[],t.timestampmap={MPEGTS:0,LOCAL:0},s.oncue=t.cues.push.bind(t.cues),s.ontimestampmap=e=>{t.timestampmap=e},s.onparsingerror=e=>{T.log.warn("Error encountered when parsing cues: "+e.message)},t.segment.map){let e=t.segment.map.bytes;i&&(e=su(e)),s.parse(e)}let r=t.bytes;i&&(r=su(r)),s.parse(r),s.flush()}updateTimeMapping_(e,t,i){var s=e.segment;if(t)if(e.cues.length){var r=e.timestampmap;const n=r.MPEGTS/Ml-r.LOCAL+t.mapping;e.cues.forEach(e=>{e.startTime+=n,e.endTime+=n}),i.syncInfo||(r=e.cues[0].startTime,t=e.cues[e.cues.length-1].startTime,i.syncInfo={mediaSequence:i.mediaSequence+e.mediaIndex,time:Math.min(r,t-s.duration)})}else s.empty=!0}}const ou=[{name:"VOD",run:(e,t,i,s,r)=>{return i!==1/0?{time:0,segmentIndex:0,partIndex:null}:null}},{name:"ProgramDateTime",run:(t,i,e,s,r)=>{if(!Object.keys(t.timelineToDatetimeMappings).length)return null;let n=null,a=null;var o=Jl(i);r=r||0;for(let e=0;e<o.length;e++){var l=o[i.endList||0===r?e:o.length-(e+1)],d=l.segment,h=t.timelineToDatetimeMappings[d.timeline];if(h&&d.dateTimeObject){let t=d.dateTimeObject.getTime()/1e3+h;if(d.parts&&"number"==typeof l.partIndex)for(let e=0;e<l.partIndex;e++)t+=d.parts[e].duration;h=Math.abs(r-t);if(null!==a&&(0===h||a<h))break;a=h,n={time:t,segmentIndex:l.segmentIndex,partIndex:l.partIndex}}}return n}},{name:"Segment",run:(e,t,i,s,r)=>{let n=null,a=null;r=r||0;var o=Jl(t);for(let e=0;e<o.length;e++){var l=o[t.endList||0===r?e:o.length-(e+1)],d=l.segment,h=l.part&&l.part.start||d&&d.start;if(d.timeline===s&&"undefined"!=typeof h){d=Math.abs(r-h);if(null!==a&&a<d)break;(!n||null===a||a>=d)&&(a=d,n={time:h,segmentIndex:l.segmentIndex,partIndex:l.partIndex})}}return n}},{name:"Discontinuity",run:(i,s,e,t,r)=>{let n=null;if(r=r||0,s.discontinuityStarts&&s.discontinuityStarts.length){let t=null;for(let e=0;e<s.discontinuityStarts.length;e++){var a=s.discontinuityStarts[e],o=s.discontinuitySequence+e+1,o=i.discontinuities[o];if(o){var l=Math.abs(r-o.time);if(null!==t&&t<l)break;(!n||null===t||t>=l)&&(t=l,n={time:o.time,segmentIndex:a,partIndex:null})}}}return n}},{name:"Playlist",run:(e,t,i,s,r)=>{return t.syncInfo?{time:t.syncInfo.time,segmentIndex:t.syncInfo.mediaSequence-t.mediaSequence,partIndex:null}:null}}];class lu extends T.EventTarget{constructor(e=0){super(),this.timelines=[],this.discontinuities=[],this.timelineToDatetimeMappings={},this.logger_=Bl("SyncController")}getSyncPoint(e,t,i,s){e=this.runStrategies_(e,t,i,s);return e.length?this.selectSyncPoint_(e,{key:"time",value:s}):null}getExpiredTime(e,t){return e&&e.segments&&(t=this.runStrategies_(e,t,e.discontinuitySequence,0)).length?(0<(t=this.selectSyncPoint_(t,{key:"segmentIndex",value:0})).segmentIndex&&(t.time*=-1),Math.abs(t.time+$l({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:t.segmentIndex,endIndex:0}))):null}runStrategies_(t,i,s,r){var n=[];for(let e=0;e<ou.length;e++){var a=ou[e],o=a.run(this,t,i,s,r);o&&(o.strategy=a.name,n.push({strategy:a.name,syncPoint:o}))}return n}selectSyncPoint_(t,i){let s=t[0].syncPoint,r=Math.abs(t[0].syncPoint[i.key]-i.value),n=t[0].strategy;for(let e=1;e<t.length;e++){var a=Math.abs(t[e].syncPoint[i.key]-i.value);a<r&&(r=a,s=t[e].syncPoint,n=t[e].strategy)}return this.logger_(`syncPoint for [${i.key}: ${i.value}] chosen with strategy`+` [${n}]: [time:${s.time},`+" segmentIndex:"+s.segmentIndex+("number"==typeof s.partIndex?",partIndex:"+s.partIndex:"")+"]"),s}saveExpiredSegmentInfo(t,i){var s=i.mediaSequence-t.mediaSequence;if(86400<s)T.log.warn(`Not saving expired segment info. Media sequence gap ${s} is too large.`);else for(let e=s-1;0<=e;e--){var r=t.segments[e];if(r&&"undefined"!=typeof r.start){i.syncInfo={mediaSequence:t.mediaSequence+e,time:r.start},this.logger_(`playlist refresh sync: [time:${i.syncInfo.time},`+` mediaSequence: ${i.syncInfo.mediaSequence}]`),this.trigger("syncinfoupdate");break}}}setDateTimeMappingForStart(e){var t;this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject&&(t=(e=e.segments[0]).dateTimeObject.getTime()/1e3,this.timelineToDatetimeMappings[e.timeline]=-t)}saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:t}){var i=this.calculateSegmentTimeMapping_(e,e.timingInfo,t),s=e.segment,i=(i&&(this.saveDiscontinuitySyncInfo_(e),e.playlist.syncInfo||(e.playlist.syncInfo={mediaSequence:e.playlist.mediaSequence+e.mediaIndex,time:s.start})),s.dateTimeObject);s.discontinuity&&t&&i&&(this.timelineToDatetimeMappings[s.timeline]=-i.getTime()/1e3)}timestampOffsetForTimeline(e){return"undefined"==typeof this.timelines[e]?null:this.timelines[e].time}mappingForTimeline(e){return"undefined"==typeof this.timelines[e]?null:this.timelines[e].mapping}calculateSegmentTimeMapping_(e,t,i){var s=e.segment,r=e.part;let n=this.timelines[e.timeline],a,o;if("number"==typeof e.timestampOffset)n={time:e.startOfSegment,mapping:e.startOfSegment-t.start},i&&(this.timelines[e.timeline]=n,this.trigger("timestampoffset"),this.logger_(`time mapping for timeline ${e.timeline}: `+`[time: ${n.time}] [mapping: ${n.mapping}]`)),a=e.startOfSegment;else{if(!n)return!1;a=t.start+n.mapping}return o=t.end+n.mapping,r&&(r.start=a,r.end=o),(!s.start||a<s.start)&&(s.start=a),s.end=o,!0}saveDiscontinuitySyncInfo_(t){var i=t.playlist,s=t.segment;if(s.discontinuity)this.discontinuities[s.timeline]={time:s.start,accuracy:0};else if(i.discontinuityStarts&&i.discontinuityStarts.length)for(let e=0;e<i.discontinuityStarts.length;e++){var r=i.discontinuityStarts[e],n=i.discontinuitySequence+e+1,a=r-t.mediaIndex,o=Math.abs(a);if(!this.discontinuities[n]||this.discontinuities[n].accuracy>o){let e;e=a<0?s.start-$l({defaultDuration:i.targetDuration,durationList:i.segments,startIndex:t.mediaIndex,endIndex:r}):s.end+$l({defaultDuration:i.targetDuration,durationList:i.segments,startIndex:t.mediaIndex+1,endIndex:r}),this.discontinuities[n]={time:e,accuracy:o}}}}dispose(){this.trigger("dispose"),this.off()}}class du extends T.EventTarget{constructor(){super(),this.pendingTimelineChanges_={},this.lastTimelineChanges_={}}clearPendingTimelineChange(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")}pendingTimelineChange({type:e,from:t,to:i}){return"number"==typeof t&&"number"==typeof i&&(this.pendingTimelineChanges_[e]={type:e,from:t,to:i},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[e]}lastTimelineChange({type:e,from:t,to:i}){return"number"==typeof t&&"number"==typeof i&&(this.lastTimelineChanges_[e]={type:e,from:t,to:i},delete this.pendingTimelineChanges_[e],this.trigger("timelinechange")),this.lastTimelineChanges_[e]}dispose(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()}}var hu=Jd(Zd(eh(function(){var e=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){return!!this.listeners[e]&&(t=this.listeners[e].indexOf(t),this.listeners[e]=this.listeners[e].slice(0),this.listeners[e].splice(t,1),-1<t)},t.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var i=t.length,s=0;s<i;++s)t[s].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),n=t.length,a=0;a<n;++a)t[a].apply(this,r)},t.dispose=function(){this.listeners={}},t.pipe=function(t){this.on("data",function(e){t.push(e)})},e}();
/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */let h=null;class g{constructor(e){h=h||function(){var e=[[[],[],[],[],[]],[[],[],[],[],[]]],t=e[0],i=e[1],s=t[4],r=i[4];let n,a,o;var l,d,h,u,c=[],p=[];let m,g;for(n=0;n<256;n++)p[(c[n]=n<<1^283*(n>>7))^n]=n;for(a=o=0;!s[a];a^=l||1,o=p[o]||1)for(u=(u=o^o<<1^o<<2^o<<3^o<<4)>>8^255&u^99,h=c[d=c[l=c[r[s[a]=u]=a]]],g=16843009*h^65537*d^257*l^16843008*a,m=257*c[u]^16843008*u,n=0;n<4;n++)t[n][a]=m=m<<24^m>>>8,i[n][u]=g=g<<24^g>>>8;for(n=0;n<5;n++)t[n]=t[n].slice(0),i[n]=i[n].slice(0);return e}(),this._tables=[[h[0][0].slice(),h[0][1].slice(),h[0][2].slice(),h[0][3].slice(),h[0][4].slice()],[h[1][0].slice(),h[1][1].slice(),h[1][2].slice(),h[1][3].slice(),h[1][4].slice()]];let t,i,s;var r=this._tables[0][4],n=this._tables[1],a=e.length;let o=1;if(4!==a&&6!==a&&8!==a)throw new Error("Invalid aes key size");var l=e.slice(0),d=[];for(this._key=[l,d],t=a;t<4*a+28;t++)s=l[t-1],(t%a==0||8===a&&t%a==4)&&(s=r[s>>>24]<<24^r[s>>16&255]<<16^r[s>>8&255]<<8^r[255&s],t%a==0)&&(s=s<<8^s>>>24^o<<24,o=o<<1^283*(o>>7)),l[t]=l[t-a]^s;for(i=0;t;i++,t--)s=l[3&i?t:t-4],t<=4||i<4?d[i]=s:d[i]=n[0][r[s>>>24]]^n[1][r[s>>16&255]]^n[2][r[s>>8&255]]^n[3][r[255&s]]}decrypt(e,t,i,s,r,n){var a,o,l=this._key[1];let d=e^l[0],h=s^l[1],u=i^l[2],c=t^l[3],p;var m=l.length/4-2;let g,f=4;var e=this._tables[1],y=e[0],_=e[1],v=e[2],b=e[3],T=e[4];for(g=0;g<m;g++)p=y[d>>>24]^_[h>>16&255]^v[u>>8&255]^b[255&c]^l[f],a=y[h>>>24]^_[u>>16&255]^v[c>>8&255]^b[255&d]^l[f+1],o=y[u>>>24]^_[c>>16&255]^v[d>>8&255]^b[255&h]^l[f+2],c=y[c>>>24]^_[d>>16&255]^v[h>>8&255]^b[255&u]^l[f+3],f+=4,d=p,h=a,u=o;for(g=0;g<4;g++)r[(3&-g)+n]=T[d>>>24]<<24^T[h>>16&255]<<16^T[u>>8&255]<<8^T[255&c]^l[f++],p=d,d=h,h=u,u=c,c=p}}class l extends e{constructor(){super(e),this.jobs=[],this.delay=1,this.timeout_=null}processJob_(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}push(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}function f(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24}class d{constructor(e,t,i,s){var r=d.STEP,n=new Int32Array(e.buffer);const a=new Uint8Array(e.byteLength);let o=0;for(this.asyncStream_=new l,this.asyncStream_.push(this.decryptChunk_(n.subarray(o,o+r),t,i,a)),o=r;o<n.length;o+=r)i=new Uint32Array([f(n[o-4]),f(n[o-3]),f(n[o-2]),f(n[o-1])]),this.asyncStream_.push(this.decryptChunk_(n.subarray(o,o+r),t,i,a));this.asyncStream_.push(function(){var e;
/*! @name aes-decrypter @version 4.0.1 @license Apache-2.0 */s(null,(e=a).subarray(0,e.byteLength-e[e.byteLength-1]))})}static get STEP(){return 32e3}decryptChunk_(t,i,s,r){return function(){var e=function(e,t,i){var s,r,n,a,o=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),l=new g(Array.prototype.slice.call(t)),t=new Uint8Array(e.byteLength),d=new Int32Array(t.buffer);let h,u,c,p,m;for(h=i[0],u=i[1],c=i[2],p=i[3],m=0;m<o.length;m+=4)s=f(o[m]),r=f(o[m+1]),n=f(o[m+2]),a=f(o[m+3]),l.decrypt(s,r,n,a,d,m),d[m]=f(d[m]^h),d[m+1]=f(d[m+1]^u),d[m+2]=f(d[m+2]^c),d[m+3]=f(d[m+3]^p),h=s,u=r,c=n,p=a;return t}(t,i,s);r.set(e,t.byteOffset)}}}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t="undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:{},t=t.BigInt||Number;t("0x1"),t("0x100"),t("0x10000"),t("0x1000000"),t("0x100000000"),t("0x10000000000"),t("0x1000000000000"),t("0x100000000000000"),t("0x10000000000000000"),t=new Uint16Array([65484]),255!==(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength))[0]&&t[0];function r(s){const r={};return Object.keys(s).forEach(e=>{var t,i=s[e];t=i,("function"===ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer)?r[e]={bytes:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength}:r[e]=i}),r}self.onmessage=function(e){const i=e.data;var e=new Uint8Array(i.encrypted.bytes,i.encrypted.byteOffset,i.encrypted.byteLength),t=new Uint32Array(i.key.bytes,i.key.byteOffset,i.key.byteLength/4),s=new Uint32Array(i.iv.bytes,i.iv.byteOffset,i.iv.byteLength/4);new d(e,t,s,function(e,t){self.postMessage(r({source:i.source,decrypted:t}),[t.buffer])})}})));const uu=(e,t)=>{e.abort(),e.pause(),t&&t.activePlaylistLoader&&(t.activePlaylistLoader.pause(),t.activePlaylistLoader=null)},cu=(e,t)=>{(t.activePlaylistLoader=e).load()},pu={AUDIO:(a,o)=>()=>{var{segmentLoaders:{[a]:e},mediaTypes:{[a]:t},excludePlaylist:i}=o,e=(uu(e,t),t.activeTrack()),s=t.activeGroup(),s=(s.filter(e=>e.default)[0]||s[0]).id,r=t.tracks[s];if(e===r)i({error:{message:"Problem encountered loading the default audio track."}});else{T.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(const n in t.tracks)t.tracks[n].enabled=t.tracks[n]===r;t.onTrackChanged()}},SUBTITLES:(i,s)=>()=>{var{segmentLoaders:{[i]:e},mediaTypes:{[i]:t}}=s,e=(T.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),uu(e,t),t.activeTrack());e&&(e.mode="disabled"),t.onTrackChanged()}},mu={AUDIO:(e,t,i)=>{if(!t)return;const{tech:s,requestOptions:r,segmentLoaders:{[e]:n}}=i;t.on("loadedmetadata",()=>{var e=t.media();n.playlist(e,r),(!s.paused()||e.endList&&"none"!==s.preload())&&n.load()}),t.on("loadedplaylist",()=>{n.playlist(t.media(),r),s.paused()||n.load()}),t.on("error",pu[e](e,i))},SUBTITLES:(e,t,i)=>{const{tech:s,requestOptions:r,segmentLoaders:{[e]:n},mediaTypes:{[e]:a}}=i;t.on("loadedmetadata",()=>{var e=t.media();n.playlist(e,r),n.track(a.activeTrack()),(!s.paused()||e.endList&&"none"!==s.preload())&&n.load()}),t.on("loadedplaylist",()=>{n.playlist(t.media(),r),s.paused()||n.load()}),t.on("error",pu[e](e,i))}},gu={AUDIO:(i,s)=>{var r,{vhs:n,sourceType:a,segmentLoaders:{[i]:e},requestOptions:o,main:{mediaGroups:l},mediaTypes:{[i]:{groups:d,tracks:h,logger_:u}},mainPlaylistLoader:c}=s,p=pd(c.main);l[i]&&0!==Object.keys(l[i]).length||(l[i]={main:{default:{default:!0}}},p&&(l[i].main.default.playlists=c.main.playlists));for(const m in l[i]){d[m]||(d[m]=[]);for(const g in l[i][m]){let e=l[i][m][g],t;t=p?(u(`AUDIO group '${m}' label '${g}' is a main playlist`),e.isMainPlaylist=!0,null):"vhs-json"===a&&e.playlists?new Cd(e.playlists[0],n,o):e.resolvedUri?new Cd(e.resolvedUri,n,o):e.playlists&&"dash"===a?new Kd(e.playlists[0],n,o,c):null,e=O({id:g,playlistLoader:t},e),mu[i](i,e.playlistLoader,s),d[m].push(e),"undefined"==typeof h[g]&&(r=new T.AudioTrack({id:g,kind:(e=>{let t=e.default?"main":"alternative";return t=e.characteristics&&0<=e.characteristics.indexOf("public.accessibility.describes-video")?"main-desc":t})(e),enabled:!1,language:e.language,default:e.default,label:g}),h[g]=r)}}e.on("error",pu[i](i,s))},SUBTITLES:(i,s)=>{var r,{tech:n,vhs:a,sourceType:o,segmentLoaders:{[i]:e},requestOptions:l,main:{mediaGroups:d},mediaTypes:{[i]:{groups:h,tracks:u}},mainPlaylistLoader:c}=s;for(const p in d[i]){h[p]||(h[p]=[]);for(const m in d[i][p])if(!d[i][p][m].forced){let e=d[i][p][m],t;if("hls"===o)t=new Cd(e.resolvedUri,a,l);else if("dash"===o){if(!e.playlists.filter(e=>e.excludeUntil!==1/0).length)return;t=new Kd(e.playlists[0],a,l,c)}else"vhs-json"===o&&(t=new Cd(e.playlists?e.playlists[0]:e.resolvedUri,a,l));e=O({id:m,playlistLoader:t},e),mu[i](i,e.playlistLoader,s),h[p].push(e),"undefined"==typeof u[m]&&(r=n.addRemoteTextTrack({id:m,kind:"subtitles",default:e.default&&e.autoselect,language:e.language,label:m},!1).track,u[m]=r)}}e.on("error",pu[i](i,s))},"CLOSED-CAPTIONS":(e,t)=>{var{tech:i,main:{mediaGroups:s},mediaTypes:{[e]:{groups:r,tracks:n}}}=t;for(const l in s[e]){r[l]||(r[l]=[]);for(const d in s[e][l]){var a=s[e][l][d];if(/^(?:CC|SERVICE)/.test(a.instreamId)){var o=i.options_.vhs&&i.options_.vhs.captionServices||{};let e={label:d,language:a.language,instreamId:a.instreamId,default:a.default&&a.autoselect};void 0===(e=o[e.instreamId]?O(e,o[e.instreamId]):e).default&&delete e.default,r[l].push(O({id:d},a)),"undefined"==typeof n[d]&&(o=i.addRemoteTextTrack({id:e.instreamId,kind:"captions",default:e.default,language:e.language,label:e.label},!1).track,n[d]=o)}}}}},fu=(t,i)=>{for(let e=0;e<t.length;e++){if(cd(i,t[e]))return!0;if(t[e].playlists&&fu(t[e].playlists,i))return!0}return!1},yu={AUDIO:(i,s)=>()=>{var{[i]:{tracks:e}}=s["mediaTypes"];for(const t in e)if(e[t].enabled)return e[t];return null},SUBTITLES:(i,s)=>()=>{var{[i]:{tracks:e}}=s["mediaTypes"];for(const t in e)if("showing"===e[t].mode||"hidden"===e[t].mode)return e[t];return null}},_u=n=>{["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{gu[e](e,n)});const{mediaTypes:a,mainPlaylistLoader:e,tech:t,vhs:i,segmentLoaders:{AUDIO:s,main:r}}=n;["AUDIO","SUBTITLES"].forEach(e=>{var o,l,d,h,i,s,u,c,t,r;a[e].activeGroup=(o=e,l=n,t=>{var{mainPlaylistLoader:e,mediaTypes:{[o]:{groups:i}}}=l,s=e.media();if(!s)return null;let r=null;s.attributes[o]&&(r=i[s.attributes[o]]);var n=Object.keys(i);if(!r)if("AUDIO"===o&&1<n.length&&pd(l.main))for(let e=0;e<n.length;e++){var a=i[n[e]];if(fu(a,s)){r=a;break}}else i.main?r=i.main:1===n.length&&(r=i[n[0]]);return"undefined"==typeof t?r:null!==t&&r&&r.filter(e=>e.id===t.id)[0]||null}),a[e].activeTrack=yu[e](e,n),a[e].onGroupChanged=(d=e,h=n,()=>{var{segmentLoaders:{[d]:e,main:t},mediaTypes:{[d]:i}}=h,s=i.activeTrack(),r=i.getActiveGroup(),n=i.activePlaylistLoader,a=i.lastGroup_;r&&a&&r.id===a.id||(i.lastGroup_=r,i.lastTrack_=s,uu(e,i),r&&!r.isMainPlaylist&&(r.playlistLoader?(e.resyncLoader(),cu(r.playlistLoader,i)):n&&t.resetEverything()))}),a[e].onGroupChanging=(i=e,s=n,()=>{var{segmentLoaders:{[i]:e},mediaTypes:{[i]:t}}=s;t.lastGroup_=null,e.abort(),e.pause()}),a[e].onTrackChanged=(u=e,c=n,()=>{var e,t,{mainPlaylistLoader:i,segmentLoaders:{[u]:s,main:r},mediaTypes:{[u]:n}}=c,a=n.activeTrack(),o=n.getActiveGroup(),l=n.activePlaylistLoader,d=n.lastTrack_;if((!d||!a||d.id!==a.id)&&(n.lastGroup_=o,n.lastTrack_=a,uu(s,n),o)){if(o.isMainPlaylist)return!a||!d||a.id===d.id||(t=(e=c.vhs.playlistController_).selectPlaylist(),e.media()===t)?void 0:(n.logger_(`track change. Switching main audio from ${d.id} to `+a.id),i.pause(),r.resetEverything(),void e.fastQualityChange_(t));if("AUDIO"===u){if(!o.playlistLoader)return r.setAudio(!0),void r.resetEverything();s.setAudio(!0),r.setAudio(!1)}l===o.playlistLoader||(s.track&&s.track(a),s.resetEverything()),cu(o.playlistLoader,n)}}),a[e].getActiveGroup=([t,r]=[e,n["mediaTypes"]],()=>{var e=r[t].activeTrack();return e?r[t].activeGroup(e):null})});var o=a.AUDIO.activeGroup();o&&(o=(o.filter(e=>e.default)[0]||o[0]).id,a.AUDIO.tracks[o].enabled=!0,a.AUDIO.onGroupChanged(),a.AUDIO.onTrackChanged(),(a.AUDIO.getActiveGroup().playlistLoader?(r.setAudio(!1),s):r).setAudio(!0)),e.on("mediachange",()=>{["AUDIO","SUBTITLES"].forEach(e=>a[e].onGroupChanged())}),e.on("mediachanging",()=>{["AUDIO","SUBTITLES"].forEach(e=>a[e].onGroupChanging())});const l=()=>{a.AUDIO.onTrackChanged(),t.trigger({type:"usage",name:"vhs-audio-change"})};t.audioTracks().addEventListener("change",l),t.remoteTextTracks().addEventListener("change",a.SUBTITLES.onTrackChanged),i.on("dispose",()=>{t.audioTracks().removeEventListener("change",l),t.remoteTextTracks().removeEventListener("change",a.SUBTITLES.onTrackChanged)}),t.clearTracks("audio");for(const d in a.AUDIO.tracks)t.audioTracks().addTrack(a.AUDIO.tracks[d])};let vu;const bu=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"];class Tu extends T.EventTarget{constructor(e){super();const{src:t,withCredentials:i,tech:r,bandwidth:s,externVhs:n,useCueTags:a,playlistExclusionDuration:o,enableLowInitialPlaylist:l,sourceType:d,cacheEncryptionKeys:h,bufferBasedABR:u,leastPixelDiffSelector:c,captionServices:p}=e;if(!t)throw new Error("A non-empty playlist URL or JSON manifest string is required");let m=e["maxPlaylistRetries"];null!==m&&"undefined"!=typeof m||(m=1/0),vu=n,this.bufferBasedABR=Boolean(u),this.leastPixelDiffSelector=Boolean(c),this.withCredentials=i,this.tech_=r,this.vhs_=r.vhs,this.sourceType_=d,this.useCueTags_=a,this.playlistExclusionDuration=o,this.maxPlaylistRetries=m,this.enableLowInitialPlaylist=l,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:i,maxPlaylistRetries:m,timeout:null},this.on("error",this.pauseLoading),this.mediaTypes_=(()=>{const t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:Gh,activeTrack:Gh,getActiveGroup:Gh,onGroupChanged:Gh,onTrackChanged:Gh,lastTrack_:null,logger_:Bl(`MediaGroups[${e}]`)}}),t})(),this.mediaSource=new window.MediaSource,this.handleDurationChange_=this.handleDurationChange_.bind(this),this.handleSourceOpen_=this.handleSourceOpen_.bind(this),this.handleSourceEnded_=this.handleSourceEnded_.bind(this),this.mediaSource.addEventListener("durationchange",this.handleDurationChange_),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.addEventListener("sourceended",this.handleSourceEnded_),this.seekable_=Fl(),this.hasPlayed_=!1,this.syncController_=new lu(e),this.segmentMetadataTrack_=r.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.decrypter_=new hu,this.sourceUpdater_=new iu(this.mediaSource),this.inbandTextTracks_={},this.timelineChangeController_=new du;var g={vhs:this.vhs_,parse708captions:e.parse708captions,useDtsForTimestampOffset:e.useDtsForTimestampOffset,captionServices:p,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:()=>this.seekable(),seeking:()=>this.tech_.seeking(),duration:()=>this.duration(),hasPlayed:()=>this.hasPlayed_,goalBufferLength:()=>this.goalBufferLength(),bandwidth:s,syncController:this.syncController_,decrypter:this.decrypter_,sourceType:this.sourceType_,inbandTextTracks:this.inbandTextTracks_,cacheEncryptionKeys:h,sourceUpdater:this.sourceUpdater_,timelineChangeController:this.timelineChangeController_,exactManifestTimings:e.exactManifestTimings},g=(this.mainPlaylistLoader_=new("dash"===this.sourceType_?Kd:Cd)(t,this.vhs_,this.requestOptions_),this.setupMainPlaylistLoaderListeners_(),this.mainSegmentLoader_=new Wh(O(g,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),e),this.audioSegmentLoader_=new Wh(O(g,{loaderType:"audio"}),e),this.subtitleSegmentLoader_=new au(O(g,{loaderType:"vtt",featuresNativeTextTracks:this.tech_.featuresNativeTextTracks,loadVttJs:()=>new Promise((e,t)=>{function i(){r.off("vttjserror",s),e()}function s(){r.off("vttjsloaded",i),t()}r.one("vttjsloaded",i),r.one("vttjserror",s),r.addWebVttScript_()})}),e),this.setupSegmentLoaderListeners_(),this.bufferBasedABR&&(this.mainPlaylistLoader_.one("loadedplaylist",()=>this.startABRTimer_()),this.tech_.on("pause",()=>this.stopABRTimer_()),this.tech_.on("play",()=>this.startABRTimer_())),bu.forEach(e=>{this[e+"_"]=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]}.bind(this,e)}),this.logger_=Bl("pc"),this.triggeredFmp4Usage=!1,"none"===this.tech_.preload()?(this.loadOnPlay_=()=>{this.loadOnPlay_=null,this.mainPlaylistLoader_.load()},this.tech_.one("play",this.loadOnPlay_)):this.mainPlaylistLoader_.load(),this.timeToLoadedData__=-1,this.mainAppendsToLoadedData__=-1,this.audioAppendsToLoadedData__=-1,"none"===this.tech_.preload()?"play":"loadstart");this.tech_.one(g,()=>{const e=Date.now();this.tech_.one("loadeddata",()=>{this.timeToLoadedData__=Date.now()-e,this.mainAppendsToLoadedData__=this.mainSegmentLoader_.mediaAppends,this.audioAppendsToLoadedData__=this.audioSegmentLoader_.mediaAppends})})}mainAppendsToLoadedData_(){return this.mainAppendsToLoadedData__}audioAppendsToLoadedData_(){return this.audioAppendsToLoadedData__}appendsToLoadedData_(){var e=this.mainAppendsToLoadedData_(),t=this.audioAppendsToLoadedData_();return-1===e||-1===t?-1:e+t}timeToLoadedData_(){return this.timeToLoadedData__}checkABR_(e="abr"){var t=this.selectPlaylist();t&&this.shouldSwitchToMedia_(t)&&this.switchMedia_(t,e)}switchMedia_(e,t,i){var s=this.media(),s=s&&(s.id||s.uri),r=e.id||e.uri;s&&s!==r&&(this.logger_(`switch media ${s} -> ${r} from `+t),this.tech_.trigger({type:"usage",name:"vhs-rendition-change-"+t})),this.mainPlaylistLoader_.media(e,i)}startABRTimer_(){this.stopABRTimer_(),this.abrTimer_=window.setInterval(()=>this.checkABR_(),250)}stopABRTimer_(){this.tech_.scrubbing&&this.tech_.scrubbing()||(window.clearInterval(this.abrTimer_),this.abrTimer_=null)}getAudioTrackPlaylists_(){var t=this.main(),e=t&&t.playlists||[];if(!t||!t.mediaGroups||!t.mediaGroups.AUDIO)return e;var i=t.mediaGroups.AUDIO,s=Object.keys(i);let r;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)r=this.mediaTypes_.AUDIO.activeTrack();else{var n=i.main||s.length&&i[s[0]];for(const d in n)if(n[d].default){r={label:d};break}}if(!r)return e;var a=[];for(const h in i)if(i[h][r.label]){var o=i[h][r.label];if(o.playlists&&o.playlists.length)a.push.apply(a,o.playlists);else if(o.uri)a.push(o);else if(t.playlists.length)for(let e=0;e<t.playlists.length;e++){var l=t.playlists[e];l.attributes&&l.attributes.AUDIO&&l.attributes.AUDIO===h&&a.push(l)}}return a.length?a:e}setupMainPlaylistLoaderListeners_(){this.mainPlaylistLoader_.on("loadedmetadata",()=>{var e=this.mainPlaylistLoader_.media(),t=1.5*e.targetDuration*1e3;ud(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=t,e.endList&&"none"!==this.tech_.preload()&&(this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.mainSegmentLoader_.load()),_u({sourceType:this.sourceType_,segmentLoaders:{AUDIO:this.audioSegmentLoader_,SUBTITLES:this.subtitleSegmentLoader_,main:this.mainSegmentLoader_},tech:this.tech_,requestOptions:this.requestOptions_,mainPlaylistLoader:this.mainPlaylistLoader_,vhs:this.vhs_,main:this.main(),mediaTypes:this.mediaTypes_,excludePlaylist:this.excludePlaylist.bind(this)}),this.triggerPresenceUsage_(this.main(),e),this.setupFirstPlay(),!this.mediaTypes_.AUDIO.activePlaylistLoader||this.mediaTypes_.AUDIO.activePlaylistLoader.media()?this.trigger("selectedinitialmedia"):this.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",()=>{this.trigger("selectedinitialmedia")})}),this.mainPlaylistLoader_.on("loadedplaylist",()=>{this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_);let t=this.mainPlaylistLoader_.media();if(!t){this.excludeUnsupportedVariants_();let e;if(!(e=(e=this.enableLowInitialPlaylist?this.selectInitialPlaylist():e)||this.selectPlaylist())||!this.shouldSwitchToMedia_(e))return;if(this.initialMedia_=e,this.switchMedia_(this.initialMedia_,"initial"),!("vhs-json"===this.sourceType_&&this.initialMedia_.segments))return;t=this.initialMedia_}this.handleUpdatedMediaPlaylist(t)}),this.mainPlaylistLoader_.on("error",()=>{var e=this.mainPlaylistLoader_.error;this.excludePlaylist({playlistToExclude:e.playlist,error:e})}),this.mainPlaylistLoader_.on("mediachanging",()=>{this.mainSegmentLoader_.abort(),this.mainSegmentLoader_.pause()}),this.mainPlaylistLoader_.on("mediachange",()=>{var e=this.mainPlaylistLoader_.media(),t=1.5*e.targetDuration*1e3;ud(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=t,this.mainPlaylistLoader_.load(),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.mainSegmentLoader_.load(),this.tech_.trigger({type:"mediachange",bubbles:!0})}),this.mainPlaylistLoader_.on("playlistunchanged",()=>{var e=this.mainPlaylistLoader_.media();"playlist-unchanged"!==e.lastExcludeReason_&&this.stuckAtPlaylistEnd_(e)&&(this.excludePlaylist({error:{message:"Playlist no longer updating.",reason:"playlist-unchanged"}}),this.tech_.trigger("playliststuck"))}),this.mainPlaylistLoader_.on("renditiondisabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"})}),this.mainPlaylistLoader_.on("renditionenabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"})})}handleUpdatedMediaPlaylist(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())}triggerPresenceUsage_(e,t){var i=e.mediaGroups||{};let s=!0;e=Object.keys(i.AUDIO);for(const r in i.AUDIO)for(const n in i.AUDIO[r])i.AUDIO[r][n].uri||(s=!1);s&&this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),Object.keys(i.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),vu.Playlist.isAes(t)&&this.tech_.trigger({type:"usage",name:"vhs-aes"}),e.length&&1<Object.keys(i.AUDIO[e[0]]).length&&this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"})}shouldSwitchToMedia_(t){var e=this.mainPlaylistLoader_.media()||this.mainPlaylistLoader_.pendingMedia_,i=this.tech_.currentTime(),s=this.bufferLowWaterLine(),r=this.bufferHighWaterLine(),{currentPlaylist:i,buffered:e,currentTime:t,nextPlaylist:s,bufferLowWaterLine:r,bufferHighWaterLine:n,duration:a,bufferBasedABR:o,log:l}=[{buffered:this.tech_.buffered(),currentTime:i,currentPlaylist:e,nextPlaylist:t,bufferLowWaterLine:s,bufferHighWaterLine:r,duration:this.duration(),bufferBasedABR:this.bufferBasedABR,log:this.logger_}][0];if(s){var d=`allowing switch ${i&&i.id||"null"} -> `+s.id;if(!i)return l(d+" as current playlist is not set"),!0;if(s.id!==i.id){var h=Boolean(jl(e,t).length);if(!i.endList)return h||"number"!=typeof i.partTargetDuration?(l(d+" as current playlist is live"),!0):(l(`not ${d} as current playlist is live llhls, but currentTime isn't in buffered.`),!1);h=Vl(e,t),e=o?D.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:D.MAX_BUFFER_LOW_WATER_LINE;if(a<e)return l(d+` as duration < max low water line (${a} < ${e})`),!0;t=s.attributes.BANDWIDTH,a=i.attributes.BANDWIDTH;if(t<a&&(!o||h<n)){let e=d+` as next bandwidth < current bandwidth (${t} < ${a})`;return o&&(e+=` and forwardBuffer < bufferHighWaterLine (${h} < ${n})`),l(e),!0}if((!o||a<t)&&r<=h){let e=d+` as forwardBuffer >= bufferLowWaterLine (${h} >= ${r})`;return o&&(e+=` and next bandwidth > current bandwidth (${t} > ${a})`),l(e),!0}l(`not ${d} as no switching criteria met`)}}else T.log.warn("We received no playlist to switch to. Please check your stream.");return!1}setupSegmentLoaderListeners_(){this.mainSegmentLoader_.on("bandwidthupdate",()=>{this.checkABR_("bandwidthupdate"),this.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("timeout",()=>{this.bufferBasedABR&&this.mainSegmentLoader_.load()}),this.bufferBasedABR||this.mainSegmentLoader_.on("progress",()=>{this.trigger("progress")}),this.mainSegmentLoader_.on("error",()=>{var e=this.mainSegmentLoader_.error();this.excludePlaylist({playlistToExclude:e.playlist,error:e})}),this.mainSegmentLoader_.on("appenderror",()=>{this.error=this.mainSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",()=>{this.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",()=>{this.error=this.audioSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("ended",()=>{this.logger_("main segment loader ended"),this.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",e=>{this.bufferBasedABR||(this.delegateLoaders_("all",["abort"]),this.excludePlaylist({error:{message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},playlistExclusionDuration:120}))});var e=()=>{if(!this.sourceUpdater_.hasCreatedSourceBuffers())return this.tryToCreateSourceBuffers_();var e=this.getCodecsOrExclude_();e&&this.sourceUpdater_.addOrChangeSourceBuffers(e)};this.mainSegmentLoader_.on("trackinfo",e),this.audioSegmentLoader_.on("trackinfo",e),this.mainSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",()=>{this.logger_("audioSegmentLoader ended"),this.onEndOfStream()})}mediaSecondsLoaded_(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}load(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}fastQualityChange_(e=this.selectPlaylist()){e===this.mainPlaylistLoader_.media()?this.logger_("skipping fastQualityChange because new media is same as old"):(this.switchMedia_(e,"fast-quality"),this.mainSegmentLoader_.resetEverything(()=>{T.browser.IE_VERSION||T.browser.IS_EDGE?this.tech_.setCurrentTime(this.tech_.currentTime()+.04):this.tech_.setCurrentTime(this.tech_.currentTime())}))}play(){var e;if(!this.setupFirstPlay())return this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load(),e=this.tech_.seekable(),this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0)?this.tech_.setCurrentTime(e.end(e.length-1)):void 0}setupFirstPlay(){var e=this.mainPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_)return!1;if(!e.endList){const t=this.seekable();if(!t.length)return!1;if(T.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",()=>{this.trigger("firstplay"),this.tech_.setCurrentTime(t.end(0)),this.hasPlayed_=!0}),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(t.end(0))}return this.hasPlayed_=!0,this.load(),!0}handleSourceOpen_(){var e;this.tryToCreateSourceBuffers_(),this.tech_.autoplay()&&"undefined"!=typeof(e=this.tech_.play())&&"function"==typeof e.then&&e.then(null,e=>{}),this.trigger("sourceopen")}handleSourceEnded_(){var e,t;this.inbandTextTracks_.metadataTrack_&&(e=this.inbandTextTracks_.metadataTrack_.cues)&&e.length&&(t=this.duration(),e[e.length-1].endTime=isNaN(t)||Math.abs(t)===1/0?Number.MAX_VALUE:t)}handleDurationChange_(){this.tech_.trigger("durationchange")}onEndOfStream(){let e=this.mainSegmentLoader_.ended_;var t;this.mediaTypes_.AUDIO.activePlaylistLoader&&(t=this.mainSegmentLoader_.getCurrentMediaInfo_(),e=(t&&!t.hasVideo||e)&&this.audioSegmentLoader_.ended_),e&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())}stuckAtPlaylistEnd_(e){var t,i;return!!this.seekable().length&&null!==(t=this.syncController_.getExpiredTime(e,this.duration()))&&(e=vu.Playlist.playlistEnd(e,t),t=this.tech_.currentTime(),(i=this.tech_.buffered()).length?(i=i.end(i.length-1))-t<=zl&&e-i<=zl:e-t<=zl)}excludePlaylist({playlistToExclude:s=this.mainPlaylistLoader_.media(),error:t={},playlistExclusionDuration:i}){if(s=s||this.mainPlaylistLoader_.media(),i=i||t.playlistExclusionDuration||this.playlistExclusionDuration,s){s.playlistErrors_++;var r=this.mainPlaylistLoader_.main.playlists,n=r.filter(ld),n=1===n.length&&n[0]===s;if(1===r.length&&i!==1/0)return T.log.warn(`Problem encountered with playlist ${s.id}. `+"Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.mainPlaylistLoader_.load(n);if(n){let i=!1;r.forEach(e=>{var t;e!==s&&"undefined"!=typeof(t=e.excludeUntil)&&t!==1/0&&(i=!0,delete e.excludeUntil)}),i&&(T.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}let e;e=s.playlistErrors_>this.maxPlaylistRetries?1/0:Date.now()+1e3*i,s.excludeUntil=e,t.reason&&(s.lastExcludeReason_=t.reason),this.tech_.trigger("excludeplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-excluded"});var a,r=this.selectPlaylist();if(r)return i=t.internal?this.logger_:T.log.warn,a=t.message?" "+t.message:"",i(`${t.internal?"Internal problem":"Problem"} encountered with playlist ${s.id}.`+a+` Switching to playlist ${r.id}.`),r.attributes.AUDIO!==s.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),r.attributes.SUBTITLES!==s.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]),i=r.targetDuration/2*1e3||5e3,a="number"==typeof r.lastRequest&&Date.now()-r.lastRequest<=i,this.switchMedia_(r,"exclude",n||a);this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error")}else this.error=t,"open"!==this.mediaSource.readyState?this.trigger("error"):this.sourceUpdater_.endOfStream("network")}pauseLoading(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()}delegateLoaders_(i,e){const s=[];var t="all"===i,r=(!t&&"main"!==i||s.push(this.mainPlaylistLoader_),[]);!t&&"audio"!==i||r.push("AUDIO"),!t&&"subtitle"!==i||(r.push("CLOSED-CAPTIONS"),r.push("SUBTITLES")),r.forEach(e=>{e=this.mediaTypes_[e]&&this.mediaTypes_[e].activePlaylistLoader;e&&s.push(e)}),["main","audio","subtitle"].forEach(e=>{var t=this[e+"SegmentLoader_"];!t||i!==e&&"all"!==i||s.push(t)}),s.forEach(t=>e.forEach(e=>{"function"==typeof t[e]&&t[e]()}))}setCurrentTime(e){var t=jl(this.tech_.buffered(),e);return this.mainPlaylistLoader_&&this.mainPlaylistLoader_.media()&&this.mainPlaylistLoader_.media().segments?t&&t.length?e:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0}duration(){var e;return this.mainPlaylistLoader_&&(e=this.mainPlaylistLoader_.media())?e.endList?this.mediaSource?this.mediaSource.duration:vu.Playlist.duration(e):1/0:0}seekable(){return this.seekable_}onSyncInfoUpdate_(){let i;if(this.mainPlaylistLoader_){var s=this.mainPlaylistLoader_.media();if(s){var r=this.syncController_.getExpiredTime(s,this.duration());if(null!==r){var n=this.mainPlaylistLoader_.main,a=vu.Playlist.seekable(s,r,vu.Playlist.liveEdgeDelay(n,s));if(0!==a.length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(s=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(r=this.syncController_.getExpiredTime(s,this.duration())))return;if(0===(i=vu.Playlist.seekable(s,r,vu.Playlist.liveEdgeDelay(n,s))).length)return}let e,t;this.seekable_&&this.seekable_.length&&(e=this.seekable_.end(0),t=this.seekable_.start(0)),!i||i.start(0)>a.end(0)||a.start(0)>i.end(0)?this.seekable_=a:this.seekable_=Fl([[(i.start(0)>a.start(0)?i:a).start(0),(i.end(0)<a.end(0)?i:a).end(0)]]),this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===e&&this.seekable_.start(0)===t||(this.logger_(`seekable updated [${Kl(this.seekable_)}]`),this.tech_.trigger("seekablechanged"))}}}}}updateDuration(t){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),"open"!==this.mediaSource.readyState)this.updateDuration_=this.updateDuration.bind(this,t),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);else{if(t)return(t=this.seekable()).length?void((isNaN(this.mediaSource.duration)||this.mediaSource.duration<t.end(t.length-1))&&this.sourceUpdater_.setDuration(t.end(t.length-1))):void 0;t=this.tech_.buffered();let e=vu.Playlist.duration(this.mainPlaylistLoader_.media());0<t.length&&(e=Math.max(e,t.end(t.length-1))),this.mediaSource.duration!==e&&this.sourceUpdater_.setDuration(e)}}dispose(){this.trigger("dispose"),this.decrypter_.terminate(),this.mainPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(e=>{var t=this.mediaTypes_[e].groups;for(const i in t)t[i].forEach(e=>{e.playlistLoader&&e.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()}main(){return this.mainPlaylistLoader_.main}media(){return this.mainPlaylistLoader_.media()||this.initialMedia_}areMediaTypesKnown_(){var e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,t=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),e=!e||!!this.audioSegmentLoader_.getCurrentMediaInfo_();return t&&e}getCodecsOrExclude_(){const r={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},t=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();r.video=r.main;var e=mh(this.main(),t);const n={};var i=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(r.main.hasVideo&&(n.video=e.video||r.main.videoCodec||"avc1.4d400d"),r.main.isMuxed&&(n.video+=","+(e.audio||r.main.audioCodec||Fn)),(r.main.hasAudio&&!r.main.isMuxed||r.audio.hasAudio||i)&&(n.audio=e.audio||r.main.audioCodec||r.audio.audioCodec||Fn,r.audio.isFmp4=(r.main.hasAudio&&!r.main.isMuxed?r.main:r.audio).isFmp4),n.audio||n.video){const a={};let s;if(["video","audio"].forEach(function(e){var t,i;n.hasOwnProperty(e)&&(t=r[e].isFmp4,i=n[e],!(t?In:xn)(i))&&(t=r[e].isFmp4?"browser":"muxer",a[t]=a[t]||[],a[t].push(n[e]),"audio"===e&&(s=t))}),i&&s&&t.attributes.AUDIO){const o=t.attributes.AUDIO;this.main().playlists.forEach(e=>{(e.attributes&&e.attributes.AUDIO)===o&&e!==t&&(e.excludeUntil=1/0)}),this.logger_(`excluding audio group ${o} as ${s} does not support codec(s): "${n.audio}"`)}if(!Object.keys(a).length){if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){const l=[];if(["video","audio"].forEach(e=>{var t=(Un(this.sourceUpdater_.codecs[e]||"")[0]||{}).type,i=(Un(n[e]||"")[0]||{}).type;t&&i&&t.toLowerCase()!==i.toLowerCase()&&l.push(`"${this.sourceUpdater_.codecs[e]}" -> "${n[e]}"`)}),l.length)return void this.excludePlaylist({playlistToExclude:t,error:{message:`Codec switching not supported: ${l.join(", ")}.`,internal:!0},playlistExclusionDuration:1/0})}return n}e=Object.keys(a).reduce((e,t)=>(e&&(e+=", "),e+=`${t} does not support codec(s): "${a[t].join(",")}"`),"")+".",this.excludePlaylist({playlistToExclude:t,error:{internal:!0,message:e},playlistExclusionDuration:1/0})}else this.excludePlaylist({playlistToExclude:t,error:{message:"Could not determine codecs for playlist."},playlistExclusionDuration:1/0})}tryToCreateSourceBuffers_(){var e;"open"!==this.mediaSource.readyState||this.sourceUpdater_.hasCreatedSourceBuffers()||this.areMediaTypesKnown_()&&(e=this.getCodecsOrExclude_())&&(this.sourceUpdater_.createSourceBuffers(e),e=[e.video,e.audio].filter(Boolean).join(","),this.excludeIncompatibleVariants_(e))}excludeUnsupportedVariants_(){const s=this.main().playlists,r=[];Object.keys(s).forEach(e=>{var t,i,e=s[e];-1===r.indexOf(e.id)&&(r.push(e.id),i=[],!(t=mh(this.main,e)).audio||xn(t.audio)||In(t.audio)||i.push("audio codec "+t.audio),!t.video||xn(t.video)||In(t.video)||i.push("video codec "+t.video),t.text&&"stpp.ttml.im1t"===t.text&&i.push("text codec "+t.text),i.length)&&(e.excludeUntil=1/0,this.logger_(`excluding ${e.id} for unsupported: `+i.join(", ")))})}excludeIncompatibleVariants_(e){const r=[],n=this.main().playlists;e=Lh(Un(e));const a=ph(e),o=e.video&&Un(e.video)[0]||null,l=e.audio&&Un(e.audio)[0]||null;Object.keys(n).forEach(e=>{var t,i,s,e=n[e];-1===r.indexOf(e.id)&&e.excludeUntil!==1/0&&(r.push(e.id),t=[],s=mh(this.mainPlaylistLoader_.main,e),i=ph(s),s.audio||s.video)&&(i!==a&&t.push(`codec count "${i}" !== "${a}"`),this.sourceUpdater_.canChangeType()||(i=s.video&&Un(s.video)[0]||null,s=s.audio&&Un(s.audio)[0]||null,i&&o&&i.type.toLowerCase()!==o.type.toLowerCase()&&t.push(`video codec "${i.type}" !== "${o.type}"`),s&&l&&s.type.toLowerCase()!==l.type.toLowerCase()&&t.push(`audio codec "${s.type}" !== "${l.type}"`)),t.length)&&(e.excludeUntil=1/0,this.logger_(`excluding ${e.id}: `+t.join(" && ")))})}updateAdCues_(e){let t=0;var s=this.seekable(),[r,n,s=0]=(s.length&&(t=s.start(0)),[e,this.cueTagsTrack_,t]);if(r.segments){let t=s,i;for(let e=0;e<r.segments.length;e++){var a,o,l=r.segments[e];if(i=i||function(e,t){var i=e.cues;for(let e=0;e<i.length;e++){var s=i[e];if(t>=s.adStartTime&&t<=s.adEndTime)return s}return null}(n,t+l.duration/2)){if("cueIn"in l){i.endTime=t,i.adEndTime=t,t+=l.duration,i=null;continue}if(t<i.endTime){t+=l.duration;continue}i.endTime+=l.duration}else"cueOut"in l&&((i=new window.VTTCue(t,t+l.duration,l.cueOut)).adStartTime=t,i.adEndTime=t+parseFloat(l.cueOut),n.addCue(i)),"cueOutCont"in l&&([a,o]=l.cueOutCont.split("/").map(parseFloat),(i=new window.VTTCue(t,t+l.duration,"")).adStartTime=t-a,i.adEndTime=i.adStartTime+o,n.addCue(i));t+=l.duration}}}goalBufferLength(){var e=this.tech_.currentTime(),t=D.GOAL_BUFFER_LENGTH,i=D.GOAL_BUFFER_LENGTH_RATE,s=Math.max(t,D.MAX_GOAL_BUFFER_LENGTH);return Math.min(t+e*i,s)}bufferLowWaterLine(){var e=this.tech_.currentTime(),t=D.BUFFER_LOW_WATER_LINE,i=D.BUFFER_LOW_WATER_LINE_RATE,s=Math.max(t,D.MAX_BUFFER_LOW_WATER_LINE),r=Math.max(t,D.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(t+e*i,this.bufferBasedABR?r:s)}bufferHighWaterLine(){return D.BUFFER_HIGH_WATER_LINE}}class Su{constructor(e,t,i){var s,r,n,a,o=e["playlistController_"],l=o.fastQualityChange_.bind(o);t.attributes&&(s=t.attributes.RESOLUTION,this.width=s&&s.width,this.height=s&&s.height,this.bandwidth=t.attributes.BANDWIDTH,this.frameRate=t.attributes["FRAME-RATE"]),this.codecs=mh(o.main(),t),this.playlist=t,this.id=i,this.enabled=(r=e.playlists,n=t.id,a=l,e=>{var t=r.main.playlists[n],i=od(t),s=ld(t);return"undefined"==typeof e?s:(e?delete t.disabled:t.disabled=!0,e===s||i||(a(),e?r.trigger("renditionenabled"):r.trigger("renditiondisabled")),e)})}}const wu=["seeking","seeked","pause","playing","error"];class Eu{constructor(e){this.playlistController_=e.playlistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.checkCurrentTimeTimeout_=null,this.logger_=Bl("PlaybackWatcher"),this.logger_("initialize");const t=()=>this.monitorCurrentTime_(),i=()=>this.monitorCurrentTime_(),s=()=>this.techWaiting_(),r=()=>this.resetTimeUpdate_(),n=this.playlistController_,a=["main","subtitle","audio"],o={},l=(a.forEach(e=>{o[e]={reset:()=>this.resetSegmentDownloads_(e),updateend:()=>this.checkSegmentDownloads_(e)},n[e+"SegmentLoader_"].on("appendsdone",o[e].updateend),n[e+"SegmentLoader_"].on("playlistupdate",o[e].reset),this.tech_.on(["seeked","seeking"],o[e].reset)}),t=>{["main","audio"].forEach(e=>{n[e+"SegmentLoader_"][t]("appended",this.seekingAppendCheck_)})});this.seekingAppendCheck_=()=>{this.fixesBadSeeks_()&&(this.consecutiveUpdates=0,this.lastRecordedTime=this.tech_.currentTime(),l("off"))},this.clearSeekingAppendCheck_=()=>l("off"),this.watchForBadSeeking_=()=>{this.clearSeekingAppendCheck_(),l("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",s),this.tech_.on(wu,r),this.tech_.on("canplay",i),this.tech_.one("play",t),this.dispose=()=>{this.clearSeekingAppendCheck_(),this.logger_("dispose"),this.tech_.off("waiting",s),this.tech_.off(wu,r),this.tech_.off("canplay",i),this.tech_.off("play",t),this.tech_.off("seeking",this.watchForBadSeeking_),this.tech_.off("seeked",this.clearSeekingAppendCheck_),a.forEach(e=>{n[e+"SegmentLoader_"].off("appendsdone",o[e].updateend),n[e+"SegmentLoader_"].off("playlistupdate",o[e].reset),this.tech_.off(["seeked","seeking"],o[e].reset)}),this.checkCurrentTimeTimeout_&&window.clearTimeout(this.checkCurrentTimeTimeout_),this.resetTimeUpdate_()}}monitorCurrentTime_(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&window.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=window.setTimeout(this.monitorCurrentTime_.bind(this),250)}resetSegmentDownloads_(e){var t=this.playlistController_[e+"SegmentLoader_"];0<this[e+"StalledDownloads_"]&&this.logger_(`resetting possible stalled download count for ${e} loader`),this[e+"StalledDownloads_"]=0,this[e+"Buffered_"]=t.buffered_()}checkSegmentDownloads_(e){var t=this.playlistController_,i=t[e+"SegmentLoader_"],s=i.buffered_(),r=function(t,i){if(t!==i){if(!t&&i||!i&&t)return!0;if(t.length!==i.length)return!0;for(let e=0;e<t.length;e++)if(t.start(e)!==i.start(e)||t.end(e)!==i.end(e))return!0}return!1}(this[e+"Buffered_"],s);this[e+"Buffered_"]=s,r?this.resetSegmentDownloads_(e):(this[e+"StalledDownloads_"]++,this.logger_(`found #${this[e+"StalledDownloads_"]} ${e} appends that did not increase buffer (possible stalled download)`,{playlistId:i.playlist_&&i.playlist_.id,buffered:Yl(s)}),this[e+"StalledDownloads_"]<10||(this.logger_(e+" loader stalled download exclusion"),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:`vhs-${e}-download-exclusion`}),"subtitle"!==e&&t.excludePlaylist({error:{message:`Excessive ${e} segment downloading detected.`},playlistExclusionDuration:1/0})))}checkCurrentTime_(){var e,t;if(!this.tech_.paused()&&!this.tech_.seeking())return e=this.tech_.currentTime(),t=this.tech_.buffered(),this.lastRecordedTime===e&&(!t.length||e+zl>=t.end(t.length-1))?this.techWaiting_():void(5<=this.consecutiveUpdates&&e===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):e===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=e))}resetTimeUpdate_(){this.consecutiveUpdates=0}fixesBadSeeks_(){if(!this.tech_.seeking())return!1;var e=this.seekable(),t=this.tech_.currentTime();let i;if(this.afterSeekableWindow_(e,t,this.media(),this.allowSeeksWithinUnsafeLiveWindow)&&(s=e.end(e.length-1),i=s),this.beforeSeekableWindow_(e,t)&&(s=e.start(0),i=s+(s===e.end(0)?0:zl)),"undefined"!=typeof i)this.logger_(`Trying to seek outside of seekable at time ${t} with `+`seekable range ${Kl(e)}. Seeking to `+i+".");else{var s=this.playlistController_.sourceUpdater_,e=this.tech_.buffered(),r=s.audioBuffer?s.audioBuffered():null,s=s.videoBuffer?s.videoBuffered():null,n=this.media(),a=n.partTargetDuration||2*(n.targetDuration-Gl),o=[r,s];for(let e=0;e<o.length;e++)if(o[e])if(Vl(o[e],t)<a)return!1;if(0===(n=Hl(e,t)).length)return!1;i=n.start(0)+zl,this.logger_(`Buffered region starts (${n.start(0)}) `+` just beyond seek point (${t}). Seeking to ${i}.`)}return this.tech_.setCurrentTime(i),!0}waiting_(){var e,t;this.techWaiting_()||(e=this.tech_.currentTime(),t=this.tech_.buffered(),(t=jl(t,e)).length&&e+3<=t.end(0)&&(this.resetTimeUpdate_(),this.tech_.setCurrentTime(e),this.logger_(`Stopped at ${e} while inside a buffered region `+`[${t.start(0)} -> ${t.end(0)}]. Attempting to resume `+"playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"})))}techWaiting_(){var e,t=this.seekable(),i=this.tech_.currentTime();return!!this.tech_.seeking()||(this.beforeSeekableWindow_(t,i)?(t=t.end(t.length-1),this.logger_(`Fell out of live window at time ${i}. Seeking to `+"live point (seekable end) "+t),this.resetTimeUpdate_(),this.tech_.setCurrentTime(t),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),!0):(t=this.tech_.vhs.playlistController_.sourceUpdater_,e=this.tech_.buffered(),this.videoUnderflow_({audioBuffered:t.audioBuffered(),videoBuffered:t.videoBuffered(),currentTime:i})?(this.resetTimeUpdate_(),this.tech_.setCurrentTime(i),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),!0):0<(t=Hl(e,i)).length&&(this.logger_(`Stopped at ${i} and seeking to `+t.start(0)),this.resetTimeUpdate_(),this.skipTheGap_(i),!0)))}afterSeekableWindow_(e,t,i,s=!1){if(!e.length)return!1;let r=e.end(e.length-1)+zl;var n=!i.endList;return t>(r=n&&s?e.end(e.length-1)+3*i.targetDuration:r)}beforeSeekableWindow_(e,t){return!!(e.length&&0<e.start(0)&&t<e.start(0)-this.liveRangeSafeTimeDelta)}videoUnderflow_({videoBuffered:t,audioBuffered:i,currentTime:s}){if(t){let e;var r,n;return t.length&&i.length?(r=jl(t,s-3),n=jl(t,s),(i=jl(i,s)).length&&!n.length&&r.length&&(e={start:r.end(0),end:i.end(0)})):Hl(t,s).length||(e=this.gapFromVideoUnderflow_(t,s)),!!e&&(this.logger_(`Encountered a gap in video from ${e.start} to ${e.end}. `+"Seeking to current time "+s),!0)}}skipTheGap_(e){var t=this.tech_.buffered(),i=this.tech_.currentTime(),t=Hl(t,i);this.resetTimeUpdate_(),0!==t.length&&i===e&&(this.logger_("skipTheGap_:","currentTime:",i,"scheduled currentTime:",e,"nextRange start:",t.start(0)),this.tech_.setCurrentTime(t.start(0)+Gl),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}))}gapFromVideoUnderflow_(e,t){var i=function(t){if(t.length<2)return Fl();var i=[];for(let e=1;e<t.length;e++){var s=t.end(e-1),r=t.start(e);i.push([s,r])}return Fl(i)}(e);for(let e=0;e<i.length;e++){var s=i.start(e),r=i.end(e);if(t-s<4&&2<t-s)return{start:s,end:r}}return null}}const ku={errorInterval:30,getSource(e){return e(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource())}},Cu=function(t,e){let i=0,s=0;function r(e){null!=e&&(s=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",l),t.src(e),t.trigger({type:"usage",name:"vhs-error-reload"}),t.play())}function n(){if(Date.now()-i<1e3*o.errorInterval)t.trigger({type:"usage",name:"vhs-error-reload-canceled"});else{if(o.getSource&&"function"==typeof o.getSource)return i=Date.now(),o.getSource.call(t,r);T.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")}}function a(){t.off("loadedmetadata",l),t.off("error",n),t.off("dispose",a)}const o=O(ku,e),l=(t.ready(()=>{t.trigger({type:"usage",name:"vhs-error-reload-initialized"})}),function(){s&&t.currentTime(s)});t.on("error",n),t.on("dispose",a),t.reloadSourceOnError=function(e){a(),Cu(t,e)}};function Iu(t,e){var i=e.media();let s=-1;for(let e=0;e<t.length;e++)if(t[e].id===i.id){s=e;break}t.selectedIndex_=s,t.trigger({selectedIndex:s,type:"change"})}const N={PlaylistLoader:Cd,Playlist:md,utils:Or,STANDARD_PLAYLIST_SELECTOR:Rh,INITIAL_PLAYLIST_SELECTOR:function(){var e=this.playlists.main.playlists.filter(md.isEnabled),e=(Nh(e,(e,t)=>fh(e,t)),e.filter(e=>!!mh(this.playlists.main,e).video));return e[0]||null},lastBandwidthSelector:Rh,movingAverageBandwidthSelector:function(t){let i=-1,s=-1;if(t<0||1<t)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){var e=this.useDevicePixelRatio&&window.devicePixelRatio||1;return i<0&&(i=this.systemBandwidth,s=this.systemBandwidth),0<this.systemBandwidth&&this.systemBandwidth!==s&&(i=t*this.systemBandwidth+(1-t)*i,s=this.systemBandwidth),Mh(this.playlists.main,i,parseInt(gh(this.tech_.el(),"width"),10)*e,parseInt(gh(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions,this.playlistController_)}},comparePlaylistBandwidth:fh,comparePlaylistResolution:function(e,t){let i,s;return i=(i=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width?e.attributes.RESOLUTION.width:i)||window.Number.MAX_VALUE,s=(s=t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width?t.attributes.RESOLUTION.width:s)||window.Number.MAX_VALUE,i===s&&e.attributes.BANDWIDTH&&t.attributes.BANDWIDTH?e.attributes.BANDWIDTH-t.attributes.BANDWIDTH:i-s},xhr:xd()},xu=(Object.keys(D).forEach(t=>{Object.defineProperty(N,t,{get(){return T.log.warn(`using Vhs.${t} is UNSAFE be sure you know what you are doing`),D[t]},set(e){T.log.warn(`using Vhs.${t} is UNSAFE be sure you know what you are doing`),"number"!=typeof e||e<0?T.log.warn(`value of Vhs.${t} must be greater than or equal to 0`):D[t]=e}})}),"videojs-vhs"),Au=(N.canPlaySource=function(){return T.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")},({player:s,sourceKeySystems:e,audioMedia:t,mainPlaylists:i})=>{if(!s.eme.initializeMediaKeys)return Promise.resolve();var r,t=t?i.concat([t]):i,t=(i=t,r=Object.keys(e),i.reduce((e,s)=>{var t;return s.contentProtection&&(t=r.reduce((e,t)=>{var i=s.contentProtection[t];return i&&i.pssh&&(e[t]={pssh:i.pssh}),e},{}),Object.keys(t).length)&&e.push(t),e},[]));const n=[],a=[];return t.forEach(e=>{a.push(new Promise((e,t)=>{s.tech_.one("keysessioncreated",e)})),n.push(new Promise((t,i)=>{s.eme.initializeMediaKeys({keySystems:e},e=>{e?i(e):t()})}))}),Promise.race([Promise.all(n),Promise.race(a)])}),Pu=({player:e,sourceKeySystems:t,media:i,audioMedia:s})=>{t=((e,t,i)=>{if(!e)return e;let s={};t&&t.attributes&&t.attributes.CODECS&&(s=Lh(Un(t.attributes.CODECS))),i&&i.attributes&&i.attributes.CODECS&&(s.audio=i.attributes.CODECS);var r=Bn(s.video),n=Bn(s.audio),a={};for(const o in e)a[o]={},n&&(a[o].audioContentType=n),r&&(a[o].videoContentType=r),t.contentProtection&&t.contentProtection[o]&&t.contentProtection[o].pssh&&(a[o].pssh=t.contentProtection[o].pssh),"string"==typeof e[o]&&(a[o].url=e[o]);return O(e,a)})(t,i,s);return!(!t||(e.currentSource().keySystems=t)&&!e.eme&&(T.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),1))},Lu=()=>{if(!window.localStorage)return null;var e=window.localStorage.getItem(xu);if(!e)return null;try{return JSON.parse(e)}catch(e){return null}};N.supportsNativeHls=function(){if(!document||!document.createElement)return!1;const t=document.createElement("video");return!!T.getTech("Html5").isSupported()&&["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(e){return/maybe|probably/i.test(t.canPlayType(e))})}(),N.supportsNativeDash=!!(document&&document.createElement&&T.getTech("Html5").isSupported())&&/maybe|probably/i.test(document.createElement("video").canPlayType("application/dash+xml")),N.supportsTypeNatively=e=>"hls"===e?N.supportsNativeHls:"dash"===e&&N.supportsNativeDash,N.isSupported=function(){return T.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};class Ou extends T.getComponent("Component"){constructor(e,t,i){if(super(t,i.vhs),"number"==typeof i.initialBandwidth&&(this.options_.bandwidth=i.initialBandwidth),this.logger_=Bl("VhsHandler"),t.options_&&t.options_.playerId&&(i=T.getPlayer(t.options_.playerId),this.player_=i),this.tech_=t,this.source_=e,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&t.overrideNativeAudioTracks&&t.overrideNativeVideoTracks)t.overrideNativeAudioTracks(!0),t.overrideNativeVideoTracks(!0);else if(this.options_.overrideNative&&(t.featuresNativeVideoTracks||t.featuresNativeAudioTracks))throw new Error("Overriding native VHS requires emulated tracks. See https://git.io/vMpjB");this.on(document,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],e=>{var t=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;t&&t.contains(this.tech_.el())?this.playlistController_.fastQualityChange_():this.playlistController_.checkABR_()}),this.on(this.tech_,"seeking",function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.tech_.error()&&this.playlistController_&&this.playlistController_.pauseLoading()}),this.on(this.tech_,"play",this.play)}setOptions_(){var e;this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.useBandwidthFromLocalStorage="undefined"!=typeof this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.llhls=!1!==this.options_.llhls,this.options_.bufferBasedABR=this.options_.bufferBasedABR||!1,"number"!=typeof this.options_.playlistExclusionDuration&&(this.options_.playlistExclusionDuration=300),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage&&((e=Lu())&&e.bandwidth&&(this.options_.bandwidth=e.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"})),e)&&e.throughput&&(this.options_.throughput=e.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"})),"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=D.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===D.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","customTagParsers","customTagMappers","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","bufferBasedABR","liveRangeSafeTimeDelta","llhls","useNetworkInformationApi","useDtsForTimestampOffset","exactManifestTimings","leastPixelDiffSelector"].forEach(e=>{"undefined"!=typeof this.source_[e]&&(this.options_[e]=this.source_[e])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio}src(e,t){e&&(this.setOptions_(),this.options_.src=0===(e=this.source_.src).toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")?JSON.parse(e.substring(e.indexOf(",")+1)):e,this.options_.tech=this.tech_,this.options_.externVhs=N,this.options_.sourceType=An(t),this.options_.seekTo=e=>{this.tech_.setCurrentTime(e)},this.playlistController_=new Tu(this.options_),e=O({liveRangeSafeTimeDelta:zl},this.options_,{seekable:()=>this.seekable(),media:()=>this.playlistController_.media(),playlistController:this.playlistController_}),this.playbackWatcher_=new Eu(e),this.playlistController_.on("error",()=>{var e=T.players[this.tech_.options_.playerId];let t=this.playlistController_.error;"object"!=typeof t||t.code?"string"==typeof t&&(t={message:t,code:3}):t.code=3,e.error(t)}),t=this.options_.bufferBasedABR?N.movingAverageBandwidthSelector(.55):N.STANDARD_PLAYLIST_SELECTOR,this.playlistController_.selectPlaylist=(this.selectPlaylist||t).bind(this),this.playlistController_.selectInitialPlaylist=N.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.playlistController_.mainPlaylistLoader_,this.mediaSource=this.playlistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get(){return this.playlistController_.selectPlaylist},set(e){this.playlistController_.selectPlaylist=e.bind(this)}},throughput:{get(){return this.playlistController_.mainSegmentLoader_.throughput.rate},set(e){this.playlistController_.mainSegmentLoader_.throughput.rate=e,this.playlistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get(){let e=this.playlistController_.mainSegmentLoader_.bandwidth;var t=window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection;return this.options_.useNetworkInformationApi&&t&&(t=1e3*t.downlink*1e3,e=1e7<=t&&1e7<=e?Math.max(e,t):t),e},set(e){this.playlistController_.mainSegmentLoader_.bandwidth=e,this.playlistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get(){var e=1/(this.bandwidth||1);let t;return t=0<this.throughput?1/this.throughput:0,Math.floor(1/(e+t))},set(){T.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:()=>this.bandwidth||0,enumerable:!0},mediaRequests:{get:()=>this.playlistController_.mediaRequests_()||0,enumerable:!0},mediaRequestsAborted:{get:()=>this.playlistController_.mediaRequestsAborted_()||0,enumerable:!0},mediaRequestsTimedout:{get:()=>this.playlistController_.mediaRequestsTimedout_()||0,enumerable:!0},mediaRequestsErrored:{get:()=>this.playlistController_.mediaRequestsErrored_()||0,enumerable:!0},mediaTransferDuration:{get:()=>this.playlistController_.mediaTransferDuration_()||0,enumerable:!0},mediaBytesTransferred:{get:()=>this.playlistController_.mediaBytesTransferred_()||0,enumerable:!0},mediaSecondsLoaded:{get:()=>this.playlistController_.mediaSecondsLoaded_()||0,enumerable:!0},mediaAppends:{get:()=>this.playlistController_.mediaAppends_()||0,enumerable:!0},mainAppendsToLoadedData:{get:()=>this.playlistController_.mainAppendsToLoadedData_()||0,enumerable:!0},audioAppendsToLoadedData:{get:()=>this.playlistController_.audioAppendsToLoadedData_()||0,enumerable:!0},appendsToLoadedData:{get:()=>this.playlistController_.appendsToLoadedData_()||0,enumerable:!0},timeToLoadedData:{get:()=>this.playlistController_.timeToLoadedData_()||0,enumerable:!0},buffered:{get:()=>Yl(this.tech_.buffered()),enumerable:!0},currentTime:{get:()=>this.tech_.currentTime(),enumerable:!0},currentSource:{get:()=>this.tech_.currentSource_,enumerable:!0},currentTech:{get:()=>this.tech_.name_,enumerable:!0},duration:{get:()=>this.tech_.duration(),enumerable:!0},main:{get:()=>this.playlists.main,enumerable:!0},playerDimensions:{get:()=>this.tech_.currentDimensions(),enumerable:!0},seekable:{get:()=>Yl(this.tech_.seekable()),enumerable:!0},timestamp:{get:()=>Date.now(),enumerable:!0},videoPlaybackQuality:{get:()=>this.tech_.getVideoPlaybackQuality(),enumerable:!0}}),this.tech_.one("canplay",this.playlistController_.setupFirstPlay.bind(this.playlistController_)),this.tech_.on("bandwidthupdate",()=>{if(this.options_.useBandwidthFromLocalStorage){var e={bandwidth:this.bandwidth,throughput:Math.round(this.throughput)};if(window.localStorage){var t=(t=Lu())?O(t,e):e;try{window.localStorage.setItem(xu,JSON.stringify(t))}catch(e){return}}}}),this.playlistController_.on("selectedinitialmedia",()=>{var i;(i=this).representations=()=>{var e=i.playlistController_.main(),e=pd(e)?i.playlistController_.getAudioTrackPlaylists_():e.playlists;return e?e.filter(e=>!od(e)).map((e,t)=>new Su(i,e,e.id)):[]}}),this.playlistController_.sourceUpdater_.on("createdsourcebuffers",()=>{this.setupEme_()}),this.on(this.playlistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.playlistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el())&&(this.mediaSourceUrl_=window.URL.createObjectURL(this.playlistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}createKeySessions_(){var e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),Au({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:e&&e.media(),mainPlaylists:this.playlists.main.playlists}).then(()=>{this.logger_("created EME key session"),this.playlistController_.sourceUpdater_.initializedEme()}).catch(e=>{this.logger_("error while creating EME key session",e),this.player_.error({message:"Failed to initialize media keys for EME",code:3})})}handleWaitingForKey_(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()}setupEme_(){var e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader,e=Pu({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:e&&e.media()});this.player_.tech_.on("keystatuschange",e=>{if("output-restricted"===e.status){e=this.playlistController_.main();if(e&&e.playlists){const t=[];e.playlists.forEach(e=>{e&&e.attributes&&e.attributes.RESOLUTION&&720<=e.attributes.RESOLUTION.height&&(!e.excludeUntil||e.excludeUntil<1/0)&&(e.excludeUntil=1/0,t.push(e))}),t.length&&(T.log.warn('DRM keystatus changed to "output-restricted." Removing the following HD playlists that will most likely fail to play and clearing the buffer. This may be due to HDCP restrictions on the stream and the capabilities of the current device.',...t),this.playlistController_.fastQualityChange_())}}}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),11!==T.browser.IE_VERSION&&e?this.createKeySessions_():this.playlistController_.sourceUpdater_.initializedEme()}setupQualityLevels_(){var e=T.players[this.tech_.options_.playerId];e&&e.qualityLevels&&!this.qualityLevels_&&(this.qualityLevels_=e.qualityLevels(),this.playlistController_.on("selectedinitialmedia",()=>{var t,e;t=this.qualityLevels_,(e=this).representations().forEach(e=>{t.addQualityLevel(e)}),Iu(t,e.playlists)}),this.playlists.on("mediachange",()=>{Iu(this.qualityLevels_,this.playlists)}))}static version(){return{"@videojs/http-streaming":"3.0.2","mux.js":"6.3.0","mpd-parser":"1.0.1","m3u8-parser":"6.0.0","aes-decrypter":"4.0.1"}}version(){return this.constructor.version()}canChangeType(){return iu.canChangeType()}play(){this.playlistController_.play()}setCurrentTime(e){this.playlistController_.setCurrentTime(e)}duration(){return this.playlistController_.duration()}seekable(){return this.playlistController_.seekable()}dispose(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.playlistController_&&this.playlistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.mediaSourceUrl_&&window.URL.revokeObjectURL&&(window.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),super.dispose()}convertToProgramTime(e,t){return Fd({playlist:this.playlistController_.media(),time:e,callback:t})}seekToProgramTime(e,t,i=!0,s=2){return jd({programTime:e,playlist:this.playlistController_.media(),retryCount:s,pauseAfterSeek:i,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:t})}}const Du={name:"videojs-http-streaming",VERSION:"3.0.2",canHandleSource(e,t={}){t=O(T.options,t);return Du.canPlayType(e.type,t)},handleSource(e,t,i={}){i=O(T.options,i);return t.vhs=new Ou(e,t,i),t.vhs.xhr=xd(),t.vhs.src(e.src,e.type),t.vhs},canPlayType(e,t){e=An(e);return e&&(t=Du.getOverrideNative(t),!N.supportsTypeNatively(e)||t)?"maybe":""},getOverrideNative(e={}){var{vhs:e={}}=e,t=!(T.browser.IS_ANY_SAFARI||T.browser.IS_IOS),{overrideNative:e=t}=e;return e}};return In("avc1.4d400d,mp4a.40.2")&&T.getTech("Html5").registerSourceHandler(Du,0),T.VhsHandler=Ou,T.VhsSourceHandler=Du,T.Vhs=N,T.use||T.registerComponent("Vhs",N),T.options.vhs=T.options.vhs||{},T.getPlugin&&T.getPlugin("reloadSourceOnError")||T.registerPlugin("reloadSourceOnError",function(e){Cu(this,e)}),T});
videojs.addLanguage('ru', {
  "Audio Player": "",
  "Video Player": "",
  "Play": "",
  "Pause": "",
  "Replay": " ",
  "Current Time": " ",
  "Duration": "",
  "Remaining Time": " ",
  "Stream Type": " ",
  "LIVE": " ",
  "Seek to live, currently behind live": "    (   )",
  "Seek to live, currently playing live": "    (   )",
  "Loaded": "",
  "Progress": "",
  "Progress Bar": " ",
  "progress bar timing: currentTime={1} duration={2}": "{1}  {2}",
  "Fullscreen": " ",
  "Exit Fullscreen": " ",
  "Mute": " ",
  "Unmute": " ",
  "Playback Rate": " ",
  "Subtitles": "",
  "subtitles off": " .",
  "Captions": "",
  "captions off": " .",
  "Chapters": "",
  "Descriptions": "",
  "descriptions off": " ",
  "Audio Track": " ",
  "Volume Level": " ",
  "You aborted the media playback": "   ",
  "A network error caused the media download to fail part-way.": "      .",
  "The media could not be loaded, either because the server or network failed or because the format is not supported.": "    -        .",
  "The media playback was aborted due to a corruption problem or because the media used features your browser did not support.": "  -      ,    ,   .",
  "No compatible source was found for this media.": "     .",
  "The media is encrypted and we do not have the keys to decrypt it.": " ,        .",
  "Play Video": " ",
  "Close": "",
  "Close Modal Dialog": "  ",
  "Modal Window": " ",
  "This is a modal window": "  ",
  "This modal can be closed by pressing the Escape key or activating the close button.": "     Esc    .",
  ", opens captions settings dialog": ",    ",
  ", opens subtitles settings dialog": ",    ",
  ", opens descriptions settings dialog": ",    ",
  ", selected": ", ",
  "captions settings": " ",
  "subtitles settings": " ",
  "descriptions settings": " ",
  "Text": "",
  "White": "",
  "Black": "",
  "Red": "",
  "Green": "",
  "Blue": "",
  "Yellow": "",
  "Magenta": "",
  "Cyan": "",
  "Background": "",
  "Window": "",
  "Transparent": "",
  "Semi-Transparent": "",
  "Opaque": "",
  "Font Size": " ",
  "Text Edge Style": "  ",
  "None": "",
  "Raised": "",
  "Depressed": "",
  "Uniform": "",
  "Dropshadow": "",
  "Font Family": "",
  "Proportional Sans-Serif": "  ",
  "Monospace Sans-Serif": "  ",
  "Proportional Serif": "  ",
  "Monospace Serif": "  ",
  "Casual": "",
  "Script": "",
  "Small Caps": "",
  "Reset": "",
  "restore all settings to the default values": "      ",
  "Done": "",
  "Caption Settings Dialog": "  ",
  "Beginning of dialog window. Escape will cancel and close the window.": "  .  Escape     ",
  "End of dialog window.": "  .",
  "{1} is loading.": "{1} .",
  "Exit Picture-in-Picture": "   ",
  "Picture-in-Picture": "  ",
  "Skip forward {1} seconds": " {1}  ",
  "Skip backward {1} seconds": " {1}  "
});
/*!
 * @fileOverview TouchSwipe - jQuery Plugin
 * @version 1.6.18
 *
 * @author Matt Bryson http://www.github.com/mattbryson
 * @see https://github.com/mattbryson/TouchSwipe-Jquery-Plugin
 * @see http://labs.rampinteractive.co.uk/touchSwipe/
 * @see http://plugins.jquery.com/project/touchSwipe
 * @license
 * Copyright (c) 2010-2015 Matt Bryson
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 */
!function(factory){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],factory):factory("undefined"!=typeof module&&module.exports?require("jquery"):jQuery)}(function($){"use strict";function init(options){return!options||void 0!==options.allowPageScroll||void 0===options.swipe&&void 0===options.swipeStatus||(options.allowPageScroll=NONE),void 0!==options.click&&void 0===options.tap&&(options.tap=options.click),options||(options={}),options=$.extend({},$.fn.swipe.defaults,options),this.each(function(){var $this=$(this),plugin=$this.data(PLUGIN_NS);plugin||(plugin=new TouchSwipe(this,options),$this.data(PLUGIN_NS,plugin))})}function TouchSwipe(element,options){function touchStart(jqEvent){if(!(getTouchInProgress()||$(jqEvent.target).closest(options.excludedElements,$element).length>0)){var event=jqEvent.originalEvent?jqEvent.originalEvent:jqEvent;if(!event.pointerType||"mouse"!=event.pointerType||0!=options.fallbackToMouseEvents){var ret,touches=event.touches,evt=touches?touches[0]:event;return phase=PHASE_START,touches?fingerCount=touches.length:options.preventDefaultEvents!==!1&&jqEvent.preventDefault(),distance=0,direction=null,currentDirection=null,pinchDirection=null,duration=0,startTouchesDistance=0,endTouchesDistance=0,pinchZoom=1,pinchDistance=0,maximumsMap=createMaximumsData(),cancelMultiFingerRelease(),createFingerData(0,evt),!touches||fingerCount===options.fingers||options.fingers===ALL_FINGERS||hasPinches()?(startTime=getTimeStamp(),2==fingerCount&&(createFingerData(1,touches[1]),startTouchesDistance=endTouchesDistance=calculateTouchesDistance(fingerData[0].start,fingerData[1].start)),(options.swipeStatus||options.pinchStatus)&&(ret=triggerHandler(event,phase))):ret=!1,ret===!1?(phase=PHASE_CANCEL,triggerHandler(event,phase),ret):(options.hold&&(holdTimeout=setTimeout($.proxy(function(){$element.trigger("hold",[event.target]),options.hold&&(ret=options.hold.call($element,event,event.target))},this),options.longTapThreshold)),setTouchInProgress(!0),null)}}}function touchMove(jqEvent){var event=jqEvent.originalEvent?jqEvent.originalEvent:jqEvent;if(phase!==PHASE_END&&phase!==PHASE_CANCEL&&!inMultiFingerRelease()){var ret,touches=event.touches,evt=touches?touches[0]:event,currentFinger=updateFingerData(evt);if(endTime=getTimeStamp(),touches&&(fingerCount=touches.length),options.hold&&clearTimeout(holdTimeout),phase=PHASE_MOVE,2==fingerCount&&(0==startTouchesDistance?(createFingerData(1,touches[1]),startTouchesDistance=endTouchesDistance=calculateTouchesDistance(fingerData[0].start,fingerData[1].start)):(updateFingerData(touches[1]),endTouchesDistance=calculateTouchesDistance(fingerData[0].end,fingerData[1].end),pinchDirection=calculatePinchDirection(fingerData[0].end,fingerData[1].end)),pinchZoom=calculatePinchZoom(startTouchesDistance,endTouchesDistance),pinchDistance=Math.abs(startTouchesDistance-endTouchesDistance)),fingerCount===options.fingers||options.fingers===ALL_FINGERS||!touches||hasPinches()){if(direction=calculateDirection(currentFinger.start,currentFinger.end),currentDirection=calculateDirection(currentFinger.last,currentFinger.end),validateDefaultEvent(jqEvent,currentDirection),distance=calculateDistance(currentFinger.start,currentFinger.end),duration=calculateDuration(),setMaxDistance(direction,distance),ret=triggerHandler(event,phase),!options.triggerOnTouchEnd||options.triggerOnTouchLeave){var inBounds=!0;if(options.triggerOnTouchLeave){var bounds=getbounds(this);inBounds=isInBounds(currentFinger.end,bounds)}!options.triggerOnTouchEnd&&inBounds?phase=getNextPhase(PHASE_MOVE):options.triggerOnTouchLeave&&!inBounds&&(phase=getNextPhase(PHASE_END)),phase!=PHASE_CANCEL&&phase!=PHASE_END||triggerHandler(event,phase)}}else phase=PHASE_CANCEL,triggerHandler(event,phase);ret===!1&&(phase=PHASE_CANCEL,triggerHandler(event,phase))}}function touchEnd(jqEvent){var event=jqEvent.originalEvent?jqEvent.originalEvent:jqEvent,touches=event.touches;if(touches){if(touches.length&&!inMultiFingerRelease())return startMultiFingerRelease(event),!0;if(touches.length&&inMultiFingerRelease())return!0}return inMultiFingerRelease()&&(fingerCount=fingerCountAtRelease),endTime=getTimeStamp(),duration=calculateDuration(),didSwipeBackToCancel()||!validateSwipeDistance()?(phase=PHASE_CANCEL,triggerHandler(event,phase)):options.triggerOnTouchEnd||options.triggerOnTouchEnd===!1&&phase===PHASE_MOVE?(options.preventDefaultEvents!==!1&&jqEvent.cancelable!==!1&&jqEvent.preventDefault(),phase=PHASE_END,triggerHandler(event,phase)):!options.triggerOnTouchEnd&&hasTap()?(phase=PHASE_END,triggerHandlerForGesture(event,phase,TAP)):phase===PHASE_MOVE&&(phase=PHASE_CANCEL,triggerHandler(event,phase)),setTouchInProgress(!1),null}function touchCancel(){fingerCount=0,endTime=0,startTime=0,startTouchesDistance=0,endTouchesDistance=0,pinchZoom=1,cancelMultiFingerRelease(),setTouchInProgress(!1)}function touchLeave(jqEvent){var event=jqEvent.originalEvent?jqEvent.originalEvent:jqEvent;options.triggerOnTouchLeave&&(phase=getNextPhase(PHASE_END),triggerHandler(event,phase))}function removeListeners(){$element.off(START_EV,touchStart),$element.off(CANCEL_EV,touchCancel),$element.off(MOVE_EV,touchMove),$element.off(END_EV,touchEnd),LEAVE_EV&&$element.off(LEAVE_EV,touchLeave),setTouchInProgress(!1)}function getNextPhase(currentPhase){var nextPhase=currentPhase,validTime=validateSwipeTime(),validDistance=validateSwipeDistance(),didCancel=didSwipeBackToCancel();return!validTime||didCancel?nextPhase=PHASE_CANCEL:!validDistance||currentPhase!=PHASE_MOVE||options.triggerOnTouchEnd&&!options.triggerOnTouchLeave?!validDistance&&currentPhase==PHASE_END&&options.triggerOnTouchLeave&&(nextPhase=PHASE_CANCEL):nextPhase=PHASE_END,nextPhase}function triggerHandler(event,phase){var ret,touches=event.touches;return(didSwipe()||hasSwipes())&&(ret=triggerHandlerForGesture(event,phase,SWIPE)),(didPinch()||hasPinches())&&ret!==!1&&(ret=triggerHandlerForGesture(event,phase,PINCH)),didDoubleTap()&&ret!==!1?ret=triggerHandlerForGesture(event,phase,DOUBLE_TAP):didLongTap()&&ret!==!1?ret=triggerHandlerForGesture(event,phase,LONG_TAP):didTap()&&ret!==!1&&(ret=triggerHandlerForGesture(event,phase,TAP)),phase===PHASE_CANCEL&&touchCancel(event),phase===PHASE_END&&(touches?touches.length||touchCancel(event):touchCancel(event)),ret}function triggerHandlerForGesture(event,phase,gesture){var ret;if(gesture==SWIPE){if($element.trigger("swipeStatus",[phase,direction||null,distance||0,duration||0,fingerCount,fingerData,currentDirection]),options.swipeStatus&&(ret=options.swipeStatus.call($element,event,phase,direction||null,distance||0,duration||0,fingerCount,fingerData,currentDirection),ret===!1))return!1;if(phase==PHASE_END&&validateSwipe()){if(clearTimeout(singleTapTimeout),clearTimeout(holdTimeout),$element.trigger("swipe",[direction,distance,duration,fingerCount,fingerData,currentDirection]),options.swipe&&(ret=options.swipe.call($element,event,direction,distance,duration,fingerCount,fingerData,currentDirection),ret===!1))return!1;switch(direction){case LEFT:$element.trigger("swipeLeft",[direction,distance,duration,fingerCount,fingerData,currentDirection]),options.swipeLeft&&(ret=options.swipeLeft.call($element,event,direction,distance,duration,fingerCount,fingerData,currentDirection));break;case RIGHT:$element.trigger("swipeRight",[direction,distance,duration,fingerCount,fingerData,currentDirection]),options.swipeRight&&(ret=options.swipeRight.call($element,event,direction,distance,duration,fingerCount,fingerData,currentDirection));break;case UP:$element.trigger("swipeUp",[direction,distance,duration,fingerCount,fingerData,currentDirection]),options.swipeUp&&(ret=options.swipeUp.call($element,event,direction,distance,duration,fingerCount,fingerData,currentDirection));break;case DOWN:$element.trigger("swipeDown",[direction,distance,duration,fingerCount,fingerData,currentDirection]),options.swipeDown&&(ret=options.swipeDown.call($element,event,direction,distance,duration,fingerCount,fingerData,currentDirection))}}}if(gesture==PINCH){if($element.trigger("pinchStatus",[phase,pinchDirection||null,pinchDistance||0,duration||0,fingerCount,pinchZoom,fingerData]),options.pinchStatus&&(ret=options.pinchStatus.call($element,event,phase,pinchDirection||null,pinchDistance||0,duration||0,fingerCount,pinchZoom,fingerData),ret===!1))return!1;if(phase==PHASE_END&&validatePinch())switch(pinchDirection){case IN:$element.trigger("pinchIn",[pinchDirection||null,pinchDistance||0,duration||0,fingerCount,pinchZoom,fingerData]),options.pinchIn&&(ret=options.pinchIn.call($element,event,pinchDirection||null,pinchDistance||0,duration||0,fingerCount,pinchZoom,fingerData));break;case OUT:$element.trigger("pinchOut",[pinchDirection||null,pinchDistance||0,duration||0,fingerCount,pinchZoom,fingerData]),options.pinchOut&&(ret=options.pinchOut.call($element,event,pinchDirection||null,pinchDistance||0,duration||0,fingerCount,pinchZoom,fingerData))}}return gesture==TAP?phase!==PHASE_CANCEL&&phase!==PHASE_END||(clearTimeout(singleTapTimeout),clearTimeout(holdTimeout),hasDoubleTap()&&!inDoubleTap()?(doubleTapStartTime=getTimeStamp(),singleTapTimeout=setTimeout($.proxy(function(){doubleTapStartTime=null,$element.trigger("tap",[event.target]),options.tap&&(ret=options.tap.call($element,event,event.target))},this),options.doubleTapThreshold)):(doubleTapStartTime=null,$element.trigger("tap",[event.target]),options.tap&&(ret=options.tap.call($element,event,event.target)))):gesture==DOUBLE_TAP?phase!==PHASE_CANCEL&&phase!==PHASE_END||(clearTimeout(singleTapTimeout),clearTimeout(holdTimeout),doubleTapStartTime=null,$element.trigger("doubletap",[event.target]),options.doubleTap&&(ret=options.doubleTap.call($element,event,event.target))):gesture==LONG_TAP&&(phase!==PHASE_CANCEL&&phase!==PHASE_END||(clearTimeout(singleTapTimeout),doubleTapStartTime=null,$element.trigger("longtap",[event.target]),options.longTap&&(ret=options.longTap.call($element,event,event.target)))),ret}function validateSwipeDistance(){var valid=!0;return null!==options.threshold&&(valid=distance>=options.threshold),valid}function didSwipeBackToCancel(){var cancelled=!1;return null!==options.cancelThreshold&&null!==direction&&(cancelled=getMaxDistance(direction)-distance>=options.cancelThreshold),cancelled}function validatePinchDistance(){return null!==options.pinchThreshold?pinchDistance>=options.pinchThreshold:!0}function validateSwipeTime(){var result;return result=options.maxTimeThreshold?!(duration>=options.maxTimeThreshold):!0}function validateDefaultEvent(jqEvent,direction){if(options.preventDefaultEvents!==!1)if(options.allowPageScroll===NONE)jqEvent.preventDefault();else{var auto=options.allowPageScroll===AUTO;switch(direction){case LEFT:(options.swipeLeft&&auto||!auto&&options.allowPageScroll!=HORIZONTAL)&&jqEvent.preventDefault();break;case RIGHT:(options.swipeRight&&auto||!auto&&options.allowPageScroll!=HORIZONTAL)&&jqEvent.preventDefault();break;case UP:(options.swipeUp&&auto||!auto&&options.allowPageScroll!=VERTICAL)&&jqEvent.preventDefault();break;case DOWN:(options.swipeDown&&auto||!auto&&options.allowPageScroll!=VERTICAL)&&jqEvent.preventDefault();break;case NONE:}}}function validatePinch(){var hasCorrectFingerCount=validateFingers(),hasEndPoint=validateEndPoint(),hasCorrectDistance=validatePinchDistance();return hasCorrectFingerCount&&hasEndPoint&&hasCorrectDistance}function hasPinches(){return!!(options.pinchStatus||options.pinchIn||options.pinchOut)}function didPinch(){return!(!validatePinch()||!hasPinches())}function validateSwipe(){var hasValidTime=validateSwipeTime(),hasValidDistance=validateSwipeDistance(),hasCorrectFingerCount=validateFingers(),hasEndPoint=validateEndPoint(),didCancel=didSwipeBackToCancel(),valid=!didCancel&&hasEndPoint&&hasCorrectFingerCount&&hasValidDistance&&hasValidTime;return valid}function hasSwipes(){return!!(options.swipe||options.swipeStatus||options.swipeLeft||options.swipeRight||options.swipeUp||options.swipeDown)}function didSwipe(){return!(!validateSwipe()||!hasSwipes())}function validateFingers(){return fingerCount===options.fingers||options.fingers===ALL_FINGERS||!SUPPORTS_TOUCH}function validateEndPoint(){return 0!==fingerData[0].end.x}function hasTap(){return!!options.tap}function hasDoubleTap(){return!!options.doubleTap}function hasLongTap(){return!!options.longTap}function validateDoubleTap(){if(null==doubleTapStartTime)return!1;var now=getTimeStamp();return hasDoubleTap()&&now-doubleTapStartTime<=options.doubleTapThreshold}function inDoubleTap(){return validateDoubleTap()}function validateTap(){return(1===fingerCount||!SUPPORTS_TOUCH)&&(isNaN(distance)||distance<options.threshold)}function validateLongTap(){return duration>options.longTapThreshold&&DOUBLE_TAP_THRESHOLD>distance}function didTap(){return!(!validateTap()||!hasTap())}function didDoubleTap(){return!(!validateDoubleTap()||!hasDoubleTap())}function didLongTap(){return!(!validateLongTap()||!hasLongTap())}function startMultiFingerRelease(event){previousTouchEndTime=getTimeStamp(),fingerCountAtRelease=event.touches.length+1}function cancelMultiFingerRelease(){previousTouchEndTime=0,fingerCountAtRelease=0}function inMultiFingerRelease(){var withinThreshold=!1;if(previousTouchEndTime){var diff=getTimeStamp()-previousTouchEndTime;diff<=options.fingerReleaseThreshold&&(withinThreshold=!0)}return withinThreshold}function getTouchInProgress(){return!($element.data(PLUGIN_NS+"_intouch")!==!0)}function setTouchInProgress(val){$element&&(val===!0?($element.on(MOVE_EV,touchMove),$element.on(END_EV,touchEnd),LEAVE_EV&&$element.on(LEAVE_EV,touchLeave)):($element.off(MOVE_EV,touchMove,!1),$element.off(END_EV,touchEnd,!1),LEAVE_EV&&$element.off(LEAVE_EV,touchLeave,!1)),$element.data(PLUGIN_NS+"_intouch",val===!0))}function createFingerData(id,evt){var f={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};return f.start.x=f.last.x=f.end.x=evt.pageX||evt.clientX,f.start.y=f.last.y=f.end.y=evt.pageY||evt.clientY,fingerData[id]=f,f}function updateFingerData(evt){var id=void 0!==evt.identifier?evt.identifier:0,f=getFingerData(id);return null===f&&(f=createFingerData(id,evt)),f.last.x=f.end.x,f.last.y=f.end.y,f.end.x=evt.pageX||evt.clientX,f.end.y=evt.pageY||evt.clientY,f}function getFingerData(id){return fingerData[id]||null}function setMaxDistance(direction,distance){direction!=NONE&&(distance=Math.max(distance,getMaxDistance(direction)),maximumsMap[direction].distance=distance)}function getMaxDistance(direction){return maximumsMap[direction]?maximumsMap[direction].distance:void 0}function createMaximumsData(){var maxData={};return maxData[LEFT]=createMaximumVO(LEFT),maxData[RIGHT]=createMaximumVO(RIGHT),maxData[UP]=createMaximumVO(UP),maxData[DOWN]=createMaximumVO(DOWN),maxData}function createMaximumVO(dir){return{direction:dir,distance:0}}function calculateDuration(){return endTime-startTime}function calculateTouchesDistance(startPoint,endPoint){var diffX=Math.abs(startPoint.x-endPoint.x),diffY=Math.abs(startPoint.y-endPoint.y);return Math.round(Math.sqrt(diffX*diffX+diffY*diffY))}function calculatePinchZoom(startDistance,endDistance){var percent=endDistance/startDistance*1;return percent.toFixed(2)}function calculatePinchDirection(){return 1>pinchZoom?OUT:IN}function calculateDistance(startPoint,endPoint){return Math.round(Math.sqrt(Math.pow(endPoint.x-startPoint.x,2)+Math.pow(endPoint.y-startPoint.y,2)))}function calculateAngle(startPoint,endPoint){var x=startPoint.x-endPoint.x,y=endPoint.y-startPoint.y,r=Math.atan2(y,x),angle=Math.round(180*r/Math.PI);return 0>angle&&(angle=360-Math.abs(angle)),angle}function calculateDirection(startPoint,endPoint){if(comparePoints(startPoint,endPoint))return NONE;var angle=calculateAngle(startPoint,endPoint);return 45>=angle&&angle>=0?LEFT:360>=angle&&angle>=315?LEFT:angle>=135&&225>=angle?RIGHT:angle>45&&135>angle?DOWN:UP}function getTimeStamp(){var now=new Date;return now.getTime()}function getbounds(el){el=$(el);var offset=el.offset(),bounds={left:offset.left,right:offset.left+el.outerWidth(),top:offset.top,bottom:offset.top+el.outerHeight()};return bounds}function isInBounds(point,bounds){return point.x>bounds.left&&point.x<bounds.right&&point.y>bounds.top&&point.y<bounds.bottom}function comparePoints(pointA,pointB){return pointA.x==pointB.x&&pointA.y==pointB.y}var options=$.extend({},options),useTouchEvents=SUPPORTS_TOUCH||SUPPORTS_POINTER||!options.fallbackToMouseEvents,START_EV=useTouchEvents?SUPPORTS_POINTER?SUPPORTS_POINTER_IE10?"MSPointerDown":"pointerdown":"touchstart":"mousedown",MOVE_EV=useTouchEvents?SUPPORTS_POINTER?SUPPORTS_POINTER_IE10?"MSPointerMove":"pointermove":"touchmove":"mousemove",END_EV=useTouchEvents?SUPPORTS_POINTER?SUPPORTS_POINTER_IE10?"MSPointerUp":"pointerup":"touchend":"mouseup",LEAVE_EV=useTouchEvents?SUPPORTS_POINTER?"mouseleave":null:"mouseleave",CANCEL_EV=SUPPORTS_POINTER?SUPPORTS_POINTER_IE10?"MSPointerCancel":"pointercancel":"touchcancel",distance=0,direction=null,currentDirection=null,duration=0,startTouchesDistance=0,endTouchesDistance=0,pinchZoom=1,pinchDistance=0,pinchDirection=0,maximumsMap=null,$element=$(element),phase="start",fingerCount=0,fingerData={},startTime=0,endTime=0,previousTouchEndTime=0,fingerCountAtRelease=0,doubleTapStartTime=0,singleTapTimeout=null,holdTimeout=null;try{$element.on(START_EV,touchStart),$element.on(CANCEL_EV,touchCancel)}catch(e){$.error("events not supported "+START_EV+","+CANCEL_EV+" on jQuery.swipe")}this.enable=function(){return this.disable(),$element.on(START_EV,touchStart),$element.on(CANCEL_EV,touchCancel),$element},this.disable=function(){return removeListeners(),$element},this.destroy=function(){removeListeners(),$element.data(PLUGIN_NS,null),$element=null},this.option=function(property,value){if("object"==typeof property)options=$.extend(options,property);else if(void 0!==options[property]){if(void 0===value)return options[property];options[property]=value}else{if(!property)return options;$.error("Option "+property+" does not exist on jQuery.swipe.options")}return null}}var VERSION="1.6.18",LEFT="left",RIGHT="right",UP="up",DOWN="down",IN="in",OUT="out",NONE="none",AUTO="auto",SWIPE="swipe",PINCH="pinch",TAP="tap",DOUBLE_TAP="doubletap",LONG_TAP="longtap",HORIZONTAL="horizontal",VERTICAL="vertical",ALL_FINGERS="all",DOUBLE_TAP_THRESHOLD=10,PHASE_START="start",PHASE_MOVE="move",PHASE_END="end",PHASE_CANCEL="cancel",SUPPORTS_TOUCH="ontouchstart"in window,SUPPORTS_POINTER_IE10=window.navigator.msPointerEnabled&&!window.PointerEvent&&!SUPPORTS_TOUCH,SUPPORTS_POINTER=(window.PointerEvent||window.navigator.msPointerEnabled)&&!SUPPORTS_TOUCH,PLUGIN_NS="TouchSwipe",defaults={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:".noSwipe",preventDefaultEvents:!0};$.fn.swipe=function(method){var $this=$(this),plugin=$this.data(PLUGIN_NS);if(plugin&&"string"==typeof method){if(plugin[method])return plugin[method].apply(plugin,Array.prototype.slice.call(arguments,1));$.error("Method "+method+" does not exist on jQuery.swipe")}else if(plugin&&"object"==typeof method)plugin.option.apply(plugin,arguments);else if(!(plugin||"object"!=typeof method&&method))return init.apply(this,arguments);return $this},$.fn.swipe.version=VERSION,$.fn.swipe.defaults=defaults,$.fn.swipe.phases={PHASE_START:PHASE_START,PHASE_MOVE:PHASE_MOVE,PHASE_END:PHASE_END,PHASE_CANCEL:PHASE_CANCEL},$.fn.swipe.directions={LEFT:LEFT,RIGHT:RIGHT,UP:UP,DOWN:DOWN,IN:IN,OUT:OUT},$.fn.swipe.pageScroll={NONE:NONE,HORIZONTAL:HORIZONTAL,VERTICAL:VERTICAL,AUTO:AUTO},$.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:ALL_FINGERS}});
/*!@license Copyright 2013, Heinrich Goebl, License: MIT, see https://github.com/hgoebl/mobile-detect.js*/
!function(a,b){a(function(){"use strict";function a(a,b){return null!=a&&null!=b&&a.toLowerCase()===b.toLowerCase()}function c(a,b){var c,d,e=a.length;if(!e||!b)return!1;for(c=b.toLowerCase(),d=0;d<e;++d)if(c===a[d].toLowerCase())return!0;return!1}function d(a){for(var b in a)i.call(a,b)&&(a[b]=new RegExp(a[b],"i"))}function e(a){return(a||"").substr(0,500)}function f(a,b){this.ua=e(a),this._cache={},this.maxPhoneWidth=b||600}var g={};g.mobileDetectRules={phones:{iPhone:"\\biPhone\\b|\\biPod\\b",BlackBerry:"BlackBerry|\\bBB10\\b|rim[0-9]+|\\b(BBA100|BBB100|BBD100|BBE100|BBF100|STH100)\\b-[0-9]+",Pixel:"; \\bPixel\\b",HTC:"HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\\bEVO\\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel",Nexus:"Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 5X|Nexus 6",Dell:"Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\\b001DL\\b|\\b101DL\\b|\\bGS01\\b",Motorola:"Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052",Samsung:"\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|GT-N7105|SCH-I535|SM-N900A|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F|SM-G610F|SM-G981B|SM-G892A|SM-A530F",LG:"\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|MS323|M257)|LM-G710",Sony:"SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533|SOV34|601SO|F8332",Asus:"Asus.*Galaxy|PadFone.*Mobile",Xiaomi:"^(?!.*\\bx11\\b).*xiaomi.*$|POCOPHONE F1|MI 8|Redmi Note 9S|Redmi Note 5A Prime|N2G47H|M2001J2G|M2001J2I|M1805E10A|M2004J11G|M1902F1G|M2002J9G|M2004J19G|M2003J6A1G",NokiaLumia:"Lumia [0-9]{3,4}",Micromax:"Micromax.*\\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\\b",Palm:"PalmSource|Palm",Vertu:"Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature",Pantech:"PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|P2000|P7040|P7000|C790",Fly:"IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250",Wiko:"KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|CINK KING|CINK PEAX|CINK SLIM|SUBLIM",iMobile:"i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)",SimValley:"\\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\\b",Wolfgang:"AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q",Alcatel:"Alcatel",Nintendo:"Nintendo (3DS|Switch)",Amoi:"Amoi",INQ:"INQ",OnePlus:"ONEPLUS",GenericPhone:"Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|up.link|vodafone|\\bwap\\b|nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser"},tablets:{iPad:"iPad|iPad.*Mobile",NexusTablet:"Android.*Nexus[\\s]+(7|9|10)",GoogleTablet:"Android.*Pixel C",SamsungTablet:"SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|SHV-E230S|SHW-M180K|SHW-M180L|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|SM-P601|SM-P605|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T330|SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|SM-T719|SM-T813|SM-T819|SM-T580|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835|SM-T830|SM-T837V|SM-T720|SM-T510|SM-T387V|SM-P610|SM-T290|SM-T515|SM-T590|SM-T595|SM-T725|SM-T817P|SM-P585N0|SM-T395|SM-T295|SM-T865|SM-P610N|SM-P615|SM-T970|SM-T380|SM-T5950|SM-T905|SM-T231|SM-T500|SM-T860",Kindle:"Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome/[0-9.]+ (?!Mobile)",SurfaceTablet:"Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)",HPTablet:"HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10",AsusTablet:"^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b",BlackBerryTablet:"PlayBook|RIM Tablet",HTCtablet:"HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410",MotorolaTablet:"xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617",NookTablet:"Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2",AcerTablet:"Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\\bA3-A20\\b|\\bA3-A30|A3-A40",ToshibaTablet:"Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO",LGTablet:"\\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\\b",FujitsuTablet:"Android.*\\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\\b",PrestigioTablet:"PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|PMT5887|PMT5001|PMT5002",LenovoTablet:"Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|B8000|B8080)(-|)(FL|F|HV|H|)|TB-X103F|TB-X304X|TB-X304F|TB-X304L|TB-X505F|TB-X505L|TB-X505X|TB-X605F|TB-X605L|TB-8703F|TB-8703X|TB-8703N|TB-8704N|TB-8704F|TB-8704X|TB-8704V|TB-7304F|TB-7304I|TB-7304X|Tab2A7-10F|Tab2A7-20F|TB2-X30L|YT3-X50L|YT3-X50F|YT3-X50M|YT-X705F|YT-X703F|YT-X703L|YT-X705L|YT-X705X|TB2-X30F|TB2-X30L|TB2-X30M|A2107A-F|A2107A-H|TB3-730F|TB3-730M|TB3-730X|TB-7504F|TB-7504X|TB-X704F|TB-X104F|TB3-X70F|TB-X705F|TB-8504F|TB3-X70L|TB3-710F|TB-X704L",DellTablet:"Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7",YarvikTablet:"Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b",MedionTablet:"Android.*\\bOYO\\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB",ArnovaTablet:"97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2",IntensoTablet:"INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004",IRUTablet:"M702pro",MegafonTablet:"MegaFon V9|\\bZTE V9\\b|Android.*\\bMT7A\\b",EbodaTablet:"E-Boda (Supreme|Impresspeed|Izzycomm|Essential)",AllViewTablet:"Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)",ArchosTablet:"\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10| Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b",AinolTablet:"NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark",NokiaLumiaTablet:"Lumia 2520",SonyTablet:"Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|SGP612|SGP712",PhilipsTablet:"\\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\\b",CubeTablet:"Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT",CobyTablet:"MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010",MIDTablet:"M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10",MSITablet:"MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b",SMiTTablet:"Android.*(\\bMID\\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)",RockChipTablet:"Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A",FlyTablet:"IQ310|Fly Vision",bqTablet:"Android.*(bq)?.*\\b(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))\\b|Maxwell.*Lite|Maxwell.*Plus",HuaweiTablet:"MediaPad|MediaPad 7 Youth|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09|AGS-L09|CMR-AL19",NecTablet:"\\bN-06D|\\bN-08D",PantechTablet:"Pantech.*P4100",BronchoTablet:"Broncho.*(N701|N708|N802|a710)",VersusTablet:"TOUCHPAD.*[78910]|\\bTOUCHTAB\\b",ZyncTablet:"z1000|Z99 2G|z930|z990|z909|Z919|z900",PositivoTablet:"TB07STA|TB10STA|TB07FTA|TB10FTA",NabiTablet:"Android.*\\bNabi",KoboTablet:"Kobo Touch|\\bK080\\b|\\bVox\\b Build|\\bArc\\b Build",DanewTablet:"DSlide.*\\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\\b",TexetTablet:"NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|TB-436|TB-416|TB-146SE|TB-126SE",PlaystationTablet:"Playstation.*(Portable|Vita)",TrekstorTablet:"ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab",PyleAudioTablet:"\\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\\b",AdvanTablet:"Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b ",DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:"Android [0-9.]+; [a-z-]+; \\bG1\\b",MicromaxTablet:"Funbook|Micromax.*\\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\\b",KarbonnTablet:"Android.*\\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\\b",AllFineTablet:"Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide",PROSCANTablet:"\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b",YONESTablet:"BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026",ChangJiaTablet:"TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|TPC10111|TPC10203|TPC10205|TPC10503",GUTablet:"TX-A1301|TX-M9002|Q702|kf026",PointOfViewTablet:"TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10",OvermaxTablet:"OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|MagicTab|Stream|TB-08|TB-09)|Qualcore 1027",HCLTablet:"HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync",DPSTablet:"DPS Dream 9|DPS Dual 7",VistureTablet:"V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10",CrestaTablet:"CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989",MediatekTablet:"\\bMT8125|MT8389|MT8135|MT8377\\b",ConcordeTablet:"Concorde([ ]+)?Tab|ConCorde ReadMan",GoCleverTablet:"GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|TAB R104|TAB R83.3|TAB A1042",ModecomTablet:"FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003",VoninoTablet:"\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b",ECSTablet:"V07OT2|TM105A|S10OT1|TR10CS1",StorexTablet:"eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab",VodafoneTablet:"SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497|VFD 1400",EssentielBTablet:"Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2",RossMoorTablet:"RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711",iMobileTablet:"i-mobile i-note",TolinoTablet:"tolino tab [0-9.]+|tolino shine",AudioSonicTablet:"\\bC-22Q|T7-QC|T-17B|T-17P\\b",AMPETablet:"Android.* A78 ",SkkTablet:"Android.* (SKYPAD|PHOENIX|CYCLOPS)",TecnoTablet:"TECNO P9|TECNO DP8D",JXDTablet:"Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|P1000|P300|S18|S6600|S9100)\\b",iJoyTablet:"Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)",FX2Tablet:"FX2 PAD7|FX2 PAD10",XoroTablet:"KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151",ViewsonicTablet:"ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a",VerizonTablet:"QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1",OdysTablet:"LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\\bXELIO\\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10",CaptivaTablet:"CAPTIVA PAD",IconbitTablet:"NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S",TeclastTablet:"T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi",OndaTablet:"\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|Vi40)\\b[\\s]+|V10 \\b4G\\b",JaytechTablet:"TPC-PA762",BlaupunktTablet:"Endeavour 800NG|Endeavour 1010",DigmaTablet:"\\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\\b",EvolioTablet:"ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\\bEvotab\\b|\\bNeura\\b",LavaTablet:"QPAD E704|\\bIvoryS\\b|E-TAB IVORY|\\bE-TAB\\b",AocTablet:"MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712",MpmanTablet:"MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010",CelkonTablet:"CT695|CT888|CT[\\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\\bCT-1\\b",WolderTablet:"miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b",MediacomTablet:"M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA",MiTablet:"\\bMI PAD\\b|\\bHM NOTE 1W\\b",NibiruTablet:"Nibiru M1|Nibiru Jupiter One",NexoTablet:"NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI",LeaderTablet:"TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100",UbislateTablet:"UbiSlate[\\s]?7C",PocketBookTablet:"Pocketbook",KocasoTablet:"\\b(TB-1207)\\b",HisenseTablet:"\\b(F5281|E2371)\\b",Hudl:"Hudl HT7S3|Hudl 2",TelstraTablet:"T-Hub2",GenericTablet:"Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107"},oss:{AndroidOS:"Android",BlackBerryOS:"blackberry|\\bBB10\\b|rim tablet os",PalmOS:"PalmOS|avantgo|blazer|elaine|hiptop|palm|plucker|xiino",SymbianOS:"Symbian|SymbOS|Series60|Series40|SYB-[0-9]+|\\bS60\\b",WindowsMobileOS:"Windows CE.*(PPC|Smartphone|Mobile|[0-9]{3}x[0-9]{3})|Windows Mobile|Windows Phone [0-9.]+|WCE;",WindowsPhoneOS:"Windows Phone 10.0|Windows Phone 8.1|Windows Phone 8.0|Windows Phone OS|XBLWP7|ZuneWP7|Windows NT 6.[23]; ARM;",iOS:"\\biPhone.*Mobile|\\biPod|\\biPad|AppleCoreMedia",iPadOS:"CPU OS 13",SailfishOS:"Sailfish",MeeGoOS:"MeeGo",MaemoOS:"Maemo",JavaOS:"J2ME/|\\bMIDP\\b|\\bCLDC\\b",webOS:"webOS|hpwOS",badaOS:"\\bBada\\b",BREWOS:"BREW"},uas:{Chrome:"\\bCrMo\\b|CriOS|Android.*Chrome/[.0-9]* (Mobile)?",Dolfin:"\\bDolfin\\b",Opera:"Opera.*Mini|Opera.*Mobi|Android.*Opera|Mobile.*OPR/[0-9.]+$|Coast/[0-9.]+",Skyfire:"Skyfire",Edge:"\\bEdgiOS\\b|Mobile Safari/[.0-9]* Edge",IE:"IEMobile|MSIEMobile",Firefox:"fennec|firefox.*maemo|(Mobile|Tablet).*Firefox|Firefox.*Mobile|FxiOS",Bolt:"bolt",TeaShark:"teashark",Blazer:"Blazer",Safari:"Version((?!\\bEdgiOS\\b).)*Mobile.*Safari|Safari.*Mobile|MobileSafari",WeChat:"\\bMicroMessenger\\b",UCBrowser:"UC.*Browser|UCWEB",baiduboxapp:"baiduboxapp",baidubrowser:"baidubrowser",DiigoBrowser:"DiigoBrowser",Mercury:"\\bMercury\\b",ObigoBrowser:"Obigo",NetFront:"NF-Browser",GenericBrowser:"NokiaBrowser|OviBrowser|OneBrowser|TwonkyBeamBrowser|SEMC.*Browser|FlyFlow|Minimo|NetFront|Novarra-Vision|MQQBrowser|MicroMessenger",PaleMoon:"Android.*PaleMoon|Mobile.*PaleMoon"},props:{Mobile:"Mobile/[VER]",Build:"Build/[VER]",Version:"Version/[VER]",VendorID:"VendorID/[VER]",iPad:"iPad.*CPU[a-z ]+[VER]",iPhone:"iPhone.*CPU[a-z ]+[VER]",iPod:"iPod.*CPU[a-z ]+[VER]",Kindle:"Kindle/[VER]",Chrome:["Chrome/[VER]","CriOS/[VER]","CrMo/[VER]"],Coast:["Coast/[VER]"],Dolfin:"Dolfin/[VER]",Firefox:["Firefox/[VER]","FxiOS/[VER]"],Fennec:"Fennec/[VER]",Edge:"Edge/[VER]",IE:["IEMobile/[VER];","IEMobile [VER]","MSIE [VER];","Trident/[0-9.]+;.*rv:[VER]"],NetFront:"NetFront/[VER]",NokiaBrowser:"NokiaBrowser/[VER]",Opera:[" OPR/[VER]","Opera Mini/[VER]","Version/[VER]"],"Opera Mini":"Opera Mini/[VER]","Opera Mobi":"Version/[VER]",UCBrowser:["UCWEB[VER]","UC.*Browser/[VER]"],MQQBrowser:"MQQBrowser/[VER]",MicroMessenger:"MicroMessenger/[VER]",baiduboxapp:"baiduboxapp/[VER]",baidubrowser:"baidubrowser/[VER]",SamsungBrowser:"SamsungBrowser/[VER]",Iron:"Iron/[VER]",Safari:["Version/[VER]","Safari/[VER]"],Skyfire:"Skyfire/[VER]",Tizen:"Tizen/[VER]",Webkit:"webkit[ /][VER]",PaleMoon:"PaleMoon/[VER]",SailfishBrowser:"SailfishBrowser/[VER]",Gecko:"Gecko/[VER]",Trident:"Trident/[VER]",Presto:"Presto/[VER]",Goanna:"Goanna/[VER]",iOS:" \\bi?OS\\b [VER][ ;]{1}",Android:"Android [VER]",Sailfish:"Sailfish [VER]",BlackBerry:["BlackBerry[\\w]+/[VER]","BlackBerry.*Version/[VER]","Version/[VER]"],BREW:"BREW [VER]",Java:"Java/[VER]","Windows Phone OS":["Windows Phone OS [VER]","Windows Phone [VER]"],"Windows Phone":"Windows Phone [VER]","Windows CE":"Windows CE/[VER]","Windows NT":"Windows NT [VER]",Symbian:["SymbianOS/[VER]","Symbian/[VER]"],webOS:["webOS/[VER]","hpwOS/[VER];"]},utils:{Bot:"Googlebot|facebookexternalhit|Google-AMPHTML|s~amp-validator|AdsBot-Google|Google Keyword Suggestion|Facebot|YandexBot|YandexMobileBot|bingbot|ia_archiver|AhrefsBot|Ezooms|GSLFbot|WBSearchBot|Twitterbot|TweetmemeBot|Twikle|PaperLiBot|Wotbox|UnwindFetchor|Exabot|MJ12bot|YandexImages|TurnitinBot|Pingdom|contentkingapp|AspiegelBot",MobileBot:"Googlebot-Mobile|AdsBot-Google-Mobile|YahooSeeker/M1A1-R2D2",DesktopMode:"WPDesktop",TV:"SonyDTV|HbbTV",WebKit:"(webkit)[ /]([\\w.]+)",Console:"\\b(Nintendo|Nintendo WiiU|Nintendo 3DS|Nintendo Switch|PLAYSTATION|Xbox)\\b",Watch:"SM-V700"}},g.detectMobileBrowsers={fullPattern:/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,
shortPattern:/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,tabletPattern:/android|ipad|playbook|silk/i};var h,i=Object.prototype.hasOwnProperty;return g.FALLBACK_PHONE="UnknownPhone",g.FALLBACK_TABLET="UnknownTablet",g.FALLBACK_MOBILE="UnknownMobile",h="isArray"in Array?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},function(){var a,b,c,e,f,j,k=g.mobileDetectRules;for(a in k.props)if(i.call(k.props,a)){for(b=k.props[a],h(b)||(b=[b]),f=b.length,e=0;e<f;++e)c=b[e],j=c.indexOf("[VER]"),j>=0&&(c=c.substring(0,j)+"([\\w._\\+]+)"+c.substring(j+5)),b[e]=new RegExp(c,"i");k.props[a]=b}d(k.oss),d(k.phones),d(k.tablets),d(k.uas),d(k.utils),k.oss0={WindowsPhoneOS:k.oss.WindowsPhoneOS,WindowsMobileOS:k.oss.WindowsMobileOS}}(),g.findMatch=function(a,b){for(var c in a)if(i.call(a,c)&&a[c].test(b))return c;return null},g.findMatches=function(a,b){var c=[];for(var d in a)i.call(a,d)&&a[d].test(b)&&c.push(d);return c},g.getVersionStr=function(a,b){var c,d,e,f,h=g.mobileDetectRules.props;if(i.call(h,a))for(c=h[a],e=c.length,d=0;d<e;++d)if(f=c[d].exec(b),null!==f)return f[1];return null},g.getVersion=function(a,b){var c=g.getVersionStr(a,b);return c?g.prepareVersionNo(c):NaN},g.prepareVersionNo=function(a){var b;return b=a.split(/[a-z._ \/\-]/i),1===b.length&&(a=b[0]),b.length>1&&(a=b[0]+".",b.shift(),a+=b.join("")),Number(a)},g.isMobileFallback=function(a){return g.detectMobileBrowsers.fullPattern.test(a)||g.detectMobileBrowsers.shortPattern.test(a.substr(0,4))},g.isTabletFallback=function(a){return g.detectMobileBrowsers.tabletPattern.test(a)},g.prepareDetectionCache=function(a,c,d){if(a.mobile===b){var e,h,i;return(h=g.findMatch(g.mobileDetectRules.tablets,c))?(a.mobile=a.tablet=h,void(a.phone=null)):(e=g.findMatch(g.mobileDetectRules.phones,c))?(a.mobile=a.phone=e,void(a.tablet=null)):void(g.isMobileFallback(c)?(i=f.isPhoneSized(d),i===b?(a.mobile=g.FALLBACK_MOBILE,a.tablet=a.phone=null):i?(a.mobile=a.phone=g.FALLBACK_PHONE,a.tablet=null):(a.mobile=a.tablet=g.FALLBACK_TABLET,a.phone=null)):g.isTabletFallback(c)?(a.mobile=a.tablet=g.FALLBACK_TABLET,a.phone=null):a.mobile=a.tablet=a.phone=null)}},g.mobileGrade=function(a){var b=null!==a.mobile();return a.os("iOS")&&a.version("iPad")>=4.3||a.os("iOS")&&a.version("iPhone")>=3.1||a.os("iOS")&&a.version("iPod")>=3.1||a.version("Android")>2.1&&a.is("Webkit")||a.version("Windows Phone OS")>=7||a.is("BlackBerry")&&a.version("BlackBerry")>=6||a.match("Playbook.*Tablet")||a.version("webOS")>=1.4&&a.match("Palm|Pre|Pixi")||a.match("hp.*TouchPad")||a.is("Firefox")&&a.version("Firefox")>=12||a.is("Chrome")&&a.is("AndroidOS")&&a.version("Android")>=4||a.is("Skyfire")&&a.version("Skyfire")>=4.1&&a.is("AndroidOS")&&a.version("Android")>=2.3||a.is("Opera")&&a.version("Opera Mobi")>11&&a.is("AndroidOS")||a.is("MeeGoOS")||a.is("Tizen")||a.is("Dolfin")&&a.version("Bada")>=2||(a.is("UC Browser")||a.is("Dolfin"))&&a.version("Android")>=2.3||a.match("Kindle Fire")||a.is("Kindle")&&a.version("Kindle")>=3||a.is("AndroidOS")&&a.is("NookTablet")||a.version("Chrome")>=11&&!b||a.version("Safari")>=5&&!b||a.version("Firefox")>=4&&!b||a.version("MSIE")>=7&&!b||a.version("Opera")>=10&&!b?"A":a.os("iOS")&&a.version("iPad")<4.3||a.os("iOS")&&a.version("iPhone")<3.1||a.os("iOS")&&a.version("iPod")<3.1||a.is("Blackberry")&&a.version("BlackBerry")>=5&&a.version("BlackBerry")<6||a.version("Opera Mini")>=5&&a.version("Opera Mini")<=6.5&&(a.version("Android")>=2.3||a.is("iOS"))||a.match("NokiaN8|NokiaC7|N97.*Series60|Symbian/3")||a.version("Opera Mobi")>=11&&a.is("SymbianOS")?"B":(a.version("BlackBerry")<5||a.match("MSIEMobile|Windows CE.*Mobile")||a.version("Windows Mobile")<=5.2,"C")},g.detectOS=function(a){return g.findMatch(g.mobileDetectRules.oss0,a)||g.findMatch(g.mobileDetectRules.oss,a)},g.getDeviceSmallerSide=function(){return window.screen.width<window.screen.height?window.screen.width:window.screen.height},f.prototype={constructor:f,mobile:function(){return g.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.mobile},phone:function(){return g.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.phone},tablet:function(){return g.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.tablet},userAgent:function(){return this._cache.userAgent===b&&(this._cache.userAgent=g.findMatch(g.mobileDetectRules.uas,this.ua)),this._cache.userAgent},userAgents:function(){return this._cache.userAgents===b&&(this._cache.userAgents=g.findMatches(g.mobileDetectRules.uas,this.ua)),this._cache.userAgents},os:function(){return this._cache.os===b&&(this._cache.os=g.detectOS(this.ua)),this._cache.os},version:function(a){return g.getVersion(a,this.ua)},versionStr:function(a){return g.getVersionStr(a,this.ua)},is:function(b){return c(this.userAgents(),b)||a(b,this.os())||a(b,this.phone())||a(b,this.tablet())||c(g.findMatches(g.mobileDetectRules.utils,this.ua),b)},match:function(a){return a instanceof RegExp||(a=new RegExp(a,"i")),a.test(this.ua)},isPhoneSized:function(a){return f.isPhoneSized(a||this.maxPhoneWidth)},mobileGrade:function(){return this._cache.grade===b&&(this._cache.grade=g.mobileGrade(this)),this._cache.grade}},"undefined"!=typeof window&&window.screen?f.isPhoneSized=function(a){return a<0?b:g.getDeviceSmallerSide()<=a}:f.isPhoneSized=function(){},f._impl=g,f.version="1.4.5 2021-03-13",f})}(function(a){if("undefined"!=typeof module&&module.exports)return function(a){module.exports=a()};if("function"==typeof define&&define.amd)return define;if("undefined"!=typeof window)return function(a){window.MobileDetect=a()};throw new Error("unknown environment")}());
;(function() {
  const openButton = document.querySelector('.hamburger');
  const closeButton = document.querySelector('.fullscreen-menu__close');
  const fMenu = document.querySelector('.fullscreen-menu');

  openButton.addEventListener('click', e => {
    e.preventDefault();

    fMenu.style.top = 0;
    fMenu.style.opacity = 1;
  });

  closeButton.addEventListener('click', e => {
    e.preventDefault();

    fMenu.style.top = "-100%";
    fMenu.style.opacity = 0;
  });
})()


;(function() {
    let myMap;

    const init = () => {
        myMap = new ymaps.Map("map", {
        center: [59.112518, 37.935135],
        zoom: 13,
        controls: []
        });

        const coords = [
        [59.132231 ,37.933373],
        [59.094138, 37.924574],
        [59.119801, 38.000195],
        ];

        const myCollection = new ymaps.GeoObjectCollection({}, {
        draggable: false,
        iconLayout: 'default#image',
        iconImageHref: './img/icons/marker.svg',
        iconImageSize: [46, 57],
        iconImageOffset: [-35, -52]
        });

        coords.forEach(coord => {
        myCollection.add(new ymaps.Placemark(coord));
        });

        myMap.geoObjects.add(myCollection);
        myMap.behaviors.disable('scrollZoom');
    };

    ymaps.ready(init);
})()
;(function() {
  const validateFields = (form, fieldsArray) => {
    fieldsArray.forEach(field => {
      field.removeClass('form__input--error');
      if (field.val().trim() == "") {
        field.addClass('form__input--error')
      }
    });
  
    const errorField = form.find('.form__input--error');
  
    return errorField.length == 0;
  };
  
  $('.form').submit(e => {
    e.preventDefault();
  
    const form = $(e.currentTarget);
    const name = form.find("[name='name']");
    const phone = form.find("[name='phone']");
    const comment = form.find("[name='comment']");
    const to = form.find("[name='to']");
  
    const modal = $('#modal');
    const content = modal.find('.modal__content');
  
    modal.removeClass('error-modal');
  
    const isValid = validateFields(form, [name, phone, comment, to]);
  
    if (isValid) {
     const request = $.ajax({
        url: "https://webdev-api.loftschool.com/sendmail",
        method: "post",
        data: {
          name: name.val(),
          phone: phone.val(),
          comment: comment.val(),
          to: to.val()
        }
      });
  
      request.done(data => {
        // console.log(data);
        content.text(data.message);
      });
  
      request.fail(data => {
        //console.log(data);
        const meassage = data.responseJSON.meassage;
        content.text(meassage);
        modal.addClass('error-modal');
      });
  
      request.always(() => {
        $.fancybox.open({
          src: "#modal",
          type: "inline"
        });
      });
    };
  });
  
  $('.app-submit-btn').on('click', e => {
    e.preventDefault();
  
    $.fancybox.close();
  });
})()
;(function () {
    const sections = $('section');
    const display = $('.maincontent');
    const sideMenu = $('.fixed-menu');
    const menuItems = $('.fixed-menu__item');

    const mobileDetect = new MobileDetect(window.navigator.userAgent);
    const isMobile = mobileDetect.mobile();

    let inScroll = false;

    const countSectionPosition = sectionEq => {
        const position = sectionEq * -100;

        if (isNaN(position)) {
            console.error('   countSectionPosition');
            return 0;
        };

        return position;
    };

    const changeMenuThemeForSection = sectionEq => {
        const currentSection = sections.eq(sectionEq);
        const menuTheme = currentSection.attr('data-sidemenu-theme');
        const activeClass = 'fixed-menu--shadowed';

        if (menuTheme === 'black') {
            sideMenu.addClass(activeClass);
        } else {
            sideMenu.removeClass(activeClass);
        };
    };

    const resetActiveClassForItem = (items, itemEq, activeClass) => {
        items.eq(itemEq).addClass(activeClass).siblings().removeClass(activeClass);
    };

    const performTransition = sectionEq => {

        if (inScroll) return;

        const transitionOver = 1000;
        const mousInertiaOver = 300; 

        inScroll = true;

        const position = countSectionPosition(sectionEq);

        changeMenuThemeForSection(sectionEq);

        display.css({
            transform: `translateY(${position}%)`
        });
        
        resetActiveClassForItem(sections, sectionEq, 'section--active');

        resetActiveClassForItem(menuItems, sectionEq, 'fixed-menu__item--active');

        setTimeout(() => {
            inScroll = false;
        }, transitionOver + mousInertiaOver);
    };

    sections.first().addClass('section--active');

    const viewportScroller = () => {
        const activeSection = sections.filter('.section--active');
        const nextSection = activeSection.next();
        const prevSection = activeSection.prev();

        return {
            next() {
                if (nextSection.length) {
                    performTransition(nextSection.index())
                };
            },
            prev() {
                if (prevSection.length) {
                    performTransition(prevSection.index())
                };
            }
        };
    };

    $(window).on('wheel', e => {
        const deltaY = e.originalEvent.deltaY;
        const scroller = viewportScroller();

        if (deltaY > 0) {
            scroller.next();
        };

        if (deltaY < 0) {
           scroller.prev();
        }; 
    });

    $(window).on('keydown', e=> {
        const tagName = e.target.tagName.toLowerCase(); //    
        const userTypingInInputs = tagName === 'input' || tagName === 'textarea';
        const scroller = viewportScroller();

        if (userTypingInInputs) return; 

        switch (e.keyCode) {
            case 38: //prev
                scroller.prev();
                break;
            case 40: //next
                scroller.next();
                break;
        };   
    });

    $('.wrapper').on('touchmove', e => {
        e.preventDefault();
    });

    $('[data-scroll-to]').on('click', e=> {
        e.preventDefault();

        const $this = $(e.currentTarget);
        const target = $this.attr('data-scroll-to');
        const reqSection = $(`[data-section-id=${target}]`);

        const fMenu = document.querySelector('.fullscreen-menu');
        fMenu.style.top = "-100%";
        fMenu.style.opacity = 0;

        performTransition(reqSection.index());
    });

    if (isMobile) {
        //https://github.com/mattbryson/TouchSwipe-Jquery-Plugin
        $("body").swipe( {
            swipe: function (
                event, 
                direction, 
            ) {
                const scroller = viewportScroller();
                let scrollDirection = "";

                if (direction === 'up') scrollDirection = 'next';
                if (direction === 'down') scrollDirection = 'prev';

                scroller[scrollDirection]();
            }
        });
    }


    
})()

;(function() {
  const slider = $(".slider__list").bxSlider({
    pager: false,
    responsive: true,
    controls: false,
    infiniteLoop: false,
    hideControlOnEnd: true
  });
  
  $('.arrow__prew').on('click', e => {
    e.preventDefault();
    slider.goToPrevSlide();
  });
  
  $('.arrow__next').on('click', e => {
    e.preventDefault();
    slider.goToNextSlide();
  });
  
  $('.compound__link').on('click', e => {
    e.preventDefault;
  })
})()
;(function() {
  const findBlockByAlias = (alias) => {
    return $('.reviews__item').filter((ndx, item) => {
      return $(item).attr('data-linked-with') == alias;
    });
  };
  
  const findByAutor = (mean) => {
    return $('.autor-mobile').filter((ndx, item) => {
      return $(item).attr('data-author') == mean;
    });
  };
  
  $('.reviews_switcher__link').on('click', e => {
    e.preventDefault();
  
    const $this = $(e.currentTarget);
    const target = $this.attr('data-open');
    const itemToShow = findBlockByAlias(target);
    const curItem = $this.closest('.reviews_switcher__item');
  
    const mobileAutor = $this.attr('data-author');
    const autorToShow = findByAutor(target);
  
    itemToShow.addClass('reviews__item--active').siblings().removeClass('reviews__item--active');
    curItem.addClass('reviews_switcher__item--active').siblings().removeClass('reviews_switcher__item--active');  
    autorToShow.addClass('reviews__author--active').siblings().removeClass('reviews__author--active');
  });
})()
;(function() {
  $('.team__title').on('click', e => {
    e.preventDefault();
    
    const $this = $(e.currentTarget);
    const containerList = $this.closest('.team__list');
    const elemContainer = $this.closest('.team__item');
  
    if (elemContainer.hasClass('team--active')) {
      closeEveryItem(containerList);
    } else {
      closeEveryItem(containerList);
      openItem($this);
    };
  });
  
  const openItem = item => {
    const container = item.closest('.team__item');
    const contentBlock = container.find('.team__content');
    const textBlock = contentBlock.find('.team__content-block');
    const reqHeight = textBlock.height();
  
    container.addClass('team--active');
    contentBlock.height(reqHeight);
  };
  
  const closeEveryItem = container => {
    const items = container.find('.team__content');
    const itemContainer = container.find('.team__item');
  
    itemContainer.removeClass('team--active');
    items.height(0);
  }
})()
;(function() {
    const mesureWidth = item => {
        let reqItemWidth = 0;

        const screenWidth = $(window).width();
        const container = item.closest('.products-menu__list');
        const titlesBlocks = container.find('.product-menu-rotate');
        const titlesWidth = titlesBlocks.width() * titlesBlocks.length;

        const textContainer = item.find('.product-menu__desc p');
        const paddingLeft = parseInt(textContainer.css('padding-left'));
        const paddingRight = parseInt(textContainer.css('padding-right'));

        const isMobile = window.matchMedia('(max-width: 768px)').matches;

        if (isMobile) {
            reqItemWidth = screenWidth - titlesWidth;
        } else {
            reqItemWidth = 520;
        };

        return {
            container: reqItemWidth,
            textContainer: reqItemWidth - paddingRight - paddingLeft
        };
    };

    const openItem = item => {
        const hiddenContent = item.find('.product-menu__desc');
        const reqWidth = mesureWidth(item);
        const textBlock = item.find('.product-menu__desc p');

        item.addClass('product-menu--active');
        hiddenContent.width(reqWidth.container);
        textBlock.width(reqWidth.textContainer);
    };

    const closeEveryItemInContainer = container => {
        const items = container.find('.product-menu__item');
        const content = container.find('.product-menu__desc');

        items.removeClass('product-menu--active');
        content.width(0);
    };

    $('.product-menu-rotate').on('click', e => {
        e.preventDefault();
        const $this = $(e.currentTarget);
        const item = $this.closest('.product-menu__item');
        const itemOpened = item.hasClass('product-menu--active');
        const container = $this.closest('.products-menu__list');

        if (itemOpened) {
            closeEveryItemInContainer(container);
        } else {
            closeEveryItemInContainer(container);
            openItem(item);
        };

        
    });
})()
;(function() {
    
})()


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5taW4uanMiLCJqcXVlcnkuYnhzbGlkZXIubWluLmpzIiwianF1ZXJ5LmZhbmN5Ym94Lm1pbi5qcyIsInZpZGVvLm1pbi5qcyIsInJ1LmpzIiwianF1ZXJ5LnRvdWNoU3dpcGUubWluLmpzIiwibW9iaWxlLWRldGVjdC5taW4uanMiLCJmdWxsc2NyZWVuTWVudS5qcyIsIm1hcFlhbmRleC5qcyIsIm1vZGFsLmpzIiwib3BzLmpzIiwic2xpZGVyLmpzIiwidGFicy5qcyIsInRlYW0uanMiLCJ2ZXJ0aWNhbEFjY29yZGVvbi5qcyIsInZpZGVvLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQ0ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3ZDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQzFGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDYkE7QUFDQTtBQUNBO0FDRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDcEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDakNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3BFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDMUpBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUN0QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQzVCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ2pDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDN0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgalF1ZXJ5IHYzLjcuMCB8IChjKSBPcGVuSlMgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIHwganF1ZXJ5Lm9yZy9saWNlbnNlICovXG4hZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9ZS5kb2N1bWVudD90KGUsITApOmZ1bmN0aW9uKGUpe2lmKCFlLmRvY3VtZW50KXRocm93IG5ldyBFcnJvcihcImpRdWVyeSByZXF1aXJlcyBhIHdpbmRvdyB3aXRoIGEgZG9jdW1lbnRcIik7cmV0dXJuIHQoZSl9OnQoZSl9KFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OnRoaXMsZnVuY3Rpb24oaWUsZSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG9lPVtdLHI9T2JqZWN0LmdldFByb3RvdHlwZU9mLGFlPW9lLnNsaWNlLGc9b2UuZmxhdD9mdW5jdGlvbihlKXtyZXR1cm4gb2UuZmxhdC5jYWxsKGUpfTpmdW5jdGlvbihlKXtyZXR1cm4gb2UuY29uY2F0LmFwcGx5KFtdLGUpfSxzPW9lLnB1c2gsc2U9b2UuaW5kZXhPZixuPXt9LGk9bi50b1N0cmluZyx1ZT1uLmhhc093blByb3BlcnR5LG89dWUudG9TdHJpbmcsYT1vLmNhbGwoT2JqZWN0KSxsZT17fSx2PWZ1bmN0aW9uKGUpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJlwibnVtYmVyXCIhPXR5cGVvZiBlLm5vZGVUeXBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlLml0ZW19LHk9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWUmJmU9PT1lLndpbmRvd30sQz1pZS5kb2N1bWVudCx1PXt0eXBlOiEwLHNyYzohMCxub25jZTohMCxub01vZHVsZTohMH07ZnVuY3Rpb24gbShlLHQsbil7dmFyIHIsaSxvPShuPW58fEMpLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7aWYoby50ZXh0PWUsdClmb3IociBpbiB1KShpPXRbcl18fHQuZ2V0QXR0cmlidXRlJiZ0LmdldEF0dHJpYnV0ZShyKSkmJm8uc2V0QXR0cmlidXRlKHIsaSk7bi5oZWFkLmFwcGVuZENoaWxkKG8pLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobyl9ZnVuY3Rpb24geChlKXtyZXR1cm4gbnVsbD09ZT9lK1wiXCI6XCJvYmplY3RcIj09dHlwZW9mIGV8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGU/bltpLmNhbGwoZSldfHxcIm9iamVjdFwiOnR5cGVvZiBlfXZhciB0PVwiMy43LjBcIixsPS9IVE1MJC9pLGNlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBjZS5mbi5pbml0KGUsdCl9O2Z1bmN0aW9uIGMoZSl7dmFyIHQ9ISFlJiZcImxlbmd0aFwiaW4gZSYmZS5sZW5ndGgsbj14KGUpO3JldHVybiF2KGUpJiYheShlKSYmKFwiYXJyYXlcIj09PW58fDA9PT10fHxcIm51bWJlclwiPT10eXBlb2YgdCYmMDx0JiZ0LTEgaW4gZSl9ZnVuY3Rpb24gZmUoZSx0KXtyZXR1cm4gZS5ub2RlTmFtZSYmZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09dC50b0xvd2VyQ2FzZSgpfWNlLmZuPWNlLnByb3RvdHlwZT17anF1ZXJ5OnQsY29uc3RydWN0b3I6Y2UsbGVuZ3RoOjAsdG9BcnJheTpmdW5jdGlvbigpe3JldHVybiBhZS5jYWxsKHRoaXMpfSxnZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWU/YWUuY2FsbCh0aGlzKTplPDA/dGhpc1tlK3RoaXMubGVuZ3RoXTp0aGlzW2VdfSxwdXNoU3RhY2s6ZnVuY3Rpb24oZSl7dmFyIHQ9Y2UubWVyZ2UodGhpcy5jb25zdHJ1Y3RvcigpLGUpO3JldHVybiB0LnByZXZPYmplY3Q9dGhpcyx0fSxlYWNoOmZ1bmN0aW9uKGUpe3JldHVybiBjZS5lYWNoKHRoaXMsZSl9LG1hcDpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soY2UubWFwKHRoaXMsZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5jYWxsKGUsdCxlKX0pKX0sc2xpY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soYWUuYXBwbHkodGhpcyxhcmd1bWVudHMpKX0sZmlyc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgwKX0sbGFzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKC0xKX0sZXZlbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnB1c2hTdGFjayhjZS5ncmVwKHRoaXMsZnVuY3Rpb24oZSx0KXtyZXR1cm4odCsxKSUyfSkpfSxvZGQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soY2UuZ3JlcCh0aGlzLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQlMn0pKX0sZXE6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5sZW5ndGgsbj0rZSsoZTwwP3Q6MCk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKDA8PW4mJm48dD9bdGhpc1tuXV06W10pfSxlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcmV2T2JqZWN0fHx0aGlzLmNvbnN0cnVjdG9yKCl9LHB1c2g6cyxzb3J0Om9lLnNvcnQsc3BsaWNlOm9lLnNwbGljZX0sY2UuZXh0ZW5kPWNlLmZuLmV4dGVuZD1mdW5jdGlvbigpe3ZhciBlLHQsbixyLGksbyxhPWFyZ3VtZW50c1swXXx8e30scz0xLHU9YXJndW1lbnRzLmxlbmd0aCxsPSExO2ZvcihcImJvb2xlYW5cIj09dHlwZW9mIGEmJihsPWEsYT1hcmd1bWVudHNbc118fHt9LHMrKyksXCJvYmplY3RcIj09dHlwZW9mIGF8fHYoYSl8fChhPXt9KSxzPT09dSYmKGE9dGhpcyxzLS0pO3M8dTtzKyspaWYobnVsbCE9KGU9YXJndW1lbnRzW3NdKSlmb3IodCBpbiBlKXI9ZVt0XSxcIl9fcHJvdG9fX1wiIT09dCYmYSE9PXImJihsJiZyJiYoY2UuaXNQbGFpbk9iamVjdChyKXx8KGk9QXJyYXkuaXNBcnJheShyKSkpPyhuPWFbdF0sbz1pJiYhQXJyYXkuaXNBcnJheShuKT9bXTppfHxjZS5pc1BsYWluT2JqZWN0KG4pP246e30saT0hMSxhW3RdPWNlLmV4dGVuZChsLG8scikpOnZvaWQgMCE9PXImJihhW3RdPXIpKTtyZXR1cm4gYX0sY2UuZXh0ZW5kKHtleHBhbmRvOlwialF1ZXJ5XCIrKHQrTWF0aC5yYW5kb20oKSkucmVwbGFjZSgvXFxEL2csXCJcIiksaXNSZWFkeTohMCxlcnJvcjpmdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoZSl9LG5vb3A6ZnVuY3Rpb24oKXt9LGlzUGxhaW5PYmplY3Q6ZnVuY3Rpb24oZSl7dmFyIHQsbjtyZXR1cm4hKCFlfHxcIltvYmplY3QgT2JqZWN0XVwiIT09aS5jYWxsKGUpKSYmKCEodD1yKGUpKXx8XCJmdW5jdGlvblwiPT10eXBlb2Yobj11ZS5jYWxsKHQsXCJjb25zdHJ1Y3RvclwiKSYmdC5jb25zdHJ1Y3RvcikmJm8uY2FsbChuKT09PWEpfSxpc0VtcHR5T2JqZWN0OmZ1bmN0aW9uKGUpe3ZhciB0O2Zvcih0IGluIGUpcmV0dXJuITE7cmV0dXJuITB9LGdsb2JhbEV2YWw6ZnVuY3Rpb24oZSx0LG4pe20oZSx7bm9uY2U6dCYmdC5ub25jZX0sbil9LGVhY2g6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPTA7aWYoYyhlKSl7Zm9yKG49ZS5sZW5ndGg7cjxuO3IrKylpZighMT09PXQuY2FsbChlW3JdLHIsZVtyXSkpYnJlYWt9ZWxzZSBmb3IociBpbiBlKWlmKCExPT09dC5jYWxsKGVbcl0scixlW3JdKSlicmVhaztyZXR1cm4gZX0sdGV4dDpmdW5jdGlvbihlKXt2YXIgdCxuPVwiXCIscj0wLGk9ZS5ub2RlVHlwZTtpZihpKXtpZigxPT09aXx8OT09PWl8fDExPT09aSlyZXR1cm4gZS50ZXh0Q29udGVudDtpZigzPT09aXx8ND09PWkpcmV0dXJuIGUubm9kZVZhbHVlfWVsc2Ugd2hpbGUodD1lW3IrK10pbis9Y2UudGV4dCh0KTtyZXR1cm4gbn0sbWFrZUFycmF5OmZ1bmN0aW9uKGUsdCl7dmFyIG49dHx8W107cmV0dXJuIG51bGwhPWUmJihjKE9iamVjdChlKSk/Y2UubWVyZ2UobixcInN0cmluZ1wiPT10eXBlb2YgZT9bZV06ZSk6cy5jYWxsKG4sZSkpLG59LGluQXJyYXk6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBudWxsPT10Py0xOnNlLmNhbGwodCxlLG4pfSxpc1hNTERvYzpmdW5jdGlvbihlKXt2YXIgdD1lJiZlLm5hbWVzcGFjZVVSSSxuPWUmJihlLm93bmVyRG9jdW1lbnR8fGUpLmRvY3VtZW50RWxlbWVudDtyZXR1cm4hbC50ZXN0KHR8fG4mJm4ubm9kZU5hbWV8fFwiSFRNTFwiKX0sbWVyZ2U6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49K3QubGVuZ3RoLHI9MCxpPWUubGVuZ3RoO3I8bjtyKyspZVtpKytdPXRbcl07cmV0dXJuIGUubGVuZ3RoPWksZX0sZ3JlcDpmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPVtdLGk9MCxvPWUubGVuZ3RoLGE9IW47aTxvO2krKykhdChlW2ldLGkpIT09YSYmci5wdXNoKGVbaV0pO3JldHVybiByfSxtYXA6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbz0wLGE9W107aWYoYyhlKSlmb3Iocj1lLmxlbmd0aDtvPHI7bysrKW51bGwhPShpPXQoZVtvXSxvLG4pKSYmYS5wdXNoKGkpO2Vsc2UgZm9yKG8gaW4gZSludWxsIT0oaT10KGVbb10sbyxuKSkmJmEucHVzaChpKTtyZXR1cm4gZyhhKX0sZ3VpZDoxLHN1cHBvcnQ6bGV9KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihjZS5mbltTeW1ib2wuaXRlcmF0b3JdPW9lW1N5bWJvbC5pdGVyYXRvcl0pLGNlLmVhY2goXCJCb29sZWFuIE51bWJlciBTdHJpbmcgRnVuY3Rpb24gQXJyYXkgRGF0ZSBSZWdFeHAgT2JqZWN0IEVycm9yIFN5bWJvbFwiLnNwbGl0KFwiIFwiKSxmdW5jdGlvbihlLHQpe25bXCJbb2JqZWN0IFwiK3QrXCJdXCJdPXQudG9Mb3dlckNhc2UoKX0pO3ZhciBwZT1vZS5wb3AsZGU9b2Uuc29ydCxoZT1vZS5zcGxpY2UsZ2U9XCJbXFxcXHgyMFxcXFx0XFxcXHJcXFxcblxcXFxmXVwiLHZlPW5ldyBSZWdFeHAoXCJeXCIrZ2UrXCIrfCgoPzpefFteXFxcXFxcXFxdKSg/OlxcXFxcXFxcLikqKVwiK2dlK1wiKyRcIixcImdcIik7Y2UuY29udGFpbnM9ZnVuY3Rpb24oZSx0KXt2YXIgbj10JiZ0LnBhcmVudE5vZGU7cmV0dXJuIGU9PT1ufHwhKCFufHwxIT09bi5ub2RlVHlwZXx8IShlLmNvbnRhaW5zP2UuY29udGFpbnMobik6ZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiYmMTYmZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihuKSkpfTt2YXIgZj0vKFtcXDAtXFx4MWZcXHg3Zl18Xi0/XFxkKXxeLSR8W15cXHg4MC1cXHVGRkZGXFx3LV0vZztmdW5jdGlvbiBwKGUsdCl7cmV0dXJuIHQ/XCJcXDBcIj09PWU/XCJcXHVmZmZkXCI6ZS5zbGljZSgwLC0xKStcIlxcXFxcIitlLmNoYXJDb2RlQXQoZS5sZW5ndGgtMSkudG9TdHJpbmcoMTYpK1wiIFwiOlwiXFxcXFwiK2V9Y2UuZXNjYXBlU2VsZWN0b3I9ZnVuY3Rpb24oZSl7cmV0dXJuKGUrXCJcIikucmVwbGFjZShmLHApfTt2YXIgeWU9QyxtZT1zOyFmdW5jdGlvbigpe3ZhciBlLGIsdyxvLGEsVCxyLEMsZCxpLGs9bWUsUz1jZS5leHBhbmRvLEU9MCxuPTAscz1XKCksYz1XKCksdT1XKCksaD1XKCksbD1mdW5jdGlvbihlLHQpe3JldHVybiBlPT09dCYmKGE9ITApLDB9LGY9XCJjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZFwiLHQ9XCIoPzpcXFxcXFxcXFtcXFxcZGEtZkEtRl17MSw2fVwiK2dlK1wiP3xcXFxcXFxcXFteXFxcXHJcXFxcblxcXFxmXXxbXFxcXHctXXxbXlxcMC1cXFxceDdmXSkrXCIscD1cIlxcXFxbXCIrZ2UrXCIqKFwiK3QrXCIpKD86XCIrZ2UrXCIqKFsqXiR8IX5dPz0pXCIrZ2UrXCIqKD86JygoPzpcXFxcXFxcXC58W15cXFxcXFxcXCddKSopJ3xcXFwiKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcXFxcIl0pKilcXFwifChcIit0K1wiKSl8KVwiK2dlK1wiKlxcXFxdXCIsZz1cIjooXCIrdCtcIikoPzpcXFxcKCgoJygoPzpcXFxcXFxcXC58W15cXFxcXFxcXCddKSopJ3xcXFwiKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcXFxcIl0pKilcXFwiKXwoKD86XFxcXFxcXFwufFteXFxcXFxcXFwoKVtcXFxcXV18XCIrcCtcIikqKXwuKilcXFxcKXwpXCIsdj1uZXcgUmVnRXhwKGdlK1wiK1wiLFwiZ1wiKSx5PW5ldyBSZWdFeHAoXCJeXCIrZ2UrXCIqLFwiK2dlK1wiKlwiKSxtPW5ldyBSZWdFeHAoXCJeXCIrZ2UrXCIqKFs+K35dfFwiK2dlK1wiKVwiK2dlK1wiKlwiKSx4PW5ldyBSZWdFeHAoZ2UrXCJ8PlwiKSxqPW5ldyBSZWdFeHAoZyksQT1uZXcgUmVnRXhwKFwiXlwiK3QrXCIkXCIpLEQ9e0lEOm5ldyBSZWdFeHAoXCJeIyhcIit0K1wiKVwiKSxDTEFTUzpuZXcgUmVnRXhwKFwiXlxcXFwuKFwiK3QrXCIpXCIpLFRBRzpuZXcgUmVnRXhwKFwiXihcIit0K1wifFsqXSlcIiksQVRUUjpuZXcgUmVnRXhwKFwiXlwiK3ApLFBTRVVETzpuZXcgUmVnRXhwKFwiXlwiK2cpLENISUxEOm5ldyBSZWdFeHAoXCJeOihvbmx5fGZpcnN0fGxhc3R8bnRofG50aC1sYXN0KS0oY2hpbGR8b2YtdHlwZSkoPzpcXFxcKFwiK2dlK1wiKihldmVufG9kZHwoKFsrLV18KShcXFxcZCopbnwpXCIrZ2UrXCIqKD86KFsrLV18KVwiK2dlK1wiKihcXFxcZCspfCkpXCIrZ2UrXCIqXFxcXCl8KVwiLFwiaVwiKSxib29sOm5ldyBSZWdFeHAoXCJeKD86XCIrZitcIikkXCIsXCJpXCIpLG5lZWRzQ29udGV4dDpuZXcgUmVnRXhwKFwiXlwiK2dlK1wiKls+K35dfDooZXZlbnxvZGR8ZXF8Z3R8bHR8bnRofGZpcnN0fGxhc3QpKD86XFxcXChcIitnZStcIiooKD86LVxcXFxkKT9cXFxcZCopXCIrZ2UrXCIqXFxcXCl8KSg/PVteLV18JClcIixcImlcIil9LE49L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxxPS9eaFxcZCQvaSxMPS9eKD86IyhbXFx3LV0rKXwoXFx3Kyl8XFwuKFtcXHctXSspKSQvLEg9L1srfl0vLE89bmV3IFJlZ0V4cChcIlxcXFxcXFxcW1xcXFxkYS1mQS1GXXsxLDZ9XCIrZ2UrXCI/fFxcXFxcXFxcKFteXFxcXHJcXFxcblxcXFxmXSlcIixcImdcIiksUD1mdW5jdGlvbihlLHQpe3ZhciBuPVwiMHhcIitlLnNsaWNlKDEpLTY1NTM2O3JldHVybiB0fHwobjwwP1N0cmluZy5mcm9tQ2hhckNvZGUobis2NTUzNik6U3RyaW5nLmZyb21DaGFyQ29kZShuPj4xMHw1NTI5NiwxMDIzJm58NTYzMjApKX0sUj1mdW5jdGlvbigpe1YoKX0sTT1KKGZ1bmN0aW9uKGUpe3JldHVybiEwPT09ZS5kaXNhYmxlZCYmZmUoZSxcImZpZWxkc2V0XCIpfSx7ZGlyOlwicGFyZW50Tm9kZVwiLG5leHQ6XCJsZWdlbmRcIn0pO3RyeXtrLmFwcGx5KG9lPWFlLmNhbGwoeWUuY2hpbGROb2RlcykseWUuY2hpbGROb2Rlcyksb2VbeWUuY2hpbGROb2Rlcy5sZW5ndGhdLm5vZGVUeXBlfWNhdGNoKGUpe2s9e2FwcGx5OmZ1bmN0aW9uKGUsdCl7bWUuYXBwbHkoZSxhZS5jYWxsKHQpKX0sY2FsbDpmdW5jdGlvbihlKXttZS5hcHBseShlLGFlLmNhbGwoYXJndW1lbnRzLDEpKX19fWZ1bmN0aW9uIEkodCxlLG4scil7dmFyIGksbyxhLHMsdSxsLGMsZj1lJiZlLm93bmVyRG9jdW1lbnQscD1lP2Uubm9kZVR5cGU6OTtpZihuPW58fFtdLFwic3RyaW5nXCIhPXR5cGVvZiB0fHwhdHx8MSE9PXAmJjkhPT1wJiYxMSE9PXApcmV0dXJuIG47aWYoIXImJihWKGUpLGU9ZXx8VCxDKSl7aWYoMTEhPT1wJiYodT1MLmV4ZWModCkpKWlmKGk9dVsxXSl7aWYoOT09PXApe2lmKCEoYT1lLmdldEVsZW1lbnRCeUlkKGkpKSlyZXR1cm4gbjtpZihhLmlkPT09aSlyZXR1cm4gay5jYWxsKG4sYSksbn1lbHNlIGlmKGYmJihhPWYuZ2V0RWxlbWVudEJ5SWQoaSkpJiZJLmNvbnRhaW5zKGUsYSkmJmEuaWQ9PT1pKXJldHVybiBrLmNhbGwobixhKSxufWVsc2V7aWYodVsyXSlyZXR1cm4gay5hcHBseShuLGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUodCkpLG47aWYoKGk9dVszXSkmJmUuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSlyZXR1cm4gay5hcHBseShuLGUuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShpKSksbn1pZighKGhbdCtcIiBcIl18fGQmJmQudGVzdCh0KSkpe2lmKGM9dCxmPWUsMT09PXAmJih4LnRlc3QodCl8fG0udGVzdCh0KSkpeyhmPUgudGVzdCh0KSYmeihlLnBhcmVudE5vZGUpfHxlKT09ZSYmbGUuc2NvcGV8fCgocz1lLmdldEF0dHJpYnV0ZShcImlkXCIpKT9zPWNlLmVzY2FwZVNlbGVjdG9yKHMpOmUuc2V0QXR0cmlidXRlKFwiaWRcIixzPVMpKSxvPShsPVkodCkpLmxlbmd0aDt3aGlsZShvLS0pbFtvXT0ocz9cIiNcIitzOlwiOnNjb3BlXCIpK1wiIFwiK1EobFtvXSk7Yz1sLmpvaW4oXCIsXCIpfXRyeXtyZXR1cm4gay5hcHBseShuLGYucXVlcnlTZWxlY3RvckFsbChjKSksbn1jYXRjaChlKXtoKHQsITApfWZpbmFsbHl7cz09PVMmJmUucmVtb3ZlQXR0cmlidXRlKFwiaWRcIil9fX1yZXR1cm4gcmUodC5yZXBsYWNlKHZlLFwiJDFcIiksZSxuLHIpfWZ1bmN0aW9uIFcoKXt2YXIgcj1bXTtyZXR1cm4gZnVuY3Rpb24gZSh0LG4pe3JldHVybiByLnB1c2godCtcIiBcIik+Yi5jYWNoZUxlbmd0aCYmZGVsZXRlIGVbci5zaGlmdCgpXSxlW3QrXCIgXCJdPW59fWZ1bmN0aW9uIEYoZSl7cmV0dXJuIGVbU109ITAsZX1mdW5jdGlvbiAkKGUpe3ZhciB0PVQuY3JlYXRlRWxlbWVudChcImZpZWxkc2V0XCIpO3RyeXtyZXR1cm4hIWUodCl9Y2F0Y2goZSl7cmV0dXJuITF9ZmluYWxseXt0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KSx0PW51bGx9fWZ1bmN0aW9uIEIodCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBmZShlLFwiaW5wdXRcIikmJmUudHlwZT09PXR9fWZ1bmN0aW9uIF8odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybihmZShlLFwiaW5wdXRcIil8fGZlKGUsXCJidXR0b25cIikpJiZlLnR5cGU9PT10fX1mdW5jdGlvbiBYKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm5cImZvcm1cImluIGU/ZS5wYXJlbnROb2RlJiYhMT09PWUuZGlzYWJsZWQ/XCJsYWJlbFwiaW4gZT9cImxhYmVsXCJpbiBlLnBhcmVudE5vZGU/ZS5wYXJlbnROb2RlLmRpc2FibGVkPT09dDplLmRpc2FibGVkPT09dDplLmlzRGlzYWJsZWQ9PT10fHxlLmlzRGlzYWJsZWQhPT0hdCYmTShlKT09PXQ6ZS5kaXNhYmxlZD09PXQ6XCJsYWJlbFwiaW4gZSYmZS5kaXNhYmxlZD09PXR9fWZ1bmN0aW9uIFUoYSl7cmV0dXJuIEYoZnVuY3Rpb24obyl7cmV0dXJuIG89K28sRihmdW5jdGlvbihlLHQpe3ZhciBuLHI9YShbXSxlLmxlbmd0aCxvKSxpPXIubGVuZ3RoO3doaWxlKGktLSllW249cltpXV0mJihlW25dPSEodFtuXT1lW25dKSl9KX0pfWZ1bmN0aW9uIHooZSl7cmV0dXJuIGUmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBlLmdldEVsZW1lbnRzQnlUYWdOYW1lJiZlfWZ1bmN0aW9uIFYoZSl7dmFyIHQsbj1lP2Uub3duZXJEb2N1bWVudHx8ZTp5ZTtyZXR1cm4gbiE9VCYmOT09PW4ubm9kZVR5cGUmJm4uZG9jdW1lbnRFbGVtZW50JiYocj0oVD1uKS5kb2N1bWVudEVsZW1lbnQsQz0hY2UuaXNYTUxEb2MoVCksaT1yLm1hdGNoZXN8fHIud2Via2l0TWF0Y2hlc1NlbGVjdG9yfHxyLm1zTWF0Y2hlc1NlbGVjdG9yLHllIT1UJiYodD1ULmRlZmF1bHRWaWV3KSYmdC50b3AhPT10JiZ0LmFkZEV2ZW50TGlzdGVuZXIoXCJ1bmxvYWRcIixSKSxsZS5nZXRCeUlkPSQoZnVuY3Rpb24oZSl7cmV0dXJuIHIuYXBwZW5kQ2hpbGQoZSkuaWQ9Y2UuZXhwYW5kbywhVC5nZXRFbGVtZW50c0J5TmFtZXx8IVQuZ2V0RWxlbWVudHNCeU5hbWUoY2UuZXhwYW5kbykubGVuZ3RofSksbGUuZGlzY29ubmVjdGVkTWF0Y2g9JChmdW5jdGlvbihlKXtyZXR1cm4gaS5jYWxsKGUsXCIqXCIpfSksbGUuc2NvcGU9JChmdW5jdGlvbigpe3JldHVybiBULnF1ZXJ5U2VsZWN0b3JBbGwoXCI6c2NvcGVcIil9KSxsZS5jc3NIYXM9JChmdW5jdGlvbigpe3RyeXtyZXR1cm4gVC5xdWVyeVNlbGVjdG9yKFwiOmhhcygqLDpqcWZha2UpXCIpLCExfWNhdGNoKGUpe3JldHVybiEwfX0pLGxlLmdldEJ5SWQ/KGIuZmlsdGVyLklEPWZ1bmN0aW9uKGUpe3ZhciB0PWUucmVwbGFjZShPLFApO3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRBdHRyaWJ1dGUoXCJpZFwiKT09PXR9fSxiLmZpbmQuSUQ9ZnVuY3Rpb24oZSx0KXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgdC5nZXRFbGVtZW50QnlJZCYmQyl7dmFyIG49dC5nZXRFbGVtZW50QnlJZChlKTtyZXR1cm4gbj9bbl06W119fSk6KGIuZmlsdGVyLklEPWZ1bmN0aW9uKGUpe3ZhciBuPWUucmVwbGFjZShPLFApO3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD1cInVuZGVmaW5lZFwiIT10eXBlb2YgZS5nZXRBdHRyaWJ1dGVOb2RlJiZlLmdldEF0dHJpYnV0ZU5vZGUoXCJpZFwiKTtyZXR1cm4gdCYmdC52YWx1ZT09PW59fSxiLmZpbmQuSUQ9ZnVuY3Rpb24oZSx0KXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgdC5nZXRFbGVtZW50QnlJZCYmQyl7dmFyIG4scixpLG89dC5nZXRFbGVtZW50QnlJZChlKTtpZihvKXtpZigobj1vLmdldEF0dHJpYnV0ZU5vZGUoXCJpZFwiKSkmJm4udmFsdWU9PT1lKXJldHVybltvXTtpPXQuZ2V0RWxlbWVudHNCeU5hbWUoZSkscj0wO3doaWxlKG89aVtyKytdKWlmKChuPW8uZ2V0QXR0cmlidXRlTm9kZShcImlkXCIpKSYmbi52YWx1ZT09PWUpcmV0dXJuW29dfXJldHVybltdfX0pLGIuZmluZC5UQUc9ZnVuY3Rpb24oZSx0KXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgdC5nZXRFbGVtZW50c0J5VGFnTmFtZT90LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpOnQucXVlcnlTZWxlY3RvckFsbChlKX0sYi5maW5kLkNMQVNTPWZ1bmN0aW9uKGUsdCl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmQylyZXR1cm4gdC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGUpfSxkPVtdLCQoZnVuY3Rpb24oZSl7dmFyIHQ7ci5hcHBlbmRDaGlsZChlKS5pbm5lckhUTUw9XCI8YSBpZD0nXCIrUytcIicgaHJlZj0nJyBkaXNhYmxlZD0nZGlzYWJsZWQnPjwvYT48c2VsZWN0IGlkPSdcIitTK1wiLVxcclxcXFwnIGRpc2FibGVkPSdkaXNhYmxlZCc+PG9wdGlvbiBzZWxlY3RlZD0nJz48L29wdGlvbj48L3NlbGVjdD5cIixlLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbc2VsZWN0ZWRdXCIpLmxlbmd0aHx8ZC5wdXNoKFwiXFxcXFtcIitnZStcIiooPzp2YWx1ZXxcIitmK1wiKVwiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbaWR+PVwiK1MrXCItXVwiKS5sZW5ndGh8fGQucHVzaChcIn49XCIpLGUucXVlcnlTZWxlY3RvckFsbChcImEjXCIrUytcIisqXCIpLmxlbmd0aHx8ZC5wdXNoKFwiLiMuK1srfl1cIiksZS5xdWVyeVNlbGVjdG9yQWxsKFwiOmNoZWNrZWRcIikubGVuZ3RofHxkLnB1c2goXCI6Y2hlY2tlZFwiKSwodD1ULmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKSkuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwiaGlkZGVuXCIpLGUuYXBwZW5kQ2hpbGQodCkuc2V0QXR0cmlidXRlKFwibmFtZVwiLFwiRFwiKSxyLmFwcGVuZENoaWxkKGUpLmRpc2FibGVkPSEwLDIhPT1lLnF1ZXJ5U2VsZWN0b3JBbGwoXCI6ZGlzYWJsZWRcIikubGVuZ3RoJiZkLnB1c2goXCI6ZW5hYmxlZFwiLFwiOmRpc2FibGVkXCIpLCh0PVQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpKS5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsXCJcIiksZS5hcHBlbmRDaGlsZCh0KSxlLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbbmFtZT0nJ11cIikubGVuZ3RofHxkLnB1c2goXCJcXFxcW1wiK2dlK1wiKm5hbWVcIitnZStcIio9XCIrZ2UrXCIqKD86Jyd8XFxcIlxcXCIpXCIpfSksbGUuY3NzSGFzfHxkLnB1c2goXCI6aGFzXCIpLGQ9ZC5sZW5ndGgmJm5ldyBSZWdFeHAoZC5qb2luKFwifFwiKSksbD1mdW5jdGlvbihlLHQpe2lmKGU9PT10KXJldHVybiBhPSEwLDA7dmFyIG49IWUuY29tcGFyZURvY3VtZW50UG9zaXRpb24tIXQuY29tcGFyZURvY3VtZW50UG9zaXRpb247cmV0dXJuIG58fCgxJihuPShlLm93bmVyRG9jdW1lbnR8fGUpPT0odC5vd25lckRvY3VtZW50fHx0KT9lLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKHQpOjEpfHwhbGUuc29ydERldGFjaGVkJiZ0LmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGUpPT09bj9lPT09VHx8ZS5vd25lckRvY3VtZW50PT15ZSYmSS5jb250YWlucyh5ZSxlKT8tMTp0PT09VHx8dC5vd25lckRvY3VtZW50PT15ZSYmSS5jb250YWlucyh5ZSx0KT8xOm8/c2UuY2FsbChvLGUpLXNlLmNhbGwobyx0KTowOjQmbj8tMToxKX0pLFR9Zm9yKGUgaW4gSS5tYXRjaGVzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEkoZSxudWxsLG51bGwsdCl9LEkubWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKGUsdCl7aWYoVihlKSxDJiYhaFt0K1wiIFwiXSYmKCFkfHwhZC50ZXN0KHQpKSl0cnl7dmFyIG49aS5jYWxsKGUsdCk7aWYobnx8bGUuZGlzY29ubmVjdGVkTWF0Y2h8fGUuZG9jdW1lbnQmJjExIT09ZS5kb2N1bWVudC5ub2RlVHlwZSlyZXR1cm4gbn1jYXRjaChlKXtoKHQsITApfXJldHVybiAwPEkodCxULG51bGwsW2VdKS5sZW5ndGh9LEkuY29udGFpbnM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4oZS5vd25lckRvY3VtZW50fHxlKSE9VCYmVihlKSxjZS5jb250YWlucyhlLHQpfSxJLmF0dHI9ZnVuY3Rpb24oZSx0KXsoZS5vd25lckRvY3VtZW50fHxlKSE9VCYmVihlKTt2YXIgbj1iLmF0dHJIYW5kbGVbdC50b0xvd2VyQ2FzZSgpXSxyPW4mJnVlLmNhbGwoYi5hdHRySGFuZGxlLHQudG9Mb3dlckNhc2UoKSk/bihlLHQsIUMpOnZvaWQgMDtyZXR1cm4gdm9pZCAwIT09cj9yOmUuZ2V0QXR0cmlidXRlKHQpfSxJLmVycm9yPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihcIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246IFwiK2UpfSxjZS51bmlxdWVTb3J0PWZ1bmN0aW9uKGUpe3ZhciB0LG49W10scj0wLGk9MDtpZihhPSFsZS5zb3J0U3RhYmxlLG89IWxlLnNvcnRTdGFibGUmJmFlLmNhbGwoZSwwKSxkZS5jYWxsKGUsbCksYSl7d2hpbGUodD1lW2krK10pdD09PWVbaV0mJihyPW4ucHVzaChpKSk7d2hpbGUoci0tKWhlLmNhbGwoZSxuW3JdLDEpfXJldHVybiBvPW51bGwsZX0sY2UuZm4udW5pcXVlU29ydD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnB1c2hTdGFjayhjZS51bmlxdWVTb3J0KGFlLmFwcGx5KHRoaXMpKSl9LChiPWNlLmV4cHI9e2NhY2hlTGVuZ3RoOjUwLGNyZWF0ZVBzZXVkbzpGLG1hdGNoOkQsYXR0ckhhbmRsZTp7fSxmaW5kOnt9LHJlbGF0aXZlOntcIj5cIjp7ZGlyOlwicGFyZW50Tm9kZVwiLGZpcnN0OiEwfSxcIiBcIjp7ZGlyOlwicGFyZW50Tm9kZVwifSxcIitcIjp7ZGlyOlwicHJldmlvdXNTaWJsaW5nXCIsZmlyc3Q6ITB9LFwiflwiOntkaXI6XCJwcmV2aW91c1NpYmxpbmdcIn19LHByZUZpbHRlcjp7QVRUUjpmdW5jdGlvbihlKXtyZXR1cm4gZVsxXT1lWzFdLnJlcGxhY2UoTyxQKSxlWzNdPShlWzNdfHxlWzRdfHxlWzVdfHxcIlwiKS5yZXBsYWNlKE8sUCksXCJ+PVwiPT09ZVsyXSYmKGVbM109XCIgXCIrZVszXStcIiBcIiksZS5zbGljZSgwLDQpfSxDSElMRDpmdW5jdGlvbihlKXtyZXR1cm4gZVsxXT1lWzFdLnRvTG93ZXJDYXNlKCksXCJudGhcIj09PWVbMV0uc2xpY2UoMCwzKT8oZVszXXx8SS5lcnJvcihlWzBdKSxlWzRdPSsoZVs0XT9lWzVdKyhlWzZdfHwxKToyKihcImV2ZW5cIj09PWVbM118fFwib2RkXCI9PT1lWzNdKSksZVs1XT0rKGVbN10rZVs4XXx8XCJvZGRcIj09PWVbM10pKTplWzNdJiZJLmVycm9yKGVbMF0pLGV9LFBTRVVETzpmdW5jdGlvbihlKXt2YXIgdCxuPSFlWzZdJiZlWzJdO3JldHVybiBELkNISUxELnRlc3QoZVswXSk/bnVsbDooZVszXT9lWzJdPWVbNF18fGVbNV18fFwiXCI6biYmai50ZXN0KG4pJiYodD1ZKG4sITApKSYmKHQ9bi5pbmRleE9mKFwiKVwiLG4ubGVuZ3RoLXQpLW4ubGVuZ3RoKSYmKGVbMF09ZVswXS5zbGljZSgwLHQpLGVbMl09bi5zbGljZSgwLHQpKSxlLnNsaWNlKDAsMykpfX0sZmlsdGVyOntUQUc6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKE8sUCkudG9Mb3dlckNhc2UoKTtyZXR1cm5cIipcIj09PWU/ZnVuY3Rpb24oKXtyZXR1cm4hMH06ZnVuY3Rpb24oZSl7cmV0dXJuIGZlKGUsdCl9fSxDTEFTUzpmdW5jdGlvbihlKXt2YXIgdD1zW2UrXCIgXCJdO3JldHVybiB0fHwodD1uZXcgUmVnRXhwKFwiKF58XCIrZ2UrXCIpXCIrZStcIihcIitnZStcInwkKVwiKSkmJnMoZSxmdW5jdGlvbihlKXtyZXR1cm4gdC50ZXN0KFwic3RyaW5nXCI9PXR5cGVvZiBlLmNsYXNzTmFtZSYmZS5jbGFzc05hbWV8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiBlLmdldEF0dHJpYnV0ZSYmZS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKXx8XCJcIil9KX0sQVRUUjpmdW5jdGlvbihuLHIsaSl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PUkuYXR0cihlLG4pO3JldHVybiBudWxsPT10P1wiIT1cIj09PXI6IXJ8fCh0Kz1cIlwiLFwiPVwiPT09cj90PT09aTpcIiE9XCI9PT1yP3QhPT1pOlwiXj1cIj09PXI/aSYmMD09PXQuaW5kZXhPZihpKTpcIio9XCI9PT1yP2kmJi0xPHQuaW5kZXhPZihpKTpcIiQ9XCI9PT1yP2kmJnQuc2xpY2UoLWkubGVuZ3RoKT09PWk6XCJ+PVwiPT09cj8tMTwoXCIgXCIrdC5yZXBsYWNlKHYsXCIgXCIpK1wiIFwiKS5pbmRleE9mKGkpOlwifD1cIj09PXImJih0PT09aXx8dC5zbGljZSgwLGkubGVuZ3RoKzEpPT09aStcIi1cIikpfX0sQ0hJTEQ6ZnVuY3Rpb24oZCxlLHQsaCxnKXt2YXIgdj1cIm50aFwiIT09ZC5zbGljZSgwLDMpLHk9XCJsYXN0XCIhPT1kLnNsaWNlKC00KSxtPVwib2YtdHlwZVwiPT09ZTtyZXR1cm4gMT09PWgmJjA9PT1nP2Z1bmN0aW9uKGUpe3JldHVybiEhZS5wYXJlbnROb2RlfTpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGEscyx1PXYhPT15P1wibmV4dFNpYmxpbmdcIjpcInByZXZpb3VzU2libGluZ1wiLGw9ZS5wYXJlbnROb2RlLGM9bSYmZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLGY9IW4mJiFtLHA9ITE7aWYobCl7aWYodil7d2hpbGUodSl7bz1lO3doaWxlKG89b1t1XSlpZihtP2ZlKG8sYyk6MT09PW8ubm9kZVR5cGUpcmV0dXJuITE7cz11PVwib25seVwiPT09ZCYmIXMmJlwibmV4dFNpYmxpbmdcIn1yZXR1cm4hMH1pZihzPVt5P2wuZmlyc3RDaGlsZDpsLmxhc3RDaGlsZF0seSYmZil7cD0oYT0ocj0oaT1sW1NdfHwobFtTXT17fSkpW2RdfHxbXSlbMF09PT1FJiZyWzFdKSYmclsyXSxvPWEmJmwuY2hpbGROb2Rlc1thXTt3aGlsZShvPSsrYSYmbyYmb1t1XXx8KHA9YT0wKXx8cy5wb3AoKSlpZigxPT09by5ub2RlVHlwZSYmKytwJiZvPT09ZSl7aVtkXT1bRSxhLHBdO2JyZWFrfX1lbHNlIGlmKGYmJihwPWE9KHI9KGk9ZVtTXXx8KGVbU109e30pKVtkXXx8W10pWzBdPT09RSYmclsxXSksITE9PT1wKXdoaWxlKG89KythJiZvJiZvW3VdfHwocD1hPTApfHxzLnBvcCgpKWlmKChtP2ZlKG8sYyk6MT09PW8ubm9kZVR5cGUpJiYrK3AmJihmJiYoKGk9b1tTXXx8KG9bU109e30pKVtkXT1bRSxwXSksbz09PWUpKWJyZWFrO3JldHVybihwLT1nKT09PWh8fHAlaD09MCYmMDw9cC9ofX19LFBTRVVETzpmdW5jdGlvbihlLG8pe3ZhciB0LGE9Yi5wc2V1ZG9zW2VdfHxiLnNldEZpbHRlcnNbZS50b0xvd2VyQ2FzZSgpXXx8SS5lcnJvcihcInVuc3VwcG9ydGVkIHBzZXVkbzogXCIrZSk7cmV0dXJuIGFbU10/YShvKToxPGEubGVuZ3RoPyh0PVtlLGUsXCJcIixvXSxiLnNldEZpbHRlcnMuaGFzT3duUHJvcGVydHkoZS50b0xvd2VyQ2FzZSgpKT9GKGZ1bmN0aW9uKGUsdCl7dmFyIG4scj1hKGUsbyksaT1yLmxlbmd0aDt3aGlsZShpLS0pZVtuPXNlLmNhbGwoZSxyW2ldKV09ISh0W25dPXJbaV0pfSk6ZnVuY3Rpb24oZSl7cmV0dXJuIGEoZSwwLHQpfSk6YX19LHBzZXVkb3M6e25vdDpGKGZ1bmN0aW9uKGUpe3ZhciByPVtdLGk9W10scz1uZShlLnJlcGxhY2UodmUsXCIkMVwiKSk7cmV0dXJuIHNbU10/RihmdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvPXMoZSxudWxsLHIsW10pLGE9ZS5sZW5ndGg7d2hpbGUoYS0tKShpPW9bYV0pJiYoZVthXT0hKHRbYV09aSkpfSk6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiByWzBdPWUscyhyLG51bGwsbixpKSxyWzBdPW51bGwsIWkucG9wKCl9fSksaGFzOkYoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiAwPEkodCxlKS5sZW5ndGh9fSksY29udGFpbnM6RihmdW5jdGlvbih0KXtyZXR1cm4gdD10LnJlcGxhY2UoTyxQKSxmdW5jdGlvbihlKXtyZXR1cm4tMTwoZS50ZXh0Q29udGVudHx8Y2UudGV4dChlKSkuaW5kZXhPZih0KX19KSxsYW5nOkYoZnVuY3Rpb24obil7cmV0dXJuIEEudGVzdChufHxcIlwiKXx8SS5lcnJvcihcInVuc3VwcG9ydGVkIGxhbmc6IFwiK24pLG49bi5yZXBsYWNlKE8sUCkudG9Mb3dlckNhc2UoKSxmdW5jdGlvbihlKXt2YXIgdDtkb3tpZih0PUM/ZS5sYW5nOmUuZ2V0QXR0cmlidXRlKFwieG1sOmxhbmdcIil8fGUuZ2V0QXR0cmlidXRlKFwibGFuZ1wiKSlyZXR1cm4odD10LnRvTG93ZXJDYXNlKCkpPT09bnx8MD09PXQuaW5kZXhPZihuK1wiLVwiKX13aGlsZSgoZT1lLnBhcmVudE5vZGUpJiYxPT09ZS5ub2RlVHlwZSk7cmV0dXJuITF9fSksdGFyZ2V0OmZ1bmN0aW9uKGUpe3ZhciB0PWllLmxvY2F0aW9uJiZpZS5sb2NhdGlvbi5oYXNoO3JldHVybiB0JiZ0LnNsaWNlKDEpPT09ZS5pZH0scm9vdDpmdW5jdGlvbihlKXtyZXR1cm4gZT09PXJ9LGZvY3VzOmZ1bmN0aW9uKGUpe3JldHVybiBlPT09ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIFQuYWN0aXZlRWxlbWVudH1jYXRjaChlKXt9fSgpJiZULmhhc0ZvY3VzKCkmJiEhKGUudHlwZXx8ZS5ocmVmfHx+ZS50YWJJbmRleCl9LGVuYWJsZWQ6WCghMSksZGlzYWJsZWQ6WCghMCksY2hlY2tlZDpmdW5jdGlvbihlKXtyZXR1cm4gZmUoZSxcImlucHV0XCIpJiYhIWUuY2hlY2tlZHx8ZmUoZSxcIm9wdGlvblwiKSYmISFlLnNlbGVjdGVkfSxzZWxlY3RlZDpmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJlbnROb2RlJiZlLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCwhMD09PWUuc2VsZWN0ZWR9LGVtcHR5OmZ1bmN0aW9uKGUpe2ZvcihlPWUuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZylpZihlLm5vZGVUeXBlPDYpcmV0dXJuITE7cmV0dXJuITB9LHBhcmVudDpmdW5jdGlvbihlKXtyZXR1cm4hYi5wc2V1ZG9zLmVtcHR5KGUpfSxoZWFkZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIHEudGVzdChlLm5vZGVOYW1lKX0saW5wdXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIE4udGVzdChlLm5vZGVOYW1lKX0sYnV0dG9uOmZ1bmN0aW9uKGUpe3JldHVybiBmZShlLFwiaW5wdXRcIikmJlwiYnV0dG9uXCI9PT1lLnR5cGV8fGZlKGUsXCJidXR0b25cIil9LHRleHQ6ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIGZlKGUsXCJpbnB1dFwiKSYmXCJ0ZXh0XCI9PT1lLnR5cGUmJihudWxsPT0odD1lLmdldEF0dHJpYnV0ZShcInR5cGVcIikpfHxcInRleHRcIj09PXQudG9Mb3dlckNhc2UoKSl9LGZpcnN0OlUoZnVuY3Rpb24oKXtyZXR1cm5bMF19KSxsYXN0OlUoZnVuY3Rpb24oZSx0KXtyZXR1cm5bdC0xXX0pLGVxOlUoZnVuY3Rpb24oZSx0LG4pe3JldHVybltuPDA/bit0Om5dfSksZXZlbjpVKGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTA7bjx0O24rPTIpZS5wdXNoKG4pO3JldHVybiBlfSksb2RkOlUoZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MTtuPHQ7bis9MillLnB1c2gobik7cmV0dXJuIGV9KSxsdDpVKGZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtmb3Iocj1uPDA/bit0OnQ8bj90Om47MDw9LS1yOyllLnB1c2gocik7cmV0dXJuIGV9KSxndDpVKGZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9bjwwP24rdDpuOysrcjx0OyllLnB1c2gocik7cmV0dXJuIGV9KX19KS5wc2V1ZG9zLm50aD1iLnBzZXVkb3MuZXEse3JhZGlvOiEwLGNoZWNrYm94OiEwLGZpbGU6ITAscGFzc3dvcmQ6ITAsaW1hZ2U6ITB9KWIucHNldWRvc1tlXT1CKGUpO2ZvcihlIGlue3N1Ym1pdDohMCxyZXNldDohMH0pYi5wc2V1ZG9zW2VdPV8oZSk7ZnVuY3Rpb24gRygpe31mdW5jdGlvbiBZKGUsdCl7dmFyIG4scixpLG8sYSxzLHUsbD1jW2UrXCIgXCJdO2lmKGwpcmV0dXJuIHQ/MDpsLnNsaWNlKDApO2E9ZSxzPVtdLHU9Yi5wcmVGaWx0ZXI7d2hpbGUoYSl7Zm9yKG8gaW4gbiYmIShyPXkuZXhlYyhhKSl8fChyJiYoYT1hLnNsaWNlKHJbMF0ubGVuZ3RoKXx8YSkscy5wdXNoKGk9W10pKSxuPSExLChyPW0uZXhlYyhhKSkmJihuPXIuc2hpZnQoKSxpLnB1c2goe3ZhbHVlOm4sdHlwZTpyWzBdLnJlcGxhY2UodmUsXCIgXCIpfSksYT1hLnNsaWNlKG4ubGVuZ3RoKSksYi5maWx0ZXIpIShyPURbb10uZXhlYyhhKSl8fHVbb10mJiEocj11W29dKHIpKXx8KG49ci5zaGlmdCgpLGkucHVzaCh7dmFsdWU6bix0eXBlOm8sbWF0Y2hlczpyfSksYT1hLnNsaWNlKG4ubGVuZ3RoKSk7aWYoIW4pYnJlYWt9cmV0dXJuIHQ/YS5sZW5ndGg6YT9JLmVycm9yKGUpOmMoZSxzKS5zbGljZSgwKX1mdW5jdGlvbiBRKGUpe2Zvcih2YXIgdD0wLG49ZS5sZW5ndGgscj1cIlwiO3Q8bjt0Kyspcis9ZVt0XS52YWx1ZTtyZXR1cm4gcn1mdW5jdGlvbiBKKGEsZSx0KXt2YXIgcz1lLmRpcix1PWUubmV4dCxsPXV8fHMsYz10JiZcInBhcmVudE5vZGVcIj09PWwsZj1uKys7cmV0dXJuIGUuZmlyc3Q/ZnVuY3Rpb24oZSx0LG4pe3doaWxlKGU9ZVtzXSlpZigxPT09ZS5ub2RlVHlwZXx8YylyZXR1cm4gYShlLHQsbik7cmV0dXJuITF9OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89W0UsZl07aWYobil7d2hpbGUoZT1lW3NdKWlmKCgxPT09ZS5ub2RlVHlwZXx8YykmJmEoZSx0LG4pKXJldHVybiEwfWVsc2Ugd2hpbGUoZT1lW3NdKWlmKDE9PT1lLm5vZGVUeXBlfHxjKWlmKGk9ZVtTXXx8KGVbU109e30pLHUmJmZlKGUsdSkpZT1lW3NdfHxlO2Vsc2V7aWYoKHI9aVtsXSkmJnJbMF09PT1FJiZyWzFdPT09ZilyZXR1cm4gb1syXT1yWzJdO2lmKChpW2xdPW8pWzJdPWEoZSx0LG4pKXJldHVybiEwfXJldHVybiExfX1mdW5jdGlvbiBLKGkpe3JldHVybiAxPGkubGVuZ3RoP2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1pLmxlbmd0aDt3aGlsZShyLS0paWYoIWlbcl0oZSx0LG4pKXJldHVybiExO3JldHVybiEwfTppWzBdfWZ1bmN0aW9uIFooZSx0LG4scixpKXtmb3IodmFyIG8sYT1bXSxzPTAsdT1lLmxlbmd0aCxsPW51bGwhPXQ7czx1O3MrKykobz1lW3NdKSYmKG4mJiFuKG8scixpKXx8KGEucHVzaChvKSxsJiZ0LnB1c2gocykpKTtyZXR1cm4gYX1mdW5jdGlvbiBlZShkLGgsZyx2LHksZSl7cmV0dXJuIHYmJiF2W1NdJiYodj1lZSh2KSkseSYmIXlbU10mJih5PWVlKHksZSkpLEYoZnVuY3Rpb24oZSx0LG4scil7dmFyIGksbyxhLHMsdT1bXSxsPVtdLGM9dC5sZW5ndGgsZj1lfHxmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPTAsaT10Lmxlbmd0aDtyPGk7cisrKUkoZSx0W3JdLG4pO3JldHVybiBufShofHxcIipcIixuLm5vZGVUeXBlP1tuXTpuLFtdKSxwPSFkfHwhZSYmaD9mOlooZix1LGQsbixyKTtpZihnP2cocCxzPXl8fChlP2Q6Y3x8dik/W106dCxuLHIpOnM9cCx2KXtpPVoocyxsKSx2KGksW10sbixyKSxvPWkubGVuZ3RoO3doaWxlKG8tLSkoYT1pW29dKSYmKHNbbFtvXV09IShwW2xbb11dPWEpKX1pZihlKXtpZih5fHxkKXtpZih5KXtpPVtdLG89cy5sZW5ndGg7d2hpbGUoby0tKShhPXNbb10pJiZpLnB1c2gocFtvXT1hKTt5KG51bGwscz1bXSxpLHIpfW89cy5sZW5ndGg7d2hpbGUoby0tKShhPXNbb10pJiYtMTwoaT15P3NlLmNhbGwoZSxhKTp1W29dKSYmKGVbaV09ISh0W2ldPWEpKX19ZWxzZSBzPVoocz09PXQ/cy5zcGxpY2UoYyxzLmxlbmd0aCk6cykseT95KG51bGwsdCxzLHIpOmsuYXBwbHkodCxzKX0pfWZ1bmN0aW9uIHRlKGUpe2Zvcih2YXIgaSx0LG4scj1lLmxlbmd0aCxvPWIucmVsYXRpdmVbZVswXS50eXBlXSxhPW98fGIucmVsYXRpdmVbXCIgXCJdLHM9bz8xOjAsdT1KKGZ1bmN0aW9uKGUpe3JldHVybiBlPT09aX0sYSwhMCksbD1KKGZ1bmN0aW9uKGUpe3JldHVybi0xPHNlLmNhbGwoaSxlKX0sYSwhMCksYz1bZnVuY3Rpb24oZSx0LG4pe3ZhciByPSFvJiYobnx8dCE9dyl8fCgoaT10KS5ub2RlVHlwZT91KGUsdCxuKTpsKGUsdCxuKSk7cmV0dXJuIGk9bnVsbCxyfV07czxyO3MrKylpZih0PWIucmVsYXRpdmVbZVtzXS50eXBlXSljPVtKKEsoYyksdCldO2Vsc2V7aWYoKHQ9Yi5maWx0ZXJbZVtzXS50eXBlXS5hcHBseShudWxsLGVbc10ubWF0Y2hlcykpW1NdKXtmb3Iobj0rK3M7bjxyO24rKylpZihiLnJlbGF0aXZlW2Vbbl0udHlwZV0pYnJlYWs7cmV0dXJuIGVlKDE8cyYmSyhjKSwxPHMmJlEoZS5zbGljZSgwLHMtMSkuY29uY2F0KHt2YWx1ZTpcIiBcIj09PWVbcy0yXS50eXBlP1wiKlwiOlwiXCJ9KSkucmVwbGFjZSh2ZSxcIiQxXCIpLHQsczxuJiZ0ZShlLnNsaWNlKHMsbikpLG48ciYmdGUoZT1lLnNsaWNlKG4pKSxuPHImJlEoZSkpfWMucHVzaCh0KX1yZXR1cm4gSyhjKX1mdW5jdGlvbiBuZShlLHQpe3ZhciBuLHYseSxtLHgscixpPVtdLG89W10sYT11W2UrXCIgXCJdO2lmKCFhKXt0fHwodD1ZKGUpKSxuPXQubGVuZ3RoO3doaWxlKG4tLSkoYT10ZSh0W25dKSlbU10/aS5wdXNoKGEpOm8ucHVzaChhKTsoYT11KGUsKHY9byxtPTA8KHk9aSkubGVuZ3RoLHg9MDx2Lmxlbmd0aCxyPWZ1bmN0aW9uKGUsdCxuLHIsaSl7dmFyIG8sYSxzLHU9MCxsPVwiMFwiLGM9ZSYmW10sZj1bXSxwPXcsZD1lfHx4JiZiLmZpbmQuVEFHKFwiKlwiLGkpLGg9RSs9bnVsbD09cD8xOk1hdGgucmFuZG9tKCl8fC4xLGc9ZC5sZW5ndGg7Zm9yKGkmJih3PXQ9PVR8fHR8fGkpO2whPT1nJiZudWxsIT0obz1kW2xdKTtsKyspe2lmKHgmJm8pe2E9MCx0fHxvLm93bmVyRG9jdW1lbnQ9PVR8fChWKG8pLG49IUMpO3doaWxlKHM9dlthKytdKWlmKHMobyx0fHxULG4pKXtrLmNhbGwocixvKTticmVha31pJiYoRT1oKX1tJiYoKG89IXMmJm8pJiZ1LS0sZSYmYy5wdXNoKG8pKX1pZih1Kz1sLG0mJmwhPT11KXthPTA7d2hpbGUocz15W2ErK10pcyhjLGYsdCxuKTtpZihlKXtpZigwPHUpd2hpbGUobC0tKWNbbF18fGZbbF18fChmW2xdPXBlLmNhbGwocikpO2Y9WihmKX1rLmFwcGx5KHIsZiksaSYmIWUmJjA8Zi5sZW5ndGgmJjE8dSt5Lmxlbmd0aCYmY2UudW5pcXVlU29ydChyKX1yZXR1cm4gaSYmKEU9aCx3PXApLGN9LG0/RihyKTpyKSkpLnNlbGVjdG9yPWV9cmV0dXJuIGF9ZnVuY3Rpb24gcmUoZSx0LG4scil7dmFyIGksbyxhLHMsdSxsPVwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJmUsYz0hciYmWShlPWwuc2VsZWN0b3J8fGUpO2lmKG49bnx8W10sMT09PWMubGVuZ3RoKXtpZigyPChvPWNbMF09Y1swXS5zbGljZSgwKSkubGVuZ3RoJiZcIklEXCI9PT0oYT1vWzBdKS50eXBlJiY5PT09dC5ub2RlVHlwZSYmQyYmYi5yZWxhdGl2ZVtvWzFdLnR5cGVdKXtpZighKHQ9KGIuZmluZC5JRChhLm1hdGNoZXNbMF0ucmVwbGFjZShPLFApLHQpfHxbXSlbMF0pKXJldHVybiBuO2wmJih0PXQucGFyZW50Tm9kZSksZT1lLnNsaWNlKG8uc2hpZnQoKS52YWx1ZS5sZW5ndGgpfWk9RC5uZWVkc0NvbnRleHQudGVzdChlKT8wOm8ubGVuZ3RoO3doaWxlKGktLSl7aWYoYT1vW2ldLGIucmVsYXRpdmVbcz1hLnR5cGVdKWJyZWFrO2lmKCh1PWIuZmluZFtzXSkmJihyPXUoYS5tYXRjaGVzWzBdLnJlcGxhY2UoTyxQKSxILnRlc3Qob1swXS50eXBlKSYmeih0LnBhcmVudE5vZGUpfHx0KSkpe2lmKG8uc3BsaWNlKGksMSksIShlPXIubGVuZ3RoJiZRKG8pKSlyZXR1cm4gay5hcHBseShuLHIpLG47YnJlYWt9fX1yZXR1cm4obHx8bmUoZSxjKSkocix0LCFDLG4sIXR8fEgudGVzdChlKSYmeih0LnBhcmVudE5vZGUpfHx0KSxufUcucHJvdG90eXBlPWIuZmlsdGVycz1iLnBzZXVkb3MsYi5zZXRGaWx0ZXJzPW5ldyBHLGxlLnNvcnRTdGFibGU9Uy5zcGxpdChcIlwiKS5zb3J0KGwpLmpvaW4oXCJcIik9PT1TLFYoKSxsZS5zb3J0RGV0YWNoZWQ9JChmdW5jdGlvbihlKXtyZXR1cm4gMSZlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKFQuY3JlYXRlRWxlbWVudChcImZpZWxkc2V0XCIpKX0pLGNlLmZpbmQ9SSxjZS5leHByW1wiOlwiXT1jZS5leHByLnBzZXVkb3MsY2UudW5pcXVlPWNlLnVuaXF1ZVNvcnQsSS5jb21waWxlPW5lLEkuc2VsZWN0PXJlLEkuc2V0RG9jdW1lbnQ9VixJLmVzY2FwZT1jZS5lc2NhcGVTZWxlY3RvcixJLmdldFRleHQ9Y2UudGV4dCxJLmlzWE1MPWNlLmlzWE1MRG9jLEkuc2VsZWN0b3JzPWNlLmV4cHIsSS5zdXBwb3J0PWNlLnN1cHBvcnQsSS51bmlxdWVTb3J0PWNlLnVuaXF1ZVNvcnR9KCk7dmFyIGQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPVtdLGk9dm9pZCAwIT09bjt3aGlsZSgoZT1lW3RdKSYmOSE9PWUubm9kZVR5cGUpaWYoMT09PWUubm9kZVR5cGUpe2lmKGkmJmNlKGUpLmlzKG4pKWJyZWFrO3IucHVzaChlKX1yZXR1cm4gcn0saD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1bXTtlO2U9ZS5uZXh0U2libGluZykxPT09ZS5ub2RlVHlwZSYmZSE9PXQmJm4ucHVzaChlKTtyZXR1cm4gbn0sYj1jZS5leHByLm1hdGNoLm5lZWRzQ29udGV4dCx3PS9ePChbYS16XVteXFwvXFwwPjpcXHgyMFxcdFxcclxcblxcZl0qKVtcXHgyMFxcdFxcclxcblxcZl0qXFwvPz4oPzo8XFwvXFwxPnwpJC9pO2Z1bmN0aW9uIFQoZSxuLHIpe3JldHVybiB2KG4pP2NlLmdyZXAoZSxmdW5jdGlvbihlLHQpe3JldHVybiEhbi5jYWxsKGUsdCxlKSE9PXJ9KTpuLm5vZGVUeXBlP2NlLmdyZXAoZSxmdW5jdGlvbihlKXtyZXR1cm4gZT09PW4hPT1yfSk6XCJzdHJpbmdcIiE9dHlwZW9mIG4/Y2UuZ3JlcChlLGZ1bmN0aW9uKGUpe3JldHVybi0xPHNlLmNhbGwobixlKSE9PXJ9KTpjZS5maWx0ZXIobixlLHIpfWNlLmZpbHRlcj1mdW5jdGlvbihlLHQsbil7dmFyIHI9dFswXTtyZXR1cm4gbiYmKGU9XCI6bm90KFwiK2UrXCIpXCIpLDE9PT10Lmxlbmd0aCYmMT09PXIubm9kZVR5cGU/Y2UuZmluZC5tYXRjaGVzU2VsZWN0b3IocixlKT9bcl06W106Y2UuZmluZC5tYXRjaGVzKGUsY2UuZ3JlcCh0LGZ1bmN0aW9uKGUpe3JldHVybiAxPT09ZS5ub2RlVHlwZX0pKX0sY2UuZm4uZXh0ZW5kKHtmaW5kOmZ1bmN0aW9uKGUpe3ZhciB0LG4scj10aGlzLmxlbmd0aCxpPXRoaXM7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpcmV0dXJuIHRoaXMucHVzaFN0YWNrKGNlKGUpLmZpbHRlcihmdW5jdGlvbigpe2Zvcih0PTA7dDxyO3QrKylpZihjZS5jb250YWlucyhpW3RdLHRoaXMpKXJldHVybiEwfSkpO2ZvcihuPXRoaXMucHVzaFN0YWNrKFtdKSx0PTA7dDxyO3QrKyljZS5maW5kKGUsaVt0XSxuKTtyZXR1cm4gMTxyP2NlLnVuaXF1ZVNvcnQobik6bn0sZmlsdGVyOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnB1c2hTdGFjayhUKHRoaXMsZXx8W10sITEpKX0sbm90OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnB1c2hTdGFjayhUKHRoaXMsZXx8W10sITApKX0saXM6ZnVuY3Rpb24oZSl7cmV0dXJuISFUKHRoaXMsXCJzdHJpbmdcIj09dHlwZW9mIGUmJmIudGVzdChlKT9jZShlKTplfHxbXSwhMSkubGVuZ3RofX0pO3ZhciBrLFM9L14oPzpcXHMqKDxbXFx3XFxXXSs+KVtePl0qfCMoW1xcdy1dKykpJC87KGNlLmZuLmluaXQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGk7aWYoIWUpcmV0dXJuIHRoaXM7aWYobj1ufHxrLFwic3RyaW5nXCI9PXR5cGVvZiBlKXtpZighKHI9XCI8XCI9PT1lWzBdJiZcIj5cIj09PWVbZS5sZW5ndGgtMV0mJjM8PWUubGVuZ3RoP1tudWxsLGUsbnVsbF06Uy5leGVjKGUpKXx8IXJbMV0mJnQpcmV0dXJuIXR8fHQuanF1ZXJ5Pyh0fHxuKS5maW5kKGUpOnRoaXMuY29uc3RydWN0b3IodCkuZmluZChlKTtpZihyWzFdKXtpZih0PXQgaW5zdGFuY2VvZiBjZT90WzBdOnQsY2UubWVyZ2UodGhpcyxjZS5wYXJzZUhUTUwoclsxXSx0JiZ0Lm5vZGVUeXBlP3Qub3duZXJEb2N1bWVudHx8dDpDLCEwKSksdy50ZXN0KHJbMV0pJiZjZS5pc1BsYWluT2JqZWN0KHQpKWZvcihyIGluIHQpdih0aGlzW3JdKT90aGlzW3JdKHRbcl0pOnRoaXMuYXR0cihyLHRbcl0pO3JldHVybiB0aGlzfXJldHVybihpPUMuZ2V0RWxlbWVudEJ5SWQoclsyXSkpJiYodGhpc1swXT1pLHRoaXMubGVuZ3RoPTEpLHRoaXN9cmV0dXJuIGUubm9kZVR5cGU/KHRoaXNbMF09ZSx0aGlzLmxlbmd0aD0xLHRoaXMpOnYoZSk/dm9pZCAwIT09bi5yZWFkeT9uLnJlYWR5KGUpOmUoY2UpOmNlLm1ha2VBcnJheShlLHRoaXMpfSkucHJvdG90eXBlPWNlLmZuLGs9Y2UoQyk7dmFyIEU9L14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8saj17Y2hpbGRyZW46ITAsY29udGVudHM6ITAsbmV4dDohMCxwcmV2OiEwfTtmdW5jdGlvbiBBKGUsdCl7d2hpbGUoKGU9ZVt0XSkmJjEhPT1lLm5vZGVUeXBlKTtyZXR1cm4gZX1jZS5mbi5leHRlbmQoe2hhczpmdW5jdGlvbihlKXt2YXIgdD1jZShlLHRoaXMpLG49dC5sZW5ndGg7cmV0dXJuIHRoaXMuZmlsdGVyKGZ1bmN0aW9uKCl7Zm9yKHZhciBlPTA7ZTxuO2UrKylpZihjZS5jb250YWlucyh0aGlzLHRbZV0pKXJldHVybiEwfSl9LGNsb3Nlc3Q6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPTAsaT10aGlzLmxlbmd0aCxvPVtdLGE9XCJzdHJpbmdcIiE9dHlwZW9mIGUmJmNlKGUpO2lmKCFiLnRlc3QoZSkpZm9yKDtyPGk7cisrKWZvcihuPXRoaXNbcl07biYmbiE9PXQ7bj1uLnBhcmVudE5vZGUpaWYobi5ub2RlVHlwZTwxMSYmKGE/LTE8YS5pbmRleChuKToxPT09bi5ub2RlVHlwZSYmY2UuZmluZC5tYXRjaGVzU2VsZWN0b3IobixlKSkpe28ucHVzaChuKTticmVha31yZXR1cm4gdGhpcy5wdXNoU3RhY2soMTxvLmxlbmd0aD9jZS51bmlxdWVTb3J0KG8pOm8pfSxpbmRleDpmdW5jdGlvbihlKXtyZXR1cm4gZT9cInN0cmluZ1wiPT10eXBlb2YgZT9zZS5jYWxsKGNlKGUpLHRoaXNbMF0pOnNlLmNhbGwodGhpcyxlLmpxdWVyeT9lWzBdOmUpOnRoaXNbMF0mJnRoaXNbMF0ucGFyZW50Tm9kZT90aGlzLmZpcnN0KCkucHJldkFsbCgpLmxlbmd0aDotMX0sYWRkOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGNlLnVuaXF1ZVNvcnQoY2UubWVyZ2UodGhpcy5nZXQoKSxjZShlLHQpKSkpfSxhZGRCYWNrOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmFkZChudWxsPT1lP3RoaXMucHJldk9iamVjdDp0aGlzLnByZXZPYmplY3QuZmlsdGVyKGUpKX19KSxjZS5lYWNoKHtwYXJlbnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXJlbnROb2RlO3JldHVybiB0JiYxMSE9PXQubm9kZVR5cGU/dDpudWxsfSxwYXJlbnRzOmZ1bmN0aW9uKGUpe3JldHVybiBkKGUsXCJwYXJlbnROb2RlXCIpfSxwYXJlbnRzVW50aWw6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBkKGUsXCJwYXJlbnROb2RlXCIsbil9LG5leHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIEEoZSxcIm5leHRTaWJsaW5nXCIpfSxwcmV2OmZ1bmN0aW9uKGUpe3JldHVybiBBKGUsXCJwcmV2aW91c1NpYmxpbmdcIil9LG5leHRBbGw6ZnVuY3Rpb24oZSl7cmV0dXJuIGQoZSxcIm5leHRTaWJsaW5nXCIpfSxwcmV2QWxsOmZ1bmN0aW9uKGUpe3JldHVybiBkKGUsXCJwcmV2aW91c1NpYmxpbmdcIil9LG5leHRVbnRpbDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGQoZSxcIm5leHRTaWJsaW5nXCIsbil9LHByZXZVbnRpbDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGQoZSxcInByZXZpb3VzU2libGluZ1wiLG4pfSxzaWJsaW5nczpmdW5jdGlvbihlKXtyZXR1cm4gaCgoZS5wYXJlbnROb2RlfHx7fSkuZmlyc3RDaGlsZCxlKX0sY2hpbGRyZW46ZnVuY3Rpb24oZSl7cmV0dXJuIGgoZS5maXJzdENoaWxkKX0sY29udGVudHM6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWUuY29udGVudERvY3VtZW50JiZyKGUuY29udGVudERvY3VtZW50KT9lLmNvbnRlbnREb2N1bWVudDooZmUoZSxcInRlbXBsYXRlXCIpJiYoZT1lLmNvbnRlbnR8fGUpLGNlLm1lcmdlKFtdLGUuY2hpbGROb2RlcykpfX0sZnVuY3Rpb24ocixpKXtjZS5mbltyXT1mdW5jdGlvbihlLHQpe3ZhciBuPWNlLm1hcCh0aGlzLGksZSk7cmV0dXJuXCJVbnRpbFwiIT09ci5zbGljZSgtNSkmJih0PWUpLHQmJlwic3RyaW5nXCI9PXR5cGVvZiB0JiYobj1jZS5maWx0ZXIodCxuKSksMTx0aGlzLmxlbmd0aCYmKGpbcl18fGNlLnVuaXF1ZVNvcnQobiksRS50ZXN0KHIpJiZuLnJldmVyc2UoKSksdGhpcy5wdXNoU3RhY2sobil9fSk7dmFyIEQ9L1teXFx4MjBcXHRcXHJcXG5cXGZdKy9nO2Z1bmN0aW9uIE4oZSl7cmV0dXJuIGV9ZnVuY3Rpb24gcShlKXt0aHJvdyBlfWZ1bmN0aW9uIEwoZSx0LG4scil7dmFyIGk7dHJ5e2UmJnYoaT1lLnByb21pc2UpP2kuY2FsbChlKS5kb25lKHQpLmZhaWwobik6ZSYmdihpPWUudGhlbik/aS5jYWxsKGUsdCxuKTp0LmFwcGx5KHZvaWQgMCxbZV0uc2xpY2UocikpfWNhdGNoKGUpe24uYXBwbHkodm9pZCAwLFtlXSl9fWNlLkNhbGxiYWNrcz1mdW5jdGlvbihyKXt2YXIgZSxuO3I9XCJzdHJpbmdcIj09dHlwZW9mIHI/KGU9cixuPXt9LGNlLmVhY2goZS5tYXRjaChEKXx8W10sZnVuY3Rpb24oZSx0KXtuW3RdPSEwfSksbik6Y2UuZXh0ZW5kKHt9LHIpO3ZhciBpLHQsbyxhLHM9W10sdT1bXSxsPS0xLGM9ZnVuY3Rpb24oKXtmb3IoYT1hfHxyLm9uY2Usbz1pPSEwO3UubGVuZ3RoO2w9LTEpe3Q9dS5zaGlmdCgpO3doaWxlKCsrbDxzLmxlbmd0aCkhMT09PXNbbF0uYXBwbHkodFswXSx0WzFdKSYmci5zdG9wT25GYWxzZSYmKGw9cy5sZW5ndGgsdD0hMSl9ci5tZW1vcnl8fCh0PSExKSxpPSExLGEmJihzPXQ/W106XCJcIil9LGY9e2FkZDpmdW5jdGlvbigpe3JldHVybiBzJiYodCYmIWkmJihsPXMubGVuZ3RoLTEsdS5wdXNoKHQpKSxmdW5jdGlvbiBuKGUpe2NlLmVhY2goZSxmdW5jdGlvbihlLHQpe3YodCk/ci51bmlxdWUmJmYuaGFzKHQpfHxzLnB1c2godCk6dCYmdC5sZW5ndGgmJlwic3RyaW5nXCIhPT14KHQpJiZuKHQpfSl9KGFyZ3VtZW50cyksdCYmIWkmJmMoKSksdGhpc30scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIGNlLmVhY2goYXJndW1lbnRzLGZ1bmN0aW9uKGUsdCl7dmFyIG47d2hpbGUoLTE8KG49Y2UuaW5BcnJheSh0LHMsbikpKXMuc3BsaWNlKG4sMSksbjw9bCYmbC0tfSksdGhpc30saGFzOmZ1bmN0aW9uKGUpe3JldHVybiBlPy0xPGNlLmluQXJyYXkoZSxzKTowPHMubGVuZ3RofSxlbXB0eTpmdW5jdGlvbigpe3JldHVybiBzJiYocz1bXSksdGhpc30sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiBhPXU9W10scz10PVwiXCIsdGhpc30sZGlzYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hc30sbG9jazpmdW5jdGlvbigpe3JldHVybiBhPXU9W10sdHx8aXx8KHM9dD1cIlwiKSx0aGlzfSxsb2NrZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIWF9LGZpcmVXaXRoOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGF8fCh0PVtlLCh0PXR8fFtdKS5zbGljZT90LnNsaWNlKCk6dF0sdS5wdXNoKHQpLGl8fGMoKSksdGhpc30sZmlyZTpmdW5jdGlvbigpe3JldHVybiBmLmZpcmVXaXRoKHRoaXMsYXJndW1lbnRzKSx0aGlzfSxmaXJlZDpmdW5jdGlvbigpe3JldHVybiEhb319O3JldHVybiBmfSxjZS5leHRlbmQoe0RlZmVycmVkOmZ1bmN0aW9uKGUpe3ZhciBvPVtbXCJub3RpZnlcIixcInByb2dyZXNzXCIsY2UuQ2FsbGJhY2tzKFwibWVtb3J5XCIpLGNlLkNhbGxiYWNrcyhcIm1lbW9yeVwiKSwyXSxbXCJyZXNvbHZlXCIsXCJkb25lXCIsY2UuQ2FsbGJhY2tzKFwib25jZSBtZW1vcnlcIiksY2UuQ2FsbGJhY2tzKFwib25jZSBtZW1vcnlcIiksMCxcInJlc29sdmVkXCJdLFtcInJlamVjdFwiLFwiZmFpbFwiLGNlLkNhbGxiYWNrcyhcIm9uY2UgbWVtb3J5XCIpLGNlLkNhbGxiYWNrcyhcIm9uY2UgbWVtb3J5XCIpLDEsXCJyZWplY3RlZFwiXV0saT1cInBlbmRpbmdcIixhPXtzdGF0ZTpmdW5jdGlvbigpe3JldHVybiBpfSxhbHdheXM6ZnVuY3Rpb24oKXtyZXR1cm4gcy5kb25lKGFyZ3VtZW50cykuZmFpbChhcmd1bWVudHMpLHRoaXN9LFwiY2F0Y2hcIjpmdW5jdGlvbihlKXtyZXR1cm4gYS50aGVuKG51bGwsZSl9LHBpcGU6ZnVuY3Rpb24oKXt2YXIgaT1hcmd1bWVudHM7cmV0dXJuIGNlLkRlZmVycmVkKGZ1bmN0aW9uKHIpe2NlLmVhY2gobyxmdW5jdGlvbihlLHQpe3ZhciBuPXYoaVt0WzRdXSkmJmlbdFs0XV07c1t0WzFdXShmdW5jdGlvbigpe3ZhciBlPW4mJm4uYXBwbHkodGhpcyxhcmd1bWVudHMpO2UmJnYoZS5wcm9taXNlKT9lLnByb21pc2UoKS5wcm9ncmVzcyhyLm5vdGlmeSkuZG9uZShyLnJlc29sdmUpLmZhaWwoci5yZWplY3QpOnJbdFswXStcIldpdGhcIl0odGhpcyxuP1tlXTphcmd1bWVudHMpfSl9KSxpPW51bGx9KS5wcm9taXNlKCl9LHRoZW46ZnVuY3Rpb24odCxuLHIpe3ZhciB1PTA7ZnVuY3Rpb24gbChpLG8sYSxzKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbj10aGlzLHI9YXJndW1lbnRzLGU9ZnVuY3Rpb24oKXt2YXIgZSx0O2lmKCEoaTx1KSl7aWYoKGU9YS5hcHBseShuLHIpKT09PW8ucHJvbWlzZSgpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJUaGVuYWJsZSBzZWxmLXJlc29sdXRpb25cIik7dD1lJiYoXCJvYmplY3RcIj09dHlwZW9mIGV8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpJiZlLnRoZW4sdih0KT9zP3QuY2FsbChlLGwodSxvLE4scyksbCh1LG8scSxzKSk6KHUrKyx0LmNhbGwoZSxsKHUsbyxOLHMpLGwodSxvLHEscyksbCh1LG8sTixvLm5vdGlmeVdpdGgpKSk6KGEhPT1OJiYobj12b2lkIDAscj1bZV0pLChzfHxvLnJlc29sdmVXaXRoKShuLHIpKX19LHQ9cz9lOmZ1bmN0aW9uKCl7dHJ5e2UoKX1jYXRjaChlKXtjZS5EZWZlcnJlZC5leGNlcHRpb25Ib29rJiZjZS5EZWZlcnJlZC5leGNlcHRpb25Ib29rKGUsdC5lcnJvciksdTw9aSsxJiYoYSE9PXEmJihuPXZvaWQgMCxyPVtlXSksby5yZWplY3RXaXRoKG4scikpfX07aT90KCk6KGNlLkRlZmVycmVkLmdldEVycm9ySG9vaz90LmVycm9yPWNlLkRlZmVycmVkLmdldEVycm9ySG9vaygpOmNlLkRlZmVycmVkLmdldFN0YWNrSG9vayYmKHQuZXJyb3I9Y2UuRGVmZXJyZWQuZ2V0U3RhY2tIb29rKCkpLGllLnNldFRpbWVvdXQodCkpfX1yZXR1cm4gY2UuRGVmZXJyZWQoZnVuY3Rpb24oZSl7b1swXVszXS5hZGQobCgwLGUsdihyKT9yOk4sZS5ub3RpZnlXaXRoKSksb1sxXVszXS5hZGQobCgwLGUsdih0KT90Ok4pKSxvWzJdWzNdLmFkZChsKDAsZSx2KG4pP246cSkpfSkucHJvbWlzZSgpfSxwcm9taXNlOmZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT1lP2NlLmV4dGVuZChlLGEpOmF9fSxzPXt9O3JldHVybiBjZS5lYWNoKG8sZnVuY3Rpb24oZSx0KXt2YXIgbj10WzJdLHI9dFs1XTthW3RbMV1dPW4uYWRkLHImJm4uYWRkKGZ1bmN0aW9uKCl7aT1yfSxvWzMtZV1bMl0uZGlzYWJsZSxvWzMtZV1bM10uZGlzYWJsZSxvWzBdWzJdLmxvY2ssb1swXVszXS5sb2NrKSxuLmFkZCh0WzNdLmZpcmUpLHNbdFswXV09ZnVuY3Rpb24oKXtyZXR1cm4gc1t0WzBdK1wiV2l0aFwiXSh0aGlzPT09cz92b2lkIDA6dGhpcyxhcmd1bWVudHMpLHRoaXN9LHNbdFswXStcIldpdGhcIl09bi5maXJlV2l0aH0pLGEucHJvbWlzZShzKSxlJiZlLmNhbGwocyxzKSxzfSx3aGVuOmZ1bmN0aW9uKGUpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGgsdD1uLHI9QXJyYXkodCksaT1hZS5jYWxsKGFyZ3VtZW50cyksbz1jZS5EZWZlcnJlZCgpLGE9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JbdF09dGhpcyxpW3RdPTE8YXJndW1lbnRzLmxlbmd0aD9hZS5jYWxsKGFyZ3VtZW50cyk6ZSwtLW58fG8ucmVzb2x2ZVdpdGgocixpKX19O2lmKG48PTEmJihMKGUsby5kb25lKGEodCkpLnJlc29sdmUsby5yZWplY3QsIW4pLFwicGVuZGluZ1wiPT09by5zdGF0ZSgpfHx2KGlbdF0mJmlbdF0udGhlbikpKXJldHVybiBvLnRoZW4oKTt3aGlsZSh0LS0pTChpW3RdLGEodCksby5yZWplY3QpO3JldHVybiBvLnByb21pc2UoKX19KTt2YXIgSD0vXihFdmFsfEludGVybmFsfFJhbmdlfFJlZmVyZW5jZXxTeW50YXh8VHlwZXxVUkkpRXJyb3IkLztjZS5EZWZlcnJlZC5leGNlcHRpb25Ib29rPWZ1bmN0aW9uKGUsdCl7aWUuY29uc29sZSYmaWUuY29uc29sZS53YXJuJiZlJiZILnRlc3QoZS5uYW1lKSYmaWUuY29uc29sZS53YXJuKFwialF1ZXJ5LkRlZmVycmVkIGV4Y2VwdGlvbjogXCIrZS5tZXNzYWdlLGUuc3RhY2ssdCl9LGNlLnJlYWR5RXhjZXB0aW9uPWZ1bmN0aW9uKGUpe2llLnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aHJvdyBlfSl9O3ZhciBPPWNlLkRlZmVycmVkKCk7ZnVuY3Rpb24gUCgpe0MucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIixQKSxpZS5yZW1vdmVFdmVudExpc3RlbmVyKFwibG9hZFwiLFApLGNlLnJlYWR5KCl9Y2UuZm4ucmVhZHk9ZnVuY3Rpb24oZSl7cmV0dXJuIE8udGhlbihlKVtcImNhdGNoXCJdKGZ1bmN0aW9uKGUpe2NlLnJlYWR5RXhjZXB0aW9uKGUpfSksdGhpc30sY2UuZXh0ZW5kKHtpc1JlYWR5OiExLHJlYWR5V2FpdDoxLHJlYWR5OmZ1bmN0aW9uKGUpeyghMD09PWU/LS1jZS5yZWFkeVdhaXQ6Y2UuaXNSZWFkeSl8fChjZS5pc1JlYWR5PSEwKSE9PWUmJjA8LS1jZS5yZWFkeVdhaXR8fE8ucmVzb2x2ZVdpdGgoQyxbY2VdKX19KSxjZS5yZWFkeS50aGVuPU8udGhlbixcImNvbXBsZXRlXCI9PT1DLnJlYWR5U3RhdGV8fFwibG9hZGluZ1wiIT09Qy5yZWFkeVN0YXRlJiYhQy5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGw/aWUuc2V0VGltZW91dChjZS5yZWFkeSk6KEMuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIixQKSxpZS5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLFApKTt2YXIgUj1mdW5jdGlvbihlLHQsbixyLGksbyxhKXt2YXIgcz0wLHU9ZS5sZW5ndGgsbD1udWxsPT1uO2lmKFwib2JqZWN0XCI9PT14KG4pKWZvcihzIGluIGk9ITAsbilSKGUsdCxzLG5bc10sITAsbyxhKTtlbHNlIGlmKHZvaWQgMCE9PXImJihpPSEwLHYocil8fChhPSEwKSxsJiYoYT8odC5jYWxsKGUsciksdD1udWxsKToobD10LHQ9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBsLmNhbGwoY2UoZSksbil9KSksdCkpZm9yKDtzPHU7cysrKXQoZVtzXSxuLGE/cjpyLmNhbGwoZVtzXSxzLHQoZVtzXSxuKSkpO3JldHVybiBpP2U6bD90LmNhbGwoZSk6dT90KGVbMF0sbik6b30sTT0vXi1tcy0vLEk9Ly0oW2Etel0pL2c7ZnVuY3Rpb24gVyhlLHQpe3JldHVybiB0LnRvVXBwZXJDYXNlKCl9ZnVuY3Rpb24gRihlKXtyZXR1cm4gZS5yZXBsYWNlKE0sXCJtcy1cIikucmVwbGFjZShJLFcpfXZhciAkPWZ1bmN0aW9uKGUpe3JldHVybiAxPT09ZS5ub2RlVHlwZXx8OT09PWUubm9kZVR5cGV8fCErZS5ub2RlVHlwZX07ZnVuY3Rpb24gQigpe3RoaXMuZXhwYW5kbz1jZS5leHBhbmRvK0IudWlkKyt9Qi51aWQ9MSxCLnByb3RvdHlwZT17Y2FjaGU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZVt0aGlzLmV4cGFuZG9dO3JldHVybiB0fHwodD17fSwkKGUpJiYoZS5ub2RlVHlwZT9lW3RoaXMuZXhwYW5kb109dDpPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0aGlzLmV4cGFuZG8se3ZhbHVlOnQsY29uZmlndXJhYmxlOiEwfSkpKSx0fSxzZXQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGk9dGhpcy5jYWNoZShlKTtpZihcInN0cmluZ1wiPT10eXBlb2YgdClpW0YodCldPW47ZWxzZSBmb3IociBpbiB0KWlbRihyKV09dFtyXTtyZXR1cm4gaX0sZ2V0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQ/dGhpcy5jYWNoZShlKTplW3RoaXMuZXhwYW5kb10mJmVbdGhpcy5leHBhbmRvXVtGKHQpXX0sYWNjZXNzOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdm9pZCAwPT09dHx8dCYmXCJzdHJpbmdcIj09dHlwZW9mIHQmJnZvaWQgMD09PW4/dGhpcy5nZXQoZSx0KToodGhpcy5zZXQoZSx0LG4pLHZvaWQgMCE9PW4/bjp0KX0scmVtb3ZlOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj1lW3RoaXMuZXhwYW5kb107aWYodm9pZCAwIT09cil7aWYodm9pZCAwIT09dCl7bj0odD1BcnJheS5pc0FycmF5KHQpP3QubWFwKEYpOih0PUYodCkpaW4gcj9bdF06dC5tYXRjaChEKXx8W10pLmxlbmd0aDt3aGlsZShuLS0pZGVsZXRlIHJbdFtuXV19KHZvaWQgMD09PXR8fGNlLmlzRW1wdHlPYmplY3QocikpJiYoZS5ub2RlVHlwZT9lW3RoaXMuZXhwYW5kb109dm9pZCAwOmRlbGV0ZSBlW3RoaXMuZXhwYW5kb10pfX0saGFzRGF0YTpmdW5jdGlvbihlKXt2YXIgdD1lW3RoaXMuZXhwYW5kb107cmV0dXJuIHZvaWQgMCE9PXQmJiFjZS5pc0VtcHR5T2JqZWN0KHQpfX07dmFyIF89bmV3IEIsWD1uZXcgQixVPS9eKD86XFx7W1xcd1xcV10qXFx9fFxcW1tcXHdcXFddKlxcXSkkLyx6PS9bQS1aXS9nO2Z1bmN0aW9uIFYoZSx0LG4pe3ZhciByLGk7aWYodm9pZCAwPT09biYmMT09PWUubm9kZVR5cGUpaWYocj1cImRhdGEtXCIrdC5yZXBsYWNlKHosXCItJCZcIikudG9Mb3dlckNhc2UoKSxcInN0cmluZ1wiPT10eXBlb2Yobj1lLmdldEF0dHJpYnV0ZShyKSkpe3RyeXtuPVwidHJ1ZVwiPT09KGk9bil8fFwiZmFsc2VcIiE9PWkmJihcIm51bGxcIj09PWk/bnVsbDppPT09K2krXCJcIj8raTpVLnRlc3QoaSk/SlNPTi5wYXJzZShpKTppKX1jYXRjaChlKXt9WC5zZXQoZSx0LG4pfWVsc2Ugbj12b2lkIDA7cmV0dXJuIG59Y2UuZXh0ZW5kKHtoYXNEYXRhOmZ1bmN0aW9uKGUpe3JldHVybiBYLmhhc0RhdGEoZSl8fF8uaGFzRGF0YShlKX0sZGF0YTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIFguYWNjZXNzKGUsdCxuKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihlLHQpe1gucmVtb3ZlKGUsdCl9LF9kYXRhOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gXy5hY2Nlc3MoZSx0LG4pfSxfcmVtb3ZlRGF0YTpmdW5jdGlvbihlLHQpe18ucmVtb3ZlKGUsdCl9fSksY2UuZm4uZXh0ZW5kKHtkYXRhOmZ1bmN0aW9uKG4sZSl7dmFyIHQscixpLG89dGhpc1swXSxhPW8mJm8uYXR0cmlidXRlcztpZih2b2lkIDA9PT1uKXtpZih0aGlzLmxlbmd0aCYmKGk9WC5nZXQobyksMT09PW8ubm9kZVR5cGUmJiFfLmdldChvLFwiaGFzRGF0YUF0dHJzXCIpKSl7dD1hLmxlbmd0aDt3aGlsZSh0LS0pYVt0XSYmMD09PShyPWFbdF0ubmFtZSkuaW5kZXhPZihcImRhdGEtXCIpJiYocj1GKHIuc2xpY2UoNSkpLFYobyxyLGlbcl0pKTtfLnNldChvLFwiaGFzRGF0YUF0dHJzXCIsITApfXJldHVybiBpfXJldHVyblwib2JqZWN0XCI9PXR5cGVvZiBuP3RoaXMuZWFjaChmdW5jdGlvbigpe1guc2V0KHRoaXMsbil9KTpSKHRoaXMsZnVuY3Rpb24oZSl7dmFyIHQ7aWYobyYmdm9pZCAwPT09ZSlyZXR1cm4gdm9pZCAwIT09KHQ9WC5nZXQobyxuKSk/dDp2b2lkIDAhPT0odD1WKG8sbikpP3Q6dm9pZCAwO3RoaXMuZWFjaChmdW5jdGlvbigpe1guc2V0KHRoaXMsbixlKX0pfSxudWxsLGUsMTxhcmd1bWVudHMubGVuZ3RoLG51bGwsITApfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtYLnJlbW92ZSh0aGlzLGUpfSl9fSksY2UuZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbihlLHQsbil7dmFyIHI7aWYoZSlyZXR1cm4gdD0odHx8XCJmeFwiKStcInF1ZXVlXCIscj1fLmdldChlLHQpLG4mJighcnx8QXJyYXkuaXNBcnJheShuKT9yPV8uYWNjZXNzKGUsdCxjZS5tYWtlQXJyYXkobikpOnIucHVzaChuKSkscnx8W119LGRlcXVldWU6ZnVuY3Rpb24oZSx0KXt0PXR8fFwiZnhcIjt2YXIgbj1jZS5xdWV1ZShlLHQpLHI9bi5sZW5ndGgsaT1uLnNoaWZ0KCksbz1jZS5fcXVldWVIb29rcyhlLHQpO1wiaW5wcm9ncmVzc1wiPT09aSYmKGk9bi5zaGlmdCgpLHItLSksaSYmKFwiZnhcIj09PXQmJm4udW5zaGlmdChcImlucHJvZ3Jlc3NcIiksZGVsZXRlIG8uc3RvcCxpLmNhbGwoZSxmdW5jdGlvbigpe2NlLmRlcXVldWUoZSx0KX0sbykpLCFyJiZvJiZvLmVtcHR5LmZpcmUoKX0sX3F1ZXVlSG9va3M6ZnVuY3Rpb24oZSx0KXt2YXIgbj10K1wicXVldWVIb29rc1wiO3JldHVybiBfLmdldChlLG4pfHxfLmFjY2VzcyhlLG4se2VtcHR5OmNlLkNhbGxiYWNrcyhcIm9uY2UgbWVtb3J5XCIpLmFkZChmdW5jdGlvbigpe18ucmVtb3ZlKGUsW3QrXCJxdWV1ZVwiLG5dKX0pfSl9fSksY2UuZm4uZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbih0LG4pe3ZhciBlPTI7cmV0dXJuXCJzdHJpbmdcIiE9dHlwZW9mIHQmJihuPXQsdD1cImZ4XCIsZS0tKSxhcmd1bWVudHMubGVuZ3RoPGU/Y2UucXVldWUodGhpc1swXSx0KTp2b2lkIDA9PT1uP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9Y2UucXVldWUodGhpcyx0LG4pO2NlLl9xdWV1ZUhvb2tzKHRoaXMsdCksXCJmeFwiPT09dCYmXCJpbnByb2dyZXNzXCIhPT1lWzBdJiZjZS5kZXF1ZXVlKHRoaXMsdCl9KX0sZGVxdWV1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Y2UuZGVxdWV1ZSh0aGlzLGUpfSl9LGNsZWFyUXVldWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucXVldWUoZXx8XCJmeFwiLFtdKX0scHJvbWlzZTpmdW5jdGlvbihlLHQpe3ZhciBuLHI9MSxpPWNlLkRlZmVycmVkKCksbz10aGlzLGE9dGhpcy5sZW5ndGgscz1mdW5jdGlvbigpey0tcnx8aS5yZXNvbHZlV2l0aChvLFtvXSl9O1wic3RyaW5nXCIhPXR5cGVvZiBlJiYodD1lLGU9dm9pZCAwKSxlPWV8fFwiZnhcIjt3aGlsZShhLS0pKG49Xy5nZXQob1thXSxlK1wicXVldWVIb29rc1wiKSkmJm4uZW1wdHkmJihyKyssbi5lbXB0eS5hZGQocykpO3JldHVybiBzKCksaS5wcm9taXNlKHQpfX0pO3ZhciBHPS9bKy1dPyg/OlxcZCpcXC58KVxcZCsoPzpbZUVdWystXT9cXGQrfCkvLnNvdXJjZSxZPW5ldyBSZWdFeHAoXCJeKD86KFsrLV0pPXwpKFwiK0crXCIpKFthLXolXSopJFwiLFwiaVwiKSxRPVtcIlRvcFwiLFwiUmlnaHRcIixcIkJvdHRvbVwiLFwiTGVmdFwiXSxKPUMuZG9jdW1lbnRFbGVtZW50LEs9ZnVuY3Rpb24oZSl7cmV0dXJuIGNlLmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCxlKX0sWj17Y29tcG9zZWQ6ITB9O0ouZ2V0Um9vdE5vZGUmJihLPWZ1bmN0aW9uKGUpe3JldHVybiBjZS5jb250YWlucyhlLm93bmVyRG9jdW1lbnQsZSl8fGUuZ2V0Um9vdE5vZGUoWik9PT1lLm93bmVyRG9jdW1lbnR9KTt2YXIgZWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm5cIm5vbmVcIj09PShlPXR8fGUpLnN0eWxlLmRpc3BsYXl8fFwiXCI9PT1lLnN0eWxlLmRpc3BsYXkmJksoZSkmJlwibm9uZVwiPT09Y2UuY3NzKGUsXCJkaXNwbGF5XCIpfTtmdW5jdGlvbiB0ZShlLHQsbixyKXt2YXIgaSxvLGE9MjAscz1yP2Z1bmN0aW9uKCl7cmV0dXJuIHIuY3VyKCl9OmZ1bmN0aW9uKCl7cmV0dXJuIGNlLmNzcyhlLHQsXCJcIil9LHU9cygpLGw9biYmblszXXx8KGNlLmNzc051bWJlclt0XT9cIlwiOlwicHhcIiksYz1lLm5vZGVUeXBlJiYoY2UuY3NzTnVtYmVyW3RdfHxcInB4XCIhPT1sJiYrdSkmJlkuZXhlYyhjZS5jc3MoZSx0KSk7aWYoYyYmY1szXSE9PWwpe3UvPTIsbD1sfHxjWzNdLGM9K3V8fDE7d2hpbGUoYS0tKWNlLnN0eWxlKGUsdCxjK2wpLCgxLW8pKigxLShvPXMoKS91fHwuNSkpPD0wJiYoYT0wKSxjLz1vO2MqPTIsY2Uuc3R5bGUoZSx0LGMrbCksbj1ufHxbXX1yZXR1cm4gbiYmKGM9K2N8fCt1fHwwLGk9blsxXT9jKyhuWzFdKzEpKm5bMl06K25bMl0sciYmKHIudW5pdD1sLHIuc3RhcnQ9YyxyLmVuZD1pKSksaX12YXIgbmU9e307ZnVuY3Rpb24gcmUoZSx0KXtmb3IodmFyIG4scixpLG8sYSxzLHUsbD1bXSxjPTAsZj1lLmxlbmd0aDtjPGY7YysrKShyPWVbY10pLnN0eWxlJiYobj1yLnN0eWxlLmRpc3BsYXksdD8oXCJub25lXCI9PT1uJiYobFtjXT1fLmdldChyLFwiZGlzcGxheVwiKXx8bnVsbCxsW2NdfHwoci5zdHlsZS5kaXNwbGF5PVwiXCIpKSxcIlwiPT09ci5zdHlsZS5kaXNwbGF5JiZlZShyKSYmKGxbY109KHU9YT1vPXZvaWQgMCxhPShpPXIpLm93bmVyRG9jdW1lbnQscz1pLm5vZGVOYW1lLCh1PW5lW3NdKXx8KG89YS5ib2R5LmFwcGVuZENoaWxkKGEuY3JlYXRlRWxlbWVudChzKSksdT1jZS5jc3MobyxcImRpc3BsYXlcIiksby5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG8pLFwibm9uZVwiPT09dSYmKHU9XCJibG9ja1wiKSxuZVtzXT11KSkpKTpcIm5vbmVcIiE9PW4mJihsW2NdPVwibm9uZVwiLF8uc2V0KHIsXCJkaXNwbGF5XCIsbikpKTtmb3IoYz0wO2M8ZjtjKyspbnVsbCE9bFtjXSYmKGVbY10uc3R5bGUuZGlzcGxheT1sW2NdKTtyZXR1cm4gZX1jZS5mbi5leHRlbmQoe3Nob3c6ZnVuY3Rpb24oKXtyZXR1cm4gcmUodGhpcywhMCl9LGhpZGU6ZnVuY3Rpb24oKXtyZXR1cm4gcmUodGhpcyl9LHRvZ2dsZTpmdW5jdGlvbihlKXtyZXR1cm5cImJvb2xlYW5cIj09dHlwZW9mIGU/ZT90aGlzLnNob3coKTp0aGlzLmhpZGUoKTp0aGlzLmVhY2goZnVuY3Rpb24oKXtlZSh0aGlzKT9jZSh0aGlzKS5zaG93KCk6Y2UodGhpcykuaGlkZSgpfSl9fSk7dmFyIHhlLGJlLHdlPS9eKD86Y2hlY2tib3h8cmFkaW8pJC9pLFRlPS88KFthLXpdW15cXC9cXDA+XFx4MjBcXHRcXHJcXG5cXGZdKikvaSxDZT0vXiR8Xm1vZHVsZSR8XFwvKD86amF2YXxlY21hKXNjcmlwdC9pO3hlPUMuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLmFwcGVuZENoaWxkKEMuY3JlYXRlRWxlbWVudChcImRpdlwiKSksKGJlPUMuY3JlYXRlRWxlbWVudChcImlucHV0XCIpKS5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJyYWRpb1wiKSxiZS5zZXRBdHRyaWJ1dGUoXCJjaGVja2VkXCIsXCJjaGVja2VkXCIpLGJlLnNldEF0dHJpYnV0ZShcIm5hbWVcIixcInRcIikseGUuYXBwZW5kQ2hpbGQoYmUpLGxlLmNoZWNrQ2xvbmU9eGUuY2xvbmVOb2RlKCEwKS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5jaGVja2VkLHhlLmlubmVySFRNTD1cIjx0ZXh0YXJlYT54PC90ZXh0YXJlYT5cIixsZS5ub0Nsb25lQ2hlY2tlZD0hIXhlLmNsb25lTm9kZSghMCkubGFzdENoaWxkLmRlZmF1bHRWYWx1ZSx4ZS5pbm5lckhUTUw9XCI8b3B0aW9uPjwvb3B0aW9uPlwiLGxlLm9wdGlvbj0hIXhlLmxhc3RDaGlsZDt2YXIga2U9e3RoZWFkOlsxLFwiPHRhYmxlPlwiLFwiPC90YWJsZT5cIl0sY29sOlsyLFwiPHRhYmxlPjxjb2xncm91cD5cIixcIjwvY29sZ3JvdXA+PC90YWJsZT5cIl0sdHI6WzIsXCI8dGFibGU+PHRib2R5PlwiLFwiPC90Ym9keT48L3RhYmxlPlwiXSx0ZDpbMyxcIjx0YWJsZT48dGJvZHk+PHRyPlwiLFwiPC90cj48L3Rib2R5PjwvdGFibGU+XCJdLF9kZWZhdWx0OlswLFwiXCIsXCJcIl19O2Z1bmN0aW9uIFNlKGUsdCl7dmFyIG47cmV0dXJuIG49XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGUuZ2V0RWxlbWVudHNCeVRhZ05hbWU/ZS5nZXRFbGVtZW50c0J5VGFnTmFtZSh0fHxcIipcIik6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGUucXVlcnlTZWxlY3RvckFsbD9lLnF1ZXJ5U2VsZWN0b3JBbGwodHx8XCIqXCIpOltdLHZvaWQgMD09PXR8fHQmJmZlKGUsdCk/Y2UubWVyZ2UoW2VdLG4pOm59ZnVuY3Rpb24gRWUoZSx0KXtmb3IodmFyIG49MCxyPWUubGVuZ3RoO248cjtuKyspXy5zZXQoZVtuXSxcImdsb2JhbEV2YWxcIiwhdHx8Xy5nZXQodFtuXSxcImdsb2JhbEV2YWxcIikpfWtlLnRib2R5PWtlLnRmb290PWtlLmNvbGdyb3VwPWtlLmNhcHRpb249a2UudGhlYWQsa2UudGg9a2UudGQsbGUub3B0aW9ufHwoa2Uub3B0Z3JvdXA9a2Uub3B0aW9uPVsxLFwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPlwiLFwiPC9zZWxlY3Q+XCJdKTt2YXIgamU9Lzx8JiM/XFx3KzsvO2Z1bmN0aW9uIEFlKGUsdCxuLHIsaSl7Zm9yKHZhciBvLGEscyx1LGwsYyxmPXQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLHA9W10sZD0wLGg9ZS5sZW5ndGg7ZDxoO2QrKylpZigobz1lW2RdKXx8MD09PW8paWYoXCJvYmplY3RcIj09PXgobykpY2UubWVyZ2UocCxvLm5vZGVUeXBlP1tvXTpvKTtlbHNlIGlmKGplLnRlc3Qobykpe2E9YXx8Zi5hcHBlbmRDaGlsZCh0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLHM9KFRlLmV4ZWMobyl8fFtcIlwiLFwiXCJdKVsxXS50b0xvd2VyQ2FzZSgpLHU9a2Vbc118fGtlLl9kZWZhdWx0LGEuaW5uZXJIVE1MPXVbMV0rY2UuaHRtbFByZWZpbHRlcihvKSt1WzJdLGM9dVswXTt3aGlsZShjLS0pYT1hLmxhc3RDaGlsZDtjZS5tZXJnZShwLGEuY2hpbGROb2RlcyksKGE9Zi5maXJzdENoaWxkKS50ZXh0Q29udGVudD1cIlwifWVsc2UgcC5wdXNoKHQuY3JlYXRlVGV4dE5vZGUobykpO2YudGV4dENvbnRlbnQ9XCJcIixkPTA7d2hpbGUobz1wW2QrK10paWYociYmLTE8Y2UuaW5BcnJheShvLHIpKWkmJmkucHVzaChvKTtlbHNlIGlmKGw9SyhvKSxhPVNlKGYuYXBwZW5kQ2hpbGQobyksXCJzY3JpcHRcIiksbCYmRWUoYSksbil7Yz0wO3doaWxlKG89YVtjKytdKUNlLnRlc3Qoby50eXBlfHxcIlwiKSYmbi5wdXNoKG8pfXJldHVybiBmfXZhciBEZT0vXihbXi5dKikoPzpcXC4oLispfCkvO2Z1bmN0aW9uIE5lKCl7cmV0dXJuITB9ZnVuY3Rpb24gcWUoKXtyZXR1cm4hMX1mdW5jdGlvbiBMZShlLHQsbixyLGksbyl7dmFyIGEscztpZihcIm9iamVjdFwiPT10eXBlb2YgdCl7Zm9yKHMgaW5cInN0cmluZ1wiIT10eXBlb2YgbiYmKHI9cnx8bixuPXZvaWQgMCksdClMZShlLHMsbixyLHRbc10sbyk7cmV0dXJuIGV9aWYobnVsbD09ciYmbnVsbD09aT8oaT1uLHI9bj12b2lkIDApOm51bGw9PWkmJihcInN0cmluZ1wiPT10eXBlb2Ygbj8oaT1yLHI9dm9pZCAwKTooaT1yLHI9bixuPXZvaWQgMCkpLCExPT09aSlpPXFlO2Vsc2UgaWYoIWkpcmV0dXJuIGU7cmV0dXJuIDE9PT1vJiYoYT1pLChpPWZ1bmN0aW9uKGUpe3JldHVybiBjZSgpLm9mZihlKSxhLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pLmd1aWQ9YS5ndWlkfHwoYS5ndWlkPWNlLmd1aWQrKykpLGUuZWFjaChmdW5jdGlvbigpe2NlLmV2ZW50LmFkZCh0aGlzLHQsaSxyLG4pfSl9ZnVuY3Rpb24gSGUoZSxyLHQpe3Q/KF8uc2V0KGUsciwhMSksY2UuZXZlbnQuYWRkKGUscix7bmFtZXNwYWNlOiExLGhhbmRsZXI6ZnVuY3Rpb24oZSl7dmFyIHQsbj1fLmdldCh0aGlzLHIpO2lmKDEmZS5pc1RyaWdnZXImJnRoaXNbcl0pe2lmKG4pKGNlLmV2ZW50LnNwZWNpYWxbcl18fHt9KS5kZWxlZ2F0ZVR5cGUmJmUuc3RvcFByb3BhZ2F0aW9uKCk7ZWxzZSBpZihuPWFlLmNhbGwoYXJndW1lbnRzKSxfLnNldCh0aGlzLHIsbiksdGhpc1tyXSgpLHQ9Xy5nZXQodGhpcyxyKSxfLnNldCh0aGlzLHIsITEpLG4hPT10KXJldHVybiBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLGUucHJldmVudERlZmF1bHQoKSx0fWVsc2UgbiYmKF8uc2V0KHRoaXMscixjZS5ldmVudC50cmlnZ2VyKG5bMF0sbi5zbGljZSgxKSx0aGlzKSksZS5zdG9wUHJvcGFnYXRpb24oKSxlLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkPU5lKX19KSk6dm9pZCAwPT09Xy5nZXQoZSxyKSYmY2UuZXZlbnQuYWRkKGUscixOZSl9Y2UuZXZlbnQ9e2dsb2JhbDp7fSxhZGQ6ZnVuY3Rpb24odCxlLG4scixpKXt2YXIgbyxhLHMsdSxsLGMsZixwLGQsaCxnLHY9Xy5nZXQodCk7aWYoJCh0KSl7bi5oYW5kbGVyJiYobj0obz1uKS5oYW5kbGVyLGk9by5zZWxlY3RvciksaSYmY2UuZmluZC5tYXRjaGVzU2VsZWN0b3IoSixpKSxuLmd1aWR8fChuLmd1aWQ9Y2UuZ3VpZCsrKSwodT12LmV2ZW50cyl8fCh1PXYuZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCkpLChhPXYuaGFuZGxlKXx8KGE9di5oYW5kbGU9ZnVuY3Rpb24oZSl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNlJiZjZS5ldmVudC50cmlnZ2VyZWQhPT1lLnR5cGU/Y2UuZXZlbnQuZGlzcGF0Y2guYXBwbHkodCxhcmd1bWVudHMpOnZvaWQgMH0pLGw9KGU9KGV8fFwiXCIpLm1hdGNoKEQpfHxbXCJcIl0pLmxlbmd0aDt3aGlsZShsLS0pZD1nPShzPURlLmV4ZWMoZVtsXSl8fFtdKVsxXSxoPShzWzJdfHxcIlwiKS5zcGxpdChcIi5cIikuc29ydCgpLGQmJihmPWNlLmV2ZW50LnNwZWNpYWxbZF18fHt9LGQ9KGk/Zi5kZWxlZ2F0ZVR5cGU6Zi5iaW5kVHlwZSl8fGQsZj1jZS5ldmVudC5zcGVjaWFsW2RdfHx7fSxjPWNlLmV4dGVuZCh7dHlwZTpkLG9yaWdUeXBlOmcsZGF0YTpyLGhhbmRsZXI6bixndWlkOm4uZ3VpZCxzZWxlY3RvcjppLG5lZWRzQ29udGV4dDppJiZjZS5leHByLm1hdGNoLm5lZWRzQ29udGV4dC50ZXN0KGkpLG5hbWVzcGFjZTpoLmpvaW4oXCIuXCIpfSxvKSwocD11W2RdKXx8KChwPXVbZF09W10pLmRlbGVnYXRlQ291bnQ9MCxmLnNldHVwJiYhMSE9PWYuc2V0dXAuY2FsbCh0LHIsaCxhKXx8dC5hZGRFdmVudExpc3RlbmVyJiZ0LmFkZEV2ZW50TGlzdGVuZXIoZCxhKSksZi5hZGQmJihmLmFkZC5jYWxsKHQsYyksYy5oYW5kbGVyLmd1aWR8fChjLmhhbmRsZXIuZ3VpZD1uLmd1aWQpKSxpP3Auc3BsaWNlKHAuZGVsZWdhdGVDb3VudCsrLDAsYyk6cC5wdXNoKGMpLGNlLmV2ZW50Lmdsb2JhbFtkXT0hMCl9fSxyZW1vdmU6ZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgbyxhLHMsdSxsLGMsZixwLGQsaCxnLHY9Xy5oYXNEYXRhKGUpJiZfLmdldChlKTtpZih2JiYodT12LmV2ZW50cykpe2w9KHQ9KHR8fFwiXCIpLm1hdGNoKEQpfHxbXCJcIl0pLmxlbmd0aDt3aGlsZShsLS0paWYoZD1nPShzPURlLmV4ZWModFtsXSl8fFtdKVsxXSxoPShzWzJdfHxcIlwiKS5zcGxpdChcIi5cIikuc29ydCgpLGQpe2Y9Y2UuZXZlbnQuc3BlY2lhbFtkXXx8e30scD11W2Q9KHI/Zi5kZWxlZ2F0ZVR5cGU6Zi5iaW5kVHlwZSl8fGRdfHxbXSxzPXNbMl0mJm5ldyBSZWdFeHAoXCIoXnxcXFxcLilcIitoLmpvaW4oXCJcXFxcLig/Oi4qXFxcXC58KVwiKStcIihcXFxcLnwkKVwiKSxhPW89cC5sZW5ndGg7d2hpbGUoby0tKWM9cFtvXSwhaSYmZyE9PWMub3JpZ1R5cGV8fG4mJm4uZ3VpZCE9PWMuZ3VpZHx8cyYmIXMudGVzdChjLm5hbWVzcGFjZSl8fHImJnIhPT1jLnNlbGVjdG9yJiYoXCIqKlwiIT09cnx8IWMuc2VsZWN0b3IpfHwocC5zcGxpY2UobywxKSxjLnNlbGVjdG9yJiZwLmRlbGVnYXRlQ291bnQtLSxmLnJlbW92ZSYmZi5yZW1vdmUuY2FsbChlLGMpKTthJiYhcC5sZW5ndGgmJihmLnRlYXJkb3duJiYhMSE9PWYudGVhcmRvd24uY2FsbChlLGgsdi5oYW5kbGUpfHxjZS5yZW1vdmVFdmVudChlLGQsdi5oYW5kbGUpLGRlbGV0ZSB1W2RdKX1lbHNlIGZvcihkIGluIHUpY2UuZXZlbnQucmVtb3ZlKGUsZCt0W2xdLG4sciwhMCk7Y2UuaXNFbXB0eU9iamVjdCh1KSYmXy5yZW1vdmUoZSxcImhhbmRsZSBldmVudHNcIil9fSxkaXNwYXRjaDpmdW5jdGlvbihlKXt2YXIgdCxuLHIsaSxvLGEscz1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCksdT1jZS5ldmVudC5maXgoZSksbD0oXy5nZXQodGhpcyxcImV2ZW50c1wiKXx8T2JqZWN0LmNyZWF0ZShudWxsKSlbdS50eXBlXXx8W10sYz1jZS5ldmVudC5zcGVjaWFsW3UudHlwZV18fHt9O2ZvcihzWzBdPXUsdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspc1t0XT1hcmd1bWVudHNbdF07aWYodS5kZWxlZ2F0ZVRhcmdldD10aGlzLCFjLnByZURpc3BhdGNofHwhMSE9PWMucHJlRGlzcGF0Y2guY2FsbCh0aGlzLHUpKXthPWNlLmV2ZW50LmhhbmRsZXJzLmNhbGwodGhpcyx1LGwpLHQ9MDt3aGlsZSgoaT1hW3QrK10pJiYhdS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKXt1LmN1cnJlbnRUYXJnZXQ9aS5lbGVtLG49MDt3aGlsZSgobz1pLmhhbmRsZXJzW24rK10pJiYhdS5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpKXUucm5hbWVzcGFjZSYmITEhPT1vLm5hbWVzcGFjZSYmIXUucm5hbWVzcGFjZS50ZXN0KG8ubmFtZXNwYWNlKXx8KHUuaGFuZGxlT2JqPW8sdS5kYXRhPW8uZGF0YSx2b2lkIDAhPT0ocj0oKGNlLmV2ZW50LnNwZWNpYWxbby5vcmlnVHlwZV18fHt9KS5oYW5kbGV8fG8uaGFuZGxlcikuYXBwbHkoaS5lbGVtLHMpKSYmITE9PT0odS5yZXN1bHQ9cikmJih1LnByZXZlbnREZWZhdWx0KCksdS5zdG9wUHJvcGFnYXRpb24oKSkpfXJldHVybiBjLnBvc3REaXNwYXRjaCYmYy5wb3N0RGlzcGF0Y2guY2FsbCh0aGlzLHUpLHUucmVzdWx0fX0saGFuZGxlcnM6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbyxhLHM9W10sdT10LmRlbGVnYXRlQ291bnQsbD1lLnRhcmdldDtpZih1JiZsLm5vZGVUeXBlJiYhKFwiY2xpY2tcIj09PWUudHlwZSYmMTw9ZS5idXR0b24pKWZvcig7bCE9PXRoaXM7bD1sLnBhcmVudE5vZGV8fHRoaXMpaWYoMT09PWwubm9kZVR5cGUmJihcImNsaWNrXCIhPT1lLnR5cGV8fCEwIT09bC5kaXNhYmxlZCkpe2ZvcihvPVtdLGE9e30sbj0wO248dTtuKyspdm9pZCAwPT09YVtpPShyPXRbbl0pLnNlbGVjdG9yK1wiIFwiXSYmKGFbaV09ci5uZWVkc0NvbnRleHQ/LTE8Y2UoaSx0aGlzKS5pbmRleChsKTpjZS5maW5kKGksdGhpcyxudWxsLFtsXSkubGVuZ3RoKSxhW2ldJiZvLnB1c2gocik7by5sZW5ndGgmJnMucHVzaCh7ZWxlbTpsLGhhbmRsZXJzOm99KX1yZXR1cm4gbD10aGlzLHU8dC5sZW5ndGgmJnMucHVzaCh7ZWxlbTpsLGhhbmRsZXJzOnQuc2xpY2UodSl9KSxzfSxhZGRQcm9wOmZ1bmN0aW9uKHQsZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGNlLkV2ZW50LnByb3RvdHlwZSx0LHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCxnZXQ6dihlKT9mdW5jdGlvbigpe2lmKHRoaXMub3JpZ2luYWxFdmVudClyZXR1cm4gZSh0aGlzLm9yaWdpbmFsRXZlbnQpfTpmdW5jdGlvbigpe2lmKHRoaXMub3JpZ2luYWxFdmVudClyZXR1cm4gdGhpcy5vcmlnaW5hbEV2ZW50W3RdfSxzZXQ6ZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsdCx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6ZX0pfX0pfSxmaXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbY2UuZXhwYW5kb10/ZTpuZXcgY2UuRXZlbnQoZSl9LHNwZWNpYWw6e2xvYWQ6e25vQnViYmxlOiEwfSxjbGljazp7c2V0dXA6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpc3x8ZTtyZXR1cm4gd2UudGVzdCh0LnR5cGUpJiZ0LmNsaWNrJiZmZSh0LFwiaW5wdXRcIikmJkhlKHQsXCJjbGlja1wiLCEwKSwhMX0sdHJpZ2dlcjpmdW5jdGlvbihlKXt2YXIgdD10aGlzfHxlO3JldHVybiB3ZS50ZXN0KHQudHlwZSkmJnQuY2xpY2smJmZlKHQsXCJpbnB1dFwiKSYmSGUodCxcImNsaWNrXCIpLCEwfSxfZGVmYXVsdDpmdW5jdGlvbihlKXt2YXIgdD1lLnRhcmdldDtyZXR1cm4gd2UudGVzdCh0LnR5cGUpJiZ0LmNsaWNrJiZmZSh0LFwiaW5wdXRcIikmJl8uZ2V0KHQsXCJjbGlja1wiKXx8ZmUodCxcImFcIil9fSxiZWZvcmV1bmxvYWQ6e3Bvc3REaXNwYXRjaDpmdW5jdGlvbihlKXt2b2lkIDAhPT1lLnJlc3VsdCYmZS5vcmlnaW5hbEV2ZW50JiYoZS5vcmlnaW5hbEV2ZW50LnJldHVyblZhbHVlPWUucmVzdWx0KX19fX0sY2UucmVtb3ZlRXZlbnQ9ZnVuY3Rpb24oZSx0LG4pe2UucmVtb3ZlRXZlbnRMaXN0ZW5lciYmZS5yZW1vdmVFdmVudExpc3RlbmVyKHQsbil9LGNlLkV2ZW50PWZ1bmN0aW9uKGUsdCl7aWYoISh0aGlzIGluc3RhbmNlb2YgY2UuRXZlbnQpKXJldHVybiBuZXcgY2UuRXZlbnQoZSx0KTtlJiZlLnR5cGU/KHRoaXMub3JpZ2luYWxFdmVudD1lLHRoaXMudHlwZT1lLnR5cGUsdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9ZS5kZWZhdWx0UHJldmVudGVkfHx2b2lkIDA9PT1lLmRlZmF1bHRQcmV2ZW50ZWQmJiExPT09ZS5yZXR1cm5WYWx1ZT9OZTpxZSx0aGlzLnRhcmdldD1lLnRhcmdldCYmMz09PWUudGFyZ2V0Lm5vZGVUeXBlP2UudGFyZ2V0LnBhcmVudE5vZGU6ZS50YXJnZXQsdGhpcy5jdXJyZW50VGFyZ2V0PWUuY3VycmVudFRhcmdldCx0aGlzLnJlbGF0ZWRUYXJnZXQ9ZS5yZWxhdGVkVGFyZ2V0KTp0aGlzLnR5cGU9ZSx0JiZjZS5leHRlbmQodGhpcyx0KSx0aGlzLnRpbWVTdGFtcD1lJiZlLnRpbWVTdGFtcHx8RGF0ZS5ub3coKSx0aGlzW2NlLmV4cGFuZG9dPSEwfSxjZS5FdmVudC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmNlLkV2ZW50LGlzRGVmYXVsdFByZXZlbnRlZDpxZSxpc1Byb3BhZ2F0aW9uU3RvcHBlZDpxZSxpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZDpxZSxpc1NpbXVsYXRlZDohMSxwcmV2ZW50RGVmYXVsdDpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzRGVmYXVsdFByZXZlbnRlZD1OZSxlJiYhdGhpcy5pc1NpbXVsYXRlZCYmZS5wcmV2ZW50RGVmYXVsdCgpfSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc1Byb3BhZ2F0aW9uU3RvcHBlZD1OZSxlJiYhdGhpcy5pc1NpbXVsYXRlZCYmZS5zdG9wUHJvcGFnYXRpb24oKX0sc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9TmUsZSYmIXRoaXMuaXNTaW11bGF0ZWQmJmUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksdGhpcy5zdG9wUHJvcGFnYXRpb24oKX19LGNlLmVhY2goe2FsdEtleTohMCxidWJibGVzOiEwLGNhbmNlbGFibGU6ITAsY2hhbmdlZFRvdWNoZXM6ITAsY3RybEtleTohMCxkZXRhaWw6ITAsZXZlbnRQaGFzZTohMCxtZXRhS2V5OiEwLHBhZ2VYOiEwLHBhZ2VZOiEwLHNoaWZ0S2V5OiEwLHZpZXc6ITAsXCJjaGFyXCI6ITAsY29kZTohMCxjaGFyQ29kZTohMCxrZXk6ITAsa2V5Q29kZTohMCxidXR0b246ITAsYnV0dG9uczohMCxjbGllbnRYOiEwLGNsaWVudFk6ITAsb2Zmc2V0WDohMCxvZmZzZXRZOiEwLHBvaW50ZXJJZDohMCxwb2ludGVyVHlwZTohMCxzY3JlZW5YOiEwLHNjcmVlblk6ITAsdGFyZ2V0VG91Y2hlczohMCx0b0VsZW1lbnQ6ITAsdG91Y2hlczohMCx3aGljaDohMH0sY2UuZXZlbnQuYWRkUHJvcCksY2UuZWFjaCh7Zm9jdXM6XCJmb2N1c2luXCIsYmx1cjpcImZvY3Vzb3V0XCJ9LGZ1bmN0aW9uKHIsaSl7ZnVuY3Rpb24gbyhlKXtpZihDLmRvY3VtZW50TW9kZSl7dmFyIHQ9Xy5nZXQodGhpcyxcImhhbmRsZVwiKSxuPWNlLmV2ZW50LmZpeChlKTtuLnR5cGU9XCJmb2N1c2luXCI9PT1lLnR5cGU/XCJmb2N1c1wiOlwiYmx1clwiLG4uaXNTaW11bGF0ZWQ9ITAsdChlKSxuLnRhcmdldD09PW4uY3VycmVudFRhcmdldCYmdChuKX1lbHNlIGNlLmV2ZW50LnNpbXVsYXRlKGksZS50YXJnZXQsY2UuZXZlbnQuZml4KGUpKX1jZS5ldmVudC5zcGVjaWFsW3JdPXtzZXR1cDpmdW5jdGlvbigpe3ZhciBlO2lmKEhlKHRoaXMsciwhMCksIUMuZG9jdW1lbnRNb2RlKXJldHVybiExOyhlPV8uZ2V0KHRoaXMsaSkpfHx0aGlzLmFkZEV2ZW50TGlzdGVuZXIoaSxvKSxfLnNldCh0aGlzLGksKGV8fDApKzEpfSx0cmlnZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuIEhlKHRoaXMsciksITB9LHRlYXJkb3duOmZ1bmN0aW9uKCl7dmFyIGU7aWYoIUMuZG9jdW1lbnRNb2RlKXJldHVybiExOyhlPV8uZ2V0KHRoaXMsaSktMSk/Xy5zZXQodGhpcyxpLGUpOih0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoaSxvKSxfLnJlbW92ZSh0aGlzLGkpKX0sX2RlZmF1bHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIF8uZ2V0KGUudGFyZ2V0LHIpfSxkZWxlZ2F0ZVR5cGU6aX0sY2UuZXZlbnQuc3BlY2lhbFtpXT17c2V0dXA6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMuZG9jdW1lbnR8fHRoaXMsdD1DLmRvY3VtZW50TW9kZT90aGlzOmUsbj1fLmdldCh0LGkpO258fChDLmRvY3VtZW50TW9kZT90aGlzLmFkZEV2ZW50TGlzdGVuZXIoaSxvKTplLmFkZEV2ZW50TGlzdGVuZXIocixvLCEwKSksXy5zZXQodCxpLChufHwwKSsxKX0sdGVhcmRvd246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMuZG9jdW1lbnR8fHRoaXMsdD1DLmRvY3VtZW50TW9kZT90aGlzOmUsbj1fLmdldCh0LGkpLTE7bj9fLnNldCh0LGksbik6KEMuZG9jdW1lbnRNb2RlP3RoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihpLG8pOmUucmVtb3ZlRXZlbnRMaXN0ZW5lcihyLG8sITApLF8ucmVtb3ZlKHQsaSkpfX19KSxjZS5lYWNoKHttb3VzZWVudGVyOlwibW91c2VvdmVyXCIsbW91c2VsZWF2ZTpcIm1vdXNlb3V0XCIscG9pbnRlcmVudGVyOlwicG9pbnRlcm92ZXJcIixwb2ludGVybGVhdmU6XCJwb2ludGVyb3V0XCJ9LGZ1bmN0aW9uKGUsaSl7Y2UuZXZlbnQuc3BlY2lhbFtlXT17ZGVsZWdhdGVUeXBlOmksYmluZFR5cGU6aSxoYW5kbGU6ZnVuY3Rpb24oZSl7dmFyIHQsbj1lLnJlbGF0ZWRUYXJnZXQscj1lLmhhbmRsZU9iajtyZXR1cm4gbiYmKG49PT10aGlzfHxjZS5jb250YWlucyh0aGlzLG4pKXx8KGUudHlwZT1yLm9yaWdUeXBlLHQ9ci5oYW5kbGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxlLnR5cGU9aSksdH19fSksY2UuZm4uZXh0ZW5kKHtvbjpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gTGUodGhpcyxlLHQsbixyKX0sb25lOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBMZSh0aGlzLGUsdCxuLHIsMSl9LG9mZjpmdW5jdGlvbihlLHQsbil7dmFyIHIsaTtpZihlJiZlLnByZXZlbnREZWZhdWx0JiZlLmhhbmRsZU9iailyZXR1cm4gcj1lLmhhbmRsZU9iaixjZShlLmRlbGVnYXRlVGFyZ2V0KS5vZmYoci5uYW1lc3BhY2U/ci5vcmlnVHlwZStcIi5cIityLm5hbWVzcGFjZTpyLm9yaWdUeXBlLHIuc2VsZWN0b3Isci5oYW5kbGVyKSx0aGlzO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBlKXtmb3IoaSBpbiBlKXRoaXMub2ZmKGksdCxlW2ldKTtyZXR1cm4gdGhpc31yZXR1cm4hMSE9PXQmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHR8fChuPXQsdD12b2lkIDApLCExPT09biYmKG49cWUpLHRoaXMuZWFjaChmdW5jdGlvbigpe2NlLmV2ZW50LnJlbW92ZSh0aGlzLGUsbix0KX0pfX0pO3ZhciBPZT0vPHNjcmlwdHw8c3R5bGV8PGxpbmsvaSxQZT0vY2hlY2tlZFxccyooPzpbXj1dfD1cXHMqLmNoZWNrZWQuKS9pLFJlPS9eXFxzKjwhXFxbQ0RBVEFcXFt8XFxdXFxdPlxccyokL2c7ZnVuY3Rpb24gTWUoZSx0KXtyZXR1cm4gZmUoZSxcInRhYmxlXCIpJiZmZSgxMSE9PXQubm9kZVR5cGU/dDp0LmZpcnN0Q2hpbGQsXCJ0clwiKSYmY2UoZSkuY2hpbGRyZW4oXCJ0Ym9keVwiKVswXXx8ZX1mdW5jdGlvbiBJZShlKXtyZXR1cm4gZS50eXBlPShudWxsIT09ZS5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpKStcIi9cIitlLnR5cGUsZX1mdW5jdGlvbiBXZShlKXtyZXR1cm5cInRydWUvXCI9PT0oZS50eXBlfHxcIlwiKS5zbGljZSgwLDUpP2UudHlwZT1lLnR5cGUuc2xpY2UoNSk6ZS5yZW1vdmVBdHRyaWJ1dGUoXCJ0eXBlXCIpLGV9ZnVuY3Rpb24gRmUoZSx0KXt2YXIgbixyLGksbyxhLHM7aWYoMT09PXQubm9kZVR5cGUpe2lmKF8uaGFzRGF0YShlKSYmKHM9Xy5nZXQoZSkuZXZlbnRzKSlmb3IoaSBpbiBfLnJlbW92ZSh0LFwiaGFuZGxlIGV2ZW50c1wiKSxzKWZvcihuPTAscj1zW2ldLmxlbmd0aDtuPHI7bisrKWNlLmV2ZW50LmFkZCh0LGksc1tpXVtuXSk7WC5oYXNEYXRhKGUpJiYobz1YLmFjY2VzcyhlKSxhPWNlLmV4dGVuZCh7fSxvKSxYLnNldCh0LGEpKX19ZnVuY3Rpb24gJGUobixyLGksbyl7cj1nKHIpO3ZhciBlLHQsYSxzLHUsbCxjPTAsZj1uLmxlbmd0aCxwPWYtMSxkPXJbMF0saD12KGQpO2lmKGh8fDE8ZiYmXCJzdHJpbmdcIj09dHlwZW9mIGQmJiFsZS5jaGVja0Nsb25lJiZQZS50ZXN0KGQpKXJldHVybiBuLmVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9bi5lcShlKTtoJiYoclswXT1kLmNhbGwodGhpcyxlLHQuaHRtbCgpKSksJGUodCxyLGksbyl9KTtpZihmJiYodD0oZT1BZShyLG5bMF0ub3duZXJEb2N1bWVudCwhMSxuLG8pKS5maXJzdENoaWxkLDE9PT1lLmNoaWxkTm9kZXMubGVuZ3RoJiYoZT10KSx0fHxvKSl7Zm9yKHM9KGE9Y2UubWFwKFNlKGUsXCJzY3JpcHRcIiksSWUpKS5sZW5ndGg7YzxmO2MrKyl1PWUsYyE9PXAmJih1PWNlLmNsb25lKHUsITAsITApLHMmJmNlLm1lcmdlKGEsU2UodSxcInNjcmlwdFwiKSkpLGkuY2FsbChuW2NdLHUsYyk7aWYocylmb3IobD1hW2EubGVuZ3RoLTFdLm93bmVyRG9jdW1lbnQsY2UubWFwKGEsV2UpLGM9MDtjPHM7YysrKXU9YVtjXSxDZS50ZXN0KHUudHlwZXx8XCJcIikmJiFfLmFjY2Vzcyh1LFwiZ2xvYmFsRXZhbFwiKSYmY2UuY29udGFpbnMobCx1KSYmKHUuc3JjJiZcIm1vZHVsZVwiIT09KHUudHlwZXx8XCJcIikudG9Mb3dlckNhc2UoKT9jZS5fZXZhbFVybCYmIXUubm9Nb2R1bGUmJmNlLl9ldmFsVXJsKHUuc3JjLHtub25jZTp1Lm5vbmNlfHx1LmdldEF0dHJpYnV0ZShcIm5vbmNlXCIpfSxsKTptKHUudGV4dENvbnRlbnQucmVwbGFjZShSZSxcIlwiKSx1LGwpKX1yZXR1cm4gbn1mdW5jdGlvbiBCZShlLHQsbil7Zm9yKHZhciByLGk9dD9jZS5maWx0ZXIodCxlKTplLG89MDtudWxsIT0ocj1pW29dKTtvKyspbnx8MSE9PXIubm9kZVR5cGV8fGNlLmNsZWFuRGF0YShTZShyKSksci5wYXJlbnROb2RlJiYobiYmSyhyKSYmRWUoU2UocixcInNjcmlwdFwiKSksci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHIpKTtyZXR1cm4gZX1jZS5leHRlbmQoe2h0bWxQcmVmaWx0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LGNsb25lOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzLHUsbCxjPWUuY2xvbmVOb2RlKCEwKSxmPUsoZSk7aWYoIShsZS5ub0Nsb25lQ2hlY2tlZHx8MSE9PWUubm9kZVR5cGUmJjExIT09ZS5ub2RlVHlwZXx8Y2UuaXNYTUxEb2MoZSkpKWZvcihhPVNlKGMpLHI9MCxpPShvPVNlKGUpKS5sZW5ndGg7cjxpO3IrKylzPW9bcl0sdT1hW3JdLHZvaWQgMCxcImlucHV0XCI9PT0obD11Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpJiZ3ZS50ZXN0KHMudHlwZSk/dS5jaGVja2VkPXMuY2hlY2tlZDpcImlucHV0XCIhPT1sJiZcInRleHRhcmVhXCIhPT1sfHwodS5kZWZhdWx0VmFsdWU9cy5kZWZhdWx0VmFsdWUpO2lmKHQpaWYobilmb3Iobz1vfHxTZShlKSxhPWF8fFNlKGMpLHI9MCxpPW8ubGVuZ3RoO3I8aTtyKyspRmUob1tyXSxhW3JdKTtlbHNlIEZlKGUsYyk7cmV0dXJuIDA8KGE9U2UoYyxcInNjcmlwdFwiKSkubGVuZ3RoJiZFZShhLCFmJiZTZShlLFwic2NyaXB0XCIpKSxjfSxjbGVhbkRhdGE6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG4scixpPWNlLmV2ZW50LnNwZWNpYWwsbz0wO3ZvaWQgMCE9PShuPWVbb10pO28rKylpZigkKG4pKXtpZih0PW5bXy5leHBhbmRvXSl7aWYodC5ldmVudHMpZm9yKHIgaW4gdC5ldmVudHMpaVtyXT9jZS5ldmVudC5yZW1vdmUobixyKTpjZS5yZW1vdmVFdmVudChuLHIsdC5oYW5kbGUpO25bXy5leHBhbmRvXT12b2lkIDB9bltYLmV4cGFuZG9dJiYobltYLmV4cGFuZG9dPXZvaWQgMCl9fX0pLGNlLmZuLmV4dGVuZCh7ZGV0YWNoOmZ1bmN0aW9uKGUpe3JldHVybiBCZSh0aGlzLGUsITApfSxyZW1vdmU6ZnVuY3Rpb24oZSl7cmV0dXJuIEJlKHRoaXMsZSl9LHRleHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIFIodGhpcyxmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZT9jZS50ZXh0KHRoaXMpOnRoaXMuZW1wdHkoKS5lYWNoKGZ1bmN0aW9uKCl7MSE9PXRoaXMubm9kZVR5cGUmJjExIT09dGhpcy5ub2RlVHlwZSYmOSE9PXRoaXMubm9kZVR5cGV8fCh0aGlzLnRleHRDb250ZW50PWUpfSl9LG51bGwsZSxhcmd1bWVudHMubGVuZ3RoKX0sYXBwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuICRlKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGUpezEhPT10aGlzLm5vZGVUeXBlJiYxMSE9PXRoaXMubm9kZVR5cGUmJjkhPT10aGlzLm5vZGVUeXBlfHxNZSh0aGlzLGUpLmFwcGVuZENoaWxkKGUpfSl9LHByZXBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gJGUodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oZSl7aWYoMT09PXRoaXMubm9kZVR5cGV8fDExPT09dGhpcy5ub2RlVHlwZXx8OT09PXRoaXMubm9kZVR5cGUpe3ZhciB0PU1lKHRoaXMsZSk7dC5pbnNlcnRCZWZvcmUoZSx0LmZpcnN0Q2hpbGQpfX0pfSxiZWZvcmU6ZnVuY3Rpb24oKXtyZXR1cm4gJGUodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oZSl7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsdGhpcyl9KX0sYWZ0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gJGUodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oZSl7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsdGhpcy5uZXh0U2libGluZyl9KX0sZW1wdHk6ZnVuY3Rpb24oKXtmb3IodmFyIGUsdD0wO251bGwhPShlPXRoaXNbdF0pO3QrKykxPT09ZS5ub2RlVHlwZSYmKGNlLmNsZWFuRGF0YShTZShlLCExKSksZS50ZXh0Q29udGVudD1cIlwiKTtyZXR1cm4gdGhpc30sY2xvbmU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT1udWxsIT1lJiZlLHQ9bnVsbD09dD9lOnQsdGhpcy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gY2UuY2xvbmUodGhpcyxlLHQpfSl9LGh0bWw6ZnVuY3Rpb24oZSl7cmV0dXJuIFIodGhpcyxmdW5jdGlvbihlKXt2YXIgdD10aGlzWzBdfHx7fSxuPTAscj10aGlzLmxlbmd0aDtpZih2b2lkIDA9PT1lJiYxPT09dC5ub2RlVHlwZSlyZXR1cm4gdC5pbm5lckhUTUw7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUmJiFPZS50ZXN0KGUpJiYha2VbKFRlLmV4ZWMoZSl8fFtcIlwiLFwiXCJdKVsxXS50b0xvd2VyQ2FzZSgpXSl7ZT1jZS5odG1sUHJlZmlsdGVyKGUpO3RyeXtmb3IoO248cjtuKyspMT09PSh0PXRoaXNbbl18fHt9KS5ub2RlVHlwZSYmKGNlLmNsZWFuRGF0YShTZSh0LCExKSksdC5pbm5lckhUTUw9ZSk7dD0wfWNhdGNoKGUpe319dCYmdGhpcy5lbXB0eSgpLmFwcGVuZChlKX0sbnVsbCxlLGFyZ3VtZW50cy5sZW5ndGgpfSxyZXBsYWNlV2l0aDpmdW5jdGlvbigpe3ZhciBuPVtdO3JldHVybiAkZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXt2YXIgdD10aGlzLnBhcmVudE5vZGU7Y2UuaW5BcnJheSh0aGlzLG4pPDAmJihjZS5jbGVhbkRhdGEoU2UodGhpcykpLHQmJnQucmVwbGFjZUNoaWxkKGUsdGhpcykpfSxuKX19KSxjZS5lYWNoKHthcHBlbmRUbzpcImFwcGVuZFwiLHByZXBlbmRUbzpcInByZXBlbmRcIixpbnNlcnRCZWZvcmU6XCJiZWZvcmVcIixpbnNlcnRBZnRlcjpcImFmdGVyXCIscmVwbGFjZUFsbDpcInJlcGxhY2VXaXRoXCJ9LGZ1bmN0aW9uKGUsYSl7Y2UuZm5bZV09ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49W10scj1jZShlKSxpPXIubGVuZ3RoLTEsbz0wO288PWk7bysrKXQ9bz09PWk/dGhpczp0aGlzLmNsb25lKCEwKSxjZShyW29dKVthXSh0KSxzLmFwcGx5KG4sdC5nZXQoKSk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKG4pfX0pO3ZhciBfZT1uZXcgUmVnRXhwKFwiXihcIitHK1wiKSg/IXB4KVthLXolXSskXCIsXCJpXCIpLFhlPS9eLS0vLFVlPWZ1bmN0aW9uKGUpe3ZhciB0PWUub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldztyZXR1cm4gdCYmdC5vcGVuZXJ8fCh0PWllKSx0LmdldENvbXB1dGVkU3R5bGUoZSl9LHplPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89e307Zm9yKGkgaW4gdClvW2ldPWUuc3R5bGVbaV0sZS5zdHlsZVtpXT10W2ldO2ZvcihpIGluIHI9bi5jYWxsKGUpLHQpZS5zdHlsZVtpXT1vW2ldO3JldHVybiByfSxWZT1uZXcgUmVnRXhwKFEuam9pbihcInxcIiksXCJpXCIpO2Z1bmN0aW9uIEdlKGUsdCxuKXt2YXIgcixpLG8sYSxzPVhlLnRlc3QodCksdT1lLnN0eWxlO3JldHVybihuPW58fFVlKGUpKSYmKGE9bi5nZXRQcm9wZXJ0eVZhbHVlKHQpfHxuW3RdLHMmJmEmJihhPWEucmVwbGFjZSh2ZSxcIiQxXCIpfHx2b2lkIDApLFwiXCIhPT1hfHxLKGUpfHwoYT1jZS5zdHlsZShlLHQpKSwhbGUucGl4ZWxCb3hTdHlsZXMoKSYmX2UudGVzdChhKSYmVmUudGVzdCh0KSYmKHI9dS53aWR0aCxpPXUubWluV2lkdGgsbz11Lm1heFdpZHRoLHUubWluV2lkdGg9dS5tYXhXaWR0aD11LndpZHRoPWEsYT1uLndpZHRoLHUud2lkdGg9cix1Lm1pbldpZHRoPWksdS5tYXhXaWR0aD1vKSksdm9pZCAwIT09YT9hK1wiXCI6YX1mdW5jdGlvbiBZZShlLHQpe3JldHVybntnZXQ6ZnVuY3Rpb24oKXtpZighZSgpKXJldHVybih0aGlzLmdldD10KS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7ZGVsZXRlIHRoaXMuZ2V0fX19IWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe2lmKGwpe3Uuc3R5bGUuY3NzVGV4dD1cInBvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTExMTExcHg7d2lkdGg6NjBweDttYXJnaW4tdG9wOjFweDtwYWRkaW5nOjA7Ym9yZGVyOjBcIixsLnN0eWxlLmNzc1RleHQ9XCJwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmJsb2NrO2JveC1zaXppbmc6Ym9yZGVyLWJveDtvdmVyZmxvdzpzY3JvbGw7bWFyZ2luOmF1dG87Ym9yZGVyOjFweDtwYWRkaW5nOjFweDt3aWR0aDo2MCU7dG9wOjElXCIsSi5hcHBlbmRDaGlsZCh1KS5hcHBlbmRDaGlsZChsKTt2YXIgZT1pZS5nZXRDb21wdXRlZFN0eWxlKGwpO249XCIxJVwiIT09ZS50b3Ascz0xMj09PXQoZS5tYXJnaW5MZWZ0KSxsLnN0eWxlLnJpZ2h0PVwiNjAlXCIsbz0zNj09PXQoZS5yaWdodCkscj0zNj09PXQoZS53aWR0aCksbC5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsaT0xMj09PXQobC5vZmZzZXRXaWR0aC8zKSxKLnJlbW92ZUNoaWxkKHUpLGw9bnVsbH19ZnVuY3Rpb24gdChlKXtyZXR1cm4gTWF0aC5yb3VuZChwYXJzZUZsb2F0KGUpKX12YXIgbixyLGksbyxhLHMsdT1DLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksbD1DLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7bC5zdHlsZSYmKGwuc3R5bGUuYmFja2dyb3VuZENsaXA9XCJjb250ZW50LWJveFwiLGwuY2xvbmVOb2RlKCEwKS5zdHlsZS5iYWNrZ3JvdW5kQ2xpcD1cIlwiLGxlLmNsZWFyQ2xvbmVTdHlsZT1cImNvbnRlbnQtYm94XCI9PT1sLnN0eWxlLmJhY2tncm91bmRDbGlwLGNlLmV4dGVuZChsZSx7Ym94U2l6aW5nUmVsaWFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLHJ9LHBpeGVsQm94U3R5bGVzOmZ1bmN0aW9uKCl7cmV0dXJuIGUoKSxvfSxwaXhlbFBvc2l0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIGUoKSxufSxyZWxpYWJsZU1hcmdpbkxlZnQ6ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLHN9LHNjcm9sbGJveFNpemU6ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLGl9LHJlbGlhYmxlVHJEaW1lbnNpb25zOmZ1bmN0aW9uKCl7dmFyIGUsdCxuLHI7cmV0dXJuIG51bGw9PWEmJihlPUMuY3JlYXRlRWxlbWVudChcInRhYmxlXCIpLHQ9Qy5jcmVhdGVFbGVtZW50KFwidHJcIiksbj1DLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksZS5zdHlsZS5jc3NUZXh0PVwicG9zaXRpb246YWJzb2x1dGU7bGVmdDotMTExMTFweDtib3JkZXItY29sbGFwc2U6c2VwYXJhdGVcIix0LnN0eWxlLmNzc1RleHQ9XCJib3JkZXI6MXB4IHNvbGlkXCIsdC5zdHlsZS5oZWlnaHQ9XCIxcHhcIixuLnN0eWxlLmhlaWdodD1cIjlweFwiLG4uc3R5bGUuZGlzcGxheT1cImJsb2NrXCIsSi5hcHBlbmRDaGlsZChlKS5hcHBlbmRDaGlsZCh0KS5hcHBlbmRDaGlsZChuKSxyPWllLmdldENvbXB1dGVkU3R5bGUodCksYT1wYXJzZUludChyLmhlaWdodCwxMCkrcGFyc2VJbnQoci5ib3JkZXJUb3BXaWR0aCwxMCkrcGFyc2VJbnQoci5ib3JkZXJCb3R0b21XaWR0aCwxMCk9PT10Lm9mZnNldEhlaWdodCxKLnJlbW92ZUNoaWxkKGUpKSxhfX0pKX0oKTt2YXIgUWU9W1wiV2Via2l0XCIsXCJNb3pcIixcIm1zXCJdLEplPUMuY3JlYXRlRWxlbWVudChcImRpdlwiKS5zdHlsZSxLZT17fTtmdW5jdGlvbiBaZShlKXt2YXIgdD1jZS5jc3NQcm9wc1tlXXx8S2VbZV07cmV0dXJuIHR8fChlIGluIEplP2U6S2VbZV09ZnVuY3Rpb24oZSl7dmFyIHQ9ZVswXS50b1VwcGVyQ2FzZSgpK2Uuc2xpY2UoMSksbj1RZS5sZW5ndGg7d2hpbGUobi0tKWlmKChlPVFlW25dK3QpaW4gSmUpcmV0dXJuIGV9KGUpfHxlKX12YXIgZXQ9L14obm9uZXx0YWJsZSg/IS1jW2VhXSkuKykvLHR0PXtwb3NpdGlvbjpcImFic29sdXRlXCIsdmlzaWJpbGl0eTpcImhpZGRlblwiLGRpc3BsYXk6XCJibG9ja1wifSxudD17bGV0dGVyU3BhY2luZzpcIjBcIixmb250V2VpZ2h0OlwiNDAwXCJ9O2Z1bmN0aW9uIHJ0KGUsdCxuKXt2YXIgcj1ZLmV4ZWModCk7cmV0dXJuIHI/TWF0aC5tYXgoMCxyWzJdLShufHwwKSkrKHJbM118fFwicHhcIik6dH1mdW5jdGlvbiBpdChlLHQsbixyLGksbyl7dmFyIGE9XCJ3aWR0aFwiPT09dD8xOjAscz0wLHU9MCxsPTA7aWYobj09PShyP1wiYm9yZGVyXCI6XCJjb250ZW50XCIpKXJldHVybiAwO2Zvcig7YTw0O2ErPTIpXCJtYXJnaW5cIj09PW4mJihsKz1jZS5jc3MoZSxuK1FbYV0sITAsaSkpLHI/KFwiY29udGVudFwiPT09biYmKHUtPWNlLmNzcyhlLFwicGFkZGluZ1wiK1FbYV0sITAsaSkpLFwibWFyZ2luXCIhPT1uJiYodS09Y2UuY3NzKGUsXCJib3JkZXJcIitRW2FdK1wiV2lkdGhcIiwhMCxpKSkpOih1Kz1jZS5jc3MoZSxcInBhZGRpbmdcIitRW2FdLCEwLGkpLFwicGFkZGluZ1wiIT09bj91Kz1jZS5jc3MoZSxcImJvcmRlclwiK1FbYV0rXCJXaWR0aFwiLCEwLGkpOnMrPWNlLmNzcyhlLFwiYm9yZGVyXCIrUVthXStcIldpZHRoXCIsITAsaSkpO3JldHVybiFyJiYwPD1vJiYodSs9TWF0aC5tYXgoMCxNYXRoLmNlaWwoZVtcIm9mZnNldFwiK3RbMF0udG9VcHBlckNhc2UoKSt0LnNsaWNlKDEpXS1vLXUtcy0uNSkpfHwwKSx1K2x9ZnVuY3Rpb24gb3QoZSx0LG4pe3ZhciByPVVlKGUpLGk9KCFsZS5ib3hTaXppbmdSZWxpYWJsZSgpfHxuKSYmXCJib3JkZXItYm94XCI9PT1jZS5jc3MoZSxcImJveFNpemluZ1wiLCExLHIpLG89aSxhPUdlKGUsdCxyKSxzPVwib2Zmc2V0XCIrdFswXS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSk7aWYoX2UudGVzdChhKSl7aWYoIW4pcmV0dXJuIGE7YT1cImF1dG9cIn1yZXR1cm4oIWxlLmJveFNpemluZ1JlbGlhYmxlKCkmJml8fCFsZS5yZWxpYWJsZVRyRGltZW5zaW9ucygpJiZmZShlLFwidHJcIil8fFwiYXV0b1wiPT09YXx8IXBhcnNlRmxvYXQoYSkmJlwiaW5saW5lXCI9PT1jZS5jc3MoZSxcImRpc3BsYXlcIiwhMSxyKSkmJmUuZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGgmJihpPVwiYm9yZGVyLWJveFwiPT09Y2UuY3NzKGUsXCJib3hTaXppbmdcIiwhMSxyKSwobz1zIGluIGUpJiYoYT1lW3NdKSksKGE9cGFyc2VGbG9hdChhKXx8MCkraXQoZSx0LG58fChpP1wiYm9yZGVyXCI6XCJjb250ZW50XCIpLG8scixhKStcInB4XCJ9ZnVuY3Rpb24gYXQoZSx0LG4scixpKXtyZXR1cm4gbmV3IGF0LnByb3RvdHlwZS5pbml0KGUsdCxuLHIsaSl9Y2UuZXh0ZW5kKHtjc3NIb29rczp7b3BhY2l0eTp7Z2V0OmZ1bmN0aW9uKGUsdCl7aWYodCl7dmFyIG49R2UoZSxcIm9wYWNpdHlcIik7cmV0dXJuXCJcIj09PW4/XCIxXCI6bn19fX0sY3NzTnVtYmVyOnthbmltYXRpb25JdGVyYXRpb25Db3VudDohMCxhc3BlY3RSYXRpbzohMCxib3JkZXJJbWFnZVNsaWNlOiEwLGNvbHVtbkNvdW50OiEwLGZsZXhHcm93OiEwLGZsZXhTaHJpbms6ITAsZm9udFdlaWdodDohMCxncmlkQXJlYTohMCxncmlkQ29sdW1uOiEwLGdyaWRDb2x1bW5FbmQ6ITAsZ3JpZENvbHVtblN0YXJ0OiEwLGdyaWRSb3c6ITAsZ3JpZFJvd0VuZDohMCxncmlkUm93U3RhcnQ6ITAsbGluZUhlaWdodDohMCxvcGFjaXR5OiEwLG9yZGVyOiEwLG9ycGhhbnM6ITAsc2NhbGU6ITAsd2lkb3dzOiEwLHpJbmRleDohMCx6b29tOiEwLGZpbGxPcGFjaXR5OiEwLGZsb29kT3BhY2l0eTohMCxzdG9wT3BhY2l0eTohMCxzdHJva2VNaXRlcmxpbWl0OiEwLHN0cm9rZU9wYWNpdHk6ITB9LGNzc1Byb3BzOnt9LHN0eWxlOmZ1bmN0aW9uKGUsdCxuLHIpe2lmKGUmJjMhPT1lLm5vZGVUeXBlJiY4IT09ZS5ub2RlVHlwZSYmZS5zdHlsZSl7dmFyIGksbyxhLHM9Rih0KSx1PVhlLnRlc3QodCksbD1lLnN0eWxlO2lmKHV8fCh0PVplKHMpKSxhPWNlLmNzc0hvb2tzW3RdfHxjZS5jc3NIb29rc1tzXSx2b2lkIDA9PT1uKXJldHVybiBhJiZcImdldFwiaW4gYSYmdm9pZCAwIT09KGk9YS5nZXQoZSwhMSxyKSk/aTpsW3RdO1wic3RyaW5nXCI9PT0obz10eXBlb2YgbikmJihpPVkuZXhlYyhuKSkmJmlbMV0mJihuPXRlKGUsdCxpKSxvPVwibnVtYmVyXCIpLG51bGwhPW4mJm49PW4mJihcIm51bWJlclwiIT09b3x8dXx8KG4rPWkmJmlbM118fChjZS5jc3NOdW1iZXJbc10/XCJcIjpcInB4XCIpKSxsZS5jbGVhckNsb25lU3R5bGV8fFwiXCIhPT1ufHwwIT09dC5pbmRleE9mKFwiYmFja2dyb3VuZFwiKXx8KGxbdF09XCJpbmhlcml0XCIpLGEmJlwic2V0XCJpbiBhJiZ2b2lkIDA9PT0obj1hLnNldChlLG4scikpfHwodT9sLnNldFByb3BlcnR5KHQsbik6bFt0XT1uKSl9fSxjc3M6ZnVuY3Rpb24oZSx0LG4scil7dmFyIGksbyxhLHM9Rih0KTtyZXR1cm4gWGUudGVzdCh0KXx8KHQ9WmUocykpLChhPWNlLmNzc0hvb2tzW3RdfHxjZS5jc3NIb29rc1tzXSkmJlwiZ2V0XCJpbiBhJiYoaT1hLmdldChlLCEwLG4pKSx2b2lkIDA9PT1pJiYoaT1HZShlLHQscikpLFwibm9ybWFsXCI9PT1pJiZ0IGluIG50JiYoaT1udFt0XSksXCJcIj09PW58fG4/KG89cGFyc2VGbG9hdChpKSwhMD09PW58fGlzRmluaXRlKG8pP298fDA6aSk6aX19KSxjZS5lYWNoKFtcImhlaWdodFwiLFwid2lkdGhcIl0sZnVuY3Rpb24oZSx1KXtjZS5jc3NIb29rc1t1XT17Z2V0OmZ1bmN0aW9uKGUsdCxuKXtpZih0KXJldHVybiFldC50ZXN0KGNlLmNzcyhlLFwiZGlzcGxheVwiKSl8fGUuZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGgmJmUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg/b3QoZSx1LG4pOnplKGUsdHQsZnVuY3Rpb24oKXtyZXR1cm4gb3QoZSx1LG4pfSl9LHNldDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaT1VZShlKSxvPSFsZS5zY3JvbGxib3hTaXplKCkmJlwiYWJzb2x1dGVcIj09PWkucG9zaXRpb24sYT0ob3x8bikmJlwiYm9yZGVyLWJveFwiPT09Y2UuY3NzKGUsXCJib3hTaXppbmdcIiwhMSxpKSxzPW4/aXQoZSx1LG4sYSxpKTowO3JldHVybiBhJiZvJiYocy09TWF0aC5jZWlsKGVbXCJvZmZzZXRcIit1WzBdLnRvVXBwZXJDYXNlKCkrdS5zbGljZSgxKV0tcGFyc2VGbG9hdChpW3VdKS1pdChlLHUsXCJib3JkZXJcIiwhMSxpKS0uNSkpLHMmJihyPVkuZXhlYyh0KSkmJlwicHhcIiE9PShyWzNdfHxcInB4XCIpJiYoZS5zdHlsZVt1XT10LHQ9Y2UuY3NzKGUsdSkpLHJ0KDAsdCxzKX19fSksY2UuY3NzSG9va3MubWFyZ2luTGVmdD1ZZShsZS5yZWxpYWJsZU1hcmdpbkxlZnQsZnVuY3Rpb24oZSx0KXtpZih0KXJldHVybihwYXJzZUZsb2F0KEdlKGUsXCJtYXJnaW5MZWZ0XCIpKXx8ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0LXplKGUse21hcmdpbkxlZnQ6MH0sZnVuY3Rpb24oKXtyZXR1cm4gZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0fSkpK1wicHhcIn0pLGNlLmVhY2goe21hcmdpbjpcIlwiLHBhZGRpbmc6XCJcIixib3JkZXI6XCJXaWR0aFwifSxmdW5jdGlvbihpLG8pe2NlLmNzc0hvb2tzW2krb109e2V4cGFuZDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxuPXt9LHI9XCJzdHJpbmdcIj09dHlwZW9mIGU/ZS5zcGxpdChcIiBcIik6W2VdO3Q8NDt0KyspbltpK1FbdF0rb109clt0XXx8clt0LTJdfHxyWzBdO3JldHVybiBufX0sXCJtYXJnaW5cIiE9PWkmJihjZS5jc3NIb29rc1tpK29dLnNldD1ydCl9KSxjZS5mbi5leHRlbmQoe2NzczpmdW5jdGlvbihlLHQpe3JldHVybiBSKHRoaXMsZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbz17fSxhPTA7aWYoQXJyYXkuaXNBcnJheSh0KSl7Zm9yKHI9VWUoZSksaT10Lmxlbmd0aDthPGk7YSsrKW9bdFthXV09Y2UuY3NzKGUsdFthXSwhMSxyKTtyZXR1cm4gb31yZXR1cm4gdm9pZCAwIT09bj9jZS5zdHlsZShlLHQsbik6Y2UuY3NzKGUsdCl9LGUsdCwxPGFyZ3VtZW50cy5sZW5ndGgpfX0pLCgoY2UuVHdlZW49YXQpLnByb3RvdHlwZT17Y29uc3RydWN0b3I6YXQsaW5pdDpmdW5jdGlvbihlLHQsbixyLGksbyl7dGhpcy5lbGVtPWUsdGhpcy5wcm9wPW4sdGhpcy5lYXNpbmc9aXx8Y2UuZWFzaW5nLl9kZWZhdWx0LHRoaXMub3B0aW9ucz10LHRoaXMuc3RhcnQ9dGhpcy5ub3c9dGhpcy5jdXIoKSx0aGlzLmVuZD1yLHRoaXMudW5pdD1vfHwoY2UuY3NzTnVtYmVyW25dP1wiXCI6XCJweFwiKX0sY3VyOmZ1bmN0aW9uKCl7dmFyIGU9YXQucHJvcEhvb2tzW3RoaXMucHJvcF07cmV0dXJuIGUmJmUuZ2V0P2UuZ2V0KHRoaXMpOmF0LnByb3BIb29rcy5fZGVmYXVsdC5nZXQodGhpcyl9LHJ1bjpmdW5jdGlvbihlKXt2YXIgdCxuPWF0LnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiB0aGlzLm9wdGlvbnMuZHVyYXRpb24/dGhpcy5wb3M9dD1jZS5lYXNpbmdbdGhpcy5lYXNpbmddKGUsdGhpcy5vcHRpb25zLmR1cmF0aW9uKmUsMCwxLHRoaXMub3B0aW9ucy5kdXJhdGlvbik6dGhpcy5wb3M9dD1lLHRoaXMubm93PSh0aGlzLmVuZC10aGlzLnN0YXJ0KSp0K3RoaXMuc3RhcnQsdGhpcy5vcHRpb25zLnN0ZXAmJnRoaXMub3B0aW9ucy5zdGVwLmNhbGwodGhpcy5lbGVtLHRoaXMubm93LHRoaXMpLG4mJm4uc2V0P24uc2V0KHRoaXMpOmF0LnByb3BIb29rcy5fZGVmYXVsdC5zZXQodGhpcyksdGhpc319KS5pbml0LnByb3RvdHlwZT1hdC5wcm90b3R5cGUsKGF0LnByb3BIb29rcz17X2RlZmF1bHQ6e2dldDpmdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gMSE9PWUuZWxlbS5ub2RlVHlwZXx8bnVsbCE9ZS5lbGVtW2UucHJvcF0mJm51bGw9PWUuZWxlbS5zdHlsZVtlLnByb3BdP2UuZWxlbVtlLnByb3BdOih0PWNlLmNzcyhlLmVsZW0sZS5wcm9wLFwiXCIpKSYmXCJhdXRvXCIhPT10P3Q6MH0sc2V0OmZ1bmN0aW9uKGUpe2NlLmZ4LnN0ZXBbZS5wcm9wXT9jZS5meC5zdGVwW2UucHJvcF0oZSk6MSE9PWUuZWxlbS5ub2RlVHlwZXx8IWNlLmNzc0hvb2tzW2UucHJvcF0mJm51bGw9PWUuZWxlbS5zdHlsZVtaZShlLnByb3ApXT9lLmVsZW1bZS5wcm9wXT1lLm5vdzpjZS5zdHlsZShlLmVsZW0sZS5wcm9wLGUubm93K2UudW5pdCl9fX0pLnNjcm9sbFRvcD1hdC5wcm9wSG9va3Muc2Nyb2xsTGVmdD17c2V0OmZ1bmN0aW9uKGUpe2UuZWxlbS5ub2RlVHlwZSYmZS5lbGVtLnBhcmVudE5vZGUmJihlLmVsZW1bZS5wcm9wXT1lLm5vdyl9fSxjZS5lYXNpbmc9e2xpbmVhcjpmdW5jdGlvbihlKXtyZXR1cm4gZX0sc3dpbmc6ZnVuY3Rpb24oZSl7cmV0dXJuLjUtTWF0aC5jb3MoZSpNYXRoLlBJKS8yfSxfZGVmYXVsdDpcInN3aW5nXCJ9LGNlLmZ4PWF0LnByb3RvdHlwZS5pbml0LGNlLmZ4LnN0ZXA9e307dmFyIHN0LHV0LGx0LGN0LGZ0PS9eKD86dG9nZ2xlfHNob3d8aGlkZSkkLyxwdD0vcXVldWVIb29rcyQvO2Z1bmN0aW9uIGR0KCl7dXQmJighMT09PUMuaGlkZGVuJiZpZS5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU/aWUucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGR0KTppZS5zZXRUaW1lb3V0KGR0LGNlLmZ4LmludGVydmFsKSxjZS5meC50aWNrKCkpfWZ1bmN0aW9uIGh0KCl7cmV0dXJuIGllLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtzdD12b2lkIDB9KSxzdD1EYXRlLm5vdygpfWZ1bmN0aW9uIGd0KGUsdCl7dmFyIG4scj0wLGk9e2hlaWdodDplfTtmb3IodD10PzE6MDtyPDQ7cis9Mi10KWlbXCJtYXJnaW5cIisobj1RW3JdKV09aVtcInBhZGRpbmdcIituXT1lO3JldHVybiB0JiYoaS5vcGFjaXR5PWkud2lkdGg9ZSksaX1mdW5jdGlvbiB2dChlLHQsbil7Zm9yKHZhciByLGk9KHl0LnR3ZWVuZXJzW3RdfHxbXSkuY29uY2F0KHl0LnR3ZWVuZXJzW1wiKlwiXSksbz0wLGE9aS5sZW5ndGg7bzxhO28rKylpZihyPWlbb10uY2FsbChuLHQsZSkpcmV0dXJuIHJ9ZnVuY3Rpb24geXQobyxlLHQpe3ZhciBuLGEscj0wLGk9eXQucHJlZmlsdGVycy5sZW5ndGgscz1jZS5EZWZlcnJlZCgpLmFsd2F5cyhmdW5jdGlvbigpe2RlbGV0ZSB1LmVsZW19KSx1PWZ1bmN0aW9uKCl7aWYoYSlyZXR1cm4hMTtmb3IodmFyIGU9c3R8fGh0KCksdD1NYXRoLm1heCgwLGwuc3RhcnRUaW1lK2wuZHVyYXRpb24tZSksbj0xLSh0L2wuZHVyYXRpb258fDApLHI9MCxpPWwudHdlZW5zLmxlbmd0aDtyPGk7cisrKWwudHdlZW5zW3JdLnJ1bihuKTtyZXR1cm4gcy5ub3RpZnlXaXRoKG8sW2wsbix0XSksbjwxJiZpP3Q6KGl8fHMubm90aWZ5V2l0aChvLFtsLDEsMF0pLHMucmVzb2x2ZVdpdGgobyxbbF0pLCExKX0sbD1zLnByb21pc2Uoe2VsZW06byxwcm9wczpjZS5leHRlbmQoe30sZSksb3B0czpjZS5leHRlbmQoITAse3NwZWNpYWxFYXNpbmc6e30sZWFzaW5nOmNlLmVhc2luZy5fZGVmYXVsdH0sdCksb3JpZ2luYWxQcm9wZXJ0aWVzOmUsb3JpZ2luYWxPcHRpb25zOnQsc3RhcnRUaW1lOnN0fHxodCgpLGR1cmF0aW9uOnQuZHVyYXRpb24sdHdlZW5zOltdLGNyZWF0ZVR3ZWVuOmZ1bmN0aW9uKGUsdCl7dmFyIG49Y2UuVHdlZW4obyxsLm9wdHMsZSx0LGwub3B0cy5zcGVjaWFsRWFzaW5nW2VdfHxsLm9wdHMuZWFzaW5nKTtyZXR1cm4gbC50d2VlbnMucHVzaChuKSxufSxzdG9wOmZ1bmN0aW9uKGUpe3ZhciB0PTAsbj1lP2wudHdlZW5zLmxlbmd0aDowO2lmKGEpcmV0dXJuIHRoaXM7Zm9yKGE9ITA7dDxuO3QrKylsLnR3ZWVuc1t0XS5ydW4oMSk7cmV0dXJuIGU/KHMubm90aWZ5V2l0aChvLFtsLDEsMF0pLHMucmVzb2x2ZVdpdGgobyxbbCxlXSkpOnMucmVqZWN0V2l0aChvLFtsLGVdKSx0aGlzfX0pLGM9bC5wcm9wcztmb3IoIWZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLG8sYTtmb3IobiBpbiBlKWlmKGk9dFtyPUYobildLG89ZVtuXSxBcnJheS5pc0FycmF5KG8pJiYoaT1vWzFdLG89ZVtuXT1vWzBdKSxuIT09ciYmKGVbcl09byxkZWxldGUgZVtuXSksKGE9Y2UuY3NzSG9va3Nbcl0pJiZcImV4cGFuZFwiaW4gYSlmb3IobiBpbiBvPWEuZXhwYW5kKG8pLGRlbGV0ZSBlW3JdLG8pbiBpbiBlfHwoZVtuXT1vW25dLHRbbl09aSk7ZWxzZSB0W3JdPWl9KGMsbC5vcHRzLnNwZWNpYWxFYXNpbmcpO3I8aTtyKyspaWYobj15dC5wcmVmaWx0ZXJzW3JdLmNhbGwobCxvLGMsbC5vcHRzKSlyZXR1cm4gdihuLnN0b3ApJiYoY2UuX3F1ZXVlSG9va3MobC5lbGVtLGwub3B0cy5xdWV1ZSkuc3RvcD1uLnN0b3AuYmluZChuKSksbjtyZXR1cm4gY2UubWFwKGMsdnQsbCksdihsLm9wdHMuc3RhcnQpJiZsLm9wdHMuc3RhcnQuY2FsbChvLGwpLGwucHJvZ3Jlc3MobC5vcHRzLnByb2dyZXNzKS5kb25lKGwub3B0cy5kb25lLGwub3B0cy5jb21wbGV0ZSkuZmFpbChsLm9wdHMuZmFpbCkuYWx3YXlzKGwub3B0cy5hbHdheXMpLGNlLmZ4LnRpbWVyKGNlLmV4dGVuZCh1LHtlbGVtOm8sYW5pbTpsLHF1ZXVlOmwub3B0cy5xdWV1ZX0pKSxsfWNlLkFuaW1hdGlvbj1jZS5leHRlbmQoeXQse3R3ZWVuZXJzOntcIipcIjpbZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmNyZWF0ZVR3ZWVuKGUsdCk7cmV0dXJuIHRlKG4uZWxlbSxlLFkuZXhlYyh0KSxuKSxufV19LHR3ZWVuZXI6ZnVuY3Rpb24oZSx0KXt2KGUpPyh0PWUsZT1bXCIqXCJdKTplPWUubWF0Y2goRCk7Zm9yKHZhciBuLHI9MCxpPWUubGVuZ3RoO3I8aTtyKyspbj1lW3JdLHl0LnR3ZWVuZXJzW25dPXl0LnR3ZWVuZXJzW25dfHxbXSx5dC50d2VlbmVyc1tuXS51bnNoaWZ0KHQpfSxwcmVmaWx0ZXJzOltmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGEscyx1LGwsYyxmPVwid2lkdGhcImluIHR8fFwiaGVpZ2h0XCJpbiB0LHA9dGhpcyxkPXt9LGg9ZS5zdHlsZSxnPWUubm9kZVR5cGUmJmVlKGUpLHY9Xy5nZXQoZSxcImZ4c2hvd1wiKTtmb3IociBpbiBuLnF1ZXVlfHwobnVsbD09KGE9Y2UuX3F1ZXVlSG9va3MoZSxcImZ4XCIpKS51bnF1ZXVlZCYmKGEudW5xdWV1ZWQ9MCxzPWEuZW1wdHkuZmlyZSxhLmVtcHR5LmZpcmU9ZnVuY3Rpb24oKXthLnVucXVldWVkfHxzKCl9KSxhLnVucXVldWVkKysscC5hbHdheXMoZnVuY3Rpb24oKXtwLmFsd2F5cyhmdW5jdGlvbigpe2EudW5xdWV1ZWQtLSxjZS5xdWV1ZShlLFwiZnhcIikubGVuZ3RofHxhLmVtcHR5LmZpcmUoKX0pfSkpLHQpaWYoaT10W3JdLGZ0LnRlc3QoaSkpe2lmKGRlbGV0ZSB0W3JdLG89b3x8XCJ0b2dnbGVcIj09PWksaT09PShnP1wiaGlkZVwiOlwic2hvd1wiKSl7aWYoXCJzaG93XCIhPT1pfHwhdnx8dm9pZCAwPT09dltyXSljb250aW51ZTtnPSEwfWRbcl09diYmdltyXXx8Y2Uuc3R5bGUoZSxyKX1pZigodT0hY2UuaXNFbXB0eU9iamVjdCh0KSl8fCFjZS5pc0VtcHR5T2JqZWN0KGQpKWZvcihyIGluIGYmJjE9PT1lLm5vZGVUeXBlJiYobi5vdmVyZmxvdz1baC5vdmVyZmxvdyxoLm92ZXJmbG93WCxoLm92ZXJmbG93WV0sbnVsbD09KGw9diYmdi5kaXNwbGF5KSYmKGw9Xy5nZXQoZSxcImRpc3BsYXlcIikpLFwibm9uZVwiPT09KGM9Y2UuY3NzKGUsXCJkaXNwbGF5XCIpKSYmKGw/Yz1sOihyZShbZV0sITApLGw9ZS5zdHlsZS5kaXNwbGF5fHxsLGM9Y2UuY3NzKGUsXCJkaXNwbGF5XCIpLHJlKFtlXSkpKSwoXCJpbmxpbmVcIj09PWN8fFwiaW5saW5lLWJsb2NrXCI9PT1jJiZudWxsIT1sKSYmXCJub25lXCI9PT1jZS5jc3MoZSxcImZsb2F0XCIpJiYodXx8KHAuZG9uZShmdW5jdGlvbigpe2guZGlzcGxheT1sfSksbnVsbD09bCYmKGM9aC5kaXNwbGF5LGw9XCJub25lXCI9PT1jP1wiXCI6YykpLGguZGlzcGxheT1cImlubGluZS1ibG9ja1wiKSksbi5vdmVyZmxvdyYmKGgub3ZlcmZsb3c9XCJoaWRkZW5cIixwLmFsd2F5cyhmdW5jdGlvbigpe2gub3ZlcmZsb3c9bi5vdmVyZmxvd1swXSxoLm92ZXJmbG93WD1uLm92ZXJmbG93WzFdLGgub3ZlcmZsb3dZPW4ub3ZlcmZsb3dbMl19KSksdT0hMSxkKXV8fCh2P1wiaGlkZGVuXCJpbiB2JiYoZz12LmhpZGRlbik6dj1fLmFjY2VzcyhlLFwiZnhzaG93XCIse2Rpc3BsYXk6bH0pLG8mJih2LmhpZGRlbj0hZyksZyYmcmUoW2VdLCEwKSxwLmRvbmUoZnVuY3Rpb24oKXtmb3IociBpbiBnfHxyZShbZV0pLF8ucmVtb3ZlKGUsXCJmeHNob3dcIiksZCljZS5zdHlsZShlLHIsZFtyXSl9KSksdT12dChnP3Zbcl06MCxyLHApLHIgaW4gdnx8KHZbcl09dS5zdGFydCxnJiYodS5lbmQ9dS5zdGFydCx1LnN0YXJ0PTApKX1dLHByZWZpbHRlcjpmdW5jdGlvbihlLHQpe3Q/eXQucHJlZmlsdGVycy51bnNoaWZ0KGUpOnl0LnByZWZpbHRlcnMucHVzaChlKX19KSxjZS5zcGVlZD1mdW5jdGlvbihlLHQsbil7dmFyIHI9ZSYmXCJvYmplY3RcIj09dHlwZW9mIGU/Y2UuZXh0ZW5kKHt9LGUpOntjb21wbGV0ZTpufHwhbiYmdHx8dihlKSYmZSxkdXJhdGlvbjplLGVhc2luZzpuJiZ0fHx0JiYhdih0KSYmdH07cmV0dXJuIGNlLmZ4Lm9mZj9yLmR1cmF0aW9uPTA6XCJudW1iZXJcIiE9dHlwZW9mIHIuZHVyYXRpb24mJihyLmR1cmF0aW9uIGluIGNlLmZ4LnNwZWVkcz9yLmR1cmF0aW9uPWNlLmZ4LnNwZWVkc1tyLmR1cmF0aW9uXTpyLmR1cmF0aW9uPWNlLmZ4LnNwZWVkcy5fZGVmYXVsdCksbnVsbCE9ci5xdWV1ZSYmITAhPT1yLnF1ZXVlfHwoci5xdWV1ZT1cImZ4XCIpLHIub2xkPXIuY29tcGxldGUsci5jb21wbGV0ZT1mdW5jdGlvbigpe3Yoci5vbGQpJiZyLm9sZC5jYWxsKHRoaXMpLHIucXVldWUmJmNlLmRlcXVldWUodGhpcyxyLnF1ZXVlKX0scn0sY2UuZm4uZXh0ZW5kKHtmYWRlVG86ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIHRoaXMuZmlsdGVyKGVlKS5jc3MoXCJvcGFjaXR5XCIsMCkuc2hvdygpLmVuZCgpLmFuaW1hdGUoe29wYWNpdHk6dH0sZSxuLHIpfSxhbmltYXRlOmZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPWNlLmlzRW1wdHlPYmplY3QodCksbz1jZS5zcGVlZChlLG4sciksYT1mdW5jdGlvbigpe3ZhciBlPXl0KHRoaXMsY2UuZXh0ZW5kKHt9LHQpLG8pOyhpfHxfLmdldCh0aGlzLFwiZmluaXNoXCIpKSYmZS5zdG9wKCEwKX07cmV0dXJuIGEuZmluaXNoPWEsaXx8ITE9PT1vLnF1ZXVlP3RoaXMuZWFjaChhKTp0aGlzLnF1ZXVlKG8ucXVldWUsYSl9LHN0b3A6ZnVuY3Rpb24oaSxlLG8pe3ZhciBhPWZ1bmN0aW9uKGUpe3ZhciB0PWUuc3RvcDtkZWxldGUgZS5zdG9wLHQobyl9O3JldHVyblwic3RyaW5nXCIhPXR5cGVvZiBpJiYobz1lLGU9aSxpPXZvaWQgMCksZSYmdGhpcy5xdWV1ZShpfHxcImZ4XCIsW10pLHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBlPSEwLHQ9bnVsbCE9aSYmaStcInF1ZXVlSG9va3NcIixuPWNlLnRpbWVycyxyPV8uZ2V0KHRoaXMpO2lmKHQpclt0XSYmclt0XS5zdG9wJiZhKHJbdF0pO2Vsc2UgZm9yKHQgaW4gcilyW3RdJiZyW3RdLnN0b3AmJnB0LnRlc3QodCkmJmEoclt0XSk7Zm9yKHQ9bi5sZW5ndGg7dC0tOyluW3RdLmVsZW0hPT10aGlzfHxudWxsIT1pJiZuW3RdLnF1ZXVlIT09aXx8KG5bdF0uYW5pbS5zdG9wKG8pLGU9ITEsbi5zcGxpY2UodCwxKSk7IWUmJm98fGNlLmRlcXVldWUodGhpcyxpKX0pfSxmaW5pc2g6ZnVuY3Rpb24oYSl7cmV0dXJuITEhPT1hJiYoYT1hfHxcImZ4XCIpLHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBlLHQ9Xy5nZXQodGhpcyksbj10W2ErXCJxdWV1ZVwiXSxyPXRbYStcInF1ZXVlSG9va3NcIl0saT1jZS50aW1lcnMsbz1uP24ubGVuZ3RoOjA7Zm9yKHQuZmluaXNoPSEwLGNlLnF1ZXVlKHRoaXMsYSxbXSksciYmci5zdG9wJiZyLnN0b3AuY2FsbCh0aGlzLCEwKSxlPWkubGVuZ3RoO2UtLTspaVtlXS5lbGVtPT09dGhpcyYmaVtlXS5xdWV1ZT09PWEmJihpW2VdLmFuaW0uc3RvcCghMCksaS5zcGxpY2UoZSwxKSk7Zm9yKGU9MDtlPG87ZSsrKW5bZV0mJm5bZV0uZmluaXNoJiZuW2VdLmZpbmlzaC5jYWxsKHRoaXMpO2RlbGV0ZSB0LmZpbmlzaH0pfX0pLGNlLmVhY2goW1widG9nZ2xlXCIsXCJzaG93XCIsXCJoaWRlXCJdLGZ1bmN0aW9uKGUscil7dmFyIGk9Y2UuZm5bcl07Y2UuZm5bcl09ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBudWxsPT1lfHxcImJvb2xlYW5cIj09dHlwZW9mIGU/aS5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dGhpcy5hbmltYXRlKGd0KHIsITApLGUsdCxuKX19KSxjZS5lYWNoKHtzbGlkZURvd246Z3QoXCJzaG93XCIpLHNsaWRlVXA6Z3QoXCJoaWRlXCIpLHNsaWRlVG9nZ2xlOmd0KFwidG9nZ2xlXCIpLGZhZGVJbjp7b3BhY2l0eTpcInNob3dcIn0sZmFkZU91dDp7b3BhY2l0eTpcImhpZGVcIn0sZmFkZVRvZ2dsZTp7b3BhY2l0eTpcInRvZ2dsZVwifX0sZnVuY3Rpb24oZSxyKXtjZS5mbltlXT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMuYW5pbWF0ZShyLGUsdCxuKX19KSxjZS50aW1lcnM9W10sY2UuZngudGljaz1mdW5jdGlvbigpe3ZhciBlLHQ9MCxuPWNlLnRpbWVycztmb3Ioc3Q9RGF0ZS5ub3coKTt0PG4ubGVuZ3RoO3QrKykoZT1uW3RdKSgpfHxuW3RdIT09ZXx8bi5zcGxpY2UodC0tLDEpO24ubGVuZ3RofHxjZS5meC5zdG9wKCksc3Q9dm9pZCAwfSxjZS5meC50aW1lcj1mdW5jdGlvbihlKXtjZS50aW1lcnMucHVzaChlKSxjZS5meC5zdGFydCgpfSxjZS5meC5pbnRlcnZhbD0xMyxjZS5meC5zdGFydD1mdW5jdGlvbigpe3V0fHwodXQ9ITAsZHQoKSl9LGNlLmZ4LnN0b3A9ZnVuY3Rpb24oKXt1dD1udWxsfSxjZS5meC5zcGVlZHM9e3Nsb3c6NjAwLGZhc3Q6MjAwLF9kZWZhdWx0OjQwMH0sY2UuZm4uZGVsYXk9ZnVuY3Rpb24ocixlKXtyZXR1cm4gcj1jZS5meCYmY2UuZnguc3BlZWRzW3JdfHxyLGU9ZXx8XCJmeFwiLHRoaXMucXVldWUoZSxmdW5jdGlvbihlLHQpe3ZhciBuPWllLnNldFRpbWVvdXQoZSxyKTt0LnN0b3A9ZnVuY3Rpb24oKXtpZS5jbGVhclRpbWVvdXQobil9fSl9LGx0PUMuY3JlYXRlRWxlbWVudChcImlucHV0XCIpLGN0PUMuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiKS5hcHBlbmRDaGlsZChDLmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIikpLGx0LnR5cGU9XCJjaGVja2JveFwiLGxlLmNoZWNrT249XCJcIiE9PWx0LnZhbHVlLGxlLm9wdFNlbGVjdGVkPWN0LnNlbGVjdGVkLChsdD1DLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKSkudmFsdWU9XCJ0XCIsbHQudHlwZT1cInJhZGlvXCIsbGUucmFkaW9WYWx1ZT1cInRcIj09PWx0LnZhbHVlO3ZhciBtdCx4dD1jZS5leHByLmF0dHJIYW5kbGU7Y2UuZm4uZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIFIodGhpcyxjZS5hdHRyLGUsdCwxPGFyZ3VtZW50cy5sZW5ndGgpfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtjZS5yZW1vdmVBdHRyKHRoaXMsZSl9KX19KSxjZS5leHRlbmQoe2F0dHI6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbz1lLm5vZGVUeXBlO2lmKDMhPT1vJiY4IT09byYmMiE9PW8pcmV0dXJuXCJ1bmRlZmluZWRcIj09dHlwZW9mIGUuZ2V0QXR0cmlidXRlP2NlLnByb3AoZSx0LG4pOigxPT09byYmY2UuaXNYTUxEb2MoZSl8fChpPWNlLmF0dHJIb29rc1t0LnRvTG93ZXJDYXNlKCldfHwoY2UuZXhwci5tYXRjaC5ib29sLnRlc3QodCk/bXQ6dm9pZCAwKSksdm9pZCAwIT09bj9udWxsPT09bj92b2lkIGNlLnJlbW92ZUF0dHIoZSx0KTppJiZcInNldFwiaW4gaSYmdm9pZCAwIT09KHI9aS5zZXQoZSxuLHQpKT9yOihlLnNldEF0dHJpYnV0ZSh0LG4rXCJcIiksbik6aSYmXCJnZXRcImluIGkmJm51bGwhPT0ocj1pLmdldChlLHQpKT9yOm51bGw9PShyPWNlLmZpbmQuYXR0cihlLHQpKT92b2lkIDA6cil9LGF0dHJIb29rczp7dHlwZTp7c2V0OmZ1bmN0aW9uKGUsdCl7aWYoIWxlLnJhZGlvVmFsdWUmJlwicmFkaW9cIj09PXQmJmZlKGUsXCJpbnB1dFwiKSl7dmFyIG49ZS52YWx1ZTtyZXR1cm4gZS5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsdCksbiYmKGUudmFsdWU9biksdH19fX0scmVtb3ZlQXR0cjpmdW5jdGlvbihlLHQpe3ZhciBuLHI9MCxpPXQmJnQubWF0Y2goRCk7aWYoaSYmMT09PWUubm9kZVR5cGUpd2hpbGUobj1pW3IrK10pZS5yZW1vdmVBdHRyaWJ1dGUobil9fSksbXQ9e3NldDpmdW5jdGlvbihlLHQsbil7cmV0dXJuITE9PT10P2NlLnJlbW92ZUF0dHIoZSxuKTplLnNldEF0dHJpYnV0ZShuLG4pLG59fSxjZS5lYWNoKGNlLmV4cHIubWF0Y2guYm9vbC5zb3VyY2UubWF0Y2goL1xcdysvZyksZnVuY3Rpb24oZSx0KXt2YXIgYT14dFt0XXx8Y2UuZmluZC5hdHRyO3h0W3RdPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89dC50b0xvd2VyQ2FzZSgpO3JldHVybiBufHwoaT14dFtvXSx4dFtvXT1yLHI9bnVsbCE9YShlLHQsbik/bzpudWxsLHh0W29dPWkpLHJ9fSk7dmFyIGJ0PS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2ksd3Q9L14oPzphfGFyZWEpJC9pO2Z1bmN0aW9uIFR0KGUpe3JldHVybihlLm1hdGNoKEQpfHxbXSkuam9pbihcIiBcIil9ZnVuY3Rpb24gQ3QoZSl7cmV0dXJuIGUuZ2V0QXR0cmlidXRlJiZlLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpfHxcIlwifWZ1bmN0aW9uIGt0KGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpP2U6XCJzdHJpbmdcIj09dHlwZW9mIGUmJmUubWF0Y2goRCl8fFtdfWNlLmZuLmV4dGVuZCh7cHJvcDpmdW5jdGlvbihlLHQpe3JldHVybiBSKHRoaXMsY2UucHJvcCxlLHQsMTxhcmd1bWVudHMubGVuZ3RoKX0scmVtb3ZlUHJvcDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXNbY2UucHJvcEZpeFtlXXx8ZV19KX19KSxjZS5leHRlbmQoe3Byb3A6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbz1lLm5vZGVUeXBlO2lmKDMhPT1vJiY4IT09byYmMiE9PW8pcmV0dXJuIDE9PT1vJiZjZS5pc1hNTERvYyhlKXx8KHQ9Y2UucHJvcEZpeFt0XXx8dCxpPWNlLnByb3BIb29rc1t0XSksdm9pZCAwIT09bj9pJiZcInNldFwiaW4gaSYmdm9pZCAwIT09KHI9aS5zZXQoZSxuLHQpKT9yOmVbdF09bjppJiZcImdldFwiaW4gaSYmbnVsbCE9PShyPWkuZ2V0KGUsdCkpP3I6ZVt0XX0scHJvcEhvb2tzOnt0YWJJbmRleDp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PWNlLmZpbmQuYXR0cihlLFwidGFiaW5kZXhcIik7cmV0dXJuIHQ/cGFyc2VJbnQodCwxMCk6YnQudGVzdChlLm5vZGVOYW1lKXx8d3QudGVzdChlLm5vZGVOYW1lKSYmZS5ocmVmPzA6LTF9fX0scHJvcEZpeDp7XCJmb3JcIjpcImh0bWxGb3JcIixcImNsYXNzXCI6XCJjbGFzc05hbWVcIn19KSxsZS5vcHRTZWxlY3RlZHx8KGNlLnByb3BIb29rcy5zZWxlY3RlZD17Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyZW50Tm9kZTtyZXR1cm4gdCYmdC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCxudWxsfSxzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXJlbnROb2RlO3QmJih0LnNlbGVjdGVkSW5kZXgsdC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCl9fSksY2UuZWFjaChbXCJ0YWJJbmRleFwiLFwicmVhZE9ubHlcIixcIm1heExlbmd0aFwiLFwiY2VsbFNwYWNpbmdcIixcImNlbGxQYWRkaW5nXCIsXCJyb3dTcGFuXCIsXCJjb2xTcGFuXCIsXCJ1c2VNYXBcIixcImZyYW1lQm9yZGVyXCIsXCJjb250ZW50RWRpdGFibGVcIl0sZnVuY3Rpb24oKXtjZS5wcm9wRml4W3RoaXMudG9Mb3dlckNhc2UoKV09dGhpc30pLGNlLmZuLmV4dGVuZCh7YWRkQ2xhc3M6ZnVuY3Rpb24odCl7dmFyIGUsbixyLGksbyxhO3JldHVybiB2KHQpP3RoaXMuZWFjaChmdW5jdGlvbihlKXtjZSh0aGlzKS5hZGRDbGFzcyh0LmNhbGwodGhpcyxlLEN0KHRoaXMpKSl9KTooZT1rdCh0KSkubGVuZ3RoP3RoaXMuZWFjaChmdW5jdGlvbigpe2lmKHI9Q3QodGhpcyksbj0xPT09dGhpcy5ub2RlVHlwZSYmXCIgXCIrVHQocikrXCIgXCIpe2ZvcihvPTA7bzxlLmxlbmd0aDtvKyspaT1lW29dLG4uaW5kZXhPZihcIiBcIitpK1wiIFwiKTwwJiYobis9aStcIiBcIik7YT1UdChuKSxyIT09YSYmdGhpcy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLGEpfX0pOnRoaXN9LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKHQpe3ZhciBlLG4scixpLG8sYTtyZXR1cm4gdih0KT90aGlzLmVhY2goZnVuY3Rpb24oZSl7Y2UodGhpcykucmVtb3ZlQ2xhc3ModC5jYWxsKHRoaXMsZSxDdCh0aGlzKSkpfSk6YXJndW1lbnRzLmxlbmd0aD8oZT1rdCh0KSkubGVuZ3RoP3RoaXMuZWFjaChmdW5jdGlvbigpe2lmKHI9Q3QodGhpcyksbj0xPT09dGhpcy5ub2RlVHlwZSYmXCIgXCIrVHQocikrXCIgXCIpe2ZvcihvPTA7bzxlLmxlbmd0aDtvKyspe2k9ZVtvXTt3aGlsZSgtMTxuLmluZGV4T2YoXCIgXCIraStcIiBcIikpbj1uLnJlcGxhY2UoXCIgXCIraStcIiBcIixcIiBcIil9YT1UdChuKSxyIT09YSYmdGhpcy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLGEpfX0pOnRoaXM6dGhpcy5hdHRyKFwiY2xhc3NcIixcIlwiKX0sdG9nZ2xlQ2xhc3M6ZnVuY3Rpb24odCxuKXt2YXIgZSxyLGksbyxhPXR5cGVvZiB0LHM9XCJzdHJpbmdcIj09PWF8fEFycmF5LmlzQXJyYXkodCk7cmV0dXJuIHYodCk/dGhpcy5lYWNoKGZ1bmN0aW9uKGUpe2NlKHRoaXMpLnRvZ2dsZUNsYXNzKHQuY2FsbCh0aGlzLGUsQ3QodGhpcyksbiksbil9KTpcImJvb2xlYW5cIj09dHlwZW9mIG4mJnM/bj90aGlzLmFkZENsYXNzKHQpOnRoaXMucmVtb3ZlQ2xhc3ModCk6KGU9a3QodCksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7aWYocylmb3Iobz1jZSh0aGlzKSxpPTA7aTxlLmxlbmd0aDtpKyspcj1lW2ldLG8uaGFzQ2xhc3Mocik/by5yZW1vdmVDbGFzcyhyKTpvLmFkZENsYXNzKHIpO2Vsc2Ugdm9pZCAwIT09dCYmXCJib29sZWFuXCIhPT1hfHwoKHI9Q3QodGhpcykpJiZfLnNldCh0aGlzLFwiX19jbGFzc05hbWVfX1wiLHIpLHRoaXMuc2V0QXR0cmlidXRlJiZ0aGlzLnNldEF0dHJpYnV0ZShcImNsYXNzXCIscnx8ITE9PT10P1wiXCI6Xy5nZXQodGhpcyxcIl9fY2xhc3NOYW1lX19cIil8fFwiXCIpKX0pKX0saGFzQ2xhc3M6ZnVuY3Rpb24oZSl7dmFyIHQsbixyPTA7dD1cIiBcIitlK1wiIFwiO3doaWxlKG49dGhpc1tyKytdKWlmKDE9PT1uLm5vZGVUeXBlJiYtMTwoXCIgXCIrVHQoQ3QobikpK1wiIFwiKS5pbmRleE9mKHQpKXJldHVybiEwO3JldHVybiExfX0pO3ZhciBTdD0vXFxyL2c7Y2UuZm4uZXh0ZW5kKHt2YWw6ZnVuY3Rpb24obil7dmFyIHIsZSxpLHQ9dGhpc1swXTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaT12KG4pLHRoaXMuZWFjaChmdW5jdGlvbihlKXt2YXIgdDsxPT09dGhpcy5ub2RlVHlwZSYmKG51bGw9PSh0PWk/bi5jYWxsKHRoaXMsZSxjZSh0aGlzKS52YWwoKSk6bik/dD1cIlwiOlwibnVtYmVyXCI9PXR5cGVvZiB0P3QrPVwiXCI6QXJyYXkuaXNBcnJheSh0KSYmKHQ9Y2UubWFwKHQsZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWU/XCJcIjplK1wiXCJ9KSksKHI9Y2UudmFsSG9va3NbdGhpcy50eXBlXXx8Y2UudmFsSG9va3NbdGhpcy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSkmJlwic2V0XCJpbiByJiZ2b2lkIDAhPT1yLnNldCh0aGlzLHQsXCJ2YWx1ZVwiKXx8KHRoaXMudmFsdWU9dCkpfSkpOnQ/KHI9Y2UudmFsSG9va3NbdC50eXBlXXx8Y2UudmFsSG9va3NbdC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSkmJlwiZ2V0XCJpbiByJiZ2b2lkIDAhPT0oZT1yLmdldCh0LFwidmFsdWVcIikpP2U6XCJzdHJpbmdcIj09dHlwZW9mKGU9dC52YWx1ZSk/ZS5yZXBsYWNlKFN0LFwiXCIpOm51bGw9PWU/XCJcIjplOnZvaWQgMH19KSxjZS5leHRlbmQoe3ZhbEhvb2tzOntvcHRpb246e2dldDpmdW5jdGlvbihlKXt2YXIgdD1jZS5maW5kLmF0dHIoZSxcInZhbHVlXCIpO3JldHVybiBudWxsIT10P3Q6VHQoY2UudGV4dChlKSl9fSxzZWxlY3Q6e2dldDpmdW5jdGlvbihlKXt2YXIgdCxuLHIsaT1lLm9wdGlvbnMsbz1lLnNlbGVjdGVkSW5kZXgsYT1cInNlbGVjdC1vbmVcIj09PWUudHlwZSxzPWE/bnVsbDpbXSx1PWE/bysxOmkubGVuZ3RoO2ZvcihyPW88MD91OmE/bzowO3I8dTtyKyspaWYoKChuPWlbcl0pLnNlbGVjdGVkfHxyPT09bykmJiFuLmRpc2FibGVkJiYoIW4ucGFyZW50Tm9kZS5kaXNhYmxlZHx8IWZlKG4ucGFyZW50Tm9kZSxcIm9wdGdyb3VwXCIpKSl7aWYodD1jZShuKS52YWwoKSxhKXJldHVybiB0O3MucHVzaCh0KX1yZXR1cm4gc30sc2V0OmZ1bmN0aW9uKGUsdCl7dmFyIG4scixpPWUub3B0aW9ucyxvPWNlLm1ha2VBcnJheSh0KSxhPWkubGVuZ3RoO3doaWxlKGEtLSkoKHI9aVthXSkuc2VsZWN0ZWQ9LTE8Y2UuaW5BcnJheShjZS52YWxIb29rcy5vcHRpb24uZ2V0KHIpLG8pKSYmKG49ITApO3JldHVybiBufHwoZS5zZWxlY3RlZEluZGV4PS0xKSxvfX19fSksY2UuZWFjaChbXCJyYWRpb1wiLFwiY2hlY2tib3hcIl0sZnVuY3Rpb24oKXtjZS52YWxIb29rc1t0aGlzXT17c2V0OmZ1bmN0aW9uKGUsdCl7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gZS5jaGVja2VkPS0xPGNlLmluQXJyYXkoY2UoZSkudmFsKCksdCl9fSxsZS5jaGVja09ufHwoY2UudmFsSG9va3NbdGhpc10uZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT09ZS5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKT9cIm9uXCI6ZS52YWx1ZX0pfSk7dmFyIEV0PWllLmxvY2F0aW9uLGp0PXtndWlkOkRhdGUubm93KCl9LEF0PS9cXD8vO2NlLnBhcnNlWE1MPWZ1bmN0aW9uKGUpe3ZhciB0LG47aWYoIWV8fFwic3RyaW5nXCIhPXR5cGVvZiBlKXJldHVybiBudWxsO3RyeXt0PShuZXcgaWUuRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcoZSxcInRleHQveG1sXCIpfWNhdGNoKGUpe31yZXR1cm4gbj10JiZ0LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwicGFyc2VyZXJyb3JcIilbMF0sdCYmIW58fGNlLmVycm9yKFwiSW52YWxpZCBYTUw6IFwiKyhuP2NlLm1hcChuLmNoaWxkTm9kZXMsZnVuY3Rpb24oZSl7cmV0dXJuIGUudGV4dENvbnRlbnR9KS5qb2luKFwiXFxuXCIpOmUpKSx0fTt2YXIgRHQ9L14oPzpmb2N1c2luZm9jdXN8Zm9jdXNvdXRibHVyKSQvLE50PWZ1bmN0aW9uKGUpe2Uuc3RvcFByb3BhZ2F0aW9uKCl9O2NlLmV4dGVuZChjZS5ldmVudCx7dHJpZ2dlcjpmdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscyx1LGwsYyxmLHA9W258fENdLGQ9dWUuY2FsbChlLFwidHlwZVwiKT9lLnR5cGU6ZSxoPXVlLmNhbGwoZSxcIm5hbWVzcGFjZVwiKT9lLm5hbWVzcGFjZS5zcGxpdChcIi5cIik6W107aWYobz1mPWE9bj1ufHxDLDMhPT1uLm5vZGVUeXBlJiY4IT09bi5ub2RlVHlwZSYmIUR0LnRlc3QoZCtjZS5ldmVudC50cmlnZ2VyZWQpJiYoLTE8ZC5pbmRleE9mKFwiLlwiKSYmKGQ9KGg9ZC5zcGxpdChcIi5cIikpLnNoaWZ0KCksaC5zb3J0KCkpLHU9ZC5pbmRleE9mKFwiOlwiKTwwJiZcIm9uXCIrZCwoZT1lW2NlLmV4cGFuZG9dP2U6bmV3IGNlLkV2ZW50KGQsXCJvYmplY3RcIj09dHlwZW9mIGUmJmUpKS5pc1RyaWdnZXI9cj8yOjMsZS5uYW1lc3BhY2U9aC5qb2luKFwiLlwiKSxlLnJuYW1lc3BhY2U9ZS5uYW1lc3BhY2U/bmV3IFJlZ0V4cChcIihefFxcXFwuKVwiK2guam9pbihcIlxcXFwuKD86LipcXFxcLnwpXCIpK1wiKFxcXFwufCQpXCIpOm51bGwsZS5yZXN1bHQ9dm9pZCAwLGUudGFyZ2V0fHwoZS50YXJnZXQ9biksdD1udWxsPT10P1tlXTpjZS5tYWtlQXJyYXkodCxbZV0pLGM9Y2UuZXZlbnQuc3BlY2lhbFtkXXx8e30scnx8IWMudHJpZ2dlcnx8ITEhPT1jLnRyaWdnZXIuYXBwbHkobix0KSkpe2lmKCFyJiYhYy5ub0J1YmJsZSYmIXkobikpe2ZvcihzPWMuZGVsZWdhdGVUeXBlfHxkLER0LnRlc3QocytkKXx8KG89by5wYXJlbnROb2RlKTtvO289by5wYXJlbnROb2RlKXAucHVzaChvKSxhPW87YT09PShuLm93bmVyRG9jdW1lbnR8fEMpJiZwLnB1c2goYS5kZWZhdWx0Vmlld3x8YS5wYXJlbnRXaW5kb3d8fGllKX1pPTA7d2hpbGUoKG89cFtpKytdKSYmIWUuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSlmPW8sZS50eXBlPTE8aT9zOmMuYmluZFR5cGV8fGQsKGw9KF8uZ2V0KG8sXCJldmVudHNcIil8fE9iamVjdC5jcmVhdGUobnVsbCkpW2UudHlwZV0mJl8uZ2V0KG8sXCJoYW5kbGVcIikpJiZsLmFwcGx5KG8sdCksKGw9dSYmb1t1XSkmJmwuYXBwbHkmJiQobykmJihlLnJlc3VsdD1sLmFwcGx5KG8sdCksITE9PT1lLnJlc3VsdCYmZS5wcmV2ZW50RGVmYXVsdCgpKTtyZXR1cm4gZS50eXBlPWQscnx8ZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8Yy5fZGVmYXVsdCYmITEhPT1jLl9kZWZhdWx0LmFwcGx5KHAucG9wKCksdCl8fCEkKG4pfHx1JiZ2KG5bZF0pJiYheShuKSYmKChhPW5bdV0pJiYoblt1XT1udWxsKSxjZS5ldmVudC50cmlnZ2VyZWQ9ZCxlLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkmJmYuYWRkRXZlbnRMaXN0ZW5lcihkLE50KSxuW2RdKCksZS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpJiZmLnJlbW92ZUV2ZW50TGlzdGVuZXIoZCxOdCksY2UuZXZlbnQudHJpZ2dlcmVkPXZvaWQgMCxhJiYoblt1XT1hKSksZS5yZXN1bHR9fSxzaW11bGF0ZTpmdW5jdGlvbihlLHQsbil7dmFyIHI9Y2UuZXh0ZW5kKG5ldyBjZS5FdmVudCxuLHt0eXBlOmUsaXNTaW11bGF0ZWQ6ITB9KTtjZS5ldmVudC50cmlnZ2VyKHIsbnVsbCx0KX19KSxjZS5mbi5leHRlbmQoe3RyaWdnZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Y2UuZXZlbnQudHJpZ2dlcihlLHQsdGhpcyl9KX0sdHJpZ2dlckhhbmRsZXI6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzWzBdO2lmKG4pcmV0dXJuIGNlLmV2ZW50LnRyaWdnZXIoZSx0LG4sITApfX0pO3ZhciBxdD0vXFxbXFxdJC8sTHQ9L1xccj9cXG4vZyxIdD0vXig/OnN1Ym1pdHxidXR0b258aW1hZ2V8cmVzZXR8ZmlsZSkkL2ksT3Q9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8a2V5Z2VuKS9pO2Z1bmN0aW9uIFB0KG4sZSxyLGkpe3ZhciB0O2lmKEFycmF5LmlzQXJyYXkoZSkpY2UuZWFjaChlLGZ1bmN0aW9uKGUsdCl7cnx8cXQudGVzdChuKT9pKG4sdCk6UHQobitcIltcIisoXCJvYmplY3RcIj09dHlwZW9mIHQmJm51bGwhPXQ/ZTpcIlwiKStcIl1cIix0LHIsaSl9KTtlbHNlIGlmKHJ8fFwib2JqZWN0XCIhPT14KGUpKWkobixlKTtlbHNlIGZvcih0IGluIGUpUHQobitcIltcIit0K1wiXVwiLGVbdF0scixpKX1jZS5wYXJhbT1mdW5jdGlvbihlLHQpe3ZhciBuLHI9W10saT1mdW5jdGlvbihlLHQpe3ZhciBuPXYodCk/dCgpOnQ7cltyLmxlbmd0aF09ZW5jb2RlVVJJQ29tcG9uZW50KGUpK1wiPVwiK2VuY29kZVVSSUNvbXBvbmVudChudWxsPT1uP1wiXCI6bil9O2lmKG51bGw9PWUpcmV0dXJuXCJcIjtpZihBcnJheS5pc0FycmF5KGUpfHxlLmpxdWVyeSYmIWNlLmlzUGxhaW5PYmplY3QoZSkpY2UuZWFjaChlLGZ1bmN0aW9uKCl7aSh0aGlzLm5hbWUsdGhpcy52YWx1ZSl9KTtlbHNlIGZvcihuIGluIGUpUHQobixlW25dLHQsaSk7cmV0dXJuIHIuam9pbihcIiZcIil9LGNlLmZuLmV4dGVuZCh7c2VyaWFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIGNlLnBhcmFtKHRoaXMuc2VyaWFsaXplQXJyYXkoKSl9LHNlcmlhbGl6ZUFycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7dmFyIGU9Y2UucHJvcCh0aGlzLFwiZWxlbWVudHNcIik7cmV0dXJuIGU/Y2UubWFrZUFycmF5KGUpOnRoaXN9KS5maWx0ZXIoZnVuY3Rpb24oKXt2YXIgZT10aGlzLnR5cGU7cmV0dXJuIHRoaXMubmFtZSYmIWNlKHRoaXMpLmlzKFwiOmRpc2FibGVkXCIpJiZPdC50ZXN0KHRoaXMubm9kZU5hbWUpJiYhSHQudGVzdChlKSYmKHRoaXMuY2hlY2tlZHx8IXdlLnRlc3QoZSkpfSkubWFwKGZ1bmN0aW9uKGUsdCl7dmFyIG49Y2UodGhpcykudmFsKCk7cmV0dXJuIG51bGw9PW4/bnVsbDpBcnJheS5pc0FycmF5KG4pP2NlLm1hcChuLGZ1bmN0aW9uKGUpe3JldHVybntuYW1lOnQubmFtZSx2YWx1ZTplLnJlcGxhY2UoTHQsXCJcXHJcXG5cIil9fSk6e25hbWU6dC5uYW1lLHZhbHVlOm4ucmVwbGFjZShMdCxcIlxcclxcblwiKX19KS5nZXQoKX19KTt2YXIgUnQ9LyUyMC9nLE10PS8jLiokLyxJdD0vKFs/Jl0pXz1bXiZdKi8sV3Q9L14oLio/KTpbIFxcdF0qKFteXFxyXFxuXSopJC9nbSxGdD0vXig/OkdFVHxIRUFEKSQvLCR0PS9eXFwvXFwvLyxCdD17fSxfdD17fSxYdD1cIiovXCIuY29uY2F0KFwiKlwiKSxVdD1DLmNyZWF0ZUVsZW1lbnQoXCJhXCIpO2Z1bmN0aW9uIHp0KG8pe3JldHVybiBmdW5jdGlvbihlLHQpe1wic3RyaW5nXCIhPXR5cGVvZiBlJiYodD1lLGU9XCIqXCIpO3ZhciBuLHI9MCxpPWUudG9Mb3dlckNhc2UoKS5tYXRjaChEKXx8W107aWYodih0KSl3aGlsZShuPWlbcisrXSlcIitcIj09PW5bMF0/KG49bi5zbGljZSgxKXx8XCIqXCIsKG9bbl09b1tuXXx8W10pLnVuc2hpZnQodCkpOihvW25dPW9bbl18fFtdKS5wdXNoKHQpfX1mdW5jdGlvbiBWdCh0LGksbyxhKXt2YXIgcz17fSx1PXQ9PT1fdDtmdW5jdGlvbiBsKGUpe3ZhciByO3JldHVybiBzW2VdPSEwLGNlLmVhY2godFtlXXx8W10sZnVuY3Rpb24oZSx0KXt2YXIgbj10KGksbyxhKTtyZXR1cm5cInN0cmluZ1wiIT10eXBlb2Ygbnx8dXx8c1tuXT91PyEocj1uKTp2b2lkIDA6KGkuZGF0YVR5cGVzLnVuc2hpZnQobiksbChuKSwhMSl9KSxyfXJldHVybiBsKGkuZGF0YVR5cGVzWzBdKXx8IXNbXCIqXCJdJiZsKFwiKlwiKX1mdW5jdGlvbiBHdChlLHQpe3ZhciBuLHIsaT1jZS5hamF4U2V0dGluZ3MuZmxhdE9wdGlvbnN8fHt9O2ZvcihuIGluIHQpdm9pZCAwIT09dFtuXSYmKChpW25dP2U6cnx8KHI9e30pKVtuXT10W25dKTtyZXR1cm4gciYmY2UuZXh0ZW5kKCEwLGUsciksZX1VdC5ocmVmPUV0LmhyZWYsY2UuZXh0ZW5kKHthY3RpdmU6MCxsYXN0TW9kaWZpZWQ6e30sZXRhZzp7fSxhamF4U2V0dGluZ3M6e3VybDpFdC5ocmVmLHR5cGU6XCJHRVRcIixpc0xvY2FsOi9eKD86YWJvdXR8YXBwfGFwcC1zdG9yYWdlfC4rLWV4dGVuc2lvbnxmaWxlfHJlc3x3aWRnZXQpOiQvLnRlc3QoRXQucHJvdG9jb2wpLGdsb2JhbDohMCxwcm9jZXNzRGF0YTohMCxhc3luYzohMCxjb250ZW50VHlwZTpcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOFwiLGFjY2VwdHM6e1wiKlwiOlh0LHRleHQ6XCJ0ZXh0L3BsYWluXCIsaHRtbDpcInRleHQvaHRtbFwiLHhtbDpcImFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWxcIixqc29uOlwiYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0XCJ9LGNvbnRlbnRzOnt4bWw6L1xcYnhtbFxcYi8saHRtbDovXFxiaHRtbC8sanNvbjovXFxianNvblxcYi99LHJlc3BvbnNlRmllbGRzOnt4bWw6XCJyZXNwb25zZVhNTFwiLHRleHQ6XCJyZXNwb25zZVRleHRcIixqc29uOlwicmVzcG9uc2VKU09OXCJ9LGNvbnZlcnRlcnM6e1wiKiB0ZXh0XCI6U3RyaW5nLFwidGV4dCBodG1sXCI6ITAsXCJ0ZXh0IGpzb25cIjpKU09OLnBhcnNlLFwidGV4dCB4bWxcIjpjZS5wYXJzZVhNTH0sZmxhdE9wdGlvbnM6e3VybDohMCxjb250ZXh0OiEwfX0sYWpheFNldHVwOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ/R3QoR3QoZSxjZS5hamF4U2V0dGluZ3MpLHQpOkd0KGNlLmFqYXhTZXR0aW5ncyxlKX0sYWpheFByZWZpbHRlcjp6dChCdCksYWpheFRyYW5zcG9ydDp6dChfdCksYWpheDpmdW5jdGlvbihlLHQpe1wib2JqZWN0XCI9PXR5cGVvZiBlJiYodD1lLGU9dm9pZCAwKSx0PXR8fHt9O3ZhciBjLGYscCxuLGQscixoLGcsaSxvLHY9Y2UuYWpheFNldHVwKHt9LHQpLHk9di5jb250ZXh0fHx2LG09di5jb250ZXh0JiYoeS5ub2RlVHlwZXx8eS5qcXVlcnkpP2NlKHkpOmNlLmV2ZW50LHg9Y2UuRGVmZXJyZWQoKSxiPWNlLkNhbGxiYWNrcyhcIm9uY2UgbWVtb3J5XCIpLHc9di5zdGF0dXNDb2RlfHx7fSxhPXt9LHM9e30sdT1cImNhbmNlbGVkXCIsVD17cmVhZHlTdGF0ZTowLGdldFJlc3BvbnNlSGVhZGVyOmZ1bmN0aW9uKGUpe3ZhciB0O2lmKGgpe2lmKCFuKXtuPXt9O3doaWxlKHQ9V3QuZXhlYyhwKSluW3RbMV0udG9Mb3dlckNhc2UoKStcIiBcIl09KG5bdFsxXS50b0xvd2VyQ2FzZSgpK1wiIFwiXXx8W10pLmNvbmNhdCh0WzJdKX10PW5bZS50b0xvd2VyQ2FzZSgpK1wiIFwiXX1yZXR1cm4gbnVsbD09dD9udWxsOnQuam9pbihcIiwgXCIpfSxnZXRBbGxSZXNwb25zZUhlYWRlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gaD9wOm51bGx9LHNldFJlcXVlc3RIZWFkZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbD09aCYmKGU9c1tlLnRvTG93ZXJDYXNlKCldPXNbZS50b0xvd2VyQ2FzZSgpXXx8ZSxhW2VdPXQpLHRoaXN9LG92ZXJyaWRlTWltZVR5cGU6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWgmJih2Lm1pbWVUeXBlPWUpLHRoaXN9LHN0YXR1c0NvZGU6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoZSlpZihoKVQuYWx3YXlzKGVbVC5zdGF0dXNdKTtlbHNlIGZvcih0IGluIGUpd1t0XT1bd1t0XSxlW3RdXTtyZXR1cm4gdGhpc30sYWJvcnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZXx8dTtyZXR1cm4gYyYmYy5hYm9ydCh0KSxsKDAsdCksdGhpc319O2lmKHgucHJvbWlzZShUKSx2LnVybD0oKGV8fHYudXJsfHxFdC5ocmVmKStcIlwiKS5yZXBsYWNlKCR0LEV0LnByb3RvY29sK1wiLy9cIiksdi50eXBlPXQubWV0aG9kfHx0LnR5cGV8fHYubWV0aG9kfHx2LnR5cGUsdi5kYXRhVHlwZXM9KHYuZGF0YVR5cGV8fFwiKlwiKS50b0xvd2VyQ2FzZSgpLm1hdGNoKEQpfHxbXCJcIl0sbnVsbD09di5jcm9zc0RvbWFpbil7cj1DLmNyZWF0ZUVsZW1lbnQoXCJhXCIpO3RyeXtyLmhyZWY9di51cmwsci5ocmVmPXIuaHJlZix2LmNyb3NzRG9tYWluPVV0LnByb3RvY29sK1wiLy9cIitVdC5ob3N0IT1yLnByb3RvY29sK1wiLy9cIityLmhvc3R9Y2F0Y2goZSl7di5jcm9zc0RvbWFpbj0hMH19aWYodi5kYXRhJiZ2LnByb2Nlc3NEYXRhJiZcInN0cmluZ1wiIT10eXBlb2Ygdi5kYXRhJiYodi5kYXRhPWNlLnBhcmFtKHYuZGF0YSx2LnRyYWRpdGlvbmFsKSksVnQoQnQsdix0LFQpLGgpcmV0dXJuIFQ7Zm9yKGkgaW4oZz1jZS5ldmVudCYmdi5nbG9iYWwpJiYwPT1jZS5hY3RpdmUrKyYmY2UuZXZlbnQudHJpZ2dlcihcImFqYXhTdGFydFwiKSx2LnR5cGU9di50eXBlLnRvVXBwZXJDYXNlKCksdi5oYXNDb250ZW50PSFGdC50ZXN0KHYudHlwZSksZj12LnVybC5yZXBsYWNlKE10LFwiXCIpLHYuaGFzQ29udGVudD92LmRhdGEmJnYucHJvY2Vzc0RhdGEmJjA9PT0odi5jb250ZW50VHlwZXx8XCJcIikuaW5kZXhPZihcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiKSYmKHYuZGF0YT12LmRhdGEucmVwbGFjZShSdCxcIitcIikpOihvPXYudXJsLnNsaWNlKGYubGVuZ3RoKSx2LmRhdGEmJih2LnByb2Nlc3NEYXRhfHxcInN0cmluZ1wiPT10eXBlb2Ygdi5kYXRhKSYmKGYrPShBdC50ZXN0KGYpP1wiJlwiOlwiP1wiKSt2LmRhdGEsZGVsZXRlIHYuZGF0YSksITE9PT12LmNhY2hlJiYoZj1mLnJlcGxhY2UoSXQsXCIkMVwiKSxvPShBdC50ZXN0KGYpP1wiJlwiOlwiP1wiKStcIl89XCIranQuZ3VpZCsrK28pLHYudXJsPWYrbyksdi5pZk1vZGlmaWVkJiYoY2UubGFzdE1vZGlmaWVkW2ZdJiZULnNldFJlcXVlc3RIZWFkZXIoXCJJZi1Nb2RpZmllZC1TaW5jZVwiLGNlLmxhc3RNb2RpZmllZFtmXSksY2UuZXRhZ1tmXSYmVC5zZXRSZXF1ZXN0SGVhZGVyKFwiSWYtTm9uZS1NYXRjaFwiLGNlLmV0YWdbZl0pKSwodi5kYXRhJiZ2Lmhhc0NvbnRlbnQmJiExIT09di5jb250ZW50VHlwZXx8dC5jb250ZW50VHlwZSkmJlQuc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtVHlwZVwiLHYuY29udGVudFR5cGUpLFQuc2V0UmVxdWVzdEhlYWRlcihcIkFjY2VwdFwiLHYuZGF0YVR5cGVzWzBdJiZ2LmFjY2VwdHNbdi5kYXRhVHlwZXNbMF1dP3YuYWNjZXB0c1t2LmRhdGFUeXBlc1swXV0rKFwiKlwiIT09di5kYXRhVHlwZXNbMF0/XCIsIFwiK1h0K1wiOyBxPTAuMDFcIjpcIlwiKTp2LmFjY2VwdHNbXCIqXCJdKSx2LmhlYWRlcnMpVC5zZXRSZXF1ZXN0SGVhZGVyKGksdi5oZWFkZXJzW2ldKTtpZih2LmJlZm9yZVNlbmQmJighMT09PXYuYmVmb3JlU2VuZC5jYWxsKHksVCx2KXx8aCkpcmV0dXJuIFQuYWJvcnQoKTtpZih1PVwiYWJvcnRcIixiLmFkZCh2LmNvbXBsZXRlKSxULmRvbmUodi5zdWNjZXNzKSxULmZhaWwodi5lcnJvciksYz1WdChfdCx2LHQsVCkpe2lmKFQucmVhZHlTdGF0ZT0xLGcmJm0udHJpZ2dlcihcImFqYXhTZW5kXCIsW1Qsdl0pLGgpcmV0dXJuIFQ7di5hc3luYyYmMDx2LnRpbWVvdXQmJihkPWllLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtULmFib3J0KFwidGltZW91dFwiKX0sdi50aW1lb3V0KSk7dHJ5e2g9ITEsYy5zZW5kKGEsbCl9Y2F0Y2goZSl7aWYoaCl0aHJvdyBlO2woLTEsZSl9fWVsc2UgbCgtMSxcIk5vIFRyYW5zcG9ydFwiKTtmdW5jdGlvbiBsKGUsdCxuLHIpe3ZhciBpLG8sYSxzLHUsbD10O2h8fChoPSEwLGQmJmllLmNsZWFyVGltZW91dChkKSxjPXZvaWQgMCxwPXJ8fFwiXCIsVC5yZWFkeVN0YXRlPTA8ZT80OjAsaT0yMDA8PWUmJmU8MzAwfHwzMDQ9PT1lLG4mJihzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzPWUuY29udGVudHMsdT1lLmRhdGFUeXBlczt3aGlsZShcIipcIj09PXVbMF0pdS5zaGlmdCgpLHZvaWQgMD09PXImJihyPWUubWltZVR5cGV8fHQuZ2V0UmVzcG9uc2VIZWFkZXIoXCJDb250ZW50LVR5cGVcIikpO2lmKHIpZm9yKGkgaW4gcylpZihzW2ldJiZzW2ldLnRlc3Qocikpe3UudW5zaGlmdChpKTticmVha31pZih1WzBdaW4gbilvPXVbMF07ZWxzZXtmb3IoaSBpbiBuKXtpZighdVswXXx8ZS5jb252ZXJ0ZXJzW2krXCIgXCIrdVswXV0pe289aTticmVha31hfHwoYT1pKX1vPW98fGF9aWYobylyZXR1cm4gbyE9PXVbMF0mJnUudW5zaGlmdChvKSxuW29dfSh2LFQsbikpLCFpJiYtMTxjZS5pbkFycmF5KFwic2NyaXB0XCIsdi5kYXRhVHlwZXMpJiZjZS5pbkFycmF5KFwianNvblwiLHYuZGF0YVR5cGVzKTwwJiYodi5jb252ZXJ0ZXJzW1widGV4dCBzY3JpcHRcIl09ZnVuY3Rpb24oKXt9KSxzPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpLG8sYSxzLHUsbD17fSxjPWUuZGF0YVR5cGVzLnNsaWNlKCk7aWYoY1sxXSlmb3IoYSBpbiBlLmNvbnZlcnRlcnMpbFthLnRvTG93ZXJDYXNlKCldPWUuY29udmVydGVyc1thXTtvPWMuc2hpZnQoKTt3aGlsZShvKWlmKGUucmVzcG9uc2VGaWVsZHNbb10mJihuW2UucmVzcG9uc2VGaWVsZHNbb11dPXQpLCF1JiZyJiZlLmRhdGFGaWx0ZXImJih0PWUuZGF0YUZpbHRlcih0LGUuZGF0YVR5cGUpKSx1PW8sbz1jLnNoaWZ0KCkpaWYoXCIqXCI9PT1vKW89dTtlbHNlIGlmKFwiKlwiIT09dSYmdSE9PW8pe2lmKCEoYT1sW3UrXCIgXCIrb118fGxbXCIqIFwiK29dKSlmb3IoaSBpbiBsKWlmKChzPWkuc3BsaXQoXCIgXCIpKVsxXT09PW8mJihhPWxbdStcIiBcIitzWzBdXXx8bFtcIiogXCIrc1swXV0pKXshMD09PWE/YT1sW2ldOiEwIT09bFtpXSYmKG89c1swXSxjLnVuc2hpZnQoc1sxXSkpO2JyZWFrfWlmKCEwIT09YSlpZihhJiZlW1widGhyb3dzXCJdKXQ9YSh0KTtlbHNlIHRyeXt0PWEodCl9Y2F0Y2goZSl7cmV0dXJue3N0YXRlOlwicGFyc2VyZXJyb3JcIixlcnJvcjphP2U6XCJObyBjb252ZXJzaW9uIGZyb20gXCIrdStcIiB0byBcIitvfX19cmV0dXJue3N0YXRlOlwic3VjY2Vzc1wiLGRhdGE6dH19KHYscyxULGkpLGk/KHYuaWZNb2RpZmllZCYmKCh1PVQuZ2V0UmVzcG9uc2VIZWFkZXIoXCJMYXN0LU1vZGlmaWVkXCIpKSYmKGNlLmxhc3RNb2RpZmllZFtmXT11KSwodT1ULmdldFJlc3BvbnNlSGVhZGVyKFwiZXRhZ1wiKSkmJihjZS5ldGFnW2ZdPXUpKSwyMDQ9PT1lfHxcIkhFQURcIj09PXYudHlwZT9sPVwibm9jb250ZW50XCI6MzA0PT09ZT9sPVwibm90bW9kaWZpZWRcIjoobD1zLnN0YXRlLG89cy5kYXRhLGk9IShhPXMuZXJyb3IpKSk6KGE9bCwhZSYmbHx8KGw9XCJlcnJvclwiLGU8MCYmKGU9MCkpKSxULnN0YXR1cz1lLFQuc3RhdHVzVGV4dD0odHx8bCkrXCJcIixpP3gucmVzb2x2ZVdpdGgoeSxbbyxsLFRdKTp4LnJlamVjdFdpdGgoeSxbVCxsLGFdKSxULnN0YXR1c0NvZGUodyksdz12b2lkIDAsZyYmbS50cmlnZ2VyKGk/XCJhamF4U3VjY2Vzc1wiOlwiYWpheEVycm9yXCIsW1QsdixpP286YV0pLGIuZmlyZVdpdGgoeSxbVCxsXSksZyYmKG0udHJpZ2dlcihcImFqYXhDb21wbGV0ZVwiLFtULHZdKSwtLWNlLmFjdGl2ZXx8Y2UuZXZlbnQudHJpZ2dlcihcImFqYXhTdG9wXCIpKSl9cmV0dXJuIFR9LGdldEpTT046ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBjZS5nZXQoZSx0LG4sXCJqc29uXCIpfSxnZXRTY3JpcHQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gY2UuZ2V0KGUsdm9pZCAwLHQsXCJzY3JpcHRcIil9fSksY2UuZWFjaChbXCJnZXRcIixcInBvc3RcIl0sZnVuY3Rpb24oZSxpKXtjZVtpXT1mdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gdih0KSYmKHI9cnx8bixuPXQsdD12b2lkIDApLGNlLmFqYXgoY2UuZXh0ZW5kKHt1cmw6ZSx0eXBlOmksZGF0YVR5cGU6cixkYXRhOnQsc3VjY2VzczpufSxjZS5pc1BsYWluT2JqZWN0KGUpJiZlKSl9fSksY2UuYWpheFByZWZpbHRlcihmdW5jdGlvbihlKXt2YXIgdDtmb3IodCBpbiBlLmhlYWRlcnMpXCJjb250ZW50LXR5cGVcIj09PXQudG9Mb3dlckNhc2UoKSYmKGUuY29udGVudFR5cGU9ZS5oZWFkZXJzW3RdfHxcIlwiKX0pLGNlLl9ldmFsVXJsPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gY2UuYWpheCh7dXJsOmUsdHlwZTpcIkdFVFwiLGRhdGFUeXBlOlwic2NyaXB0XCIsY2FjaGU6ITAsYXN5bmM6ITEsZ2xvYmFsOiExLGNvbnZlcnRlcnM6e1widGV4dCBzY3JpcHRcIjpmdW5jdGlvbigpe319LGRhdGFGaWx0ZXI6ZnVuY3Rpb24oZSl7Y2UuZ2xvYmFsRXZhbChlLHQsbil9fSl9LGNlLmZuLmV4dGVuZCh7d3JhcEFsbDpmdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gdGhpc1swXSYmKHYoZSkmJihlPWUuY2FsbCh0aGlzWzBdKSksdD1jZShlLHRoaXNbMF0ub3duZXJEb2N1bWVudCkuZXEoMCkuY2xvbmUoITApLHRoaXNbMF0ucGFyZW50Tm9kZSYmdC5pbnNlcnRCZWZvcmUodGhpc1swXSksdC5tYXAoZnVuY3Rpb24oKXt2YXIgZT10aGlzO3doaWxlKGUuZmlyc3RFbGVtZW50Q2hpbGQpZT1lLmZpcnN0RWxlbWVudENoaWxkO3JldHVybiBlfSkuYXBwZW5kKHRoaXMpKSx0aGlzfSx3cmFwSW5uZXI6ZnVuY3Rpb24obil7cmV0dXJuIHYobik/dGhpcy5lYWNoKGZ1bmN0aW9uKGUpe2NlKHRoaXMpLndyYXBJbm5lcihuLmNhbGwodGhpcyxlKSl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT1jZSh0aGlzKSx0PWUuY29udGVudHMoKTt0Lmxlbmd0aD90LndyYXBBbGwobik6ZS5hcHBlbmQobil9KX0sd3JhcDpmdW5jdGlvbih0KXt2YXIgbj12KHQpO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oZSl7Y2UodGhpcykud3JhcEFsbChuP3QuY2FsbCh0aGlzLGUpOnQpfSl9LHVud3JhcDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wYXJlbnQoZSkubm90KFwiYm9keVwiKS5lYWNoKGZ1bmN0aW9uKCl7Y2UodGhpcykucmVwbGFjZVdpdGgodGhpcy5jaGlsZE5vZGVzKX0pLHRoaXN9fSksY2UuZXhwci5wc2V1ZG9zLmhpZGRlbj1mdW5jdGlvbihlKXtyZXR1cm4hY2UuZXhwci5wc2V1ZG9zLnZpc2libGUoZSl9LGNlLmV4cHIucHNldWRvcy52aXNpYmxlPWZ1bmN0aW9uKGUpe3JldHVybiEhKGUub2Zmc2V0V2lkdGh8fGUub2Zmc2V0SGVpZ2h0fHxlLmdldENsaWVudFJlY3RzKCkubGVuZ3RoKX0sY2UuYWpheFNldHRpbmdzLnhocj1mdW5jdGlvbigpe3RyeXtyZXR1cm4gbmV3IGllLlhNTEh0dHBSZXF1ZXN0fWNhdGNoKGUpe319O3ZhciBZdD17MDoyMDAsMTIyMzoyMDR9LFF0PWNlLmFqYXhTZXR0aW5ncy54aHIoKTtsZS5jb3JzPSEhUXQmJlwid2l0aENyZWRlbnRpYWxzXCJpbiBRdCxsZS5hamF4PVF0PSEhUXQsY2UuYWpheFRyYW5zcG9ydChmdW5jdGlvbihpKXt2YXIgbyxhO2lmKGxlLmNvcnN8fFF0JiYhaS5jcm9zc0RvbWFpbilyZXR1cm57c2VuZDpmdW5jdGlvbihlLHQpe3ZhciBuLHI9aS54aHIoKTtpZihyLm9wZW4oaS50eXBlLGkudXJsLGkuYXN5bmMsaS51c2VybmFtZSxpLnBhc3N3b3JkKSxpLnhockZpZWxkcylmb3IobiBpbiBpLnhockZpZWxkcylyW25dPWkueGhyRmllbGRzW25dO2ZvcihuIGluIGkubWltZVR5cGUmJnIub3ZlcnJpZGVNaW1lVHlwZSYmci5vdmVycmlkZU1pbWVUeXBlKGkubWltZVR5cGUpLGkuY3Jvc3NEb21haW58fGVbXCJYLVJlcXVlc3RlZC1XaXRoXCJdfHwoZVtcIlgtUmVxdWVzdGVkLVdpdGhcIl09XCJYTUxIdHRwUmVxdWVzdFwiKSxlKXIuc2V0UmVxdWVzdEhlYWRlcihuLGVbbl0pO289ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7byYmKG89YT1yLm9ubG9hZD1yLm9uZXJyb3I9ci5vbmFib3J0PXIub250aW1lb3V0PXIub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsXCJhYm9ydFwiPT09ZT9yLmFib3J0KCk6XCJlcnJvclwiPT09ZT9cIm51bWJlclwiIT10eXBlb2Ygci5zdGF0dXM/dCgwLFwiZXJyb3JcIik6dChyLnN0YXR1cyxyLnN0YXR1c1RleHQpOnQoWXRbci5zdGF0dXNdfHxyLnN0YXR1cyxyLnN0YXR1c1RleHQsXCJ0ZXh0XCIhPT0oci5yZXNwb25zZVR5cGV8fFwidGV4dFwiKXx8XCJzdHJpbmdcIiE9dHlwZW9mIHIucmVzcG9uc2VUZXh0P3tiaW5hcnk6ci5yZXNwb25zZX06e3RleHQ6ci5yZXNwb25zZVRleHR9LHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpKX19LHIub25sb2FkPW8oKSxhPXIub25lcnJvcj1yLm9udGltZW91dD1vKFwiZXJyb3JcIiksdm9pZCAwIT09ci5vbmFib3J0P3Iub25hYm9ydD1hOnIub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ND09PXIucmVhZHlTdGF0ZSYmaWUuc2V0VGltZW91dChmdW5jdGlvbigpe28mJmEoKX0pfSxvPW8oXCJhYm9ydFwiKTt0cnl7ci5zZW5kKGkuaGFzQ29udGVudCYmaS5kYXRhfHxudWxsKX1jYXRjaChlKXtpZihvKXRocm93IGV9fSxhYm9ydDpmdW5jdGlvbigpe28mJm8oKX19fSksY2UuYWpheFByZWZpbHRlcihmdW5jdGlvbihlKXtlLmNyb3NzRG9tYWluJiYoZS5jb250ZW50cy5zY3JpcHQ9ITEpfSksY2UuYWpheFNldHVwKHthY2NlcHRzOntzY3JpcHQ6XCJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2VjbWFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtZWNtYXNjcmlwdFwifSxjb250ZW50czp7c2NyaXB0Oi9cXGIoPzpqYXZhfGVjbWEpc2NyaXB0XFxiL30sY29udmVydGVyczp7XCJ0ZXh0IHNjcmlwdFwiOmZ1bmN0aW9uKGUpe3JldHVybiBjZS5nbG9iYWxFdmFsKGUpLGV9fX0pLGNlLmFqYXhQcmVmaWx0ZXIoXCJzY3JpcHRcIixmdW5jdGlvbihlKXt2b2lkIDA9PT1lLmNhY2hlJiYoZS5jYWNoZT0hMSksZS5jcm9zc0RvbWFpbiYmKGUudHlwZT1cIkdFVFwiKX0pLGNlLmFqYXhUcmFuc3BvcnQoXCJzY3JpcHRcIixmdW5jdGlvbihuKXt2YXIgcixpO2lmKG4uY3Jvc3NEb21haW58fG4uc2NyaXB0QXR0cnMpcmV0dXJue3NlbmQ6ZnVuY3Rpb24oZSx0KXtyPWNlKFwiPHNjcmlwdD5cIikuYXR0cihuLnNjcmlwdEF0dHJzfHx7fSkucHJvcCh7Y2hhcnNldDpuLnNjcmlwdENoYXJzZXQsc3JjOm4udXJsfSkub24oXCJsb2FkIGVycm9yXCIsaT1mdW5jdGlvbihlKXtyLnJlbW92ZSgpLGk9bnVsbCxlJiZ0KFwiZXJyb3JcIj09PWUudHlwZT80MDQ6MjAwLGUudHlwZSl9KSxDLmhlYWQuYXBwZW5kQ2hpbGQoclswXSl9LGFib3J0OmZ1bmN0aW9uKCl7aSYmaSgpfX19KTt2YXIgSnQsS3Q9W10sWnQ9Lyg9KVxcPyg/PSZ8JCl8XFw/XFw/LztjZS5hamF4U2V0dXAoe2pzb25wOlwiY2FsbGJhY2tcIixqc29ucENhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGU9S3QucG9wKCl8fGNlLmV4cGFuZG8rXCJfXCIranQuZ3VpZCsrO3JldHVybiB0aGlzW2VdPSEwLGV9fSksY2UuYWpheFByZWZpbHRlcihcImpzb24ganNvbnBcIixmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGE9ITEhPT1lLmpzb25wJiYoWnQudGVzdChlLnVybCk/XCJ1cmxcIjpcInN0cmluZ1wiPT10eXBlb2YgZS5kYXRhJiYwPT09KGUuY29udGVudFR5cGV8fFwiXCIpLmluZGV4T2YoXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIikmJlp0LnRlc3QoZS5kYXRhKSYmXCJkYXRhXCIpO2lmKGF8fFwianNvbnBcIj09PWUuZGF0YVR5cGVzWzBdKXJldHVybiByPWUuanNvbnBDYWxsYmFjaz12KGUuanNvbnBDYWxsYmFjayk/ZS5qc29ucENhbGxiYWNrKCk6ZS5qc29ucENhbGxiYWNrLGE/ZVthXT1lW2FdLnJlcGxhY2UoWnQsXCIkMVwiK3IpOiExIT09ZS5qc29ucCYmKGUudXJsKz0oQXQudGVzdChlLnVybCk/XCImXCI6XCI/XCIpK2UuanNvbnArXCI9XCIrciksZS5jb252ZXJ0ZXJzW1wic2NyaXB0IGpzb25cIl09ZnVuY3Rpb24oKXtyZXR1cm4gb3x8Y2UuZXJyb3IocitcIiB3YXMgbm90IGNhbGxlZFwiKSxvWzBdfSxlLmRhdGFUeXBlc1swXT1cImpzb25cIixpPWllW3JdLGllW3JdPWZ1bmN0aW9uKCl7bz1hcmd1bWVudHN9LG4uYWx3YXlzKGZ1bmN0aW9uKCl7dm9pZCAwPT09aT9jZShpZSkucmVtb3ZlUHJvcChyKTppZVtyXT1pLGVbcl0mJihlLmpzb25wQ2FsbGJhY2s9dC5qc29ucENhbGxiYWNrLEt0LnB1c2gocikpLG8mJnYoaSkmJmkob1swXSksbz1pPXZvaWQgMH0pLFwic2NyaXB0XCJ9KSxsZS5jcmVhdGVIVE1MRG9jdW1lbnQ9KChKdD1DLmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudChcIlwiKS5ib2R5KS5pbm5lckhUTUw9XCI8Zm9ybT48L2Zvcm0+PGZvcm0+PC9mb3JtPlwiLDI9PT1KdC5jaGlsZE5vZGVzLmxlbmd0aCksY2UucGFyc2VIVE1MPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm5cInN0cmluZ1wiIT10eXBlb2YgZT9bXTooXCJib29sZWFuXCI9PXR5cGVvZiB0JiYobj10LHQ9ITEpLHR8fChsZS5jcmVhdGVIVE1MRG9jdW1lbnQ/KChyPSh0PUMuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KFwiXCIpKS5jcmVhdGVFbGVtZW50KFwiYmFzZVwiKSkuaHJlZj1DLmxvY2F0aW9uLmhyZWYsdC5oZWFkLmFwcGVuZENoaWxkKHIpKTp0PUMpLG89IW4mJltdLChpPXcuZXhlYyhlKSk/W3QuY3JlYXRlRWxlbWVudChpWzFdKV06KGk9QWUoW2VdLHQsbyksbyYmby5sZW5ndGgmJmNlKG8pLnJlbW92ZSgpLGNlLm1lcmdlKFtdLGkuY2hpbGROb2RlcykpKTt2YXIgcixpLG99LGNlLmZuLmxvYWQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbyxhPXRoaXMscz1lLmluZGV4T2YoXCIgXCIpO3JldHVybi0xPHMmJihyPVR0KGUuc2xpY2UocykpLGU9ZS5zbGljZSgwLHMpKSx2KHQpPyhuPXQsdD12b2lkIDApOnQmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiYoaT1cIlBPU1RcIiksMDxhLmxlbmd0aCYmY2UuYWpheCh7dXJsOmUsdHlwZTppfHxcIkdFVFwiLGRhdGFUeXBlOlwiaHRtbFwiLGRhdGE6dH0pLmRvbmUoZnVuY3Rpb24oZSl7bz1hcmd1bWVudHMsYS5odG1sKHI/Y2UoXCI8ZGl2PlwiKS5hcHBlbmQoY2UucGFyc2VIVE1MKGUpKS5maW5kKHIpOmUpfSkuYWx3YXlzKG4mJmZ1bmN0aW9uKGUsdCl7YS5lYWNoKGZ1bmN0aW9uKCl7bi5hcHBseSh0aGlzLG98fFtlLnJlc3BvbnNlVGV4dCx0LGVdKX0pfSksdGhpc30sY2UuZXhwci5wc2V1ZG9zLmFuaW1hdGVkPWZ1bmN0aW9uKHQpe3JldHVybiBjZS5ncmVwKGNlLnRpbWVycyxmdW5jdGlvbihlKXtyZXR1cm4gdD09PWUuZWxlbX0pLmxlbmd0aH0sY2Uub2Zmc2V0PXtzZXRPZmZzZXQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbyxhLHMsdSxsPWNlLmNzcyhlLFwicG9zaXRpb25cIiksYz1jZShlKSxmPXt9O1wic3RhdGljXCI9PT1sJiYoZS5zdHlsZS5wb3NpdGlvbj1cInJlbGF0aXZlXCIpLHM9Yy5vZmZzZXQoKSxvPWNlLmNzcyhlLFwidG9wXCIpLHU9Y2UuY3NzKGUsXCJsZWZ0XCIpLChcImFic29sdXRlXCI9PT1sfHxcImZpeGVkXCI9PT1sKSYmLTE8KG8rdSkuaW5kZXhPZihcImF1dG9cIik/KGE9KHI9Yy5wb3NpdGlvbigpKS50b3AsaT1yLmxlZnQpOihhPXBhcnNlRmxvYXQobyl8fDAsaT1wYXJzZUZsb2F0KHUpfHwwKSx2KHQpJiYodD10LmNhbGwoZSxuLGNlLmV4dGVuZCh7fSxzKSkpLG51bGwhPXQudG9wJiYoZi50b3A9dC50b3Atcy50b3ArYSksbnVsbCE9dC5sZWZ0JiYoZi5sZWZ0PXQubGVmdC1zLmxlZnQraSksXCJ1c2luZ1wiaW4gdD90LnVzaW5nLmNhbGwoZSxmKTpjLmNzcyhmKX19LGNlLmZuLmV4dGVuZCh7b2Zmc2V0OmZ1bmN0aW9uKHQpe2lmKGFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHZvaWQgMD09PXQ/dGhpczp0aGlzLmVhY2goZnVuY3Rpb24oZSl7Y2Uub2Zmc2V0LnNldE9mZnNldCh0aGlzLHQsZSl9KTt2YXIgZSxuLHI9dGhpc1swXTtyZXR1cm4gcj9yLmdldENsaWVudFJlY3RzKCkubGVuZ3RoPyhlPXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbj1yLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcse3RvcDplLnRvcCtuLnBhZ2VZT2Zmc2V0LGxlZnQ6ZS5sZWZ0K24ucGFnZVhPZmZzZXR9KTp7dG9wOjAsbGVmdDowfTp2b2lkIDB9LHBvc2l0aW9uOmZ1bmN0aW9uKCl7aWYodGhpc1swXSl7dmFyIGUsdCxuLHI9dGhpc1swXSxpPXt0b3A6MCxsZWZ0OjB9O2lmKFwiZml4ZWRcIj09PWNlLmNzcyhyLFwicG9zaXRpb25cIikpdD1yLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2Vsc2V7dD10aGlzLm9mZnNldCgpLG49ci5vd25lckRvY3VtZW50LGU9ci5vZmZzZXRQYXJlbnR8fG4uZG9jdW1lbnRFbGVtZW50O3doaWxlKGUmJihlPT09bi5ib2R5fHxlPT09bi5kb2N1bWVudEVsZW1lbnQpJiZcInN0YXRpY1wiPT09Y2UuY3NzKGUsXCJwb3NpdGlvblwiKSllPWUucGFyZW50Tm9kZTtlJiZlIT09ciYmMT09PWUubm9kZVR5cGUmJigoaT1jZShlKS5vZmZzZXQoKSkudG9wKz1jZS5jc3MoZSxcImJvcmRlclRvcFdpZHRoXCIsITApLGkubGVmdCs9Y2UuY3NzKGUsXCJib3JkZXJMZWZ0V2lkdGhcIiwhMCkpfXJldHVybnt0b3A6dC50b3AtaS50b3AtY2UuY3NzKHIsXCJtYXJnaW5Ub3BcIiwhMCksbGVmdDp0LmxlZnQtaS5sZWZ0LWNlLmNzcyhyLFwibWFyZ2luTGVmdFwiLCEwKX19fSxvZmZzZXRQYXJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9mZnNldFBhcmVudDt3aGlsZShlJiZcInN0YXRpY1wiPT09Y2UuY3NzKGUsXCJwb3NpdGlvblwiKSllPWUub2Zmc2V0UGFyZW50O3JldHVybiBlfHxKfSl9fSksY2UuZWFjaCh7c2Nyb2xsTGVmdDpcInBhZ2VYT2Zmc2V0XCIsc2Nyb2xsVG9wOlwicGFnZVlPZmZzZXRcIn0sZnVuY3Rpb24odCxpKXt2YXIgbz1cInBhZ2VZT2Zmc2V0XCI9PT1pO2NlLmZuW3RdPWZ1bmN0aW9uKGUpe3JldHVybiBSKHRoaXMsZnVuY3Rpb24oZSx0LG4pe3ZhciByO2lmKHkoZSk/cj1lOjk9PT1lLm5vZGVUeXBlJiYocj1lLmRlZmF1bHRWaWV3KSx2b2lkIDA9PT1uKXJldHVybiByP3JbaV06ZVt0XTtyP3Iuc2Nyb2xsVG8obz9yLnBhZ2VYT2Zmc2V0Om4sbz9uOnIucGFnZVlPZmZzZXQpOmVbdF09bn0sdCxlLGFyZ3VtZW50cy5sZW5ndGgpfX0pLGNlLmVhY2goW1widG9wXCIsXCJsZWZ0XCJdLGZ1bmN0aW9uKGUsbil7Y2UuY3NzSG9va3Nbbl09WWUobGUucGl4ZWxQb3NpdGlvbixmdW5jdGlvbihlLHQpe2lmKHQpcmV0dXJuIHQ9R2UoZSxuKSxfZS50ZXN0KHQpP2NlKGUpLnBvc2l0aW9uKClbbl0rXCJweFwiOnR9KX0pLGNlLmVhY2goe0hlaWdodDpcImhlaWdodFwiLFdpZHRoOlwid2lkdGhcIn0sZnVuY3Rpb24oYSxzKXtjZS5lYWNoKHtwYWRkaW5nOlwiaW5uZXJcIithLGNvbnRlbnQ6cyxcIlwiOlwib3V0ZXJcIithfSxmdW5jdGlvbihyLG8pe2NlLmZuW29dPWZ1bmN0aW9uKGUsdCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aCYmKHJ8fFwiYm9vbGVhblwiIT10eXBlb2YgZSksaT1yfHwoITA9PT1lfHwhMD09PXQ/XCJtYXJnaW5cIjpcImJvcmRlclwiKTtyZXR1cm4gUih0aGlzLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtyZXR1cm4geShlKT8wPT09by5pbmRleE9mKFwib3V0ZXJcIik/ZVtcImlubmVyXCIrYV06ZS5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbXCJjbGllbnRcIithXTo5PT09ZS5ub2RlVHlwZT8ocj1lLmRvY3VtZW50RWxlbWVudCxNYXRoLm1heChlLmJvZHlbXCJzY3JvbGxcIithXSxyW1wic2Nyb2xsXCIrYV0sZS5ib2R5W1wib2Zmc2V0XCIrYV0scltcIm9mZnNldFwiK2FdLHJbXCJjbGllbnRcIithXSkpOnZvaWQgMD09PW4/Y2UuY3NzKGUsdCxpKTpjZS5zdHlsZShlLHQsbixpKX0scyxuP2U6dm9pZCAwLG4pfX0pfSksY2UuZWFjaChbXCJhamF4U3RhcnRcIixcImFqYXhTdG9wXCIsXCJhamF4Q29tcGxldGVcIixcImFqYXhFcnJvclwiLFwiYWpheFN1Y2Nlc3NcIixcImFqYXhTZW5kXCJdLGZ1bmN0aW9uKGUsdCl7Y2UuZm5bdF09ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMub24odCxlKX19KSxjZS5mbi5leHRlbmQoe2JpbmQ6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0aGlzLm9uKGUsbnVsbCx0LG4pfSx1bmJpbmQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5vZmYoZSxudWxsLHQpfSxkZWxlZ2F0ZTpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gdGhpcy5vbih0LGUsbixyKX0sdW5kZWxlZ2F0ZTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMub2ZmKGUsXCIqKlwiKTp0aGlzLm9mZih0LGV8fFwiKipcIixuKX0saG92ZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5tb3VzZWVudGVyKGUpLm1vdXNlbGVhdmUodHx8ZSl9fSksY2UuZWFjaChcImJsdXIgZm9jdXMgZm9jdXNpbiBmb2N1c291dCByZXNpemUgc2Nyb2xsIGNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIGNoYW5nZSBzZWxlY3Qgc3VibWl0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgY29udGV4dG1lbnVcIi5zcGxpdChcIiBcIiksZnVuY3Rpb24oZSxuKXtjZS5mbltuXT1mdW5jdGlvbihlLHQpe3JldHVybiAwPGFyZ3VtZW50cy5sZW5ndGg/dGhpcy5vbihuLG51bGwsZSx0KTp0aGlzLnRyaWdnZXIobil9fSk7dmFyIGVuPS9eW1xcc1xcdUZFRkZcXHhBMF0rfChbXlxcc1xcdUZFRkZcXHhBMF0pW1xcc1xcdUZFRkZcXHhBMF0rJC9nO2NlLnByb3h5PWZ1bmN0aW9uKGUsdCl7dmFyIG4scixpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0JiYobj1lW3RdLHQ9ZSxlPW4pLHYoZSkpcmV0dXJuIHI9YWUuY2FsbChhcmd1bWVudHMsMiksKGk9ZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseSh0fHx0aGlzLHIuY29uY2F0KGFlLmNhbGwoYXJndW1lbnRzKSkpfSkuZ3VpZD1lLmd1aWQ9ZS5ndWlkfHxjZS5ndWlkKyssaX0sY2UuaG9sZFJlYWR5PWZ1bmN0aW9uKGUpe2U/Y2UucmVhZHlXYWl0Kys6Y2UucmVhZHkoITApfSxjZS5pc0FycmF5PUFycmF5LmlzQXJyYXksY2UucGFyc2VKU09OPUpTT04ucGFyc2UsY2Uubm9kZU5hbWU9ZmUsY2UuaXNGdW5jdGlvbj12LGNlLmlzV2luZG93PXksY2UuY2FtZWxDYXNlPUYsY2UudHlwZT14LGNlLm5vdz1EYXRlLm5vdyxjZS5pc051bWVyaWM9ZnVuY3Rpb24oZSl7dmFyIHQ9Y2UudHlwZShlKTtyZXR1cm4oXCJudW1iZXJcIj09PXR8fFwic3RyaW5nXCI9PT10KSYmIWlzTmFOKGUtcGFyc2VGbG9hdChlKSl9LGNlLnRyaW09ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWU/XCJcIjooZStcIlwiKS5yZXBsYWNlKGVuLFwiJDFcIil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZCYmZGVmaW5lKFwianF1ZXJ5XCIsW10sZnVuY3Rpb24oKXtyZXR1cm4gY2V9KTt2YXIgdG49aWUualF1ZXJ5LG5uPWllLiQ7cmV0dXJuIGNlLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIGllLiQ9PT1jZSYmKGllLiQ9bm4pLGUmJmllLmpRdWVyeT09PWNlJiYoaWUualF1ZXJ5PXRuKSxjZX0sXCJ1bmRlZmluZWRcIj09dHlwZW9mIGUmJihpZS5qUXVlcnk9aWUuJD1jZSksY2V9KTtcbiIsIi8qKlxuICogYnhTbGlkZXIgdjQuMi4xZFxuICogQ29weXJpZ2h0IDIwMTMtMjAxNyBTdGV2ZW4gV2FuZGVyc2tpXG4gKiBXcml0dGVuIHdoaWxlIGRyaW5raW5nIEJlbGdpYW4gYWxlcyBhbmQgbGlzdGVuaW5nIHRvIGphenpcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVClcbiAqL1xuIWZ1bmN0aW9uKHQpe3ZhciBlPXttb2RlOlwiaG9yaXpvbnRhbFwiLHNsaWRlU2VsZWN0b3I6XCJcIixpbmZpbml0ZUxvb3A6ITAsaGlkZUNvbnRyb2xPbkVuZDohMSxzcGVlZDo1MDAsZWFzaW5nOm51bGwsc2xpZGVNYXJnaW46MCxzdGFydFNsaWRlOjAscmFuZG9tU3RhcnQ6ITEsY2FwdGlvbnM6ITEsdGlja2VyOiExLHRpY2tlckhvdmVyOiExLGFkYXB0aXZlSGVpZ2h0OiExLGFkYXB0aXZlSGVpZ2h0U3BlZWQ6NTAwLHZpZGVvOiExLHVzZUNTUzohMCxwcmVsb2FkSW1hZ2VzOlwidmlzaWJsZVwiLHJlc3BvbnNpdmU6ITAsc2xpZGVaSW5kZXg6NTAsd3JhcHBlckNsYXNzOlwiYngtd3JhcHBlclwiLHRvdWNoRW5hYmxlZDohMCxzd2lwZVRocmVzaG9sZDo1MCxvbmVUb09uZVRvdWNoOiEwLHByZXZlbnREZWZhdWx0U3dpcGVYOiEwLHByZXZlbnREZWZhdWx0U3dpcGVZOiExLGFyaWFMaXZlOiEwLGFyaWFIaWRkZW46ITAsa2V5Ym9hcmRFbmFibGVkOiExLHBhZ2VyOiEwLHBhZ2VyVHlwZTpcImZ1bGxcIixwYWdlclNob3J0U2VwYXJhdG9yOlwiIC8gXCIscGFnZXJTZWxlY3RvcjpudWxsLGJ1aWxkUGFnZXI6bnVsbCxwYWdlckN1c3RvbTpudWxsLGNvbnRyb2xzOiEwLG5leHRUZXh0OlwiTmV4dFwiLHByZXZUZXh0OlwiUHJldlwiLG5leHRTZWxlY3RvcjpudWxsLHByZXZTZWxlY3RvcjpudWxsLGF1dG9Db250cm9sczohMSxzdGFydFRleHQ6XCJTdGFydFwiLHN0b3BUZXh0OlwiU3RvcFwiLGF1dG9Db250cm9sc0NvbWJpbmU6ITEsYXV0b0NvbnRyb2xzU2VsZWN0b3I6bnVsbCxhdXRvOiExLHBhdXNlOjRlMyxhdXRvU3RhcnQ6ITAsYXV0b0RpcmVjdGlvbjpcIm5leHRcIixzdG9wQXV0b09uQ2xpY2s6ITEsYXV0b0hvdmVyOiExLGF1dG9EZWxheTowLGF1dG9TbGlkZUZvck9uZVBhZ2U6ITEsbWluU2xpZGVzOjEsbWF4U2xpZGVzOjEsbW92ZVNsaWRlczowLHNsaWRlV2lkdGg6MCxzaHJpbmtJdGVtczohMSxvblNsaWRlckxvYWQ6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sb25TbGlkZUJlZm9yZTpmdW5jdGlvbigpe3JldHVybiEwfSxvblNsaWRlQWZ0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sb25TbGlkZU5leHQ6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sb25TbGlkZVByZXY6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sb25TbGlkZXJSZXNpemU6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sb25BdXRvQ2hhbmdlOmZ1bmN0aW9uKCl7cmV0dXJuITB9fTt0LmZuLmJ4U2xpZGVyPWZ1bmN0aW9uKG4pe2lmKDA9PT10aGlzLmxlbmd0aClyZXR1cm4gdGhpcztpZih0aGlzLmxlbmd0aD4xKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt0KHRoaXMpLmJ4U2xpZGVyKG4pfSksdGhpczt2YXIgcz17fSxvPXRoaXMscj10KHdpbmRvdykud2lkdGgoKSxhPXQod2luZG93KS5oZWlnaHQoKTtpZighdChvKS5kYXRhKFwiYnhTbGlkZXJcIikpe3ZhciBsPWZ1bmN0aW9uKCl7dChvKS5kYXRhKFwiYnhTbGlkZXJcIil8fChzLnNldHRpbmdzPXQuZXh0ZW5kKHt9LGUsbikscy5zZXR0aW5ncy5zbGlkZVdpZHRoPXBhcnNlSW50KHMuc2V0dGluZ3Muc2xpZGVXaWR0aCkscy5jaGlsZHJlbj1vLmNoaWxkcmVuKHMuc2V0dGluZ3Muc2xpZGVTZWxlY3Rvcikscy5jaGlsZHJlbi5sZW5ndGg8cy5zZXR0aW5ncy5taW5TbGlkZXMmJihzLnNldHRpbmdzLm1pblNsaWRlcz1zLmNoaWxkcmVuLmxlbmd0aCkscy5jaGlsZHJlbi5sZW5ndGg8cy5zZXR0aW5ncy5tYXhTbGlkZXMmJihzLnNldHRpbmdzLm1heFNsaWRlcz1zLmNoaWxkcmVuLmxlbmd0aCkscy5zZXR0aW5ncy5yYW5kb21TdGFydCYmKHMuc2V0dGluZ3Muc3RhcnRTbGlkZT1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqcy5jaGlsZHJlbi5sZW5ndGgpKSxzLmFjdGl2ZT17aW5kZXg6cy5zZXR0aW5ncy5zdGFydFNsaWRlfSxzLmNhcm91c2VsPXMuc2V0dGluZ3MubWluU2xpZGVzPjF8fHMuc2V0dGluZ3MubWF4U2xpZGVzPjEscy5jYXJvdXNlbCYmKHMuc2V0dGluZ3MucHJlbG9hZEltYWdlcz1cImFsbFwiKSxzLm1pblRocmVzaG9sZD1zLnNldHRpbmdzLm1pblNsaWRlcypzLnNldHRpbmdzLnNsaWRlV2lkdGgrKHMuc2V0dGluZ3MubWluU2xpZGVzLTEpKnMuc2V0dGluZ3Muc2xpZGVNYXJnaW4scy5tYXhUaHJlc2hvbGQ9cy5zZXR0aW5ncy5tYXhTbGlkZXMqcy5zZXR0aW5ncy5zbGlkZVdpZHRoKyhzLnNldHRpbmdzLm1heFNsaWRlcy0xKSpzLnNldHRpbmdzLnNsaWRlTWFyZ2luLHMud29ya2luZz0hMSxzLmNvbnRyb2xzPXt9LHMuaW50ZXJ2YWw9bnVsbCxzLmFuaW1Qcm9wPVwidmVydGljYWxcIj09PXMuc2V0dGluZ3MubW9kZT9cInRvcFwiOlwibGVmdFwiLHMudXNpbmdDU1M9cy5zZXR0aW5ncy51c2VDU1MmJlwiZmFkZVwiIT09cy5zZXR0aW5ncy5tb2RlJiZmdW5jdGlvbigpe2Zvcih2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGU9W1wiV2Via2l0UGVyc3BlY3RpdmVcIixcIk1velBlcnNwZWN0aXZlXCIsXCJPUGVyc3BlY3RpdmVcIixcIm1zUGVyc3BlY3RpdmVcIl0saT0wO2k8ZS5sZW5ndGg7aSsrKWlmKHZvaWQgMCE9PXQuc3R5bGVbZVtpXV0pcmV0dXJuIHMuY3NzUHJlZml4PWVbaV0ucmVwbGFjZShcIlBlcnNwZWN0aXZlXCIsXCJcIikudG9Mb3dlckNhc2UoKSxzLmFuaW1Qcm9wPVwiLVwiK3MuY3NzUHJlZml4K1wiLXRyYW5zZm9ybVwiLCEwO3JldHVybiExfSgpLFwidmVydGljYWxcIj09PXMuc2V0dGluZ3MubW9kZSYmKHMuc2V0dGluZ3MubWF4U2xpZGVzPXMuc2V0dGluZ3MubWluU2xpZGVzKSxvLmRhdGEoXCJvcmlnU3R5bGVcIixvLmF0dHIoXCJzdHlsZVwiKSksby5jaGlsZHJlbihzLnNldHRpbmdzLnNsaWRlU2VsZWN0b3IpLmVhY2goZnVuY3Rpb24oKXt0KHRoaXMpLmRhdGEoXCJvcmlnU3R5bGVcIix0KHRoaXMpLmF0dHIoXCJzdHlsZVwiKSl9KSxkKCkpfSxkPWZ1bmN0aW9uKCl7dmFyIGU9cy5jaGlsZHJlbi5lcShzLnNldHRpbmdzLnN0YXJ0U2xpZGUpO28ud3JhcCgnPGRpdiBjbGFzcz1cIicrcy5zZXR0aW5ncy53cmFwcGVyQ2xhc3MrJ1wiPjxkaXYgY2xhc3M9XCJieC12aWV3cG9ydFwiPjwvZGl2PjwvZGl2PicpLHMudmlld3BvcnQ9by5wYXJlbnQoKSxzLnNldHRpbmdzLmFyaWFMaXZlJiYhcy5zZXR0aW5ncy50aWNrZXImJnMudmlld3BvcnQuYXR0cihcImFyaWEtbGl2ZVwiLFwicG9saXRlXCIpLHMubG9hZGVyPXQoJzxkaXYgY2xhc3M9XCJieC1sb2FkaW5nXCIgLz4nKSxzLnZpZXdwb3J0LnByZXBlbmQocy5sb2FkZXIpLG8uY3NzKHt3aWR0aDpcImhvcml6b250YWxcIj09PXMuc2V0dGluZ3MubW9kZT8xZTMqcy5jaGlsZHJlbi5sZW5ndGgrMjE1K1wiJVwiOlwiYXV0b1wiLHBvc2l0aW9uOlwicmVsYXRpdmVcIn0pLHMudXNpbmdDU1MmJnMuc2V0dGluZ3MuZWFzaW5nP28uY3NzKFwiLVwiK3MuY3NzUHJlZml4K1wiLXRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uXCIscy5zZXR0aW5ncy5lYXNpbmcpOnMuc2V0dGluZ3MuZWFzaW5nfHwocy5zZXR0aW5ncy5lYXNpbmc9XCJzd2luZ1wiKSxzLnZpZXdwb3J0LmNzcyh7d2lkdGg6XCIxMDAlXCIsb3ZlcmZsb3c6XCJoaWRkZW5cIixwb3NpdGlvbjpcInJlbGF0aXZlXCJ9KSxzLnZpZXdwb3J0LnBhcmVudCgpLmNzcyh7bWF4V2lkdGg6dSgpfSkscy5jaGlsZHJlbi5jc3Moe2Zsb2F0OlwiaG9yaXpvbnRhbFwiPT09cy5zZXR0aW5ncy5tb2RlP1wibGVmdFwiOlwibm9uZVwiLGxpc3RTdHlsZTpcIm5vbmVcIixwb3NpdGlvbjpcInJlbGF0aXZlXCJ9KSxzLmNoaWxkcmVuLmNzcyhcIndpZHRoXCIsaCgpKSxcImhvcml6b250YWxcIj09PXMuc2V0dGluZ3MubW9kZSYmcy5zZXR0aW5ncy5zbGlkZU1hcmdpbj4wJiZzLmNoaWxkcmVuLmNzcyhcIm1hcmdpblJpZ2h0XCIscy5zZXR0aW5ncy5zbGlkZU1hcmdpbiksXCJ2ZXJ0aWNhbFwiPT09cy5zZXR0aW5ncy5tb2RlJiZzLnNldHRpbmdzLnNsaWRlTWFyZ2luPjAmJnMuY2hpbGRyZW4uY3NzKFwibWFyZ2luQm90dG9tXCIscy5zZXR0aW5ncy5zbGlkZU1hcmdpbiksXCJmYWRlXCI9PT1zLnNldHRpbmdzLm1vZGUmJihzLmNoaWxkcmVuLmNzcyh7cG9zaXRpb246XCJhYnNvbHV0ZVwiLHpJbmRleDowLGRpc3BsYXk6XCJub25lXCJ9KSxzLmNoaWxkcmVuLmVxKHMuc2V0dGluZ3Muc3RhcnRTbGlkZSkuY3NzKHt6SW5kZXg6cy5zZXR0aW5ncy5zbGlkZVpJbmRleCxkaXNwbGF5OlwiYmxvY2tcIn0pKSxzLmNvbnRyb2xzLmVsPXQoJzxkaXYgY2xhc3M9XCJieC1jb250cm9sc1wiIC8+Jykscy5zZXR0aW5ncy5jYXB0aW9ucyYmaygpLHMuYWN0aXZlLmxhc3Q9cy5zZXR0aW5ncy5zdGFydFNsaWRlPT09ZigpLTEscy5zZXR0aW5ncy52aWRlbyYmby5maXRWaWRzKCksXCJub25lXCI9PT1zLnNldHRpbmdzLnByZWxvYWRJbWFnZXM/ZT1udWxsOihcImFsbFwiPT09cy5zZXR0aW5ncy5wcmVsb2FkSW1hZ2VzfHxzLnNldHRpbmdzLnRpY2tlcikmJihlPXMuY2hpbGRyZW4pLHMuc2V0dGluZ3MudGlja2VyP3Muc2V0dGluZ3MucGFnZXI9ITE6KHMuc2V0dGluZ3MuY29udHJvbHMmJkMoKSxzLnNldHRpbmdzLmF1dG8mJnMuc2V0dGluZ3MuYXV0b0NvbnRyb2xzJiZUKCkscy5zZXR0aW5ncy5wYWdlciYmYigpLChzLnNldHRpbmdzLmNvbnRyb2xzfHxzLnNldHRpbmdzLmF1dG9Db250cm9sc3x8cy5zZXR0aW5ncy5wYWdlcikmJnMudmlld3BvcnQuYWZ0ZXIocy5jb250cm9scy5lbCkpLG51bGw9PT1lP2coKTpjKGUsZyl9LGM9ZnVuY3Rpb24oZSxpKXt2YXIgbj1lLmZpbmQoJ2ltZzpub3QoW3NyYz1cIlwiXSksIGlmcmFtZScpLmxlbmd0aCxzPTA7aWYoMD09PW4pcmV0dXJuIHZvaWQgaSgpO2UuZmluZCgnaW1nOm5vdChbc3JjPVwiXCJdKSwgaWZyYW1lJykuZWFjaChmdW5jdGlvbigpe3QodGhpcykub25lKFwibG9hZCBlcnJvclwiLGZ1bmN0aW9uKCl7KytzPT09biYmaSgpfSkuZWFjaChmdW5jdGlvbigpeyh0aGlzLmNvbXBsZXRlfHxcIlwiPT10aGlzLnNyYykmJnQodGhpcykudHJpZ2dlcihcImxvYWRcIil9KX0pfSxnPWZ1bmN0aW9uKCl7aWYocy5zZXR0aW5ncy5pbmZpbml0ZUxvb3AmJlwiZmFkZVwiIT09cy5zZXR0aW5ncy5tb2RlJiYhcy5zZXR0aW5ncy50aWNrZXIpe3ZhciBlPVwidmVydGljYWxcIj09PXMuc2V0dGluZ3MubW9kZT9zLnNldHRpbmdzLm1pblNsaWRlczpzLnNldHRpbmdzLm1heFNsaWRlcyxpPXMuY2hpbGRyZW4uc2xpY2UoMCxlKS5jbG9uZSghMCkuYWRkQ2xhc3MoXCJieC1jbG9uZVwiKSxuPXMuY2hpbGRyZW4uc2xpY2UoLWUpLmNsb25lKCEwKS5hZGRDbGFzcyhcImJ4LWNsb25lXCIpO3Muc2V0dGluZ3MuYXJpYUhpZGRlbiYmKGkuYXR0cihcImFyaWEtaGlkZGVuXCIsITApLG4uYXR0cihcImFyaWEtaGlkZGVuXCIsITApKSxvLmFwcGVuZChpKS5wcmVwZW5kKG4pfXMubG9hZGVyLnJlbW92ZSgpLG0oKSxcInZlcnRpY2FsXCI9PT1zLnNldHRpbmdzLm1vZGUmJihzLnNldHRpbmdzLmFkYXB0aXZlSGVpZ2h0PSEwKSxzLnZpZXdwb3J0LmhlaWdodChwKCkpLG8ucmVkcmF3U2xpZGVyKCkscy5zZXR0aW5ncy5vblNsaWRlckxvYWQuY2FsbChvLHMuYWN0aXZlLmluZGV4KSxzLmluaXRpYWxpemVkPSEwLHMuc2V0dGluZ3MucmVzcG9uc2l2ZSYmdCh3aW5kb3cpLm9uKFwicmVzaXplXCIsVSkscy5zZXR0aW5ncy5hdXRvJiZzLnNldHRpbmdzLmF1dG9TdGFydCYmKGYoKT4xfHxzLnNldHRpbmdzLmF1dG9TbGlkZUZvck9uZVBhZ2UpJiZMKCkscy5zZXR0aW5ncy50aWNrZXImJk8oKSxzLnNldHRpbmdzLnBhZ2VyJiZ6KHMuc2V0dGluZ3Muc3RhcnRTbGlkZSkscy5zZXR0aW5ncy5jb250cm9scyYmcSgpLHMuc2V0dGluZ3MudG91Y2hFbmFibGVkJiYhcy5zZXR0aW5ncy50aWNrZXImJlgoKSxzLnNldHRpbmdzLmtleWJvYXJkRW5hYmxlZCYmIXMuc2V0dGluZ3MudGlja2VyJiZ0KGRvY3VtZW50KS5rZXlkb3duKEIpfSxwPWZ1bmN0aW9uKCl7dmFyIGU9MCxuPXQoKTtpZihcInZlcnRpY2FsXCI9PT1zLnNldHRpbmdzLm1vZGV8fHMuc2V0dGluZ3MuYWRhcHRpdmVIZWlnaHQpaWYocy5jYXJvdXNlbCl7dmFyIG89MT09PXMuc2V0dGluZ3MubW92ZVNsaWRlcz9zLmFjdGl2ZS5pbmRleDpzLmFjdGl2ZS5pbmRleCp4KCk7Zm9yKG49cy5jaGlsZHJlbi5lcShvKSxpPTE7aTw9cy5zZXR0aW5ncy5tYXhTbGlkZXMtMTtpKyspbj1vK2k+PXMuY2hpbGRyZW4ubGVuZ3RoP24uYWRkKHMuY2hpbGRyZW4uZXEoaS0xKSk6bi5hZGQocy5jaGlsZHJlbi5lcShvK2kpKX1lbHNlIG49cy5jaGlsZHJlbi5lcShzLmFjdGl2ZS5pbmRleCk7ZWxzZSBuPXMuY2hpbGRyZW47cmV0dXJuXCJ2ZXJ0aWNhbFwiPT09cy5zZXR0aW5ncy5tb2RlPyhuLmVhY2goZnVuY3Rpb24oaSl7ZSs9dCh0aGlzKS5vdXRlckhlaWdodCgpfSkscy5zZXR0aW5ncy5zbGlkZU1hcmdpbj4wJiYoZSs9cy5zZXR0aW5ncy5zbGlkZU1hcmdpbioocy5zZXR0aW5ncy5taW5TbGlkZXMtMSkpKTplPU1hdGgubWF4LmFwcGx5KE1hdGgsbi5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gdCh0aGlzKS5vdXRlckhlaWdodCghMSl9KS5nZXQoKSksXCJib3JkZXItYm94XCI9PT1zLnZpZXdwb3J0LmNzcyhcImJveC1zaXppbmdcIik/ZSs9cGFyc2VGbG9hdChzLnZpZXdwb3J0LmNzcyhcInBhZGRpbmctdG9wXCIpKStwYXJzZUZsb2F0KHMudmlld3BvcnQuY3NzKFwicGFkZGluZy1ib3R0b21cIikpK3BhcnNlRmxvYXQocy52aWV3cG9ydC5jc3MoXCJib3JkZXItdG9wLXdpZHRoXCIpKStwYXJzZUZsb2F0KHMudmlld3BvcnQuY3NzKFwiYm9yZGVyLWJvdHRvbS13aWR0aFwiKSk6XCJwYWRkaW5nLWJveFwiPT09cy52aWV3cG9ydC5jc3MoXCJib3gtc2l6aW5nXCIpJiYoZSs9cGFyc2VGbG9hdChzLnZpZXdwb3J0LmNzcyhcInBhZGRpbmctdG9wXCIpKStwYXJzZUZsb2F0KHMudmlld3BvcnQuY3NzKFwicGFkZGluZy1ib3R0b21cIikpKSxlfSx1PWZ1bmN0aW9uKCl7dmFyIHQ9XCIxMDAlXCI7cmV0dXJuIHMuc2V0dGluZ3Muc2xpZGVXaWR0aD4wJiYodD1cImhvcml6b250YWxcIj09PXMuc2V0dGluZ3MubW9kZT9zLnNldHRpbmdzLm1heFNsaWRlcypzLnNldHRpbmdzLnNsaWRlV2lkdGgrKHMuc2V0dGluZ3MubWF4U2xpZGVzLTEpKnMuc2V0dGluZ3Muc2xpZGVNYXJnaW46cy5zZXR0aW5ncy5zbGlkZVdpZHRoKSx0fSxoPWZ1bmN0aW9uKCl7dmFyIHQ9cy5zZXR0aW5ncy5zbGlkZVdpZHRoLGU9cy52aWV3cG9ydC53aWR0aCgpO2lmKDA9PT1zLnNldHRpbmdzLnNsaWRlV2lkdGh8fHMuc2V0dGluZ3Muc2xpZGVXaWR0aD5lJiYhcy5jYXJvdXNlbHx8XCJ2ZXJ0aWNhbFwiPT09cy5zZXR0aW5ncy5tb2RlKXQ9ZTtlbHNlIGlmKHMuc2V0dGluZ3MubWF4U2xpZGVzPjEmJlwiaG9yaXpvbnRhbFwiPT09cy5zZXR0aW5ncy5tb2RlKXtpZihlPnMubWF4VGhyZXNob2xkKXJldHVybiB0O2U8cy5taW5UaHJlc2hvbGQ/dD0oZS1zLnNldHRpbmdzLnNsaWRlTWFyZ2luKihzLnNldHRpbmdzLm1pblNsaWRlcy0xKSkvcy5zZXR0aW5ncy5taW5TbGlkZXM6cy5zZXR0aW5ncy5zaHJpbmtJdGVtcyYmKHQ9TWF0aC5mbG9vcigoZStzLnNldHRpbmdzLnNsaWRlTWFyZ2luKS9NYXRoLmNlaWwoKGUrcy5zZXR0aW5ncy5zbGlkZU1hcmdpbikvKHQrcy5zZXR0aW5ncy5zbGlkZU1hcmdpbikpLXMuc2V0dGluZ3Muc2xpZGVNYXJnaW4pKX1yZXR1cm4gdH0sdj1mdW5jdGlvbigpe3ZhciB0PTEsZT1udWxsO3JldHVyblwiaG9yaXpvbnRhbFwiPT09cy5zZXR0aW5ncy5tb2RlJiZzLnNldHRpbmdzLnNsaWRlV2lkdGg+MD9zLnZpZXdwb3J0LndpZHRoKCk8cy5taW5UaHJlc2hvbGQ/dD1zLnNldHRpbmdzLm1pblNsaWRlczpzLnZpZXdwb3J0LndpZHRoKCk+cy5tYXhUaHJlc2hvbGQ/dD1zLnNldHRpbmdzLm1heFNsaWRlczooZT1zLmNoaWxkcmVuLmZpcnN0KCkud2lkdGgoKStzLnNldHRpbmdzLnNsaWRlTWFyZ2luLHQ9TWF0aC5mbG9vcigocy52aWV3cG9ydC53aWR0aCgpK3Muc2V0dGluZ3Muc2xpZGVNYXJnaW4pL2UpfHwxKTpcInZlcnRpY2FsXCI9PT1zLnNldHRpbmdzLm1vZGUmJih0PXMuc2V0dGluZ3MubWluU2xpZGVzKSx0fSxmPWZ1bmN0aW9uKCl7dmFyIHQ9MCxlPTAsaT0wO2lmKHMuc2V0dGluZ3MubW92ZVNsaWRlcz4wKXtpZighcy5zZXR0aW5ncy5pbmZpbml0ZUxvb3Ape2Zvcig7ZTxzLmNoaWxkcmVuLmxlbmd0aDspKyt0LGU9aSt2KCksaSs9cy5zZXR0aW5ncy5tb3ZlU2xpZGVzPD12KCk/cy5zZXR0aW5ncy5tb3ZlU2xpZGVzOnYoKTtyZXR1cm4gaX10PU1hdGguY2VpbChzLmNoaWxkcmVuLmxlbmd0aC94KCkpfWVsc2UgdD1NYXRoLmNlaWwocy5jaGlsZHJlbi5sZW5ndGgvdigpKTtyZXR1cm4gdH0seD1mdW5jdGlvbigpe3JldHVybiBzLnNldHRpbmdzLm1vdmVTbGlkZXM+MCYmcy5zZXR0aW5ncy5tb3ZlU2xpZGVzPD12KCk/cy5zZXR0aW5ncy5tb3ZlU2xpZGVzOnYoKX0sbT1mdW5jdGlvbigpe3ZhciB0LGUsaTtzLmNoaWxkcmVuLmxlbmd0aD5zLnNldHRpbmdzLm1heFNsaWRlcyYmcy5hY3RpdmUubGFzdCYmIXMuc2V0dGluZ3MuaW5maW5pdGVMb29wP1wiaG9yaXpvbnRhbFwiPT09cy5zZXR0aW5ncy5tb2RlPyhlPXMuY2hpbGRyZW4ubGFzdCgpLHQ9ZS5wb3NpdGlvbigpLFMoLSh0LmxlZnQtKHMudmlld3BvcnQud2lkdGgoKS1lLm91dGVyV2lkdGgoKSkpLFwicmVzZXRcIiwwKSk6XCJ2ZXJ0aWNhbFwiPT09cy5zZXR0aW5ncy5tb2RlJiYoaT1zLmNoaWxkcmVuLmxlbmd0aC1zLnNldHRpbmdzLm1pblNsaWRlcyx0PXMuY2hpbGRyZW4uZXEoaSkucG9zaXRpb24oKSxTKC10LnRvcCxcInJlc2V0XCIsMCkpOih0PXMuY2hpbGRyZW4uZXEocy5hY3RpdmUuaW5kZXgqeCgpKS5wb3NpdGlvbigpLHMuYWN0aXZlLmluZGV4PT09ZigpLTEmJihzLmFjdGl2ZS5sYXN0PSEwKSx2b2lkIDAhPT10JiYoXCJob3Jpem9udGFsXCI9PT1zLnNldHRpbmdzLm1vZGU/UygtdC5sZWZ0LFwicmVzZXRcIiwwKTpcInZlcnRpY2FsXCI9PT1zLnNldHRpbmdzLm1vZGUmJlMoLXQudG9wLFwicmVzZXRcIiwwKSkpfSxTPWZ1bmN0aW9uKGUsaSxuLHIpe3ZhciBhLGw7cy51c2luZ0NTUz8obD1cInZlcnRpY2FsXCI9PT1zLnNldHRpbmdzLm1vZGU/XCJ0cmFuc2xhdGUzZCgwLCBcIitlK1wicHgsIDApXCI6XCJ0cmFuc2xhdGUzZChcIitlK1wicHgsIDAsIDApXCIsby5jc3MoXCItXCIrcy5jc3NQcmVmaXgrXCItdHJhbnNpdGlvbi1kdXJhdGlvblwiLG4vMWUzK1wic1wiKSxcInNsaWRlXCI9PT1pPyhvLmNzcyhzLmFuaW1Qcm9wLGwpLDAhPT1uP28ub24oXCJ0cmFuc2l0aW9uZW5kIHdlYmtpdFRyYW5zaXRpb25FbmQgb1RyYW5zaXRpb25FbmQgTVNUcmFuc2l0aW9uRW5kXCIsZnVuY3Rpb24oZSl7dChlLnRhcmdldCkuaXMobykmJihvLm9mZihcInRyYW5zaXRpb25lbmQgd2Via2l0VHJhbnNpdGlvbkVuZCBvVHJhbnNpdGlvbkVuZCBNU1RyYW5zaXRpb25FbmRcIiksQSgpKX0pOkEoKSk6XCJyZXNldFwiPT09aT9vLmNzcyhzLmFuaW1Qcm9wLGwpOlwidGlja2VyXCI9PT1pJiYoby5jc3MoXCItXCIrcy5jc3NQcmVmaXgrXCItdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb25cIixcImxpbmVhclwiKSxvLmNzcyhzLmFuaW1Qcm9wLGwpLDAhPT1uP28ub24oXCJ0cmFuc2l0aW9uZW5kIHdlYmtpdFRyYW5zaXRpb25FbmQgb1RyYW5zaXRpb25FbmQgTVNUcmFuc2l0aW9uRW5kXCIsZnVuY3Rpb24oZSl7dChlLnRhcmdldCkuaXMobykmJihvLm9mZihcInRyYW5zaXRpb25lbmQgd2Via2l0VHJhbnNpdGlvbkVuZCBvVHJhbnNpdGlvbkVuZCBNU1RyYW5zaXRpb25FbmRcIiksUyhyLnJlc2V0VmFsdWUsXCJyZXNldFwiLDApLEYoKSl9KTooUyhyLnJlc2V0VmFsdWUsXCJyZXNldFwiLDApLEYoKSkpKTooYT17fSxhW3MuYW5pbVByb3BdPWUsXCJzbGlkZVwiPT09aT9vLmFuaW1hdGUoYSxuLHMuc2V0dGluZ3MuZWFzaW5nLGZ1bmN0aW9uKCl7QSgpfSk6XCJyZXNldFwiPT09aT9vLmNzcyhzLmFuaW1Qcm9wLGUpOlwidGlja2VyXCI9PT1pJiZvLmFuaW1hdGUoYSxuLFwibGluZWFyXCIsZnVuY3Rpb24oKXtTKHIucmVzZXRWYWx1ZSxcInJlc2V0XCIsMCksRigpfSkpfSx3PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVwiXCIsaT1cIlwiLG49ZigpLG89MDtvPG47bysrKWk9XCJcIixzLnNldHRpbmdzLmJ1aWxkUGFnZXImJnQuaXNGdW5jdGlvbihzLnNldHRpbmdzLmJ1aWxkUGFnZXIpfHxzLnNldHRpbmdzLnBhZ2VyQ3VzdG9tPyhpPXMuc2V0dGluZ3MuYnVpbGRQYWdlcihvKSxzLnBhZ2VyRWwuYWRkQ2xhc3MoXCJieC1jdXN0b20tcGFnZXJcIikpOihpPW8rMSxzLnBhZ2VyRWwuYWRkQ2xhc3MoXCJieC1kZWZhdWx0LXBhZ2VyXCIpKSxlKz0nPGRpdiBjbGFzcz1cImJ4LXBhZ2VyLWl0ZW1cIj48YSBocmVmPVwiXCIgZGF0YS1zbGlkZS1pbmRleD1cIicrbysnXCIgY2xhc3M9XCJieC1wYWdlci1saW5rXCI+JytpK1wiPC9hPjwvZGl2PlwiO3MucGFnZXJFbC5odG1sKGUpfSxiPWZ1bmN0aW9uKCl7cy5zZXR0aW5ncy5wYWdlckN1c3RvbT9zLnBhZ2VyRWw9dChzLnNldHRpbmdzLnBhZ2VyQ3VzdG9tKToocy5wYWdlckVsPXQoJzxkaXYgY2xhc3M9XCJieC1wYWdlclwiIC8+Jykscy5zZXR0aW5ncy5wYWdlclNlbGVjdG9yP3Qocy5zZXR0aW5ncy5wYWdlclNlbGVjdG9yKS5odG1sKHMucGFnZXJFbCk6cy5jb250cm9scy5lbC5hZGRDbGFzcyhcImJ4LWhhcy1wYWdlclwiKS5hcHBlbmQocy5wYWdlckVsKSx3KCkpLHMucGFnZXJFbC5vbihcImNsaWNrIHRvdWNoZW5kXCIsXCJhXCIsSSl9LEM9ZnVuY3Rpb24oKXtzLmNvbnRyb2xzLm5leHQ9dCgnPGEgY2xhc3M9XCJieC1uZXh0XCIgaHJlZj1cIlwiPicrcy5zZXR0aW5ncy5uZXh0VGV4dCtcIjwvYT5cIikscy5jb250cm9scy5wcmV2PXQoJzxhIGNsYXNzPVwiYngtcHJldlwiIGhyZWY9XCJcIj4nK3Muc2V0dGluZ3MucHJldlRleHQrXCI8L2E+XCIpLHMuY29udHJvbHMubmV4dC5vbihcImNsaWNrIHRvdWNoZW5kXCIsUCkscy5jb250cm9scy5wcmV2Lm9uKFwiY2xpY2sgdG91Y2hlbmRcIixFKSxzLnNldHRpbmdzLm5leHRTZWxlY3RvciYmdChzLnNldHRpbmdzLm5leHRTZWxlY3RvcikuYXBwZW5kKHMuY29udHJvbHMubmV4dCkscy5zZXR0aW5ncy5wcmV2U2VsZWN0b3ImJnQocy5zZXR0aW5ncy5wcmV2U2VsZWN0b3IpLmFwcGVuZChzLmNvbnRyb2xzLnByZXYpLHMuc2V0dGluZ3MubmV4dFNlbGVjdG9yfHxzLnNldHRpbmdzLnByZXZTZWxlY3Rvcnx8KHMuY29udHJvbHMuZGlyZWN0aW9uRWw9dCgnPGRpdiBjbGFzcz1cImJ4LWNvbnRyb2xzLWRpcmVjdGlvblwiIC8+Jykscy5jb250cm9scy5kaXJlY3Rpb25FbC5hcHBlbmQocy5jb250cm9scy5wcmV2KS5hcHBlbmQocy5jb250cm9scy5uZXh0KSxzLmNvbnRyb2xzLmVsLmFkZENsYXNzKFwiYngtaGFzLWNvbnRyb2xzLWRpcmVjdGlvblwiKS5hcHBlbmQocy5jb250cm9scy5kaXJlY3Rpb25FbCkpfSxUPWZ1bmN0aW9uKCl7cy5jb250cm9scy5zdGFydD10KCc8ZGl2IGNsYXNzPVwiYngtY29udHJvbHMtYXV0by1pdGVtXCI+PGEgY2xhc3M9XCJieC1zdGFydFwiIGhyZWY9XCJcIj4nK3Muc2V0dGluZ3Muc3RhcnRUZXh0K1wiPC9hPjwvZGl2PlwiKSxzLmNvbnRyb2xzLnN0b3A9dCgnPGRpdiBjbGFzcz1cImJ4LWNvbnRyb2xzLWF1dG8taXRlbVwiPjxhIGNsYXNzPVwiYngtc3RvcFwiIGhyZWY9XCJcIj4nK3Muc2V0dGluZ3Muc3RvcFRleHQrXCI8L2E+PC9kaXY+XCIpLHMuY29udHJvbHMuYXV0b0VsPXQoJzxkaXYgY2xhc3M9XCJieC1jb250cm9scy1hdXRvXCIgLz4nKSxzLmNvbnRyb2xzLmF1dG9FbC5vbihcImNsaWNrXCIsXCIuYngtc3RhcnRcIixNKSxzLmNvbnRyb2xzLmF1dG9FbC5vbihcImNsaWNrXCIsXCIuYngtc3RvcFwiLHkpLHMuc2V0dGluZ3MuYXV0b0NvbnRyb2xzQ29tYmluZT9zLmNvbnRyb2xzLmF1dG9FbC5hcHBlbmQocy5jb250cm9scy5zdGFydCk6cy5jb250cm9scy5hdXRvRWwuYXBwZW5kKHMuY29udHJvbHMuc3RhcnQpLmFwcGVuZChzLmNvbnRyb2xzLnN0b3ApLHMuc2V0dGluZ3MuYXV0b0NvbnRyb2xzU2VsZWN0b3I/dChzLnNldHRpbmdzLmF1dG9Db250cm9sc1NlbGVjdG9yKS5odG1sKHMuY29udHJvbHMuYXV0b0VsKTpzLmNvbnRyb2xzLmVsLmFkZENsYXNzKFwiYngtaGFzLWNvbnRyb2xzLWF1dG9cIikuYXBwZW5kKHMuY29udHJvbHMuYXV0b0VsKSxEKHMuc2V0dGluZ3MuYXV0b1N0YXJ0P1wic3RvcFwiOlwic3RhcnRcIil9LGs9ZnVuY3Rpb24oKXtzLmNoaWxkcmVuLmVhY2goZnVuY3Rpb24oZSl7dmFyIGk9dCh0aGlzKS5maW5kKFwiaW1nOmZpcnN0XCIpLmF0dHIoXCJ0aXRsZVwiKTt2b2lkIDAhPT1pJiYoXCJcIitpKS5sZW5ndGgmJnQodGhpcykuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiYngtY2FwdGlvblwiPjxzcGFuPicraStcIjwvc3Bhbj48L2Rpdj5cIil9KX0sUD1mdW5jdGlvbih0KXt0LnByZXZlbnREZWZhdWx0KCkscy5jb250cm9scy5lbC5oYXNDbGFzcyhcImRpc2FibGVkXCIpfHwocy5zZXR0aW5ncy5hdXRvJiZzLnNldHRpbmdzLnN0b3BBdXRvT25DbGljayYmby5zdG9wQXV0bygpLG8uZ29Ub05leHRTbGlkZSgpKX0sRT1mdW5jdGlvbih0KXt0LnByZXZlbnREZWZhdWx0KCkscy5jb250cm9scy5lbC5oYXNDbGFzcyhcImRpc2FibGVkXCIpfHwocy5zZXR0aW5ncy5hdXRvJiZzLnNldHRpbmdzLnN0b3BBdXRvT25DbGljayYmby5zdG9wQXV0bygpLG8uZ29Ub1ByZXZTbGlkZSgpKX0sTT1mdW5jdGlvbih0KXtvLnN0YXJ0QXV0bygpLHQucHJldmVudERlZmF1bHQoKX0seT1mdW5jdGlvbih0KXtvLnN0b3BBdXRvKCksdC5wcmV2ZW50RGVmYXVsdCgpfSxJPWZ1bmN0aW9uKGUpe3ZhciBpLG47ZS5wcmV2ZW50RGVmYXVsdCgpLHMuY29udHJvbHMuZWwuaGFzQ2xhc3MoXCJkaXNhYmxlZFwiKXx8KHMuc2V0dGluZ3MuYXV0byYmcy5zZXR0aW5ncy5zdG9wQXV0b09uQ2xpY2smJm8uc3RvcEF1dG8oKSxpPXQoZS5jdXJyZW50VGFyZ2V0KSx2b2lkIDAhPT1pLmF0dHIoXCJkYXRhLXNsaWRlLWluZGV4XCIpJiYobj1wYXJzZUludChpLmF0dHIoXCJkYXRhLXNsaWRlLWluZGV4XCIpKSkhPT1zLmFjdGl2ZS5pbmRleCYmby5nb1RvU2xpZGUobikpfSx6PWZ1bmN0aW9uKGUpe3ZhciBpPXMuY2hpbGRyZW4ubGVuZ3RoO2lmKFwic2hvcnRcIj09PXMuc2V0dGluZ3MucGFnZXJUeXBlKXJldHVybiBzLnNldHRpbmdzLm1heFNsaWRlcz4xJiYoaT1NYXRoLmNlaWwocy5jaGlsZHJlbi5sZW5ndGgvcy5zZXR0aW5ncy5tYXhTbGlkZXMpKSx2b2lkIHMucGFnZXJFbC5odG1sKGUrMStzLnNldHRpbmdzLnBhZ2VyU2hvcnRTZXBhcmF0b3IraSk7cy5wYWdlckVsLmZpbmQoXCJhXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpLHMucGFnZXJFbC5lYWNoKGZ1bmN0aW9uKGksbil7dChuKS5maW5kKFwiYVwiKS5lcShlKS5hZGRDbGFzcyhcImFjdGl2ZVwiKX0pfSxBPWZ1bmN0aW9uKCl7aWYocy5zZXR0aW5ncy5pbmZpbml0ZUxvb3Ape3ZhciB0PVwiXCI7MD09PXMuYWN0aXZlLmluZGV4P3Q9cy5jaGlsZHJlbi5lcSgwKS5wb3NpdGlvbigpOnMuYWN0aXZlLmluZGV4PT09ZigpLTEmJnMuY2Fyb3VzZWw/dD1zLmNoaWxkcmVuLmVxKChmKCktMSkqeCgpKS5wb3NpdGlvbigpOnMuYWN0aXZlLmluZGV4PT09cy5jaGlsZHJlbi5sZW5ndGgtMSYmKHQ9cy5jaGlsZHJlbi5lcShzLmNoaWxkcmVuLmxlbmd0aC0xKS5wb3NpdGlvbigpKSx0JiYoXCJob3Jpem9udGFsXCI9PT1zLnNldHRpbmdzLm1vZGU/UygtdC5sZWZ0LFwicmVzZXRcIiwwKTpcInZlcnRpY2FsXCI9PT1zLnNldHRpbmdzLm1vZGUmJlMoLXQudG9wLFwicmVzZXRcIiwwKSl9cy53b3JraW5nPSExLHMuc2V0dGluZ3Mub25TbGlkZUFmdGVyLmNhbGwobyxzLmNoaWxkcmVuLmVxKHMuYWN0aXZlLmluZGV4KSxzLm9sZEluZGV4LHMuYWN0aXZlLmluZGV4KX0sRD1mdW5jdGlvbih0KXtzLnNldHRpbmdzLmF1dG9Db250cm9sc0NvbWJpbmU/cy5jb250cm9scy5hdXRvRWwuaHRtbChzLmNvbnRyb2xzW3RdKToocy5jb250cm9scy5hdXRvRWwuZmluZChcImFcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIikscy5jb250cm9scy5hdXRvRWwuZmluZChcImE6bm90KC5ieC1cIit0K1wiKVwiKS5hZGRDbGFzcyhcImFjdGl2ZVwiKSl9LHE9ZnVuY3Rpb24oKXsxPT09ZigpPyhzLmNvbnRyb2xzLnByZXYuYWRkQ2xhc3MoXCJkaXNhYmxlZFwiKSxzLmNvbnRyb2xzLm5leHQuYWRkQ2xhc3MoXCJkaXNhYmxlZFwiKSk6IXMuc2V0dGluZ3MuaW5maW5pdGVMb29wJiZzLnNldHRpbmdzLmhpZGVDb250cm9sT25FbmQmJigwPT09cy5hY3RpdmUuaW5kZXg/KHMuY29udHJvbHMucHJldi5hZGRDbGFzcyhcImRpc2FibGVkXCIpLHMuY29udHJvbHMubmV4dC5yZW1vdmVDbGFzcyhcImRpc2FibGVkXCIpKTpzLmFjdGl2ZS5pbmRleD09PWYoKS0xPyhzLmNvbnRyb2xzLm5leHQuYWRkQ2xhc3MoXCJkaXNhYmxlZFwiKSxzLmNvbnRyb2xzLnByZXYucmVtb3ZlQ2xhc3MoXCJkaXNhYmxlZFwiKSk6KHMuY29udHJvbHMucHJldi5yZW1vdmVDbGFzcyhcImRpc2FibGVkXCIpLHMuY29udHJvbHMubmV4dC5yZW1vdmVDbGFzcyhcImRpc2FibGVkXCIpKSl9LEg9ZnVuY3Rpb24oKXtvLnN0YXJ0QXV0bygpfSxXPWZ1bmN0aW9uKCl7by5zdG9wQXV0bygpfSxMPWZ1bmN0aW9uKCl7cy5zZXR0aW5ncy5hdXRvRGVsYXk+MD9zZXRUaW1lb3V0KG8uc3RhcnRBdXRvLHMuc2V0dGluZ3MuYXV0b0RlbGF5KTooby5zdGFydEF1dG8oKSx0KHdpbmRvdykuZm9jdXMoSCkuYmx1cihXKSkscy5zZXR0aW5ncy5hdXRvSG92ZXImJm8uaG92ZXIoZnVuY3Rpb24oKXtzLmludGVydmFsJiYoby5zdG9wQXV0byghMCkscy5hdXRvUGF1c2VkPSEwKX0sZnVuY3Rpb24oKXtzLmF1dG9QYXVzZWQmJihvLnN0YXJ0QXV0byghMCkscy5hdXRvUGF1c2VkPW51bGwpfSl9LE89ZnVuY3Rpb24oKXt2YXIgZSxpLG4scixhLGwsZCxjLGc9MDtcIm5leHRcIj09PXMuc2V0dGluZ3MuYXV0b0RpcmVjdGlvbj9vLmFwcGVuZChzLmNoaWxkcmVuLmNsb25lKCkuYWRkQ2xhc3MoXCJieC1jbG9uZVwiKSk6KG8ucHJlcGVuZChzLmNoaWxkcmVuLmNsb25lKCkuYWRkQ2xhc3MoXCJieC1jbG9uZVwiKSksZT1zLmNoaWxkcmVuLmZpcnN0KCkucG9zaXRpb24oKSxnPVwiaG9yaXpvbnRhbFwiPT09cy5zZXR0aW5ncy5tb2RlPy1lLmxlZnQ6LWUudG9wKSxTKGcsXCJyZXNldFwiLDApLHMuc2V0dGluZ3MucGFnZXI9ITEscy5zZXR0aW5ncy5jb250cm9scz0hMSxzLnNldHRpbmdzLmF1dG9Db250cm9scz0hMSxzLnNldHRpbmdzLnRpY2tlckhvdmVyJiYocy51c2luZ0NTUz8ocj1cImhvcml6b250YWxcIj09PXMuc2V0dGluZ3MubW9kZT80OjUscy52aWV3cG9ydC5ob3ZlcihmdW5jdGlvbigpe2k9by5jc3MoXCItXCIrcy5jc3NQcmVmaXgrXCItdHJhbnNmb3JtXCIpLG49cGFyc2VGbG9hdChpLnNwbGl0KFwiLFwiKVtyXSksUyhuLFwicmVzZXRcIiwwKX0sZnVuY3Rpb24oKXtjPTAscy5jaGlsZHJlbi5lYWNoKGZ1bmN0aW9uKGUpe2MrPVwiaG9yaXpvbnRhbFwiPT09cy5zZXR0aW5ncy5tb2RlP3QodGhpcykub3V0ZXJXaWR0aCghMCk6dCh0aGlzKS5vdXRlckhlaWdodCghMCl9KSxhPXMuc2V0dGluZ3Muc3BlZWQvYyxsPVwiaG9yaXpvbnRhbFwiPT09cy5zZXR0aW5ncy5tb2RlP1wibGVmdFwiOlwidG9wXCIsZD1hKihjLU1hdGguYWJzKHBhcnNlSW50KG4pKSksRihkKX0pKTpzLnZpZXdwb3J0LmhvdmVyKGZ1bmN0aW9uKCl7by5zdG9wKCl9LGZ1bmN0aW9uKCl7Yz0wLHMuY2hpbGRyZW4uZWFjaChmdW5jdGlvbihlKXtjKz1cImhvcml6b250YWxcIj09PXMuc2V0dGluZ3MubW9kZT90KHRoaXMpLm91dGVyV2lkdGgoITApOnQodGhpcykub3V0ZXJIZWlnaHQoITApfSksYT1zLnNldHRpbmdzLnNwZWVkL2MsbD1cImhvcml6b250YWxcIj09PXMuc2V0dGluZ3MubW9kZT9cImxlZnRcIjpcInRvcFwiLGQ9YSooYy1NYXRoLmFicyhwYXJzZUludChvLmNzcyhsKSkpKSxGKGQpfSkpLEYoKX0sRj1mdW5jdGlvbih0KXt2YXIgZSxpLG4scj10fHxzLnNldHRpbmdzLnNwZWVkLGE9e2xlZnQ6MCx0b3A6MH0sbD17bGVmdDowLHRvcDowfTtcIm5leHRcIj09PXMuc2V0dGluZ3MuYXV0b0RpcmVjdGlvbj9hPW8uZmluZChcIi5ieC1jbG9uZVwiKS5maXJzdCgpLnBvc2l0aW9uKCk6bD1zLmNoaWxkcmVuLmZpcnN0KCkucG9zaXRpb24oKSxlPVwiaG9yaXpvbnRhbFwiPT09cy5zZXR0aW5ncy5tb2RlPy1hLmxlZnQ6LWEudG9wLGk9XCJob3Jpem9udGFsXCI9PT1zLnNldHRpbmdzLm1vZGU/LWwubGVmdDotbC50b3Asbj17cmVzZXRWYWx1ZTppfSxTKGUsXCJ0aWNrZXJcIixyLG4pfSxOPWZ1bmN0aW9uKGUpe3ZhciBpPXQod2luZG93KSxuPXt0b3A6aS5zY3JvbGxUb3AoKSxsZWZ0Omkuc2Nyb2xsTGVmdCgpfSxzPWUub2Zmc2V0KCk7cmV0dXJuIG4ucmlnaHQ9bi5sZWZ0K2kud2lkdGgoKSxuLmJvdHRvbT1uLnRvcCtpLmhlaWdodCgpLHMucmlnaHQ9cy5sZWZ0K2Uub3V0ZXJXaWR0aCgpLHMuYm90dG9tPXMudG9wK2Uub3V0ZXJIZWlnaHQoKSwhKG4ucmlnaHQ8cy5sZWZ0fHxuLmxlZnQ+cy5yaWdodHx8bi5ib3R0b208cy50b3B8fG4udG9wPnMuYm90dG9tKX0sQj1mdW5jdGlvbih0KXt2YXIgZT1kb2N1bWVudC5hY3RpdmVFbGVtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKTtpZihudWxsPT1uZXcgUmVnRXhwKGUsW1wiaVwiXSkuZXhlYyhcImlucHV0fHRleHRhcmVhXCIpJiZOKG8pKXtpZigzOT09PXQua2V5Q29kZSlyZXR1cm4gUCh0KSwhMTtpZigzNz09PXQua2V5Q29kZSlyZXR1cm4gRSh0KSwhMX19LFg9ZnVuY3Rpb24oKXtzLnRvdWNoPXtzdGFydDp7eDowLHk6MH0sZW5kOnt4OjAseTowfX0scy52aWV3cG9ydC5vbihcInRvdWNoc3RhcnQgTVNQb2ludGVyRG93biBwb2ludGVyZG93blwiLFkpLHMudmlld3BvcnQub24oXCJjbGlja1wiLFwiLmJ4c2xpZGVyIGFcIixmdW5jdGlvbih0KXtzLnZpZXdwb3J0Lmhhc0NsYXNzKFwiY2xpY2stZGlzYWJsZWRcIikmJih0LnByZXZlbnREZWZhdWx0KCkscy52aWV3cG9ydC5yZW1vdmVDbGFzcyhcImNsaWNrLWRpc2FibGVkXCIpKX0pfSxZPWZ1bmN0aW9uKHQpe2lmKFwidG91Y2hzdGFydFwiPT09dC50eXBlfHwwPT09dC5idXR0b24paWYodC5wcmV2ZW50RGVmYXVsdCgpLHMuY29udHJvbHMuZWwuYWRkQ2xhc3MoXCJkaXNhYmxlZFwiKSxzLndvcmtpbmcpcy5jb250cm9scy5lbC5yZW1vdmVDbGFzcyhcImRpc2FibGVkXCIpO2Vsc2V7cy50b3VjaC5vcmlnaW5hbFBvcz1vLnBvc2l0aW9uKCk7dmFyIGU9dC5vcmlnaW5hbEV2ZW50LGk9dm9pZCAwIT09ZS5jaGFuZ2VkVG91Y2hlcz9lLmNoYW5nZWRUb3VjaGVzOltlXSxuPVwiZnVuY3Rpb25cIj09dHlwZW9mIFBvaW50ZXJFdmVudDtpZihuJiZ2b2lkIDA9PT1lLnBvaW50ZXJJZClyZXR1cm47cy50b3VjaC5zdGFydC54PWlbMF0ucGFnZVgscy50b3VjaC5zdGFydC55PWlbMF0ucGFnZVkscy52aWV3cG9ydC5nZXQoMCkuc2V0UG9pbnRlckNhcHR1cmUmJihzLnBvaW50ZXJJZD1lLnBvaW50ZXJJZCxzLnZpZXdwb3J0LmdldCgwKS5zZXRQb2ludGVyQ2FwdHVyZShzLnBvaW50ZXJJZCkpLHMub3JpZ2luYWxDbGlja1RhcmdldD1lLm9yaWdpbmFsVGFyZ2V0fHxlLnRhcmdldCxzLm9yaWdpbmFsQ2xpY2tCdXR0b249ZS5idXR0b24scy5vcmlnaW5hbENsaWNrQnV0dG9ucz1lLmJ1dHRvbnMscy5vcmlnaW5hbEV2ZW50VHlwZT1lLnR5cGUscy5oYXNNb3ZlPSExLHMudmlld3BvcnQub24oXCJ0b3VjaG1vdmUgTVNQb2ludGVyTW92ZSBwb2ludGVybW92ZVwiLFIpLHMudmlld3BvcnQub24oXCJ0b3VjaGVuZCBNU1BvaW50ZXJVcCBwb2ludGVydXBcIixaKSxzLnZpZXdwb3J0Lm9uKFwiTVNQb2ludGVyQ2FuY2VsIHBvaW50ZXJjYW5jZWxcIixWKX19LFY9ZnVuY3Rpb24odCl7dC5wcmV2ZW50RGVmYXVsdCgpLFMocy50b3VjaC5vcmlnaW5hbFBvcy5sZWZ0LFwicmVzZXRcIiwwKSxzLmNvbnRyb2xzLmVsLnJlbW92ZUNsYXNzKFwiZGlzYWJsZWRcIikscy52aWV3cG9ydC5vZmYoXCJNU1BvaW50ZXJDYW5jZWwgcG9pbnRlcmNhbmNlbFwiLFYpLHMudmlld3BvcnQub2ZmKFwidG91Y2htb3ZlIE1TUG9pbnRlck1vdmUgcG9pbnRlcm1vdmVcIixSKSxzLnZpZXdwb3J0Lm9mZihcInRvdWNoZW5kIE1TUG9pbnRlclVwIHBvaW50ZXJ1cFwiLFopLHMudmlld3BvcnQuZ2V0KDApLnJlbGVhc2VQb2ludGVyQ2FwdHVyZSYmcy52aWV3cG9ydC5nZXQoMCkucmVsZWFzZVBvaW50ZXJDYXB0dXJlKHMucG9pbnRlcklkKX0sUj1mdW5jdGlvbih0KXt2YXIgZT10Lm9yaWdpbmFsRXZlbnQsaT12b2lkIDAhPT1lLmNoYW5nZWRUb3VjaGVzP2UuY2hhbmdlZFRvdWNoZXM6W2VdLG49TWF0aC5hYnMoaVswXS5wYWdlWC1zLnRvdWNoLnN0YXJ0LngpLG89TWF0aC5hYnMoaVswXS5wYWdlWS1zLnRvdWNoLnN0YXJ0LnkpLHI9MCxhPTA7cy5oYXNNb3ZlPSEwLDMqbj5vJiZzLnNldHRpbmdzLnByZXZlbnREZWZhdWx0U3dpcGVYP3QucHJldmVudERlZmF1bHQoKTozKm8+biYmcy5zZXR0aW5ncy5wcmV2ZW50RGVmYXVsdFN3aXBlWSYmdC5wcmV2ZW50RGVmYXVsdCgpLFwidG91Y2htb3ZlXCIhPT10LnR5cGUmJnQucHJldmVudERlZmF1bHQoKSxcImZhZGVcIiE9PXMuc2V0dGluZ3MubW9kZSYmcy5zZXR0aW5ncy5vbmVUb09uZVRvdWNoJiYoXCJob3Jpem9udGFsXCI9PT1zLnNldHRpbmdzLm1vZGU/KGE9aVswXS5wYWdlWC1zLnRvdWNoLnN0YXJ0Lngscj1zLnRvdWNoLm9yaWdpbmFsUG9zLmxlZnQrYSk6KGE9aVswXS5wYWdlWS1zLnRvdWNoLnN0YXJ0Lnkscj1zLnRvdWNoLm9yaWdpbmFsUG9zLnRvcCthKSxTKHIsXCJyZXNldFwiLDApKX0sWj1mdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCkscy52aWV3cG9ydC5vZmYoXCJ0b3VjaG1vdmUgTVNQb2ludGVyTW92ZSBwb2ludGVybW92ZVwiLFIpLHMuY29udHJvbHMuZWwucmVtb3ZlQ2xhc3MoXCJkaXNhYmxlZFwiKTt2YXIgaT1lLm9yaWdpbmFsRXZlbnQsbj12b2lkIDAhPT1pLmNoYW5nZWRUb3VjaGVzP2kuY2hhbmdlZFRvdWNoZXM6W2ldLHI9MCxhPTA7cy50b3VjaC5lbmQueD1uWzBdLnBhZ2VYLHMudG91Y2guZW5kLnk9blswXS5wYWdlWSxcImZhZGVcIj09PXMuc2V0dGluZ3MubW9kZT8oYT1NYXRoLmFicyhzLnRvdWNoLnN0YXJ0Lngtcy50b3VjaC5lbmQueCkpPj1zLnNldHRpbmdzLnN3aXBlVGhyZXNob2xkJiYocy50b3VjaC5zdGFydC54PnMudG91Y2guZW5kLng/by5nb1RvTmV4dFNsaWRlKCk6by5nb1RvUHJldlNsaWRlKCksby5zdG9wQXV0bygpKTooXCJob3Jpem9udGFsXCI9PT1zLnNldHRpbmdzLm1vZGU/KGE9cy50b3VjaC5lbmQueC1zLnRvdWNoLnN0YXJ0Lngscj1zLnRvdWNoLm9yaWdpbmFsUG9zLmxlZnQpOihhPXMudG91Y2guZW5kLnktcy50b3VjaC5zdGFydC55LHI9cy50b3VjaC5vcmlnaW5hbFBvcy50b3ApLCFzLnNldHRpbmdzLmluZmluaXRlTG9vcCYmKDA9PT1zLmFjdGl2ZS5pbmRleCYmYT4wfHxzLmFjdGl2ZS5sYXN0JiZhPDApP1MocixcInJlc2V0XCIsMjAwKTpNYXRoLmFicyhhKT49cy5zZXR0aW5ncy5zd2lwZVRocmVzaG9sZD8oYTwwP28uZ29Ub05leHRTbGlkZSgpOm8uZ29Ub1ByZXZTbGlkZSgpLG8uc3RvcEF1dG8oKSk6UyhyLFwicmVzZXRcIiwyMDApKSxzLnZpZXdwb3J0Lm9mZihcInRvdWNoZW5kIE1TUG9pbnRlclVwIHBvaW50ZXJ1cFwiLFopLHMudmlld3BvcnQuZ2V0KDApLnJlbGVhc2VQb2ludGVyQ2FwdHVyZSYmcy52aWV3cG9ydC5nZXQoMCkucmVsZWFzZVBvaW50ZXJDYXB0dXJlKHMucG9pbnRlcklkKSwhMSE9PXMuaGFzTW92ZXx8MCE9PXMub3JpZ2luYWxDbGlja0J1dHRvbiYmXCJ0b3VjaHN0YXJ0XCIhPT1zLm9yaWdpbmFsRXZlbnRUeXBlfHx0KHMub3JpZ2luYWxDbGlja1RhcmdldCkudHJpZ2dlcih7dHlwZTpcImNsaWNrXCIsYnV0dG9uOnMub3JpZ2luYWxDbGlja0J1dHRvbixidXR0b25zOnMub3JpZ2luYWxDbGlja0J1dHRvbnN9KX0sVT1mdW5jdGlvbihlKXtpZihzLmluaXRpYWxpemVkKWlmKHMud29ya2luZyl3aW5kb3cuc2V0VGltZW91dChVLDEwKTtlbHNle3ZhciBpPXQod2luZG93KS53aWR0aCgpLG49dCh3aW5kb3cpLmhlaWdodCgpO3I9PT1pJiZhPT09bnx8KHI9aSxhPW4sby5yZWRyYXdTbGlkZXIoKSxzLnNldHRpbmdzLm9uU2xpZGVyUmVzaXplLmNhbGwobyxzLmFjdGl2ZS5pbmRleCkpfX0saj1mdW5jdGlvbih0KXt2YXIgZT12KCk7cy5zZXR0aW5ncy5hcmlhSGlkZGVuJiYhcy5zZXR0aW5ncy50aWNrZXImJihzLmNoaWxkcmVuLmF0dHIoXCJhcmlhLWhpZGRlblwiLFwidHJ1ZVwiKSxzLmNoaWxkcmVuLnNsaWNlKHQsdCtlKS5hdHRyKFwiYXJpYS1oaWRkZW5cIixcImZhbHNlXCIpKX0sUT1mdW5jdGlvbih0KXtyZXR1cm4gdDwwP3Muc2V0dGluZ3MuaW5maW5pdGVMb29wP2YoKS0xOnMuYWN0aXZlLmluZGV4OnQ+PWYoKT9zLnNldHRpbmdzLmluZmluaXRlTG9vcD8wOnMuYWN0aXZlLmluZGV4OnR9O3JldHVybiBvLmdvVG9TbGlkZT1mdW5jdGlvbihlLGkpe3ZhciBuLHIsYSxsLGQ9ITAsYz0wLGc9e2xlZnQ6MCx0b3A6MH0sdT1udWxsO2lmKHMub2xkSW5kZXg9cy5hY3RpdmUuaW5kZXgscy5hY3RpdmUuaW5kZXg9UShlKSwhcy53b3JraW5nJiZzLmFjdGl2ZS5pbmRleCE9PXMub2xkSW5kZXgpe2lmKHMud29ya2luZz0hMCx2b2lkIDAhPT0oZD1zLnNldHRpbmdzLm9uU2xpZGVCZWZvcmUuY2FsbChvLHMuY2hpbGRyZW4uZXEocy5hY3RpdmUuaW5kZXgpLHMub2xkSW5kZXgscy5hY3RpdmUuaW5kZXgpKSYmIWQpcmV0dXJuIHMuYWN0aXZlLmluZGV4PXMub2xkSW5kZXgsdm9pZChzLndvcmtpbmc9ITEpO1wibmV4dFwiPT09aT9zLnNldHRpbmdzLm9uU2xpZGVOZXh0LmNhbGwobyxzLmNoaWxkcmVuLmVxKHMuYWN0aXZlLmluZGV4KSxzLm9sZEluZGV4LHMuYWN0aXZlLmluZGV4KXx8KGQ9ITEpOlwicHJldlwiPT09aSYmKHMuc2V0dGluZ3Mub25TbGlkZVByZXYuY2FsbChvLHMuY2hpbGRyZW4uZXEocy5hY3RpdmUuaW5kZXgpLHMub2xkSW5kZXgscy5hY3RpdmUuaW5kZXgpfHwoZD0hMSkpLHMuYWN0aXZlLmxhc3Q9cy5hY3RpdmUuaW5kZXg+PWYoKS0xLChzLnNldHRpbmdzLnBhZ2VyfHxzLnNldHRpbmdzLnBhZ2VyQ3VzdG9tKSYmeihzLmFjdGl2ZS5pbmRleCkscy5zZXR0aW5ncy5jb250cm9scyYmcSgpLFwiZmFkZVwiPT09cy5zZXR0aW5ncy5tb2RlPyhzLnNldHRpbmdzLmFkYXB0aXZlSGVpZ2h0JiZzLnZpZXdwb3J0LmhlaWdodCgpIT09cCgpJiZzLnZpZXdwb3J0LmFuaW1hdGUoe2hlaWdodDpwKCl9LHMuc2V0dGluZ3MuYWRhcHRpdmVIZWlnaHRTcGVlZCkscy5jaGlsZHJlbi5maWx0ZXIoXCI6dmlzaWJsZVwiKS5mYWRlT3V0KHMuc2V0dGluZ3Muc3BlZWQpLmNzcyh7ekluZGV4OjB9KSxzLmNoaWxkcmVuLmVxKHMuYWN0aXZlLmluZGV4KS5jc3MoXCJ6SW5kZXhcIixzLnNldHRpbmdzLnNsaWRlWkluZGV4KzEpLmZhZGVJbihzLnNldHRpbmdzLnNwZWVkLGZ1bmN0aW9uKCl7dCh0aGlzKS5jc3MoXCJ6SW5kZXhcIixzLnNldHRpbmdzLnNsaWRlWkluZGV4KSxBKCl9KSk6KHMuc2V0dGluZ3MuYWRhcHRpdmVIZWlnaHQmJnMudmlld3BvcnQuaGVpZ2h0KCkhPT1wKCkmJnMudmlld3BvcnQuYW5pbWF0ZSh7aGVpZ2h0OnAoKX0scy5zZXR0aW5ncy5hZGFwdGl2ZUhlaWdodFNwZWVkKSwhcy5zZXR0aW5ncy5pbmZpbml0ZUxvb3AmJnMuY2Fyb3VzZWwmJnMuYWN0aXZlLmxhc3Q/XCJob3Jpem9udGFsXCI9PT1zLnNldHRpbmdzLm1vZGU/KHU9cy5jaGlsZHJlbi5lcShzLmNoaWxkcmVuLmxlbmd0aC0xKSxnPXUucG9zaXRpb24oKSxjPXMudmlld3BvcnQud2lkdGgoKS11Lm91dGVyV2lkdGgoKSk6KG49cy5jaGlsZHJlbi5sZW5ndGgtcy5zZXR0aW5ncy5taW5TbGlkZXMsZz1zLmNoaWxkcmVuLmVxKG4pLnBvc2l0aW9uKCkpOnMuY2Fyb3VzZWwmJnMuYWN0aXZlLmxhc3QmJlwicHJldlwiPT09aT8ocj0xPT09cy5zZXR0aW5ncy5tb3ZlU2xpZGVzP3Muc2V0dGluZ3MubWF4U2xpZGVzLXgoKTooZigpLTEpKngoKS0ocy5jaGlsZHJlbi5sZW5ndGgtcy5zZXR0aW5ncy5tYXhTbGlkZXMpLHU9by5jaGlsZHJlbihcIi5ieC1jbG9uZVwiKS5lcShyKSxnPXUucG9zaXRpb24oKSk6XCJuZXh0XCI9PT1pJiYwPT09cy5hY3RpdmUuaW5kZXg/KGc9by5maW5kKFwiPiAuYngtY2xvbmVcIikuZXEocy5zZXR0aW5ncy5tYXhTbGlkZXMpLnBvc2l0aW9uKCkscy5hY3RpdmUubGFzdD0hMSk6ZT49MCYmKGw9ZSpwYXJzZUludCh4KCkpLGc9cy5jaGlsZHJlbi5lcShsKS5wb3NpdGlvbigpKSx2b2lkIDAhPT1nJiYoYT1cImhvcml6b250YWxcIj09PXMuc2V0dGluZ3MubW9kZT8tKGcubGVmdC1jKTotZy50b3AsUyhhLFwic2xpZGVcIixzLnNldHRpbmdzLnNwZWVkKSkscy53b3JraW5nPSExKSxzLnNldHRpbmdzLmFyaWFIaWRkZW4mJmoocy5hY3RpdmUuaW5kZXgqeCgpKX19LG8uZ29Ub05leHRTbGlkZT1mdW5jdGlvbigpe2lmKChzLnNldHRpbmdzLmluZmluaXRlTG9vcHx8IXMuYWN0aXZlLmxhc3QpJiYhMCE9PXMud29ya2luZyl7dmFyIHQ9cGFyc2VJbnQocy5hY3RpdmUuaW5kZXgpKzE7by5nb1RvU2xpZGUodCxcIm5leHRcIil9fSxvLmdvVG9QcmV2U2xpZGU9ZnVuY3Rpb24oKXtpZigocy5zZXR0aW5ncy5pbmZpbml0ZUxvb3B8fDAhPT1zLmFjdGl2ZS5pbmRleCkmJiEwIT09cy53b3JraW5nKXt2YXIgdD1wYXJzZUludChzLmFjdGl2ZS5pbmRleCktMTtvLmdvVG9TbGlkZSh0LFwicHJldlwiKX19LG8uc3RhcnRBdXRvPWZ1bmN0aW9uKHQpe3MuaW50ZXJ2YWx8fChzLmludGVydmFsPXNldEludGVydmFsKGZ1bmN0aW9uKCl7XCJuZXh0XCI9PT1zLnNldHRpbmdzLmF1dG9EaXJlY3Rpb24/by5nb1RvTmV4dFNsaWRlKCk6by5nb1RvUHJldlNsaWRlKCl9LHMuc2V0dGluZ3MucGF1c2UpLHMuc2V0dGluZ3Mub25BdXRvQ2hhbmdlLmNhbGwobywhMCkscy5zZXR0aW5ncy5hdXRvQ29udHJvbHMmJiEwIT09dCYmRChcInN0b3BcIikpfSxvLnN0b3BBdXRvPWZ1bmN0aW9uKHQpe3MuYXV0b1BhdXNlZCYmKHMuYXV0b1BhdXNlZD0hMSkscy5pbnRlcnZhbCYmKGNsZWFySW50ZXJ2YWwocy5pbnRlcnZhbCkscy5pbnRlcnZhbD1udWxsLHMuc2V0dGluZ3Mub25BdXRvQ2hhbmdlLmNhbGwobywhMSkscy5zZXR0aW5ncy5hdXRvQ29udHJvbHMmJiEwIT09dCYmRChcInN0YXJ0XCIpKX0sby5nZXRDdXJyZW50U2xpZGU9ZnVuY3Rpb24oKXtyZXR1cm4gcy5hY3RpdmUuaW5kZXh9LG8uZ2V0Q3VycmVudFNsaWRlRWxlbWVudD1mdW5jdGlvbigpe3JldHVybiBzLmNoaWxkcmVuLmVxKHMuYWN0aXZlLmluZGV4KX0sby5nZXRTbGlkZUVsZW1lbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHMuY2hpbGRyZW4uZXEodCl9LG8uZ2V0U2xpZGVDb3VudD1mdW5jdGlvbigpe3JldHVybiBzLmNoaWxkcmVuLmxlbmd0aH0sby5pc1dvcmtpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gcy53b3JraW5nfSxvLnJlZHJhd1NsaWRlcj1mdW5jdGlvbigpe3MuY2hpbGRyZW4uYWRkKG8uZmluZChcIi5ieC1jbG9uZVwiKSkub3V0ZXJXaWR0aChoKCkpLHMudmlld3BvcnQuY3NzKFwiaGVpZ2h0XCIscCgpKSxzLnNldHRpbmdzLnRpY2tlcnx8bSgpLHMuYWN0aXZlLmxhc3QmJihzLmFjdGl2ZS5pbmRleD1mKCktMSkscy5hY3RpdmUuaW5kZXg+PWYoKSYmKHMuYWN0aXZlLmxhc3Q9ITApLHMuc2V0dGluZ3MucGFnZXImJiFzLnNldHRpbmdzLnBhZ2VyQ3VzdG9tJiYodygpLHoocy5hY3RpdmUuaW5kZXgpKSxzLnNldHRpbmdzLmFyaWFIaWRkZW4mJmoocy5hY3RpdmUuaW5kZXgqeCgpKX0sby5kZXN0cm95U2xpZGVyPWZ1bmN0aW9uKCl7cy5pbml0aWFsaXplZCYmKHMuaW5pdGlhbGl6ZWQ9ITEsdChcIi5ieC1jbG9uZVwiLHRoaXMpLnJlbW92ZSgpLHMuY2hpbGRyZW4uZWFjaChmdW5jdGlvbigpe3ZvaWQgMCE9PXQodGhpcykuZGF0YShcIm9yaWdTdHlsZVwiKT90KHRoaXMpLmF0dHIoXCJzdHlsZVwiLHQodGhpcykuZGF0YShcIm9yaWdTdHlsZVwiKSk6dCh0aGlzKS5yZW1vdmVBdHRyKFwic3R5bGVcIil9KSx2b2lkIDAhPT10KHRoaXMpLmRhdGEoXCJvcmlnU3R5bGVcIik/dGhpcy5hdHRyKFwic3R5bGVcIix0KHRoaXMpLmRhdGEoXCJvcmlnU3R5bGVcIikpOnQodGhpcykucmVtb3ZlQXR0cihcInN0eWxlXCIpLHQodGhpcykudW53cmFwKCkudW53cmFwKCkscy5jb250cm9scy5lbCYmcy5jb250cm9scy5lbC5yZW1vdmUoKSxzLmNvbnRyb2xzLm5leHQmJnMuY29udHJvbHMubmV4dC5yZW1vdmUoKSxzLmNvbnRyb2xzLnByZXYmJnMuY29udHJvbHMucHJldi5yZW1vdmUoKSxzLnBhZ2VyRWwmJnMuc2V0dGluZ3MuY29udHJvbHMmJiFzLnNldHRpbmdzLnBhZ2VyQ3VzdG9tJiZzLnBhZ2VyRWwucmVtb3ZlKCksdChcIi5ieC1jYXB0aW9uXCIsdGhpcykucmVtb3ZlKCkscy5jb250cm9scy5hdXRvRWwmJnMuY29udHJvbHMuYXV0b0VsLnJlbW92ZSgpLGNsZWFySW50ZXJ2YWwocy5pbnRlcnZhbCkscy5zZXR0aW5ncy5yZXNwb25zaXZlJiZ0KHdpbmRvdykub2ZmKFwicmVzaXplXCIsVSkscy5zZXR0aW5ncy5rZXlib2FyZEVuYWJsZWQmJnQoZG9jdW1lbnQpLm9mZihcImtleWRvd25cIixCKSx0KHRoaXMpLnJlbW92ZURhdGEoXCJieFNsaWRlclwiKSx0KHdpbmRvdykub2ZmKFwiYmx1clwiLFcpLm9mZihcImZvY3VzXCIsSCkpfSxvLnJlbG9hZFNsaWRlcj1mdW5jdGlvbihlKXt2b2lkIDAhPT1lJiYobj1lKSxvLmRlc3Ryb3lTbGlkZXIoKSxsKCksdChvKS5kYXRhKFwiYnhTbGlkZXJcIix0aGlzKX0sbCgpLHQobykuZGF0YShcImJ4U2xpZGVyXCIsdGhpcyksdGhpc319fShqUXVlcnkpOyIsIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBmYW5jeUJveCB2My41Ljdcbi8vXG4vLyBMaWNlbnNlZCBHUEx2MyBmb3Igb3BlbiBzb3VyY2UgdXNlXG4vLyBvciBmYW5jeUJveCBDb21tZXJjaWFsIExpY2Vuc2UgZm9yIGNvbW1lcmNpYWwgdXNlXG4vL1xuLy8gaHR0cDovL2ZhbmN5YXBwcy5jb20vZmFuY3lib3gvXG4vLyBDb3B5cmlnaHQgMjAxOSBmYW5jeUFwcHNcbi8vXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuIWZ1bmN0aW9uKHQsZSxuLG8pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkodCxlKXt2YXIgbyxpLGEscz1bXSxyPTA7dCYmdC5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KHQucHJldmVudERlZmF1bHQoKSxlPWV8fHt9LHQmJnQuZGF0YSYmKGU9aCh0LmRhdGEub3B0aW9ucyxlKSksbz1lLiR0YXJnZXR8fG4odC5jdXJyZW50VGFyZ2V0KS50cmlnZ2VyKFwiYmx1clwiKSwoYT1uLmZhbmN5Ym94LmdldEluc3RhbmNlKCkpJiZhLiR0cmlnZ2VyJiZhLiR0cmlnZ2VyLmlzKG8pfHwoZS5zZWxlY3Rvcj9zPW4oZS5zZWxlY3Rvcik6KGk9by5hdHRyKFwiZGF0YS1mYW5jeWJveFwiKXx8XCJcIixpPyhzPXQuZGF0YT90LmRhdGEuaXRlbXM6W10scz1zLmxlbmd0aD9zLmZpbHRlcignW2RhdGEtZmFuY3lib3g9XCInK2krJ1wiXScpOm4oJ1tkYXRhLWZhbmN5Ym94PVwiJytpKydcIl0nKSk6cz1bb10pLHI9bihzKS5pbmRleChvKSxyPDAmJihyPTApLGE9bi5mYW5jeWJveC5vcGVuKHMsZSxyKSxhLiR0cmlnZ2VyPW8pKX1pZih0LmNvbnNvbGU9dC5jb25zb2xlfHx7aW5mbzpmdW5jdGlvbih0KXt9fSxuKXtpZihuLmZuLmZhbmN5Ym94KXJldHVybiB2b2lkIGNvbnNvbGUuaW5mbyhcImZhbmN5Qm94IGFscmVhZHkgaW5pdGlhbGl6ZWRcIik7dmFyIGE9e2Nsb3NlRXhpc3Rpbmc6ITEsbG9vcDohMSxndXR0ZXI6NTAsa2V5Ym9hcmQ6ITAscHJldmVudENhcHRpb25PdmVybGFwOiEwLGFycm93czohMCxpbmZvYmFyOiEwLHNtYWxsQnRuOlwiYXV0b1wiLHRvb2xiYXI6XCJhdXRvXCIsYnV0dG9uczpbXCJ6b29tXCIsXCJzbGlkZVNob3dcIixcInRodW1ic1wiLFwiY2xvc2VcIl0saWRsZVRpbWU6Myxwcm90ZWN0OiExLG1vZGFsOiExLGltYWdlOntwcmVsb2FkOiExfSxhamF4OntzZXR0aW5nczp7ZGF0YTp7ZmFuY3lib3g6ITB9fX0saWZyYW1lOnt0cGw6JzxpZnJhbWUgaWQ9XCJmYW5jeWJveC1mcmFtZXtybmR9XCIgbmFtZT1cImZhbmN5Ym94LWZyYW1le3JuZH1cIiBjbGFzcz1cImZhbmN5Ym94LWlmcmFtZVwiIGFsbG93ZnVsbHNjcmVlbj1cImFsbG93ZnVsbHNjcmVlblwiIGFsbG93PVwiYXV0b3BsYXk7IGZ1bGxzY3JlZW5cIiBzcmM9XCJcIj48L2lmcmFtZT4nLHByZWxvYWQ6ITAsY3NzOnt9LGF0dHI6e3Njcm9sbGluZzpcImF1dG9cIn19LHZpZGVvOnt0cGw6Jzx2aWRlbyBjbGFzcz1cImZhbmN5Ym94LXZpZGVvXCIgY29udHJvbHMgY29udHJvbHNMaXN0PVwibm9kb3dubG9hZFwiIHBvc3Rlcj1cInt7cG9zdGVyfX1cIj48c291cmNlIHNyYz1cInt7c3JjfX1cIiB0eXBlPVwie3tmb3JtYXR9fVwiIC8+U29ycnksIHlvdXIgYnJvd3NlciBkb2VzblxcJ3Qgc3VwcG9ydCBlbWJlZGRlZCB2aWRlb3MsIDxhIGhyZWY9XCJ7e3NyY319XCI+ZG93bmxvYWQ8L2E+IGFuZCB3YXRjaCB3aXRoIHlvdXIgZmF2b3JpdGUgdmlkZW8gcGxheWVyITwvdmlkZW8+Jyxmb3JtYXQ6XCJcIixhdXRvU3RhcnQ6ITB9LGRlZmF1bHRUeXBlOlwiaW1hZ2VcIixhbmltYXRpb25FZmZlY3Q6XCJ6b29tXCIsYW5pbWF0aW9uRHVyYXRpb246MzY2LHpvb21PcGFjaXR5OlwiYXV0b1wiLHRyYW5zaXRpb25FZmZlY3Q6XCJmYWRlXCIsdHJhbnNpdGlvbkR1cmF0aW9uOjM2NixzbGlkZUNsYXNzOlwiXCIsYmFzZUNsYXNzOlwiXCIsYmFzZVRwbDonPGRpdiBjbGFzcz1cImZhbmN5Ym94LWNvbnRhaW5lclwiIHJvbGU9XCJkaWFsb2dcIiB0YWJpbmRleD1cIi0xXCI+PGRpdiBjbGFzcz1cImZhbmN5Ym94LWJnXCI+PC9kaXY+PGRpdiBjbGFzcz1cImZhbmN5Ym94LWlubmVyXCI+PGRpdiBjbGFzcz1cImZhbmN5Ym94LWluZm9iYXJcIj48c3BhbiBkYXRhLWZhbmN5Ym94LWluZGV4Pjwvc3Bhbj4mbmJzcDsvJm5ic3A7PHNwYW4gZGF0YS1mYW5jeWJveC1jb3VudD48L3NwYW4+PC9kaXY+PGRpdiBjbGFzcz1cImZhbmN5Ym94LXRvb2xiYXJcIj57e2J1dHRvbnN9fTwvZGl2PjxkaXYgY2xhc3M9XCJmYW5jeWJveC1uYXZpZ2F0aW9uXCI+e3thcnJvd3N9fTwvZGl2PjxkaXYgY2xhc3M9XCJmYW5jeWJveC1zdGFnZVwiPjwvZGl2PjxkaXYgY2xhc3M9XCJmYW5jeWJveC1jYXB0aW9uXCI+PGRpdiBjbGFzcz1cImZhbmN5Ym94LWNhcHRpb25fX2JvZHlcIj48L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj4nLHNwaW5uZXJUcGw6JzxkaXYgY2xhc3M9XCJmYW5jeWJveC1sb2FkaW5nXCI+PC9kaXY+JyxlcnJvclRwbDonPGRpdiBjbGFzcz1cImZhbmN5Ym94LWVycm9yXCI+PHA+e3tFUlJPUn19PC9wPjwvZGl2PicsYnRuVHBsOntkb3dubG9hZDonPGEgZG93bmxvYWQgZGF0YS1mYW5jeWJveC1kb3dubG9hZCBjbGFzcz1cImZhbmN5Ym94LWJ1dHRvbiBmYW5jeWJveC1idXR0b24tLWRvd25sb2FkXCIgdGl0bGU9XCJ7e0RPV05MT0FEfX1cIiBocmVmPVwiamF2YXNjcmlwdDo7XCI+PHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIGQ9XCJNMTguNjIgMTcuMDlWMTlINS4zOHYtMS45MXptLTIuOTctNi45NkwxNyAxMS40NWwtNSA0Ljg3LTUtNC44NyAxLjM2LTEuMzIgMi42OCAyLjY0VjVoMS45MnY3Ljc3elwiLz48L3N2Zz48L2E+Jyx6b29tOic8YnV0dG9uIGRhdGEtZmFuY3lib3gtem9vbSBjbGFzcz1cImZhbmN5Ym94LWJ1dHRvbiBmYW5jeWJveC1idXR0b24tLXpvb21cIiB0aXRsZT1cInt7Wk9PTX19XCI+PHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIGQ9XCJNMTguNyAxNy4zbC0zLTNhNS45IDUuOSAwIDAgMC0uNi03LjYgNS45IDUuOSAwIDAgMC04LjQgMCA1LjkgNS45IDAgMCAwIDAgOC40IDUuOSA1LjkgMCAwIDAgNy43LjdsMyAzYTEgMSAwIDAgMCAxLjMgMGMuNC0uNS40LTEgMC0xLjV6TTguMSAxMy44YTQgNCAwIDAgMSAwLTUuNyA0IDQgMCAwIDEgNS43IDAgNCA0IDAgMCAxIDAgNS43IDQgNCAwIDAgMS01LjcgMHpcIi8+PC9zdmc+PC9idXR0b24+JyxjbG9zZTonPGJ1dHRvbiBkYXRhLWZhbmN5Ym94LWNsb3NlIGNsYXNzPVwiZmFuY3lib3gtYnV0dG9uIGZhbmN5Ym94LWJ1dHRvbi0tY2xvc2VcIiB0aXRsZT1cInt7Q0xPU0V9fVwiPjxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBkPVwiTTEyIDEwLjZMNi42IDUuMiA1LjIgNi42bDUuNCA1LjQtNS40IDUuNCAxLjQgMS40IDUuNC01LjQgNS40IDUuNCAxLjQtMS40LTUuNC01LjQgNS40LTUuNC0xLjQtMS40LTUuNCA1LjR6XCIvPjwvc3ZnPjwvYnV0dG9uPicsYXJyb3dMZWZ0Oic8YnV0dG9uIGRhdGEtZmFuY3lib3gtcHJldiBjbGFzcz1cImZhbmN5Ym94LWJ1dHRvbiBmYW5jeWJveC1idXR0b24tLWFycm93X2xlZnRcIiB0aXRsZT1cInt7UFJFVn19XCI+PGRpdj48c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggZD1cIk0xMS4yOCAxNS43bC0xLjM0IDEuMzdMNSAxMmw0Ljk0LTUuMDcgMS4zNCAxLjM4LTIuNjggMi43MkgxOXYxLjk0SDguNnpcIi8+PC9zdmc+PC9kaXY+PC9idXR0b24+JyxhcnJvd1JpZ2h0Oic8YnV0dG9uIGRhdGEtZmFuY3lib3gtbmV4dCBjbGFzcz1cImZhbmN5Ym94LWJ1dHRvbiBmYW5jeWJveC1idXR0b24tLWFycm93X3JpZ2h0XCIgdGl0bGU9XCJ7e05FWFR9fVwiPjxkaXY+PHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIGQ9XCJNMTUuNCAxMi45N2wtMi42OCAyLjcyIDEuMzQgMS4zOEwxOSAxMmwtNC45NC01LjA3LTEuMzQgMS4zOCAyLjY4IDIuNzJINXYxLjk0elwiLz48L3N2Zz48L2Rpdj48L2J1dHRvbj4nLHNtYWxsQnRuOic8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBkYXRhLWZhbmN5Ym94LWNsb3NlIGNsYXNzPVwiZmFuY3lib3gtYnV0dG9uIGZhbmN5Ym94LWNsb3NlLXNtYWxsXCIgdGl0bGU9XCJ7e0NMT1NFfX1cIj48c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2ZXJzaW9uPVwiMVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBkPVwiTTEzIDEybDUtNS0xLTEtNSA1LTUtNS0xIDEgNSA1LTUgNSAxIDEgNS01IDUgNSAxLTF6XCIvPjwvc3ZnPjwvYnV0dG9uPid9LHBhcmVudEVsOlwiYm9keVwiLGhpZGVTY3JvbGxiYXI6ITAsYXV0b0ZvY3VzOiEwLGJhY2tGb2N1czohMCx0cmFwRm9jdXM6ITAsZnVsbFNjcmVlbjp7YXV0b1N0YXJ0OiExfSx0b3VjaDp7dmVydGljYWw6ITAsbW9tZW50dW06ITB9LGhhc2g6bnVsbCxtZWRpYTp7fSxzbGlkZVNob3c6e2F1dG9TdGFydDohMSxzcGVlZDozZTN9LHRodW1iczp7YXV0b1N0YXJ0OiExLGhpZGVPbkNsb3NlOiEwLHBhcmVudEVsOlwiLmZhbmN5Ym94LWNvbnRhaW5lclwiLGF4aXM6XCJ5XCJ9LHdoZWVsOlwiYXV0b1wiLG9uSW5pdDpuLm5vb3AsYmVmb3JlTG9hZDpuLm5vb3AsYWZ0ZXJMb2FkOm4ubm9vcCxiZWZvcmVTaG93Om4ubm9vcCxhZnRlclNob3c6bi5ub29wLGJlZm9yZUNsb3NlOm4ubm9vcCxhZnRlckNsb3NlOm4ubm9vcCxvbkFjdGl2YXRlOm4ubm9vcCxvbkRlYWN0aXZhdGU6bi5ub29wLGNsaWNrQ29udGVudDpmdW5jdGlvbih0LGUpe3JldHVyblwiaW1hZ2VcIj09PXQudHlwZSYmXCJ6b29tXCJ9LGNsaWNrU2xpZGU6XCJjbG9zZVwiLGNsaWNrT3V0c2lkZTpcImNsb3NlXCIsZGJsY2xpY2tDb250ZW50OiExLGRibGNsaWNrU2xpZGU6ITEsZGJsY2xpY2tPdXRzaWRlOiExLG1vYmlsZTp7cHJldmVudENhcHRpb25PdmVybGFwOiExLGlkbGVUaW1lOiExLGNsaWNrQ29udGVudDpmdW5jdGlvbih0LGUpe3JldHVyblwiaW1hZ2VcIj09PXQudHlwZSYmXCJ0b2dnbGVDb250cm9sc1wifSxjbGlja1NsaWRlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuXCJpbWFnZVwiPT09dC50eXBlP1widG9nZ2xlQ29udHJvbHNcIjpcImNsb3NlXCJ9LGRibGNsaWNrQ29udGVudDpmdW5jdGlvbih0LGUpe3JldHVyblwiaW1hZ2VcIj09PXQudHlwZSYmXCJ6b29tXCJ9LGRibGNsaWNrU2xpZGU6ZnVuY3Rpb24odCxlKXtyZXR1cm5cImltYWdlXCI9PT10LnR5cGUmJlwiem9vbVwifX0sbGFuZzpcImVuXCIsaTE4bjp7ZW46e0NMT1NFOlwiQ2xvc2VcIixORVhUOlwiTmV4dFwiLFBSRVY6XCJQcmV2aW91c1wiLEVSUk9SOlwiVGhlIHJlcXVlc3RlZCBjb250ZW50IGNhbm5vdCBiZSBsb2FkZWQuIDxici8+IFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuXCIsUExBWV9TVEFSVDpcIlN0YXJ0IHNsaWRlc2hvd1wiLFBMQVlfU1RPUDpcIlBhdXNlIHNsaWRlc2hvd1wiLEZVTExfU0NSRUVOOlwiRnVsbCBzY3JlZW5cIixUSFVNQlM6XCJUaHVtYm5haWxzXCIsRE9XTkxPQUQ6XCJEb3dubG9hZFwiLFNIQVJFOlwiU2hhcmVcIixaT09NOlwiWm9vbVwifSxkZTp7Q0xPU0U6XCJTY2hsaWUmc3psaWc7ZW5cIixORVhUOlwiV2VpdGVyXCIsUFJFVjpcIlp1ciZ1dW1sO2NrXCIsRVJST1I6XCJEaWUgYW5nZWZvcmRlcnRlbiBEYXRlbiBrb25udGVuIG5pY2h0IGdlbGFkZW4gd2VyZGVuLiA8YnIvPiBCaXR0ZSB2ZXJzdWNoZW4gU2llIGVzIHNwJmF1bWw7dGVyIG5vY2htYWwuXCIsUExBWV9TVEFSVDpcIkRpYXNjaGF1IHN0YXJ0ZW5cIixQTEFZX1NUT1A6XCJEaWFzY2hhdSBiZWVuZGVuXCIsRlVMTF9TQ1JFRU46XCJWb2xsYmlsZFwiLFRIVU1CUzpcIlZvcnNjaGF1YmlsZGVyXCIsRE9XTkxPQUQ6XCJIZXJ1bnRlcmxhZGVuXCIsU0hBUkU6XCJUZWlsZW5cIixaT09NOlwiVmVyZ3Imb3VtbDsmc3psaWc7ZXJuXCJ9fX0scz1uKHQpLHI9bihlKSxjPTAsbD1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5oYXNPd25Qcm9wZXJ0eSYmdCBpbnN0YW5jZW9mIG59LGQ9ZnVuY3Rpb24oKXtyZXR1cm4gdC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHQud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx0Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZXx8dC5vUmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxmdW5jdGlvbihlKXtyZXR1cm4gdC5zZXRUaW1lb3V0KGUsMWUzLzYwKX19KCksdT1mdW5jdGlvbigpe3JldHVybiB0LmNhbmNlbEFuaW1hdGlvbkZyYW1lfHx0LndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lfHx0Lm1vekNhbmNlbEFuaW1hdGlvbkZyYW1lfHx0Lm9DYW5jZWxBbmltYXRpb25GcmFtZXx8ZnVuY3Rpb24oZSl7dC5jbGVhclRpbWVvdXQoZSl9fSgpLGY9ZnVuY3Rpb24oKXt2YXIgdCxuPWUuY3JlYXRlRWxlbWVudChcImZha2VlbGVtZW50XCIpLG89e3RyYW5zaXRpb246XCJ0cmFuc2l0aW9uZW5kXCIsT1RyYW5zaXRpb246XCJvVHJhbnNpdGlvbkVuZFwiLE1velRyYW5zaXRpb246XCJ0cmFuc2l0aW9uZW5kXCIsV2Via2l0VHJhbnNpdGlvbjpcIndlYmtpdFRyYW5zaXRpb25FbmRcIn07Zm9yKHQgaW4gbylpZih2b2lkIDAhPT1uLnN0eWxlW3RdKXJldHVybiBvW3RdO3JldHVyblwidHJhbnNpdGlvbmVuZFwifSgpLHA9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQubGVuZ3RoJiZ0WzBdLm9mZnNldEhlaWdodH0saD1mdW5jdGlvbih0LGUpe3ZhciBvPW4uZXh0ZW5kKCEwLHt9LHQsZSk7cmV0dXJuIG4uZWFjaChlLGZ1bmN0aW9uKHQsZSl7bi5pc0FycmF5KGUpJiYob1t0XT1lKX0pLG99LGc9ZnVuY3Rpb24odCl7dmFyIG8saTtyZXR1cm4hKCF0fHx0Lm93bmVyRG9jdW1lbnQhPT1lKSYmKG4oXCIuZmFuY3lib3gtY29udGFpbmVyXCIpLmNzcyhcInBvaW50ZXItZXZlbnRzXCIsXCJub25lXCIpLG89e3g6dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0K3Qub2Zmc2V0V2lkdGgvMix5OnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wK3Qub2Zmc2V0SGVpZ2h0LzJ9LGk9ZS5lbGVtZW50RnJvbVBvaW50KG8ueCxvLnkpPT09dCxuKFwiLmZhbmN5Ym94LWNvbnRhaW5lclwiKS5jc3MoXCJwb2ludGVyLWV2ZW50c1wiLFwiXCIpLGkpfSxiPWZ1bmN0aW9uKHQsZSxvKXt2YXIgaT10aGlzO2kub3B0cz1oKHtpbmRleDpvfSxuLmZhbmN5Ym94LmRlZmF1bHRzKSxuLmlzUGxhaW5PYmplY3QoZSkmJihpLm9wdHM9aChpLm9wdHMsZSkpLG4uZmFuY3lib3guaXNNb2JpbGUmJihpLm9wdHM9aChpLm9wdHMsaS5vcHRzLm1vYmlsZSkpLGkuaWQ9aS5vcHRzLmlkfHwrK2MsaS5jdXJySW5kZXg9cGFyc2VJbnQoaS5vcHRzLmluZGV4LDEwKXx8MCxpLnByZXZJbmRleD1udWxsLGkucHJldlBvcz1udWxsLGkuY3VyclBvcz0wLGkuZmlyc3RSdW49ITAsaS5ncm91cD1bXSxpLnNsaWRlcz17fSxpLmFkZENvbnRlbnQodCksaS5ncm91cC5sZW5ndGgmJmkuaW5pdCgpfTtuLmV4dGVuZChiLnByb3RvdHlwZSx7aW5pdDpmdW5jdGlvbigpe3ZhciBvLGksYT10aGlzLHM9YS5ncm91cFthLmN1cnJJbmRleF0scj1zLm9wdHM7ci5jbG9zZUV4aXN0aW5nJiZuLmZhbmN5Ym94LmNsb3NlKCEwKSxuKFwiYm9keVwiKS5hZGRDbGFzcyhcImZhbmN5Ym94LWFjdGl2ZVwiKSwhbi5mYW5jeWJveC5nZXRJbnN0YW5jZSgpJiYhMSE9PXIuaGlkZVNjcm9sbGJhciYmIW4uZmFuY3lib3guaXNNb2JpbGUmJmUuYm9keS5zY3JvbGxIZWlnaHQ+dC5pbm5lckhlaWdodCYmKG4oXCJoZWFkXCIpLmFwcGVuZCgnPHN0eWxlIGlkPVwiZmFuY3lib3gtc3R5bGUtbm9zY3JvbGxcIiB0eXBlPVwidGV4dC9jc3NcIj4uY29tcGVuc2F0ZS1mb3Itc2Nyb2xsYmFye21hcmdpbi1yaWdodDonKyh0LmlubmVyV2lkdGgtZS5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgpK1wicHg7fTwvc3R5bGU+XCIpLG4oXCJib2R5XCIpLmFkZENsYXNzKFwiY29tcGVuc2F0ZS1mb3Itc2Nyb2xsYmFyXCIpKSxpPVwiXCIsbi5lYWNoKHIuYnV0dG9ucyxmdW5jdGlvbih0LGUpe2krPXIuYnRuVHBsW2VdfHxcIlwifSksbz1uKGEudHJhbnNsYXRlKGEsci5iYXNlVHBsLnJlcGxhY2UoXCJ7e2J1dHRvbnN9fVwiLGkpLnJlcGxhY2UoXCJ7e2Fycm93c319XCIsci5idG5UcGwuYXJyb3dMZWZ0K3IuYnRuVHBsLmFycm93UmlnaHQpKSkuYXR0cihcImlkXCIsXCJmYW5jeWJveC1jb250YWluZXItXCIrYS5pZCkuYWRkQ2xhc3Moci5iYXNlQ2xhc3MpLmRhdGEoXCJGYW5jeUJveFwiLGEpLmFwcGVuZFRvKHIucGFyZW50RWwpLGEuJHJlZnM9e2NvbnRhaW5lcjpvfSxbXCJiZ1wiLFwiaW5uZXJcIixcImluZm9iYXJcIixcInRvb2xiYXJcIixcInN0YWdlXCIsXCJjYXB0aW9uXCIsXCJuYXZpZ2F0aW9uXCJdLmZvckVhY2goZnVuY3Rpb24odCl7YS4kcmVmc1t0XT1vLmZpbmQoXCIuZmFuY3lib3gtXCIrdCl9KSxhLnRyaWdnZXIoXCJvbkluaXRcIiksYS5hY3RpdmF0ZSgpLGEuanVtcFRvKGEuY3VyckluZGV4KX0sdHJhbnNsYXRlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dC5vcHRzLmkxOG5bdC5vcHRzLmxhbmddfHx0Lm9wdHMuaTE4bi5lbjtyZXR1cm4gZS5yZXBsYWNlKC9cXHtcXHsoXFx3KylcXH1cXH0vZyxmdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1uW2VdP3Q6bltlXX0pfSxhZGRDb250ZW50OmZ1bmN0aW9uKHQpe3ZhciBlLG89dGhpcyxpPW4ubWFrZUFycmF5KHQpO24uZWFjaChpLGZ1bmN0aW9uKHQsZSl7dmFyIGksYSxzLHIsYyxsPXt9LGQ9e307bi5pc1BsYWluT2JqZWN0KGUpPyhsPWUsZD1lLm9wdHN8fGUpOlwib2JqZWN0XCI9PT1uLnR5cGUoZSkmJm4oZSkubGVuZ3RoPyhpPW4oZSksZD1pLmRhdGEoKXx8e30sZD1uLmV4dGVuZCghMCx7fSxkLGQub3B0aW9ucyksZC4kb3JpZz1pLGwuc3JjPW8ub3B0cy5zcmN8fGQuc3JjfHxpLmF0dHIoXCJocmVmXCIpLGwudHlwZXx8bC5zcmN8fChsLnR5cGU9XCJpbmxpbmVcIixsLnNyYz1lKSk6bD17dHlwZTpcImh0bWxcIixzcmM6ZStcIlwifSxsLm9wdHM9bi5leHRlbmQoITAse30sby5vcHRzLGQpLG4uaXNBcnJheShkLmJ1dHRvbnMpJiYobC5vcHRzLmJ1dHRvbnM9ZC5idXR0b25zKSxuLmZhbmN5Ym94LmlzTW9iaWxlJiZsLm9wdHMubW9iaWxlJiYobC5vcHRzPWgobC5vcHRzLGwub3B0cy5tb2JpbGUpKSxhPWwudHlwZXx8bC5vcHRzLnR5cGUscj1sLnNyY3x8XCJcIiwhYSYmciYmKChzPXIubWF0Y2goL1xcLihtcDR8bW92fG9ndnx3ZWJtKSgoXFw/fCMpLiopPyQvaSkpPyhhPVwidmlkZW9cIixsLm9wdHMudmlkZW8uZm9ybWF0fHwobC5vcHRzLnZpZGVvLmZvcm1hdD1cInZpZGVvL1wiKyhcIm9ndlwiPT09c1sxXT9cIm9nZ1wiOnNbMV0pKSk6ci5tYXRjaCgvKF5kYXRhOmltYWdlXFwvW2EtejAtOStcXC89XSosKXwoXFwuKGpwKGV8Z3xlZyl8Z2lmfHBuZ3xibXB8d2VicHxzdmd8aWNvKSgoXFw/fCMpLiopPyQpL2kpP2E9XCJpbWFnZVwiOnIubWF0Y2goL1xcLihwZGYpKChcXD98IykuKik/JC9pKT8oYT1cImlmcmFtZVwiLGw9bi5leHRlbmQoITAsbCx7Y29udGVudFR5cGU6XCJwZGZcIixvcHRzOntpZnJhbWU6e3ByZWxvYWQ6ITF9fX0pKTpcIiNcIj09PXIuY2hhckF0KDApJiYoYT1cImlubGluZVwiKSksYT9sLnR5cGU9YTpvLnRyaWdnZXIoXCJvYmplY3ROZWVkc1R5cGVcIixsKSxsLmNvbnRlbnRUeXBlfHwobC5jb250ZW50VHlwZT1uLmluQXJyYXkobC50eXBlLFtcImh0bWxcIixcImlubGluZVwiLFwiYWpheFwiXSk+LTE/XCJodG1sXCI6bC50eXBlKSxsLmluZGV4PW8uZ3JvdXAubGVuZ3RoLFwiYXV0b1wiPT1sLm9wdHMuc21hbGxCdG4mJihsLm9wdHMuc21hbGxCdG49bi5pbkFycmF5KGwudHlwZSxbXCJodG1sXCIsXCJpbmxpbmVcIixcImFqYXhcIl0pPi0xKSxcImF1dG9cIj09PWwub3B0cy50b29sYmFyJiYobC5vcHRzLnRvb2xiYXI9IWwub3B0cy5zbWFsbEJ0biksbC4kdGh1bWI9bC5vcHRzLiR0aHVtYnx8bnVsbCxsLm9wdHMuJHRyaWdnZXImJmwuaW5kZXg9PT1vLm9wdHMuaW5kZXgmJihsLiR0aHVtYj1sLm9wdHMuJHRyaWdnZXIuZmluZChcImltZzpmaXJzdFwiKSxsLiR0aHVtYi5sZW5ndGgmJihsLm9wdHMuJG9yaWc9bC5vcHRzLiR0cmlnZ2VyKSksbC4kdGh1bWImJmwuJHRodW1iLmxlbmd0aHx8IWwub3B0cy4kb3JpZ3x8KGwuJHRodW1iPWwub3B0cy4kb3JpZy5maW5kKFwiaW1nOmZpcnN0XCIpKSxsLiR0aHVtYiYmIWwuJHRodW1iLmxlbmd0aCYmKGwuJHRodW1iPW51bGwpLGwudGh1bWI9bC5vcHRzLnRodW1ifHwobC4kdGh1bWI/bC4kdGh1bWJbMF0uc3JjOm51bGwpLFwiZnVuY3Rpb25cIj09PW4udHlwZShsLm9wdHMuY2FwdGlvbikmJihsLm9wdHMuY2FwdGlvbj1sLm9wdHMuY2FwdGlvbi5hcHBseShlLFtvLGxdKSksXCJmdW5jdGlvblwiPT09bi50eXBlKG8ub3B0cy5jYXB0aW9uKSYmKGwub3B0cy5jYXB0aW9uPW8ub3B0cy5jYXB0aW9uLmFwcGx5KGUsW28sbF0pKSxsLm9wdHMuY2FwdGlvbiBpbnN0YW5jZW9mIG58fChsLm9wdHMuY2FwdGlvbj12b2lkIDA9PT1sLm9wdHMuY2FwdGlvbj9cIlwiOmwub3B0cy5jYXB0aW9uK1wiXCIpLFwiYWpheFwiPT09bC50eXBlJiYoYz1yLnNwbGl0KC9cXHMrLywyKSxjLmxlbmd0aD4xJiYobC5zcmM9Yy5zaGlmdCgpLGwub3B0cy5maWx0ZXI9Yy5zaGlmdCgpKSksbC5vcHRzLm1vZGFsJiYobC5vcHRzPW4uZXh0ZW5kKCEwLGwub3B0cyx7dHJhcEZvY3VzOiEwLGluZm9iYXI6MCx0b29sYmFyOjAsc21hbGxCdG46MCxrZXlib2FyZDowLHNsaWRlU2hvdzowLGZ1bGxTY3JlZW46MCx0aHVtYnM6MCx0b3VjaDowLGNsaWNrQ29udGVudDohMSxjbGlja1NsaWRlOiExLGNsaWNrT3V0c2lkZTohMSxkYmxjbGlja0NvbnRlbnQ6ITEsZGJsY2xpY2tTbGlkZTohMSxkYmxjbGlja091dHNpZGU6ITF9KSksby5ncm91cC5wdXNoKGwpfSksT2JqZWN0LmtleXMoby5zbGlkZXMpLmxlbmd0aCYmKG8udXBkYXRlQ29udHJvbHMoKSwoZT1vLlRodW1icykmJmUuaXNBY3RpdmUmJihlLmNyZWF0ZSgpLGUuZm9jdXMoKSkpfSxhZGRFdmVudHM6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UucmVtb3ZlRXZlbnRzKCksZS4kcmVmcy5jb250YWluZXIub24oXCJjbGljay5mYi1jbG9zZVwiLFwiW2RhdGEtZmFuY3lib3gtY2xvc2VdXCIsZnVuY3Rpb24odCl7dC5zdG9wUHJvcGFnYXRpb24oKSx0LnByZXZlbnREZWZhdWx0KCksZS5jbG9zZSh0KX0pLm9uKFwidG91Y2hzdGFydC5mYi1wcmV2IGNsaWNrLmZiLXByZXZcIixcIltkYXRhLWZhbmN5Ym94LXByZXZdXCIsZnVuY3Rpb24odCl7dC5zdG9wUHJvcGFnYXRpb24oKSx0LnByZXZlbnREZWZhdWx0KCksZS5wcmV2aW91cygpfSkub24oXCJ0b3VjaHN0YXJ0LmZiLW5leHQgY2xpY2suZmItbmV4dFwiLFwiW2RhdGEtZmFuY3lib3gtbmV4dF1cIixmdW5jdGlvbih0KXt0LnN0b3BQcm9wYWdhdGlvbigpLHQucHJldmVudERlZmF1bHQoKSxlLm5leHQoKX0pLm9uKFwiY2xpY2suZmJcIixcIltkYXRhLWZhbmN5Ym94LXpvb21dXCIsZnVuY3Rpb24odCl7ZVtlLmlzU2NhbGVkRG93bigpP1wic2NhbGVUb0FjdHVhbFwiOlwic2NhbGVUb0ZpdFwiXSgpfSkscy5vbihcIm9yaWVudGF0aW9uY2hhbmdlLmZiIHJlc2l6ZS5mYlwiLGZ1bmN0aW9uKHQpe3QmJnQub3JpZ2luYWxFdmVudCYmXCJyZXNpemVcIj09PXQub3JpZ2luYWxFdmVudC50eXBlPyhlLnJlcXVlc3RJZCYmdShlLnJlcXVlc3RJZCksZS5yZXF1ZXN0SWQ9ZChmdW5jdGlvbigpe2UudXBkYXRlKHQpfSkpOihlLmN1cnJlbnQmJlwiaWZyYW1lXCI9PT1lLmN1cnJlbnQudHlwZSYmZS4kcmVmcy5zdGFnZS5oaWRlKCksc2V0VGltZW91dChmdW5jdGlvbigpe2UuJHJlZnMuc3RhZ2Uuc2hvdygpLGUudXBkYXRlKHQpfSxuLmZhbmN5Ym94LmlzTW9iaWxlPzYwMDoyNTApKX0pLHIub24oXCJrZXlkb3duLmZiXCIsZnVuY3Rpb24odCl7dmFyIG89bi5mYW5jeWJveD9uLmZhbmN5Ym94LmdldEluc3RhbmNlKCk6bnVsbCxpPW8uY3VycmVudCxhPXQua2V5Q29kZXx8dC53aGljaDtpZig5PT1hKXJldHVybiB2b2lkKGkub3B0cy50cmFwRm9jdXMmJmUuZm9jdXModCkpO2lmKCEoIWkub3B0cy5rZXlib2FyZHx8dC5jdHJsS2V5fHx0LmFsdEtleXx8dC5zaGlmdEtleXx8bih0LnRhcmdldCkuaXMoXCJpbnB1dCx0ZXh0YXJlYSx2aWRlbyxhdWRpbyxzZWxlY3RcIikpKXJldHVybiA4PT09YXx8Mjc9PT1hPyh0LnByZXZlbnREZWZhdWx0KCksdm9pZCBlLmNsb3NlKHQpKTozNz09PWF8fDM4PT09YT8odC5wcmV2ZW50RGVmYXVsdCgpLHZvaWQgZS5wcmV2aW91cygpKTozOT09PWF8fDQwPT09YT8odC5wcmV2ZW50RGVmYXVsdCgpLHZvaWQgZS5uZXh0KCkpOnZvaWQgZS50cmlnZ2VyKFwiYWZ0ZXJLZXlkb3duXCIsdCxhKX0pLGUuZ3JvdXBbZS5jdXJySW5kZXhdLm9wdHMuaWRsZVRpbWUmJihlLmlkbGVTZWNvbmRzQ291bnRlcj0wLHIub24oXCJtb3VzZW1vdmUuZmItaWRsZSBtb3VzZWxlYXZlLmZiLWlkbGUgbW91c2Vkb3duLmZiLWlkbGUgdG91Y2hzdGFydC5mYi1pZGxlIHRvdWNobW92ZS5mYi1pZGxlIHNjcm9sbC5mYi1pZGxlIGtleWRvd24uZmItaWRsZVwiLGZ1bmN0aW9uKHQpe2UuaWRsZVNlY29uZHNDb3VudGVyPTAsZS5pc0lkbGUmJmUuc2hvd0NvbnRyb2xzKCksZS5pc0lkbGU9ITF9KSxlLmlkbGVJbnRlcnZhbD10LnNldEludGVydmFsKGZ1bmN0aW9uKCl7KytlLmlkbGVTZWNvbmRzQ291bnRlcj49ZS5ncm91cFtlLmN1cnJJbmRleF0ub3B0cy5pZGxlVGltZSYmIWUuaXNEcmFnZ2luZyYmKGUuaXNJZGxlPSEwLGUuaWRsZVNlY29uZHNDb3VudGVyPTAsZS5oaWRlQ29udHJvbHMoKSl9LDFlMykpfSxyZW1vdmVFdmVudHM6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3Mub2ZmKFwib3JpZW50YXRpb25jaGFuZ2UuZmIgcmVzaXplLmZiXCIpLHIub2ZmKFwia2V5ZG93bi5mYiAuZmItaWRsZVwiKSx0aGlzLiRyZWZzLmNvbnRhaW5lci5vZmYoXCIuZmItY2xvc2UgLmZiLXByZXYgLmZiLW5leHRcIiksZS5pZGxlSW50ZXJ2YWwmJih0LmNsZWFySW50ZXJ2YWwoZS5pZGxlSW50ZXJ2YWwpLGUuaWRsZUludGVydmFsPW51bGwpfSxwcmV2aW91czpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5qdW1wVG8odGhpcy5jdXJyUG9zLTEsdCl9LG5leHQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuanVtcFRvKHRoaXMuY3VyclBvcysxLHQpfSxqdW1wVG86ZnVuY3Rpb24odCxlKXt2YXIgbyxpLGEscyxyLGMsbCxkLHUsZj10aGlzLGg9Zi5ncm91cC5sZW5ndGg7aWYoIShmLmlzRHJhZ2dpbmd8fGYuaXNDbG9zaW5nfHxmLmlzQW5pbWF0aW5nJiZmLmZpcnN0UnVuKSl7aWYodD1wYXJzZUludCh0LDEwKSwhKGE9Zi5jdXJyZW50P2YuY3VycmVudC5vcHRzLmxvb3A6Zi5vcHRzLmxvb3ApJiYodDwwfHx0Pj1oKSlyZXR1cm4hMTtpZihvPWYuZmlyc3RSdW49IU9iamVjdC5rZXlzKGYuc2xpZGVzKS5sZW5ndGgscj1mLmN1cnJlbnQsZi5wcmV2SW5kZXg9Zi5jdXJySW5kZXgsZi5wcmV2UG9zPWYuY3VyclBvcyxzPWYuY3JlYXRlU2xpZGUodCksaD4xJiYoKGF8fHMuaW5kZXg8aC0xKSYmZi5jcmVhdGVTbGlkZSh0KzEpLChhfHxzLmluZGV4PjApJiZmLmNyZWF0ZVNsaWRlKHQtMSkpLGYuY3VycmVudD1zLGYuY3VyckluZGV4PXMuaW5kZXgsZi5jdXJyUG9zPXMucG9zLGYudHJpZ2dlcihcImJlZm9yZVNob3dcIixvKSxmLnVwZGF0ZUNvbnRyb2xzKCkscy5mb3JjZWREdXJhdGlvbj12b2lkIDAsbi5pc051bWVyaWMoZSk/cy5mb3JjZWREdXJhdGlvbj1lOmU9cy5vcHRzW28/XCJhbmltYXRpb25EdXJhdGlvblwiOlwidHJhbnNpdGlvbkR1cmF0aW9uXCJdLGU9cGFyc2VJbnQoZSwxMCksaT1mLmlzTW92ZWQocykscy4kc2xpZGUuYWRkQ2xhc3MoXCJmYW5jeWJveC1zbGlkZS0tY3VycmVudFwiKSxvKXJldHVybiBzLm9wdHMuYW5pbWF0aW9uRWZmZWN0JiZlJiZmLiRyZWZzLmNvbnRhaW5lci5jc3MoXCJ0cmFuc2l0aW9uLWR1cmF0aW9uXCIsZStcIm1zXCIpLGYuJHJlZnMuY29udGFpbmVyLmFkZENsYXNzKFwiZmFuY3lib3gtaXMtb3BlblwiKS50cmlnZ2VyKFwiZm9jdXNcIiksZi5sb2FkU2xpZGUocyksdm9pZCBmLnByZWxvYWQoXCJpbWFnZVwiKTtjPW4uZmFuY3lib3guZ2V0VHJhbnNsYXRlKHIuJHNsaWRlKSxsPW4uZmFuY3lib3guZ2V0VHJhbnNsYXRlKGYuJHJlZnMuc3RhZ2UpLG4uZWFjaChmLnNsaWRlcyxmdW5jdGlvbih0LGUpe24uZmFuY3lib3guc3RvcChlLiRzbGlkZSwhMCl9KSxyLnBvcyE9PXMucG9zJiYoci5pc0NvbXBsZXRlPSExKSxyLiRzbGlkZS5yZW1vdmVDbGFzcyhcImZhbmN5Ym94LXNsaWRlLS1jb21wbGV0ZSBmYW5jeWJveC1zbGlkZS0tY3VycmVudFwiKSxpPyh1PWMubGVmdC0oci5wb3MqYy53aWR0aCtyLnBvcypyLm9wdHMuZ3V0dGVyKSxuLmVhY2goZi5zbGlkZXMsZnVuY3Rpb24odCxvKXtvLiRzbGlkZS5yZW1vdmVDbGFzcyhcImZhbmN5Ym94LWFuaW1hdGVkXCIpLnJlbW92ZUNsYXNzKGZ1bmN0aW9uKHQsZSl7cmV0dXJuKGUubWF0Y2goLyhefFxccylmYW5jeWJveC1meC1cXFMrL2cpfHxbXSkuam9pbihcIiBcIil9KTt2YXIgaT1vLnBvcypjLndpZHRoK28ucG9zKm8ub3B0cy5ndXR0ZXI7bi5mYW5jeWJveC5zZXRUcmFuc2xhdGUoby4kc2xpZGUse3RvcDowLGxlZnQ6aS1sLmxlZnQrdX0pLG8ucG9zIT09cy5wb3MmJm8uJHNsaWRlLmFkZENsYXNzKFwiZmFuY3lib3gtc2xpZGUtLVwiKyhvLnBvcz5zLnBvcz9cIm5leHRcIjpcInByZXZpb3VzXCIpKSxwKG8uJHNsaWRlKSxuLmZhbmN5Ym94LmFuaW1hdGUoby4kc2xpZGUse3RvcDowLGxlZnQ6KG8ucG9zLXMucG9zKSpjLndpZHRoKyhvLnBvcy1zLnBvcykqby5vcHRzLmd1dHRlcn0sZSxmdW5jdGlvbigpe28uJHNsaWRlLmNzcyh7dHJhbnNmb3JtOlwiXCIsb3BhY2l0eTpcIlwifSkucmVtb3ZlQ2xhc3MoXCJmYW5jeWJveC1zbGlkZS0tbmV4dCBmYW5jeWJveC1zbGlkZS0tcHJldmlvdXNcIiksby5wb3M9PT1mLmN1cnJQb3MmJmYuY29tcGxldGUoKX0pfSkpOmUmJnMub3B0cy50cmFuc2l0aW9uRWZmZWN0JiYoZD1cImZhbmN5Ym94LWFuaW1hdGVkIGZhbmN5Ym94LWZ4LVwiK3Mub3B0cy50cmFuc2l0aW9uRWZmZWN0LHIuJHNsaWRlLmFkZENsYXNzKFwiZmFuY3lib3gtc2xpZGUtLVwiKyhyLnBvcz5zLnBvcz9cIm5leHRcIjpcInByZXZpb3VzXCIpKSxuLmZhbmN5Ym94LmFuaW1hdGUoci4kc2xpZGUsZCxlLGZ1bmN0aW9uKCl7ci4kc2xpZGUucmVtb3ZlQ2xhc3MoZCkucmVtb3ZlQ2xhc3MoXCJmYW5jeWJveC1zbGlkZS0tbmV4dCBmYW5jeWJveC1zbGlkZS0tcHJldmlvdXNcIil9LCExKSkscy5pc0xvYWRlZD9mLnJldmVhbENvbnRlbnQocyk6Zi5sb2FkU2xpZGUocyksZi5wcmVsb2FkKFwiaW1hZ2VcIil9fSxjcmVhdGVTbGlkZTpmdW5jdGlvbih0KXt2YXIgZSxvLGk9dGhpcztyZXR1cm4gbz10JWkuZ3JvdXAubGVuZ3RoLG89bzwwP2kuZ3JvdXAubGVuZ3RoK286bywhaS5zbGlkZXNbdF0mJmkuZ3JvdXBbb10mJihlPW4oJzxkaXYgY2xhc3M9XCJmYW5jeWJveC1zbGlkZVwiPjwvZGl2PicpLmFwcGVuZFRvKGkuJHJlZnMuc3RhZ2UpLGkuc2xpZGVzW3RdPW4uZXh0ZW5kKCEwLHt9LGkuZ3JvdXBbb10se3Bvczp0LCRzbGlkZTplLGlzTG9hZGVkOiExfSksaS51cGRhdGVTbGlkZShpLnNsaWRlc1t0XSkpLGkuc2xpZGVzW3RdfSxzY2FsZVRvQWN0dWFsOmZ1bmN0aW9uKHQsZSxvKXt2YXIgaSxhLHMscixjLGw9dGhpcyxkPWwuY3VycmVudCx1PWQuJGNvbnRlbnQsZj1uLmZhbmN5Ym94LmdldFRyYW5zbGF0ZShkLiRzbGlkZSkud2lkdGgscD1uLmZhbmN5Ym94LmdldFRyYW5zbGF0ZShkLiRzbGlkZSkuaGVpZ2h0LGg9ZC53aWR0aCxnPWQuaGVpZ2h0O2wuaXNBbmltYXRpbmd8fGwuaXNNb3ZlZCgpfHwhdXx8XCJpbWFnZVwiIT1kLnR5cGV8fCFkLmlzTG9hZGVkfHxkLmhhc0Vycm9yfHwobC5pc0FuaW1hdGluZz0hMCxuLmZhbmN5Ym94LnN0b3AodSksdD12b2lkIDA9PT10Py41KmY6dCxlPXZvaWQgMD09PWU/LjUqcDplLGk9bi5mYW5jeWJveC5nZXRUcmFuc2xhdGUodSksaS50b3AtPW4uZmFuY3lib3guZ2V0VHJhbnNsYXRlKGQuJHNsaWRlKS50b3AsaS5sZWZ0LT1uLmZhbmN5Ym94LmdldFRyYW5zbGF0ZShkLiRzbGlkZSkubGVmdCxyPWgvaS53aWR0aCxjPWcvaS5oZWlnaHQsYT0uNSpmLS41Kmgscz0uNSpwLS41KmcsaD5mJiYoYT1pLmxlZnQqci0odCpyLXQpLGE+MCYmKGE9MCksYTxmLWgmJihhPWYtaCkpLGc+cCYmKHM9aS50b3AqYy0oZSpjLWUpLHM+MCYmKHM9MCksczxwLWcmJihzPXAtZykpLGwudXBkYXRlQ3Vyc29yKGgsZyksbi5mYW5jeWJveC5hbmltYXRlKHUse3RvcDpzLGxlZnQ6YSxzY2FsZVg6cixzY2FsZVk6Y30sb3x8MzY2LGZ1bmN0aW9uKCl7bC5pc0FuaW1hdGluZz0hMX0pLGwuU2xpZGVTaG93JiZsLlNsaWRlU2hvdy5pc0FjdGl2ZSYmbC5TbGlkZVNob3cuc3RvcCgpKX0sc2NhbGVUb0ZpdDpmdW5jdGlvbih0KXt2YXIgZSxvPXRoaXMsaT1vLmN1cnJlbnQsYT1pLiRjb250ZW50O28uaXNBbmltYXRpbmd8fG8uaXNNb3ZlZCgpfHwhYXx8XCJpbWFnZVwiIT1pLnR5cGV8fCFpLmlzTG9hZGVkfHxpLmhhc0Vycm9yfHwoby5pc0FuaW1hdGluZz0hMCxuLmZhbmN5Ym94LnN0b3AoYSksZT1vLmdldEZpdFBvcyhpKSxvLnVwZGF0ZUN1cnNvcihlLndpZHRoLGUuaGVpZ2h0KSxuLmZhbmN5Ym94LmFuaW1hdGUoYSx7dG9wOmUudG9wLGxlZnQ6ZS5sZWZ0LHNjYWxlWDplLndpZHRoL2Eud2lkdGgoKSxzY2FsZVk6ZS5oZWlnaHQvYS5oZWlnaHQoKX0sdHx8MzY2LGZ1bmN0aW9uKCl7by5pc0FuaW1hdGluZz0hMX0pKX0sZ2V0Rml0UG9zOmZ1bmN0aW9uKHQpe3ZhciBlLG8saSxhLHM9dGhpcyxyPXQuJGNvbnRlbnQsYz10LiRzbGlkZSxsPXQud2lkdGh8fHQub3B0cy53aWR0aCxkPXQuaGVpZ2h0fHx0Lm9wdHMuaGVpZ2h0LHU9e307cmV0dXJuISEodC5pc0xvYWRlZCYmciYmci5sZW5ndGgpJiYoZT1uLmZhbmN5Ym94LmdldFRyYW5zbGF0ZShzLiRyZWZzLnN0YWdlKS53aWR0aCxvPW4uZmFuY3lib3guZ2V0VHJhbnNsYXRlKHMuJHJlZnMuc3RhZ2UpLmhlaWdodCxlLT1wYXJzZUZsb2F0KGMuY3NzKFwicGFkZGluZ0xlZnRcIikpK3BhcnNlRmxvYXQoYy5jc3MoXCJwYWRkaW5nUmlnaHRcIikpK3BhcnNlRmxvYXQoci5jc3MoXCJtYXJnaW5MZWZ0XCIpKStwYXJzZUZsb2F0KHIuY3NzKFwibWFyZ2luUmlnaHRcIikpLG8tPXBhcnNlRmxvYXQoYy5jc3MoXCJwYWRkaW5nVG9wXCIpKStwYXJzZUZsb2F0KGMuY3NzKFwicGFkZGluZ0JvdHRvbVwiKSkrcGFyc2VGbG9hdChyLmNzcyhcIm1hcmdpblRvcFwiKSkrcGFyc2VGbG9hdChyLmNzcyhcIm1hcmdpbkJvdHRvbVwiKSksbCYmZHx8KGw9ZSxkPW8pLGk9TWF0aC5taW4oMSxlL2wsby9kKSxsKj1pLGQqPWksbD5lLS41JiYobD1lKSxkPm8tLjUmJihkPW8pLFwiaW1hZ2VcIj09PXQudHlwZT8odS50b3A9TWF0aC5mbG9vciguNSooby1kKSkrcGFyc2VGbG9hdChjLmNzcyhcInBhZGRpbmdUb3BcIikpLHUubGVmdD1NYXRoLmZsb29yKC41KihlLWwpKStwYXJzZUZsb2F0KGMuY3NzKFwicGFkZGluZ0xlZnRcIikpKTpcInZpZGVvXCI9PT10LmNvbnRlbnRUeXBlJiYoYT10Lm9wdHMud2lkdGgmJnQub3B0cy5oZWlnaHQ/bC9kOnQub3B0cy5yYXRpb3x8MTYvOSxkPmwvYT9kPWwvYTpsPmQqYSYmKGw9ZCphKSksdS53aWR0aD1sLHUuaGVpZ2h0PWQsdSl9LHVwZGF0ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzO24uZWFjaChlLnNsaWRlcyxmdW5jdGlvbihuLG8pe2UudXBkYXRlU2xpZGUobyx0KX0pfSx1cGRhdGVTbGlkZTpmdW5jdGlvbih0LGUpe3ZhciBvPXRoaXMsaT10JiZ0LiRjb250ZW50LGE9dC53aWR0aHx8dC5vcHRzLndpZHRoLHM9dC5oZWlnaHR8fHQub3B0cy5oZWlnaHQscj10LiRzbGlkZTtvLmFkanVzdENhcHRpb24odCksaSYmKGF8fHN8fFwidmlkZW9cIj09PXQuY29udGVudFR5cGUpJiYhdC5oYXNFcnJvciYmKG4uZmFuY3lib3guc3RvcChpKSxuLmZhbmN5Ym94LnNldFRyYW5zbGF0ZShpLG8uZ2V0Rml0UG9zKHQpKSx0LnBvcz09PW8uY3VyclBvcyYmKG8uaXNBbmltYXRpbmc9ITEsby51cGRhdGVDdXJzb3IoKSkpLG8uYWRqdXN0TGF5b3V0KHQpLHIubGVuZ3RoJiYoci50cmlnZ2VyKFwicmVmcmVzaFwiKSx0LnBvcz09PW8uY3VyclBvcyYmby4kcmVmcy50b29sYmFyLmFkZChvLiRyZWZzLm5hdmlnYXRpb24uZmluZChcIi5mYW5jeWJveC1idXR0b24tLWFycm93X3JpZ2h0XCIpKS50b2dnbGVDbGFzcyhcImNvbXBlbnNhdGUtZm9yLXNjcm9sbGJhclwiLHIuZ2V0KDApLnNjcm9sbEhlaWdodD5yLmdldCgwKS5jbGllbnRIZWlnaHQpKSxvLnRyaWdnZXIoXCJvblVwZGF0ZVwiLHQsZSl9LGNlbnRlclNsaWRlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbz1lLmN1cnJlbnQsaT1vLiRzbGlkZTshZS5pc0Nsb3NpbmcmJm8mJihpLnNpYmxpbmdzKCkuY3NzKHt0cmFuc2Zvcm06XCJcIixvcGFjaXR5OlwiXCJ9KSxpLnBhcmVudCgpLmNoaWxkcmVuKCkucmVtb3ZlQ2xhc3MoXCJmYW5jeWJveC1zbGlkZS0tcHJldmlvdXMgZmFuY3lib3gtc2xpZGUtLW5leHRcIiksbi5mYW5jeWJveC5hbmltYXRlKGkse3RvcDowLGxlZnQ6MCxvcGFjaXR5OjF9LHZvaWQgMD09PXQ/MDp0LGZ1bmN0aW9uKCl7aS5jc3Moe3RyYW5zZm9ybTpcIlwiLG9wYWNpdHk6XCJcIn0pLG8uaXNDb21wbGV0ZXx8ZS5jb21wbGV0ZSgpfSwhMSkpfSxpc01vdmVkOmZ1bmN0aW9uKHQpe3ZhciBlLG8saT10fHx0aGlzLmN1cnJlbnQ7cmV0dXJuISFpJiYobz1uLmZhbmN5Ym94LmdldFRyYW5zbGF0ZSh0aGlzLiRyZWZzLnN0YWdlKSxlPW4uZmFuY3lib3guZ2V0VHJhbnNsYXRlKGkuJHNsaWRlKSwhaS4kc2xpZGUuaGFzQ2xhc3MoXCJmYW5jeWJveC1hbmltYXRlZFwiKSYmKE1hdGguYWJzKGUudG9wLW8udG9wKT4uNXx8TWF0aC5hYnMoZS5sZWZ0LW8ubGVmdCk+LjUpKX0sdXBkYXRlQ3Vyc29yOmZ1bmN0aW9uKHQsZSl7dmFyIG8saSxhPXRoaXMscz1hLmN1cnJlbnQscj1hLiRyZWZzLmNvbnRhaW5lcjtzJiYhYS5pc0Nsb3NpbmcmJmEuR3Vlc3R1cmVzJiYoci5yZW1vdmVDbGFzcyhcImZhbmN5Ym94LWlzLXpvb21hYmxlIGZhbmN5Ym94LWNhbi16b29tSW4gZmFuY3lib3gtY2FuLXpvb21PdXQgZmFuY3lib3gtY2FuLXN3aXBlIGZhbmN5Ym94LWNhbi1wYW5cIiksbz1hLmNhblBhbih0LGUpLGk9ISFvfHxhLmlzWm9vbWFibGUoKSxyLnRvZ2dsZUNsYXNzKFwiZmFuY3lib3gtaXMtem9vbWFibGVcIixpKSxuKFwiW2RhdGEtZmFuY3lib3gtem9vbV1cIikucHJvcChcImRpc2FibGVkXCIsIWkpLG8/ci5hZGRDbGFzcyhcImZhbmN5Ym94LWNhbi1wYW5cIik6aSYmKFwiem9vbVwiPT09cy5vcHRzLmNsaWNrQ29udGVudHx8bi5pc0Z1bmN0aW9uKHMub3B0cy5jbGlja0NvbnRlbnQpJiZcInpvb21cIj09cy5vcHRzLmNsaWNrQ29udGVudChzKSk/ci5hZGRDbGFzcyhcImZhbmN5Ym94LWNhbi16b29tSW5cIik6cy5vcHRzLnRvdWNoJiYocy5vcHRzLnRvdWNoLnZlcnRpY2FsfHxhLmdyb3VwLmxlbmd0aD4xKSYmXCJ2aWRlb1wiIT09cy5jb250ZW50VHlwZSYmci5hZGRDbGFzcyhcImZhbmN5Ym94LWNhbi1zd2lwZVwiKSl9LGlzWm9vbWFibGU6ZnVuY3Rpb24oKXt2YXIgdCxlPXRoaXMsbj1lLmN1cnJlbnQ7aWYobiYmIWUuaXNDbG9zaW5nJiZcImltYWdlXCI9PT1uLnR5cGUmJiFuLmhhc0Vycm9yKXtpZighbi5pc0xvYWRlZClyZXR1cm4hMDtpZigodD1lLmdldEZpdFBvcyhuKSkmJihuLndpZHRoPnQud2lkdGh8fG4uaGVpZ2h0PnQuaGVpZ2h0KSlyZXR1cm4hMH1yZXR1cm4hMX0saXNTY2FsZWREb3duOmZ1bmN0aW9uKHQsZSl7dmFyIG89dGhpcyxpPSExLGE9by5jdXJyZW50LHM9YS4kY29udGVudDtyZXR1cm4gdm9pZCAwIT09dCYmdm9pZCAwIT09ZT9pPXQ8YS53aWR0aCYmZTxhLmhlaWdodDpzJiYoaT1uLmZhbmN5Ym94LmdldFRyYW5zbGF0ZShzKSxpPWkud2lkdGg8YS53aWR0aCYmaS5oZWlnaHQ8YS5oZWlnaHQpLGl9LGNhblBhbjpmdW5jdGlvbih0LGUpe3ZhciBvPXRoaXMsaT1vLmN1cnJlbnQsYT1udWxsLHM9ITE7cmV0dXJuXCJpbWFnZVwiPT09aS50eXBlJiYoaS5pc0NvbXBsZXRlfHx0JiZlKSYmIWkuaGFzRXJyb3ImJihzPW8uZ2V0Rml0UG9zKGkpLHZvaWQgMCE9PXQmJnZvaWQgMCE9PWU/YT17d2lkdGg6dCxoZWlnaHQ6ZX06aS5pc0NvbXBsZXRlJiYoYT1uLmZhbmN5Ym94LmdldFRyYW5zbGF0ZShpLiRjb250ZW50KSksYSYmcyYmKHM9TWF0aC5hYnMoYS53aWR0aC1zLndpZHRoKT4xLjV8fE1hdGguYWJzKGEuaGVpZ2h0LXMuaGVpZ2h0KT4xLjUpKSxzfSxsb2FkU2xpZGU6ZnVuY3Rpb24odCl7dmFyIGUsbyxpLGE9dGhpcztpZighdC5pc0xvYWRpbmcmJiF0LmlzTG9hZGVkKXtpZih0LmlzTG9hZGluZz0hMCwhMT09PWEudHJpZ2dlcihcImJlZm9yZUxvYWRcIix0KSlyZXR1cm4gdC5pc0xvYWRpbmc9ITEsITE7c3dpdGNoKGU9dC50eXBlLG89dC4kc2xpZGUsby5vZmYoXCJyZWZyZXNoXCIpLnRyaWdnZXIoXCJvblJlc2V0XCIpLmFkZENsYXNzKHQub3B0cy5zbGlkZUNsYXNzKSxlKXtjYXNlXCJpbWFnZVwiOmEuc2V0SW1hZ2UodCk7YnJlYWs7Y2FzZVwiaWZyYW1lXCI6YS5zZXRJZnJhbWUodCk7YnJlYWs7Y2FzZVwiaHRtbFwiOmEuc2V0Q29udGVudCh0LHQuc3JjfHx0LmNvbnRlbnQpO2JyZWFrO2Nhc2VcInZpZGVvXCI6YS5zZXRDb250ZW50KHQsdC5vcHRzLnZpZGVvLnRwbC5yZXBsYWNlKC9cXHtcXHtzcmNcXH1cXH0vZ2ksdC5zcmMpLnJlcGxhY2UoXCJ7e2Zvcm1hdH19XCIsdC5vcHRzLnZpZGVvRm9ybWF0fHx0Lm9wdHMudmlkZW8uZm9ybWF0fHxcIlwiKS5yZXBsYWNlKFwie3twb3N0ZXJ9fVwiLHQudGh1bWJ8fFwiXCIpKTticmVhaztjYXNlXCJpbmxpbmVcIjpuKHQuc3JjKS5sZW5ndGg/YS5zZXRDb250ZW50KHQsbih0LnNyYykpOmEuc2V0RXJyb3IodCk7YnJlYWs7Y2FzZVwiYWpheFwiOmEuc2hvd0xvYWRpbmcodCksaT1uLmFqYXgobi5leHRlbmQoe30sdC5vcHRzLmFqYXguc2V0dGluZ3Mse3VybDp0LnNyYyxzdWNjZXNzOmZ1bmN0aW9uKGUsbil7XCJzdWNjZXNzXCI9PT1uJiZhLnNldENvbnRlbnQodCxlKX0sZXJyb3I6ZnVuY3Rpb24oZSxuKXtlJiZcImFib3J0XCIhPT1uJiZhLnNldEVycm9yKHQpfX0pKSxvLm9uZShcIm9uUmVzZXRcIixmdW5jdGlvbigpe2kuYWJvcnQoKX0pO2JyZWFrO2RlZmF1bHQ6YS5zZXRFcnJvcih0KX1yZXR1cm4hMH19LHNldEltYWdlOmZ1bmN0aW9uKHQpe3ZhciBvLGk9dGhpcztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIGU9dC4kaW1hZ2U7aS5pc0Nsb3Npbmd8fCF0LmlzTG9hZGluZ3x8ZSYmZS5sZW5ndGgmJmVbMF0uY29tcGxldGV8fHQuaGFzRXJyb3J8fGkuc2hvd0xvYWRpbmcodCl9LDUwKSxpLmNoZWNrU3Jjc2V0KHQpLHQuJGNvbnRlbnQ9bignPGRpdiBjbGFzcz1cImZhbmN5Ym94LWNvbnRlbnRcIj48L2Rpdj4nKS5hZGRDbGFzcyhcImZhbmN5Ym94LWlzLWhpZGRlblwiKS5hcHBlbmRUbyh0LiRzbGlkZS5hZGRDbGFzcyhcImZhbmN5Ym94LXNsaWRlLS1pbWFnZVwiKSksITEhPT10Lm9wdHMucHJlbG9hZCYmdC5vcHRzLndpZHRoJiZ0Lm9wdHMuaGVpZ2h0JiZ0LnRodW1iJiYodC53aWR0aD10Lm9wdHMud2lkdGgsdC5oZWlnaHQ9dC5vcHRzLmhlaWdodCxvPWUuY3JlYXRlRWxlbWVudChcImltZ1wiKSxvLm9uZXJyb3I9ZnVuY3Rpb24oKXtuKHRoaXMpLnJlbW92ZSgpLHQuJGdob3N0PW51bGx9LG8ub25sb2FkPWZ1bmN0aW9uKCl7aS5hZnRlckxvYWQodCl9LHQuJGdob3N0PW4obykuYWRkQ2xhc3MoXCJmYW5jeWJveC1pbWFnZVwiKS5hcHBlbmRUbyh0LiRjb250ZW50KS5hdHRyKFwic3JjXCIsdC50aHVtYikpLGkuc2V0QmlnSW1hZ2UodCl9LGNoZWNrU3Jjc2V0OmZ1bmN0aW9uKGUpe3ZhciBuLG8saSxhLHM9ZS5vcHRzLnNyY3NldHx8ZS5vcHRzLmltYWdlLnNyY3NldDtpZihzKXtpPXQuZGV2aWNlUGl4ZWxSYXRpb3x8MSxhPXQuaW5uZXJXaWR0aCppLG89cy5zcGxpdChcIixcIikubWFwKGZ1bmN0aW9uKHQpe3ZhciBlPXt9O3JldHVybiB0LnRyaW0oKS5zcGxpdCgvXFxzKy8pLmZvckVhY2goZnVuY3Rpb24odCxuKXt2YXIgbz1wYXJzZUludCh0LnN1YnN0cmluZygwLHQubGVuZ3RoLTEpLDEwKTtpZigwPT09bilyZXR1cm4gZS51cmw9dDtvJiYoZS52YWx1ZT1vLGUucG9zdGZpeD10W3QubGVuZ3RoLTFdKX0pLGV9KSxvLnNvcnQoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC52YWx1ZS1lLnZhbHVlfSk7Zm9yKHZhciByPTA7cjxvLmxlbmd0aDtyKyspe3ZhciBjPW9bcl07aWYoXCJ3XCI9PT1jLnBvc3RmaXgmJmMudmFsdWU+PWF8fFwieFwiPT09Yy5wb3N0Zml4JiZjLnZhbHVlPj1pKXtuPWM7YnJlYWt9fSFuJiZvLmxlbmd0aCYmKG49b1tvLmxlbmd0aC0xXSksbiYmKGUuc3JjPW4udXJsLGUud2lkdGgmJmUuaGVpZ2h0JiZcIndcIj09bi5wb3N0Zml4JiYoZS5oZWlnaHQ9ZS53aWR0aC9lLmhlaWdodCpuLnZhbHVlLGUud2lkdGg9bi52YWx1ZSksZS5vcHRzLnNyY3NldD1zKX19LHNldEJpZ0ltYWdlOmZ1bmN0aW9uKHQpe3ZhciBvPXRoaXMsaT1lLmNyZWF0ZUVsZW1lbnQoXCJpbWdcIiksYT1uKGkpO3QuJGltYWdlPWEub25lKFwiZXJyb3JcIixmdW5jdGlvbigpe28uc2V0RXJyb3IodCl9KS5vbmUoXCJsb2FkXCIsZnVuY3Rpb24oKXt2YXIgZTt0LiRnaG9zdHx8KG8ucmVzb2x2ZUltYWdlU2xpZGVTaXplKHQsdGhpcy5uYXR1cmFsV2lkdGgsdGhpcy5uYXR1cmFsSGVpZ2h0KSxvLmFmdGVyTG9hZCh0KSksby5pc0Nsb3Npbmd8fCh0Lm9wdHMuc3Jjc2V0JiYoZT10Lm9wdHMuc2l6ZXMsZSYmXCJhdXRvXCIhPT1lfHwoZT0odC53aWR0aC90LmhlaWdodD4xJiZzLndpZHRoKCkvcy5oZWlnaHQoKT4xP1wiMTAwXCI6TWF0aC5yb3VuZCh0LndpZHRoL3QuaGVpZ2h0KjEwMCkpK1widndcIiksYS5hdHRyKFwic2l6ZXNcIixlKS5hdHRyKFwic3Jjc2V0XCIsdC5vcHRzLnNyY3NldCkpLHQuJGdob3N0JiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC4kZ2hvc3QmJiFvLmlzQ2xvc2luZyYmdC4kZ2hvc3QuaGlkZSgpfSxNYXRoLm1pbigzMDAsTWF0aC5tYXgoMWUzLHQuaGVpZ2h0LzE2MDApKSksby5oaWRlTG9hZGluZyh0KSl9KS5hZGRDbGFzcyhcImZhbmN5Ym94LWltYWdlXCIpLmF0dHIoXCJzcmNcIix0LnNyYykuYXBwZW5kVG8odC4kY29udGVudCksKGkuY29tcGxldGV8fFwiY29tcGxldGVcIj09aS5yZWFkeVN0YXRlKSYmYS5uYXR1cmFsV2lkdGgmJmEubmF0dXJhbEhlaWdodD9hLnRyaWdnZXIoXCJsb2FkXCIpOmkuZXJyb3ImJmEudHJpZ2dlcihcImVycm9yXCIpfSxyZXNvbHZlSW1hZ2VTbGlkZVNpemU6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPXBhcnNlSW50KHQub3B0cy53aWR0aCwxMCksaT1wYXJzZUludCh0Lm9wdHMuaGVpZ2h0LDEwKTt0LndpZHRoPWUsdC5oZWlnaHQ9bixvPjAmJih0LndpZHRoPW8sdC5oZWlnaHQ9TWF0aC5mbG9vcihvKm4vZSkpLGk+MCYmKHQud2lkdGg9TWF0aC5mbG9vcihpKmUvbiksdC5oZWlnaHQ9aSl9LHNldElmcmFtZTpmdW5jdGlvbih0KXt2YXIgZSxvPXRoaXMsaT10Lm9wdHMuaWZyYW1lLGE9dC4kc2xpZGU7dC4kY29udGVudD1uKCc8ZGl2IGNsYXNzPVwiZmFuY3lib3gtY29udGVudCcrKGkucHJlbG9hZD9cIiBmYW5jeWJveC1pcy1oaWRkZW5cIjpcIlwiKSsnXCI+PC9kaXY+JykuY3NzKGkuY3NzKS5hcHBlbmRUbyhhKSxhLmFkZENsYXNzKFwiZmFuY3lib3gtc2xpZGUtLVwiK3QuY29udGVudFR5cGUpLHQuJGlmcmFtZT1lPW4oaS50cGwucmVwbGFjZSgvXFx7cm5kXFx9L2csKG5ldyBEYXRlKS5nZXRUaW1lKCkpKS5hdHRyKGkuYXR0cikuYXBwZW5kVG8odC4kY29udGVudCksaS5wcmVsb2FkPyhvLnNob3dMb2FkaW5nKHQpLGUub24oXCJsb2FkLmZiIGVycm9yLmZiXCIsZnVuY3Rpb24oZSl7dGhpcy5pc1JlYWR5PTEsdC4kc2xpZGUudHJpZ2dlcihcInJlZnJlc2hcIiksby5hZnRlckxvYWQodCl9KSxhLm9uKFwicmVmcmVzaC5mYlwiLGZ1bmN0aW9uKCl7dmFyIG4sbyxzPXQuJGNvbnRlbnQscj1pLmNzcy53aWR0aCxjPWkuY3NzLmhlaWdodDtpZigxPT09ZVswXS5pc1JlYWR5KXt0cnl7bj1lLmNvbnRlbnRzKCksbz1uLmZpbmQoXCJib2R5XCIpfWNhdGNoKHQpe31vJiZvLmxlbmd0aCYmby5jaGlsZHJlbigpLmxlbmd0aCYmKGEuY3NzKFwib3ZlcmZsb3dcIixcInZpc2libGVcIikscy5jc3Moe3dpZHRoOlwiMTAwJVwiLFwibWF4LXdpZHRoXCI6XCIxMDAlXCIsaGVpZ2h0OlwiOTk5OXB4XCJ9KSx2b2lkIDA9PT1yJiYocj1NYXRoLmNlaWwoTWF0aC5tYXgob1swXS5jbGllbnRXaWR0aCxvLm91dGVyV2lkdGgoITApKSkpLHMuY3NzKFwid2lkdGhcIixyfHxcIlwiKS5jc3MoXCJtYXgtd2lkdGhcIixcIlwiKSx2b2lkIDA9PT1jJiYoYz1NYXRoLmNlaWwoTWF0aC5tYXgob1swXS5jbGllbnRIZWlnaHQsby5vdXRlckhlaWdodCghMCkpKSkscy5jc3MoXCJoZWlnaHRcIixjfHxcIlwiKSxhLmNzcyhcIm92ZXJmbG93XCIsXCJhdXRvXCIpKSxzLnJlbW92ZUNsYXNzKFwiZmFuY3lib3gtaXMtaGlkZGVuXCIpfX0pKTpvLmFmdGVyTG9hZCh0KSxlLmF0dHIoXCJzcmNcIix0LnNyYyksYS5vbmUoXCJvblJlc2V0XCIsZnVuY3Rpb24oKXt0cnl7bih0aGlzKS5maW5kKFwiaWZyYW1lXCIpLmhpZGUoKS51bmJpbmQoKS5hdHRyKFwic3JjXCIsXCIvL2Fib3V0OmJsYW5rXCIpfWNhdGNoKHQpe31uKHRoaXMpLm9mZihcInJlZnJlc2guZmJcIikuZW1wdHkoKSx0LmlzTG9hZGVkPSExLHQuaXNSZXZlYWxlZD0hMX0pfSxzZXRDb250ZW50OmZ1bmN0aW9uKHQsZSl7dmFyIG89dGhpcztvLmlzQ2xvc2luZ3x8KG8uaGlkZUxvYWRpbmcodCksdC4kY29udGVudCYmbi5mYW5jeWJveC5zdG9wKHQuJGNvbnRlbnQpLHQuJHNsaWRlLmVtcHR5KCksbChlKSYmZS5wYXJlbnQoKS5sZW5ndGg/KChlLmhhc0NsYXNzKFwiZmFuY3lib3gtY29udGVudFwiKXx8ZS5wYXJlbnQoKS5oYXNDbGFzcyhcImZhbmN5Ym94LWNvbnRlbnRcIikpJiZlLnBhcmVudHMoXCIuZmFuY3lib3gtc2xpZGVcIikudHJpZ2dlcihcIm9uUmVzZXRcIiksdC4kcGxhY2Vob2xkZXI9bihcIjxkaXY+XCIpLmhpZGUoKS5pbnNlcnRBZnRlcihlKSxlLmNzcyhcImRpc3BsYXlcIixcImlubGluZS1ibG9ja1wiKSk6dC5oYXNFcnJvcnx8KFwic3RyaW5nXCI9PT1uLnR5cGUoZSkmJihlPW4oXCI8ZGl2PlwiKS5hcHBlbmQobi50cmltKGUpKS5jb250ZW50cygpKSx0Lm9wdHMuZmlsdGVyJiYoZT1uKFwiPGRpdj5cIikuaHRtbChlKS5maW5kKHQub3B0cy5maWx0ZXIpKSksdC4kc2xpZGUub25lKFwib25SZXNldFwiLGZ1bmN0aW9uKCl7bih0aGlzKS5maW5kKFwidmlkZW8sYXVkaW9cIikudHJpZ2dlcihcInBhdXNlXCIpLHQuJHBsYWNlaG9sZGVyJiYodC4kcGxhY2Vob2xkZXIuYWZ0ZXIoZS5yZW1vdmVDbGFzcyhcImZhbmN5Ym94LWNvbnRlbnRcIikuaGlkZSgpKS5yZW1vdmUoKSx0LiRwbGFjZWhvbGRlcj1udWxsKSx0LiRzbWFsbEJ0biYmKHQuJHNtYWxsQnRuLnJlbW92ZSgpLHQuJHNtYWxsQnRuPW51bGwpLHQuaGFzRXJyb3J8fChuKHRoaXMpLmVtcHR5KCksdC5pc0xvYWRlZD0hMSx0LmlzUmV2ZWFsZWQ9ITEpfSksbihlKS5hcHBlbmRUbyh0LiRzbGlkZSksbihlKS5pcyhcInZpZGVvLGF1ZGlvXCIpJiYobihlKS5hZGRDbGFzcyhcImZhbmN5Ym94LXZpZGVvXCIpLG4oZSkud3JhcChcIjxkaXY+PC9kaXY+XCIpLHQuY29udGVudFR5cGU9XCJ2aWRlb1wiLHQub3B0cy53aWR0aD10Lm9wdHMud2lkdGh8fG4oZSkuYXR0cihcIndpZHRoXCIpLHQub3B0cy5oZWlnaHQ9dC5vcHRzLmhlaWdodHx8bihlKS5hdHRyKFwiaGVpZ2h0XCIpKSx0LiRjb250ZW50PXQuJHNsaWRlLmNoaWxkcmVuKCkuZmlsdGVyKFwiZGl2LGZvcm0sbWFpbix2aWRlbyxhdWRpbyxhcnRpY2xlLC5mYW5jeWJveC1jb250ZW50XCIpLmZpcnN0KCksdC4kY29udGVudC5zaWJsaW5ncygpLmhpZGUoKSx0LiRjb250ZW50Lmxlbmd0aHx8KHQuJGNvbnRlbnQ9dC4kc2xpZGUud3JhcElubmVyKFwiPGRpdj48L2Rpdj5cIikuY2hpbGRyZW4oKS5maXJzdCgpKSx0LiRjb250ZW50LmFkZENsYXNzKFwiZmFuY3lib3gtY29udGVudFwiKSx0LiRzbGlkZS5hZGRDbGFzcyhcImZhbmN5Ym94LXNsaWRlLS1cIit0LmNvbnRlbnRUeXBlKSxvLmFmdGVyTG9hZCh0KSl9LHNldEVycm9yOmZ1bmN0aW9uKHQpe3QuaGFzRXJyb3I9ITAsdC4kc2xpZGUudHJpZ2dlcihcIm9uUmVzZXRcIikucmVtb3ZlQ2xhc3MoXCJmYW5jeWJveC1zbGlkZS0tXCIrdC5jb250ZW50VHlwZSkuYWRkQ2xhc3MoXCJmYW5jeWJveC1zbGlkZS0tZXJyb3JcIiksdC5jb250ZW50VHlwZT1cImh0bWxcIix0aGlzLnNldENvbnRlbnQodCx0aGlzLnRyYW5zbGF0ZSh0LHQub3B0cy5lcnJvclRwbCkpLHQucG9zPT09dGhpcy5jdXJyUG9zJiYodGhpcy5pc0FuaW1hdGluZz0hMSl9LHNob3dMb2FkaW5nOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7KHQ9dHx8ZS5jdXJyZW50KSYmIXQuJHNwaW5uZXImJih0LiRzcGlubmVyPW4oZS50cmFuc2xhdGUoZSxlLm9wdHMuc3Bpbm5lclRwbCkpLmFwcGVuZFRvKHQuJHNsaWRlKS5oaWRlKCkuZmFkZUluKFwiZmFzdFwiKSl9LGhpZGVMb2FkaW5nOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7KHQ9dHx8ZS5jdXJyZW50KSYmdC4kc3Bpbm5lciYmKHQuJHNwaW5uZXIuc3RvcCgpLnJlbW92ZSgpLGRlbGV0ZSB0LiRzcGlubmVyKX0sYWZ0ZXJMb2FkOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7ZS5pc0Nsb3Npbmd8fCh0LmlzTG9hZGluZz0hMSx0LmlzTG9hZGVkPSEwLGUudHJpZ2dlcihcImFmdGVyTG9hZFwiLHQpLGUuaGlkZUxvYWRpbmcodCksIXQub3B0cy5zbWFsbEJ0bnx8dC4kc21hbGxCdG4mJnQuJHNtYWxsQnRuLmxlbmd0aHx8KHQuJHNtYWxsQnRuPW4oZS50cmFuc2xhdGUodCx0Lm9wdHMuYnRuVHBsLnNtYWxsQnRuKSkuYXBwZW5kVG8odC4kY29udGVudCkpLHQub3B0cy5wcm90ZWN0JiZ0LiRjb250ZW50JiYhdC5oYXNFcnJvciYmKHQuJGNvbnRlbnQub24oXCJjb250ZXh0bWVudS5mYlwiLGZ1bmN0aW9uKHQpe3JldHVybiAyPT10LmJ1dHRvbiYmdC5wcmV2ZW50RGVmYXVsdCgpLCEwfSksXCJpbWFnZVwiPT09dC50eXBlJiZuKCc8ZGl2IGNsYXNzPVwiZmFuY3lib3gtc3BhY2ViYWxsXCI+PC9kaXY+JykuYXBwZW5kVG8odC4kY29udGVudCkpLGUuYWRqdXN0Q2FwdGlvbih0KSxlLmFkanVzdExheW91dCh0KSx0LnBvcz09PWUuY3VyclBvcyYmZS51cGRhdGVDdXJzb3IoKSxlLnJldmVhbENvbnRlbnQodCkpfSxhZGp1c3RDYXB0aW9uOmZ1bmN0aW9uKHQpe3ZhciBlLG49dGhpcyxvPXR8fG4uY3VycmVudCxpPW8ub3B0cy5jYXB0aW9uLGE9by5vcHRzLnByZXZlbnRDYXB0aW9uT3ZlcmxhcCxzPW4uJHJlZnMuY2FwdGlvbixyPSExO3MudG9nZ2xlQ2xhc3MoXCJmYW5jeWJveC1jYXB0aW9uLS1zZXBhcmF0ZVwiLGEpLGEmJmkmJmkubGVuZ3RoJiYoby5wb3MhPT1uLmN1cnJQb3M/KGU9cy5jbG9uZSgpLmFwcGVuZFRvKHMucGFyZW50KCkpLGUuY2hpbGRyZW4oKS5lcSgwKS5lbXB0eSgpLmh0bWwoaSkscj1lLm91dGVySGVpZ2h0KCEwKSxlLmVtcHR5KCkucmVtb3ZlKCkpOm4uJGNhcHRpb24mJihyPW4uJGNhcHRpb24ub3V0ZXJIZWlnaHQoITApKSxvLiRzbGlkZS5jc3MoXCJwYWRkaW5nLWJvdHRvbVwiLHJ8fFwiXCIpKX0sYWRqdXN0TGF5b3V0OmZ1bmN0aW9uKHQpe3ZhciBlLG4sbyxpLGE9dGhpcyxzPXR8fGEuY3VycmVudDtzLmlzTG9hZGVkJiYhMCE9PXMub3B0cy5kaXNhYmxlTGF5b3V0Rml4JiYocy4kY29udGVudC5jc3MoXCJtYXJnaW4tYm90dG9tXCIsXCJcIikscy4kY29udGVudC5vdXRlckhlaWdodCgpPnMuJHNsaWRlLmhlaWdodCgpKy41JiYobz1zLiRzbGlkZVswXS5zdHlsZVtcInBhZGRpbmctYm90dG9tXCJdLGk9cy4kc2xpZGUuY3NzKFwicGFkZGluZy1ib3R0b21cIikscGFyc2VGbG9hdChpKT4wJiYoZT1zLiRzbGlkZVswXS5zY3JvbGxIZWlnaHQscy4kc2xpZGUuY3NzKFwicGFkZGluZy1ib3R0b21cIiwwKSxNYXRoLmFicyhlLXMuJHNsaWRlWzBdLnNjcm9sbEhlaWdodCk8MSYmKG49aSkscy4kc2xpZGUuY3NzKFwicGFkZGluZy1ib3R0b21cIixvKSkpLHMuJGNvbnRlbnQuY3NzKFwibWFyZ2luLWJvdHRvbVwiLG4pKX0scmV2ZWFsQ29udGVudDpmdW5jdGlvbih0KXt2YXIgZSxvLGksYSxzPXRoaXMscj10LiRzbGlkZSxjPSExLGw9ITEsZD1zLmlzTW92ZWQodCksdT10LmlzUmV2ZWFsZWQ7cmV0dXJuIHQuaXNSZXZlYWxlZD0hMCxlPXQub3B0c1tzLmZpcnN0UnVuP1wiYW5pbWF0aW9uRWZmZWN0XCI6XCJ0cmFuc2l0aW9uRWZmZWN0XCJdLGk9dC5vcHRzW3MuZmlyc3RSdW4/XCJhbmltYXRpb25EdXJhdGlvblwiOlwidHJhbnNpdGlvbkR1cmF0aW9uXCJdLGk9cGFyc2VJbnQodm9pZCAwPT09dC5mb3JjZWREdXJhdGlvbj9pOnQuZm9yY2VkRHVyYXRpb24sMTApLCFkJiZ0LnBvcz09PXMuY3VyclBvcyYmaXx8KGU9ITEpLFwiem9vbVwiPT09ZSYmKHQucG9zPT09cy5jdXJyUG9zJiZpJiZcImltYWdlXCI9PT10LnR5cGUmJiF0Lmhhc0Vycm9yJiYobD1zLmdldFRodW1iUG9zKHQpKT9jPXMuZ2V0Rml0UG9zKHQpOmU9XCJmYWRlXCIpLFwiem9vbVwiPT09ZT8ocy5pc0FuaW1hdGluZz0hMCxjLnNjYWxlWD1jLndpZHRoL2wud2lkdGgsYy5zY2FsZVk9Yy5oZWlnaHQvbC5oZWlnaHQsYT10Lm9wdHMuem9vbU9wYWNpdHksXCJhdXRvXCI9PWEmJihhPU1hdGguYWJzKHQud2lkdGgvdC5oZWlnaHQtbC53aWR0aC9sLmhlaWdodCk+LjEpLGEmJihsLm9wYWNpdHk9LjEsYy5vcGFjaXR5PTEpLG4uZmFuY3lib3guc2V0VHJhbnNsYXRlKHQuJGNvbnRlbnQucmVtb3ZlQ2xhc3MoXCJmYW5jeWJveC1pcy1oaWRkZW5cIiksbCkscCh0LiRjb250ZW50KSx2b2lkIG4uZmFuY3lib3guYW5pbWF0ZSh0LiRjb250ZW50LGMsaSxmdW5jdGlvbigpe3MuaXNBbmltYXRpbmc9ITEscy5jb21wbGV0ZSgpfSkpOihzLnVwZGF0ZVNsaWRlKHQpLGU/KG4uZmFuY3lib3guc3RvcChyKSxvPVwiZmFuY3lib3gtc2xpZGUtLVwiKyh0LnBvcz49cy5wcmV2UG9zP1wibmV4dFwiOlwicHJldmlvdXNcIikrXCIgZmFuY3lib3gtYW5pbWF0ZWQgZmFuY3lib3gtZngtXCIrZSxyLmFkZENsYXNzKG8pLnJlbW92ZUNsYXNzKFwiZmFuY3lib3gtc2xpZGUtLWN1cnJlbnRcIiksdC4kY29udGVudC5yZW1vdmVDbGFzcyhcImZhbmN5Ym94LWlzLWhpZGRlblwiKSxwKHIpLFwiaW1hZ2VcIiE9PXQudHlwZSYmdC4kY29udGVudC5oaWRlKCkuc2hvdygwKSx2b2lkIG4uZmFuY3lib3guYW5pbWF0ZShyLFwiZmFuY3lib3gtc2xpZGUtLWN1cnJlbnRcIixpLGZ1bmN0aW9uKCl7ci5yZW1vdmVDbGFzcyhvKS5jc3Moe3RyYW5zZm9ybTpcIlwiLG9wYWNpdHk6XCJcIn0pLHQucG9zPT09cy5jdXJyUG9zJiZzLmNvbXBsZXRlKCl9LCEwKSk6KHQuJGNvbnRlbnQucmVtb3ZlQ2xhc3MoXCJmYW5jeWJveC1pcy1oaWRkZW5cIiksdXx8IWR8fFwiaW1hZ2VcIiE9PXQudHlwZXx8dC5oYXNFcnJvcnx8dC4kY29udGVudC5oaWRlKCkuZmFkZUluKFwiZmFzdFwiKSx2b2lkKHQucG9zPT09cy5jdXJyUG9zJiZzLmNvbXBsZXRlKCkpKSl9LGdldFRodW1iUG9zOmZ1bmN0aW9uKHQpe3ZhciBlLG8saSxhLHMscj0hMSxjPXQuJHRodW1iO3JldHVybiEoIWN8fCFnKGNbMF0pKSYmKGU9bi5mYW5jeWJveC5nZXRUcmFuc2xhdGUoYyksbz1wYXJzZUZsb2F0KGMuY3NzKFwiYm9yZGVyLXRvcC13aWR0aFwiKXx8MCksaT1wYXJzZUZsb2F0KGMuY3NzKFwiYm9yZGVyLXJpZ2h0LXdpZHRoXCIpfHwwKSxhPXBhcnNlRmxvYXQoYy5jc3MoXCJib3JkZXItYm90dG9tLXdpZHRoXCIpfHwwKSxzPXBhcnNlRmxvYXQoYy5jc3MoXCJib3JkZXItbGVmdC13aWR0aFwiKXx8MCkscj17dG9wOmUudG9wK28sbGVmdDplLmxlZnQrcyx3aWR0aDplLndpZHRoLWktcyxoZWlnaHQ6ZS5oZWlnaHQtby1hLHNjYWxlWDoxLHNjYWxlWToxfSxlLndpZHRoPjAmJmUuaGVpZ2h0PjAmJnIpfSxjb21wbGV0ZTpmdW5jdGlvbigpe3ZhciB0LGU9dGhpcyxvPWUuY3VycmVudCxpPXt9OyFlLmlzTW92ZWQoKSYmby5pc0xvYWRlZCYmKG8uaXNDb21wbGV0ZXx8KG8uaXNDb21wbGV0ZT0hMCxvLiRzbGlkZS5zaWJsaW5ncygpLnRyaWdnZXIoXCJvblJlc2V0XCIpLGUucHJlbG9hZChcImlubGluZVwiKSxwKG8uJHNsaWRlKSxvLiRzbGlkZS5hZGRDbGFzcyhcImZhbmN5Ym94LXNsaWRlLS1jb21wbGV0ZVwiKSxuLmVhY2goZS5zbGlkZXMsZnVuY3Rpb24odCxvKXtvLnBvcz49ZS5jdXJyUG9zLTEmJm8ucG9zPD1lLmN1cnJQb3MrMT9pW28ucG9zXT1vOm8mJihuLmZhbmN5Ym94LnN0b3Aoby4kc2xpZGUpLG8uJHNsaWRlLm9mZigpLnJlbW92ZSgpKX0pLGUuc2xpZGVzPWkpLGUuaXNBbmltYXRpbmc9ITEsZS51cGRhdGVDdXJzb3IoKSxlLnRyaWdnZXIoXCJhZnRlclNob3dcIiksby5vcHRzLnZpZGVvLmF1dG9TdGFydCYmby4kc2xpZGUuZmluZChcInZpZGVvLGF1ZGlvXCIpLmZpbHRlcihcIjp2aXNpYmxlOmZpcnN0XCIpLnRyaWdnZXIoXCJwbGF5XCIpLm9uZShcImVuZGVkXCIsZnVuY3Rpb24oKXtEb2N1bWVudC5leGl0RnVsbHNjcmVlbj9Eb2N1bWVudC5leGl0RnVsbHNjcmVlbigpOnRoaXMud2Via2l0RXhpdEZ1bGxzY3JlZW4mJnRoaXMud2Via2l0RXhpdEZ1bGxzY3JlZW4oKSxlLm5leHQoKX0pLG8ub3B0cy5hdXRvRm9jdXMmJlwiaHRtbFwiPT09by5jb250ZW50VHlwZSYmKHQ9by4kY29udGVudC5maW5kKFwiaW5wdXRbYXV0b2ZvY3VzXTplbmFibGVkOnZpc2libGU6Zmlyc3RcIiksdC5sZW5ndGg/dC50cmlnZ2VyKFwiZm9jdXNcIik6ZS5mb2N1cyhudWxsLCEwKSksby4kc2xpZGUuc2Nyb2xsVG9wKDApLnNjcm9sbExlZnQoMCkpfSxwcmVsb2FkOmZ1bmN0aW9uKHQpe3ZhciBlLG4sbz10aGlzO28uZ3JvdXAubGVuZ3RoPDJ8fChuPW8uc2xpZGVzW28uY3VyclBvcysxXSxlPW8uc2xpZGVzW28uY3VyclBvcy0xXSxlJiZlLnR5cGU9PT10JiZvLmxvYWRTbGlkZShlKSxuJiZuLnR5cGU9PT10JiZvLmxvYWRTbGlkZShuKSl9LGZvY3VzOmZ1bmN0aW9uKHQsbyl7dmFyIGksYSxzPXRoaXMscj1bXCJhW2hyZWZdXCIsXCJhcmVhW2hyZWZdXCIsJ2lucHV0Om5vdChbZGlzYWJsZWRdKTpub3QoW3R5cGU9XCJoaWRkZW5cIl0pOm5vdChbYXJpYS1oaWRkZW5dKScsXCJzZWxlY3Q6bm90KFtkaXNhYmxlZF0pOm5vdChbYXJpYS1oaWRkZW5dKVwiLFwidGV4dGFyZWE6bm90KFtkaXNhYmxlZF0pOm5vdChbYXJpYS1oaWRkZW5dKVwiLFwiYnV0dG9uOm5vdChbZGlzYWJsZWRdKTpub3QoW2FyaWEtaGlkZGVuXSlcIixcImlmcmFtZVwiLFwib2JqZWN0XCIsXCJlbWJlZFwiLFwidmlkZW9cIixcImF1ZGlvXCIsXCJbY29udGVudGVkaXRhYmxlXVwiLCdbdGFiaW5kZXhdOm5vdChbdGFiaW5kZXhePVwiLVwiXSknXS5qb2luKFwiLFwiKTtzLmlzQ2xvc2luZ3x8KGk9IXQmJnMuY3VycmVudCYmcy5jdXJyZW50LmlzQ29tcGxldGU/cy5jdXJyZW50LiRzbGlkZS5maW5kKFwiKjp2aXNpYmxlXCIrKG8/XCI6bm90KC5mYW5jeWJveC1jbG9zZS1zbWFsbClcIjpcIlwiKSk6cy4kcmVmcy5jb250YWluZXIuZmluZChcIio6dmlzaWJsZVwiKSxpPWkuZmlsdGVyKHIpLmZpbHRlcihmdW5jdGlvbigpe3JldHVyblwiaGlkZGVuXCIhPT1uKHRoaXMpLmNzcyhcInZpc2liaWxpdHlcIikmJiFuKHRoaXMpLmhhc0NsYXNzKFwiZGlzYWJsZWRcIil9KSxpLmxlbmd0aD8oYT1pLmluZGV4KGUuYWN0aXZlRWxlbWVudCksdCYmdC5zaGlmdEtleT8oYTwwfHwwPT1hKSYmKHQucHJldmVudERlZmF1bHQoKSxpLmVxKGkubGVuZ3RoLTEpLnRyaWdnZXIoXCJmb2N1c1wiKSk6KGE8MHx8YT09aS5sZW5ndGgtMSkmJih0JiZ0LnByZXZlbnREZWZhdWx0KCksaS5lcSgwKS50cmlnZ2VyKFwiZm9jdXNcIikpKTpzLiRyZWZzLmNvbnRhaW5lci50cmlnZ2VyKFwiZm9jdXNcIikpfSxhY3RpdmF0ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7bihcIi5mYW5jeWJveC1jb250YWluZXJcIikuZWFjaChmdW5jdGlvbigpe3ZhciBlPW4odGhpcykuZGF0YShcIkZhbmN5Qm94XCIpO2UmJmUuaWQhPT10LmlkJiYhZS5pc0Nsb3NpbmcmJihlLnRyaWdnZXIoXCJvbkRlYWN0aXZhdGVcIiksZS5yZW1vdmVFdmVudHMoKSxlLmlzVmlzaWJsZT0hMSl9KSx0LmlzVmlzaWJsZT0hMCwodC5jdXJyZW50fHx0LmlzSWRsZSkmJih0LnVwZGF0ZSgpLHQudXBkYXRlQ29udHJvbHMoKSksdC50cmlnZ2VyKFwib25BY3RpdmF0ZVwiKSx0LmFkZEV2ZW50cygpfSxjbG9zZTpmdW5jdGlvbih0LGUpe3ZhciBvLGksYSxzLHIsYyxsLHU9dGhpcyxmPXUuY3VycmVudCxoPWZ1bmN0aW9uKCl7dS5jbGVhblVwKHQpfTtyZXR1cm4hdS5pc0Nsb3NpbmcmJih1LmlzQ2xvc2luZz0hMCwhMT09PXUudHJpZ2dlcihcImJlZm9yZUNsb3NlXCIsdCk/KHUuaXNDbG9zaW5nPSExLGQoZnVuY3Rpb24oKXt1LnVwZGF0ZSgpfSksITEpOih1LnJlbW92ZUV2ZW50cygpLGE9Zi4kY29udGVudCxvPWYub3B0cy5hbmltYXRpb25FZmZlY3QsaT1uLmlzTnVtZXJpYyhlKT9lOm8/Zi5vcHRzLmFuaW1hdGlvbkR1cmF0aW9uOjAsZi4kc2xpZGUucmVtb3ZlQ2xhc3MoXCJmYW5jeWJveC1zbGlkZS0tY29tcGxldGUgZmFuY3lib3gtc2xpZGUtLW5leHQgZmFuY3lib3gtc2xpZGUtLXByZXZpb3VzIGZhbmN5Ym94LWFuaW1hdGVkXCIpLCEwIT09dD9uLmZhbmN5Ym94LnN0b3AoZi4kc2xpZGUpOm89ITEsZi4kc2xpZGUuc2libGluZ3MoKS50cmlnZ2VyKFwib25SZXNldFwiKS5yZW1vdmUoKSxpJiZ1LiRyZWZzLmNvbnRhaW5lci5yZW1vdmVDbGFzcyhcImZhbmN5Ym94LWlzLW9wZW5cIikuYWRkQ2xhc3MoXCJmYW5jeWJveC1pcy1jbG9zaW5nXCIpLmNzcyhcInRyYW5zaXRpb24tZHVyYXRpb25cIixpK1wibXNcIiksdS5oaWRlTG9hZGluZyhmKSx1LmhpZGVDb250cm9scyghMCksdS51cGRhdGVDdXJzb3IoKSxcInpvb21cIiE9PW98fGEmJmkmJlwiaW1hZ2VcIj09PWYudHlwZSYmIXUuaXNNb3ZlZCgpJiYhZi5oYXNFcnJvciYmKGw9dS5nZXRUaHVtYlBvcyhmKSl8fChvPVwiZmFkZVwiKSxcInpvb21cIj09PW8/KG4uZmFuY3lib3guc3RvcChhKSxzPW4uZmFuY3lib3guZ2V0VHJhbnNsYXRlKGEpLGM9e3RvcDpzLnRvcCxsZWZ0OnMubGVmdCxzY2FsZVg6cy53aWR0aC9sLndpZHRoLHNjYWxlWTpzLmhlaWdodC9sLmhlaWdodCx3aWR0aDpsLndpZHRoLGhlaWdodDpsLmhlaWdodH0scj1mLm9wdHMuem9vbU9wYWNpdHksXG5cImF1dG9cIj09ciYmKHI9TWF0aC5hYnMoZi53aWR0aC9mLmhlaWdodC1sLndpZHRoL2wuaGVpZ2h0KT4uMSksciYmKGwub3BhY2l0eT0wKSxuLmZhbmN5Ym94LnNldFRyYW5zbGF0ZShhLGMpLHAoYSksbi5mYW5jeWJveC5hbmltYXRlKGEsbCxpLGgpLCEwKToobyYmaT9uLmZhbmN5Ym94LmFuaW1hdGUoZi4kc2xpZGUuYWRkQ2xhc3MoXCJmYW5jeWJveC1zbGlkZS0tcHJldmlvdXNcIikucmVtb3ZlQ2xhc3MoXCJmYW5jeWJveC1zbGlkZS0tY3VycmVudFwiKSxcImZhbmN5Ym94LWFuaW1hdGVkIGZhbmN5Ym94LWZ4LVwiK28saSxoKTohMD09PXQ/c2V0VGltZW91dChoLGkpOmgoKSwhMCkpKX0sY2xlYW5VcDpmdW5jdGlvbihlKXt2YXIgbyxpLGEscz10aGlzLHI9cy5jdXJyZW50Lm9wdHMuJG9yaWc7cy5jdXJyZW50LiRzbGlkZS50cmlnZ2VyKFwib25SZXNldFwiKSxzLiRyZWZzLmNvbnRhaW5lci5lbXB0eSgpLnJlbW92ZSgpLHMudHJpZ2dlcihcImFmdGVyQ2xvc2VcIixlKSxzLmN1cnJlbnQub3B0cy5iYWNrRm9jdXMmJihyJiZyLmxlbmd0aCYmci5pcyhcIjp2aXNpYmxlXCIpfHwocj1zLiR0cmlnZ2VyKSxyJiZyLmxlbmd0aCYmKGk9dC5zY3JvbGxYLGE9dC5zY3JvbGxZLHIudHJpZ2dlcihcImZvY3VzXCIpLG4oXCJodG1sLCBib2R5XCIpLnNjcm9sbFRvcChhKS5zY3JvbGxMZWZ0KGkpKSkscy5jdXJyZW50PW51bGwsbz1uLmZhbmN5Ym94LmdldEluc3RhbmNlKCksbz9vLmFjdGl2YXRlKCk6KG4oXCJib2R5XCIpLnJlbW92ZUNsYXNzKFwiZmFuY3lib3gtYWN0aXZlIGNvbXBlbnNhdGUtZm9yLXNjcm9sbGJhclwiKSxuKFwiI2ZhbmN5Ym94LXN0eWxlLW5vc2Nyb2xsXCIpLnJlbW92ZSgpKX0sdHJpZ2dlcjpmdW5jdGlvbih0LGUpe3ZhciBvLGk9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLGE9dGhpcyxzPWUmJmUub3B0cz9lOmEuY3VycmVudDtpZihzP2kudW5zaGlmdChzKTpzPWEsaS51bnNoaWZ0KGEpLG4uaXNGdW5jdGlvbihzLm9wdHNbdF0pJiYobz1zLm9wdHNbdF0uYXBwbHkocyxpKSksITE9PT1vKXJldHVybiBvO1wiYWZ0ZXJDbG9zZVwiIT09dCYmYS4kcmVmcz9hLiRyZWZzLmNvbnRhaW5lci50cmlnZ2VyKHQrXCIuZmJcIixpKTpyLnRyaWdnZXIodCtcIi5mYlwiLGkpfSx1cGRhdGVDb250cm9sczpmdW5jdGlvbigpe3ZhciB0PXRoaXMsbz10LmN1cnJlbnQsaT1vLmluZGV4LGE9dC4kcmVmcy5jb250YWluZXIscz10LiRyZWZzLmNhcHRpb24scj1vLm9wdHMuY2FwdGlvbjtvLiRzbGlkZS50cmlnZ2VyKFwicmVmcmVzaFwiKSxyJiZyLmxlbmd0aD8odC4kY2FwdGlvbj1zLHMuY2hpbGRyZW4oKS5lcSgwKS5odG1sKHIpKTp0LiRjYXB0aW9uPW51bGwsdC5oYXNIaWRkZW5Db250cm9sc3x8dC5pc0lkbGV8fHQuc2hvd0NvbnRyb2xzKCksYS5maW5kKFwiW2RhdGEtZmFuY3lib3gtY291bnRdXCIpLmh0bWwodC5ncm91cC5sZW5ndGgpLGEuZmluZChcIltkYXRhLWZhbmN5Ym94LWluZGV4XVwiKS5odG1sKGkrMSksYS5maW5kKFwiW2RhdGEtZmFuY3lib3gtcHJldl1cIikucHJvcChcImRpc2FibGVkXCIsIW8ub3B0cy5sb29wJiZpPD0wKSxhLmZpbmQoXCJbZGF0YS1mYW5jeWJveC1uZXh0XVwiKS5wcm9wKFwiZGlzYWJsZWRcIiwhby5vcHRzLmxvb3AmJmk+PXQuZ3JvdXAubGVuZ3RoLTEpLFwiaW1hZ2VcIj09PW8udHlwZT9hLmZpbmQoXCJbZGF0YS1mYW5jeWJveC16b29tXVwiKS5zaG93KCkuZW5kKCkuZmluZChcIltkYXRhLWZhbmN5Ym94LWRvd25sb2FkXVwiKS5hdHRyKFwiaHJlZlwiLG8ub3B0cy5pbWFnZS5zcmN8fG8uc3JjKS5zaG93KCk6by5vcHRzLnRvb2xiYXImJmEuZmluZChcIltkYXRhLWZhbmN5Ym94LWRvd25sb2FkXSxbZGF0YS1mYW5jeWJveC16b29tXVwiKS5oaWRlKCksbihlLmFjdGl2ZUVsZW1lbnQpLmlzKFwiOmhpZGRlbixbZGlzYWJsZWRdXCIpJiZ0LiRyZWZzLmNvbnRhaW5lci50cmlnZ2VyKFwiZm9jdXNcIil9LGhpZGVDb250cm9sczpmdW5jdGlvbih0KXt2YXIgZT10aGlzLG49W1wiaW5mb2JhclwiLFwidG9vbGJhclwiLFwibmF2XCJdOyF0JiZlLmN1cnJlbnQub3B0cy5wcmV2ZW50Q2FwdGlvbk92ZXJsYXB8fG4ucHVzaChcImNhcHRpb25cIiksdGhpcy4kcmVmcy5jb250YWluZXIucmVtb3ZlQ2xhc3Mobi5tYXAoZnVuY3Rpb24odCl7cmV0dXJuXCJmYW5jeWJveC1zaG93LVwiK3R9KS5qb2luKFwiIFwiKSksdGhpcy5oYXNIaWRkZW5Db250cm9scz0hMH0sc2hvd0NvbnRyb2xzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXQuY3VycmVudD90LmN1cnJlbnQub3B0czp0Lm9wdHMsbj10LiRyZWZzLmNvbnRhaW5lcjt0Lmhhc0hpZGRlbkNvbnRyb2xzPSExLHQuaWRsZVNlY29uZHNDb3VudGVyPTAsbi50b2dnbGVDbGFzcyhcImZhbmN5Ym94LXNob3ctdG9vbGJhclwiLCEoIWUudG9vbGJhcnx8IWUuYnV0dG9ucykpLnRvZ2dsZUNsYXNzKFwiZmFuY3lib3gtc2hvdy1pbmZvYmFyXCIsISEoZS5pbmZvYmFyJiZ0Lmdyb3VwLmxlbmd0aD4xKSkudG9nZ2xlQ2xhc3MoXCJmYW5jeWJveC1zaG93LWNhcHRpb25cIiwhIXQuJGNhcHRpb24pLnRvZ2dsZUNsYXNzKFwiZmFuY3lib3gtc2hvdy1uYXZcIiwhIShlLmFycm93cyYmdC5ncm91cC5sZW5ndGg+MSkpLnRvZ2dsZUNsYXNzKFwiZmFuY3lib3gtaXMtbW9kYWxcIiwhIWUubW9kYWwpfSx0b2dnbGVDb250cm9sczpmdW5jdGlvbigpe3RoaXMuaGFzSGlkZGVuQ29udHJvbHM/dGhpcy5zaG93Q29udHJvbHMoKTp0aGlzLmhpZGVDb250cm9scygpfX0pLG4uZmFuY3lib3g9e3ZlcnNpb246XCIzLjUuN1wiLGRlZmF1bHRzOmEsZ2V0SW5zdGFuY2U6ZnVuY3Rpb24odCl7dmFyIGU9bignLmZhbmN5Ym94LWNvbnRhaW5lcjpub3QoXCIuZmFuY3lib3gtaXMtY2xvc2luZ1wiKTpsYXN0JykuZGF0YShcIkZhbmN5Qm94XCIpLG89QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO3JldHVybiBlIGluc3RhbmNlb2YgYiYmKFwic3RyaW5nXCI9PT1uLnR5cGUodCk/ZVt0XS5hcHBseShlLG8pOlwiZnVuY3Rpb25cIj09PW4udHlwZSh0KSYmdC5hcHBseShlLG8pLGUpfSxvcGVuOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbmV3IGIodCxlLG4pfSxjbG9zZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldEluc3RhbmNlKCk7ZSYmKGUuY2xvc2UoKSwhMD09PXQmJnRoaXMuY2xvc2UodCkpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5jbG9zZSghMCksci5hZGQoXCJib2R5XCIpLm9mZihcImNsaWNrLmZiLXN0YXJ0XCIsXCIqKlwiKX0saXNNb2JpbGU6L0FuZHJvaWR8d2ViT1N8aVBob25lfGlQYWR8aVBvZHxCbGFja0JlcnJ5fElFTW9iaWxlfE9wZXJhIE1pbmkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLHVzZTNkOmZ1bmN0aW9uKCl7dmFyIG49ZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3JldHVybiB0LmdldENvbXB1dGVkU3R5bGUmJnQuZ2V0Q29tcHV0ZWRTdHlsZShuKSYmdC5nZXRDb21wdXRlZFN0eWxlKG4pLmdldFByb3BlcnR5VmFsdWUoXCJ0cmFuc2Zvcm1cIikmJiEoZS5kb2N1bWVudE1vZGUmJmUuZG9jdW1lbnRNb2RlPDExKX0oKSxnZXRUcmFuc2xhdGU6ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuISghdHx8IXQubGVuZ3RoKSYmKGU9dFswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSx7dG9wOmUudG9wfHwwLGxlZnQ6ZS5sZWZ0fHwwLHdpZHRoOmUud2lkdGgsaGVpZ2h0OmUuaGVpZ2h0LG9wYWNpdHk6cGFyc2VGbG9hdCh0LmNzcyhcIm9wYWNpdHlcIikpfSl9LHNldFRyYW5zbGF0ZTpmdW5jdGlvbih0LGUpe3ZhciBuPVwiXCIsbz17fTtpZih0JiZlKXJldHVybiB2b2lkIDA9PT1lLmxlZnQmJnZvaWQgMD09PWUudG9wfHwobj0odm9pZCAwPT09ZS5sZWZ0P3QucG9zaXRpb24oKS5sZWZ0OmUubGVmdCkrXCJweCwgXCIrKHZvaWQgMD09PWUudG9wP3QucG9zaXRpb24oKS50b3A6ZS50b3ApK1wicHhcIixuPXRoaXMudXNlM2Q/XCJ0cmFuc2xhdGUzZChcIituK1wiLCAwcHgpXCI6XCJ0cmFuc2xhdGUoXCIrbitcIilcIiksdm9pZCAwIT09ZS5zY2FsZVgmJnZvaWQgMCE9PWUuc2NhbGVZP24rPVwiIHNjYWxlKFwiK2Uuc2NhbGVYK1wiLCBcIitlLnNjYWxlWStcIilcIjp2b2lkIDAhPT1lLnNjYWxlWCYmKG4rPVwiIHNjYWxlWChcIitlLnNjYWxlWCtcIilcIiksbi5sZW5ndGgmJihvLnRyYW5zZm9ybT1uKSx2b2lkIDAhPT1lLm9wYWNpdHkmJihvLm9wYWNpdHk9ZS5vcGFjaXR5KSx2b2lkIDAhPT1lLndpZHRoJiYoby53aWR0aD1lLndpZHRoKSx2b2lkIDAhPT1lLmhlaWdodCYmKG8uaGVpZ2h0PWUuaGVpZ2h0KSx0LmNzcyhvKX0sYW5pbWF0ZTpmdW5jdGlvbih0LGUsbyxpLGEpe3ZhciBzLHI9dGhpcztuLmlzRnVuY3Rpb24obykmJihpPW8sbz1udWxsKSxyLnN0b3AodCkscz1yLmdldFRyYW5zbGF0ZSh0KSx0Lm9uKGYsZnVuY3Rpb24oYyl7KCFjfHwhYy5vcmlnaW5hbEV2ZW50fHx0LmlzKGMub3JpZ2luYWxFdmVudC50YXJnZXQpJiZcInotaW5kZXhcIiE9Yy5vcmlnaW5hbEV2ZW50LnByb3BlcnR5TmFtZSkmJihyLnN0b3AodCksbi5pc051bWVyaWMobykmJnQuY3NzKFwidHJhbnNpdGlvbi1kdXJhdGlvblwiLFwiXCIpLG4uaXNQbGFpbk9iamVjdChlKT92b2lkIDAhPT1lLnNjYWxlWCYmdm9pZCAwIT09ZS5zY2FsZVkmJnIuc2V0VHJhbnNsYXRlKHQse3RvcDplLnRvcCxsZWZ0OmUubGVmdCx3aWR0aDpzLndpZHRoKmUuc2NhbGVYLGhlaWdodDpzLmhlaWdodCplLnNjYWxlWSxzY2FsZVg6MSxzY2FsZVk6MX0pOiEwIT09YSYmdC5yZW1vdmVDbGFzcyhlKSxuLmlzRnVuY3Rpb24oaSkmJmkoYykpfSksbi5pc051bWVyaWMobykmJnQuY3NzKFwidHJhbnNpdGlvbi1kdXJhdGlvblwiLG8rXCJtc1wiKSxuLmlzUGxhaW5PYmplY3QoZSk/KHZvaWQgMCE9PWUuc2NhbGVYJiZ2b2lkIDAhPT1lLnNjYWxlWSYmKGRlbGV0ZSBlLndpZHRoLGRlbGV0ZSBlLmhlaWdodCx0LnBhcmVudCgpLmhhc0NsYXNzKFwiZmFuY3lib3gtc2xpZGUtLWltYWdlXCIpJiZ0LnBhcmVudCgpLmFkZENsYXNzKFwiZmFuY3lib3gtaXMtc2NhbGluZ1wiKSksbi5mYW5jeWJveC5zZXRUcmFuc2xhdGUodCxlKSk6dC5hZGRDbGFzcyhlKSx0LmRhdGEoXCJ0aW1lclwiLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt0LnRyaWdnZXIoZil9LG8rMzMpKX0sc3RvcDpmdW5jdGlvbih0LGUpe3QmJnQubGVuZ3RoJiYoY2xlYXJUaW1lb3V0KHQuZGF0YShcInRpbWVyXCIpKSxlJiZ0LnRyaWdnZXIoZiksdC5vZmYoZikuY3NzKFwidHJhbnNpdGlvbi1kdXJhdGlvblwiLFwiXCIpLHQucGFyZW50KCkucmVtb3ZlQ2xhc3MoXCJmYW5jeWJveC1pcy1zY2FsaW5nXCIpKX19LG4uZm4uZmFuY3lib3g9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIHQ9dHx8e30sZT10LnNlbGVjdG9yfHwhMSxlP24oXCJib2R5XCIpLm9mZihcImNsaWNrLmZiLXN0YXJ0XCIsZSkub24oXCJjbGljay5mYi1zdGFydFwiLGUse29wdGlvbnM6dH0saSk6dGhpcy5vZmYoXCJjbGljay5mYi1zdGFydFwiKS5vbihcImNsaWNrLmZiLXN0YXJ0XCIse2l0ZW1zOnRoaXMsb3B0aW9uczp0fSxpKSx0aGlzfSxyLm9uKFwiY2xpY2suZmItc3RhcnRcIixcIltkYXRhLWZhbmN5Ym94XVwiLGkpLHIub24oXCJjbGljay5mYi1zdGFydFwiLFwiW2RhdGEtZmFuY3lib3gtdHJpZ2dlcl1cIixmdW5jdGlvbih0KXtuKCdbZGF0YS1mYW5jeWJveD1cIicrbih0aGlzKS5hdHRyKFwiZGF0YS1mYW5jeWJveC10cmlnZ2VyXCIpKydcIl0nKS5lcShuKHRoaXMpLmF0dHIoXCJkYXRhLWZhbmN5Ym94LWluZGV4XCIpfHwwKS50cmlnZ2VyKFwiY2xpY2suZmItc3RhcnRcIix7JHRyaWdnZXI6bih0aGlzKX0pfSksZnVuY3Rpb24oKXt2YXIgdD1udWxsO3Iub24oXCJtb3VzZWRvd24gbW91c2V1cCBmb2N1cyBibHVyXCIsXCIuZmFuY3lib3gtYnV0dG9uXCIsZnVuY3Rpb24oZSl7c3dpdGNoKGUudHlwZSl7Y2FzZVwibW91c2Vkb3duXCI6dD1uKHRoaXMpO2JyZWFrO2Nhc2VcIm1vdXNldXBcIjp0PW51bGw7YnJlYWs7Y2FzZVwiZm9jdXNpblwiOm4oXCIuZmFuY3lib3gtYnV0dG9uXCIpLnJlbW92ZUNsYXNzKFwiZmFuY3lib3gtZm9jdXNcIiksbih0aGlzKS5pcyh0KXx8bih0aGlzKS5pcyhcIltkaXNhYmxlZF1cIil8fG4odGhpcykuYWRkQ2xhc3MoXCJmYW5jeWJveC1mb2N1c1wiKTticmVhaztjYXNlXCJmb2N1c291dFwiOm4oXCIuZmFuY3lib3gtYnV0dG9uXCIpLnJlbW92ZUNsYXNzKFwiZmFuY3lib3gtZm9jdXNcIil9fSl9KCl9fSh3aW5kb3csZG9jdW1lbnQsalF1ZXJ5KSxmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjt2YXIgZT17eW91dHViZTp7bWF0Y2hlcjovKHlvdXR1YmVcXC5jb218eW91dHVcXC5iZXx5b3V0dWJlXFwtbm9jb29raWVcXC5jb20pXFwvKHdhdGNoXFw/KC4qJik/dj18dlxcL3x1XFwvfGVtYmVkXFwvPyk/KHZpZGVvc2VyaWVzXFw/bGlzdD0oLiopfFtcXHctXXsxMX18XFw/bGlzdFR5cGU9KC4qKSZsaXN0PSguKikpKC4qKS9pLHBhcmFtczp7YXV0b3BsYXk6MSxhdXRvaGlkZToxLGZzOjEscmVsOjAsaGQ6MSx3bW9kZTpcInRyYW5zcGFyZW50XCIsZW5hYmxlanNhcGk6MSxodG1sNToxfSxwYXJhbVBsYWNlOjgsdHlwZTpcImlmcmFtZVwiLHVybDpcImh0dHBzOi8vd3d3LnlvdXR1YmUtbm9jb29raWUuY29tL2VtYmVkLyQ0XCIsdGh1bWI6XCJodHRwczovL2ltZy55b3V0dWJlLmNvbS92aS8kNC9ocWRlZmF1bHQuanBnXCJ9LHZpbWVvOnttYXRjaGVyOi9eLit2aW1lby5jb21cXC8oLipcXC8pPyhbXFxkXSspKC4qKT8vLHBhcmFtczp7YXV0b3BsYXk6MSxoZDoxLHNob3dfdGl0bGU6MSxzaG93X2J5bGluZToxLHNob3dfcG9ydHJhaXQ6MCxmdWxsc2NyZWVuOjF9LHBhcmFtUGxhY2U6Myx0eXBlOlwiaWZyYW1lXCIsdXJsOlwiLy9wbGF5ZXIudmltZW8uY29tL3ZpZGVvLyQyXCJ9LGluc3RhZ3JhbTp7bWF0Y2hlcjovKGluc3RhZ3JcXC5hbXxpbnN0YWdyYW1cXC5jb20pXFwvcFxcLyhbYS16QS1aMC05X1xcLV0rKVxcLz8vaSx0eXBlOlwiaW1hZ2VcIix1cmw6XCIvLyQxL3AvJDIvbWVkaWEvP3NpemU9bFwifSxnbWFwX3BsYWNlOnttYXRjaGVyOi8obWFwc1xcLik/Z29vZ2xlXFwuKFthLXpdezIsM30oXFwuW2Etel17Mn0pPylcXC8oKChtYXBzXFwvKHBsYWNlXFwvKC4qKVxcLyk/XFxAKC4qKSwoXFxkKy4/XFxkKz8peikpfChcXD9sbD0pKSguKik/L2ksdHlwZTpcImlmcmFtZVwiLHVybDpmdW5jdGlvbih0KXtyZXR1cm5cIi8vbWFwcy5nb29nbGUuXCIrdFsyXStcIi8/bGw9XCIrKHRbOV0/dFs5XStcIiZ6PVwiK01hdGguZmxvb3IodFsxMF0pKyh0WzEyXT90WzEyXS5yZXBsYWNlKC9eXFwvLyxcIiZcIik6XCJcIik6dFsxMl0rXCJcIikucmVwbGFjZSgvXFw/LyxcIiZcIikrXCImb3V0cHV0PVwiKyh0WzEyXSYmdFsxMl0uaW5kZXhPZihcImxheWVyPWNcIik+MD9cInN2ZW1iZWRcIjpcImVtYmVkXCIpfX0sZ21hcF9zZWFyY2g6e21hdGNoZXI6LyhtYXBzXFwuKT9nb29nbGVcXC4oW2Etel17MiwzfShcXC5bYS16XXsyfSk/KVxcLyhtYXBzXFwvc2VhcmNoXFwvKSguKikvaSx0eXBlOlwiaWZyYW1lXCIsdXJsOmZ1bmN0aW9uKHQpe3JldHVyblwiLy9tYXBzLmdvb2dsZS5cIit0WzJdK1wiL21hcHM/cT1cIit0WzVdLnJlcGxhY2UoXCJxdWVyeT1cIixcInE9XCIpLnJlcGxhY2UoXCJhcGk9MVwiLFwiXCIpK1wiJm91dHB1dD1lbWJlZFwifX19LG49ZnVuY3Rpb24oZSxuLG8pe2lmKGUpcmV0dXJuIG89b3x8XCJcIixcIm9iamVjdFwiPT09dC50eXBlKG8pJiYobz10LnBhcmFtKG8sITApKSx0LmVhY2gobixmdW5jdGlvbih0LG4pe2U9ZS5yZXBsYWNlKFwiJFwiK3Qsbnx8XCJcIil9KSxvLmxlbmd0aCYmKGUrPShlLmluZGV4T2YoXCI/XCIpPjA/XCImXCI6XCI/XCIpK28pLGV9O3QoZG9jdW1lbnQpLm9uKFwib2JqZWN0TmVlZHNUeXBlLmZiXCIsZnVuY3Rpb24obyxpLGEpe3ZhciBzLHIsYyxsLGQsdSxmLHA9YS5zcmN8fFwiXCIsaD0hMTtzPXQuZXh0ZW5kKCEwLHt9LGUsYS5vcHRzLm1lZGlhKSx0LmVhY2gocyxmdW5jdGlvbihlLG8pe2lmKGM9cC5tYXRjaChvLm1hdGNoZXIpKXtpZihoPW8udHlwZSxmPWUsdT17fSxvLnBhcmFtUGxhY2UmJmNbby5wYXJhbVBsYWNlXSl7ZD1jW28ucGFyYW1QbGFjZV0sXCI/XCI9PWRbMF0mJihkPWQuc3Vic3RyaW5nKDEpKSxkPWQuc3BsaXQoXCImXCIpO2Zvcih2YXIgaT0wO2k8ZC5sZW5ndGg7KytpKXt2YXIgcz1kW2ldLnNwbGl0KFwiPVwiLDIpOzI9PXMubGVuZ3RoJiYodVtzWzBdXT1kZWNvZGVVUklDb21wb25lbnQoc1sxXS5yZXBsYWNlKC9cXCsvZyxcIiBcIikpKX19cmV0dXJuIGw9dC5leHRlbmQoITAse30sby5wYXJhbXMsYS5vcHRzW2VdLHUpLHA9XCJmdW5jdGlvblwiPT09dC50eXBlKG8udXJsKT9vLnVybC5jYWxsKHRoaXMsYyxsLGEpOm4oby51cmwsYyxsKSxyPVwiZnVuY3Rpb25cIj09PXQudHlwZShvLnRodW1iKT9vLnRodW1iLmNhbGwodGhpcyxjLGwsYSk6bihvLnRodW1iLGMpLFwieW91dHViZVwiPT09ZT9wPXAucmVwbGFjZSgvJnQ9KChcXGQrKW0pPyhcXGQrKXMvLGZ1bmN0aW9uKHQsZSxuLG8pe3JldHVyblwiJnN0YXJ0PVwiKygobj82MCpwYXJzZUludChuLDEwKTowKStwYXJzZUludChvLDEwKSl9KTpcInZpbWVvXCI9PT1lJiYocD1wLnJlcGxhY2UoXCImJTIzXCIsXCIjXCIpKSwhMX19KSxoPyhhLm9wdHMudGh1bWJ8fGEub3B0cy4kdGh1bWImJmEub3B0cy4kdGh1bWIubGVuZ3RofHwoYS5vcHRzLnRodW1iPXIpLFwiaWZyYW1lXCI9PT1oJiYoYS5vcHRzPXQuZXh0ZW5kKCEwLGEub3B0cyx7aWZyYW1lOntwcmVsb2FkOiExLGF0dHI6e3Njcm9sbGluZzpcIm5vXCJ9fX0pKSx0LmV4dGVuZChhLHt0eXBlOmgsc3JjOnAsb3JpZ1NyYzphLnNyYyxjb250ZW50U291cmNlOmYsY29udGVudFR5cGU6XCJpbWFnZVwiPT09aD9cImltYWdlXCI6XCJnbWFwX3BsYWNlXCI9PWZ8fFwiZ21hcF9zZWFyY2hcIj09Zj9cIm1hcFwiOlwidmlkZW9cIn0pKTpwJiYoYS50eXBlPWEub3B0cy5kZWZhdWx0VHlwZSl9KTt2YXIgbz17eW91dHViZTp7c3JjOlwiaHR0cHM6Ly93d3cueW91dHViZS5jb20vaWZyYW1lX2FwaVwiLGNsYXNzOlwiWVRcIixsb2FkaW5nOiExLGxvYWRlZDohMX0sdmltZW86e3NyYzpcImh0dHBzOi8vcGxheWVyLnZpbWVvLmNvbS9hcGkvcGxheWVyLmpzXCIsY2xhc3M6XCJWaW1lb1wiLGxvYWRpbmc6ITEsbG9hZGVkOiExfSxsb2FkOmZ1bmN0aW9uKHQpe3ZhciBlLG49dGhpcztpZih0aGlzW3RdLmxvYWRlZClyZXR1cm4gdm9pZCBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bi5kb25lKHQpfSk7dGhpc1t0XS5sb2FkaW5nfHwodGhpc1t0XS5sb2FkaW5nPSEwLGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKSxlLnR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIixlLnNyYz10aGlzW3RdLnNyYyxcInlvdXR1YmVcIj09PXQ/d2luZG93Lm9uWW91VHViZUlmcmFtZUFQSVJlYWR5PWZ1bmN0aW9uKCl7blt0XS5sb2FkZWQ9ITAsbi5kb25lKHQpfTplLm9ubG9hZD1mdW5jdGlvbigpe25bdF0ubG9hZGVkPSEwLG4uZG9uZSh0KX0sZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlKSl9LGRvbmU6ZnVuY3Rpb24oZSl7dmFyIG4sbyxpO1wieW91dHViZVwiPT09ZSYmZGVsZXRlIHdpbmRvdy5vbllvdVR1YmVJZnJhbWVBUElSZWFkeSwobj10LmZhbmN5Ym94LmdldEluc3RhbmNlKCkpJiYobz1uLmN1cnJlbnQuJGNvbnRlbnQuZmluZChcImlmcmFtZVwiKSxcInlvdXR1YmVcIj09PWUmJnZvaWQgMCE9PVlUJiZZVD9pPW5ldyBZVC5QbGF5ZXIoby5hdHRyKFwiaWRcIikse2V2ZW50czp7b25TdGF0ZUNoYW5nZTpmdW5jdGlvbih0KXswPT10LmRhdGEmJm4ubmV4dCgpfX19KTpcInZpbWVvXCI9PT1lJiZ2b2lkIDAhPT1WaW1lbyYmVmltZW8mJihpPW5ldyBWaW1lby5QbGF5ZXIobyksaS5vbihcImVuZGVkXCIsZnVuY3Rpb24oKXtuLm5leHQoKX0pKSl9fTt0KGRvY3VtZW50KS5vbih7XCJhZnRlclNob3cuZmJcIjpmdW5jdGlvbih0LGUsbil7ZS5ncm91cC5sZW5ndGg+MSYmKFwieW91dHViZVwiPT09bi5jb250ZW50U291cmNlfHxcInZpbWVvXCI9PT1uLmNvbnRlbnRTb3VyY2UpJiZvLmxvYWQobi5jb250ZW50U291cmNlKX19KX0oalF1ZXJ5KSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG89ZnVuY3Rpb24oKXtyZXR1cm4gdC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHQud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx0Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZXx8dC5vUmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxmdW5jdGlvbihlKXtyZXR1cm4gdC5zZXRUaW1lb3V0KGUsMWUzLzYwKX19KCksaT1mdW5jdGlvbigpe3JldHVybiB0LmNhbmNlbEFuaW1hdGlvbkZyYW1lfHx0LndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lfHx0Lm1vekNhbmNlbEFuaW1hdGlvbkZyYW1lfHx0Lm9DYW5jZWxBbmltYXRpb25GcmFtZXx8ZnVuY3Rpb24oZSl7dC5jbGVhclRpbWVvdXQoZSl9fSgpLGE9ZnVuY3Rpb24oZSl7dmFyIG49W107ZT1lLm9yaWdpbmFsRXZlbnR8fGV8fHQuZSxlPWUudG91Y2hlcyYmZS50b3VjaGVzLmxlbmd0aD9lLnRvdWNoZXM6ZS5jaGFuZ2VkVG91Y2hlcyYmZS5jaGFuZ2VkVG91Y2hlcy5sZW5ndGg/ZS5jaGFuZ2VkVG91Y2hlczpbZV07Zm9yKHZhciBvIGluIGUpZVtvXS5wYWdlWD9uLnB1c2goe3g6ZVtvXS5wYWdlWCx5OmVbb10ucGFnZVl9KTplW29dLmNsaWVudFgmJm4ucHVzaCh7eDplW29dLmNsaWVudFgseTplW29dLmNsaWVudFl9KTtyZXR1cm4gbn0scz1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGUmJnQ/XCJ4XCI9PT1uP3QueC1lLng6XCJ5XCI9PT1uP3QueS1lLnk6TWF0aC5zcXJ0KE1hdGgucG93KHQueC1lLngsMikrTWF0aC5wb3codC55LWUueSwyKSk6MH0scj1mdW5jdGlvbih0KXtpZih0LmlzKCdhLGFyZWEsYnV0dG9uLFtyb2xlPVwiYnV0dG9uXCJdLGlucHV0LGxhYmVsLHNlbGVjdCxzdW1tYXJ5LHRleHRhcmVhLHZpZGVvLGF1ZGlvLGlmcmFtZScpfHxuLmlzRnVuY3Rpb24odC5nZXQoMCkub25jbGljayl8fHQuZGF0YShcInNlbGVjdGFibGVcIikpcmV0dXJuITA7Zm9yKHZhciBlPTAsbz10WzBdLmF0dHJpYnV0ZXMsaT1vLmxlbmd0aDtlPGk7ZSsrKWlmKFwiZGF0YS1mYW5jeWJveC1cIj09PW9bZV0ubm9kZU5hbWUuc3Vic3RyKDAsMTQpKXJldHVybiEwO3JldHVybiExfSxjPWZ1bmN0aW9uKGUpe3ZhciBuPXQuZ2V0Q29tcHV0ZWRTdHlsZShlKVtcIm92ZXJmbG93LXlcIl0sbz10LmdldENvbXB1dGVkU3R5bGUoZSlbXCJvdmVyZmxvdy14XCJdLGk9KFwic2Nyb2xsXCI9PT1ufHxcImF1dG9cIj09PW4pJiZlLnNjcm9sbEhlaWdodD5lLmNsaWVudEhlaWdodCxhPShcInNjcm9sbFwiPT09b3x8XCJhdXRvXCI9PT1vKSYmZS5zY3JvbGxXaWR0aD5lLmNsaWVudFdpZHRoO3JldHVybiBpfHxhfSxsPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0hMTs7KXtpZihlPWModC5nZXQoMCkpKWJyZWFrO2lmKHQ9dC5wYXJlbnQoKSwhdC5sZW5ndGh8fHQuaGFzQ2xhc3MoXCJmYW5jeWJveC1zdGFnZVwiKXx8dC5pcyhcImJvZHlcIikpYnJlYWt9cmV0dXJuIGV9LGQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztlLmluc3RhbmNlPXQsZS4kYmc9dC4kcmVmcy5iZyxlLiRzdGFnZT10LiRyZWZzLnN0YWdlLGUuJGNvbnRhaW5lcj10LiRyZWZzLmNvbnRhaW5lcixlLmRlc3Ryb3koKSxlLiRjb250YWluZXIub24oXCJ0b3VjaHN0YXJ0LmZiLnRvdWNoIG1vdXNlZG93bi5mYi50b3VjaFwiLG4ucHJveHkoZSxcIm9udG91Y2hzdGFydFwiKSl9O2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3QuJGNvbnRhaW5lci5vZmYoXCIuZmIudG91Y2hcIiksbihlKS5vZmYoXCIuZmIudG91Y2hcIiksdC5yZXF1ZXN0SWQmJihpKHQucmVxdWVzdElkKSx0LnJlcXVlc3RJZD1udWxsKSx0LnRhcHBlZCYmKGNsZWFyVGltZW91dCh0LnRhcHBlZCksdC50YXBwZWQ9bnVsbCl9LGQucHJvdG90eXBlLm9udG91Y2hzdGFydD1mdW5jdGlvbihvKXt2YXIgaT10aGlzLGM9bihvLnRhcmdldCksZD1pLmluc3RhbmNlLHU9ZC5jdXJyZW50LGY9dS4kc2xpZGUscD11LiRjb250ZW50LGg9XCJ0b3VjaHN0YXJ0XCI9PW8udHlwZTtpZihoJiZpLiRjb250YWluZXIub2ZmKFwibW91c2Vkb3duLmZiLnRvdWNoXCIpLCghby5vcmlnaW5hbEV2ZW50fHwyIT1vLm9yaWdpbmFsRXZlbnQuYnV0dG9uKSYmZi5sZW5ndGgmJmMubGVuZ3RoJiYhcihjKSYmIXIoYy5wYXJlbnQoKSkmJihjLmlzKFwiaW1nXCIpfHwhKG8ub3JpZ2luYWxFdmVudC5jbGllbnRYPmNbMF0uY2xpZW50V2lkdGgrYy5vZmZzZXQoKS5sZWZ0KSkpe2lmKCF1fHxkLmlzQW5pbWF0aW5nfHx1LiRzbGlkZS5oYXNDbGFzcyhcImZhbmN5Ym94LWFuaW1hdGVkXCIpKXJldHVybiBvLnN0b3BQcm9wYWdhdGlvbigpLHZvaWQgby5wcmV2ZW50RGVmYXVsdCgpO2kucmVhbFBvaW50cz1pLnN0YXJ0UG9pbnRzPWEobyksaS5zdGFydFBvaW50cy5sZW5ndGgmJih1LnRvdWNoJiZvLnN0b3BQcm9wYWdhdGlvbigpLGkuc3RhcnRFdmVudD1vLGkuY2FuVGFwPSEwLGkuJHRhcmdldD1jLGkuJGNvbnRlbnQ9cCxpLm9wdHM9dS5vcHRzLnRvdWNoLGkuaXNQYW5uaW5nPSExLGkuaXNTd2lwaW5nPSExLGkuaXNab29taW5nPSExLGkuaXNTY3JvbGxpbmc9ITEsaS5jYW5QYW49ZC5jYW5QYW4oKSxpLnN0YXJ0VGltZT0obmV3IERhdGUpLmdldFRpbWUoKSxpLmRpc3RhbmNlWD1pLmRpc3RhbmNlWT1pLmRpc3RhbmNlPTAsaS5jYW52YXNXaWR0aD1NYXRoLnJvdW5kKGZbMF0uY2xpZW50V2lkdGgpLGkuY2FudmFzSGVpZ2h0PU1hdGgucm91bmQoZlswXS5jbGllbnRIZWlnaHQpLGkuY29udGVudExhc3RQb3M9bnVsbCxpLmNvbnRlbnRTdGFydFBvcz1uLmZhbmN5Ym94LmdldFRyYW5zbGF0ZShpLiRjb250ZW50KXx8e3RvcDowLGxlZnQ6MH0saS5zbGlkZXJTdGFydFBvcz1uLmZhbmN5Ym94LmdldFRyYW5zbGF0ZShmKSxpLnN0YWdlUG9zPW4uZmFuY3lib3guZ2V0VHJhbnNsYXRlKGQuJHJlZnMuc3RhZ2UpLGkuc2xpZGVyU3RhcnRQb3MudG9wLT1pLnN0YWdlUG9zLnRvcCxpLnNsaWRlclN0YXJ0UG9zLmxlZnQtPWkuc3RhZ2VQb3MubGVmdCxpLmNvbnRlbnRTdGFydFBvcy50b3AtPWkuc3RhZ2VQb3MudG9wLGkuY29udGVudFN0YXJ0UG9zLmxlZnQtPWkuc3RhZ2VQb3MubGVmdCxuKGUpLm9mZihcIi5mYi50b3VjaFwiKS5vbihoP1widG91Y2hlbmQuZmIudG91Y2ggdG91Y2hjYW5jZWwuZmIudG91Y2hcIjpcIm1vdXNldXAuZmIudG91Y2ggbW91c2VsZWF2ZS5mYi50b3VjaFwiLG4ucHJveHkoaSxcIm9udG91Y2hlbmRcIikpLm9uKGg/XCJ0b3VjaG1vdmUuZmIudG91Y2hcIjpcIm1vdXNlbW92ZS5mYi50b3VjaFwiLG4ucHJveHkoaSxcIm9udG91Y2htb3ZlXCIpKSxuLmZhbmN5Ym94LmlzTW9iaWxlJiZlLmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIixpLm9uc2Nyb2xsLCEwKSwoKGkub3B0c3x8aS5jYW5QYW4pJiYoYy5pcyhpLiRzdGFnZSl8fGkuJHN0YWdlLmZpbmQoYykubGVuZ3RoKXx8KGMuaXMoXCIuZmFuY3lib3gtaW1hZ2VcIikmJm8ucHJldmVudERlZmF1bHQoKSxuLmZhbmN5Ym94LmlzTW9iaWxlJiZjLnBhcmVudHMoXCIuZmFuY3lib3gtY2FwdGlvblwiKS5sZW5ndGgpKSYmKGkuaXNTY3JvbGxhYmxlPWwoYyl8fGwoYy5wYXJlbnQoKSksbi5mYW5jeWJveC5pc01vYmlsZSYmaS5pc1Njcm9sbGFibGV8fG8ucHJldmVudERlZmF1bHQoKSwoMT09PWkuc3RhcnRQb2ludHMubGVuZ3RofHx1Lmhhc0Vycm9yKSYmKGkuY2FuUGFuPyhuLmZhbmN5Ym94LnN0b3AoaS4kY29udGVudCksaS5pc1Bhbm5pbmc9ITApOmkuaXNTd2lwaW5nPSEwLGkuJGNvbnRhaW5lci5hZGRDbGFzcyhcImZhbmN5Ym94LWlzLWdyYWJiaW5nXCIpKSwyPT09aS5zdGFydFBvaW50cy5sZW5ndGgmJlwiaW1hZ2VcIj09PXUudHlwZSYmKHUuaXNMb2FkZWR8fHUuJGdob3N0KSYmKGkuY2FuVGFwPSExLGkuaXNTd2lwaW5nPSExLGkuaXNQYW5uaW5nPSExLGkuaXNab29taW5nPSEwLG4uZmFuY3lib3guc3RvcChpLiRjb250ZW50KSxpLmNlbnRlclBvaW50U3RhcnRYPS41KihpLnN0YXJ0UG9pbnRzWzBdLngraS5zdGFydFBvaW50c1sxXS54KS1uKHQpLnNjcm9sbExlZnQoKSxpLmNlbnRlclBvaW50U3RhcnRZPS41KihpLnN0YXJ0UG9pbnRzWzBdLnkraS5zdGFydFBvaW50c1sxXS55KS1uKHQpLnNjcm9sbFRvcCgpLGkucGVyY2VudGFnZU9mSW1hZ2VBdFBpbmNoUG9pbnRYPShpLmNlbnRlclBvaW50U3RhcnRYLWkuY29udGVudFN0YXJ0UG9zLmxlZnQpL2kuY29udGVudFN0YXJ0UG9zLndpZHRoLGkucGVyY2VudGFnZU9mSW1hZ2VBdFBpbmNoUG9pbnRZPShpLmNlbnRlclBvaW50U3RhcnRZLWkuY29udGVudFN0YXJ0UG9zLnRvcCkvaS5jb250ZW50U3RhcnRQb3MuaGVpZ2h0LGkuc3RhcnREaXN0YW5jZUJldHdlZW5GaW5nZXJzPXMoaS5zdGFydFBvaW50c1swXSxpLnN0YXJ0UG9pbnRzWzFdKSkpKX19LGQucHJvdG90eXBlLm9uc2Nyb2xsPWZ1bmN0aW9uKHQpe3ZhciBuPXRoaXM7bi5pc1Njcm9sbGluZz0hMCxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIixuLm9uc2Nyb2xsLCEwKX0sZC5wcm90b3R5cGUub250b3VjaG1vdmU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gdm9pZCAwIT09dC5vcmlnaW5hbEV2ZW50LmJ1dHRvbnMmJjA9PT10Lm9yaWdpbmFsRXZlbnQuYnV0dG9ucz92b2lkIGUub250b3VjaGVuZCh0KTplLmlzU2Nyb2xsaW5nP3ZvaWQoZS5jYW5UYXA9ITEpOihlLm5ld1BvaW50cz1hKHQpLHZvaWQoKGUub3B0c3x8ZS5jYW5QYW4pJiZlLm5ld1BvaW50cy5sZW5ndGgmJmUubmV3UG9pbnRzLmxlbmd0aCYmKGUuaXNTd2lwaW5nJiYhMD09PWUuaXNTd2lwaW5nfHx0LnByZXZlbnREZWZhdWx0KCksZS5kaXN0YW5jZVg9cyhlLm5ld1BvaW50c1swXSxlLnN0YXJ0UG9pbnRzWzBdLFwieFwiKSxlLmRpc3RhbmNlWT1zKGUubmV3UG9pbnRzWzBdLGUuc3RhcnRQb2ludHNbMF0sXCJ5XCIpLGUuZGlzdGFuY2U9cyhlLm5ld1BvaW50c1swXSxlLnN0YXJ0UG9pbnRzWzBdKSxlLmRpc3RhbmNlPjAmJihlLmlzU3dpcGluZz9lLm9uU3dpcGUodCk6ZS5pc1Bhbm5pbmc/ZS5vblBhbigpOmUuaXNab29taW5nJiZlLm9uWm9vbSgpKSkpKX0sZC5wcm90b3R5cGUub25Td2lwZT1mdW5jdGlvbihlKXt2YXIgYSxzPXRoaXMscj1zLmluc3RhbmNlLGM9cy5pc1N3aXBpbmcsbD1zLnNsaWRlclN0YXJ0UG9zLmxlZnR8fDA7aWYoITAhPT1jKVwieFwiPT1jJiYocy5kaXN0YW5jZVg+MCYmKHMuaW5zdGFuY2UuZ3JvdXAubGVuZ3RoPDJ8fDA9PT1zLmluc3RhbmNlLmN1cnJlbnQuaW5kZXgmJiFzLmluc3RhbmNlLmN1cnJlbnQub3B0cy5sb29wKT9sKz1NYXRoLnBvdyhzLmRpc3RhbmNlWCwuOCk6cy5kaXN0YW5jZVg8MCYmKHMuaW5zdGFuY2UuZ3JvdXAubGVuZ3RoPDJ8fHMuaW5zdGFuY2UuY3VycmVudC5pbmRleD09PXMuaW5zdGFuY2UuZ3JvdXAubGVuZ3RoLTEmJiFzLmluc3RhbmNlLmN1cnJlbnQub3B0cy5sb29wKT9sLT1NYXRoLnBvdygtcy5kaXN0YW5jZVgsLjgpOmwrPXMuZGlzdGFuY2VYKSxzLnNsaWRlckxhc3RQb3M9e3RvcDpcInhcIj09Yz8wOnMuc2xpZGVyU3RhcnRQb3MudG9wK3MuZGlzdGFuY2VZLGxlZnQ6bH0scy5yZXF1ZXN0SWQmJihpKHMucmVxdWVzdElkKSxzLnJlcXVlc3RJZD1udWxsKSxzLnJlcXVlc3RJZD1vKGZ1bmN0aW9uKCl7cy5zbGlkZXJMYXN0UG9zJiYobi5lYWNoKHMuaW5zdGFuY2Uuc2xpZGVzLGZ1bmN0aW9uKHQsZSl7dmFyIG89ZS5wb3Mtcy5pbnN0YW5jZS5jdXJyUG9zO24uZmFuY3lib3guc2V0VHJhbnNsYXRlKGUuJHNsaWRlLHt0b3A6cy5zbGlkZXJMYXN0UG9zLnRvcCxsZWZ0OnMuc2xpZGVyTGFzdFBvcy5sZWZ0K28qcy5jYW52YXNXaWR0aCtvKmUub3B0cy5ndXR0ZXJ9KX0pLHMuJGNvbnRhaW5lci5hZGRDbGFzcyhcImZhbmN5Ym94LWlzLXNsaWRpbmdcIikpfSk7ZWxzZSBpZihNYXRoLmFicyhzLmRpc3RhbmNlKT4xMCl7aWYocy5jYW5UYXA9ITEsci5ncm91cC5sZW5ndGg8MiYmcy5vcHRzLnZlcnRpY2FsP3MuaXNTd2lwaW5nPVwieVwiOnIuaXNEcmFnZ2luZ3x8ITE9PT1zLm9wdHMudmVydGljYWx8fFwiYXV0b1wiPT09cy5vcHRzLnZlcnRpY2FsJiZuKHQpLndpZHRoKCk+ODAwP3MuaXNTd2lwaW5nPVwieFwiOihhPU1hdGguYWJzKDE4MCpNYXRoLmF0YW4yKHMuZGlzdGFuY2VZLHMuZGlzdGFuY2VYKS9NYXRoLlBJKSxzLmlzU3dpcGluZz1hPjQ1JiZhPDEzNT9cInlcIjpcInhcIiksXCJ5XCI9PT1zLmlzU3dpcGluZyYmbi5mYW5jeWJveC5pc01vYmlsZSYmcy5pc1Njcm9sbGFibGUpcmV0dXJuIHZvaWQocy5pc1Njcm9sbGluZz0hMCk7ci5pc0RyYWdnaW5nPXMuaXNTd2lwaW5nLHMuc3RhcnRQb2ludHM9cy5uZXdQb2ludHMsbi5lYWNoKHIuc2xpZGVzLGZ1bmN0aW9uKHQsZSl7dmFyIG8saTtuLmZhbmN5Ym94LnN0b3AoZS4kc2xpZGUpLG89bi5mYW5jeWJveC5nZXRUcmFuc2xhdGUoZS4kc2xpZGUpLGk9bi5mYW5jeWJveC5nZXRUcmFuc2xhdGUoci4kcmVmcy5zdGFnZSksZS4kc2xpZGUuY3NzKHt0cmFuc2Zvcm06XCJcIixvcGFjaXR5OlwiXCIsXCJ0cmFuc2l0aW9uLWR1cmF0aW9uXCI6XCJcIn0pLnJlbW92ZUNsYXNzKFwiZmFuY3lib3gtYW5pbWF0ZWRcIikucmVtb3ZlQ2xhc3MoZnVuY3Rpb24odCxlKXtyZXR1cm4oZS5tYXRjaCgvKF58XFxzKWZhbmN5Ym94LWZ4LVxcUysvZyl8fFtdKS5qb2luKFwiIFwiKX0pLGUucG9zPT09ci5jdXJyZW50LnBvcyYmKHMuc2xpZGVyU3RhcnRQb3MudG9wPW8udG9wLWkudG9wLHMuc2xpZGVyU3RhcnRQb3MubGVmdD1vLmxlZnQtaS5sZWZ0KSxuLmZhbmN5Ym94LnNldFRyYW5zbGF0ZShlLiRzbGlkZSx7dG9wOm8udG9wLWkudG9wLGxlZnQ6by5sZWZ0LWkubGVmdH0pfSksci5TbGlkZVNob3cmJnIuU2xpZGVTaG93LmlzQWN0aXZlJiZyLlNsaWRlU2hvdy5zdG9wKCl9fSxkLnByb3RvdHlwZS5vblBhbj1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYocyh0Lm5ld1BvaW50c1swXSx0LnJlYWxQb2ludHNbMF0pPChuLmZhbmN5Ym94LmlzTW9iaWxlPzEwOjUpKXJldHVybiB2b2lkKHQuc3RhcnRQb2ludHM9dC5uZXdQb2ludHMpO3QuY2FuVGFwPSExLHQuY29udGVudExhc3RQb3M9dC5saW1pdE1vdmVtZW50KCksdC5yZXF1ZXN0SWQmJmkodC5yZXF1ZXN0SWQpLHQucmVxdWVzdElkPW8oZnVuY3Rpb24oKXtuLmZhbmN5Ym94LnNldFRyYW5zbGF0ZSh0LiRjb250ZW50LHQuY29udGVudExhc3RQb3MpfSl9LGQucHJvdG90eXBlLmxpbWl0TW92ZW1lbnQ9ZnVuY3Rpb24oKXt2YXIgdCxlLG4sbyxpLGEscz10aGlzLHI9cy5jYW52YXNXaWR0aCxjPXMuY2FudmFzSGVpZ2h0LGw9cy5kaXN0YW5jZVgsZD1zLmRpc3RhbmNlWSx1PXMuY29udGVudFN0YXJ0UG9zLGY9dS5sZWZ0LHA9dS50b3AsaD11LndpZHRoLGc9dS5oZWlnaHQ7cmV0dXJuIGk9aD5yP2YrbDpmLGE9cCtkLHQ9TWF0aC5tYXgoMCwuNSpyLS41KmgpLGU9TWF0aC5tYXgoMCwuNSpjLS41KmcpLG49TWF0aC5taW4oci1oLC41KnItLjUqaCksbz1NYXRoLm1pbihjLWcsLjUqYy0uNSpnKSxsPjAmJmk+dCYmKGk9dC0xK01hdGgucG93KC10K2YrbCwuOCl8fDApLGw8MCYmaTxuJiYoaT1uKzEtTWF0aC5wb3cobi1mLWwsLjgpfHwwKSxkPjAmJmE+ZSYmKGE9ZS0xK01hdGgucG93KC1lK3ArZCwuOCl8fDApLGQ8MCYmYTxvJiYoYT1vKzEtTWF0aC5wb3coby1wLWQsLjgpfHwwKSx7dG9wOmEsbGVmdDppfX0sZC5wcm90b3R5cGUubGltaXRQb3NpdGlvbj1mdW5jdGlvbih0LGUsbixvKXt2YXIgaT10aGlzLGE9aS5jYW52YXNXaWR0aCxzPWkuY2FudmFzSGVpZ2h0O3JldHVybiBuPmE/KHQ9dD4wPzA6dCx0PXQ8YS1uP2Etbjp0KTp0PU1hdGgubWF4KDAsYS8yLW4vMiksbz5zPyhlPWU+MD8wOmUsZT1lPHMtbz9zLW86ZSk6ZT1NYXRoLm1heCgwLHMvMi1vLzIpLHt0b3A6ZSxsZWZ0OnR9fSxkLnByb3RvdHlwZS5vblpvb209ZnVuY3Rpb24oKXt2YXIgZT10aGlzLGE9ZS5jb250ZW50U3RhcnRQb3Mscj1hLndpZHRoLGM9YS5oZWlnaHQsbD1hLmxlZnQsZD1hLnRvcCx1PXMoZS5uZXdQb2ludHNbMF0sZS5uZXdQb2ludHNbMV0pLGY9dS9lLnN0YXJ0RGlzdGFuY2VCZXR3ZWVuRmluZ2VycyxwPU1hdGguZmxvb3IocipmKSxoPU1hdGguZmxvb3IoYypmKSxnPShyLXApKmUucGVyY2VudGFnZU9mSW1hZ2VBdFBpbmNoUG9pbnRYLGI9KGMtaCkqZS5wZXJjZW50YWdlT2ZJbWFnZUF0UGluY2hQb2ludFksbT0oZS5uZXdQb2ludHNbMF0ueCtlLm5ld1BvaW50c1sxXS54KS8yLW4odCkuc2Nyb2xsTGVmdCgpLHY9KGUubmV3UG9pbnRzWzBdLnkrZS5uZXdQb2ludHNbMV0ueSkvMi1uKHQpLnNjcm9sbFRvcCgpLHk9bS1lLmNlbnRlclBvaW50U3RhcnRYLHg9di1lLmNlbnRlclBvaW50U3RhcnRZLHc9bCsoZyt5KSwkPWQrKGIreCksUz17dG9wOiQsbGVmdDp3LHNjYWxlWDpmLHNjYWxlWTpmfTtlLmNhblRhcD0hMSxlLm5ld1dpZHRoPXAsZS5uZXdIZWlnaHQ9aCxlLmNvbnRlbnRMYXN0UG9zPVMsZS5yZXF1ZXN0SWQmJmkoZS5yZXF1ZXN0SWQpLGUucmVxdWVzdElkPW8oZnVuY3Rpb24oKXtuLmZhbmN5Ym94LnNldFRyYW5zbGF0ZShlLiRjb250ZW50LGUuY29udGVudExhc3RQb3MpfSl9LGQucHJvdG90eXBlLm9udG91Y2hlbmQ9ZnVuY3Rpb24odCl7dmFyIG89dGhpcyxzPW8uaXNTd2lwaW5nLHI9by5pc1Bhbm5pbmcsYz1vLmlzWm9vbWluZyxsPW8uaXNTY3JvbGxpbmc7aWYoby5lbmRQb2ludHM9YSh0KSxvLmRNcz1NYXRoLm1heCgobmV3IERhdGUpLmdldFRpbWUoKS1vLnN0YXJ0VGltZSwxKSxvLiRjb250YWluZXIucmVtb3ZlQ2xhc3MoXCJmYW5jeWJveC1pcy1ncmFiYmluZ1wiKSxuKGUpLm9mZihcIi5mYi50b3VjaFwiKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIixvLm9uc2Nyb2xsLCEwKSxvLnJlcXVlc3RJZCYmKGkoby5yZXF1ZXN0SWQpLG8ucmVxdWVzdElkPW51bGwpLG8uaXNTd2lwaW5nPSExLG8uaXNQYW5uaW5nPSExLG8uaXNab29taW5nPSExLG8uaXNTY3JvbGxpbmc9ITEsby5pbnN0YW5jZS5pc0RyYWdnaW5nPSExLG8uY2FuVGFwKXJldHVybiBvLm9uVGFwKHQpO28uc3BlZWQ9MTAwLG8udmVsb2NpdHlYPW8uZGlzdGFuY2VYL28uZE1zKi41LG8udmVsb2NpdHlZPW8uZGlzdGFuY2VZL28uZE1zKi41LHI/by5lbmRQYW5uaW5nKCk6Yz9vLmVuZFpvb21pbmcoKTpvLmVuZFN3aXBpbmcocyxsKX0sZC5wcm90b3R5cGUuZW5kU3dpcGluZz1mdW5jdGlvbih0LGUpe3ZhciBvPXRoaXMsaT0hMSxhPW8uaW5zdGFuY2UuZ3JvdXAubGVuZ3RoLHM9TWF0aC5hYnMoby5kaXN0YW5jZVgpLHI9XCJ4XCI9PXQmJmE+MSYmKG8uZE1zPjEzMCYmcz4xMHx8cz41MCk7by5zbGlkZXJMYXN0UG9zPW51bGwsXCJ5XCI9PXQmJiFlJiZNYXRoLmFicyhvLmRpc3RhbmNlWSk+NTA/KG4uZmFuY3lib3guYW5pbWF0ZShvLmluc3RhbmNlLmN1cnJlbnQuJHNsaWRlLHt0b3A6by5zbGlkZXJTdGFydFBvcy50b3Arby5kaXN0YW5jZVkrMTUwKm8udmVsb2NpdHlZLG9wYWNpdHk6MH0sMjAwKSxpPW8uaW5zdGFuY2UuY2xvc2UoITAsMjUwKSk6ciYmby5kaXN0YW5jZVg+MD9pPW8uaW5zdGFuY2UucHJldmlvdXMoMzAwKTpyJiZvLmRpc3RhbmNlWDwwJiYoaT1vLmluc3RhbmNlLm5leHQoMzAwKSksITEhPT1pfHxcInhcIiE9dCYmXCJ5XCIhPXR8fG8uaW5zdGFuY2UuY2VudGVyU2xpZGUoMjAwKSxvLiRjb250YWluZXIucmVtb3ZlQ2xhc3MoXCJmYW5jeWJveC1pcy1zbGlkaW5nXCIpfSxkLnByb3RvdHlwZS5lbmRQYW5uaW5nPWZ1bmN0aW9uKCl7dmFyIHQsZSxvLGk9dGhpcztpLmNvbnRlbnRMYXN0UG9zJiYoITE9PT1pLm9wdHMubW9tZW50dW18fGkuZE1zPjM1MD8odD1pLmNvbnRlbnRMYXN0UG9zLmxlZnQsZT1pLmNvbnRlbnRMYXN0UG9zLnRvcCk6KHQ9aS5jb250ZW50TGFzdFBvcy5sZWZ0KzUwMCppLnZlbG9jaXR5WCxlPWkuY29udGVudExhc3RQb3MudG9wKzUwMCppLnZlbG9jaXR5WSksbz1pLmxpbWl0UG9zaXRpb24odCxlLGkuY29udGVudFN0YXJ0UG9zLndpZHRoLGkuY29udGVudFN0YXJ0UG9zLmhlaWdodCksby53aWR0aD1pLmNvbnRlbnRTdGFydFBvcy53aWR0aCxvLmhlaWdodD1pLmNvbnRlbnRTdGFydFBvcy5oZWlnaHQsbi5mYW5jeWJveC5hbmltYXRlKGkuJGNvbnRlbnQsbywzNjYpKX0sZC5wcm90b3R5cGUuZW5kWm9vbWluZz1mdW5jdGlvbigpe3ZhciB0LGUsbyxpLGE9dGhpcyxzPWEuaW5zdGFuY2UuY3VycmVudCxyPWEubmV3V2lkdGgsYz1hLm5ld0hlaWdodDthLmNvbnRlbnRMYXN0UG9zJiYodD1hLmNvbnRlbnRMYXN0UG9zLmxlZnQsZT1hLmNvbnRlbnRMYXN0UG9zLnRvcCxpPXt0b3A6ZSxsZWZ0OnQsd2lkdGg6cixoZWlnaHQ6YyxzY2FsZVg6MSxzY2FsZVk6MX0sbi5mYW5jeWJveC5zZXRUcmFuc2xhdGUoYS4kY29udGVudCxpKSxyPGEuY2FudmFzV2lkdGgmJmM8YS5jYW52YXNIZWlnaHQ/YS5pbnN0YW5jZS5zY2FsZVRvRml0KDE1MCk6cj5zLndpZHRofHxjPnMuaGVpZ2h0P2EuaW5zdGFuY2Uuc2NhbGVUb0FjdHVhbChhLmNlbnRlclBvaW50U3RhcnRYLGEuY2VudGVyUG9pbnRTdGFydFksMTUwKToobz1hLmxpbWl0UG9zaXRpb24odCxlLHIsYyksbi5mYW5jeWJveC5hbmltYXRlKGEuJGNvbnRlbnQsbywxNTApKSl9LGQucHJvdG90eXBlLm9uVGFwPWZ1bmN0aW9uKGUpe3ZhciBvLGk9dGhpcyxzPW4oZS50YXJnZXQpLHI9aS5pbnN0YW5jZSxjPXIuY3VycmVudCxsPWUmJmEoZSl8fGkuc3RhcnRQb2ludHMsZD1sWzBdP2xbMF0ueC1uKHQpLnNjcm9sbExlZnQoKS1pLnN0YWdlUG9zLmxlZnQ6MCx1PWxbMF0/bFswXS55LW4odCkuc2Nyb2xsVG9wKCktaS5zdGFnZVBvcy50b3A6MCxmPWZ1bmN0aW9uKHQpe3ZhciBvPWMub3B0c1t0XTtpZihuLmlzRnVuY3Rpb24obykmJihvPW8uYXBwbHkocixbYyxlXSkpLG8pc3dpdGNoKG8pe2Nhc2VcImNsb3NlXCI6ci5jbG9zZShpLnN0YXJ0RXZlbnQpO2JyZWFrO2Nhc2VcInRvZ2dsZUNvbnRyb2xzXCI6ci50b2dnbGVDb250cm9scygpO2JyZWFrO2Nhc2VcIm5leHRcIjpyLm5leHQoKTticmVhaztjYXNlXCJuZXh0T3JDbG9zZVwiOnIuZ3JvdXAubGVuZ3RoPjE/ci5uZXh0KCk6ci5jbG9zZShpLnN0YXJ0RXZlbnQpO2JyZWFrO2Nhc2VcInpvb21cIjpcImltYWdlXCI9PWMudHlwZSYmKGMuaXNMb2FkZWR8fGMuJGdob3N0KSYmKHIuY2FuUGFuKCk/ci5zY2FsZVRvRml0KCk6ci5pc1NjYWxlZERvd24oKT9yLnNjYWxlVG9BY3R1YWwoZCx1KTpyLmdyb3VwLmxlbmd0aDwyJiZyLmNsb3NlKGkuc3RhcnRFdmVudCkpfX07aWYoKCFlLm9yaWdpbmFsRXZlbnR8fDIhPWUub3JpZ2luYWxFdmVudC5idXR0b24pJiYocy5pcyhcImltZ1wiKXx8IShkPnNbMF0uY2xpZW50V2lkdGgrcy5vZmZzZXQoKS5sZWZ0KSkpe2lmKHMuaXMoXCIuZmFuY3lib3gtYmcsLmZhbmN5Ym94LWlubmVyLC5mYW5jeWJveC1vdXRlciwuZmFuY3lib3gtY29udGFpbmVyXCIpKW89XCJPdXRzaWRlXCI7ZWxzZSBpZihzLmlzKFwiLmZhbmN5Ym94LXNsaWRlXCIpKW89XCJTbGlkZVwiO2Vsc2V7aWYoIXIuY3VycmVudC4kY29udGVudHx8IXIuY3VycmVudC4kY29udGVudC5maW5kKHMpLmFkZEJhY2soKS5maWx0ZXIocykubGVuZ3RoKXJldHVybjtvPVwiQ29udGVudFwifWlmKGkudGFwcGVkKXtpZihjbGVhclRpbWVvdXQoaS50YXBwZWQpLGkudGFwcGVkPW51bGwsTWF0aC5hYnMoZC1pLnRhcFgpPjUwfHxNYXRoLmFicyh1LWkudGFwWSk+NTApcmV0dXJuIHRoaXM7ZihcImRibGNsaWNrXCIrbyl9ZWxzZSBpLnRhcFg9ZCxpLnRhcFk9dSxjLm9wdHNbXCJkYmxjbGlja1wiK29dJiZjLm9wdHNbXCJkYmxjbGlja1wiK29dIT09Yy5vcHRzW1wiY2xpY2tcIitvXT9pLnRhcHBlZD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aS50YXBwZWQ9bnVsbCxyLmlzQW5pbWF0aW5nfHxmKFwiY2xpY2tcIitvKX0sNTAwKTpmKFwiY2xpY2tcIitvKTtyZXR1cm4gdGhpc319LG4oZSkub24oXCJvbkFjdGl2YXRlLmZiXCIsZnVuY3Rpb24odCxlKXtlJiYhZS5HdWVzdHVyZXMmJihlLkd1ZXN0dXJlcz1uZXcgZChlKSl9KS5vbihcImJlZm9yZUNsb3NlLmZiXCIsZnVuY3Rpb24odCxlKXtlJiZlLkd1ZXN0dXJlcyYmZS5HdWVzdHVyZXMuZGVzdHJveSgpfSl9KHdpbmRvdyxkb2N1bWVudCxqUXVlcnkpLGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7ZS5leHRlbmQoITAsZS5mYW5jeWJveC5kZWZhdWx0cyx7YnRuVHBsOntzbGlkZVNob3c6JzxidXR0b24gZGF0YS1mYW5jeWJveC1wbGF5IGNsYXNzPVwiZmFuY3lib3gtYnV0dG9uIGZhbmN5Ym94LWJ1dHRvbi0tcGxheVwiIHRpdGxlPVwie3tQTEFZX1NUQVJUfX1cIj48c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggZD1cIk02LjUgNS40djEzLjJsMTEtNi42elwiLz48L3N2Zz48c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggZD1cIk04LjMzIDUuNzVoMi4ydjEyLjVoLTIuMlY1Ljc1em01LjE1IDBoMi4ydjEyLjVoLTIuMlY1Ljc1elwiLz48L3N2Zz48L2J1dHRvbj4nfSxzbGlkZVNob3c6e2F1dG9TdGFydDohMSxzcGVlZDozZTMscHJvZ3Jlc3M6ITB9fSk7dmFyIG49ZnVuY3Rpb24odCl7dGhpcy5pbnN0YW5jZT10LHRoaXMuaW5pdCgpfTtlLmV4dGVuZChuLnByb3RvdHlwZSx7dGltZXI6bnVsbCxpc0FjdGl2ZTohMSwkYnV0dG9uOm51bGwsaW5pdDpmdW5jdGlvbigpe3ZhciB0PXRoaXMsbj10Lmluc3RhbmNlLG89bi5ncm91cFtuLmN1cnJJbmRleF0ub3B0cy5zbGlkZVNob3c7dC4kYnV0dG9uPW4uJHJlZnMudG9vbGJhci5maW5kKFwiW2RhdGEtZmFuY3lib3gtcGxheV1cIikub24oXCJjbGlja1wiLGZ1bmN0aW9uKCl7dC50b2dnbGUoKX0pLG4uZ3JvdXAubGVuZ3RoPDJ8fCFvP3QuJGJ1dHRvbi5oaWRlKCk6by5wcm9ncmVzcyYmKHQuJHByb2dyZXNzPWUoJzxkaXYgY2xhc3M9XCJmYW5jeWJveC1wcm9ncmVzc1wiPjwvZGl2PicpLmFwcGVuZFRvKG4uJHJlZnMuaW5uZXIpKX0sc2V0OmZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMsbz1uLmluc3RhbmNlLGk9by5jdXJyZW50O2kmJighMD09PXR8fGkub3B0cy5sb29wfHxvLmN1cnJJbmRleDxvLmdyb3VwLmxlbmd0aC0xKT9uLmlzQWN0aXZlJiZcInZpZGVvXCIhPT1pLmNvbnRlbnRUeXBlJiYobi4kcHJvZ3Jlc3MmJmUuZmFuY3lib3guYW5pbWF0ZShuLiRwcm9ncmVzcy5zaG93KCkse3NjYWxlWDoxfSxpLm9wdHMuc2xpZGVTaG93LnNwZWVkKSxuLnRpbWVyPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtvLmN1cnJlbnQub3B0cy5sb29wfHxvLmN1cnJlbnQuaW5kZXghPW8uZ3JvdXAubGVuZ3RoLTE/by5uZXh0KCk6by5qdW1wVG8oMCl9LGkub3B0cy5zbGlkZVNob3cuc3BlZWQpKToobi5zdG9wKCksby5pZGxlU2Vjb25kc0NvdW50ZXI9MCxvLnNob3dDb250cm9scygpKX0sY2xlYXI6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2NsZWFyVGltZW91dCh0LnRpbWVyKSx0LnRpbWVyPW51bGwsdC4kcHJvZ3Jlc3MmJnQuJHByb2dyZXNzLnJlbW92ZUF0dHIoXCJzdHlsZVwiKS5oaWRlKCl9LHN0YXJ0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXQuaW5zdGFuY2UuY3VycmVudDtlJiYodC4kYnV0dG9uLmF0dHIoXCJ0aXRsZVwiLChlLm9wdHMuaTE4bltlLm9wdHMubGFuZ118fGUub3B0cy5pMThuLmVuKS5QTEFZX1NUT1ApLnJlbW92ZUNsYXNzKFwiZmFuY3lib3gtYnV0dG9uLS1wbGF5XCIpLmFkZENsYXNzKFwiZmFuY3lib3gtYnV0dG9uLS1wYXVzZVwiKSx0LmlzQWN0aXZlPSEwLGUuaXNDb21wbGV0ZSYmdC5zZXQoITApLHQuaW5zdGFuY2UudHJpZ2dlcihcIm9uU2xpZGVTaG93Q2hhbmdlXCIsITApKX0sc3RvcDpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10Lmluc3RhbmNlLmN1cnJlbnQ7dC5jbGVhcigpLHQuJGJ1dHRvbi5hdHRyKFwidGl0bGVcIiwoZS5vcHRzLmkxOG5bZS5vcHRzLmxhbmddfHxlLm9wdHMuaTE4bi5lbikuUExBWV9TVEFSVCkucmVtb3ZlQ2xhc3MoXCJmYW5jeWJveC1idXR0b24tLXBhdXNlXCIpLmFkZENsYXNzKFwiZmFuY3lib3gtYnV0dG9uLS1wbGF5XCIpLHQuaXNBY3RpdmU9ITEsdC5pbnN0YW5jZS50cmlnZ2VyKFwib25TbGlkZVNob3dDaGFuZ2VcIiwhMSksdC4kcHJvZ3Jlc3MmJnQuJHByb2dyZXNzLnJlbW92ZUF0dHIoXCJzdHlsZVwiKS5oaWRlKCl9LHRvZ2dsZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dC5pc0FjdGl2ZT90LnN0b3AoKTp0LnN0YXJ0KCl9fSksZSh0KS5vbih7XCJvbkluaXQuZmJcIjpmdW5jdGlvbih0LGUpe2UmJiFlLlNsaWRlU2hvdyYmKGUuU2xpZGVTaG93PW5ldyBuKGUpKX0sXCJiZWZvcmVTaG93LmZiXCI6ZnVuY3Rpb24odCxlLG4sbyl7dmFyIGk9ZSYmZS5TbGlkZVNob3c7bz9pJiZuLm9wdHMuc2xpZGVTaG93LmF1dG9TdGFydCYmaS5zdGFydCgpOmkmJmkuaXNBY3RpdmUmJmkuY2xlYXIoKX0sXCJhZnRlclNob3cuZmJcIjpmdW5jdGlvbih0LGUsbil7dmFyIG89ZSYmZS5TbGlkZVNob3c7byYmby5pc0FjdGl2ZSYmby5zZXQoKX0sXCJhZnRlcktleWRvd24uZmJcIjpmdW5jdGlvbihuLG8saSxhLHMpe3ZhciByPW8mJm8uU2xpZGVTaG93OyFyfHwhaS5vcHRzLnNsaWRlU2hvd3x8ODAhPT1zJiYzMiE9PXN8fGUodC5hY3RpdmVFbGVtZW50KS5pcyhcImJ1dHRvbixhLGlucHV0XCIpfHwoYS5wcmV2ZW50RGVmYXVsdCgpLHIudG9nZ2xlKCkpfSxcImJlZm9yZUNsb3NlLmZiIG9uRGVhY3RpdmF0ZS5mYlwiOmZ1bmN0aW9uKHQsZSl7dmFyIG49ZSYmZS5TbGlkZVNob3c7biYmbi5zdG9wKCl9fSksZSh0KS5vbihcInZpc2liaWxpdHljaGFuZ2VcIixmdW5jdGlvbigpe3ZhciBuPWUuZmFuY3lib3guZ2V0SW5zdGFuY2UoKSxvPW4mJm4uU2xpZGVTaG93O28mJm8uaXNBY3RpdmUmJih0LmhpZGRlbj9vLmNsZWFyKCk6by5zZXQoKSl9KX0oZG9jdW1lbnQsalF1ZXJ5KSxmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO3ZhciBuPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtbXCJyZXF1ZXN0RnVsbHNjcmVlblwiLFwiZXhpdEZ1bGxzY3JlZW5cIixcImZ1bGxzY3JlZW5FbGVtZW50XCIsXCJmdWxsc2NyZWVuRW5hYmxlZFwiLFwiZnVsbHNjcmVlbmNoYW5nZVwiLFwiZnVsbHNjcmVlbmVycm9yXCJdLFtcIndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuXCIsXCJ3ZWJraXRFeGl0RnVsbHNjcmVlblwiLFwid2Via2l0RnVsbHNjcmVlbkVsZW1lbnRcIixcIndlYmtpdEZ1bGxzY3JlZW5FbmFibGVkXCIsXCJ3ZWJraXRmdWxsc2NyZWVuY2hhbmdlXCIsXCJ3ZWJraXRmdWxsc2NyZWVuZXJyb3JcIl0sW1wid2Via2l0UmVxdWVzdEZ1bGxTY3JlZW5cIixcIndlYmtpdENhbmNlbEZ1bGxTY3JlZW5cIixcIndlYmtpdEN1cnJlbnRGdWxsU2NyZWVuRWxlbWVudFwiLFwid2Via2l0Q2FuY2VsRnVsbFNjcmVlblwiLFwid2Via2l0ZnVsbHNjcmVlbmNoYW5nZVwiLFwid2Via2l0ZnVsbHNjcmVlbmVycm9yXCJdLFtcIm1velJlcXVlc3RGdWxsU2NyZWVuXCIsXCJtb3pDYW5jZWxGdWxsU2NyZWVuXCIsXCJtb3pGdWxsU2NyZWVuRWxlbWVudFwiLFwibW96RnVsbFNjcmVlbkVuYWJsZWRcIixcIm1vemZ1bGxzY3JlZW5jaGFuZ2VcIixcIm1vemZ1bGxzY3JlZW5lcnJvclwiXSxbXCJtc1JlcXVlc3RGdWxsc2NyZWVuXCIsXCJtc0V4aXRGdWxsc2NyZWVuXCIsXCJtc0Z1bGxzY3JlZW5FbGVtZW50XCIsXCJtc0Z1bGxzY3JlZW5FbmFibGVkXCIsXCJNU0Z1bGxzY3JlZW5DaGFuZ2VcIixcIk1TRnVsbHNjcmVlbkVycm9yXCJdXSxuPXt9LG89MDtvPGUubGVuZ3RoO28rKyl7dmFyIGk9ZVtvXTtpZihpJiZpWzFdaW4gdCl7Zm9yKHZhciBhPTA7YTxpLmxlbmd0aDthKyspbltlWzBdW2FdXT1pW2FdO3JldHVybiBufX1yZXR1cm4hMX0oKTtpZihuKXt2YXIgbz17cmVxdWVzdDpmdW5jdGlvbihlKXtlPWV8fHQuZG9jdW1lbnRFbGVtZW50LGVbbi5yZXF1ZXN0RnVsbHNjcmVlbl0oZS5BTExPV19LRVlCT0FSRF9JTlBVVCl9LGV4aXQ6ZnVuY3Rpb24oKXt0W24uZXhpdEZ1bGxzY3JlZW5dKCl9LHRvZ2dsZTpmdW5jdGlvbihlKXtlPWV8fHQuZG9jdW1lbnRFbGVtZW50LHRoaXMuaXNGdWxsc2NyZWVuKCk/dGhpcy5leGl0KCk6dGhpcy5yZXF1ZXN0KGUpfSxpc0Z1bGxzY3JlZW46ZnVuY3Rpb24oKXtyZXR1cm4gQm9vbGVhbih0W24uZnVsbHNjcmVlbkVsZW1lbnRdKX0sZW5hYmxlZDpmdW5jdGlvbigpe3JldHVybiBCb29sZWFuKHRbbi5mdWxsc2NyZWVuRW5hYmxlZF0pfX07ZS5leHRlbmQoITAsZS5mYW5jeWJveC5kZWZhdWx0cyx7YnRuVHBsOntmdWxsU2NyZWVuOic8YnV0dG9uIGRhdGEtZmFuY3lib3gtZnVsbHNjcmVlbiBjbGFzcz1cImZhbmN5Ym94LWJ1dHRvbiBmYW5jeWJveC1idXR0b24tLWZzZW50ZXJcIiB0aXRsZT1cInt7RlVMTF9TQ1JFRU59fVwiPjxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBkPVwiTTcgMTRINXY1aDV2LTJIN3YtM3ptLTItNGgyVjdoM1Y1SDV2NXptMTIgN2gtM3YyaDV2LTVoLTJ2M3pNMTQgNXYyaDN2M2gyVjVoLTV6XCIvPjwvc3ZnPjxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBkPVwiTTUgMTZoM3YzaDJ2LTVINXptMy04SDV2Mmg1VjVIOHptNiAxMWgydi0zaDN2LTJoLTV6bTItMTFWNWgtMnY1aDVWOHpcIi8+PC9zdmc+PC9idXR0b24+J30sZnVsbFNjcmVlbjp7YXV0b1N0YXJ0OiExfX0pLGUodCkub24obi5mdWxsc2NyZWVuY2hhbmdlLGZ1bmN0aW9uKCl7dmFyIHQ9by5pc0Z1bGxzY3JlZW4oKSxuPWUuZmFuY3lib3guZ2V0SW5zdGFuY2UoKTtuJiYobi5jdXJyZW50JiZcImltYWdlXCI9PT1uLmN1cnJlbnQudHlwZSYmbi5pc0FuaW1hdGluZyYmKG4uaXNBbmltYXRpbmc9ITEsbi51cGRhdGUoITAsITAsMCksbi5pc0NvbXBsZXRlfHxuLmNvbXBsZXRlKCkpLG4udHJpZ2dlcihcIm9uRnVsbHNjcmVlbkNoYW5nZVwiLHQpLG4uJHJlZnMuY29udGFpbmVyLnRvZ2dsZUNsYXNzKFwiZmFuY3lib3gtaXMtZnVsbHNjcmVlblwiLHQpLG4uJHJlZnMudG9vbGJhci5maW5kKFwiW2RhdGEtZmFuY3lib3gtZnVsbHNjcmVlbl1cIikudG9nZ2xlQ2xhc3MoXCJmYW5jeWJveC1idXR0b24tLWZzZW50ZXJcIiwhdCkudG9nZ2xlQ2xhc3MoXCJmYW5jeWJveC1idXR0b24tLWZzZXhpdFwiLHQpKX0pfWUodCkub24oe1wib25Jbml0LmZiXCI6ZnVuY3Rpb24odCxlKXt2YXIgaTtpZighbilyZXR1cm4gdm9pZCBlLiRyZWZzLnRvb2xiYXIuZmluZChcIltkYXRhLWZhbmN5Ym94LWZ1bGxzY3JlZW5dXCIpLnJlbW92ZSgpO2UmJmUuZ3JvdXBbZS5jdXJySW5kZXhdLm9wdHMuZnVsbFNjcmVlbj8oaT1lLiRyZWZzLmNvbnRhaW5lcixpLm9uKFwiY2xpY2suZmItZnVsbHNjcmVlblwiLFwiW2RhdGEtZmFuY3lib3gtZnVsbHNjcmVlbl1cIixmdW5jdGlvbih0KXt0LnN0b3BQcm9wYWdhdGlvbigpLHQucHJldmVudERlZmF1bHQoKSxvLnRvZ2dsZSgpfSksZS5vcHRzLmZ1bGxTY3JlZW4mJiEwPT09ZS5vcHRzLmZ1bGxTY3JlZW4uYXV0b1N0YXJ0JiZvLnJlcXVlc3QoKSxlLkZ1bGxTY3JlZW49byk6ZSYmZS4kcmVmcy50b29sYmFyLmZpbmQoXCJbZGF0YS1mYW5jeWJveC1mdWxsc2NyZWVuXVwiKS5oaWRlKCl9LFwiYWZ0ZXJLZXlkb3duLmZiXCI6ZnVuY3Rpb24odCxlLG4sbyxpKXtlJiZlLkZ1bGxTY3JlZW4mJjcwPT09aSYmKG8ucHJldmVudERlZmF1bHQoKSxlLkZ1bGxTY3JlZW4udG9nZ2xlKCkpfSxcImJlZm9yZUNsb3NlLmZiXCI6ZnVuY3Rpb24odCxlKXtlJiZlLkZ1bGxTY3JlZW4mJmUuJHJlZnMuY29udGFpbmVyLmhhc0NsYXNzKFwiZmFuY3lib3gtaXMtZnVsbHNjcmVlblwiKSYmby5leGl0KCl9fSl9KGRvY3VtZW50LGpRdWVyeSksZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1cImZhbmN5Ym94LXRodW1ic1wiO2UuZmFuY3lib3guZGVmYXVsdHM9ZS5leHRlbmQoITAse2J0blRwbDp7dGh1bWJzOic8YnV0dG9uIGRhdGEtZmFuY3lib3gtdGh1bWJzIGNsYXNzPVwiZmFuY3lib3gtYnV0dG9uIGZhbmN5Ym94LWJ1dHRvbi0tdGh1bWJzXCIgdGl0bGU9XCJ7e1RIVU1CU319XCI+PHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIGQ9XCJNMTQuNTkgMTQuNTloMy43NnYzLjc2aC0zLjc2di0zLjc2em0tNC40NyAwaDMuNzZ2My43NmgtMy43NnYtMy43NnptLTQuNDcgMGgzLjc2djMuNzZINS42NXYtMy43NnptOC45NC00LjQ3aDMuNzZ2My43NmgtMy43NnYtMy43NnptLTQuNDcgMGgzLjc2djMuNzZoLTMuNzZ2LTMuNzZ6bS00LjQ3IDBoMy43NnYzLjc2SDUuNjV2LTMuNzZ6bTguOTQtNC40N2gzLjc2djMuNzZoLTMuNzZWNS42NXptLTQuNDcgMGgzLjc2djMuNzZoLTMuNzZWNS42NXptLTQuNDcgMGgzLjc2djMuNzZINS42NVY1LjY1elwiLz48L3N2Zz48L2J1dHRvbj4nfSx0aHVtYnM6e2F1dG9TdGFydDohMSxoaWRlT25DbG9zZTohMCxwYXJlbnRFbDpcIi5mYW5jeWJveC1jb250YWluZXJcIixheGlzOlwieVwifX0sZS5mYW5jeWJveC5kZWZhdWx0cyk7dmFyIG89ZnVuY3Rpb24odCl7dGhpcy5pbml0KHQpfTtlLmV4dGVuZChvLnByb3RvdHlwZSx7JGJ1dHRvbjpudWxsLCRncmlkOm51bGwsJGxpc3Q6bnVsbCxpc1Zpc2libGU6ITEsaXNBY3RpdmU6ITEsaW5pdDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLG49dC5ncm91cCxvPTA7ZS5pbnN0YW5jZT10LGUub3B0cz1uW3QuY3VyckluZGV4XS5vcHRzLnRodW1icyx0LlRodW1icz1lLGUuJGJ1dHRvbj10LiRyZWZzLnRvb2xiYXIuZmluZChcIltkYXRhLWZhbmN5Ym94LXRodW1ic11cIik7Zm9yKHZhciBpPTAsYT1uLmxlbmd0aDtpPGEmJihuW2ldLnRodW1iJiZvKyssIShvPjEpKTtpKyspO28+MSYmZS5vcHRzPyhlLiRidXR0b24ucmVtb3ZlQXR0cihcInN0eWxlXCIpLm9uKFwiY2xpY2tcIixmdW5jdGlvbigpe2UudG9nZ2xlKCl9KSxlLmlzQWN0aXZlPSEwKTplLiRidXR0b24uaGlkZSgpfSxjcmVhdGU6ZnVuY3Rpb24oKXt2YXIgdCxvPXRoaXMsaT1vLmluc3RhbmNlLGE9by5vcHRzLnBhcmVudEVsLHM9W107by4kZ3JpZHx8KG8uJGdyaWQ9ZSgnPGRpdiBjbGFzcz1cIicrbitcIiBcIituK1wiLVwiK28ub3B0cy5heGlzKydcIj48L2Rpdj4nKS5hcHBlbmRUbyhpLiRyZWZzLmNvbnRhaW5lci5maW5kKGEpLmFkZEJhY2soKS5maWx0ZXIoYSkpLG8uJGdyaWQub24oXCJjbGlja1wiLFwiYVwiLGZ1bmN0aW9uKCl7aS5qdW1wVG8oZSh0aGlzKS5hdHRyKFwiZGF0YS1pbmRleFwiKSl9KSksby4kbGlzdHx8KG8uJGxpc3Q9ZSgnPGRpdiBjbGFzcz1cIicrbisnX19saXN0XCI+JykuYXBwZW5kVG8oby4kZ3JpZCkpLGUuZWFjaChpLmdyb3VwLGZ1bmN0aW9uKGUsbil7dD1uLnRodW1iLHR8fFwiaW1hZ2VcIiE9PW4udHlwZXx8KHQ9bi5zcmMpLHMucHVzaCgnPGEgaHJlZj1cImphdmFzY3JpcHQ6O1wiIHRhYmluZGV4PVwiMFwiIGRhdGEtaW5kZXg9XCInK2UrJ1wiJysodCYmdC5sZW5ndGg/JyBzdHlsZT1cImJhY2tncm91bmQtaW1hZ2U6dXJsKCcrdCsnKVwiJzonY2xhc3M9XCJmYW5jeWJveC10aHVtYnMtbWlzc2luZ1wiJykrXCI+PC9hPlwiKX0pLG8uJGxpc3RbMF0uaW5uZXJIVE1MPXMuam9pbihcIlwiKSxcInhcIj09PW8ub3B0cy5heGlzJiZvLiRsaXN0LndpZHRoKHBhcnNlSW50KG8uJGdyaWQuY3NzKFwicGFkZGluZy1yaWdodFwiKSwxMCkraS5ncm91cC5sZW5ndGgqby4kbGlzdC5jaGlsZHJlbigpLmVxKDApLm91dGVyV2lkdGgoITApKX0sZm9jdXM6ZnVuY3Rpb24odCl7dmFyIGUsbixvPXRoaXMsaT1vLiRsaXN0LGE9by4kZ3JpZDtvLmluc3RhbmNlLmN1cnJlbnQmJihlPWkuY2hpbGRyZW4oKS5yZW1vdmVDbGFzcyhcImZhbmN5Ym94LXRodW1icy1hY3RpdmVcIikuZmlsdGVyKCdbZGF0YS1pbmRleD1cIicrby5pbnN0YW5jZS5jdXJyZW50LmluZGV4KydcIl0nKS5hZGRDbGFzcyhcImZhbmN5Ym94LXRodW1icy1hY3RpdmVcIiksbj1lLnBvc2l0aW9uKCksXCJ5XCI9PT1vLm9wdHMuYXhpcyYmKG4udG9wPDB8fG4udG9wPmkuaGVpZ2h0KCktZS5vdXRlckhlaWdodCgpKT9pLnN0b3AoKS5hbmltYXRlKHtzY3JvbGxUb3A6aS5zY3JvbGxUb3AoKStuLnRvcH0sdCk6XCJ4XCI9PT1vLm9wdHMuYXhpcyYmKG4ubGVmdDxhLnNjcm9sbExlZnQoKXx8bi5sZWZ0PmEuc2Nyb2xsTGVmdCgpKyhhLndpZHRoKCktZS5vdXRlcldpZHRoKCkpKSYmaS5wYXJlbnQoKS5zdG9wKCkuYW5pbWF0ZSh7c2Nyb2xsTGVmdDpuLmxlZnR9LHQpKX0sdXBkYXRlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0Lmluc3RhbmNlLiRyZWZzLmNvbnRhaW5lci50b2dnbGVDbGFzcyhcImZhbmN5Ym94LXNob3ctdGh1bWJzXCIsdGhpcy5pc1Zpc2libGUpLHQuaXNWaXNpYmxlPyh0LiRncmlkfHx0LmNyZWF0ZSgpLHQuaW5zdGFuY2UudHJpZ2dlcihcIm9uVGh1bWJzU2hvd1wiKSx0LmZvY3VzKDApKTp0LiRncmlkJiZ0Lmluc3RhbmNlLnRyaWdnZXIoXCJvblRodW1ic0hpZGVcIiksdC5pbnN0YW5jZS51cGRhdGUoKX0saGlkZTpmdW5jdGlvbigpe3RoaXMuaXNWaXNpYmxlPSExLHRoaXMudXBkYXRlKCl9LHNob3c6ZnVuY3Rpb24oKXt0aGlzLmlzVmlzaWJsZT0hMCx0aGlzLnVwZGF0ZSgpfSx0b2dnbGU6ZnVuY3Rpb24oKXt0aGlzLmlzVmlzaWJsZT0hdGhpcy5pc1Zpc2libGUsdGhpcy51cGRhdGUoKX19KSxlKHQpLm9uKHtcIm9uSW5pdC5mYlwiOmZ1bmN0aW9uKHQsZSl7dmFyIG47ZSYmIWUuVGh1bWJzJiYobj1uZXcgbyhlKSxuLmlzQWN0aXZlJiYhMD09PW4ub3B0cy5hdXRvU3RhcnQmJm4uc2hvdygpKX0sXCJiZWZvcmVTaG93LmZiXCI6ZnVuY3Rpb24odCxlLG4sbyl7dmFyIGk9ZSYmZS5UaHVtYnM7aSYmaS5pc1Zpc2libGUmJmkuZm9jdXMobz8wOjI1MCl9LFwiYWZ0ZXJLZXlkb3duLmZiXCI6ZnVuY3Rpb24odCxlLG4sbyxpKXt2YXIgYT1lJiZlLlRodW1iczthJiZhLmlzQWN0aXZlJiY3MT09PWkmJihvLnByZXZlbnREZWZhdWx0KCksYS50b2dnbGUoKSl9LFwiYmVmb3JlQ2xvc2UuZmJcIjpmdW5jdGlvbih0LGUpe3ZhciBuPWUmJmUuVGh1bWJzO24mJm4uaXNWaXNpYmxlJiYhMSE9PW4ub3B0cy5oaWRlT25DbG9zZSYmbi4kZ3JpZC5oaWRlKCl9fSl9KGRvY3VtZW50LGpRdWVyeSksZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe3ZhciBlPXtcIiZcIjpcIiZhbXA7XCIsXCI8XCI6XCImbHQ7XCIsXCI+XCI6XCImZ3Q7XCIsJ1wiJzpcIiZxdW90O1wiLFwiJ1wiOlwiJiMzOTtcIixcIi9cIjpcIiYjeDJGO1wiLFwiYFwiOlwiJiN4NjA7XCIsXCI9XCI6XCImI3gzRDtcIn07cmV0dXJuIFN0cmluZyh0KS5yZXBsYWNlKC9bJjw+XCInYD1cXC9dL2csZnVuY3Rpb24odCl7cmV0dXJuIGVbdF19KX1lLmV4dGVuZCghMCxlLmZhbmN5Ym94LmRlZmF1bHRzLHtidG5UcGw6e3NoYXJlOic8YnV0dG9uIGRhdGEtZmFuY3lib3gtc2hhcmUgY2xhc3M9XCJmYW5jeWJveC1idXR0b24gZmFuY3lib3gtYnV0dG9uLS1zaGFyZVwiIHRpdGxlPVwie3tTSEFSRX19XCI+PHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIGQ9XCJNMi41NSAxOWMxLjQtOC40IDkuMS05LjggMTEuOS05LjhWNWw3IDctNyA2LjN2LTMuNWMtMi44IDAtMTAuNSAyLjEtMTEuOSA0LjJ6XCIvPjwvc3ZnPjwvYnV0dG9uPid9LHNoYXJlOnt1cmw6ZnVuY3Rpb24odCxlKXtyZXR1cm4hdC5jdXJyZW50SGFzaCYmXCJpbmxpbmVcIiE9PWUudHlwZSYmXCJodG1sXCIhPT1lLnR5cGUmJihlLm9yaWdTcmN8fGUuc3JjKXx8d2luZG93LmxvY2F0aW9ufSxcbnRwbDonPGRpdiBjbGFzcz1cImZhbmN5Ym94LXNoYXJlXCI+PGgxPnt7U0hBUkV9fTwvaDE+PHA+PGEgY2xhc3M9XCJmYW5jeWJveC1zaGFyZV9fYnV0dG9uIGZhbmN5Ym94LXNoYXJlX19idXR0b24tLWZiXCIgaHJlZj1cImh0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS9zaGFyZXIvc2hhcmVyLnBocD91PXt7dXJsfX1cIj48c3ZnIHZpZXdCb3g9XCIwIDAgNTEyIDUxMlwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwibTI4NyA0NTZ2LTI5OWMwLTIxIDYtMzUgMzUtMzVoMzh2LTYzYy03LTEtMjktMy01NS0zLTU0IDAtOTEgMzMtOTEgOTR2MzA2bTE0My0yNTRoLTIwNXY3MmgxOTZcIiAvPjwvc3ZnPjxzcGFuPkZhY2Vib29rPC9zcGFuPjwvYT48YSBjbGFzcz1cImZhbmN5Ym94LXNoYXJlX19idXR0b24gZmFuY3lib3gtc2hhcmVfX2J1dHRvbi0tdHdcIiBocmVmPVwiaHR0cHM6Ly90d2l0dGVyLmNvbS9pbnRlbnQvdHdlZXQ/dXJsPXt7dXJsfX0mdGV4dD17e2Rlc2NyfX1cIj48c3ZnIHZpZXdCb3g9XCIwIDAgNTEyIDUxMlwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwibTQ1NiAxMzNjLTE0IDctMzEgMTEtNDcgMTMgMTctMTAgMzAtMjcgMzctNDYtMTUgMTAtMzQgMTYtNTIgMjAtNjEtNjItMTU3LTctMTQxIDc1LTY4LTMtMTI5LTM1LTE2OS04NS0yMiAzNy0xMSA4NiAyNiAxMDktMTMgMC0yNi00LTM3LTkgMCAzOSAyOCA3MiA2NSA4MC0xMiAzLTI1IDQtMzcgMiAxMCAzMyA0MSA1NyA3NyA1Ny00MiAzMC03NyAzOC0xMjIgMzQgMTcwIDExMSAzNzgtMzIgMzU5LTIwOCAxNi0xMSAzMC0yNSA0MS00MnpcIiAvPjwvc3ZnPjxzcGFuPlR3aXR0ZXI8L3NwYW4+PC9hPjxhIGNsYXNzPVwiZmFuY3lib3gtc2hhcmVfX2J1dHRvbiBmYW5jeWJveC1zaGFyZV9fYnV0dG9uLS1wdFwiIGhyZWY9XCJodHRwczovL3d3dy5waW50ZXJlc3QuY29tL3Bpbi9jcmVhdGUvYnV0dG9uLz91cmw9e3t1cmx9fSZkZXNjcmlwdGlvbj17e2Rlc2NyfX0mbWVkaWE9e3ttZWRpYX19XCI+PHN2ZyB2aWV3Qm94PVwiMCAwIDUxMiA1MTJcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIm0yNjUgNTZjLTEwOSAwLTE2NCA3OC0xNjQgMTQ0IDAgMzkgMTUgNzQgNDcgODcgNSAyIDEwIDAgMTItNWw0LTE5YzItNiAxLTgtMy0xMy05LTExLTE1LTI1LTE1LTQ1IDAtNTggNDMtMTEwIDExMy0xMTAgNjIgMCA5NiAzOCA5NiA4OCAwIDY3LTMwIDEyMi03MyAxMjItMjQgMC00Mi0xOS0zNi00NCA2LTI5IDIwLTYwIDIwLTgxIDAtMTktMTAtMzUtMzEtMzUtMjUgMC00NCAyNi00NCA2MCAwIDIxIDcgMzYgNyAzNmwtMzAgMTI1Yy04IDM3LTEgODMgMCA4NyAwIDMgNCA0IDUgMiAyLTMgMzItMzkgNDItNzVsMTYtNjRjOCAxNiAzMSAyOSA1NiAyOSA3NCAwIDEyNC02NyAxMjQtMTU3IDAtNjktNTgtMTMyLTE0Ni0xMzJ6XCIgZmlsbD1cIiNmZmZcIi8+PC9zdmc+PHNwYW4+UGludGVyZXN0PC9zcGFuPjwvYT48L3A+PHA+PGlucHV0IGNsYXNzPVwiZmFuY3lib3gtc2hhcmVfX2lucHV0XCIgdHlwZT1cInRleHRcIiB2YWx1ZT1cInt7dXJsX3Jhd319XCIgb25jbGljaz1cInNlbGVjdCgpXCIgLz48L3A+PC9kaXY+J319KSxlKHQpLm9uKFwiY2xpY2tcIixcIltkYXRhLWZhbmN5Ym94LXNoYXJlXVwiLGZ1bmN0aW9uKCl7dmFyIHQsbyxpPWUuZmFuY3lib3guZ2V0SW5zdGFuY2UoKSxhPWkuY3VycmVudHx8bnVsbDthJiYoXCJmdW5jdGlvblwiPT09ZS50eXBlKGEub3B0cy5zaGFyZS51cmwpJiYodD1hLm9wdHMuc2hhcmUudXJsLmFwcGx5KGEsW2ksYV0pKSxvPWEub3B0cy5zaGFyZS50cGwucmVwbGFjZSgvXFx7XFx7bWVkaWFcXH1cXH0vZyxcImltYWdlXCI9PT1hLnR5cGU/ZW5jb2RlVVJJQ29tcG9uZW50KGEuc3JjKTpcIlwiKS5yZXBsYWNlKC9cXHtcXHt1cmxcXH1cXH0vZyxlbmNvZGVVUklDb21wb25lbnQodCkpLnJlcGxhY2UoL1xce1xce3VybF9yYXdcXH1cXH0vZyxuKHQpKS5yZXBsYWNlKC9cXHtcXHtkZXNjclxcfVxcfS9nLGkuJGNhcHRpb24/ZW5jb2RlVVJJQ29tcG9uZW50KGkuJGNhcHRpb24udGV4dCgpKTpcIlwiKSxlLmZhbmN5Ym94Lm9wZW4oe3NyYzppLnRyYW5zbGF0ZShpLG8pLHR5cGU6XCJodG1sXCIsb3B0czp7dG91Y2g6ITEsYW5pbWF0aW9uRWZmZWN0OiExLGFmdGVyTG9hZDpmdW5jdGlvbih0LGUpe2kuJHJlZnMuY29udGFpbmVyLm9uZShcImJlZm9yZUNsb3NlLmZiXCIsZnVuY3Rpb24oKXt0LmNsb3NlKG51bGwsMCl9KSxlLiRjb250ZW50LmZpbmQoXCIuZmFuY3lib3gtc2hhcmVfX2J1dHRvblwiKS5jbGljayhmdW5jdGlvbigpe3JldHVybiB3aW5kb3cub3Blbih0aGlzLmhyZWYsXCJTaGFyZVwiLFwid2lkdGg9NTUwLCBoZWlnaHQ9NDUwXCIpLCExfSl9LG1vYmlsZTp7YXV0b0ZvY3VzOiExfX19KSl9KX0oZG9jdW1lbnQsalF1ZXJ5KSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbygpe3ZhciBlPXQubG9jYXRpb24uaGFzaC5zdWJzdHIoMSksbj1lLnNwbGl0KFwiLVwiKSxvPW4ubGVuZ3RoPjEmJi9eXFwrP1xcZCskLy50ZXN0KG5bbi5sZW5ndGgtMV0pP3BhcnNlSW50KG4ucG9wKC0xKSwxMCl8fDE6MSxpPW4uam9pbihcIi1cIik7cmV0dXJue2hhc2g6ZSxpbmRleDpvPDE/MTpvLGdhbGxlcnk6aX19ZnVuY3Rpb24gaSh0KXtcIlwiIT09dC5nYWxsZXJ5JiZuKFwiW2RhdGEtZmFuY3lib3g9J1wiK24uZXNjYXBlU2VsZWN0b3IodC5nYWxsZXJ5KStcIiddXCIpLmVxKHQuaW5kZXgtMSkuZm9jdXMoKS50cmlnZ2VyKFwiY2xpY2suZmItc3RhcnRcIil9ZnVuY3Rpb24gYSh0KXt2YXIgZSxuO3JldHVybiEhdCYmKGU9dC5jdXJyZW50P3QuY3VycmVudC5vcHRzOnQub3B0cyxcIlwiIT09KG49ZS5oYXNofHwoZS4kb3JpZz9lLiRvcmlnLmRhdGEoXCJmYW5jeWJveFwiKXx8ZS4kb3JpZy5kYXRhKFwiZmFuY3lib3gtdHJpZ2dlclwiKTpcIlwiKSkmJm4pfW4uZXNjYXBlU2VsZWN0b3J8fChuLmVzY2FwZVNlbGVjdG9yPWZ1bmN0aW9uKHQpe3JldHVybih0K1wiXCIpLnJlcGxhY2UoLyhbXFwwLVxceDFmXFx4N2ZdfF4tP1xcZCl8Xi0kfFteXFx4ODAtXFx1RkZGRlxcdy1dL2csZnVuY3Rpb24odCxlKXtyZXR1cm4gZT9cIlxcMFwiPT09dD9cIu+/vVwiOnQuc2xpY2UoMCwtMSkrXCJcXFxcXCIrdC5jaGFyQ29kZUF0KHQubGVuZ3RoLTEpLnRvU3RyaW5nKDE2KStcIiBcIjpcIlxcXFxcIit0fSl9KSxuKGZ1bmN0aW9uKCl7ITEhPT1uLmZhbmN5Ym94LmRlZmF1bHRzLmhhc2gmJihuKGUpLm9uKHtcIm9uSW5pdC5mYlwiOmZ1bmN0aW9uKHQsZSl7dmFyIG4saTshMSE9PWUuZ3JvdXBbZS5jdXJySW5kZXhdLm9wdHMuaGFzaCYmKG49bygpLChpPWEoZSkpJiZuLmdhbGxlcnkmJmk9PW4uZ2FsbGVyeSYmKGUuY3VyckluZGV4PW4uaW5kZXgtMSkpfSxcImJlZm9yZVNob3cuZmJcIjpmdW5jdGlvbihuLG8saSxzKXt2YXIgcjtpJiYhMSE9PWkub3B0cy5oYXNoJiYocj1hKG8pKSYmKG8uY3VycmVudEhhc2g9cisoby5ncm91cC5sZW5ndGg+MT9cIi1cIisoaS5pbmRleCsxKTpcIlwiKSx0LmxvY2F0aW9uLmhhc2ghPT1cIiNcIitvLmN1cnJlbnRIYXNoJiYocyYmIW8ub3JpZ0hhc2gmJihvLm9yaWdIYXNoPXQubG9jYXRpb24uaGFzaCksby5oYXNoVGltZXImJmNsZWFyVGltZW91dChvLmhhc2hUaW1lciksby5oYXNoVGltZXI9c2V0VGltZW91dChmdW5jdGlvbigpe1wicmVwbGFjZVN0YXRlXCJpbiB0Lmhpc3Rvcnk/KHQuaGlzdG9yeVtzP1wicHVzaFN0YXRlXCI6XCJyZXBsYWNlU3RhdGVcIl0oe30sZS50aXRsZSx0LmxvY2F0aW9uLnBhdGhuYW1lK3QubG9jYXRpb24uc2VhcmNoK1wiI1wiK28uY3VycmVudEhhc2gpLHMmJihvLmhhc0NyZWF0ZWRIaXN0b3J5PSEwKSk6dC5sb2NhdGlvbi5oYXNoPW8uY3VycmVudEhhc2gsby5oYXNoVGltZXI9bnVsbH0sMzAwKSkpfSxcImJlZm9yZUNsb3NlLmZiXCI6ZnVuY3Rpb24obixvLGkpe2kmJiExIT09aS5vcHRzLmhhc2gmJihjbGVhclRpbWVvdXQoby5oYXNoVGltZXIpLG8uY3VycmVudEhhc2gmJm8uaGFzQ3JlYXRlZEhpc3Rvcnk/dC5oaXN0b3J5LmJhY2soKTpvLmN1cnJlbnRIYXNoJiYoXCJyZXBsYWNlU3RhdGVcImluIHQuaGlzdG9yeT90Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHt9LGUudGl0bGUsdC5sb2NhdGlvbi5wYXRobmFtZSt0LmxvY2F0aW9uLnNlYXJjaCsoby5vcmlnSGFzaHx8XCJcIikpOnQubG9jYXRpb24uaGFzaD1vLm9yaWdIYXNoKSxvLmN1cnJlbnRIYXNoPW51bGwpfX0pLG4odCkub24oXCJoYXNoY2hhbmdlLmZiXCIsZnVuY3Rpb24oKXt2YXIgdD1vKCksZT1udWxsO24uZWFjaChuKFwiLmZhbmN5Ym94LWNvbnRhaW5lclwiKS5nZXQoKS5yZXZlcnNlKCksZnVuY3Rpb24odCxvKXt2YXIgaT1uKG8pLmRhdGEoXCJGYW5jeUJveFwiKTtpZihpJiZpLmN1cnJlbnRIYXNoKXJldHVybiBlPWksITF9KSxlP2UuY3VycmVudEhhc2g9PT10LmdhbGxlcnkrXCItXCIrdC5pbmRleHx8MT09PXQuaW5kZXgmJmUuY3VycmVudEhhc2g9PXQuZ2FsbGVyeXx8KGUuY3VycmVudEhhc2g9bnVsbCxlLmNsb3NlKCkpOlwiXCIhPT10LmdhbGxlcnkmJmkodCl9KSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bi5mYW5jeWJveC5nZXRJbnN0YW5jZSgpfHxpKG8oKSl9LDUwKSl9KX0od2luZG93LGRvY3VtZW50LGpRdWVyeSksZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjt2YXIgbj0obmV3IERhdGUpLmdldFRpbWUoKTtlKHQpLm9uKHtcIm9uSW5pdC5mYlwiOmZ1bmN0aW9uKHQsZSxvKXtlLiRyZWZzLnN0YWdlLm9uKFwibW91c2V3aGVlbCBET01Nb3VzZVNjcm9sbCB3aGVlbCBNb3pNb3VzZVBpeGVsU2Nyb2xsXCIsZnVuY3Rpb24odCl7dmFyIG89ZS5jdXJyZW50LGk9KG5ldyBEYXRlKS5nZXRUaW1lKCk7ZS5ncm91cC5sZW5ndGg8Mnx8ITE9PT1vLm9wdHMud2hlZWx8fFwiYXV0b1wiPT09by5vcHRzLndoZWVsJiZcImltYWdlXCIhPT1vLnR5cGV8fCh0LnByZXZlbnREZWZhdWx0KCksdC5zdG9wUHJvcGFnYXRpb24oKSxvLiRzbGlkZS5oYXNDbGFzcyhcImZhbmN5Ym94LWFuaW1hdGVkXCIpfHwodD10Lm9yaWdpbmFsRXZlbnR8fHQsaS1uPDI1MHx8KG49aSxlWygtdC5kZWx0YVl8fC10LmRlbHRhWHx8dC53aGVlbERlbHRhfHwtdC5kZXRhaWwpPDA/XCJuZXh0XCI6XCJwcmV2aW91c1wiXSgpKSkpfSl9fSl9KGRvY3VtZW50LGpRdWVyeSk7IiwiLyoqXG4gKiBAbGljZW5zZVxuICogVmlkZW8uanMgOC4zLjAgPGh0dHA6Ly92aWRlb2pzLmNvbS8+XG4gKiBDb3B5cmlnaHQgQnJpZ2h0Y292ZSwgSW5jLiA8aHR0cHM6Ly93d3cuYnJpZ2h0Y292ZS5jb20vPlxuICogQXZhaWxhYmxlIHVuZGVyIEFwYWNoZSBMaWNlbnNlIFZlcnNpb24gMi4wXG4gKiA8aHR0cHM6Ly9naXRodWIuY29tL3ZpZGVvanMvdmlkZW8uanMvYmxvYi9tYWluL0xJQ0VOU0U+XG4gKlxuICogSW5jbHVkZXMgdnR0LmpzIDxodHRwczovL2dpdGh1Yi5jb20vbW96aWxsYS92dHQuanM+XG4gKiBBdmFpbGFibGUgdW5kZXIgQXBhY2hlIExpY2Vuc2UgVmVyc2lvbiAyLjBcbiAqIDxodHRwczovL2dpdGh1Yi5jb20vbW96aWxsYS92dHQuanMvYmxvYi9tYWluL0xJQ0VOU0U+XG4gKi9cbiFmdW5jdGlvbihlLHQpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPXQoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKHQpOihlPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6ZXx8c2VsZikudmlkZW9qcz10KCl9KHRoaXMsZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt2YXIgUj1cIjguMy4wXCI7Y29uc3QgVT17fSxCPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIFVbZV09VVtlXXx8W10sdCYmKFVbZV09VVtlXS5jb25jYXQodCkpLFVbZV19O2Z1bmN0aW9uIEYoZSx0KXtyZXR1cm4hKCh0PUIoZSkuaW5kZXhPZih0KSk8PS0xfHwoVVtlXT1VW2VdLnNsaWNlKCksVVtlXS5zcGxpY2UodCwxKSwwKSl9Y29uc3Qgaj17cHJlZml4ZWQ6ITB9O3ZhciBIPVtbXCJyZXF1ZXN0RnVsbHNjcmVlblwiLFwiZXhpdEZ1bGxzY3JlZW5cIixcImZ1bGxzY3JlZW5FbGVtZW50XCIsXCJmdWxsc2NyZWVuRW5hYmxlZFwiLFwiZnVsbHNjcmVlbmNoYW5nZVwiLFwiZnVsbHNjcmVlbmVycm9yXCIsXCJmdWxsc2NyZWVuXCJdLFtcIndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuXCIsXCJ3ZWJraXRFeGl0RnVsbHNjcmVlblwiLFwid2Via2l0RnVsbHNjcmVlbkVsZW1lbnRcIixcIndlYmtpdEZ1bGxzY3JlZW5FbmFibGVkXCIsXCJ3ZWJraXRmdWxsc2NyZWVuY2hhbmdlXCIsXCJ3ZWJraXRmdWxsc2NyZWVuZXJyb3JcIixcIi13ZWJraXQtZnVsbC1zY3JlZW5cIl0sW1wibW96UmVxdWVzdEZ1bGxTY3JlZW5cIixcIm1vekNhbmNlbEZ1bGxTY3JlZW5cIixcIm1vekZ1bGxTY3JlZW5FbGVtZW50XCIsXCJtb3pGdWxsU2NyZWVuRW5hYmxlZFwiLFwibW96ZnVsbHNjcmVlbmNoYW5nZVwiLFwibW96ZnVsbHNjcmVlbmVycm9yXCIsXCItbW96LWZ1bGwtc2NyZWVuXCJdLFtcIm1zUmVxdWVzdEZ1bGxzY3JlZW5cIixcIm1zRXhpdEZ1bGxzY3JlZW5cIixcIm1zRnVsbHNjcmVlbkVsZW1lbnRcIixcIm1zRnVsbHNjcmVlbkVuYWJsZWRcIixcIk1TRnVsbHNjcmVlbkNoYW5nZVwiLFwiTVNGdWxsc2NyZWVuRXJyb3JcIixcIi1tcy1mdWxsc2NyZWVuXCJdXSxxPUhbMF07bGV0IFY7Zm9yKGxldCBlPTA7ZTxILmxlbmd0aDtlKyspaWYoSFtlXVsxXWluIGRvY3VtZW50KXtWPUhbZV07YnJlYWt9aWYoVil7Zm9yKGxldCBlPTA7ZTxWLmxlbmd0aDtlKyspaltxW2VdXT1WW2VdO2oucHJlZml4ZWQ9VlswXSE9PXFbMF19bGV0IGw9W107ZnVuY3Rpb24gJChlKXtyZXR1cm4gSyhlKT9PYmplY3Qua2V5cyhlKTpbXX1jb25zdCBkPWZ1bmN0aW9uIHQoaSl7bGV0IHM9XCJpbmZvXCIscjtmdW5jdGlvbiBuKC4uLmUpe3IoXCJsb2dcIixzLGUpfXZhciBhLG87cmV0dXJuIHI9KGE9aSwodCxpLHMpPT57dmFyIGUsaT1vLmxldmVsc1tpXSxyPW5ldyBSZWdFeHAoYF4oJHtpfSkkYCk7aWYoXCJsb2dcIiE9PXQmJnMudW5zaGlmdCh0LnRvVXBwZXJDYXNlKCkrXCI6XCIpLHMudW5zaGlmdChhK1wiOlwiKSxsJiYobC5wdXNoKFtdLmNvbmNhdChzKSksZT1sLmxlbmd0aC0xZTMsbC5zcGxpY2UoMCwwPGU/ZTowKSksd2luZG93LmNvbnNvbGUpe2xldCBlPXdpbmRvdy5jb25zb2xlW3RdOyhlPWV8fFwiZGVidWdcIiE9PXQ/ZTp3aW5kb3cuY29uc29sZS5pbmZvfHx3aW5kb3cuY29uc29sZS5sb2cpJiZpJiZyLnRlc3QodCkmJmVbQXJyYXkuaXNBcnJheShzKT9cImFwcGx5XCI6XCJjYWxsXCJdKHdpbmRvdy5jb25zb2xlLHMpfX0pLChvPW4pLmNyZWF0ZUxvZ2dlcj1lPT50KGkrXCI6IFwiK2UpLG4ubGV2ZWxzPXthbGw6XCJkZWJ1Z3xsb2d8d2FybnxlcnJvclwiLG9mZjpcIlwiLGRlYnVnOlwiZGVidWd8bG9nfHdhcm58ZXJyb3JcIixpbmZvOlwibG9nfHdhcm58ZXJyb3JcIix3YXJuOlwid2FybnxlcnJvclwiLGVycm9yOlwiZXJyb3JcIixERUZBVUxUOnN9LG4ubGV2ZWw9ZT0+e2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXtpZighbi5sZXZlbHMuaGFzT3duUHJvcGVydHkoZSkpdGhyb3cgbmV3IEVycm9yKGBcIiR7ZX1cIiBpbiBub3QgYSB2YWxpZCBsb2cgbGV2ZWxgKTtzPWV9cmV0dXJuIHN9LG4uaGlzdG9yeT0oKT0+bD9bXS5jb25jYXQobCk6W10sbi5oaXN0b3J5LmZpbHRlcj10PT4obHx8W10pLmZpbHRlcihlPT5uZXcgUmVnRXhwKGAuKiR7dH0uKmApLnRlc3QoZVswXSkpLG4uaGlzdG9yeS5jbGVhcj0oKT0+e2wmJihsLmxlbmd0aD0wKX0sbi5oaXN0b3J5LmRpc2FibGU9KCk9PntudWxsIT09bCYmKGwubGVuZ3RoPTAsbD1udWxsKX0sbi5oaXN0b3J5LmVuYWJsZT0oKT0+e251bGw9PT1sJiYobD1bXSl9LG4uZXJyb3I9KC4uLmUpPT5yKFwiZXJyb3JcIixzLGUpLG4ud2Fybj0oLi4uZSk9PnIoXCJ3YXJuXCIscyxlKSxuLmRlYnVnPSguLi5lKT0+cihcImRlYnVnXCIscyxlKSxufShcIlZJREVPSlNcIiksVz1kLmNyZWF0ZUxvZ2dlcixHPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7ZnVuY3Rpb24geih0LGkpeyQodCkuZm9yRWFjaChlPT5pKHRbZV0sZSkpfWZ1bmN0aW9uIFgoaSxzLGU9MCl7cmV0dXJuICQoaSkucmVkdWNlKChlLHQpPT5zKGUsaVt0XSx0KSxlKX1mdW5jdGlvbiBLKGUpe3JldHVybiEhZSYmXCJvYmplY3RcIj09dHlwZW9mIGV9ZnVuY3Rpb24gWShlKXtyZXR1cm4gSyhlKSYmXCJbb2JqZWN0IE9iamVjdF1cIj09PUcuY2FsbChlKSYmZS5jb25zdHJ1Y3Rvcj09PU9iamVjdH1mdW5jdGlvbiBoKC4uLmUpe2NvbnN0IGk9e307cmV0dXJuIGUuZm9yRWFjaChlPT57ZSYmeihlLChlLHQpPT57WShlKT8oWShpW3RdKXx8KGlbdF09e30pLGlbdF09aChpW3RdLGUpKTppW3RdPWV9KX0pLGl9ZnVuY3Rpb24gUSh0LGkscyxlPSEwKXtjb25zdCByPWU9Pk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGkse3ZhbHVlOmUsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMH0pO3ZhciBuPXtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCxnZXQoKXt2YXIgZT1zKCk7cmV0dXJuIHIoZSksZX19O3JldHVybiBlJiYobi5zZXQ9ciksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsaSxuKX12YXIgSj1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxlYWNoOnoscmVkdWNlOlgsaXNPYmplY3Q6Syxpc1BsYWluOlksbWVyZ2U6aCxkZWZpbmVMYXp5UHJvcGVydHk6UX0pO2xldCBaPSExLGVlPW51bGwsdGU9ITEsaWUsc2U9ITEscmU9ITEsbmU9ITEsYWU9ITEsb2U9bnVsbCxsZT1udWxsLGRlPW51bGwsaGU9ITEsdWU9ITEsY2U9ITEscGU9ITE7Y29uc3QgbWU9Qm9vbGVhbihfZSgpJiYoXCJvbnRvdWNoc3RhcnRcImluIHdpbmRvd3x8d2luZG93Lm5hdmlnYXRvci5tYXhUb3VjaFBvaW50c3x8d2luZG93LkRvY3VtZW50VG91Y2gmJndpbmRvdy5kb2N1bWVudCBpbnN0YW5jZW9mIHdpbmRvdy5Eb2N1bWVudFRvdWNoKSk7dmFyIGdlLGU9d2luZG93Lm5hdmlnYXRvciYmd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnREYXRhO2lmKGUmJih0ZT1cIkFuZHJvaWRcIj09PWUucGxhdGZvcm0scmU9Qm9vbGVhbihlLmJyYW5kcy5maW5kKGU9PlwiTWljcm9zb2Z0IEVkZ2VcIj09PWUuYnJhbmQpKSxuZT1Cb29sZWFuKGUuYnJhbmRzLmZpbmQoZT0+XCJDaHJvbWl1bVwiPT09ZS5icmFuZCkpLGFlPSFyZSYmbmUsb2U9bGU9KGUuYnJhbmRzLmZpbmQoZT0+XCJDaHJvbWl1bVwiPT09ZS5icmFuZCl8fHt9KS52ZXJzaW9ufHxudWxsLHVlPVwiV2luZG93c1wiPT09ZS5wbGF0Zm9ybSksIW5lKXtjb25zdCBNPXdpbmRvdy5uYXZpZ2F0b3ImJndpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50fHxcIlwiO1o9L2lQb2QvaS50ZXN0KE0pLGVlPShlPU0ubWF0Y2goL09TIChcXGQrKV8vaSkpJiZlWzFdP2VbMV06bnVsbCx0ZT0vQW5kcm9pZC9pLnRlc3QoTSksaWU9KGU9TS5tYXRjaCgvQW5kcm9pZCAoXFxkKykoPzpcXC4oXFxkKykpPyg/OlxcLihcXGQrKSkqL2kpKT8obXQ9ZVsxXSYmcGFyc2VGbG9hdChlWzFdKSxnZT1lWzJdJiZwYXJzZUZsb2F0KGVbMl0pLG10JiZnZT9wYXJzZUZsb2F0KGVbMV0rXCIuXCIrZVsyXSk6bXR8fG51bGwpOm51bGwsc2U9L0ZpcmVmb3gvaS50ZXN0KE0pLHJlPS9FZGcvaS50ZXN0KE0pLG5lPS9DaHJvbWUvaS50ZXN0KE0pfHwvQ3JpT1MvaS50ZXN0KE0pLGFlPSFyZSYmbmUsb2U9bGU9KGdlPU0ubWF0Y2goLyhDaHJvbWV8Q3JpT1MpXFwvKFxcZCspLykpJiZnZVsyXT9wYXJzZUZsb2F0KGdlWzJdKTpudWxsLGRlPWZ1bmN0aW9uKCl7dmFyIGU9L01TSUVcXHMoXFxkKylcXC5cXGQvLmV4ZWMoTSk7bGV0IHQ9ZSYmcGFyc2VGbG9hdChlWzFdKTtyZXR1cm4gdD0hdCYmL1RyaWRlbnRcXC83LjAvaS50ZXN0KE0pJiYvcnY6MTEuMC8udGVzdChNKT8xMTp0fSgpLGhlPS9TYWZhcmkvaS50ZXN0KE0pJiYhYWUmJiF0ZSYmIXJlLHVlPS9XaW5kb3dzL2kudGVzdChNKSxjZT0vaVBhZC9pLnRlc3QoTSl8fGhlJiZtZSYmIS9pUGhvbmUvaS50ZXN0KE0pLHBlPS9pUGhvbmUvaS50ZXN0KE0pJiYhY2V9Y29uc3QgdT1wZXx8Y2V8fFosZmU9KGhlfHx1KSYmIWFlO2U9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsZ2V0IElTX0lQT0QoKXtyZXR1cm4gWn0sZ2V0IElPU19WRVJTSU9OKCl7cmV0dXJuIGVlfSxnZXQgSVNfQU5EUk9JRCgpe3JldHVybiB0ZX0sZ2V0IEFORFJPSURfVkVSU0lPTigpe3JldHVybiBpZX0sZ2V0IElTX0ZJUkVGT1goKXtyZXR1cm4gc2V9LGdldCBJU19FREdFKCl7cmV0dXJuIHJlfSxnZXQgSVNfQ0hST01JVU0oKXtyZXR1cm4gbmV9LGdldCBJU19DSFJPTUUoKXtyZXR1cm4gYWV9LGdldCBDSFJPTUlVTV9WRVJTSU9OKCl7cmV0dXJuIG9lfSxnZXQgQ0hST01FX1ZFUlNJT04oKXtyZXR1cm4gbGV9LGdldCBJRV9WRVJTSU9OKCl7cmV0dXJuIGRlfSxnZXQgSVNfU0FGQVJJKCl7cmV0dXJuIGhlfSxnZXQgSVNfV0lORE9XUygpe3JldHVybiB1ZX0sZ2V0IElTX0lQQUQoKXtyZXR1cm4gY2V9LGdldCBJU19JUEhPTkUoKXtyZXR1cm4gcGV9LFRPVUNIX0VOQUJMRUQ6bWUsSVNfSU9TOnUsSVNfQU5ZX1NBRkFSSTpmZX0pO2Z1bmN0aW9uIHllKGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlJiZCb29sZWFuKGUudHJpbSgpKX1mdW5jdGlvbiBfZSgpe3JldHVybiBkb2N1bWVudD09PXdpbmRvdy5kb2N1bWVudH1mdW5jdGlvbiB2ZShlKXtyZXR1cm4gSyhlKSYmMT09PWUubm9kZVR5cGV9ZnVuY3Rpb24gYmUoKXt0cnl7cmV0dXJuIHdpbmRvdy5wYXJlbnQhPT13aW5kb3cuc2VsZn1jYXRjaChlKXtyZXR1cm4hMH19ZnVuY3Rpb24gVGUoaSl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHllKGUpPyh0PXZlKHQ9eWUodCk/ZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0KTp0KT90OmRvY3VtZW50KVtpXSYmdFtpXShlKTpkb2N1bWVudFtpXShudWxsKX19ZnVuY3Rpb24gbyhlPVwiZGl2XCIsaT17fSx0PXt9LHMpe2NvbnN0IHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChlKTtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoaSkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1pW2VdO1widGV4dENvbnRlbnRcIj09PWU/U2Uocix0KTpyW2VdPT09dCYmXCJ0YWJJbmRleFwiIT09ZXx8KHJbZV09dCl9KSxPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0KS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3Iuc2V0QXR0cmlidXRlKGUsdFtlXSl9KSxzJiZIZShyLHMpLHJ9ZnVuY3Rpb24gU2UoZSx0KXtyZXR1cm5cInVuZGVmaW5lZFwiPT10eXBlb2YgZS50ZXh0Q29udGVudD9lLmlubmVyVGV4dD10OmUudGV4dENvbnRlbnQ9dCxlfWZ1bmN0aW9uIHdlKGUsdCl7dC5maXJzdENoaWxkP3QuaW5zZXJ0QmVmb3JlKGUsdC5maXJzdENoaWxkKTp0LmFwcGVuZENoaWxkKGUpfWZ1bmN0aW9uIEVlKGUsdCl7aWYoMDw9dC5pbmRleE9mKFwiIFwiKSl0aHJvdyBuZXcgRXJyb3IoXCJjbGFzcyBoYXMgaWxsZWdhbCB3aGl0ZXNwYWNlIGNoYXJhY3RlcnNcIik7cmV0dXJuIGUuY2xhc3NMaXN0LmNvbnRhaW5zKHQpfWZ1bmN0aW9uIGtlKGUsLi4udCl7cmV0dXJuIGUuY2xhc3NMaXN0LmFkZCguLi50LnJlZHVjZSgoZSx0KT0+ZS5jb25jYXQodC5zcGxpdCgvXFxzKy8pKSxbXSkpLGV9ZnVuY3Rpb24gQ2UoZSwuLi50KXtyZXR1cm4gZT8oZS5jbGFzc0xpc3QucmVtb3ZlKC4uLnQucmVkdWNlKChlLHQpPT5lLmNvbmNhdCh0LnNwbGl0KC9cXHMrLykpLFtdKSksZSk6KGQud2FybihcInJlbW92ZUNsYXNzIHdhcyBjYWxsZWQgd2l0aCBhbiBlbGVtZW50IHRoYXQgZG9lc24ndCBleGlzdFwiKSxudWxsKX1mdW5jdGlvbiBJZSh0LGUsaSl7cmV0dXJuXCJib29sZWFuXCIhPXR5cGVvZihpPVwiZnVuY3Rpb25cIj09dHlwZW9mIGk/aSh0LGUpOmkpJiYoaT12b2lkIDApLGUuc3BsaXQoL1xccysvKS5mb3JFYWNoKGU9PnQuY2xhc3NMaXN0LnRvZ2dsZShlLGkpKSx0fWZ1bmN0aW9uIHhlKGkscyl7T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMocykuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1zW2VdO251bGw9PT10fHxcInVuZGVmaW5lZFwiPT10eXBlb2YgdHx8ITE9PT10P2kucmVtb3ZlQXR0cmlidXRlKGUpOmkuc2V0QXR0cmlidXRlKGUsITA9PT10P1wiXCI6dCl9KX1mdW5jdGlvbiBBZShpKXt2YXIgcz17fTtpZihpJiZpLmF0dHJpYnV0ZXMmJjA8aS5hdHRyaWJ1dGVzLmxlbmd0aCl7dmFyIHI9aS5hdHRyaWJ1dGVzO2ZvcihsZXQgdD1yLmxlbmd0aC0xOzA8PXQ7dC0tKXt2YXIgbj1yW3RdLm5hbWU7bGV0IGU9clt0XS52YWx1ZTtcImJvb2xlYW5cIiE9dHlwZW9mIGlbbl0mJi0xPT09XCIsYXV0b3BsYXksY29udHJvbHMscGxheXNpbmxpbmUsbG9vcCxtdXRlZCxkZWZhdWx0LGRlZmF1bHRNdXRlZCxcIi5pbmRleE9mKFwiLFwiK24rXCIsXCIpfHwoZT1udWxsIT09ZSksc1tuXT1lfX1yZXR1cm4gc31mdW5jdGlvbiBQZShlLHQpe3JldHVybiBlLmdldEF0dHJpYnV0ZSh0KX1mdW5jdGlvbiBMZShlLHQsaSl7ZS5zZXRBdHRyaWJ1dGUodCxpKX1mdW5jdGlvbiBPZShlLHQpe2UucmVtb3ZlQXR0cmlidXRlKHQpfWZ1bmN0aW9uIERlKCl7ZG9jdW1lbnQuYm9keS5mb2N1cygpLGRvY3VtZW50Lm9uc2VsZWN0c3RhcnQ9ZnVuY3Rpb24oKXtyZXR1cm4hMX19ZnVuY3Rpb24gTmUoKXtkb2N1bWVudC5vbnNlbGVjdHN0YXJ0PWZ1bmN0aW9uKCl7cmV0dXJuITB9fWZ1bmN0aW9uIE1lKGUpe2lmKGUmJmUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0JiZlLnBhcmVudE5vZGUpe2NvbnN0IHQ9ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxpPXt9O3JldHVybltcImJvdHRvbVwiLFwiaGVpZ2h0XCIsXCJsZWZ0XCIsXCJyaWdodFwiLFwidG9wXCIsXCJ3aWR0aFwiXS5mb3JFYWNoKGU9Pnt2b2lkIDAhPT10W2VdJiYoaVtlXT10W2VdKX0pLGkuaGVpZ2h0fHwoaS5oZWlnaHQ9cGFyc2VGbG9hdChHZShlLFwiaGVpZ2h0XCIpKSksaS53aWR0aHx8KGkud2lkdGg9cGFyc2VGbG9hdChHZShlLFwid2lkdGhcIikpKSxpfX1mdW5jdGlvbiBSZShlKXtpZighZXx8IWUub2Zmc2V0UGFyZW50KXJldHVybntsZWZ0OjAsdG9wOjAsd2lkdGg6MCxoZWlnaHQ6MH07dmFyIHQ9ZS5vZmZzZXRXaWR0aCxpPWUub2Zmc2V0SGVpZ2h0O2xldCBzPTAscj0wO2Zvcig7ZS5vZmZzZXRQYXJlbnQmJmUhPT1kb2N1bWVudFtqLmZ1bGxzY3JlZW5FbGVtZW50XTspcys9ZS5vZmZzZXRMZWZ0LHIrPWUub2Zmc2V0VG9wLGU9ZS5vZmZzZXRQYXJlbnQ7cmV0dXJue2xlZnQ6cyx0b3A6cix3aWR0aDp0LGhlaWdodDppfX1mdW5jdGlvbiBVZSh0LGUpe3ZhciBpPXt4OjAseTowfTtpZih1KXtsZXQgZT10O2Zvcig7ZSYmXCJodG1sXCIhPT1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7KXt2YXIgcyxyPUdlKGUsXCJ0cmFuc2Zvcm1cIik7L15tYXRyaXgvLnRlc3Qocik/KHM9ci5zbGljZSg3LC0xKS5zcGxpdCgvLFxccy8pLm1hcChOdW1iZXIpLGkueCs9c1s0XSxpLnkrPXNbNV0pOi9ebWF0cml4M2QvLnRlc3QocikmJihzPXIuc2xpY2UoOSwtMSkuc3BsaXQoLyxcXHMvKS5tYXAoTnVtYmVyKSxpLngrPXNbMTJdLGkueSs9c1sxM10pLGU9ZS5wYXJlbnROb2RlfX12YXIgbj17fSxhPVJlKGUudGFyZ2V0KSx0PVJlKHQpLG89dC53aWR0aCxsPXQuaGVpZ2h0O2xldCBkPWUub2Zmc2V0WS0odC50b3AtYS50b3ApLGg9ZS5vZmZzZXRYLSh0LmxlZnQtYS5sZWZ0KTtyZXR1cm4gZS5jaGFuZ2VkVG91Y2hlcyYmKGg9ZS5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWC10LmxlZnQsZD1lLmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VZK3QudG9wLHUpJiYoaC09aS54LGQtPWkueSksbi55PTEtTWF0aC5tYXgoMCxNYXRoLm1pbigxLGQvbCkpLG4ueD1NYXRoLm1heCgwLE1hdGgubWluKDEsaC9vKSksbn1mdW5jdGlvbiBCZShlKXtyZXR1cm4gSyhlKSYmMz09PWUubm9kZVR5cGV9ZnVuY3Rpb24gRmUoZSl7Zm9yKDtlLmZpcnN0Q2hpbGQ7KWUucmVtb3ZlQ2hpbGQoZS5maXJzdENoaWxkKTtyZXR1cm4gZX1mdW5jdGlvbiBqZShlKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiYoZT1lKCkpLChBcnJheS5pc0FycmF5KGUpP2U6W2VdKS5tYXAoZT0+dmUoZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlP2UoKTplKXx8QmUoZSk/ZTpcInN0cmluZ1wiPT10eXBlb2YgZSYmL1xcUy8udGVzdChlKT9kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShlKTp2b2lkIDApLmZpbHRlcihlPT5lKX1mdW5jdGlvbiBIZSh0LGUpe3JldHVybiBqZShlKS5mb3JFYWNoKGU9PnQuYXBwZW5kQ2hpbGQoZSkpLHR9ZnVuY3Rpb24gcWUoZSx0KXtyZXR1cm4gSGUoRmUoZSksdCl9ZnVuY3Rpb24gVmUoZSl7cmV0dXJuIHZvaWQgMD09PWUuYnV0dG9uJiZ2b2lkIDA9PT1lLmJ1dHRvbnN8fDA9PT1lLmJ1dHRvbiYmdm9pZCAwPT09ZS5idXR0b25zfHxcIm1vdXNldXBcIj09PWUudHlwZSYmMD09PWUuYnV0dG9uJiYwPT09ZS5idXR0b25zfHwwPT09ZS5idXR0b24mJjE9PT1lLmJ1dHRvbnN9Y29uc3QgJGU9VGUoXCJxdWVyeVNlbGVjdG9yXCIpLFdlPVRlKFwicXVlcnlTZWxlY3RvckFsbFwiKTtmdW5jdGlvbiBHZSh0LGkpe2lmKCF0fHwhaSlyZXR1cm5cIlwiO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKXJldHVyblwiXCI7e2xldCBlO3RyeXtlPXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHQpfWNhdGNoKGUpe3JldHVyblwiXCJ9cmV0dXJuIGU/ZS5nZXRQcm9wZXJ0eVZhbHVlKGkpfHxlW2ldOlwiXCJ9fXZhciB6ZT1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxpc1JlYWw6X2UsaXNFbDp2ZSxpc0luRnJhbWU6YmUsY3JlYXRlRWw6byx0ZXh0Q29udGVudDpTZSxwcmVwZW5kVG86d2UsaGFzQ2xhc3M6RWUsYWRkQ2xhc3M6a2UscmVtb3ZlQ2xhc3M6Q2UsdG9nZ2xlQ2xhc3M6SWUsc2V0QXR0cmlidXRlczp4ZSxnZXRBdHRyaWJ1dGVzOkFlLGdldEF0dHJpYnV0ZTpQZSxzZXRBdHRyaWJ1dGU6TGUscmVtb3ZlQXR0cmlidXRlOk9lLGJsb2NrVGV4dFNlbGVjdGlvbjpEZSx1bmJsb2NrVGV4dFNlbGVjdGlvbjpOZSxnZXRCb3VuZGluZ0NsaWVudFJlY3Q6TWUsZmluZFBvc2l0aW9uOlJlLGdldFBvaW50ZXJQb3NpdGlvbjpVZSxpc1RleHROb2RlOkJlLGVtcHR5RWw6RmUsbm9ybWFsaXplQ29udGVudDpqZSxhcHBlbmRDb250ZW50OkhlLGluc2VydENvbnRlbnQ6cWUsaXNTaW5nbGVMZWZ0Q2xpY2s6VmUsJDokZSwkJDpXZSxjb21wdXRlZFN0eWxlOkdlfSk7bGV0IFhlPSExLEtlO2Z1bmN0aW9uIFllKCl7aWYoITEhPT1LZS5vcHRpb25zLmF1dG9TZXR1cCl7dmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJ2aWRlb1wiKSksdD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImF1ZGlvXCIpKSxpPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwidmlkZW8tanNcIikpLHM9ZS5jb25jYXQodCxpKTtpZihzJiYwPHMubGVuZ3RoKWZvcihsZXQgZT0wLHQ9cy5sZW5ndGg7ZTx0O2UrKyl7dmFyIHI9c1tlXTtpZighcnx8IXIuZ2V0QXR0cmlidXRlKXtRZSgxKTticmVha312b2lkIDA9PT1yLnBsYXllciYmbnVsbCE9PXIuZ2V0QXR0cmlidXRlKFwiZGF0YS1zZXR1cFwiKSYmS2Uocil9ZWxzZSBYZXx8UWUoMSl9fWZ1bmN0aW9uIFFlKGUsdCl7X2UoKSYmKHQmJihLZT10KSx3aW5kb3cuc2V0VGltZW91dChZZSxlKSl9ZnVuY3Rpb24gSmUoKXtYZT0hMCx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImxvYWRcIixKZSl9X2UoKSYmKFwiY29tcGxldGVcIj09PWRvY3VtZW50LnJlYWR5U3RhdGU/SmUoKTp3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixKZSkpO2Z1bmN0aW9uIFplKGUpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtyZXR1cm4gdC5jbGFzc05hbWU9ZSx0fWZ1bmN0aW9uIGV0KGUsdCl7ZS5zdHlsZVNoZWV0P2Uuc3R5bGVTaGVldC5jc3NUZXh0PXQ6ZS50ZXh0Q29udGVudD10fXZhciBjPW5ldyBXZWFrTWFwO2xldCB0dD0zO2Z1bmN0aW9uIGl0KGUsdCl7dmFyIGk7Yy5oYXMoZSkmJigwPT09KGk9Yy5nZXQoZSkpLmhhbmRsZXJzW3RdLmxlbmd0aCYmKGRlbGV0ZSBpLmhhbmRsZXJzW3RdLGUucmVtb3ZlRXZlbnRMaXN0ZW5lcj9lLnJlbW92ZUV2ZW50TGlzdGVuZXIodCxpLmRpc3BhdGNoZXIsITEpOmUuZGV0YWNoRXZlbnQmJmUuZGV0YWNoRXZlbnQoXCJvblwiK3QsaS5kaXNwYXRjaGVyKSksT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoaS5oYW5kbGVycykubGVuZ3RoPD0wJiYoZGVsZXRlIGkuaGFuZGxlcnMsZGVsZXRlIGkuZGlzcGF0Y2hlcixkZWxldGUgaS5kaXNhYmxlZCksMD09PU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGkpLmxlbmd0aCkmJmMuZGVsZXRlKGUpfWZ1bmN0aW9uIHN0KHQsaSxlLHMpe2UuZm9yRWFjaChmdW5jdGlvbihlKXt0KGksZSxzKX0pfWZ1bmN0aW9uIHJ0KGUpe2lmKCFlLmZpeGVkXyl7aWYoIWV8fCFlLmlzUHJvcGFnYXRpb25TdG9wcGVkfHwhZS5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCl7Y29uc3Qgbj1lfHx3aW5kb3cuZXZlbnQ7ZT17fTtmb3IoY29uc3QgYSBpbiBuKVwibGF5ZXJYXCI9PT1hfHxcImxheWVyWVwiPT09YXx8XCJrZXlMb2NhdGlvblwiPT09YXx8XCJ3ZWJraXRNb3ZlbWVudFhcIj09PWF8fFwid2Via2l0TW92ZW1lbnRZXCI9PT1hfHxcInBhdGhcIj09PWF8fFwicmV0dXJuVmFsdWVcIj09PWEmJm4ucHJldmVudERlZmF1bHR8fChlW2FdPW5bYV0pO3ZhciB0LGk7ZS50YXJnZXR8fChlLnRhcmdldD1lLnNyY0VsZW1lbnR8fGRvY3VtZW50KSxlLnJlbGF0ZWRUYXJnZXR8fChlLnJlbGF0ZWRUYXJnZXQ9ZS5mcm9tRWxlbWVudD09PWUudGFyZ2V0P2UudG9FbGVtZW50OmUuZnJvbUVsZW1lbnQpLGUucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXtuLnByZXZlbnREZWZhdWx0JiZuLnByZXZlbnREZWZhdWx0KCksZS5yZXR1cm5WYWx1ZT0hMSxuLnJldHVyblZhbHVlPSExLGUuZGVmYXVsdFByZXZlbnRlZD0hMH0sZS5kZWZhdWx0UHJldmVudGVkPSExLGUuc3RvcFByb3BhZ2F0aW9uPWZ1bmN0aW9uKCl7bi5zdG9wUHJvcGFnYXRpb24mJm4uc3RvcFByb3BhZ2F0aW9uKCksZS5jYW5jZWxCdWJibGU9ITAsbi5jYW5jZWxCdWJibGU9ITAsZS5pc1Byb3BhZ2F0aW9uU3RvcHBlZD1zfSxlLmlzUHJvcGFnYXRpb25TdG9wcGVkPXIsZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb249ZnVuY3Rpb24oKXtuLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiYmbi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSxlLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkPXMsZS5zdG9wUHJvcGFnYXRpb24oKX0sZS5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD1yLG51bGwhPT1lLmNsaWVudFgmJnZvaWQgMCE9PWUuY2xpZW50WCYmKHQ9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LGk9ZG9jdW1lbnQuYm9keSxlLnBhZ2VYPWUuY2xpZW50WCsodCYmdC5zY3JvbGxMZWZ0fHxpJiZpLnNjcm9sbExlZnR8fDApLSh0JiZ0LmNsaWVudExlZnR8fGkmJmkuY2xpZW50TGVmdHx8MCksZS5wYWdlWT1lLmNsaWVudFkrKHQmJnQuc2Nyb2xsVG9wfHxpJiZpLnNjcm9sbFRvcHx8MCktKHQmJnQuY2xpZW50VG9wfHxpJiZpLmNsaWVudFRvcHx8MCkpLGUud2hpY2g9ZS5jaGFyQ29kZXx8ZS5rZXlDb2RlLG51bGwhPT1lLmJ1dHRvbiYmdm9pZCAwIT09ZS5idXR0b24mJihlLmJ1dHRvbj0xJmUuYnV0dG9uPzA6NCZlLmJ1dHRvbj8xOjImZS5idXR0b24/MjowKX1lLmZpeGVkXz0hMH1yZXR1cm4gZTtmdW5jdGlvbiBzKCl7cmV0dXJuITB9ZnVuY3Rpb24gcigpe3JldHVybiExfX1sZXQgbnQ7Y29uc3QgYXQ9W1widG91Y2hzdGFydFwiLFwidG91Y2htb3ZlXCJdO2Z1bmN0aW9uIG90KG4sdCxlKXtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiBzdChvdCxuLHQsZSk7Yy5oYXMobil8fGMuc2V0KG4se30pO2NvbnN0IGE9Yy5nZXQobik7aWYoYS5oYW5kbGVyc3x8KGEuaGFuZGxlcnM9e30pLGEuaGFuZGxlcnNbdF18fChhLmhhbmRsZXJzW3RdPVtdKSxlLmd1aWR8fChlLmd1aWQ9dHQrKyksYS5oYW5kbGVyc1t0XS5wdXNoKGUpLGEuZGlzcGF0Y2hlcnx8KGEuZGlzYWJsZWQ9ITEsYS5kaXNwYXRjaGVyPWZ1bmN0aW9uKGkscyl7aWYoIWEuZGlzYWJsZWQpe2k9cnQoaSk7dmFyIGU9YS5oYW5kbGVyc1tpLnR5cGVdO2lmKGUpe3ZhciByPWUuc2xpY2UoMCk7Zm9yKGxldCBlPTAsdD1yLmxlbmd0aDtlPHQmJiFpLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCk7ZSsrKXRyeXtyW2VdLmNhbGwobixpLHMpfWNhdGNoKGUpe2QuZXJyb3IoZSl9fX19KSwxPT09YS5oYW5kbGVyc1t0XS5sZW5ndGgpaWYobi5hZGRFdmVudExpc3RlbmVyKXtsZXQgZT0hMTsoZnVuY3Rpb24oKXtpZihcImJvb2xlYW5cIiE9dHlwZW9mIG50KXtudD0hMTt0cnl7dmFyIGU9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LFwicGFzc2l2ZVwiLHtnZXQoKXtudD0hMH19KTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInRlc3RcIixudWxsLGUpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwidGVzdFwiLG51bGwsZSl9Y2F0Y2goZSl7fX1yZXR1cm4gbnR9KSgpJiYtMTxhdC5pbmRleE9mKHQpJiYoZT17cGFzc2l2ZTohMH0pLG4uYWRkRXZlbnRMaXN0ZW5lcih0LGEuZGlzcGF0Y2hlcixlKX1lbHNlIG4uYXR0YWNoRXZlbnQmJm4uYXR0YWNoRXZlbnQoXCJvblwiK3QsYS5kaXNwYXRjaGVyKX1mdW5jdGlvbiBwKGUsdCxpKXtpZihjLmhhcyhlKSl7Y29uc3Qgbj1jLmdldChlKTtpZihuLmhhbmRsZXJzKXtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiBzdChwLGUsdCxpKTt2YXIgcz1mdW5jdGlvbihlLHQpe24uaGFuZGxlcnNbdF09W10saXQoZSx0KX07aWYodm9pZCAwPT09dClmb3IoY29uc3QgYSBpbiBuLmhhbmRsZXJzKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLmhhbmRsZXJzfHx7fSxhKSYmcyhlLGEpO2Vsc2V7dmFyIHI9bi5oYW5kbGVyc1t0XTtpZihyKWlmKGkpe2lmKGkuZ3VpZClmb3IobGV0IGU9MDtlPHIubGVuZ3RoO2UrKylyW2VdLmd1aWQ9PT1pLmd1aWQmJnIuc3BsaWNlKGUtLSwxKTtpdChlLHQpfWVsc2UgcyhlLHQpfX19fWZ1bmN0aW9uIGx0KGUsdCxpKXt2YXIgcz1jLmhhcyhlKT9jLmdldChlKTp7fSxyPWUucGFyZW50Tm9kZXx8ZS5vd25lckRvY3VtZW50O3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0P3Q9e3R5cGU6dCx0YXJnZXQ6ZX06dC50YXJnZXR8fCh0LnRhcmdldD1lKSx0PXJ0KHQpLHMuZGlzcGF0Y2hlciYmcy5kaXNwYXRjaGVyLmNhbGwoZSx0LGkpLHImJiF0LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkmJiEwPT09dC5idWJibGVzP2x0LmNhbGwobnVsbCxyLHQsaSk6IXImJiF0LmRlZmF1bHRQcmV2ZW50ZWQmJnQudGFyZ2V0JiZ0LnRhcmdldFt0LnR5cGVdJiYoYy5oYXModC50YXJnZXQpfHxjLnNldCh0LnRhcmdldCx7fSkscz1jLmdldCh0LnRhcmdldCksdC50YXJnZXRbdC50eXBlXSkmJihzLmRpc2FibGVkPSEwLFwiZnVuY3Rpb25cIj09dHlwZW9mIHQudGFyZ2V0W3QudHlwZV0mJnQudGFyZ2V0W3QudHlwZV0oKSxzLmRpc2FibGVkPSExKSwhdC5kZWZhdWx0UHJldmVudGVkfWZ1bmN0aW9uIGR0KGUsdCxpKXtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiBzdChkdCxlLHQsaSk7ZnVuY3Rpb24gcygpe3AoZSx0LHMpLGkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXMuZ3VpZD1pLmd1aWQ9aS5ndWlkfHx0dCsrLG90KGUsdCxzKX1mdW5jdGlvbiBodChlLHQsaSl7ZnVuY3Rpb24gcygpe3AoZSx0LHMpLGkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXMuZ3VpZD1pLmd1aWQ9aS5ndWlkfHx0dCsrLG90KGUsdCxzKX12YXIgdXQ9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsZml4RXZlbnQ6cnQsb246b3Qsb2ZmOnAsdHJpZ2dlcjpsdCxvbmU6ZHQsYW55Omh0fSk7ZnVuY3Rpb24gbShlLHQsaSl7cmV0dXJuIHQuZ3VpZHx8KHQuZ3VpZD10dCsrKSwoZT10LmJpbmQoZSkpLmd1aWQ9aT9pK1wiX1wiK3QuZ3VpZDp0Lmd1aWQsZX1mdW5jdGlvbiBjdChpLHMpe2xldCByPXdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKTtyZXR1cm4gZnVuY3Rpb24oLi4uZSl7dmFyIHQ9d2luZG93LnBlcmZvcm1hbmNlLm5vdygpO3Qtcj49cyYmKGkoLi4uZSkscj10KX19ZnVuY3Rpb24gcHQocyxyLG4sYT13aW5kb3cpe2xldCBvO2Z1bmN0aW9uIGUoKXtjb25zdCBlPXRoaXMsdD1hcmd1bWVudHM7bGV0IGk9ZnVuY3Rpb24oKXtvPW51bGwsaT1udWxsLG58fHMuYXBwbHkoZSx0KX07IW8mJm4mJnMuYXBwbHkoZSx0KSxhLmNsZWFyVGltZW91dChvKSxvPWEuc2V0VGltZW91dChpLHIpfXJldHVybiBlLmNhbmNlbD0oKT0+e2EuY2xlYXJUaW1lb3V0KG8pLG89bnVsbH0sZX12YXIgbXQ9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsVVBEQVRFX1JFRlJFU0hfSU5URVJWQUw6MzAsYmluZF86bSx0aHJvdHRsZTpjdCxkZWJvdW5jZTpwdH0pO2xldCBndDtjbGFzcyBmdHtvbihlLHQpe3ZhciBpPXRoaXMuYWRkRXZlbnRMaXN0ZW5lcjt0aGlzLmFkZEV2ZW50TGlzdGVuZXI9KCk9Pnt9LG90KHRoaXMsZSx0KSx0aGlzLmFkZEV2ZW50TGlzdGVuZXI9aX1vZmYoZSx0KXtwKHRoaXMsZSx0KX1vbmUoZSx0KXt2YXIgaT10aGlzLmFkZEV2ZW50TGlzdGVuZXI7dGhpcy5hZGRFdmVudExpc3RlbmVyPSgpPT57fSxkdCh0aGlzLGUsdCksdGhpcy5hZGRFdmVudExpc3RlbmVyPWl9YW55KGUsdCl7dmFyIGk9dGhpcy5hZGRFdmVudExpc3RlbmVyO3RoaXMuYWRkRXZlbnRMaXN0ZW5lcj0oKT0+e30saHQodGhpcyxlLHQpLHRoaXMuYWRkRXZlbnRMaXN0ZW5lcj1pfXRyaWdnZXIoZSl7dmFyIHQ9ZS50eXBlfHxlO2U9cnQoZT1cInN0cmluZ1wiPT10eXBlb2YgZT97dHlwZTp0fTplKSx0aGlzLmFsbG93ZWRFdmVudHNfW3RdJiZ0aGlzW1wib25cIit0XSYmdGhpc1tcIm9uXCIrdF0oZSksbHQodGhpcyxlKX1xdWV1ZVRyaWdnZXIoZSl7Z3Q9Z3R8fG5ldyBNYXA7Y29uc3QgdD1lLnR5cGV8fGU7bGV0IGk9Z3QuZ2V0KHRoaXMpO2l8fChpPW5ldyBNYXAsZ3Quc2V0KHRoaXMsaSkpO3ZhciBzPWkuZ2V0KHQpLHM9KGkuZGVsZXRlKHQpLHdpbmRvdy5jbGVhclRpbWVvdXQocyksd2luZG93LnNldFRpbWVvdXQoKCk9PntpLmRlbGV0ZSh0KSwwPT09aS5zaXplJiYoaT1udWxsLGd0LmRlbGV0ZSh0aGlzKSksdGhpcy50cmlnZ2VyKGUpfSwwKSk7aS5zZXQodCxzKX19ZnQucHJvdG90eXBlLmFsbG93ZWRFdmVudHNfPXt9LGZ0LnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyPWZ0LnByb3RvdHlwZS5vbixmdC5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdC5wcm90b3R5cGUub2ZmLGZ0LnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50PWZ0LnByb3RvdHlwZS50cmlnZ2VyO2NvbnN0IHl0PWU9PlwiZnVuY3Rpb25cIj09dHlwZW9mIGUubmFtZT9lLm5hbWUoKTpcInN0cmluZ1wiPT10eXBlb2YgZS5uYW1lP2UubmFtZTplLm5hbWVffHwoZS5jb25zdHJ1Y3RvciYmZS5jb25zdHJ1Y3Rvci5uYW1lP2UuY29uc3RydWN0b3IubmFtZTp0eXBlb2YgZSksX3Q9dD0+dCBpbnN0YW5jZW9mIGZ0fHwhIXQuZXZlbnRCdXNFbF8mJltcIm9uXCIsXCJvbmVcIixcIm9mZlwiLFwidHJpZ2dlclwiXS5ldmVyeShlPT5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0W2VdKSx2dD1lPT5cInN0cmluZ1wiPT10eXBlb2YgZSYmL1xcUy8udGVzdChlKXx8QXJyYXkuaXNBcnJheShlKSYmISFlLmxlbmd0aCxidD0oZSx0LGkpPT57aWYoIWV8fCFlLm5vZGVOYW1lJiYhX3QoZSkpdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHRhcmdldCBmb3IgJHt5dCh0KX0jJHtpfTsgbXVzdCBiZSBhIERPTSBub2RlIG9yIGV2ZW50ZWQgb2JqZWN0LmApfSxUdD0oZSx0LGkpPT57aWYoIXZ0KGUpKXRocm93IG5ldyBFcnJvcihgSW52YWxpZCBldmVudCB0eXBlIGZvciAke3l0KHQpfSMke2l9OyBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZyBvciBhcnJheS5gKX0sU3Q9KGUsdCxpKT0+e2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGxpc3RlbmVyIGZvciAke3l0KHQpfSMke2l9OyBtdXN0IGJlIGEgZnVuY3Rpb24uYCl9LHd0PShlLHQsaSk9Pnt2YXIgcz10Lmxlbmd0aDwzfHx0WzBdPT09ZXx8dFswXT09PWUuZXZlbnRCdXNFbF87bGV0IHIsbixhO3JldHVybiBzPyhyPWUuZXZlbnRCdXNFbF8sMzw9dC5sZW5ndGgmJnQuc2hpZnQoKSxbbixhXT10KTpbcixuLGFdPXQsYnQocixlLGkpLFR0KG4sZSxpKSxTdChhLGUsaSksYT1tKGUsYSkse2lzVGFyZ2V0aW5nU2VsZjpzLHRhcmdldDpyLHR5cGU6bixsaXN0ZW5lcjphfX0sRXQ9KGUsdCxpLHMpPT57YnQoZSxlLHQpLGUubm9kZU5hbWU/dXRbdF0oZSxpLHMpOmVbdF0oaSxzKX0sa3Q9e29uKC4uLmUpe2NvbnN0e2lzVGFyZ2V0aW5nU2VsZjp0LHRhcmdldDppLHR5cGU6cyxsaXN0ZW5lcjpyfT13dCh0aGlzLGUsXCJvblwiKTtpZihFdChpLFwib25cIixzLHIpLCF0KXtjb25zdCBuPSgpPT50aGlzLm9mZihpLHMscik7bi5ndWlkPXIuZ3VpZDtlPSgpPT50aGlzLm9mZihcImRpc3Bvc2VcIixuKTtlLmd1aWQ9ci5ndWlkLEV0KHRoaXMsXCJvblwiLFwiZGlzcG9zZVwiLG4pLEV0KGksXCJvblwiLFwiZGlzcG9zZVwiLGUpfX0sb25lKC4uLmUpe2NvbnN0e2lzVGFyZ2V0aW5nU2VsZjp0LHRhcmdldDppLHR5cGU6cyxsaXN0ZW5lcjpyfT13dCh0aGlzLGUsXCJvbmVcIik7aWYodClFdChpLFwib25lXCIscyxyKTtlbHNle2NvbnN0IG49KC4uLmUpPT57dGhpcy5vZmYoaSxzLG4pLHIuYXBwbHkobnVsbCxlKX07bi5ndWlkPXIuZ3VpZCxFdChpLFwib25lXCIscyxuKX19LGFueSguLi5lKXtjb25zdHtpc1RhcmdldGluZ1NlbGY6dCx0YXJnZXQ6aSx0eXBlOnMsbGlzdGVuZXI6cn09d3QodGhpcyxlLFwiYW55XCIpO2lmKHQpRXQoaSxcImFueVwiLHMscik7ZWxzZXtjb25zdCBuPSguLi5lKT0+e3RoaXMub2ZmKGkscyxuKSxyLmFwcGx5KG51bGwsZSl9O24uZ3VpZD1yLmd1aWQsRXQoaSxcImFueVwiLHMsbil9fSxvZmYoZSx0LGkpeyFlfHx2dChlKT9wKHRoaXMuZXZlbnRCdXNFbF8sZSx0KTooZT1lLHQ9dCxidChlLHRoaXMsXCJvZmZcIiksVHQodCx0aGlzLFwib2ZmXCIpLFN0KGksdGhpcyxcIm9mZlwiKSxpPW0odGhpcyxpKSx0aGlzLm9mZihcImRpc3Bvc2VcIixpKSxlLm5vZGVOYW1lPyhwKGUsdCxpKSxwKGUsXCJkaXNwb3NlXCIsaSkpOl90KGUpJiYoZS5vZmYodCxpKSxlLm9mZihcImRpc3Bvc2VcIixpKSkpfSx0cmlnZ2VyKGUsdCl7YnQodGhpcy5ldmVudEJ1c0VsXyx0aGlzLFwidHJpZ2dlclwiKTt2YXIgaT1lJiZcInN0cmluZ1wiIT10eXBlb2YgZT9lLnR5cGU6ZTtpZih2dChpKSlyZXR1cm4gbHQodGhpcy5ldmVudEJ1c0VsXyxlLHQpO3Rocm93IG5ldyBFcnJvcihgSW52YWxpZCBldmVudCB0eXBlIGZvciAke3l0KHRoaXMpfSN0cmlnZ2VyOyBgK1wibXVzdCBiZSBhIG5vbi1lbXB0eSBzdHJpbmcgb3Igb2JqZWN0IHdpdGggYSB0eXBlIGtleSB0aGF0IGhhcyBhIG5vbi1lbXB0eSB2YWx1ZS5cIil9fTtmdW5jdGlvbiBDdChlLHQ9e30pe3Q9dC5ldmVudEJ1c0tleTtpZih0KXtpZighZVt0XS5ub2RlTmFtZSl0aHJvdyBuZXcgRXJyb3IoYFRoZSBldmVudEJ1c0tleSBcIiR7dH1cIiBkb2VzIG5vdCByZWZlciB0byBhbiBlbGVtZW50LmApO2UuZXZlbnRCdXNFbF89ZVt0XX1lbHNlIGUuZXZlbnRCdXNFbF89byhcInNwYW5cIix7Y2xhc3NOYW1lOlwidmpzLWV2ZW50LWJ1c1wifSk7T2JqZWN0LmFzc2lnbihlLGt0KSxlLmV2ZW50ZWRDYWxsYmFja3MmJmUuZXZlbnRlZENhbGxiYWNrcy5mb3JFYWNoKGU9PntlKCl9KSxlLm9uKFwiZGlzcG9zZVwiLCgpPT57ZS5vZmYoKSxbZSxlLmVsXyxlLmV2ZW50QnVzRWxfXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UmJmMuaGFzKGUpJiZjLmRlbGV0ZShlKX0pLHdpbmRvdy5zZXRUaW1lb3V0KCgpPT57ZS5ldmVudEJ1c0VsXz1udWxsfSwwKX0pfWNvbnN0IEl0PXtzdGF0ZTp7fSxzZXRTdGF0ZShlKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiYoZT1lKCkpO2xldCBpO3JldHVybiB6KGUsKGUsdCk9Pnt0aGlzLnN0YXRlW3RdIT09ZSYmKChpPWl8fHt9KVt0XT17ZnJvbTp0aGlzLnN0YXRlW3RdLHRvOmV9KSx0aGlzLnN0YXRlW3RdPWV9KSxpJiZfdCh0aGlzKSYmdGhpcy50cmlnZ2VyKHtjaGFuZ2VzOmksdHlwZTpcInN0YXRlY2hhbmdlZFwifSksaX19O2Z1bmN0aW9uIHh0KGUsdCl7T2JqZWN0LmFzc2lnbihlLEl0KSxlLnN0YXRlPU9iamVjdC5hc3NpZ24oe30sZS5zdGF0ZSx0KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmhhbmRsZVN0YXRlQ2hhbmdlZCYmX3QoZSkmJmUub24oXCJzdGF0ZWNoYW5nZWRcIixlLmhhbmRsZVN0YXRlQ2hhbmdlZCl9ZnVuY3Rpb24gQXQoZSl7cmV0dXJuXCJzdHJpbmdcIiE9dHlwZW9mIGU/ZTplLnJlcGxhY2UoLy4vLGU9PmUudG9Mb3dlckNhc2UoKSl9ZnVuY3Rpb24gZyhlKXtyZXR1cm5cInN0cmluZ1wiIT10eXBlb2YgZT9lOmUucmVwbGFjZSgvLi8sZT0+ZS50b1VwcGVyQ2FzZSgpKX1mdW5jdGlvbiBQdChlLHQpe3JldHVybiBnKGUpPT09Zyh0KX12YXIgTHQ9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsdG9Mb3dlckNhc2U6QXQsdG9UaXRsZUNhc2U6Zyx0aXRsZUNhc2VFcXVhbHM6UHR9KSxPdD1cInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsVGhpcz9nbG9iYWxUaGlzOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6e307ZnVuY3Rpb24gRHQoZSx0KXtyZXR1cm4gZSh0PXtleHBvcnRzOnt9fSx0LmV4cG9ydHMpLHQuZXhwb3J0c312YXIgcj1EdChmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIGkoZSl7dmFyIHQ7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mKGU9ZSYmXCJvYmplY3RcIj09dHlwZW9mIGUmJih0PWUud2hpY2h8fGUua2V5Q29kZXx8ZS5jaGFyQ29kZSk/dDplKT9vW2VdOih0PVN0cmluZyhlKSxzW3QudG9Mb3dlckNhc2UoKV18fHJbdC50b0xvd2VyQ2FzZSgpXXx8KDE9PT10Lmxlbmd0aD90LmNoYXJDb2RlQXQoMCk6dm9pZCAwKSl9aS5pc0V2ZW50S2V5PWZ1bmN0aW9uKGUsdCl7aWYoZSYmXCJvYmplY3RcIj09dHlwZW9mIGUpe2U9ZS53aGljaHx8ZS5rZXlDb2RlfHxlLmNoYXJDb2RlO2lmKG51bGwhPWUpaWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpe3ZhciBpPXNbdC50b0xvd2VyQ2FzZSgpXTtpZihpKXJldHVybiBpPT09ZTtpZihpPXJbdC50b0xvd2VyQ2FzZSgpXSlyZXR1cm4gaT09PWV9ZWxzZSBpZihcIm51bWJlclwiPT10eXBlb2YgdClyZXR1cm4gdD09PWU7cmV0dXJuITF9fTtmb3IodmFyIHM9KHQ9ZS5leHBvcnRzPWkpLmNvZGU9dC5jb2Rlcz17YmFja3NwYWNlOjgsdGFiOjksZW50ZXI6MTMsc2hpZnQ6MTYsY3RybDoxNyxhbHQ6MTgsXCJwYXVzZS9icmVha1wiOjE5LFwiY2FwcyBsb2NrXCI6MjAsZXNjOjI3LHNwYWNlOjMyLFwicGFnZSB1cFwiOjMzLFwicGFnZSBkb3duXCI6MzQsZW5kOjM1LGhvbWU6MzYsbGVmdDozNyx1cDozOCxyaWdodDozOSxkb3duOjQwLGluc2VydDo0NSxkZWxldGU6NDYsY29tbWFuZDo5MSxcImxlZnQgY29tbWFuZFwiOjkxLFwicmlnaHQgY29tbWFuZFwiOjkzLFwibnVtcGFkICpcIjoxMDYsXCJudW1wYWQgK1wiOjEwNyxcIm51bXBhZCAtXCI6MTA5LFwibnVtcGFkIC5cIjoxMTAsXCJudW1wYWQgL1wiOjExMSxcIm51bSBsb2NrXCI6MTQ0LFwic2Nyb2xsIGxvY2tcIjoxNDUsXCJteSBjb21wdXRlclwiOjE4MixcIm15IGNhbGN1bGF0b3JcIjoxODMsXCI7XCI6MTg2LFwiPVwiOjE4NyxcIixcIjoxODgsXCItXCI6MTg5LFwiLlwiOjE5MCxcIi9cIjoxOTEsXCJgXCI6MTkyLFwiW1wiOjIxOSxcIlxcXFxcIjoyMjAsXCJdXCI6MjIxLFwiJ1wiOjIyMn0scj10LmFsaWFzZXM9e3dpbmRvd3M6OTEsXCLih6dcIjoxNixcIuKMpVwiOjE4LFwi4oyDXCI6MTcsXCLijJhcIjo5MSxjdGw6MTcsY29udHJvbDoxNyxvcHRpb246MTgscGF1c2U6MTksYnJlYWs6MTksY2FwczoyMCxyZXR1cm46MTMsZXNjYXBlOjI3LHNwYzozMixzcGFjZWJhcjozMixwZ3VwOjMzLHBnZG46MzQsaW5zOjQ1LGRlbDo0NixjbWQ6OTF9LG49OTc7bjwxMjM7bisrKXNbU3RyaW5nLmZyb21DaGFyQ29kZShuKV09bi0zMjtmb3IodmFyIG49NDg7bjw1ODtuKyspc1tuLTQ4XT1uO2ZvcihuPTE7bjwxMztuKyspc1tcImZcIituXT1uKzExMTtmb3Iobj0wO248MTA7bisrKXNbXCJudW1wYWQgXCIrbl09bis5Njt2YXIgYSxvPXQubmFtZXM9dC50aXRsZT17fTtmb3IobiBpbiBzKW9bc1tuXV09bjtmb3IoYSBpbiByKXNbYV09clthXX0pO3IuY29kZSxyLmNvZGVzLHIuYWxpYXNlcyxyLm5hbWVzLHIudGl0bGU7Y2xhc3MgZntjb25zdHJ1Y3RvcihlLHQsaSl7IWUmJnRoaXMucGxheT90aGlzLnBsYXllcl89ZT10aGlzOnRoaXMucGxheWVyXz1lLHRoaXMuaXNEaXNwb3NlZF89ITEsdGhpcy5wYXJlbnRDb21wb25lbnRfPW51bGwsdGhpcy5vcHRpb25zXz1oKHt9LHRoaXMub3B0aW9uc18pLHQ9dGhpcy5vcHRpb25zXz1oKHRoaXMub3B0aW9uc18sdCksdGhpcy5pZF89dC5pZHx8dC5lbCYmdC5lbC5pZCx0aGlzLmlkX3x8KGU9ZSYmZS5pZCYmZS5pZCgpfHxcIm5vX3BsYXllclwiLHRoaXMuaWRfPWUrXCJfY29tcG9uZW50X1wiK3R0KyspLHRoaXMubmFtZV89dC5uYW1lfHxudWxsLHQuZWw/dGhpcy5lbF89dC5lbDohMSE9PXQuY3JlYXRlRWwmJih0aGlzLmVsXz10aGlzLmNyZWF0ZUVsKCkpLHQuY2xhc3NOYW1lJiZ0aGlzLmVsXyYmdC5jbGFzc05hbWUuc3BsaXQoXCIgXCIpLmZvckVhY2goZT0+dGhpcy5hZGRDbGFzcyhlKSksW1wib25cIixcIm9mZlwiLFwib25lXCIsXCJhbnlcIixcInRyaWdnZXJcIl0uZm9yRWFjaChlPT57dGhpc1tlXT12b2lkIDB9KSwhMSE9PXQuZXZlbnRlZCYmKEN0KHRoaXMse2V2ZW50QnVzS2V5OnRoaXMuZWxfP1wiZWxfXCI6bnVsbH0pLHRoaXMuaGFuZGxlTGFuZ3VhZ2VjaGFuZ2U9dGhpcy5oYW5kbGVMYW5ndWFnZWNoYW5nZS5iaW5kKHRoaXMpLHRoaXMub24odGhpcy5wbGF5ZXJfLFwibGFuZ3VhZ2VjaGFuZ2VcIix0aGlzLmhhbmRsZUxhbmd1YWdlY2hhbmdlKSkseHQodGhpcyx0aGlzLmNvbnN0cnVjdG9yLmRlZmF1bHRTdGF0ZSksdGhpcy5jaGlsZHJlbl89W10sdGhpcy5jaGlsZEluZGV4Xz17fSx0aGlzLmNoaWxkTmFtZUluZGV4Xz17fSx0aGlzLnNldFRpbWVvdXRJZHNfPW5ldyBTZXQsdGhpcy5zZXRJbnRlcnZhbElkc189bmV3IFNldCx0aGlzLnJhZklkc189bmV3IFNldCx0aGlzLm5hbWVkUmFmc189bmV3IE1hcCwodGhpcy5jbGVhcmluZ1RpbWVyc09uRGlzcG9zZV89ITEpIT09dC5pbml0Q2hpbGRyZW4mJnRoaXMuaW5pdENoaWxkcmVuKCksdGhpcy5yZWFkeShpKSwhMSE9PXQucmVwb3J0VG91Y2hBY3Rpdml0eSYmdGhpcy5lbmFibGVUb3VjaEFjdGl2aXR5KCl9b24oZSx0KXt9b2ZmKGUsdCl7fW9uZShlLHQpe31hbnkoZSx0KXt9dHJpZ2dlcihlKXt9ZGlzcG9zZShlPXt9KXtpZighdGhpcy5pc0Rpc3Bvc2VkXyl7aWYodGhpcy5yZWFkeVF1ZXVlXyYmKHRoaXMucmVhZHlRdWV1ZV8ubGVuZ3RoPTApLHRoaXMudHJpZ2dlcih7dHlwZTpcImRpc3Bvc2VcIixidWJibGVzOiExfSksdGhpcy5pc0Rpc3Bvc2VkXz0hMCx0aGlzLmNoaWxkcmVuXylmb3IobGV0IGU9dGhpcy5jaGlsZHJlbl8ubGVuZ3RoLTE7MDw9ZTtlLS0pdGhpcy5jaGlsZHJlbl9bZV0uZGlzcG9zZSYmdGhpcy5jaGlsZHJlbl9bZV0uZGlzcG9zZSgpO3RoaXMuY2hpbGRyZW5fPW51bGwsdGhpcy5jaGlsZEluZGV4Xz1udWxsLHRoaXMuY2hpbGROYW1lSW5kZXhfPW51bGwsdGhpcy5wYXJlbnRDb21wb25lbnRfPW51bGwsdGhpcy5lbF8mJih0aGlzLmVsXy5wYXJlbnROb2RlJiYoZS5yZXN0b3JlRWw/dGhpcy5lbF8ucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoZS5yZXN0b3JlRWwsdGhpcy5lbF8pOnRoaXMuZWxfLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5lbF8pKSx0aGlzLmVsXz1udWxsKSx0aGlzLnBsYXllcl89bnVsbH19aXNEaXNwb3NlZCgpe3JldHVybiBCb29sZWFuKHRoaXMuaXNEaXNwb3NlZF8pfXBsYXllcigpe3JldHVybiB0aGlzLnBsYXllcl99b3B0aW9ucyhlKXtyZXR1cm4gZSYmKHRoaXMub3B0aW9uc189aCh0aGlzLm9wdGlvbnNfLGUpKSx0aGlzLm9wdGlvbnNffWVsKCl7cmV0dXJuIHRoaXMuZWxffWNyZWF0ZUVsKGUsdCxpKXtyZXR1cm4gbyhlLHQsaSl9bG9jYWxpemUoZSxzLHQ9ZSl7dmFyIGk9dGhpcy5wbGF5ZXJfLmxhbmd1YWdlJiZ0aGlzLnBsYXllcl8ubGFuZ3VhZ2UoKSxyPXRoaXMucGxheWVyXy5sYW5ndWFnZXMmJnRoaXMucGxheWVyXy5sYW5ndWFnZXMoKSxuPXImJnJbaV0saT1pJiZpLnNwbGl0KFwiLVwiKVswXSxyPXImJnJbaV07bGV0IGE9dDtyZXR1cm4gbiYmbltlXT9hPW5bZV06ciYmcltlXSYmKGE9cltlXSksYT1zP2EucmVwbGFjZSgvXFx7KFxcZCspXFx9L2csZnVuY3Rpb24oZSx0KXt0PXNbdC0xXTtsZXQgaT1cInVuZGVmaW5lZFwiPT10eXBlb2YgdD9lOnQ7cmV0dXJuIGl9KTphfWhhbmRsZUxhbmd1YWdlY2hhbmdlKCl7fWNvbnRlbnRFbCgpe3JldHVybiB0aGlzLmNvbnRlbnRFbF98fHRoaXMuZWxffWlkKCl7cmV0dXJuIHRoaXMuaWRffW5hbWUoKXtyZXR1cm4gdGhpcy5uYW1lX31jaGlsZHJlbigpe3JldHVybiB0aGlzLmNoaWxkcmVuX31nZXRDaGlsZEJ5SWQoZSl7cmV0dXJuIHRoaXMuY2hpbGRJbmRleF9bZV19Z2V0Q2hpbGQoZSl7aWYoZSlyZXR1cm4gdGhpcy5jaGlsZE5hbWVJbmRleF9bZV19Z2V0RGVzY2VuZGFudCguLi50KXt0PXQucmVkdWNlKChlLHQpPT5lLmNvbmNhdCh0KSxbXSk7bGV0IGk9dGhpcztmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKylpZighKGk9aS5nZXRDaGlsZCh0W2VdKSl8fCFpLmdldENoaWxkKXJldHVybjtyZXR1cm4gaX1hZGRDaGlsZChlLHQ9e30saT10aGlzLmNoaWxkcmVuXy5sZW5ndGgpe2xldCBzLHI7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpe3I9ZyhlKTt2YXIgbj10LmNvbXBvbmVudENsYXNzfHxyLGE9KHQubmFtZT1yLGYuZ2V0Q29tcG9uZW50KG4pKTtpZighYSl0aHJvdyBuZXcgRXJyb3IoYENvbXBvbmVudCAke259IGRvZXMgbm90IGV4aXN0YCk7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgYSlyZXR1cm4gbnVsbDtzPW5ldyBhKHRoaXMucGxheWVyX3x8dGhpcyx0KX1lbHNlIHM9ZTtpZihzLnBhcmVudENvbXBvbmVudF8mJnMucGFyZW50Q29tcG9uZW50Xy5yZW1vdmVDaGlsZChzKSx0aGlzLmNoaWxkcmVuXy5zcGxpY2UoaSwwLHMpLHMucGFyZW50Q29tcG9uZW50Xz10aGlzLFwiZnVuY3Rpb25cIj09dHlwZW9mIHMuaWQmJih0aGlzLmNoaWxkSW5kZXhfW3MuaWQoKV09cyksKHI9cnx8cy5uYW1lJiZnKHMubmFtZSgpKSkmJih0aGlzLmNoaWxkTmFtZUluZGV4X1tyXT1zLHRoaXMuY2hpbGROYW1lSW5kZXhfW0F0KHIpXT1zKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBzLmVsJiZzLmVsKCkpe2xldCBlPW51bGw7dGhpcy5jaGlsZHJlbl9baSsxXSYmKHRoaXMuY2hpbGRyZW5fW2krMV0uZWxfP2U9dGhpcy5jaGlsZHJlbl9baSsxXS5lbF86dmUodGhpcy5jaGlsZHJlbl9baSsxXSkmJihlPXRoaXMuY2hpbGRyZW5fW2krMV0pKSx0aGlzLmNvbnRlbnRFbCgpLmluc2VydEJlZm9yZShzLmVsKCksZSl9cmV0dXJuIHN9cmVtb3ZlQ2hpbGQoaSl7aWYoKGk9XCJzdHJpbmdcIj09dHlwZW9mIGk/dGhpcy5nZXRDaGlsZChpKTppKSYmdGhpcy5jaGlsZHJlbl8pe2xldCB0PSExO2ZvcihsZXQgZT10aGlzLmNoaWxkcmVuXy5sZW5ndGgtMTswPD1lO2UtLSlpZih0aGlzLmNoaWxkcmVuX1tlXT09PWkpe3Q9ITAsdGhpcy5jaGlsZHJlbl8uc3BsaWNlKGUsMSk7YnJlYWt9dmFyIGU7dCYmKGkucGFyZW50Q29tcG9uZW50Xz1udWxsLHRoaXMuY2hpbGRJbmRleF9baS5pZCgpXT1udWxsLHRoaXMuY2hpbGROYW1lSW5kZXhfW2coaS5uYW1lKCkpXT1udWxsLHRoaXMuY2hpbGROYW1lSW5kZXhfW0F0KGkubmFtZSgpKV09bnVsbCxlPWkuZWwoKSkmJmUucGFyZW50Tm9kZT09PXRoaXMuY29udGVudEVsKCkmJnRoaXMuY29udGVudEVsKCkucmVtb3ZlQ2hpbGQoaS5lbCgpKX19aW5pdENoaWxkcmVuKCl7Y29uc3Qgcz10aGlzLm9wdGlvbnNfLmNoaWxkcmVuO2lmKHMpe2NvbnN0IHI9dGhpcy5vcHRpb25zXztsZXQgZTtjb25zdCB0PWYuZ2V0Q29tcG9uZW50KFwiVGVjaFwiKTsoZT1BcnJheS5pc0FycmF5KHMpP3M6T2JqZWN0LmtleXMocykpLmNvbmNhdChPYmplY3Qua2V5cyh0aGlzLm9wdGlvbnNfKS5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIWUuc29tZShmdW5jdGlvbihlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZT90PT09ZTp0PT09ZS5uYW1lfSl9KSkubWFwKGU9PntsZXQgdCxpO3JldHVybiBpPVwic3RyaW5nXCI9PXR5cGVvZiBlPyh0PWUsc1t0XXx8dGhpcy5vcHRpb25zX1t0XXx8e30pOih0PWUubmFtZSxlKSx7bmFtZTp0LG9wdHM6aX19KS5maWx0ZXIoZT0+e2U9Zi5nZXRDb21wb25lbnQoZS5vcHRzLmNvbXBvbmVudENsYXNzfHxnKGUubmFtZSkpO3JldHVybiBlJiYhdC5pc1RlY2goZSl9KS5mb3JFYWNoKGU9Pnt2YXIgdD1lLm5hbWU7bGV0IGk9ZS5vcHRzOyExIT09KGk9dm9pZCAwIT09clt0XT9yW3RdOmkpJiYoKGk9ITA9PT1pP3t9OmkpLnBsYXllck9wdGlvbnM9dGhpcy5vcHRpb25zXy5wbGF5ZXJPcHRpb25zLGU9dGhpcy5hZGRDaGlsZCh0LGkpKSYmKHRoaXNbdF09ZSl9KX19YnVpbGRDU1NDbGFzcygpe3JldHVyblwiXCJ9cmVhZHkoZSx0PSExKXtlJiYodGhpcy5pc1JlYWR5Xz90P2UuY2FsbCh0aGlzKTp0aGlzLnNldFRpbWVvdXQoZSwxKToodGhpcy5yZWFkeVF1ZXVlXz10aGlzLnJlYWR5UXVldWVffHxbXSx0aGlzLnJlYWR5UXVldWVfLnB1c2goZSkpKX10cmlnZ2VyUmVhZHkoKXt0aGlzLmlzUmVhZHlfPSEwLHRoaXMuc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBlPXRoaXMucmVhZHlRdWV1ZV87dGhpcy5yZWFkeVF1ZXVlXz1bXSxlJiYwPGUubGVuZ3RoJiZlLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5jYWxsKHRoaXMpfSx0aGlzKSx0aGlzLnRyaWdnZXIoXCJyZWFkeVwiKX0sMSl9JChlLHQpe3JldHVybiAkZShlLHR8fHRoaXMuY29udGVudEVsKCkpfSQkKGUsdCl7cmV0dXJuIFdlKGUsdHx8dGhpcy5jb250ZW50RWwoKSl9aGFzQ2xhc3MoZSl7cmV0dXJuIEVlKHRoaXMuZWxfLGUpfWFkZENsYXNzKC4uLmUpe2tlKHRoaXMuZWxfLC4uLmUpfXJlbW92ZUNsYXNzKC4uLmUpe0NlKHRoaXMuZWxfLC4uLmUpfXRvZ2dsZUNsYXNzKGUsdCl7SWUodGhpcy5lbF8sZSx0KX1zaG93KCl7dGhpcy5yZW1vdmVDbGFzcyhcInZqcy1oaWRkZW5cIil9aGlkZSgpe3RoaXMuYWRkQ2xhc3MoXCJ2anMtaGlkZGVuXCIpfWxvY2tTaG93aW5nKCl7dGhpcy5hZGRDbGFzcyhcInZqcy1sb2NrLXNob3dpbmdcIil9dW5sb2NrU2hvd2luZygpe3RoaXMucmVtb3ZlQ2xhc3MoXCJ2anMtbG9jay1zaG93aW5nXCIpfWdldEF0dHJpYnV0ZShlKXtyZXR1cm4gUGUodGhpcy5lbF8sZSl9c2V0QXR0cmlidXRlKGUsdCl7TGUodGhpcy5lbF8sZSx0KX1yZW1vdmVBdHRyaWJ1dGUoZSl7T2UodGhpcy5lbF8sZSl9d2lkdGgoZSx0KXtyZXR1cm4gdGhpcy5kaW1lbnNpb24oXCJ3aWR0aFwiLGUsdCl9aGVpZ2h0KGUsdCl7cmV0dXJuIHRoaXMuZGltZW5zaW9uKFwiaGVpZ2h0XCIsZSx0KX1kaW1lbnNpb25zKGUsdCl7dGhpcy53aWR0aChlLCEwKSx0aGlzLmhlaWdodCh0KX1kaW1lbnNpb24oZSx0LGkpe3ZhciBzLHI7aWYodm9pZCAwPT09dClyZXR1cm4gdGhpcy5lbF8/LTEhPT0ocj0ocz10aGlzLmVsXy5zdHlsZVtlXSkuaW5kZXhPZihcInB4XCIpKT9wYXJzZUludChzLnNsaWNlKDAsciksMTApOnBhcnNlSW50KHRoaXMuZWxfW1wib2Zmc2V0XCIrZyhlKV0sMTApOjA7LTEhPT0oXCJcIisodD1udWxsIT09dCYmdD09dD90OjApKS5pbmRleE9mKFwiJVwiKXx8LTEhPT0oXCJcIit0KS5pbmRleE9mKFwicHhcIik/dGhpcy5lbF8uc3R5bGVbZV09dDp0aGlzLmVsXy5zdHlsZVtlXT1cImF1dG9cIj09PXQ/XCJcIjp0K1wicHhcIixpfHx0aGlzLnRyaWdnZXIoXCJjb21wb25lbnRyZXNpemVcIil9Y3VycmVudERpbWVuc2lvbihlKXtsZXQgdD0wO2lmKFwid2lkdGhcIiE9PWUmJlwiaGVpZ2h0XCIhPT1lKXRocm93IG5ldyBFcnJvcihcImN1cnJlbnREaW1lbnNpb24gb25seSBhY2NlcHRzIHdpZHRoIG9yIGhlaWdodCB2YWx1ZVwiKTtyZXR1cm4gdD1HZSh0aGlzLmVsXyxlKSwwIT09KHQ9cGFyc2VGbG9hdCh0KSkmJiFpc05hTih0KXx8KGU9XCJvZmZzZXRcIitnKGUpLHQ9dGhpcy5lbF9bZV0pLHR9Y3VycmVudERpbWVuc2lvbnMoKXtyZXR1cm57d2lkdGg6dGhpcy5jdXJyZW50RGltZW5zaW9uKFwid2lkdGhcIiksaGVpZ2h0OnRoaXMuY3VycmVudERpbWVuc2lvbihcImhlaWdodFwiKX19Y3VycmVudFdpZHRoKCl7cmV0dXJuIHRoaXMuY3VycmVudERpbWVuc2lvbihcIndpZHRoXCIpfWN1cnJlbnRIZWlnaHQoKXtyZXR1cm4gdGhpcy5jdXJyZW50RGltZW5zaW9uKFwiaGVpZ2h0XCIpfWZvY3VzKCl7dGhpcy5lbF8uZm9jdXMoKX1ibHVyKCl7dGhpcy5lbF8uYmx1cigpfWhhbmRsZUtleURvd24oZSl7dGhpcy5wbGF5ZXJfJiYoci5pc0V2ZW50S2V5KGUsXCJUYWJcIil8fGUuc3RvcFByb3BhZ2F0aW9uKCksdGhpcy5wbGF5ZXJfLmhhbmRsZUtleURvd24oZSkpfWhhbmRsZUtleVByZXNzKGUpe3RoaXMuaGFuZGxlS2V5RG93bihlKX1lbWl0VGFwRXZlbnRzKCl7bGV0IHQ9MCxpPW51bGw7bGV0IHM7dGhpcy5vbihcInRvdWNoc3RhcnRcIixmdW5jdGlvbihlKXsxPT09ZS50b3VjaGVzLmxlbmd0aCYmKGk9e3BhZ2VYOmUudG91Y2hlc1swXS5wYWdlWCxwYWdlWTplLnRvdWNoZXNbMF0ucGFnZVl9LHQ9d2luZG93LnBlcmZvcm1hbmNlLm5vdygpLHM9ITApfSksdGhpcy5vbihcInRvdWNobW92ZVwiLGZ1bmN0aW9uKGUpe3ZhciB0OygxPGUudG91Y2hlcy5sZW5ndGh8fGkmJih0PWUudG91Y2hlc1swXS5wYWdlWC1pLnBhZ2VYLGU9ZS50b3VjaGVzWzBdLnBhZ2VZLWkucGFnZVksMTA8TWF0aC5zcXJ0KHQqdCtlKmUpKSkmJihzPSExKX0pO2Z1bmN0aW9uIGUoKXtzPSExfXRoaXMub24oXCJ0b3VjaGxlYXZlXCIsZSksdGhpcy5vbihcInRvdWNoY2FuY2VsXCIsZSksdGhpcy5vbihcInRvdWNoZW5kXCIsZnVuY3Rpb24oZSl7IShpPW51bGwpPT09cyYmd2luZG93LnBlcmZvcm1hbmNlLm5vdygpLXQ8MjAwJiYoZS5wcmV2ZW50RGVmYXVsdCgpLHRoaXMudHJpZ2dlcihcInRhcFwiKSl9KX1lbmFibGVUb3VjaEFjdGl2aXR5KCl7aWYodGhpcy5wbGF5ZXIoKSYmdGhpcy5wbGF5ZXIoKS5yZXBvcnRVc2VyQWN0aXZpdHkpe2NvbnN0IGk9bSh0aGlzLnBsYXllcigpLHRoaXMucGxheWVyKCkucmVwb3J0VXNlckFjdGl2aXR5KTtsZXQgdDt0aGlzLm9uKFwidG91Y2hzdGFydFwiLGZ1bmN0aW9uKCl7aSgpLHRoaXMuY2xlYXJJbnRlcnZhbCh0KSx0PXRoaXMuc2V0SW50ZXJ2YWwoaSwyNTApfSk7dmFyIGU9ZnVuY3Rpb24oZSl7aSgpLHRoaXMuY2xlYXJJbnRlcnZhbCh0KX07dGhpcy5vbihcInRvdWNobW92ZVwiLGkpLHRoaXMub24oXCJ0b3VjaGVuZFwiLGUpLHRoaXMub24oXCJ0b3VjaGNhbmNlbFwiLGUpfX1zZXRUaW1lb3V0KGUsdCl7dmFyIGk7cmV0dXJuIGU9bSh0aGlzLGUpLHRoaXMuY2xlYXJUaW1lcnNPbkRpc3Bvc2VfKCksaT13aW5kb3cuc2V0VGltZW91dCgoKT0+e3RoaXMuc2V0VGltZW91dElkc18uaGFzKGkpJiZ0aGlzLnNldFRpbWVvdXRJZHNfLmRlbGV0ZShpKSxlKCl9LHQpLHRoaXMuc2V0VGltZW91dElkc18uYWRkKGkpLGl9Y2xlYXJUaW1lb3V0KGUpe3JldHVybiB0aGlzLnNldFRpbWVvdXRJZHNfLmhhcyhlKSYmKHRoaXMuc2V0VGltZW91dElkc18uZGVsZXRlKGUpLHdpbmRvdy5jbGVhclRpbWVvdXQoZSkpLGV9c2V0SW50ZXJ2YWwoZSx0KXtlPW0odGhpcyxlKSx0aGlzLmNsZWFyVGltZXJzT25EaXNwb3NlXygpO2U9d2luZG93LnNldEludGVydmFsKGUsdCk7cmV0dXJuIHRoaXMuc2V0SW50ZXJ2YWxJZHNfLmFkZChlKSxlfWNsZWFySW50ZXJ2YWwoZSl7cmV0dXJuIHRoaXMuc2V0SW50ZXJ2YWxJZHNfLmhhcyhlKSYmKHRoaXMuc2V0SW50ZXJ2YWxJZHNfLmRlbGV0ZShlKSx3aW5kb3cuY2xlYXJJbnRlcnZhbChlKSksZX1yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZSl7dmFyIHQ7cmV0dXJuIHRoaXMuY2xlYXJUaW1lcnNPbkRpc3Bvc2VfKCksZT1tKHRoaXMsZSksdD13aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpPT57dGhpcy5yYWZJZHNfLmhhcyh0KSYmdGhpcy5yYWZJZHNfLmRlbGV0ZSh0KSxlKCl9KSx0aGlzLnJhZklkc18uYWRkKHQpLHR9cmVxdWVzdE5hbWVkQW5pbWF0aW9uRnJhbWUoZSx0KXt2YXIgaTtpZighdGhpcy5uYW1lZFJhZnNfLmhhcyhlKSlyZXR1cm4gdGhpcy5jbGVhclRpbWVyc09uRGlzcG9zZV8oKSx0PW0odGhpcyx0KSxpPXRoaXMucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpPT57dCgpLHRoaXMubmFtZWRSYWZzXy5oYXMoZSkmJnRoaXMubmFtZWRSYWZzXy5kZWxldGUoZSl9KSx0aGlzLm5hbWVkUmFmc18uc2V0KGUsaSksZX1jYW5jZWxOYW1lZEFuaW1hdGlvbkZyYW1lKGUpe3RoaXMubmFtZWRSYWZzXy5oYXMoZSkmJih0aGlzLmNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMubmFtZWRSYWZzXy5nZXQoZSkpLHRoaXMubmFtZWRSYWZzXy5kZWxldGUoZSkpfWNhbmNlbEFuaW1hdGlvbkZyYW1lKGUpe3JldHVybiB0aGlzLnJhZklkc18uaGFzKGUpJiYodGhpcy5yYWZJZHNfLmRlbGV0ZShlKSx3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUoZSkpLGV9Y2xlYXJUaW1lcnNPbkRpc3Bvc2VfKCl7dGhpcy5jbGVhcmluZ1RpbWVyc09uRGlzcG9zZV98fCh0aGlzLmNsZWFyaW5nVGltZXJzT25EaXNwb3NlXz0hMCx0aGlzLm9uZShcImRpc3Bvc2VcIiwoKT0+e1tbXCJuYW1lZFJhZnNfXCIsXCJjYW5jZWxOYW1lZEFuaW1hdGlvbkZyYW1lXCJdLFtcInJhZklkc19cIixcImNhbmNlbEFuaW1hdGlvbkZyYW1lXCJdLFtcInNldFRpbWVvdXRJZHNfXCIsXCJjbGVhclRpbWVvdXRcIl0sW1wic2V0SW50ZXJ2YWxJZHNfXCIsXCJjbGVhckludGVydmFsXCJdXS5mb3JFYWNoKChbZSxpXSk9Pnt0aGlzW2VdLmZvckVhY2goKGUsdCk9PnRoaXNbaV0odCkpfSksdGhpcy5jbGVhcmluZ1RpbWVyc09uRGlzcG9zZV89ITF9KSl9c3RhdGljIHJlZ2lzdGVyQ29tcG9uZW50KHQsZSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHR8fCF0KXRocm93IG5ldyBFcnJvcihgSWxsZWdhbCBjb21wb25lbnQgbmFtZSwgXCIke3R9XCI7IG11c3QgYmUgYSBub24tZW1wdHkgc3RyaW5nLmApO3ZhciBpPWYuZ2V0Q29tcG9uZW50KFwiVGVjaFwiKSxpPWkmJmkuaXNUZWNoKGUpLHM9Zj09PWV8fGYucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoZS5wcm90b3R5cGUpO2lmKGl8fCFzKXtsZXQgZTt0aHJvdyBlPWk/XCJ0ZWNocyBtdXN0IGJlIHJlZ2lzdGVyZWQgdXNpbmcgVGVjaC5yZWdpc3RlclRlY2goKVwiOlwibXVzdCBiZSBhIENvbXBvbmVudCBzdWJjbGFzc1wiLG5ldyBFcnJvcihgSWxsZWdhbCBjb21wb25lbnQsIFwiJHt0fVwiOyAke2V9LmApfXQ9Zyh0KSxmLmNvbXBvbmVudHNffHwoZi5jb21wb25lbnRzXz17fSk7cz1mLmdldENvbXBvbmVudChcIlBsYXllclwiKTtpZihcIlBsYXllclwiPT09dCYmcyYmcy5wbGF5ZXJzKXtjb25zdCByPXMucGxheWVycztpPU9iamVjdC5rZXlzKHIpO2lmKHImJjA8aS5sZW5ndGgmJmkubWFwKGU9PnJbZV0pLmV2ZXJ5KEJvb2xlYW4pKXRocm93IG5ldyBFcnJvcihcIkNhbiBub3QgcmVnaXN0ZXIgUGxheWVyIGNvbXBvbmVudCBhZnRlciBwbGF5ZXIgaGFzIGJlZW4gY3JlYXRlZC5cIil9cmV0dXJuIGYuY29tcG9uZW50c19bdF09ZSxmLmNvbXBvbmVudHNfW0F0KHQpXT1lfXN0YXRpYyBnZXRDb21wb25lbnQoZSl7aWYoZSYmZi5jb21wb25lbnRzXylyZXR1cm4gZi5jb21wb25lbnRzX1tlXX19ZnVuY3Rpb24gTnQoZSx0LGkscyl7dmFyIHI9cyxuPWkubGVuZ3RoLTE7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHJ8fHI8MHx8bjxyKXRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGV4ZWN1dGUgJyR7ZX0nIG9uICdUaW1lUmFuZ2VzJzogVGhlIGluZGV4IHByb3ZpZGVkICgke3J9KSBpcyBub24tbnVtZXJpYyBvciBvdXQgb2YgYm91bmRzICgwLSR7bn0pLmApO3JldHVybiBpW3NdW3RdfWZ1bmN0aW9uIE10KGUpe2xldCB0O3JldHVybiB0PXZvaWQgMD09PWV8fDA9PT1lLmxlbmd0aD97bGVuZ3RoOjAsc3RhcnQoKXt0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIFRpbWVSYW5nZXMgb2JqZWN0IGlzIGVtcHR5XCIpfSxlbmQoKXt0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIFRpbWVSYW5nZXMgb2JqZWN0IGlzIGVtcHR5XCIpfX06e2xlbmd0aDplLmxlbmd0aCxzdGFydDpOdC5iaW5kKG51bGwsXCJzdGFydFwiLDAsZSksZW5kOk50LmJpbmQobnVsbCxcImVuZFwiLDEsZSl9LHdpbmRvdy5TeW1ib2wmJndpbmRvdy5TeW1ib2wuaXRlcmF0b3ImJih0W3dpbmRvdy5TeW1ib2wuaXRlcmF0b3JdPSgpPT4oZXx8W10pLnZhbHVlcygpKSx0fWZ1bmN0aW9uIFJ0KGUsdCl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/TXQoZSk6dm9pZCAwPT09ZXx8dm9pZCAwPT09dD9NdCgpOk10KFtbZSx0XV0pfWYucmVnaXN0ZXJDb21wb25lbnQoXCJDb21wb25lbnRcIixmKTtmdW5jdGlvbiBVdChlLHQpe2U9ZTwwPzA6ZTtsZXQgaT1NYXRoLmZsb29yKGUlNjApLHM9TWF0aC5mbG9vcihlLzYwJTYwKSxyPU1hdGguZmxvb3IoZS8zNjAwKTt2YXIgbj1NYXRoLmZsb29yKHQvNjAlNjApLHQ9TWF0aC5mbG9vcih0LzM2MDApO3JldHVybiByPTA8KHI9IWlzTmFOKGUpJiZlIT09MS8wP3I6cz1pPVwiLVwiKXx8MDx0P3IrXCI6XCI6XCJcIixzPSgocnx8MTA8PW4pJiZzPDEwP1wiMFwiK3M6cykrXCI6XCIsaT1pPDEwP1wiMFwiK2k6aSxyK3MraX1sZXQgQnQ9VXQ7ZnVuY3Rpb24gRnQoZSl7QnQ9ZX1mdW5jdGlvbiBqdCgpe0J0PVV0fWZ1bmN0aW9uIEh0KGUsdD1lKXtyZXR1cm4gQnQoZSx0KX12YXIgcXQ9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsY3JlYXRlVGltZVJhbmdlczpSdCxjcmVhdGVUaW1lUmFuZ2U6UnQsc2V0Rm9ybWF0VGltZTpGdCxyZXNldEZvcm1hdFRpbWU6anQsZm9ybWF0VGltZTpIdH0pO2Z1bmN0aW9uIFZ0KHQsaSl7bGV0IHM9MDt2YXIgcjtsZXQgbjtpZighaSlyZXR1cm4gMDt0JiZ0Lmxlbmd0aHx8KHQ9UnQoMCwwKSk7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspcj10LnN0YXJ0KGUpLChuPXQuZW5kKGUpKT5pJiYobj1pKSxzKz1uLXI7cmV0dXJuIHMvaX1mdW5jdGlvbiBpKGUpe2lmKGUgaW5zdGFuY2VvZiBpKXJldHVybiBlO1wibnVtYmVyXCI9PXR5cGVvZiBlP3RoaXMuY29kZT1lOlwic3RyaW5nXCI9PXR5cGVvZiBlP3RoaXMubWVzc2FnZT1lOksoZSkmJihcIm51bWJlclwiPT10eXBlb2YgZS5jb2RlJiYodGhpcy5jb2RlPWUuY29kZSksT2JqZWN0LmFzc2lnbih0aGlzLGUpKSx0aGlzLm1lc3NhZ2V8fCh0aGlzLm1lc3NhZ2U9aS5kZWZhdWx0TWVzc2FnZXNbdGhpcy5jb2RlXXx8XCJcIil9aS5wcm90b3R5cGUuY29kZT0wLGkucHJvdG90eXBlLm1lc3NhZ2U9XCJcIixpLnByb3RvdHlwZS5zdGF0dXM9bnVsbCxpLmVycm9yVHlwZXM9W1wiTUVESUFfRVJSX0NVU1RPTVwiLFwiTUVESUFfRVJSX0FCT1JURURcIixcIk1FRElBX0VSUl9ORVRXT1JLXCIsXCJNRURJQV9FUlJfREVDT0RFXCIsXCJNRURJQV9FUlJfU1JDX05PVF9TVVBQT1JURURcIixcIk1FRElBX0VSUl9FTkNSWVBURURcIl0saS5kZWZhdWx0TWVzc2FnZXM9ezE6XCJZb3UgYWJvcnRlZCB0aGUgbWVkaWEgcGxheWJhY2tcIiwyOlwiQSBuZXR3b3JrIGVycm9yIGNhdXNlZCB0aGUgbWVkaWEgZG93bmxvYWQgdG8gZmFpbCBwYXJ0LXdheS5cIiwzOlwiVGhlIG1lZGlhIHBsYXliYWNrIHdhcyBhYm9ydGVkIGR1ZSB0byBhIGNvcnJ1cHRpb24gcHJvYmxlbSBvciBiZWNhdXNlIHRoZSBtZWRpYSB1c2VkIGZlYXR1cmVzIHlvdXIgYnJvd3NlciBkaWQgbm90IHN1cHBvcnQuXCIsNDpcIlRoZSBtZWRpYSBjb3VsZCBub3QgYmUgbG9hZGVkLCBlaXRoZXIgYmVjYXVzZSB0aGUgc2VydmVyIG9yIG5ldHdvcmsgZmFpbGVkIG9yIGJlY2F1c2UgdGhlIGZvcm1hdCBpcyBub3Qgc3VwcG9ydGVkLlwiLDU6XCJUaGUgbWVkaWEgaXMgZW5jcnlwdGVkIGFuZCB3ZSBkbyBub3QgaGF2ZSB0aGUga2V5cyB0byBkZWNyeXB0IGl0LlwifTtmb3IobGV0IGU9MDtlPGkuZXJyb3JUeXBlcy5sZW5ndGg7ZSsrKWlbaS5lcnJvclR5cGVzW2VdXT1lLGkucHJvdG90eXBlW2kuZXJyb3JUeXBlc1tlXV09ZTt2YXIgJHQ9ZnVuY3Rpb24oZSx0KXt2YXIgaSxzPW51bGw7dHJ5e2k9SlNPTi5wYXJzZShlLHQpfWNhdGNoKGUpe3M9ZX1yZXR1cm5bcyxpXX07ZnVuY3Rpb24gV3QoZSl7cmV0dXJuIG51bGwhPWUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUudGhlbn1mdW5jdGlvbiBHdChlKXtXdChlKSYmZS50aGVuKG51bGwsZT0+e30pfWZ1bmN0aW9uIHp0KHMpe3JldHVybltcImtpbmRcIixcImxhYmVsXCIsXCJsYW5ndWFnZVwiLFwiaWRcIixcImluQmFuZE1ldGFkYXRhVHJhY2tEaXNwYXRjaFR5cGVcIixcIm1vZGVcIixcInNyY1wiXS5yZWR1Y2UoKGUsdCxpKT0+KHNbdF0mJihlW3RdPXNbdF0pLGUpLHtjdWVzOnMuY3VlcyYmQXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKHMuY3VlcyxmdW5jdGlvbihlKXtyZXR1cm57c3RhcnRUaW1lOmUuc3RhcnRUaW1lLGVuZFRpbWU6ZS5lbmRUaW1lLHRleHQ6ZS50ZXh0LGlkOmUuaWR9fSl9KX12YXIgWHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS4kJChcInRyYWNrXCIpO2NvbnN0IGk9QXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKHQsZT0+ZS50cmFjayk7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbCh0LGZ1bmN0aW9uKGUpe3ZhciB0PXp0KGUudHJhY2spO3JldHVybiBlLnNyYyYmKHQuc3JjPWUuc3JjKSx0fSkuY29uY2F0KEFycmF5LnByb3RvdHlwZS5maWx0ZXIuY2FsbChlLnRleHRUcmFja3MoKSxmdW5jdGlvbihlKXtyZXR1cm4tMT09PWkuaW5kZXhPZihlKX0pLm1hcCh6dCkpfSxLdD1mdW5jdGlvbihlLGkpe3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24oZSl7Y29uc3QgdD1pLmFkZFJlbW90ZVRleHRUcmFjayhlKS50cmFjazshZS5zcmMmJmUuY3VlcyYmZS5jdWVzLmZvckVhY2goZT0+dC5hZGRDdWUoZSkpfSksaS50ZXh0VHJhY2tzKCl9O3p0O2NvbnN0IFl0PVwidmpzLW1vZGFsLWRpYWxvZ1wiO2NsYXNzIFF0IGV4dGVuZHMgZntjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsdCksdGhpcy5oYW5kbGVLZXlEb3duXz1lPT50aGlzLmhhbmRsZUtleURvd24oZSksdGhpcy5jbG9zZV89ZT0+dGhpcy5jbG9zZShlKSx0aGlzLm9wZW5lZF89dGhpcy5oYXNCZWVuT3BlbmVkXz10aGlzLmhhc0JlZW5GaWxsZWRfPSExLHRoaXMuY2xvc2VhYmxlKCF0aGlzLm9wdGlvbnNfLnVuY2xvc2VhYmxlKSx0aGlzLmNvbnRlbnQodGhpcy5vcHRpb25zXy5jb250ZW50KSx0aGlzLmNvbnRlbnRFbF89byhcImRpdlwiLHtjbGFzc05hbWU6WXQrXCItY29udGVudFwifSx7cm9sZTpcImRvY3VtZW50XCJ9KSx0aGlzLmRlc2NFbF89byhcInBcIix7Y2xhc3NOYW1lOll0K1wiLWRlc2NyaXB0aW9uIHZqcy1jb250cm9sLXRleHRcIixpZDp0aGlzLmVsKCkuZ2V0QXR0cmlidXRlKFwiYXJpYS1kZXNjcmliZWRieVwiKX0pLFNlKHRoaXMuZGVzY0VsXyx0aGlzLmRlc2NyaXB0aW9uKCkpLHRoaXMuZWxfLmFwcGVuZENoaWxkKHRoaXMuZGVzY0VsXyksdGhpcy5lbF8uYXBwZW5kQ2hpbGQodGhpcy5jb250ZW50RWxfKX1jcmVhdGVFbCgpe3JldHVybiBzdXBlci5jcmVhdGVFbChcImRpdlwiLHtjbGFzc05hbWU6dGhpcy5idWlsZENTU0NsYXNzKCksdGFiSW5kZXg6LTF9LHtcImFyaWEtZGVzY3JpYmVkYnlcIjp0aGlzLmlkKCkrXCJfZGVzY3JpcHRpb25cIixcImFyaWEtaGlkZGVuXCI6XCJ0cnVlXCIsXCJhcmlhLWxhYmVsXCI6dGhpcy5sYWJlbCgpLHJvbGU6XCJkaWFsb2dcIn0pfWRpc3Bvc2UoKXt0aGlzLmNvbnRlbnRFbF89bnVsbCx0aGlzLmRlc2NFbF89bnVsbCx0aGlzLnByZXZpb3VzbHlBY3RpdmVFbF89bnVsbCxzdXBlci5kaXNwb3NlKCl9YnVpbGRDU1NDbGFzcygpe3JldHVybiBZdCtcIiB2anMtaGlkZGVuIFwiK3N1cGVyLmJ1aWxkQ1NTQ2xhc3MoKX1sYWJlbCgpe3JldHVybiB0aGlzLmxvY2FsaXplKHRoaXMub3B0aW9uc18ubGFiZWx8fFwiTW9kYWwgV2luZG93XCIpfWRlc2NyaXB0aW9uKCl7bGV0IGU9dGhpcy5vcHRpb25zXy5kZXNjcmlwdGlvbnx8dGhpcy5sb2NhbGl6ZShcIlRoaXMgaXMgYSBtb2RhbCB3aW5kb3cuXCIpO3JldHVybiB0aGlzLmNsb3NlYWJsZSgpJiYoZSs9XCIgXCIrdGhpcy5sb2NhbGl6ZShcIlRoaXMgbW9kYWwgY2FuIGJlIGNsb3NlZCBieSBwcmVzc2luZyB0aGUgRXNjYXBlIGtleSBvciBhY3RpdmF0aW5nIHRoZSBjbG9zZSBidXR0b24uXCIpKSxlfW9wZW4oKXt2YXIgZTt0aGlzLm9wZW5lZF98fChlPXRoaXMucGxheWVyKCksdGhpcy50cmlnZ2VyKFwiYmVmb3JlbW9kYWxvcGVuXCIpLHRoaXMub3BlbmVkXz0hMCwhdGhpcy5vcHRpb25zXy5maWxsQWx3YXlzJiYodGhpcy5oYXNCZWVuT3BlbmVkX3x8dGhpcy5oYXNCZWVuRmlsbGVkXyl8fHRoaXMuZmlsbCgpLHRoaXMud2FzUGxheWluZ189IWUucGF1c2VkKCksdGhpcy5vcHRpb25zXy5wYXVzZU9uT3BlbiYmdGhpcy53YXNQbGF5aW5nXyYmZS5wYXVzZSgpLHRoaXMub24oXCJrZXlkb3duXCIsdGhpcy5oYW5kbGVLZXlEb3duXyksdGhpcy5oYWRDb250cm9sc189ZS5jb250cm9scygpLGUuY29udHJvbHMoITEpLHRoaXMuc2hvdygpLHRoaXMuY29uZGl0aW9uYWxGb2N1c18oKSx0aGlzLmVsKCkuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIixcImZhbHNlXCIpLHRoaXMudHJpZ2dlcihcIm1vZGFsb3BlblwiKSx0aGlzLmhhc0JlZW5PcGVuZWRfPSEwKX1vcGVuZWQoZSl7cmV0dXJuXCJib29sZWFuXCI9PXR5cGVvZiBlJiZ0aGlzW2U/XCJvcGVuXCI6XCJjbG9zZVwiXSgpLHRoaXMub3BlbmVkX31jbG9zZSgpe3ZhciBlO3RoaXMub3BlbmVkXyYmKGU9dGhpcy5wbGF5ZXIoKSx0aGlzLnRyaWdnZXIoXCJiZWZvcmVtb2RhbGNsb3NlXCIpLHRoaXMub3BlbmVkXz0hMSx0aGlzLndhc1BsYXlpbmdfJiZ0aGlzLm9wdGlvbnNfLnBhdXNlT25PcGVuJiZlLnBsYXkoKSx0aGlzLm9mZihcImtleWRvd25cIix0aGlzLmhhbmRsZUtleURvd25fKSx0aGlzLmhhZENvbnRyb2xzXyYmZS5jb250cm9scyghMCksdGhpcy5oaWRlKCksdGhpcy5lbCgpLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsXCJ0cnVlXCIpLHRoaXMudHJpZ2dlcihcIm1vZGFsY2xvc2VcIiksdGhpcy5jb25kaXRpb25hbEJsdXJfKCksdGhpcy5vcHRpb25zXy50ZW1wb3JhcnkpJiZ0aGlzLmRpc3Bvc2UoKX1jbG9zZWFibGUodCl7aWYoXCJib29sZWFuXCI9PXR5cGVvZiB0KXt2YXIgaSx0PXRoaXMuY2xvc2VhYmxlXz0hIXQ7bGV0IGU9dGhpcy5nZXRDaGlsZChcImNsb3NlQnV0dG9uXCIpO3QmJiFlJiYoaT10aGlzLmNvbnRlbnRFbF8sdGhpcy5jb250ZW50RWxfPXRoaXMuZWxfLGU9dGhpcy5hZGRDaGlsZChcImNsb3NlQnV0dG9uXCIse2NvbnRyb2xUZXh0OlwiQ2xvc2UgTW9kYWwgRGlhbG9nXCJ9KSx0aGlzLmNvbnRlbnRFbF89aSx0aGlzLm9uKGUsXCJjbG9zZVwiLHRoaXMuY2xvc2VfKSksIXQmJmUmJih0aGlzLm9mZihlLFwiY2xvc2VcIix0aGlzLmNsb3NlXyksdGhpcy5yZW1vdmVDaGlsZChlKSxlLmRpc3Bvc2UoKSl9cmV0dXJuIHRoaXMuY2xvc2VhYmxlX31maWxsKCl7dGhpcy5maWxsV2l0aCh0aGlzLmNvbnRlbnQoKSl9ZmlsbFdpdGgoZSl7dmFyIHQ9dGhpcy5jb250ZW50RWwoKSxpPXQucGFyZW50Tm9kZSxzPXQubmV4dFNpYmxpbmcsZT0odGhpcy50cmlnZ2VyKFwiYmVmb3JlbW9kYWxmaWxsXCIpLHRoaXMuaGFzQmVlbkZpbGxlZF89ITAsaS5yZW1vdmVDaGlsZCh0KSx0aGlzLmVtcHR5KCkscWUodCxlKSx0aGlzLnRyaWdnZXIoXCJtb2RhbGZpbGxcIikscz9pLmluc2VydEJlZm9yZSh0LHMpOmkuYXBwZW5kQ2hpbGQodCksdGhpcy5nZXRDaGlsZChcImNsb3NlQnV0dG9uXCIpKTtlJiZpLmFwcGVuZENoaWxkKGUuZWxfKX1lbXB0eSgpe3RoaXMudHJpZ2dlcihcImJlZm9yZW1vZGFsZW1wdHlcIiksRmUodGhpcy5jb250ZW50RWwoKSksdGhpcy50cmlnZ2VyKFwibW9kYWxlbXB0eVwiKX1jb250ZW50KGUpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBlJiYodGhpcy5jb250ZW50Xz1lKSx0aGlzLmNvbnRlbnRffWNvbmRpdGlvbmFsRm9jdXNfKCl7dmFyIGU9ZG9jdW1lbnQuYWN0aXZlRWxlbWVudCx0PXRoaXMucGxheWVyXy5lbF87dGhpcy5wcmV2aW91c2x5QWN0aXZlRWxfPW51bGwsIXQuY29udGFpbnMoZSkmJnQhPT1lfHwodGhpcy5wcmV2aW91c2x5QWN0aXZlRWxfPWUsdGhpcy5mb2N1cygpKX1jb25kaXRpb25hbEJsdXJfKCl7dGhpcy5wcmV2aW91c2x5QWN0aXZlRWxfJiYodGhpcy5wcmV2aW91c2x5QWN0aXZlRWxfLmZvY3VzKCksdGhpcy5wcmV2aW91c2x5QWN0aXZlRWxfPW51bGwpfWhhbmRsZUtleURvd24oZSl7aWYoZS5zdG9wUHJvcGFnYXRpb24oKSxyLmlzRXZlbnRLZXkoZSxcIkVzY2FwZVwiKSYmdGhpcy5jbG9zZWFibGUoKSllLnByZXZlbnREZWZhdWx0KCksdGhpcy5jbG9zZSgpO2Vsc2UgaWYoci5pc0V2ZW50S2V5KGUsXCJUYWJcIikpe3ZhciBpPXRoaXMuZm9jdXNhYmxlRWxzXygpLHM9dGhpcy5lbF8ucXVlcnlTZWxlY3RvcihcIjpmb2N1c1wiKTtsZXQgdDtmb3IobGV0IGU9MDtlPGkubGVuZ3RoO2UrKylpZihzPT09aVtlXSl7dD1lO2JyZWFrfWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ9PT10aGlzLmVsXyYmKHQ9MCksZS5zaGlmdEtleSYmMD09PXQ/KGlbaS5sZW5ndGgtMV0uZm9jdXMoKSxlLnByZXZlbnREZWZhdWx0KCkpOmUuc2hpZnRLZXl8fHQhPT1pLmxlbmd0aC0xfHwoaVswXS5mb2N1cygpLGUucHJldmVudERlZmF1bHQoKSl9fWZvY3VzYWJsZUVsc18oKXt2YXIgZT10aGlzLmVsXy5xdWVyeVNlbGVjdG9yQWxsKFwiKlwiKTtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKGUsZT0+KGUgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTEFuY2hvckVsZW1lbnR8fGUgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTEFyZWFFbGVtZW50KSYmZS5oYXNBdHRyaWJ1dGUoXCJocmVmXCIpfHwoZSBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSW5wdXRFbGVtZW50fHxlIGluc3RhbmNlb2Ygd2luZG93LkhUTUxTZWxlY3RFbGVtZW50fHxlIGluc3RhbmNlb2Ygd2luZG93LkhUTUxUZXh0QXJlYUVsZW1lbnR8fGUgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTEJ1dHRvbkVsZW1lbnQpJiYhZS5oYXNBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKXx8ZSBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudHx8ZSBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MT2JqZWN0RWxlbWVudHx8ZSBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MRW1iZWRFbGVtZW50fHxlLmhhc0F0dHJpYnV0ZShcInRhYmluZGV4XCIpJiYtMSE9PWUuZ2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIil8fGUuaGFzQXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKX19UXQucHJvdG90eXBlLm9wdGlvbnNfPXtwYXVzZU9uT3BlbjohMCx0ZW1wb3Jhcnk6ITB9LGYucmVnaXN0ZXJDb21wb25lbnQoXCJNb2RhbERpYWxvZ1wiLFF0KTtjbGFzcyBKdCBleHRlbmRzIGZ0e2NvbnN0cnVjdG9yKHQ9W10pe3N1cGVyKCksdGhpcy50cmFja3NfPVtdLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwibGVuZ3RoXCIse2dldCgpe3JldHVybiB0aGlzLnRyYWNrc18ubGVuZ3RofX0pO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKXRoaXMuYWRkVHJhY2sodFtlXSl9YWRkVHJhY2soZSl7Y29uc3QgdD10aGlzLnRyYWNrc18ubGVuZ3RoO1wiXCIrdCBpbiB0aGlzfHxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyx0LHtnZXQoKXtyZXR1cm4gdGhpcy50cmFja3NfW3RdfX0pLC0xPT09dGhpcy50cmFja3NfLmluZGV4T2YoZSkmJih0aGlzLnRyYWNrc18ucHVzaChlKSx0aGlzLnRyaWdnZXIoe3RyYWNrOmUsdHlwZTpcImFkZHRyYWNrXCIsdGFyZ2V0OnRoaXN9KSksZS5sYWJlbGNoYW5nZV89KCk9Pnt0aGlzLnRyaWdnZXIoe3RyYWNrOmUsdHlwZTpcImxhYmVsY2hhbmdlXCIsdGFyZ2V0OnRoaXN9KX0sX3QoZSkmJmUuYWRkRXZlbnRMaXN0ZW5lcihcImxhYmVsY2hhbmdlXCIsZS5sYWJlbGNoYW5nZV8pfXJlbW92ZVRyYWNrKGkpe2xldCBzO2ZvcihsZXQgZT0wLHQ9dGhpcy5sZW5ndGg7ZTx0O2UrKylpZih0aGlzW2VdPT09aSl7KHM9dGhpc1tlXSkub2ZmJiZzLm9mZigpLHRoaXMudHJhY2tzXy5zcGxpY2UoZSwxKTticmVha31zJiZ0aGlzLnRyaWdnZXIoe3RyYWNrOnMsdHlwZTpcInJlbW92ZXRyYWNrXCIsdGFyZ2V0OnRoaXN9KX1nZXRUcmFja0J5SWQoaSl7bGV0IHM9bnVsbDtmb3IobGV0IGU9MCx0PXRoaXMubGVuZ3RoO2U8dDtlKyspe3ZhciByPXRoaXNbZV07aWYoci5pZD09PWkpe3M9cjticmVha319cmV0dXJuIHN9fWZvcihjb25zdCBOdSBpbiBKdC5wcm90b3R5cGUuYWxsb3dlZEV2ZW50c189e2NoYW5nZTpcImNoYW5nZVwiLGFkZHRyYWNrOlwiYWRkdHJhY2tcIixyZW1vdmV0cmFjazpcInJlbW92ZXRyYWNrXCIsbGFiZWxjaGFuZ2U6XCJsYWJlbGNoYW5nZVwifSlKdC5wcm90b3R5cGVbXCJvblwiK051XT1udWxsO2Z1bmN0aW9uIFp0KHQsaSl7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspT2JqZWN0LmtleXModFtlXSkubGVuZ3RoJiZpLmlkIT09dFtlXS5pZCYmKHRbZV0uZW5hYmxlZD0hMSl9ZnVuY3Rpb24gZWkodCxpKXtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKylPYmplY3Qua2V5cyh0W2VdKS5sZW5ndGgmJmkuaWQhPT10W2VdLmlkJiYodFtlXS5zZWxlY3RlZD0hMSl9Y2xhc3MgdGkgZXh0ZW5kcyBKdHthZGRUcmFjayhlKXtzdXBlci5hZGRUcmFjayhlKSx0aGlzLnF1ZXVlQ2hhbmdlX3x8KHRoaXMucXVldWVDaGFuZ2VfPSgpPT50aGlzLnF1ZXVlVHJpZ2dlcihcImNoYW5nZVwiKSksdGhpcy50cmlnZ2VyU2VsZWN0ZWRsYW5ndWFnZWNoYW5nZXx8KHRoaXMudHJpZ2dlclNlbGVjdGVkbGFuZ3VhZ2VjaGFuZ2VfPSgpPT50aGlzLnRyaWdnZXIoXCJzZWxlY3RlZGxhbmd1YWdlY2hhbmdlXCIpKSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJtb2RlY2hhbmdlXCIsdGhpcy5xdWV1ZUNoYW5nZV8pOy0xPT09W1wibWV0YWRhdGFcIixcImNoYXB0ZXJzXCJdLmluZGV4T2YoZS5raW5kKSYmZS5hZGRFdmVudExpc3RlbmVyKFwibW9kZWNoYW5nZVwiLHRoaXMudHJpZ2dlclNlbGVjdGVkbGFuZ3VhZ2VjaGFuZ2VfKX1yZW1vdmVUcmFjayhlKXtzdXBlci5yZW1vdmVUcmFjayhlKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXImJih0aGlzLnF1ZXVlQ2hhbmdlXyYmZS5yZW1vdmVFdmVudExpc3RlbmVyKFwibW9kZWNoYW5nZVwiLHRoaXMucXVldWVDaGFuZ2VfKSx0aGlzLnNlbGVjdGVkbGFuZ3VhZ2VjaGFuZ2VfKSYmZS5yZW1vdmVFdmVudExpc3RlbmVyKFwibW9kZWNoYW5nZVwiLHRoaXMudHJpZ2dlclNlbGVjdGVkbGFuZ3VhZ2VjaGFuZ2VfKX19Y2xhc3MgaWl7Y29uc3RydWN0b3IoZSl7aWkucHJvdG90eXBlLnNldEN1ZXNfLmNhbGwodGhpcyxlKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImxlbmd0aFwiLHtnZXQoKXtyZXR1cm4gdGhpcy5sZW5ndGhffX0pfXNldEN1ZXNfKGUpe3ZhciB0PXRoaXMubGVuZ3RofHwwO2xldCBpPTA7ZnVuY3Rpb24gcyhlKXtcIlwiK2UgaW4gdGhpc3x8T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJcIitlLHtnZXQoKXtyZXR1cm4gdGhpcy5jdWVzX1tlXX19KX12YXIgcj1lLmxlbmd0aDt0aGlzLmN1ZXNfPWUsdGhpcy5sZW5ndGhfPWUubGVuZ3RoO2lmKHQ8cilmb3IoaT10O2k8cjtpKyspcy5jYWxsKHRoaXMsaSl9Z2V0Q3VlQnlJZChpKXtsZXQgcz1udWxsO2ZvcihsZXQgZT0wLHQ9dGhpcy5sZW5ndGg7ZTx0O2UrKyl7dmFyIHI9dGhpc1tlXTtpZihyLmlkPT09aSl7cz1yO2JyZWFrfX1yZXR1cm4gc319Y29uc3Qgc2k9e2FsdGVybmF0aXZlOlwiYWx0ZXJuYXRpdmVcIixjYXB0aW9uczpcImNhcHRpb25zXCIsbWFpbjpcIm1haW5cIixzaWduOlwic2lnblwiLHN1YnRpdGxlczpcInN1YnRpdGxlc1wiLGNvbW1lbnRhcnk6XCJjb21tZW50YXJ5XCJ9LHJpPXthbHRlcm5hdGl2ZTpcImFsdGVybmF0aXZlXCIsZGVzY3JpcHRpb25zOlwiZGVzY3JpcHRpb25zXCIsbWFpbjpcIm1haW5cIixcIm1haW4tZGVzY1wiOlwibWFpbi1kZXNjXCIsdHJhbnNsYXRpb246XCJ0cmFuc2xhdGlvblwiLGNvbW1lbnRhcnk6XCJjb21tZW50YXJ5XCJ9LG5pPXtzdWJ0aXRsZXM6XCJzdWJ0aXRsZXNcIixjYXB0aW9uczpcImNhcHRpb25zXCIsZGVzY3JpcHRpb25zOlwiZGVzY3JpcHRpb25zXCIsY2hhcHRlcnM6XCJjaGFwdGVyc1wiLG1ldGFkYXRhOlwibWV0YWRhdGFcIn0sYWk9e2Rpc2FibGVkOlwiZGlzYWJsZWRcIixoaWRkZW46XCJoaWRkZW5cIixzaG93aW5nOlwic2hvd2luZ1wifTtjbGFzcyBvaSBleHRlbmRzIGZ0e2NvbnN0cnVjdG9yKGU9e30pe3N1cGVyKCk7Y29uc3QgdD17aWQ6ZS5pZHx8XCJ2anNfdHJhY2tfXCIrdHQrKyxraW5kOmUua2luZHx8XCJcIixsYW5ndWFnZTplLmxhbmd1YWdlfHxcIlwifTtsZXQgaT1lLmxhYmVsfHxcIlwiO2Zvcihjb25zdCBzIGluIHQpT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMscyx7Z2V0KCl7cmV0dXJuIHRbc119LHNldCgpe319KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImxhYmVsXCIse2dldCgpe3JldHVybiBpfSxzZXQoZSl7ZSE9PWkmJihpPWUsdGhpcy50cmlnZ2VyKFwibGFiZWxjaGFuZ2VcIikpfX0pfX1mdW5jdGlvbiBsaShlKXt2YXIgdD1bXCJwcm90b2NvbFwiLFwiaG9zdG5hbWVcIixcInBvcnRcIixcInBhdGhuYW1lXCIsXCJzZWFyY2hcIixcImhhc2hcIixcImhvc3RcIl0saT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKSxzPShpLmhyZWY9ZSx7fSk7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspc1t0W2VdXT1pW3RbZV1dO3JldHVyblwiaHR0cDpcIj09PXMucHJvdG9jb2wmJihzLmhvc3Q9cy5ob3N0LnJlcGxhY2UoLzo4MCQvLFwiXCIpKSxcImh0dHBzOlwiPT09cy5wcm90b2NvbCYmKHMuaG9zdD1zLmhvc3QucmVwbGFjZSgvOjQ0MyQvLFwiXCIpKSxzLnByb3RvY29sfHwocy5wcm90b2NvbD13aW5kb3cubG9jYXRpb24ucHJvdG9jb2wpLHMuaG9zdHx8KHMuaG9zdD13aW5kb3cubG9jYXRpb24uaG9zdCksc31mdW5jdGlvbiBkaShlKXt2YXIgdDtyZXR1cm4gZS5tYXRjaCgvXmh0dHBzPzpcXC9cXC8vKXx8KCh0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpKS5ocmVmPWUsZT10LmhyZWYpLGV9ZnVuY3Rpb24gaGkoZSx0PXdpbmRvdy5sb2NhdGlvbil7cmV0dXJuKFwiOlwiPT09KGU9bGkoZSkpLnByb3RvY29sP3Q6ZSkucHJvdG9jb2wrZS5ob3N0IT09dC5wcm90b2NvbCt0Lmhvc3R9Y29uc3QgdWk9ZnVuY3Rpb24oZSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpe2U9L14oXFwvPykoW1xcc1xcU10qPykoKD86XFwuezEsMn18W15cXC9dKz8pKFxcLihbXlxcLlxcL1xcP10rKSkpKD86W1xcL10qfFtcXD9dLiopJC8uZXhlYyhlKTtpZihlKXJldHVybiBlLnBvcCgpLnRvTG93ZXJDYXNlKCl9cmV0dXJuXCJcIn07dmFyIGNpPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLHBhcnNlVXJsOmxpLGdldEFic29sdXRlVVJMOmRpLGdldEZpbGVFeHRlbnNpb246dWksaXNDcm9zc09yaWdpbjpoaX0pLHBpPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBPdD9PdDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOnt9LG1pPXBpLGdpPUR0KGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gZS5leHBvcnRzPXQ9T2JqZWN0LmFzc2lnbj9PYmplY3QuYXNzaWduLmJpbmQoKTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaSxzPWFyZ3VtZW50c1t0XTtmb3IoaSBpbiBzKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLGkpJiYoZVtpXT1zW2ldKX1yZXR1cm4gZX0sZS5leHBvcnRzLl9fZXNNb2R1bGU9ITAsZS5leHBvcnRzLmRlZmF1bHQ9ZS5leHBvcnRzLHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfWUuZXhwb3J0cz10LGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0c30pLGZpPShwaT1naSkmJnBpLl9fZXNNb2R1bGUmJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwaSxcImRlZmF1bHRcIik/cGkuZGVmYXVsdDpwaSx5aT1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4hIWUmJihcIltvYmplY3QgRnVuY3Rpb25dXCI9PT0odD1faS5jYWxsKGUpKXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSYmXCJbb2JqZWN0IFJlZ0V4cF1cIiE9PXR8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJihlPT09d2luZG93LnNldFRpbWVvdXR8fGU9PT13aW5kb3cuYWxlcnR8fGU9PT13aW5kb3cuY29uZmlybXx8ZT09PXdpbmRvdy5wcm9tcHQpKX0sX2k9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztraS5odHRwSGFuZGxlcj1mdW5jdGlvbihzLHIpe3JldHVybiB2b2lkIDA9PT1yJiYocj0hMSksZnVuY3Rpb24oZSx0LGkpe2lmKGUpcyhlKTtlbHNlIGlmKDQwMDw9dC5zdGF0dXNDb2RlJiZ0LnN0YXR1c0NvZGU8PTU5OSl7ZT1pO2lmKHIpaWYobWkuVGV4dERlY29kZXIpe3Q9ZnVuY3Rpb24oZSl7dm9pZCAwPT09ZSYmKGU9XCJcIik7cmV0dXJuIGUudG9Mb3dlckNhc2UoKS5zcGxpdChcIjtcIikucmVkdWNlKGZ1bmN0aW9uKGUsdCl7dmFyIHQ9dC5zcGxpdChcIj1cIiksaT10WzBdLHQ9dFsxXTtyZXR1cm5cImNoYXJzZXRcIj09PWkudHJpbSgpP3QudHJpbSgpOmV9LFwidXRmLThcIil9KHQuaGVhZGVycyYmdC5oZWFkZXJzW1wiY29udGVudC10eXBlXCJdKTt0cnl7ZT1uZXcgVGV4dERlY29kZXIodCkuZGVjb2RlKGkpfWNhdGNoKGUpe319ZWxzZSBlPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxuZXcgVWludDhBcnJheShpKSk7cyh7Y2F1c2U6ZX0pfWVsc2UgcyhudWxsLGkpfX07Zm9yKHZhciB2aT1mdW5jdGlvbihlKXt2YXIgcz17fTtyZXR1cm4gZSYmZS50cmltKCkuc3BsaXQoXCJcXG5cIikuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1lLmluZGV4T2YoXCI6XCIpLGk9ZS5zbGljZSgwLHQpLnRyaW0oKS50b0xvd2VyQ2FzZSgpLGU9ZS5zbGljZSh0KzEpLnRyaW0oKTtcInVuZGVmaW5lZFwiPT10eXBlb2Ygc1tpXT9zW2ldPWU6QXJyYXkuaXNBcnJheShzW2ldKT9zW2ldLnB1c2goZSk6c1tpXT1bc1tpXSxlXX0pLHN9LGJpPWtpLHBpPWtpLFRpPShraS5YTUxIdHRwUmVxdWVzdD1taS5YTUxIdHRwUmVxdWVzdHx8ZnVuY3Rpb24oKXt9LGtpLlhEb21haW5SZXF1ZXN0PVwid2l0aENyZWRlbnRpYWxzXCJpbiBuZXcga2kuWE1MSHR0cFJlcXVlc3Q/a2kuWE1MSHR0cFJlcXVlc3Q6bWkuWERvbWFpblJlcXVlc3QsW1wiZ2V0XCIsXCJwdXRcIixcInBvc3RcIixcInBhdGNoXCIsXCJoZWFkXCIsXCJkZWxldGVcIl0pLFNpPWZ1bmN0aW9uKHMpe2tpW1wiZGVsZXRlXCI9PT1zP1wiZGVsXCI6c109ZnVuY3Rpb24oZSx0LGkpe3JldHVybih0PUVpKGUsdCxpKSkubWV0aG9kPXMudG9VcHBlckNhc2UoKSxDaSh0KX19LHdpPTA7d2k8VGkubGVuZ3RoO3dpKyspU2koVGlbd2ldKTtmdW5jdGlvbiBFaShlLHQsaSl7dmFyIHM9ZTtyZXR1cm4geWkodCk/KGk9dCxcInN0cmluZ1wiPT10eXBlb2YgZSYmKHM9e3VyaTplfSkpOnM9Z2koe30sdCx7dXJpOmV9KSxzLmNhbGxiYWNrPWksc31mdW5jdGlvbiBraShlLHQsaSl7cmV0dXJuIENpKHQ9RWkoZSx0LGkpKX1mdW5jdGlvbiBDaShzKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2Ygcy5jYWxsYmFjayl0aHJvdyBuZXcgRXJyb3IoXCJjYWxsYmFjayBhcmd1bWVudCBtaXNzaW5nXCIpO3ZhciByPSExLG49ZnVuY3Rpb24oZSx0LGkpe3J8fChyPSEwLHMuY2FsbGJhY2soZSx0LGkpKX07ZnVuY3Rpb24gYSgpe3ZhciBlPXZvaWQgMCxlPWQucmVzcG9uc2V8fGQucmVzcG9uc2VUZXh0fHxmdW5jdGlvbihlKXt0cnl7aWYoXCJkb2N1bWVudFwiPT09ZS5yZXNwb25zZVR5cGUpcmV0dXJuIGUucmVzcG9uc2VYTUw7dmFyIHQ9ZS5yZXNwb25zZVhNTCYmXCJwYXJzZXJlcnJvclwiPT09ZS5yZXNwb25zZVhNTC5kb2N1bWVudEVsZW1lbnQubm9kZU5hbWU7aWYoXCJcIj09PWUucmVzcG9uc2VUeXBlJiYhdClyZXR1cm4gZS5yZXNwb25zZVhNTH1jYXRjaChlKXt9cmV0dXJuIG51bGx9KGQpO2lmKGcpdHJ5e2U9SlNPTi5wYXJzZShlKX1jYXRjaChlKXt9cmV0dXJuIGV9ZnVuY3Rpb24gdChlKXtyZXR1cm4gY2xlYXJUaW1lb3V0KGwpLChlPWUgaW5zdGFuY2VvZiBFcnJvcj9lOm5ldyBFcnJvcihcIlwiKyhlfHxcIlVua25vd24gWE1MSHR0cFJlcXVlc3QgRXJyb3JcIikpKS5zdGF0dXNDb2RlPTAsbihlLGYpfWZ1bmN0aW9uIGUoKXt2YXIgZSx0LGk7aWYoIW8pcmV0dXJuIGNsZWFyVGltZW91dChsKSxlPXMudXNlWERSJiZ2b2lkIDA9PT1kLnN0YXR1cz8yMDA6MTIyMz09PWQuc3RhdHVzPzIwNDpkLnN0YXR1cyx0PWYsaT1udWxsLDAhPT1lPyh0PXtib2R5OmEoKSxzdGF0dXNDb2RlOmUsbWV0aG9kOnUsaGVhZGVyczp7fSx1cmw6aCxyYXdSZXF1ZXN0OmR9LGQuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzJiYodC5oZWFkZXJzPXZpKGQuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpKSk6aT1uZXcgRXJyb3IoXCJJbnRlcm5hbCBYTUxIdHRwUmVxdWVzdCBFcnJvclwiKSxuKGksdCx0LmJvZHkpfXZhciBpLG8sbCxkPXMueGhyfHxudWxsLGg9KGQ9ZHx8bmV3KHMuY29yc3x8cy51c2VYRFI/a2kuWERvbWFpblJlcXVlc3Q6a2kuWE1MSHR0cFJlcXVlc3QpKS51cmw9cy51cml8fHMudXJsLHU9ZC5tZXRob2Q9cy5tZXRob2R8fFwiR0VUXCIsYz1zLmJvZHl8fHMuZGF0YSxwPWQuaGVhZGVycz1zLmhlYWRlcnN8fHt9LG09ISFzLnN5bmMsZz0hMSxmPXtib2R5OnZvaWQgMCxoZWFkZXJzOnt9LHN0YXR1c0NvZGU6MCxtZXRob2Q6dSx1cmw6aCxyYXdSZXF1ZXN0OmR9O2lmKFwianNvblwiaW4gcyYmITEhPT1zLmpzb24mJihnPSEwLHAuYWNjZXB0fHxwLkFjY2VwdHx8KHAuQWNjZXB0PVwiYXBwbGljYXRpb24vanNvblwiKSxcIkdFVFwiIT09dSkmJlwiSEVBRFwiIT09dSYmKHBbXCJjb250ZW50LXR5cGVcIl18fHBbXCJDb250ZW50LVR5cGVcIl18fChwW1wiQ29udGVudC1UeXBlXCJdPVwiYXBwbGljYXRpb24vanNvblwiKSxjPUpTT04uc3RyaW5naWZ5KCEwPT09cy5qc29uP2M6cy5qc29uKSksZC5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXs0PT09ZC5yZWFkeVN0YXRlJiZzZXRUaW1lb3V0KGUsMCl9LGQub25sb2FkPWUsZC5vbmVycm9yPXQsZC5vbnByb2dyZXNzPWZ1bmN0aW9uKCl7fSxkLm9uYWJvcnQ9ZnVuY3Rpb24oKXtvPSEwfSxkLm9udGltZW91dD10LGQub3Blbih1LGgsIW0scy51c2VybmFtZSxzLnBhc3N3b3JkKSxtfHwoZC53aXRoQ3JlZGVudGlhbHM9ISFzLndpdGhDcmVkZW50aWFscyksIW0mJjA8cy50aW1lb3V0JiYobD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIGU7b3x8KG89ITAsZC5hYm9ydChcInRpbWVvdXRcIiksKGU9bmV3IEVycm9yKFwiWE1MSHR0cFJlcXVlc3QgdGltZW91dFwiKSkuY29kZT1cIkVUSU1FRE9VVFwiLHQoZSkpfSxzLnRpbWVvdXQpKSxkLnNldFJlcXVlc3RIZWFkZXIpZm9yKGkgaW4gcClwLmhhc093blByb3BlcnR5KGkpJiZkLnNldFJlcXVlc3RIZWFkZXIoaSxwW2ldKTtlbHNlIGlmKHMuaGVhZGVycyYmIWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkodCkpcmV0dXJuO3JldHVybiAxfShzLmhlYWRlcnMpKXRocm93IG5ldyBFcnJvcihcIkhlYWRlcnMgY2Fubm90IGJlIHNldCBvbiBhbiBYRG9tYWluUmVxdWVzdCBvYmplY3RcIik7cmV0dXJuXCJyZXNwb25zZVR5cGVcImluIHMmJihkLnJlc3BvbnNlVHlwZT1zLnJlc3BvbnNlVHlwZSksXCJiZWZvcmVTZW5kXCJpbiBzJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBzLmJlZm9yZVNlbmQmJnMuYmVmb3JlU2VuZChkKSxkLnNlbmQoY3x8bnVsbCksZH1iaS5kZWZhdWx0PXBpO2Z1bmN0aW9uIElpKGUsdCl7dmFyIGk9bmV3IHdpbmRvdy5XZWJWVFQuUGFyc2VyKHdpbmRvdyx3aW5kb3cudnR0anMsd2luZG93LldlYlZUVC5TdHJpbmdEZWNvZGVyKCkpO2NvbnN0IHM9W107aS5vbmN1ZT1mdW5jdGlvbihlKXt0LmFkZEN1ZShlKX0saS5vbnBhcnNpbmdlcnJvcj1mdW5jdGlvbihlKXtzLnB1c2goZSl9LGkub25mbHVzaD1mdW5jdGlvbigpe3QudHJpZ2dlcih7dHlwZTpcImxvYWRlZGRhdGFcIix0YXJnZXQ6dH0pfSxpLnBhcnNlKGUpLDA8cy5sZW5ndGgmJih3aW5kb3cuY29uc29sZSYmd2luZG93LmNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQmJndpbmRvdy5jb25zb2xlLmdyb3VwQ29sbGFwc2VkKFwiVGV4dCBUcmFjayBwYXJzaW5nIGVycm9ycyBmb3IgXCIrdC5zcmMpLHMuZm9yRWFjaChlPT5kLmVycm9yKGUpKSx3aW5kb3cuY29uc29sZSkmJndpbmRvdy5jb25zb2xlLmdyb3VwRW5kJiZ3aW5kb3cuY29uc29sZS5ncm91cEVuZCgpLGkuZmx1c2goKX1mdW5jdGlvbiB4aShlLHMpe3ZhciB0PXt1cmk6ZX07KGU9aGkoZSkpJiYodC5jb3JzPWUpLChlPVwidXNlLWNyZWRlbnRpYWxzXCI9PT1zLnRlY2hfLmNyb3NzT3JpZ2luKCkpJiYodC53aXRoQ3JlZGVudGlhbHM9ZSksYmkodCxtKHRoaXMsZnVuY3Rpb24oZSx0LGkpe2lmKGUpcmV0dXJuIGQuZXJyb3IoZSx0KTtzLmxvYWRlZF89ITAsXCJmdW5jdGlvblwiIT10eXBlb2Ygd2luZG93LldlYlZUVD9zLnRlY2hfJiZzLnRlY2hfLmFueShbXCJ2dHRqc2xvYWRlZFwiLFwidnR0anNlcnJvclwiXSxlPT57aWYoXCJ2dHRqc2Vycm9yXCIhPT1lLnR5cGUpcmV0dXJuIElpKGkscyk7ZC5lcnJvcihcInZ0dGpzIGZhaWxlZCB0byBsb2FkLCBzdG9wcGluZyB0cnlpbmcgdG8gcHJvY2VzcyBcIitzLnNyYyl9KTpJaShpLHMpfSkpfWNsYXNzIEFpIGV4dGVuZHMgb2l7Y29uc3RydWN0b3IoZT17fSl7aWYoIWUudGVjaCl0aHJvdyBuZXcgRXJyb3IoXCJBIHRlY2ggd2FzIG5vdCBwcm92aWRlZC5cIik7ZT1oKGUse2tpbmQ6bmlbZS5raW5kXXx8XCJzdWJ0aXRsZXNcIixsYW5ndWFnZTplLmxhbmd1YWdlfHxlLnNyY2xhbmd8fFwiXCJ9KTtsZXQgdD1haVtlLm1vZGVdfHxcImRpc2FibGVkXCI7Y29uc3QgaT1lLmRlZmF1bHQscz0oXCJtZXRhZGF0YVwiIT09ZS5raW5kJiZcImNoYXB0ZXJzXCIhPT1lLmtpbmR8fCh0PVwiaGlkZGVuXCIpLHN1cGVyKGUpLHRoaXMudGVjaF89ZS50ZWNoLHRoaXMuY3Vlc189W10sdGhpcy5hY3RpdmVDdWVzXz1bXSx0aGlzLnByZWxvYWRfPSExIT09dGhpcy50ZWNoXy5wcmVsb2FkVGV4dFRyYWNrcyxuZXcgaWkodGhpcy5jdWVzXykpLG49bmV3IGlpKHRoaXMuYWN0aXZlQ3Vlc18pO2xldCBhPSExO3RoaXMudGltZXVwZGF0ZUhhbmRsZXI9bSh0aGlzLGZ1bmN0aW9uKGU9e30pe3RoaXMudGVjaF8uaXNEaXNwb3NlZCgpfHwodGhpcy50ZWNoXy5pc1JlYWR5XyYmKHRoaXMuYWN0aXZlQ3Vlcz10aGlzLmFjdGl2ZUN1ZXMsYSkmJih0aGlzLnRyaWdnZXIoXCJjdWVjaGFuZ2VcIiksYT0hMSksXCJ0aW1ldXBkYXRlXCIhPT1lLnR5cGUmJih0aGlzLnJ2Zl89dGhpcy50ZWNoXy5yZXF1ZXN0VmlkZW9GcmFtZUNhbGxiYWNrKHRoaXMudGltZXVwZGF0ZUhhbmRsZXIpKSl9KTt0aGlzLnRlY2hfLm9uZShcImRpc3Bvc2VcIiwoKT0+e3RoaXMuc3RvcFRyYWNraW5nKCl9KSxcImRpc2FibGVkXCIhPT10JiZ0aGlzLnN0YXJ0VHJhY2tpbmcoKSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLHtkZWZhdWx0OntnZXQoKXtyZXR1cm4gaX0sc2V0KCl7fX0sbW9kZTp7Z2V0KCl7cmV0dXJuIHR9LHNldChlKXthaVtlXSYmdCE9PWUmJih0PWUsdGhpcy5wcmVsb2FkX3x8XCJkaXNhYmxlZFwiPT09dHx8MCE9PXRoaXMuY3Vlcy5sZW5ndGh8fHhpKHRoaXMuc3JjLHRoaXMpLHRoaXMuc3RvcFRyYWNraW5nKCksXCJkaXNhYmxlZFwiIT09dCYmdGhpcy5zdGFydFRyYWNraW5nKCksdGhpcy50cmlnZ2VyKFwibW9kZWNoYW5nZVwiKSl9fSxjdWVzOntnZXQoKXtyZXR1cm4gdGhpcy5sb2FkZWRfP3M6bnVsbH0sc2V0KCl7fX0sYWN0aXZlQ3Vlczp7Z2V0KCl7aWYoIXRoaXMubG9hZGVkXylyZXR1cm4gbnVsbDtpZigwIT09dGhpcy5jdWVzLmxlbmd0aCl7dmFyIGk9dGhpcy50ZWNoXy5jdXJyZW50VGltZSgpLHM9W107Zm9yKGxldCBlPTAsdD10aGlzLmN1ZXMubGVuZ3RoO2U8dDtlKyspe3ZhciByPXRoaXMuY3Vlc1tlXTtyLnN0YXJ0VGltZTw9aSYmci5lbmRUaW1lPj1pJiZzLnB1c2gocil9aWYoYT0hMSxzLmxlbmd0aCE9PXRoaXMuYWN0aXZlQ3Vlc18ubGVuZ3RoKWE9ITA7ZWxzZSBmb3IobGV0IGU9MDtlPHMubGVuZ3RoO2UrKyktMT09PXRoaXMuYWN0aXZlQ3Vlc18uaW5kZXhPZihzW2VdKSYmKGE9ITApO3RoaXMuYWN0aXZlQ3Vlc189cyxuLnNldEN1ZXNfKHRoaXMuYWN0aXZlQ3Vlc18pfXJldHVybiBufSxzZXQoKXt9fX0pLGUuc3JjPyh0aGlzLnNyYz1lLnNyYyx0aGlzLnByZWxvYWRffHwodGhpcy5sb2FkZWRfPSEwKSwodGhpcy5wcmVsb2FkX3x8XCJzdWJ0aXRsZXNcIiE9PWUua2luZCYmXCJjYXB0aW9uc1wiIT09ZS5raW5kKSYmeGkodGhpcy5zcmMsdGhpcykpOnRoaXMubG9hZGVkXz0hMH1zdGFydFRyYWNraW5nKCl7dGhpcy5ydmZfPXRoaXMudGVjaF8ucmVxdWVzdFZpZGVvRnJhbWVDYWxsYmFjayh0aGlzLnRpbWV1cGRhdGVIYW5kbGVyKSx0aGlzLnRlY2hfLm9uKFwidGltZXVwZGF0ZVwiLHRoaXMudGltZXVwZGF0ZUhhbmRsZXIpfXN0b3BUcmFja2luZygpe3RoaXMucnZmXyYmKHRoaXMudGVjaF8uY2FuY2VsVmlkZW9GcmFtZUNhbGxiYWNrKHRoaXMucnZmXyksdGhpcy5ydmZfPXZvaWQgMCksdGhpcy50ZWNoXy5vZmYoXCJ0aW1ldXBkYXRlXCIsdGhpcy50aW1ldXBkYXRlSGFuZGxlcil9YWRkQ3VlKGUpe2xldCB0PWU7aWYod2luZG93LnZ0dGpzJiYhKGUgaW5zdGFuY2VvZiB3aW5kb3cudnR0anMuVlRUQ3VlKSl7dD1uZXcgd2luZG93LnZ0dGpzLlZUVEN1ZShlLnN0YXJ0VGltZSxlLmVuZFRpbWUsZS50ZXh0KTtmb3IoY29uc3QgcyBpbiBlKXMgaW4gdHx8KHRbc109ZVtzXSk7dC5pZD1lLmlkLHQub3JpZ2luYWxDdWVfPWV9dmFyIGk9dGhpcy50ZWNoXy50ZXh0VHJhY2tzKCk7Zm9yKGxldCBlPTA7ZTxpLmxlbmd0aDtlKyspaVtlXSE9PXRoaXMmJmlbZV0ucmVtb3ZlQ3VlKHQpO3RoaXMuY3Vlc18ucHVzaCh0KSx0aGlzLmN1ZXMuc2V0Q3Vlc18odGhpcy5jdWVzXyl9cmVtb3ZlQ3VlKGUpe2xldCB0PXRoaXMuY3Vlc18ubGVuZ3RoO2Zvcig7dC0tOyl7dmFyIGk9dGhpcy5jdWVzX1t0XTtpZihpPT09ZXx8aS5vcmlnaW5hbEN1ZV8mJmkub3JpZ2luYWxDdWVfPT09ZSl7dGhpcy5jdWVzXy5zcGxpY2UodCwxKSx0aGlzLmN1ZXMuc2V0Q3Vlc18odGhpcy5jdWVzXyk7YnJlYWt9fX19QWkucHJvdG90eXBlLmFsbG93ZWRFdmVudHNfPXtjdWVjaGFuZ2U6XCJjdWVjaGFuZ2VcIn07Y2xhc3MgUGkgZXh0ZW5kcyBvaXtjb25zdHJ1Y3RvcihlPXt9KXtlPWgoZSx7a2luZDpyaVtlLmtpbmRdfHxcIlwifSk7c3VwZXIoZSk7bGV0IHQ9ITE7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJlbmFibGVkXCIse2dldCgpe3JldHVybiB0fSxzZXQoZSl7XCJib29sZWFuXCI9PXR5cGVvZiBlJiZlIT09dCYmKHQ9ZSx0aGlzLnRyaWdnZXIoXCJlbmFibGVkY2hhbmdlXCIpKX19KSxlLmVuYWJsZWQmJih0aGlzLmVuYWJsZWQ9ZS5lbmFibGVkKSx0aGlzLmxvYWRlZF89ITB9fWNsYXNzIExpIGV4dGVuZHMgb2l7Y29uc3RydWN0b3IoZT17fSl7ZT1oKGUse2tpbmQ6c2lbZS5raW5kXXx8XCJcIn0pO3N1cGVyKGUpO2xldCB0PSExO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwic2VsZWN0ZWRcIix7Z2V0KCl7cmV0dXJuIHR9LHNldChlKXtcImJvb2xlYW5cIj09dHlwZW9mIGUmJmUhPT10JiYodD1lLHRoaXMudHJpZ2dlcihcInNlbGVjdGVkY2hhbmdlXCIpKX19KSxlLnNlbGVjdGVkJiYodGhpcy5zZWxlY3RlZD1lLnNlbGVjdGVkKX19Y2xhc3MgT2kgZXh0ZW5kcyBmdHtjb25zdHJ1Y3RvcihlPXt9KXtzdXBlcigpO2xldCB0O2NvbnN0IGk9bmV3IEFpKGUpO3RoaXMua2luZD1pLmtpbmQsdGhpcy5zcmM9aS5zcmMsdGhpcy5zcmNsYW5nPWkubGFuZ3VhZ2UsdGhpcy5sYWJlbD1pLmxhYmVsLHRoaXMuZGVmYXVsdD1pLmRlZmF1bHQsT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcyx7cmVhZHlTdGF0ZTp7Z2V0KCl7cmV0dXJuIHR9fSx0cmFjazp7Z2V0KCl7cmV0dXJuIGl9fX0pLHQ9T2kuTk9ORSxpLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkZWRkYXRhXCIsKCk9Pnt0PU9pLkxPQURFRCx0aGlzLnRyaWdnZXIoe3R5cGU6XCJsb2FkXCIsdGFyZ2V0OnRoaXN9KX0pfX1PaS5wcm90b3R5cGUuYWxsb3dlZEV2ZW50c189e2xvYWQ6XCJsb2FkXCJ9LE9pLk5PTkU9MCxPaS5MT0FESU5HPTEsT2kuTE9BREVEPTIsT2kuRVJST1I9Mztjb25zdCBEaT17YXVkaW86e0xpc3RDbGFzczpjbGFzcyBleHRlbmRzIEp0e2NvbnN0cnVjdG9yKHQ9W10pe2ZvcihsZXQgZT10Lmxlbmd0aC0xOzA8PWU7ZS0tKWlmKHRbZV0uZW5hYmxlZCl7WnQodCx0W2VdKTticmVha31zdXBlcih0KSx0aGlzLmNoYW5naW5nXz0hMX1hZGRUcmFjayhlKXtlLmVuYWJsZWQmJlp0KHRoaXMsZSksc3VwZXIuYWRkVHJhY2soZSksZS5hZGRFdmVudExpc3RlbmVyJiYoZS5lbmFibGVkQ2hhbmdlXz0oKT0+e3RoaXMuY2hhbmdpbmdffHwodGhpcy5jaGFuZ2luZ189ITAsWnQodGhpcyxlKSx0aGlzLmNoYW5naW5nXz0hMSx0aGlzLnRyaWdnZXIoXCJjaGFuZ2VcIikpfSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJlbmFibGVkY2hhbmdlXCIsZS5lbmFibGVkQ2hhbmdlXykpfXJlbW92ZVRyYWNrKGUpe3N1cGVyLnJlbW92ZVRyYWNrKGUpLGUucmVtb3ZlRXZlbnRMaXN0ZW5lciYmZS5lbmFibGVkQ2hhbmdlXyYmKGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVuYWJsZWRjaGFuZ2VcIixlLmVuYWJsZWRDaGFuZ2VfKSxlLmVuYWJsZWRDaGFuZ2VfPW51bGwpfX0sVHJhY2tDbGFzczpQaSxjYXBpdGFsTmFtZTpcIkF1ZGlvXCJ9LHZpZGVvOntMaXN0Q2xhc3M6Y2xhc3MgZXh0ZW5kcyBKdHtjb25zdHJ1Y3Rvcih0PVtdKXtmb3IobGV0IGU9dC5sZW5ndGgtMTswPD1lO2UtLSlpZih0W2VdLnNlbGVjdGVkKXtlaSh0LHRbZV0pO2JyZWFrfXN1cGVyKHQpLHRoaXMuY2hhbmdpbmdfPSExLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwic2VsZWN0ZWRJbmRleFwiLHtnZXQoKXtmb3IobGV0IGU9MDtlPHRoaXMubGVuZ3RoO2UrKylpZih0aGlzW2VdLnNlbGVjdGVkKXJldHVybiBlO3JldHVybi0xfSxzZXQoKXt9fSl9YWRkVHJhY2soZSl7ZS5zZWxlY3RlZCYmZWkodGhpcyxlKSxzdXBlci5hZGRUcmFjayhlKSxlLmFkZEV2ZW50TGlzdGVuZXImJihlLnNlbGVjdGVkQ2hhbmdlXz0oKT0+e3RoaXMuY2hhbmdpbmdffHwodGhpcy5jaGFuZ2luZ189ITAsZWkodGhpcyxlKSx0aGlzLmNoYW5naW5nXz0hMSx0aGlzLnRyaWdnZXIoXCJjaGFuZ2VcIikpfSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJzZWxlY3RlZGNoYW5nZVwiLGUuc2VsZWN0ZWRDaGFuZ2VfKSl9cmVtb3ZlVHJhY2soZSl7c3VwZXIucmVtb3ZlVHJhY2soZSksZS5yZW1vdmVFdmVudExpc3RlbmVyJiZlLnNlbGVjdGVkQ2hhbmdlXyYmKGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNlbGVjdGVkY2hhbmdlXCIsZS5zZWxlY3RlZENoYW5nZV8pLGUuc2VsZWN0ZWRDaGFuZ2VfPW51bGwpfX0sVHJhY2tDbGFzczpMaSxjYXBpdGFsTmFtZTpcIlZpZGVvXCJ9LHRleHQ6e0xpc3RDbGFzczp0aSxUcmFja0NsYXNzOkFpLGNhcGl0YWxOYW1lOlwiVGV4dFwifX0sTmk9KE9iamVjdC5rZXlzKERpKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe0RpW2VdLmdldHRlck5hbWU9ZStcIlRyYWNrc1wiLERpW2VdLnByaXZhdGVOYW1lPWUrXCJUcmFja3NfXCJ9KSx7cmVtb3RlVGV4dDp7TGlzdENsYXNzOnRpLFRyYWNrQ2xhc3M6QWksY2FwaXRhbE5hbWU6XCJSZW1vdGVUZXh0XCIsZ2V0dGVyTmFtZTpcInJlbW90ZVRleHRUcmFja3NcIixwcml2YXRlTmFtZTpcInJlbW90ZVRleHRUcmFja3NfXCJ9LHJlbW90ZVRleHRFbDp7TGlzdENsYXNzOmNsYXNze2NvbnN0cnVjdG9yKGk9W10pe3RoaXMudHJhY2tFbGVtZW50c189W10sT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJsZW5ndGhcIix7Z2V0KCl7cmV0dXJuIHRoaXMudHJhY2tFbGVtZW50c18ubGVuZ3RofX0pO2ZvcihsZXQgZT0wLHQ9aS5sZW5ndGg7ZTx0O2UrKyl0aGlzLmFkZFRyYWNrRWxlbWVudF8oaVtlXSl9YWRkVHJhY2tFbGVtZW50XyhlKXtjb25zdCB0PXRoaXMudHJhY2tFbGVtZW50c18ubGVuZ3RoO1wiXCIrdCBpbiB0aGlzfHxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyx0LHtnZXQoKXtyZXR1cm4gdGhpcy50cmFja0VsZW1lbnRzX1t0XX19KSwtMT09PXRoaXMudHJhY2tFbGVtZW50c18uaW5kZXhPZihlKSYmdGhpcy50cmFja0VsZW1lbnRzXy5wdXNoKGUpfWdldFRyYWNrRWxlbWVudEJ5VHJhY2tfKGkpe2xldCBzO2ZvcihsZXQgZT0wLHQ9dGhpcy50cmFja0VsZW1lbnRzXy5sZW5ndGg7ZTx0O2UrKylpZihpPT09dGhpcy50cmFja0VsZW1lbnRzX1tlXS50cmFjayl7cz10aGlzLnRyYWNrRWxlbWVudHNfW2VdO2JyZWFrfXJldHVybiBzfXJlbW92ZVRyYWNrRWxlbWVudF8oaSl7Zm9yKGxldCBlPTAsdD10aGlzLnRyYWNrRWxlbWVudHNfLmxlbmd0aDtlPHQ7ZSsrKWlmKGk9PT10aGlzLnRyYWNrRWxlbWVudHNfW2VdKXt0aGlzLnRyYWNrRWxlbWVudHNfW2VdLnRyYWNrJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLnRyYWNrRWxlbWVudHNfW2VdLnRyYWNrLm9mZiYmdGhpcy50cmFja0VsZW1lbnRzX1tlXS50cmFjay5vZmYoKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLnRyYWNrRWxlbWVudHNfW2VdLm9mZiYmdGhpcy50cmFja0VsZW1lbnRzX1tlXS5vZmYoKSx0aGlzLnRyYWNrRWxlbWVudHNfLnNwbGljZShlLDEpO2JyZWFrfX19LFRyYWNrQ2xhc3M6T2ksY2FwaXRhbE5hbWU6XCJSZW1vdGVUZXh0VHJhY2tFbHNcIixnZXR0ZXJOYW1lOlwicmVtb3RlVGV4dFRyYWNrRWxzXCIscHJpdmF0ZU5hbWU6XCJyZW1vdGVUZXh0VHJhY2tFbHNfXCJ9fSksYT1PYmplY3QuYXNzaWduKHt9LERpLE5pKTtOaS5uYW1lcz1PYmplY3Qua2V5cyhOaSksRGkubmFtZXM9T2JqZWN0LmtleXMoRGkpLGEubmFtZXM9W10uY29uY2F0KE5pLm5hbWVzKS5jb25jYXQoRGkubmFtZXMpO3ZhciBwaT1cInVuZGVmaW5lZFwiIT10eXBlb2YgT3Q/T3Q6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30sTWk9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50P2RvY3VtZW50OihNaT1waVtcIl9fR0xPQkFMX0RPQ1VNRU5UX0NBQ0hFQDRcIl0pfHwocGlbXCJfX0dMT0JBTF9ET0NVTUVOVF9DQUNIRUA0XCJdPXt9KSxPdD1NaSxSaT1PYmplY3QuY3JlYXRlfHxmdW5jdGlvbihlKXtpZigxIT09YXJndW1lbnRzLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJPYmplY3QuY3JlYXRlIHNoaW0gb25seSBhY2NlcHRzIG9uZSBwYXJhbWV0ZXIuXCIpO3JldHVybiBVaS5wcm90b3R5cGU9ZSxuZXcgVWl9O2Z1bmN0aW9uIFVpKCl7fWZ1bmN0aW9uIEJpKGUsdCl7dGhpcy5uYW1lPVwiUGFyc2luZ0Vycm9yXCIsdGhpcy5jb2RlPWUuY29kZSx0aGlzLm1lc3NhZ2U9dHx8ZS5tZXNzYWdlfWZ1bmN0aW9uIEZpKGUpe2Z1bmN0aW9uIHQoZSx0LGkscyl7cmV0dXJuIDM2MDAqKDB8ZSkrNjAqKDB8dCkrKDB8aSkrKDB8cykvMWUzfWU9ZS5tYXRjaCgvXihcXGQrKTooXFxkezEsMn0pKDpcXGR7MSwyfSk/XFwuKFxcZHszfSkvKTtyZXR1cm4gZT9lWzNdP3QoZVsxXSxlWzJdLGVbM10ucmVwbGFjZShcIjpcIixcIlwiKSxlWzRdKTo1OTxlWzFdP3QoZVsxXSxlWzJdLDAsZVs0XSk6dCgwLGVbMV0sZVsyXSxlWzRdKTpudWxsfWZ1bmN0aW9uIGppKCl7dGhpcy52YWx1ZXM9UmkobnVsbCl9ZnVuY3Rpb24gSGkoZSx0LGkscyl7dmFyIHIsbixhPXM/ZS5zcGxpdChzKTpbZV07Zm9yKHIgaW4gYSlcInN0cmluZ1wiPT10eXBlb2YgYVtyXSYmMj09PShuPWFbcl0uc3BsaXQoaSkpLmxlbmd0aCYmdChuWzBdLnRyaW0oKSxuWzFdLnRyaW0oKSl9KChCaS5wcm90b3R5cGU9UmkoRXJyb3IucHJvdG90eXBlKSkuY29uc3RydWN0b3I9QmkpLkVycm9ycz17QmFkU2lnbmF0dXJlOntjb2RlOjAsbWVzc2FnZTpcIk1hbGZvcm1lZCBXZWJWVFQgc2lnbmF0dXJlLlwifSxCYWRUaW1lU3RhbXA6e2NvZGU6MSxtZXNzYWdlOlwiTWFsZm9ybWVkIHRpbWUgc3RhbXAuXCJ9fSxqaS5wcm90b3R5cGU9e3NldDpmdW5jdGlvbihlLHQpe3RoaXMuZ2V0KGUpfHxcIlwiPT09dHx8KHRoaXMudmFsdWVzW2VdPXQpfSxnZXQ6ZnVuY3Rpb24oZSx0LGkpe3JldHVybiBpP3RoaXMuaGFzKGUpP3RoaXMudmFsdWVzW2VdOnRbaV06dGhpcy5oYXMoZSk/dGhpcy52YWx1ZXNbZV06dH0saGFzOmZ1bmN0aW9uKGUpe3JldHVybiBlIGluIHRoaXMudmFsdWVzfSxhbHQ6ZnVuY3Rpb24oZSx0LGkpe2Zvcih2YXIgcz0wO3M8aS5sZW5ndGg7KytzKWlmKHQ9PT1pW3NdKXt0aGlzLnNldChlLHQpO2JyZWFrfX0saW50ZWdlcjpmdW5jdGlvbihlLHQpey9eLT9cXGQrJC8udGVzdCh0KSYmdGhpcy5zZXQoZSxwYXJzZUludCh0LDEwKSl9LHBlcmNlbnQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4hISh0Lm1hdGNoKC9eKFtcXGRdezEsM30pKFxcLltcXGRdKik/JSQvKSYmMDw9KHQ9cGFyc2VGbG9hdCh0KSkmJnQ8PTEwMCkmJih0aGlzLnNldChlLHQpLCEwKX19O3ZhciBxaT1PdC5jcmVhdGVFbGVtZW50JiZPdC5jcmVhdGVFbGVtZW50KFwidGV4dGFyZWFcIiksVmk9e2M6XCJzcGFuXCIsaTpcImlcIixiOlwiYlwiLHU6XCJ1XCIscnVieTpcInJ1YnlcIixydDpcInJ0XCIsdjpcInNwYW5cIixsYW5nOlwic3BhblwifSwkaT17d2hpdGU6XCJyZ2JhKDI1NSwyNTUsMjU1LDEpXCIsbGltZTpcInJnYmEoMCwyNTUsMCwxKVwiLGN5YW46XCJyZ2JhKDAsMjU1LDI1NSwxKVwiLHJlZDpcInJnYmEoMjU1LDAsMCwxKVwiLHllbGxvdzpcInJnYmEoMjU1LDI1NSwwLDEpXCIsbWFnZW50YTpcInJnYmEoMjU1LDAsMjU1LDEpXCIsYmx1ZTpcInJnYmEoMCwwLDI1NSwxKVwiLGJsYWNrOlwicmdiYSgwLDAsMCwxKVwifSxXaT17djpcInRpdGxlXCIsbGFuZzpcImxhbmdcIn0sR2k9e3J0OlwicnVieVwifTtmdW5jdGlvbiB6aShlLHQpe2Zvcih2YXIgaSxzLHIsbixhLG8sbD1lLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksZD1sLGg9W107bnVsbCE9PShvPXZvaWQgMCxvPXQ/KG89KG89dC5tYXRjaCgvXihbXjxdKikoPFtePl0qPj8pPy8pKVsxXXx8b1syXSx0PXQuc3Vic3RyKG8ubGVuZ3RoKSxvKTpudWxsKTspXCI8XCI9PT1vWzBdP1wiL1wiPT09b1sxXT9oLmxlbmd0aCYmaFtoLmxlbmd0aC0xXT09PW8uc3Vic3RyKDIpLnJlcGxhY2UoXCI+XCIsXCJcIikmJihoLnBvcCgpLGQ9ZC5wYXJlbnROb2RlKToocz1GaShvLnN1YnN0cigxLG8ubGVuZ3RoLTIpKSk/KGk9ZS5kb2N1bWVudC5jcmVhdGVQcm9jZXNzaW5nSW5zdHJ1Y3Rpb24oXCJ0aW1lc3RhbXBcIixzKSxkLmFwcGVuZENoaWxkKGkpKToocz1vLm1hdGNoKC9ePChbXi5cXHMvMC05Pl0rKShcXC5bXlxcc1xcXFw+XSspPyhbXj5cXFxcXSspPyhcXFxcPyk+PyQvKSkmJihyPXNbMV0sbj1zWzNdLGE9dm9pZCAwLGE9Vmlbcl0saT1hPyhhPWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChhKSwocj1XaVtyXSkmJm4mJihhW3JdPW4udHJpbSgpKSxhKTpudWxsKSYmKHI9ZCxHaVsobj1pKS5sb2NhbE5hbWVdJiZHaVtuLmxvY2FsTmFtZV0hPT1yLmxvY2FsTmFtZXx8KHNbMl0mJigoYT1zWzJdLnNwbGl0KFwiLlwiKSkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD0vXmJnXy8udGVzdChlKSxlPXQ/ZS5zbGljZSgzKTplOyRpLmhhc093blByb3BlcnR5KGUpJiYoZT0kaVtlXSxpLnN0eWxlW3Q/XCJiYWNrZ3JvdW5kLWNvbG9yXCI6XCJjb2xvclwiXT1lKX0pLGkuY2xhc3NOYW1lPWEuam9pbihcIiBcIikpLGgucHVzaChzWzFdKSxkLmFwcGVuZENoaWxkKGkpLGQ9aSkpOmQuYXBwZW5kQ2hpbGQoZS5kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgobj1vLHFpLmlubmVySFRNTD1uLG49cWkudGV4dENvbnRlbnQscWkudGV4dENvbnRlbnQ9XCJcIixuKSkpO3JldHVybiBsfXZhciBYaT1bWzE0NzAsMTQ3MF0sWzE0NzIsMTQ3Ml0sWzE0NzUsMTQ3NV0sWzE0NzgsMTQ3OF0sWzE0ODgsMTUxNF0sWzE1MjAsMTUyNF0sWzE1NDQsMTU0NF0sWzE1NDcsMTU0N10sWzE1NDksMTU0OV0sWzE1NjMsMTU2M10sWzE1NjYsMTYxMF0sWzE2NDUsMTY0N10sWzE2NDksMTc0OV0sWzE3NjUsMTc2Nl0sWzE3NzQsMTc3NV0sWzE3ODYsMTgwNV0sWzE4MDcsMTgwOF0sWzE4MTAsMTgzOV0sWzE4NjksMTk1N10sWzE5NjksMTk2OV0sWzE5ODQsMjAyNl0sWzIwMzYsMjAzN10sWzIwNDIsMjA0Ml0sWzIwNDgsMjA2OV0sWzIwNzQsMjA3NF0sWzIwODQsMjA4NF0sWzIwODgsMjA4OF0sWzIwOTYsMjExMF0sWzIxMTIsMjEzNl0sWzIxNDIsMjE0Ml0sWzIyMDgsMjIwOF0sWzIyMTAsMjIyMF0sWzgyMDcsODIwN10sWzY0Mjg1LDY0Mjg1XSxbNjQyODcsNjQyOTZdLFs2NDI5OCw2NDMxMF0sWzY0MzEyLDY0MzE2XSxbNjQzMTgsNjQzMThdLFs2NDMyMCw2NDMyMV0sWzY0MzIzLDY0MzI0XSxbNjQzMjYsNjQ0NDldLFs2NDQ2Nyw2NDgyOV0sWzY0ODQ4LDY0OTExXSxbNjQ5MTQsNjQ5NjddLFs2NTAwOCw2NTAyMF0sWzY1MTM2LDY1MTQwXSxbNjUxNDIsNjUyNzZdLFs2NzU4NCw2NzU4OV0sWzY3NTkyLDY3NTkyXSxbNjc1OTQsNjc2MzddLFs2NzYzOSw2NzY0MF0sWzY3NjQ0LDY3NjQ0XSxbNjc2NDcsNjc2NjldLFs2NzY3MSw2NzY3OV0sWzY3ODQwLDY3ODY3XSxbNjc4NzIsNjc4OTddLFs2NzkwMyw2NzkwM10sWzY3OTY4LDY4MDIzXSxbNjgwMzAsNjgwMzFdLFs2ODA5Niw2ODA5Nl0sWzY4MTEyLDY4MTE1XSxbNjgxMTcsNjgxMTldLFs2ODEyMSw2ODE0N10sWzY4MTYwLDY4MTY3XSxbNjgxNzYsNjgxODRdLFs2ODE5Miw2ODIyM10sWzY4MzUyLDY4NDA1XSxbNjg0MTYsNjg0MzddLFs2ODQ0MCw2ODQ2Nl0sWzY4NDcyLDY4NDc5XSxbNjg2MDgsNjg2ODBdLFsxMjY0NjQsMTI2NDY3XSxbMTI2NDY5LDEyNjQ5NV0sWzEyNjQ5NywxMjY0OThdLFsxMjY1MDAsMTI2NTAwXSxbMTI2NTAzLDEyNjUwM10sWzEyNjUwNSwxMjY1MTRdLFsxMjY1MTYsMTI2NTE5XSxbMTI2NTIxLDEyNjUyMV0sWzEyNjUyMywxMjY1MjNdLFsxMjY1MzAsMTI2NTMwXSxbMTI2NTM1LDEyNjUzNV0sWzEyNjUzNywxMjY1MzddLFsxMjY1MzksMTI2NTM5XSxbMTI2NTQxLDEyNjU0M10sWzEyNjU0NSwxMjY1NDZdLFsxMjY1NDgsMTI2NTQ4XSxbMTI2NTUxLDEyNjU1MV0sWzEyNjU1MywxMjY1NTNdLFsxMjY1NTUsMTI2NTU1XSxbMTI2NTU3LDEyNjU1N10sWzEyNjU1OSwxMjY1NTldLFsxMjY1NjEsMTI2NTYyXSxbMTI2NTY0LDEyNjU2NF0sWzEyNjU2NywxMjY1NzBdLFsxMjY1NzIsMTI2NTc4XSxbMTI2NTgwLDEyNjU4M10sWzEyNjU4NSwxMjY1ODhdLFsxMjY1OTAsMTI2NTkwXSxbMTI2NTkyLDEyNjYwMV0sWzEyNjYwMywxMjY2MTldLFsxMjY2MjUsMTI2NjI3XSxbMTI2NjI5LDEyNjYzM10sWzEyNjYzNSwxMjY2NTFdLFsxMTE0MTA5LDExMTQxMDldXTtmdW5jdGlvbiBLaShlKXt2YXIgdD1bXSxpPVwiXCI7aWYoZSYmZS5jaGlsZE5vZGVzKWZvcihuKHQsZSk7aT1mdW5jdGlvbiBlKHQpe3ZhciBpLHMscjtyZXR1cm4gdCYmdC5sZW5ndGg/KHM9KGk9dC5wb3AoKSkudGV4dENvbnRlbnR8fGkuaW5uZXJUZXh0KT8ocj1zLm1hdGNoKC9eLiooXFxufFxccikvKSk/clt0Lmxlbmd0aD0wXTpzOlwicnVieVwiPT09aS50YWdOYW1lP2UodCk6aS5jaGlsZE5vZGVzPyhuKHQsaSksZSh0KSk6dm9pZCAwOm51bGx9KHQpOylmb3IodmFyIHM9MDtzPGkubGVuZ3RoO3MrKylpZihmdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PFhpLmxlbmd0aDt0Kyspe3ZhciBpPVhpW3RdO2lmKGU+PWlbMF0mJmU8PWlbMV0pcmV0dXJuIDF9fShpLmNoYXJDb2RlQXQocykpKXJldHVyblwicnRsXCI7cmV0dXJuXCJsdHJcIjtmdW5jdGlvbiBuKGUsdCl7Zm9yKHZhciBpPXQuY2hpbGROb2Rlcy5sZW5ndGgtMTswPD1pO2ktLSllLnB1c2godC5jaGlsZE5vZGVzW2ldKX19ZnVuY3Rpb24gWWkoKXt9ZnVuY3Rpb24gUWkoZSx0LGkpe1lpLmNhbGwodGhpcyksdGhpcy5jdWU9dCx0aGlzLmN1ZURpdj16aShlLHQudGV4dCk7dmFyIHM9e2NvbG9yOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAxKVwiLGJhY2tncm91bmRDb2xvcjpcInJnYmEoMCwgMCwgMCwgMC44KVwiLHBvc2l0aW9uOlwicmVsYXRpdmVcIixsZWZ0OjAscmlnaHQ6MCx0b3A6MCxib3R0b206MCxkaXNwbGF5OlwiaW5saW5lXCIsd3JpdGluZ01vZGU6XCJcIj09PXQudmVydGljYWw/XCJob3Jpem9udGFsLXRiXCI6XCJsclwiPT09dC52ZXJ0aWNhbD9cInZlcnRpY2FsLWxyXCI6XCJ2ZXJ0aWNhbC1ybFwiLHVuaWNvZGVCaWRpOlwicGxhaW50ZXh0XCJ9LHI9KHRoaXMuYXBwbHlTdHlsZXMocyx0aGlzLmN1ZURpdiksdGhpcy5kaXY9ZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHM9e2RpcmVjdGlvbjpLaSh0aGlzLmN1ZURpdiksd3JpdGluZ01vZGU6XCJcIj09PXQudmVydGljYWw/XCJob3Jpem9udGFsLXRiXCI6XCJsclwiPT09dC52ZXJ0aWNhbD9cInZlcnRpY2FsLWxyXCI6XCJ2ZXJ0aWNhbC1ybFwiLHVuaWNvZGVCaWRpOlwicGxhaW50ZXh0XCIsdGV4dEFsaWduOlwibWlkZGxlXCI9PT10LmFsaWduP1wiY2VudGVyXCI6dC5hbGlnbixmb250OmkuZm9udCx3aGl0ZVNwYWNlOlwicHJlLWxpbmVcIixwb3NpdGlvbjpcImFic29sdXRlXCJ9LHRoaXMuYXBwbHlTdHlsZXMocyksdGhpcy5kaXYuYXBwZW5kQ2hpbGQodGhpcy5jdWVEaXYpLDApO3N3aXRjaCh0LnBvc2l0aW9uQWxpZ24pe2Nhc2VcInN0YXJ0XCI6cj10LnBvc2l0aW9uO2JyZWFrO2Nhc2VcImNlbnRlclwiOnI9dC5wb3NpdGlvbi10LnNpemUvMjticmVhaztjYXNlXCJlbmRcIjpyPXQucG9zaXRpb24tdC5zaXplfVwiXCI9PT10LnZlcnRpY2FsP3RoaXMuYXBwbHlTdHlsZXMoe2xlZnQ6dGhpcy5mb3JtYXRTdHlsZShyLFwiJVwiKSx3aWR0aDp0aGlzLmZvcm1hdFN0eWxlKHQuc2l6ZSxcIiVcIil9KTp0aGlzLmFwcGx5U3R5bGVzKHt0b3A6dGhpcy5mb3JtYXRTdHlsZShyLFwiJVwiKSxoZWlnaHQ6dGhpcy5mb3JtYXRTdHlsZSh0LnNpemUsXCIlXCIpfSksdGhpcy5tb3ZlPWZ1bmN0aW9uKGUpe3RoaXMuYXBwbHlTdHlsZXMoe3RvcDp0aGlzLmZvcm1hdFN0eWxlKGUudG9wLFwicHhcIiksYm90dG9tOnRoaXMuZm9ybWF0U3R5bGUoZS5ib3R0b20sXCJweFwiKSxsZWZ0OnRoaXMuZm9ybWF0U3R5bGUoZS5sZWZ0LFwicHhcIikscmlnaHQ6dGhpcy5mb3JtYXRTdHlsZShlLnJpZ2h0LFwicHhcIiksaGVpZ2h0OnRoaXMuZm9ybWF0U3R5bGUoZS5oZWlnaHQsXCJweFwiKSx3aWR0aDp0aGlzLmZvcm1hdFN0eWxlKGUud2lkdGgsXCJweFwiKX0pfX1mdW5jdGlvbiB5KGUpe3ZhciB0LGkscyxyO2UuZGl2JiYodD1lLmRpdi5vZmZzZXRIZWlnaHQsaT1lLmRpdi5vZmZzZXRXaWR0aCxzPWUuZGl2Lm9mZnNldFRvcCxyPShyPShyPWUuZGl2LmNoaWxkTm9kZXMpJiZyWzBdKSYmci5nZXRDbGllbnRSZWN0cyYmci5nZXRDbGllbnRSZWN0cygpLGU9ZS5kaXYuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkscj1yP01hdGgubWF4KHJbMF0mJnJbMF0uaGVpZ2h0fHwwLGUuaGVpZ2h0L3IubGVuZ3RoKTowKSx0aGlzLmxlZnQ9ZS5sZWZ0LHRoaXMucmlnaHQ9ZS5yaWdodCx0aGlzLnRvcD1lLnRvcHx8cyx0aGlzLmhlaWdodD1lLmhlaWdodHx8dCx0aGlzLmJvdHRvbT1lLmJvdHRvbXx8cysoZS5oZWlnaHR8fHQpLHRoaXMud2lkdGg9ZS53aWR0aHx8aSx0aGlzLmxpbmVIZWlnaHQ9dm9pZCAwIT09cj9yOmUubGluZUhlaWdodH1mdW5jdGlvbiBKaShlLHQsbyxsKXt2YXIgaSxzPW5ldyB5KHQpLHI9dC5jdWUsbj1mdW5jdGlvbihlKXtpZihcIm51bWJlclwiPT10eXBlb2YgZS5saW5lJiYoZS5zbmFwVG9MaW5lc3x8MDw9ZS5saW5lJiZlLmxpbmU8PTEwMCkpcmV0dXJuIGUubGluZTtpZighZS50cmFja3x8IWUudHJhY2sudGV4dFRyYWNrTGlzdHx8IWUudHJhY2sudGV4dFRyYWNrTGlzdC5tZWRpYUVsZW1lbnQpcmV0dXJuLTE7Zm9yKHZhciB0PWUudHJhY2ssaT10LnRleHRUcmFja0xpc3Qscz0wLHI9MDtyPGkubGVuZ3RoJiZpW3JdIT09dDtyKyspXCJzaG93aW5nXCI9PT1pW3JdLm1vZGUmJnMrKztyZXR1cm4tMSorK3N9KHIpLGE9W107aWYoci5zbmFwVG9MaW5lcyl7c3dpdGNoKHIudmVydGljYWwpe2Nhc2VcIlwiOmE9W1wiK3lcIixcIi15XCJdLGk9XCJoZWlnaHRcIjticmVhaztjYXNlXCJybFwiOmE9W1wiK3hcIixcIi14XCJdLGk9XCJ3aWR0aFwiO2JyZWFrO2Nhc2VcImxyXCI6YT1bXCIteFwiLFwiK3hcIl0saT1cIndpZHRoXCJ9dmFyIGQ9cy5saW5lSGVpZ2h0LGg9ZCpNYXRoLnJvdW5kKG4pLHU9b1tpXStkLGM9YVswXTtNYXRoLmFicyhoKT51JiYoaD1oPDA/LTE6MSxoKj1NYXRoLmNlaWwodS9kKSpkKSxuPDAmJihoKz1cIlwiPT09ci52ZXJ0aWNhbD9vLmhlaWdodDpvLndpZHRoLGE9YS5yZXZlcnNlKCkpLHMubW92ZShjLGgpfWVsc2V7dmFyIHA9cy5saW5lSGVpZ2h0L28uaGVpZ2h0KjEwMDtzd2l0Y2goci5saW5lQWxpZ24pe2Nhc2VcImNlbnRlclwiOm4tPXAvMjticmVhaztjYXNlXCJlbmRcIjpuLT1wfXN3aXRjaChyLnZlcnRpY2FsKXtjYXNlXCJcIjp0LmFwcGx5U3R5bGVzKHt0b3A6dC5mb3JtYXRTdHlsZShuLFwiJVwiKX0pO2JyZWFrO2Nhc2VcInJsXCI6dC5hcHBseVN0eWxlcyh7bGVmdDp0LmZvcm1hdFN0eWxlKG4sXCIlXCIpfSk7YnJlYWs7Y2FzZVwibHJcIjp0LmFwcGx5U3R5bGVzKHtyaWdodDp0LmZvcm1hdFN0eWxlKG4sXCIlXCIpfSl9YT1bXCIreVwiLFwiLXhcIixcIit4XCIsXCIteVwiXSxzPW5ldyB5KHQpfXU9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIGkscz1uZXcgeShlKSxyPTEsbj0wO248dC5sZW5ndGg7bisrKXtmb3IoO2Uub3ZlcmxhcHNPcHBvc2l0ZUF4aXMobyx0W25dKXx8ZS53aXRoaW4obykmJmUub3ZlcmxhcHNBbnkobCk7KWUubW92ZSh0W25dKTtpZihlLndpdGhpbihvKSlyZXR1cm4gZTt2YXIgYT1lLmludGVyc2VjdFBlcmNlbnRhZ2Uobyk7YTxyJiYoaT1uZXcgeShlKSxyPWEpLGU9bmV3IHkocyl9cmV0dXJuIGl8fHN9KHMsYSk7dC5tb3ZlKHUudG9DU1NDb21wYXRWYWx1ZXMobykpfWZ1bmN0aW9uIFppKCl7fVlpLnByb3RvdHlwZS5hcHBseVN0eWxlcz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgaSBpbiB0PXR8fHRoaXMuZGl2LGUpZS5oYXNPd25Qcm9wZXJ0eShpKSYmKHQuc3R5bGVbaV09ZVtpXSl9LFlpLnByb3RvdHlwZS5mb3JtYXRTdHlsZT1mdW5jdGlvbihlLHQpe3JldHVybiAwPT09ZT8wOmUrdH0sKFFpLnByb3RvdHlwZT1SaShZaS5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1RaSx5LnByb3RvdHlwZS5tb3ZlPWZ1bmN0aW9uKGUsdCl7c3dpdGNoKHQ9dm9pZCAwIT09dD90OnRoaXMubGluZUhlaWdodCxlKXtjYXNlXCIreFwiOnRoaXMubGVmdCs9dCx0aGlzLnJpZ2h0Kz10O2JyZWFrO2Nhc2VcIi14XCI6dGhpcy5sZWZ0LT10LHRoaXMucmlnaHQtPXQ7YnJlYWs7Y2FzZVwiK3lcIjp0aGlzLnRvcCs9dCx0aGlzLmJvdHRvbSs9dDticmVhaztjYXNlXCIteVwiOnRoaXMudG9wLT10LHRoaXMuYm90dG9tLT10fX0seS5wcm90b3R5cGUub3ZlcmxhcHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubGVmdDxlLnJpZ2h0JiZ0aGlzLnJpZ2h0PmUubGVmdCYmdGhpcy50b3A8ZS5ib3R0b20mJnRoaXMuYm90dG9tPmUudG9wfSx5LnByb3RvdHlwZS5vdmVybGFwc0FueT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKylpZih0aGlzLm92ZXJsYXBzKGVbdF0pKXJldHVybiEwO3JldHVybiExfSx5LnByb3RvdHlwZS53aXRoaW49ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudG9wPj1lLnRvcCYmdGhpcy5ib3R0b208PWUuYm90dG9tJiZ0aGlzLmxlZnQ+PWUubGVmdCYmdGhpcy5yaWdodDw9ZS5yaWdodH0seS5wcm90b3R5cGUub3ZlcmxhcHNPcHBvc2l0ZUF4aXM9ZnVuY3Rpb24oZSx0KXtzd2l0Y2godCl7Y2FzZVwiK3hcIjpyZXR1cm4gdGhpcy5sZWZ0PGUubGVmdDtjYXNlXCIteFwiOnJldHVybiB0aGlzLnJpZ2h0PmUucmlnaHQ7Y2FzZVwiK3lcIjpyZXR1cm4gdGhpcy50b3A8ZS50b3A7Y2FzZVwiLXlcIjpyZXR1cm4gdGhpcy5ib3R0b20+ZS5ib3R0b219fSx5LnByb3RvdHlwZS5pbnRlcnNlY3RQZXJjZW50YWdlPWZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLm1heCgwLE1hdGgubWluKHRoaXMucmlnaHQsZS5yaWdodCktTWF0aC5tYXgodGhpcy5sZWZ0LGUubGVmdCkpKk1hdGgubWF4KDAsTWF0aC5taW4odGhpcy5ib3R0b20sZS5ib3R0b20pLU1hdGgubWF4KHRoaXMudG9wLGUudG9wKSkvKHRoaXMuaGVpZ2h0KnRoaXMud2lkdGgpfSx5LnByb3RvdHlwZS50b0NTU0NvbXBhdFZhbHVlcz1mdW5jdGlvbihlKXtyZXR1cm57dG9wOnRoaXMudG9wLWUudG9wLGJvdHRvbTplLmJvdHRvbS10aGlzLmJvdHRvbSxsZWZ0OnRoaXMubGVmdC1lLmxlZnQscmlnaHQ6ZS5yaWdodC10aGlzLnJpZ2h0LGhlaWdodDp0aGlzLmhlaWdodCx3aWR0aDp0aGlzLndpZHRofX0seS5nZXRTaW1wbGVCb3hQb3NpdGlvbj1mdW5jdGlvbihlKXt2YXIgdD1lLmRpdj9lLmRpdi5vZmZzZXRIZWlnaHQ6ZS50YWdOYW1lP2Uub2Zmc2V0SGVpZ2h0OjAsaT1lLmRpdj9lLmRpdi5vZmZzZXRXaWR0aDplLnRhZ05hbWU/ZS5vZmZzZXRXaWR0aDowLHM9ZS5kaXY/ZS5kaXYub2Zmc2V0VG9wOmUudGFnTmFtZT9lLm9mZnNldFRvcDowO3JldHVybntsZWZ0OihlPWUuZGl2P2UuZGl2LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOmUudGFnTmFtZT9lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOmUpLmxlZnQscmlnaHQ6ZS5yaWdodCx0b3A6ZS50b3B8fHMsaGVpZ2h0OmUuaGVpZ2h0fHx0LGJvdHRvbTplLmJvdHRvbXx8cysoZS5oZWlnaHR8fHQpLHdpZHRoOmUud2lkdGh8fGl9fSxaaS5TdHJpbmdEZWNvZGVyPWZ1bmN0aW9uKCl7cmV0dXJue2RlY29kZTpmdW5jdGlvbihlKXtpZighZSlyZXR1cm5cIlwiO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcihcIkVycm9yIC0gZXhwZWN0ZWQgc3RyaW5nIGRhdGEuXCIpO3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoZW5jb2RlVVJJQ29tcG9uZW50KGUpKX19fSxaaS5jb252ZXJ0Q3VlVG9ET01UcmVlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUmJnQ/emkoZSx0KTpudWxsfTtaaS5wcm9jZXNzQ3Vlcz1mdW5jdGlvbihlLHQsaSl7aWYoIWV8fCF0fHwhaSlyZXR1cm4gbnVsbDtmb3IoO2kuZmlyc3RDaGlsZDspaS5yZW1vdmVDaGlsZChpLmZpcnN0Q2hpbGQpO3ZhciBzPWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtpZihzLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixzLnN0eWxlLmxlZnQ9XCIwXCIscy5zdHlsZS5yaWdodD1cIjBcIixzLnN0eWxlLnRvcD1cIjBcIixzLnN0eWxlLmJvdHRvbT1cIjBcIixzLnN0eWxlLm1hcmdpbj1cIjEuNSVcIixpLmFwcGVuZENoaWxkKHMpLGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKWlmKGVbdF0uaGFzQmVlblJlc2V0fHwhZVt0XS5kaXNwbGF5U3RhdGUpcmV0dXJuIDF9KHQpKWZvcih2YXIgcixuLGE9W10sbz15LmdldFNpbXBsZUJveFBvc2l0aW9uKHMpLGw9e2ZvbnQ6TWF0aC5yb3VuZCguMDUqby5oZWlnaHQqMTAwKS8xMDArXCJweCBzYW5zLXNlcmlmXCJ9LGQ9MDtkPHQubGVuZ3RoO2QrKyluPXRbZF0scj1uZXcgUWkoZSxuLGwpLHMuYXBwZW5kQ2hpbGQoci5kaXYpLEppKDAscixvLGEpLG4uZGlzcGxheVN0YXRlPXIuZGl2LGEucHVzaCh5LmdldFNpbXBsZUJveFBvc2l0aW9uKHIpKTtlbHNlIGZvcih2YXIgaD0wO2g8dC5sZW5ndGg7aCsrKXMuYXBwZW5kQ2hpbGQodFtoXS5kaXNwbGF5U3RhdGUpfSwoWmkuUGFyc2VyPWZ1bmN0aW9uKGUsdCxpKXtpfHwoaT10LHQ9e30pLHQ9dHx8e30sdGhpcy53aW5kb3c9ZSx0aGlzLnZ0dGpzPXQsdGhpcy5zdGF0ZT1cIklOSVRJQUxcIix0aGlzLmJ1ZmZlcj1cIlwiLHRoaXMuZGVjb2Rlcj1pfHxuZXcgVGV4dERlY29kZXIoXCJ1dGY4XCIpLHRoaXMucmVnaW9uTGlzdD1bXX0pLnByb3RvdHlwZT17cmVwb3J0T3JUaHJvd0Vycm9yOmZ1bmN0aW9uKGUpe2lmKCEoZSBpbnN0YW5jZW9mIEJpKSl0aHJvdyBlO3RoaXMub25wYXJzaW5nZXJyb3ImJnRoaXMub25wYXJzaW5nZXJyb3IoZSl9LHBhcnNlOmZ1bmN0aW9uKGUpe3ZhciBzPXRoaXM7ZnVuY3Rpb24gdCgpe2Zvcih2YXIgZT1zLmJ1ZmZlcix0PTA7dDxlLmxlbmd0aCYmXCJcXHJcIiE9PWVbdF0mJlwiXFxuXCIhPT1lW3RdOykrK3Q7dmFyIGk9ZS5zdWJzdHIoMCx0KTtyZXR1cm5cIlxcclwiPT09ZVt0XSYmKyt0LFwiXFxuXCI9PT1lW3RdJiYrK3Qscy5idWZmZXI9ZS5zdWJzdHIodCksaX1mdW5jdGlvbiBpKGUpe2UubWF0Y2goL1gtVElNRVNUQU1QLU1BUC8pP0hpKGUsZnVuY3Rpb24oZSx0KXt2YXIgaTtcIlgtVElNRVNUQU1QLU1BUFwiPT09ZSYmKGU9dCxpPW5ldyBqaSxIaShlLGZ1bmN0aW9uKGUsdCl7c3dpdGNoKGUpe2Nhc2VcIk1QRUdUXCI6aS5pbnRlZ2VyKGUrXCJTXCIsdCk7YnJlYWs7Y2FzZVwiTE9DQVwiOmkuc2V0KGUrXCJMXCIsRmkodCkpfX0sL1teXFxkXTovLC8sLykscy5vbnRpbWVzdGFtcG1hcCkmJnMub250aW1lc3RhbXBtYXAoe01QRUdUUzppLmdldChcIk1QRUdUU1wiKSxMT0NBTDppLmdldChcIkxPQ0FMXCIpfSl9LC89Lyk6SGkoZSxmdW5jdGlvbihlLHQpe3ZhciByO1wiUmVnaW9uXCI9PT1lJiYoZT10LHI9bmV3IGppLEhpKGUsZnVuY3Rpb24oZSx0KXtzd2l0Y2goZSl7Y2FzZVwiaWRcIjpyLnNldChlLHQpO2JyZWFrO2Nhc2VcIndpZHRoXCI6ci5wZXJjZW50KGUsdCk7YnJlYWs7Y2FzZVwibGluZXNcIjpyLmludGVnZXIoZSx0KTticmVhaztjYXNlXCJyZWdpb25hbmNob3JcIjpjYXNlXCJ2aWV3cG9ydGFuY2hvclwiOnZhciBpLHM9dC5zcGxpdChcIixcIik7Mj09PXMubGVuZ3RoJiYoKGk9bmV3IGppKS5wZXJjZW50KFwieFwiLHNbMF0pLGkucGVyY2VudChcInlcIixzWzFdKSxpLmhhcyhcInhcIikmJmkuaGFzKFwieVwiKSkmJihyLnNldChlK1wiWFwiLGkuZ2V0KFwieFwiKSksci5zZXQoZStcIllcIixpLmdldChcInlcIikpKTticmVhaztjYXNlXCJzY3JvbGxcIjpyLmFsdChlLHQsW1widXBcIl0pfX0sLz0vLC9cXHMvKSxyLmhhcyhcImlkXCIpKSYmKChlPW5ldyhzLnZ0dGpzLlZUVFJlZ2lvbnx8cy53aW5kb3cuVlRUUmVnaW9uKSkud2lkdGg9ci5nZXQoXCJ3aWR0aFwiLDEwMCksZS5saW5lcz1yLmdldChcImxpbmVzXCIsMyksZS5yZWdpb25BbmNob3JYPXIuZ2V0KFwicmVnaW9uYW5jaG9yWFwiLDApLGUucmVnaW9uQW5jaG9yWT1yLmdldChcInJlZ2lvbmFuY2hvcllcIiwxMDApLGUudmlld3BvcnRBbmNob3JYPXIuZ2V0KFwidmlld3BvcnRhbmNob3JYXCIsMCksZS52aWV3cG9ydEFuY2hvclk9ci5nZXQoXCJ2aWV3cG9ydGFuY2hvcllcIiwxMDApLGUuc2Nyb2xsPXIuZ2V0KFwic2Nyb2xsXCIsXCJcIikscy5vbnJlZ2lvbiYmcy5vbnJlZ2lvbihlKSxzLnJlZ2lvbkxpc3QucHVzaCh7aWQ6ci5nZXQoXCJpZFwiKSxyZWdpb246ZX0pKX0sLzovKX1lJiYocy5idWZmZXIrPXMuZGVjb2Rlci5kZWNvZGUoZSx7c3RyZWFtOiEwfSkpO3RyeXtpZihcIklOSVRJQUxcIj09PXMuc3RhdGUpe2lmKCEvXFxyXFxufFxcbi8udGVzdChzLmJ1ZmZlcikpcmV0dXJuIHRoaXM7dmFyIHIsbj0ocj10KCkpLm1hdGNoKC9eV0VCVlRUKFsgXFx0XS4qKT8kLyk7aWYoIW58fCFuWzBdKXRocm93IG5ldyBCaShCaS5FcnJvcnMuQmFkU2lnbmF0dXJlKTtzLnN0YXRlPVwiSEVBREVSXCJ9Zm9yKHZhciBhPSExO3MuYnVmZmVyOyl7aWYoIS9cXHJcXG58XFxuLy50ZXN0KHMuYnVmZmVyKSlyZXR1cm4gdGhpcztzd2l0Y2goYT9hPSExOnI9dCgpLHMuc3RhdGUpe2Nhc2VcIkhFQURFUlwiOi86Ly50ZXN0KHIpP2kocik6cnx8KHMuc3RhdGU9XCJJRFwiKTtjb250aW51ZTtjYXNlXCJOT1RFXCI6cnx8KHMuc3RhdGU9XCJJRFwiKTtjb250aW51ZTtjYXNlXCJJRFwiOmlmKC9eTk9URSgkfFsgXFx0XSkvLnRlc3Qocikpe3Muc3RhdGU9XCJOT1RFXCI7YnJlYWt9aWYoIXIpY29udGludWU7cy5jdWU9bmV3KHMudnR0anMuVlRUQ3VlfHxzLndpbmRvdy5WVFRDdWUpKDAsMCxcIlwiKTt0cnl7cy5jdWUuYWxpZ249XCJjZW50ZXJcIn1jYXRjaChlKXtzLmN1ZS5hbGlnbj1cIm1pZGRsZVwifWlmKHMuc3RhdGU9XCJDVUVcIiwtMT09PXIuaW5kZXhPZihcIi0tXFx4M2VcIikpe3MuY3VlLmlkPXI7Y29udGludWV9Y2FzZVwiQ1VFXCI6dHJ5eyFmdW5jdGlvbih0LGksbil7dmFyIHM9dDtmdW5jdGlvbiBlKCl7dmFyIGU9RmkodCk7aWYobnVsbD09PWUpdGhyb3cgbmV3IEJpKEJpLkVycm9ycy5CYWRUaW1lU3RhbXAsXCJNYWxmb3JtZWQgdGltZXN0YW1wOiBcIitzKTtyZXR1cm4gdD10LnJlcGxhY2UoL15bXlxcc2EtekEtWi1dKy8sXCJcIiksZX1mdW5jdGlvbiByKCl7dD10LnJlcGxhY2UoL15cXHMrLyxcIlwiKX1pZihyKCksaS5zdGFydFRpbWU9ZSgpLHIoKSxcIi0tXFx4M2VcIiE9PXQuc3Vic3RyKDAsMykpdGhyb3cgbmV3IEJpKEJpLkVycm9ycy5CYWRUaW1lU3RhbXAsXCJNYWxmb3JtZWQgdGltZSBzdGFtcCAodGltZSBzdGFtcHMgbXVzdCBiZSBzZXBhcmF0ZWQgYnkgJy0tXFx4M2UnKTogXCIrcyk7dD10LnN1YnN0cigzKSxyKCksaS5lbmRUaW1lPWUoKSxyKCk7dmFyIGE9dCxvPW5ldyBqaTtIaShhLGZ1bmN0aW9uKGUsdCl7c3dpdGNoKGUpe2Nhc2VcInJlZ2lvblwiOmZvcih2YXIgaT1uLmxlbmd0aC0xOzA8PWk7aS0tKWlmKG5baV0uaWQ9PT10KXtvLnNldChlLG5baV0ucmVnaW9uKTticmVha31icmVhaztjYXNlXCJ2ZXJ0aWNhbFwiOm8uYWx0KGUsdCxbXCJybFwiLFwibHJcIl0pO2JyZWFrO2Nhc2VcImxpbmVcIjp2YXIgcz10LnNwbGl0KFwiLFwiKSxyPXNbMF07by5pbnRlZ2VyKGUsciksby5wZXJjZW50KGUscikmJm8uc2V0KFwic25hcFRvTGluZXNcIiwhMSksby5hbHQoZSxyLFtcImF1dG9cIl0pLDI9PT1zLmxlbmd0aCYmby5hbHQoXCJsaW5lQWxpZ25cIixzWzFdLFtcInN0YXJ0XCIsXCJjZW50ZXJcIixcImVuZFwiXSk7YnJlYWs7Y2FzZVwicG9zaXRpb25cIjpzPXQuc3BsaXQoXCIsXCIpLG8ucGVyY2VudChlLHNbMF0pLDI9PT1zLmxlbmd0aCYmby5hbHQoXCJwb3NpdGlvbkFsaWduXCIsc1sxXSxbXCJzdGFydFwiLFwiY2VudGVyXCIsXCJlbmRcIl0pO2JyZWFrO2Nhc2VcInNpemVcIjpvLnBlcmNlbnQoZSx0KTticmVhaztjYXNlXCJhbGlnblwiOm8uYWx0KGUsdCxbXCJzdGFydFwiLFwiY2VudGVyXCIsXCJlbmRcIixcImxlZnRcIixcInJpZ2h0XCJdKX19LC86LywvXFxzLyksaS5yZWdpb249by5nZXQoXCJyZWdpb25cIixudWxsKSxpLnZlcnRpY2FsPW8uZ2V0KFwidmVydGljYWxcIixcIlwiKTt0cnl7aS5saW5lPW8uZ2V0KFwibGluZVwiLFwiYXV0b1wiKX1jYXRjaChlKXt9aS5saW5lQWxpZ249by5nZXQoXCJsaW5lQWxpZ25cIixcInN0YXJ0XCIpLGkuc25hcFRvTGluZXM9by5nZXQoXCJzbmFwVG9MaW5lc1wiLCEwKSxpLnNpemU9by5nZXQoXCJzaXplXCIsMTAwKTt0cnl7aS5hbGlnbj1vLmdldChcImFsaWduXCIsXCJjZW50ZXJcIil9Y2F0Y2goZSl7aS5hbGlnbj1vLmdldChcImFsaWduXCIsXCJtaWRkbGVcIil9dHJ5e2kucG9zaXRpb249by5nZXQoXCJwb3NpdGlvblwiLFwiYXV0b1wiKX1jYXRjaChlKXtpLnBvc2l0aW9uPW8uZ2V0KFwicG9zaXRpb25cIix7c3RhcnQ6MCxsZWZ0OjAsY2VudGVyOjUwLG1pZGRsZTo1MCxlbmQ6MTAwLHJpZ2h0OjEwMH0saS5hbGlnbil9aS5wb3NpdGlvbkFsaWduPW8uZ2V0KFwicG9zaXRpb25BbGlnblwiLHtzdGFydDpcInN0YXJ0XCIsbGVmdDpcInN0YXJ0XCIsY2VudGVyOlwiY2VudGVyXCIsbWlkZGxlOlwiY2VudGVyXCIsZW5kOlwiZW5kXCIscmlnaHQ6XCJlbmRcIn0saS5hbGlnbil9KHIscy5jdWUscy5yZWdpb25MaXN0KX1jYXRjaChlKXtzLnJlcG9ydE9yVGhyb3dFcnJvcihlKSxzLmN1ZT1udWxsLHMuc3RhdGU9XCJCQURDVUVcIjtjb250aW51ZX1zLnN0YXRlPVwiQ1VFVEVYVFwiO2NvbnRpbnVlO2Nhc2VcIkNVRVRFWFRcIjp2YXIgbz0tMSE9PXIuaW5kZXhPZihcIi0tXFx4M2VcIik7aWYoIXJ8fG8mJihhPSEwKSl7cy5vbmN1ZSYmcy5vbmN1ZShzLmN1ZSkscy5jdWU9bnVsbCxzLnN0YXRlPVwiSURcIjtjb250aW51ZX1zLmN1ZS50ZXh0JiYocy5jdWUudGV4dCs9XCJcXG5cIikscy5jdWUudGV4dCs9ci5yZXBsYWNlKC9cXHUyMDI4L2csXCJcXG5cIikucmVwbGFjZSgvdTIwMjkvZyxcIlxcblwiKTtjb250aW51ZTtjYXNlXCJCQURDVUVcIjpyfHwocy5zdGF0ZT1cIklEXCIpO2NvbnRpbnVlfX19Y2F0Y2goZSl7cy5yZXBvcnRPclRocm93RXJyb3IoZSksXCJDVUVURVhUXCI9PT1zLnN0YXRlJiZzLmN1ZSYmcy5vbmN1ZSYmcy5vbmN1ZShzLmN1ZSkscy5jdWU9bnVsbCxzLnN0YXRlPVwiSU5JVElBTFwiPT09cy5zdGF0ZT9cIkJBRFdFQlZUVFwiOlwiQkFEQ1VFXCJ9cmV0dXJuIHRoaXN9LGZsdXNoOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0cnl7aWYodC5idWZmZXIrPXQuZGVjb2Rlci5kZWNvZGUoKSwhdC5jdWUmJlwiSEVBREVSXCIhPT10LnN0YXRlfHwodC5idWZmZXIrPVwiXFxuXFxuXCIsdC5wYXJzZSgpKSxcIklOSVRJQUxcIj09PXQuc3RhdGUpdGhyb3cgbmV3IEJpKEJpLkVycm9ycy5CYWRTaWduYXR1cmUpfWNhdGNoKGUpe3QucmVwb3J0T3JUaHJvd0Vycm9yKGUpfXJldHVybiB0Lm9uZmx1c2gmJnQub25mbHVzaCgpLHRoaXN9fTt2YXIgZXM9WmksdHM9e1wiXCI6MSxscjoxLHJsOjF9LGlzPXtzdGFydDoxLGNlbnRlcjoxLGVuZDoxLGxlZnQ6MSxyaWdodDoxLGF1dG86MSxcImxpbmUtbGVmdFwiOjEsXCJsaW5lLXJpZ2h0XCI6MX07ZnVuY3Rpb24gc3MoZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGUmJiEhaXNbZS50b0xvd2VyQ2FzZSgpXSYmZS50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIHJzKGUsdCxpKXt0aGlzLmhhc0JlZW5SZXNldD0hMTt2YXIgcz1cIlwiLHI9ITEsbj1lLGE9dCxvPWksbD1udWxsLGQ9XCJcIixoPSEwLHU9XCJhdXRvXCIsYz1cInN0YXJ0XCIscD1cImF1dG9cIixtPVwiYXV0b1wiLGc9MTAwLGY9XCJjZW50ZXJcIjtPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLHtpZDp7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gc30sc2V0OmZ1bmN0aW9uKGUpe3M9XCJcIitlfX0scGF1c2VPbkV4aXQ6e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHJ9LHNldDpmdW5jdGlvbihlKXtyPSEhZX19LHN0YXJ0VGltZTp7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbn0sc2V0OmZ1bmN0aW9uKGUpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdGFydCB0aW1lIG11c3QgYmUgc2V0IHRvIGEgbnVtYmVyLlwiKTtuPWUsdGhpcy5oYXNCZWVuUmVzZXQ9ITB9fSxlbmRUaW1lOntlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBhfSxzZXQ6ZnVuY3Rpb24oZSl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkVuZCB0aW1lIG11c3QgYmUgc2V0IHRvIGEgbnVtYmVyLlwiKTthPWUsdGhpcy5oYXNCZWVuUmVzZXQ9ITB9fSx0ZXh0OntlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBvfSxzZXQ6ZnVuY3Rpb24oZSl7bz1cIlwiK2UsdGhpcy5oYXNCZWVuUmVzZXQ9ITB9fSxyZWdpb246e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGx9LHNldDpmdW5jdGlvbihlKXtsPWUsdGhpcy5oYXNCZWVuUmVzZXQ9ITB9fSx2ZXJ0aWNhbDp7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZH0sc2V0OmZ1bmN0aW9uKGUpe2U9XCJzdHJpbmdcIj09dHlwZW9mKGU9ZSkmJiEhdHNbZS50b0xvd2VyQ2FzZSgpXSYmZS50b0xvd2VyQ2FzZSgpO2lmKCExPT09ZSl0aHJvdyBuZXcgU3ludGF4RXJyb3IoXCJWZXJ0aWNhbDogYW4gaW52YWxpZCBvciBpbGxlZ2FsIGRpcmVjdGlvbiBzdHJpbmcgd2FzIHNwZWNpZmllZC5cIik7ZD1lLHRoaXMuaGFzQmVlblJlc2V0PSEwfX0sc25hcFRvTGluZXM6e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGh9LHNldDpmdW5jdGlvbihlKXtoPSEhZSx0aGlzLmhhc0JlZW5SZXNldD0hMH19LGxpbmU6e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHV9LHNldDpmdW5jdGlvbihlKXtpZihcIm51bWJlclwiIT10eXBlb2YgZSYmXCJhdXRvXCIhPT1lKXRocm93IG5ldyBTeW50YXhFcnJvcihcIkxpbmU6IGFuIGludmFsaWQgbnVtYmVyIG9yIGlsbGVnYWwgc3RyaW5nIHdhcyBzcGVjaWZpZWQuXCIpO3U9ZSx0aGlzLmhhc0JlZW5SZXNldD0hMH19LGxpbmVBbGlnbjp7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY30sc2V0OmZ1bmN0aW9uKGUpe2U9c3MoZSk7ZSYmKGM9ZSx0aGlzLmhhc0JlZW5SZXNldD0hMCl9fSxwb3NpdGlvbjp7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcH0sc2V0OmZ1bmN0aW9uKGUpe2lmKGU8MHx8MTAwPGUpdGhyb3cgbmV3IEVycm9yKFwiUG9zaXRpb24gbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDEwMC5cIik7cD1lLHRoaXMuaGFzQmVlblJlc2V0PSEwfX0scG9zaXRpb25BbGlnbjp7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbX0sc2V0OmZ1bmN0aW9uKGUpe2U9c3MoZSk7ZSYmKG09ZSx0aGlzLmhhc0JlZW5SZXNldD0hMCl9fSxzaXplOntlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBnfSxzZXQ6ZnVuY3Rpb24oZSl7aWYoZTwwfHwxMDA8ZSl0aHJvdyBuZXcgRXJyb3IoXCJTaXplIG11c3QgYmUgYmV0d2VlbiAwIGFuZCAxMDAuXCIpO2c9ZSx0aGlzLmhhc0JlZW5SZXNldD0hMH19LGFsaWduOntlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBmfSxzZXQ6ZnVuY3Rpb24oZSl7ZT1zcyhlKTtpZighZSl0aHJvdyBuZXcgU3ludGF4RXJyb3IoXCJhbGlnbjogYW4gaW52YWxpZCBvciBpbGxlZ2FsIGFsaWdubWVudCBzdHJpbmcgd2FzIHNwZWNpZmllZC5cIik7Zj1lLHRoaXMuaGFzQmVlblJlc2V0PSEwfX19KSx0aGlzLmRpc3BsYXlTdGF0ZT12b2lkIDB9cnMucHJvdG90eXBlLmdldEN1ZUFzSFRNTD1mdW5jdGlvbigpe3JldHVybiBXZWJWVFQuY29udmVydEN1ZVRvRE9NVHJlZSh3aW5kb3csdGhpcy50ZXh0KX07dmFyIG5zPXJzLGFzPXtcIlwiOiEwLHVwOiEwfTtmdW5jdGlvbiBvcyhlKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgZSYmMDw9ZSYmZTw9MTAwfWZ1bmN0aW9uIGxzKCl7dmFyIHQ9MTAwLGk9MyxzPTAscj0xMDAsbj0wLGE9MTAwLG89XCJcIjtPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLHt3aWR0aDp7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdH0sc2V0OmZ1bmN0aW9uKGUpe2lmKCFvcyhlKSl0aHJvdyBuZXcgRXJyb3IoXCJXaWR0aCBtdXN0IGJlIGJldHdlZW4gMCBhbmQgMTAwLlwiKTt0PWV9fSxsaW5lczp7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaX0sc2V0OmZ1bmN0aW9uKGUpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJMaW5lcyBtdXN0IGJlIHNldCB0byBhIG51bWJlci5cIik7aT1lfX0scmVnaW9uQW5jaG9yWTp7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcn0sc2V0OmZ1bmN0aW9uKGUpe2lmKCFvcyhlKSl0aHJvdyBuZXcgRXJyb3IoXCJSZWdpb25BbmNob3JYIG11c3QgYmUgYmV0d2VlbiAwIGFuZCAxMDAuXCIpO3I9ZX19LHJlZ2lvbkFuY2hvclg6e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHN9LHNldDpmdW5jdGlvbihlKXtpZighb3MoZSkpdGhyb3cgbmV3IEVycm9yKFwiUmVnaW9uQW5jaG9yWSBtdXN0IGJlIGJldHdlZW4gMCBhbmQgMTAwLlwiKTtzPWV9fSx2aWV3cG9ydEFuY2hvclk6e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGF9LHNldDpmdW5jdGlvbihlKXtpZighb3MoZSkpdGhyb3cgbmV3IEVycm9yKFwiVmlld3BvcnRBbmNob3JZIG11c3QgYmUgYmV0d2VlbiAwIGFuZCAxMDAuXCIpO2E9ZX19LHZpZXdwb3J0QW5jaG9yWDp7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbn0sc2V0OmZ1bmN0aW9uKGUpe2lmKCFvcyhlKSl0aHJvdyBuZXcgRXJyb3IoXCJWaWV3cG9ydEFuY2hvclggbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDEwMC5cIik7bj1lfX0sc2Nyb2xsOntlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBvfSxzZXQ6ZnVuY3Rpb24oZSl7ZT1cInN0cmluZ1wiPT10eXBlb2YoZT1lKSYmISFhc1tlLnRvTG93ZXJDYXNlKCldJiZlLnRvTG93ZXJDYXNlKCk7ITEhPT1lJiYobz1lKX19fSl9dmFyIGRzPUR0KGZ1bmN0aW9uKGUpe3ZhciBlPWUuZXhwb3J0cz17V2ViVlRUOmVzLFZUVEN1ZTpucyxWVFRSZWdpb246bHN9LHQ9KG1pLnZ0dGpzPWUsbWkuV2ViVlRUPWUuV2ViVlRULGUuVlRUQ3VlKSxpPWUuVlRUUmVnaW9uLHM9bWkuVlRUQ3VlLHI9bWkuVlRUUmVnaW9uO2Uuc2hpbT1mdW5jdGlvbigpe21pLlZUVEN1ZT10LG1pLlZUVFJlZ2lvbj1pfSxlLnJlc3RvcmU9ZnVuY3Rpb24oKXttaS5WVFRDdWU9cyxtaS5WVFRSZWdpb249cn0sbWkuVlRUQ3VlfHxlLnNoaW0oKX0pO2RzLldlYlZUVCxkcy5WVFRDdWUsZHMuVlRUUmVnaW9uO2NsYXNzIF8gZXh0ZW5kcyBme2NvbnN0cnVjdG9yKHQ9e30sZT1mdW5jdGlvbigpe30pe3QucmVwb3J0VG91Y2hBY3Rpdml0eT0hMSxzdXBlcihudWxsLHQsZSksdGhpcy5vbkR1cmF0aW9uQ2hhbmdlXz1lPT50aGlzLm9uRHVyYXRpb25DaGFuZ2UoZSksdGhpcy50cmFja1Byb2dyZXNzXz1lPT50aGlzLnRyYWNrUHJvZ3Jlc3MoZSksdGhpcy50cmFja0N1cnJlbnRUaW1lXz1lPT50aGlzLnRyYWNrQ3VycmVudFRpbWUoZSksdGhpcy5zdG9wVHJhY2tpbmdDdXJyZW50VGltZV89ZT0+dGhpcy5zdG9wVHJhY2tpbmdDdXJyZW50VGltZShlKSx0aGlzLmRpc3Bvc2VTb3VyY2VIYW5kbGVyXz1lPT50aGlzLmRpc3Bvc2VTb3VyY2VIYW5kbGVyKGUpLHRoaXMucXVldWVkSGFuZGVyc189bmV3IFNldCx0aGlzLmhhc1N0YXJ0ZWRfPSExLHRoaXMub24oXCJwbGF5aW5nXCIsZnVuY3Rpb24oKXt0aGlzLmhhc1N0YXJ0ZWRfPSEwfSksdGhpcy5vbihcImxvYWRzdGFydFwiLGZ1bmN0aW9uKCl7dGhpcy5oYXNTdGFydGVkXz0hMX0pLGEubmFtZXMuZm9yRWFjaChlPT57ZT1hW2VdO3QmJnRbZS5nZXR0ZXJOYW1lXSYmKHRoaXNbZS5wcml2YXRlTmFtZV09dFtlLmdldHRlck5hbWVdKX0pLHRoaXMuZmVhdHVyZXNQcm9ncmVzc0V2ZW50c3x8dGhpcy5tYW51YWxQcm9ncmVzc09uKCksdGhpcy5mZWF0dXJlc1RpbWV1cGRhdGVFdmVudHN8fHRoaXMubWFudWFsVGltZVVwZGF0ZXNPbigpLFtcIlRleHRcIixcIkF1ZGlvXCIsXCJWaWRlb1wiXS5mb3JFYWNoKGU9PnshMT09PXRbYG5hdGl2ZSR7ZX1UcmFja3NgXSYmKHRoaXNbYGZlYXR1cmVzTmF0aXZlJHtlfVRyYWNrc2BdPSExKX0pLCExPT09dC5uYXRpdmVDYXB0aW9uc3x8ITE9PT10Lm5hdGl2ZVRleHRUcmFja3M/dGhpcy5mZWF0dXJlc05hdGl2ZVRleHRUcmFja3M9ITE6ITAhPT10Lm5hdGl2ZUNhcHRpb25zJiYhMCE9PXQubmF0aXZlVGV4dFRyYWNrc3x8KHRoaXMuZmVhdHVyZXNOYXRpdmVUZXh0VHJhY2tzPSEwKSx0aGlzLmZlYXR1cmVzTmF0aXZlVGV4dFRyYWNrc3x8dGhpcy5lbXVsYXRlVGV4dFRyYWNrcygpLHRoaXMucHJlbG9hZFRleHRUcmFja3M9ITEhPT10LnByZWxvYWRUZXh0VHJhY2tzLHRoaXMuYXV0b1JlbW90ZVRleHRUcmFja3NfPW5ldyBhLnRleHQuTGlzdENsYXNzLHRoaXMuaW5pdFRyYWNrTGlzdGVuZXJzKCksdC5uYXRpdmVDb250cm9sc0ZvclRvdWNofHx0aGlzLmVtaXRUYXBFdmVudHMoKSx0aGlzLmNvbnN0cnVjdG9yJiYodGhpcy5uYW1lXz10aGlzLmNvbnN0cnVjdG9yLm5hbWV8fFwiVW5rbm93biBUZWNoXCIpfXRyaWdnZXJTb3VyY2VzZXQoZSl7dGhpcy5pc1JlYWR5X3x8dGhpcy5vbmUoXCJyZWFkeVwiLCgpPT50aGlzLnNldFRpbWVvdXQoKCk9PnRoaXMudHJpZ2dlclNvdXJjZXNldChlKSwxKSksdGhpcy50cmlnZ2VyKHtzcmM6ZSx0eXBlOlwic291cmNlc2V0XCJ9KX1tYW51YWxQcm9ncmVzc09uKCl7dGhpcy5vbihcImR1cmF0aW9uY2hhbmdlXCIsdGhpcy5vbkR1cmF0aW9uQ2hhbmdlXyksdGhpcy5tYW51YWxQcm9ncmVzcz0hMCx0aGlzLm9uZShcInJlYWR5XCIsdGhpcy50cmFja1Byb2dyZXNzXyl9bWFudWFsUHJvZ3Jlc3NPZmYoKXt0aGlzLm1hbnVhbFByb2dyZXNzPSExLHRoaXMuc3RvcFRyYWNraW5nUHJvZ3Jlc3MoKSx0aGlzLm9mZihcImR1cmF0aW9uY2hhbmdlXCIsdGhpcy5vbkR1cmF0aW9uQ2hhbmdlXyl9dHJhY2tQcm9ncmVzcyhlKXt0aGlzLnN0b3BUcmFja2luZ1Byb2dyZXNzKCksdGhpcy5wcm9ncmVzc0ludGVydmFsPXRoaXMuc2V0SW50ZXJ2YWwobSh0aGlzLGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5idWZmZXJlZFBlcmNlbnQoKTt0aGlzLmJ1ZmZlcmVkUGVyY2VudF8hPT1lJiZ0aGlzLnRyaWdnZXIoXCJwcm9ncmVzc1wiKSwxPT09KHRoaXMuYnVmZmVyZWRQZXJjZW50Xz1lKSYmdGhpcy5zdG9wVHJhY2tpbmdQcm9ncmVzcygpfSksNTAwKX1vbkR1cmF0aW9uQ2hhbmdlKGUpe3RoaXMuZHVyYXRpb25fPXRoaXMuZHVyYXRpb24oKX1idWZmZXJlZCgpe3JldHVybiBSdCgwLDApfWJ1ZmZlcmVkUGVyY2VudCgpe3JldHVybiBWdCh0aGlzLmJ1ZmZlcmVkKCksdGhpcy5kdXJhdGlvbl8pfXN0b3BUcmFja2luZ1Byb2dyZXNzKCl7dGhpcy5jbGVhckludGVydmFsKHRoaXMucHJvZ3Jlc3NJbnRlcnZhbCl9bWFudWFsVGltZVVwZGF0ZXNPbigpe3RoaXMubWFudWFsVGltZVVwZGF0ZXM9ITAsdGhpcy5vbihcInBsYXlcIix0aGlzLnRyYWNrQ3VycmVudFRpbWVfKSx0aGlzLm9uKFwicGF1c2VcIix0aGlzLnN0b3BUcmFja2luZ0N1cnJlbnRUaW1lXyl9bWFudWFsVGltZVVwZGF0ZXNPZmYoKXt0aGlzLm1hbnVhbFRpbWVVcGRhdGVzPSExLHRoaXMuc3RvcFRyYWNraW5nQ3VycmVudFRpbWUoKSx0aGlzLm9mZihcInBsYXlcIix0aGlzLnRyYWNrQ3VycmVudFRpbWVfKSx0aGlzLm9mZihcInBhdXNlXCIsdGhpcy5zdG9wVHJhY2tpbmdDdXJyZW50VGltZV8pfXRyYWNrQ3VycmVudFRpbWUoKXt0aGlzLmN1cnJlbnRUaW1lSW50ZXJ2YWwmJnRoaXMuc3RvcFRyYWNraW5nQ3VycmVudFRpbWUoKSx0aGlzLmN1cnJlbnRUaW1lSW50ZXJ2YWw9dGhpcy5zZXRJbnRlcnZhbChmdW5jdGlvbigpe3RoaXMudHJpZ2dlcih7dHlwZTpcInRpbWV1cGRhdGVcIix0YXJnZXQ6dGhpcyxtYW51YWxseVRyaWdnZXJlZDohMH0pfSwyNTApfXN0b3BUcmFja2luZ0N1cnJlbnRUaW1lKCl7dGhpcy5jbGVhckludGVydmFsKHRoaXMuY3VycmVudFRpbWVJbnRlcnZhbCksdGhpcy50cmlnZ2VyKHt0eXBlOlwidGltZXVwZGF0ZVwiLHRhcmdldDp0aGlzLG1hbnVhbGx5VHJpZ2dlcmVkOiEwfSl9ZGlzcG9zZSgpe3RoaXMuY2xlYXJUcmFja3MoRGkubmFtZXMpLHRoaXMubWFudWFsUHJvZ3Jlc3MmJnRoaXMubWFudWFsUHJvZ3Jlc3NPZmYoKSx0aGlzLm1hbnVhbFRpbWVVcGRhdGVzJiZ0aGlzLm1hbnVhbFRpbWVVcGRhdGVzT2ZmKCksc3VwZXIuZGlzcG9zZSgpfWNsZWFyVHJhY2tzKGUpeyhlPVtdLmNvbmNhdChlKSkuZm9yRWFjaChlPT57dmFyIHQ9dGhpc1tlK1wiVHJhY2tzXCJdKCl8fFtdO2xldCBpPXQubGVuZ3RoO2Zvcig7aS0tOyl7dmFyIHM9dFtpXTtcInRleHRcIj09PWUmJnRoaXMucmVtb3ZlUmVtb3RlVGV4dFRyYWNrKHMpLHQucmVtb3ZlVHJhY2socyl9fSl9Y2xlYW51cEF1dG9UZXh0VHJhY2tzKCl7dmFyIGU9dGhpcy5hdXRvUmVtb3RlVGV4dFRyYWNrc198fFtdO2xldCB0PWUubGVuZ3RoO2Zvcig7dC0tOyl7dmFyIGk9ZVt0XTt0aGlzLnJlbW92ZVJlbW90ZVRleHRUcmFjayhpKX19cmVzZXQoKXt9Y3Jvc3NPcmlnaW4oKXt9c2V0Q3Jvc3NPcmlnaW4oKXt9ZXJyb3IoZSl7cmV0dXJuIHZvaWQgMCE9PWUmJih0aGlzLmVycm9yXz1uZXcgaShlKSx0aGlzLnRyaWdnZXIoXCJlcnJvclwiKSksdGhpcy5lcnJvcl99cGxheWVkKCl7cmV0dXJuIHRoaXMuaGFzU3RhcnRlZF8/UnQoMCwwKTpSdCgpfXBsYXkoKXt9c2V0U2NydWJiaW5nKGUpe31zY3J1YmJpbmcoKXt9c2V0Q3VycmVudFRpbWUoZSl7dGhpcy5tYW51YWxUaW1lVXBkYXRlcyYmdGhpcy50cmlnZ2VyKHt0eXBlOlwidGltZXVwZGF0ZVwiLHRhcmdldDp0aGlzLG1hbnVhbGx5VHJpZ2dlcmVkOiEwfSl9aW5pdFRyYWNrTGlzdGVuZXJzKCl7RGkubmFtZXMuZm9yRWFjaChlPT57dmFyIHQ9RGlbZV07Y29uc3QgaT0oKT0+e3RoaXMudHJpZ2dlcihlK1widHJhY2tjaGFuZ2VcIil9LHM9dGhpc1t0LmdldHRlck5hbWVdKCk7cy5hZGRFdmVudExpc3RlbmVyKFwicmVtb3ZldHJhY2tcIixpKSxzLmFkZEV2ZW50TGlzdGVuZXIoXCJhZGR0cmFja1wiLGkpLHRoaXMub24oXCJkaXNwb3NlXCIsKCk9PntzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZW1vdmV0cmFja1wiLGkpLHMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImFkZHRyYWNrXCIsaSl9KX0pfWFkZFdlYlZ0dFNjcmlwdF8oKXtpZighd2luZG93LldlYlZUVClpZihkb2N1bWVudC5ib2R5LmNvbnRhaW5zKHRoaXMuZWwoKSkpaWYoIXRoaXMub3B0aW9uc19bXCJ2dHQuanNcIl0mJlkoZHMpJiYwPE9iamVjdC5rZXlzKGRzKS5sZW5ndGgpdGhpcy50cmlnZ2VyKFwidnR0anNsb2FkZWRcIik7ZWxzZXtjb25zdCBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7ZS5zcmM9dGhpcy5vcHRpb25zX1tcInZ0dC5qc1wiXXx8XCJodHRwczovL3Zqcy56ZW5jZG4ubmV0L3Z0dGpzLzAuMTQuMS92dHQubWluLmpzXCIsZS5vbmxvYWQ9KCk9Pnt0aGlzLnRyaWdnZXIoXCJ2dHRqc2xvYWRlZFwiKX0sZS5vbmVycm9yPSgpPT57dGhpcy50cmlnZ2VyKFwidnR0anNlcnJvclwiKX0sdGhpcy5vbihcImRpc3Bvc2VcIiwoKT0+e2Uub25sb2FkPW51bGwsZS5vbmVycm9yPW51bGx9KSx3aW5kb3cuV2ViVlRUPSEwLHRoaXMuZWwoKS5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGUpfWVsc2UgdGhpcy5yZWFkeSh0aGlzLmFkZFdlYlZ0dFNjcmlwdF8pfWVtdWxhdGVUZXh0VHJhY2tzKCl7Y29uc3QgaT10aGlzLnRleHRUcmFja3MoKSxlPXRoaXMucmVtb3RlVGV4dFRyYWNrcygpLHQ9ZT0+aS5hZGRUcmFjayhlLnRyYWNrKSxzPWU9PmkucmVtb3ZlVHJhY2soZS50cmFjaykscj0oZS5vbihcImFkZHRyYWNrXCIsdCksZS5vbihcInJlbW92ZXRyYWNrXCIscyksdGhpcy5hZGRXZWJWdHRTY3JpcHRfKCksKCk9PnRoaXMudHJpZ2dlcihcInRleHR0cmFja2NoYW5nZVwiKSksbj0oKT0+e3IoKTtmb3IobGV0IGU9MDtlPGkubGVuZ3RoO2UrKyl7dmFyIHQ9aVtlXTt0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjdWVjaGFuZ2VcIixyKSxcInNob3dpbmdcIj09PXQubW9kZSYmdC5hZGRFdmVudExpc3RlbmVyKFwiY3VlY2hhbmdlXCIscil9fTtuKCksaS5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsbiksaS5hZGRFdmVudExpc3RlbmVyKFwiYWRkdHJhY2tcIixuKSxpLmFkZEV2ZW50TGlzdGVuZXIoXCJyZW1vdmV0cmFja1wiLG4pLHRoaXMub24oXCJkaXNwb3NlXCIsZnVuY3Rpb24oKXtlLm9mZihcImFkZHRyYWNrXCIsdCksZS5vZmYoXCJyZW1vdmV0cmFja1wiLHMpLGkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLG4pLGkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImFkZHRyYWNrXCIsbiksaS5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVtb3ZldHJhY2tcIixuKTtmb3IobGV0IGU9MDtlPGkubGVuZ3RoO2UrKylpW2VdLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjdWVjaGFuZ2VcIixyKX0pfWFkZFRleHRUcmFjayhlLHQsaSl7aWYoZSlyZXR1cm4gZT1lLHQ9dCxpPWkscj17fSxuPShzPXRoaXMpLnRleHRUcmFja3MoKSxyLmtpbmQ9ZSx0JiYoci5sYWJlbD10KSxpJiYoci5sYW5ndWFnZT1pKSxyLnRlY2g9cyxlPW5ldyBhLnRleHQuVHJhY2tDbGFzcyhyKSxuLmFkZFRyYWNrKGUpLGU7dGhyb3cgbmV3IEVycm9yKFwiVGV4dFRyYWNrIGtpbmQgaXMgcmVxdWlyZWQgYnV0IHdhcyBub3QgcHJvdmlkZWRcIik7dmFyIHMscixufWNyZWF0ZVJlbW90ZVRleHRUcmFjayhlKXtlPWgoZSx7dGVjaDp0aGlzfSk7cmV0dXJuIG5ldyBOaS5yZW1vdGVUZXh0RWwuVHJhY2tDbGFzcyhlKX1hZGRSZW1vdGVUZXh0VHJhY2soZT17fSx0KXtjb25zdCBpPXRoaXMuY3JlYXRlUmVtb3RlVGV4dFRyYWNrKGUpO3JldHVyblwiYm9vbGVhblwiIT10eXBlb2YgdCYmKHQ9ITEpLHRoaXMucmVtb3RlVGV4dFRyYWNrRWxzKCkuYWRkVHJhY2tFbGVtZW50XyhpKSx0aGlzLnJlbW90ZVRleHRUcmFja3MoKS5hZGRUcmFjayhpLnRyYWNrKSwhMT09PXQmJnRoaXMucmVhZHkoKCk9PnRoaXMuYXV0b1JlbW90ZVRleHRUcmFja3NfLmFkZFRyYWNrKGkudHJhY2spKSxpfXJlbW92ZVJlbW90ZVRleHRUcmFjayhlKXt2YXIgdD10aGlzLnJlbW90ZVRleHRUcmFja0VscygpLmdldFRyYWNrRWxlbWVudEJ5VHJhY2tfKGUpO3RoaXMucmVtb3RlVGV4dFRyYWNrRWxzKCkucmVtb3ZlVHJhY2tFbGVtZW50Xyh0KSx0aGlzLnJlbW90ZVRleHRUcmFja3MoKS5yZW1vdmVUcmFjayhlKSx0aGlzLmF1dG9SZW1vdGVUZXh0VHJhY2tzXy5yZW1vdmVUcmFjayhlKX1nZXRWaWRlb1BsYXliYWNrUXVhbGl0eSgpe3JldHVybnt9fXJlcXVlc3RQaWN0dXJlSW5QaWN0dXJlKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KCl9ZGlzYWJsZVBpY3R1cmVJblBpY3R1cmUoKXtyZXR1cm4hMH1zZXREaXNhYmxlUGljdHVyZUluUGljdHVyZSgpe31yZXF1ZXN0VmlkZW9GcmFtZUNhbGxiYWNrKGUpe2NvbnN0IHQ9dHQrKztyZXR1cm4hdGhpcy5pc1JlYWR5X3x8dGhpcy5wYXVzZWQoKT8odGhpcy5xdWV1ZWRIYW5kZXJzXy5hZGQodCksdGhpcy5vbmUoXCJwbGF5aW5nXCIsKCk9Pnt0aGlzLnF1ZXVlZEhhbmRlcnNfLmhhcyh0KSYmKHRoaXMucXVldWVkSGFuZGVyc18uZGVsZXRlKHQpLGUoKSl9KSk6dGhpcy5yZXF1ZXN0TmFtZWRBbmltYXRpb25GcmFtZSh0LGUpLHR9Y2FuY2VsVmlkZW9GcmFtZUNhbGxiYWNrKGUpe3RoaXMucXVldWVkSGFuZGVyc18uaGFzKGUpP3RoaXMucXVldWVkSGFuZGVyc18uZGVsZXRlKGUpOnRoaXMuY2FuY2VsTmFtZWRBbmltYXRpb25GcmFtZShlKX1zZXRQb3N0ZXIoKXt9cGxheXNpbmxpbmUoKXt9c2V0UGxheXNpbmxpbmUoKXt9b3ZlcnJpZGVOYXRpdmVBdWRpb1RyYWNrcyhlKXt9b3ZlcnJpZGVOYXRpdmVWaWRlb1RyYWNrcyhlKXt9Y2FuUGxheVR5cGUoZSl7cmV0dXJuXCJcIn1zdGF0aWMgY2FuUGxheVR5cGUoZSl7cmV0dXJuXCJcIn1zdGF0aWMgY2FuUGxheVNvdXJjZShlLHQpe3JldHVybiBfLmNhblBsYXlUeXBlKGUudHlwZSl9c3RhdGljIGlzVGVjaChlKXtyZXR1cm4gZS5wcm90b3R5cGUgaW5zdGFuY2VvZiBffHxlIGluc3RhbmNlb2YgX3x8ZT09PV99c3RhdGljIHJlZ2lzdGVyVGVjaChlLHQpe2lmKF8udGVjaHNffHwoXy50ZWNoc189e30pLCFfLmlzVGVjaCh0KSl0aHJvdyBuZXcgRXJyb3IoYFRlY2ggJHtlfSBtdXN0IGJlIGEgVGVjaGApO2lmKCFfLmNhblBsYXlUeXBlKXRocm93IG5ldyBFcnJvcihcIlRlY2hzIG11c3QgaGF2ZSBhIHN0YXRpYyBjYW5QbGF5VHlwZSBtZXRob2Qgb24gdGhlbVwiKTtpZihfLmNhblBsYXlTb3VyY2UpcmV0dXJuIGU9ZyhlKSxfLnRlY2hzX1tlXT10LF8udGVjaHNfW0F0KGUpXT10LFwiVGVjaFwiIT09ZSYmXy5kZWZhdWx0VGVjaE9yZGVyXy5wdXNoKGUpLHQ7dGhyb3cgbmV3IEVycm9yKFwiVGVjaHMgbXVzdCBoYXZlIGEgc3RhdGljIGNhblBsYXlTb3VyY2UgbWV0aG9kIG9uIHRoZW1cIil9c3RhdGljIGdldFRlY2goZSl7aWYoZSlyZXR1cm4gXy50ZWNoc18mJl8udGVjaHNfW2VdP18udGVjaHNfW2VdOihlPWcoZSksd2luZG93JiZ3aW5kb3cudmlkZW9qcyYmd2luZG93LnZpZGVvanNbZV0/KGQud2FybihgVGhlICR7ZX0gdGVjaCB3YXMgYWRkZWQgdG8gdGhlIHZpZGVvanMgb2JqZWN0IHdoZW4gaXQgc2hvdWxkIGJlIHJlZ2lzdGVyZWQgdXNpbmcgdmlkZW9qcy5yZWdpc3RlclRlY2gobmFtZSwgdGVjaClgKSx3aW5kb3cudmlkZW9qc1tlXSk6dm9pZCAwKX19YS5uYW1lcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2NvbnN0IHQ9YVtlXTtfLnByb3RvdHlwZVt0LmdldHRlck5hbWVdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbdC5wcml2YXRlTmFtZV09dGhpc1t0LnByaXZhdGVOYW1lXXx8bmV3IHQuTGlzdENsYXNzLHRoaXNbdC5wcml2YXRlTmFtZV19fSksXy5wcm90b3R5cGUuZmVhdHVyZXNWb2x1bWVDb250cm9sPSEwLF8ucHJvdG90eXBlLmZlYXR1cmVzTXV0ZUNvbnRyb2w9ITAsXy5wcm90b3R5cGUuZmVhdHVyZXNGdWxsc2NyZWVuUmVzaXplPSExLF8ucHJvdG90eXBlLmZlYXR1cmVzUGxheWJhY2tSYXRlPSExLF8ucHJvdG90eXBlLmZlYXR1cmVzUHJvZ3Jlc3NFdmVudHM9ITEsXy5wcm90b3R5cGUuZmVhdHVyZXNTb3VyY2VzZXQ9ITEsXy5wcm90b3R5cGUuZmVhdHVyZXNUaW1ldXBkYXRlRXZlbnRzPSExLF8ucHJvdG90eXBlLmZlYXR1cmVzTmF0aXZlVGV4dFRyYWNrcz0hMSxfLnByb3RvdHlwZS5mZWF0dXJlc1ZpZGVvRnJhbWVDYWxsYmFjaz0hMSxfLndpdGhTb3VyY2VIYW5kbGVycz1mdW5jdGlvbihyKXtyLnJlZ2lzdGVyU291cmNlSGFuZGxlcj1mdW5jdGlvbihlLHQpe2xldCBpPXIuc291cmNlSGFuZGxlcnM7aT1pfHwoci5zb3VyY2VIYW5kbGVycz1bXSksdm9pZCAwPT09dCYmKHQ9aS5sZW5ndGgpLGkuc3BsaWNlKHQsMCxlKX0sci5jYW5QbGF5VHlwZT1mdW5jdGlvbih0KXt2YXIgaSxzPXIuc291cmNlSGFuZGxlcnN8fFtdO2ZvcihsZXQgZT0wO2U8cy5sZW5ndGg7ZSsrKWlmKGk9c1tlXS5jYW5QbGF5VHlwZSh0KSlyZXR1cm4gaTtyZXR1cm5cIlwifSxyLnNlbGVjdFNvdXJjZUhhbmRsZXI9ZnVuY3Rpb24odCxpKXt2YXIgcz1yLnNvdXJjZUhhbmRsZXJzfHxbXTtmb3IobGV0IGU9MDtlPHMubGVuZ3RoO2UrKylpZihzW2VdLmNhbkhhbmRsZVNvdXJjZSh0LGkpKXJldHVybiBzW2VdO3JldHVybiBudWxsfSxyLmNhblBsYXlTb3VyY2U9ZnVuY3Rpb24oZSx0KXt2YXIgaT1yLnNlbGVjdFNvdXJjZUhhbmRsZXIoZSx0KTtyZXR1cm4gaT9pLmNhbkhhbmRsZVNvdXJjZShlLHQpOlwiXCJ9O1tcInNlZWthYmxlXCIsXCJzZWVraW5nXCIsXCJkdXJhdGlvblwiXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2NvbnN0IHQ9dGhpc1tlXTtcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiYodGhpc1tlXT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNvdXJjZUhhbmRsZXJfJiZ0aGlzLnNvdXJjZUhhbmRsZXJfW2VdP3RoaXMuc291cmNlSGFuZGxlcl9bZV0uYXBwbHkodGhpcy5zb3VyY2VIYW5kbGVyXyxhcmd1bWVudHMpOnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9LHIucHJvdG90eXBlKSxyLnByb3RvdHlwZS5zZXRTb3VyY2U9ZnVuY3Rpb24oZSl7bGV0IHQ9ci5zZWxlY3RTb3VyY2VIYW5kbGVyKGUsdGhpcy5vcHRpb25zXyk7dHx8KHIubmF0aXZlU291cmNlSGFuZGxlcj90PXIubmF0aXZlU291cmNlSGFuZGxlcjpkLmVycm9yKFwiTm8gc291cmNlIGhhbmRsZXIgZm91bmQgZm9yIHRoZSBjdXJyZW50IHNvdXJjZS5cIikpLHRoaXMuZGlzcG9zZVNvdXJjZUhhbmRsZXIoKSx0aGlzLm9mZihcImRpc3Bvc2VcIix0aGlzLmRpc3Bvc2VTb3VyY2VIYW5kbGVyXyksdCE9PXIubmF0aXZlU291cmNlSGFuZGxlciYmKHRoaXMuY3VycmVudFNvdXJjZV89ZSksdGhpcy5zb3VyY2VIYW5kbGVyXz10LmhhbmRsZVNvdXJjZShlLHRoaXMsdGhpcy5vcHRpb25zXyksdGhpcy5vbmUoXCJkaXNwb3NlXCIsdGhpcy5kaXNwb3NlU291cmNlSGFuZGxlcl8pfSxyLnByb3RvdHlwZS5kaXNwb3NlU291cmNlSGFuZGxlcj1mdW5jdGlvbigpe3RoaXMuY3VycmVudFNvdXJjZV8mJih0aGlzLmNsZWFyVHJhY2tzKFtcImF1ZGlvXCIsXCJ2aWRlb1wiXSksdGhpcy5jdXJyZW50U291cmNlXz1udWxsKSx0aGlzLmNsZWFudXBBdXRvVGV4dFRyYWNrcygpLHRoaXMuc291cmNlSGFuZGxlcl8mJih0aGlzLnNvdXJjZUhhbmRsZXJfLmRpc3Bvc2UmJnRoaXMuc291cmNlSGFuZGxlcl8uZGlzcG9zZSgpLHRoaXMuc291cmNlSGFuZGxlcl89bnVsbCl9fSxmLnJlZ2lzdGVyQ29tcG9uZW50KFwiVGVjaFwiLF8pLF8ucmVnaXN0ZXJUZWNoKFwiVGVjaFwiLF8pLF8uZGVmYXVsdFRlY2hPcmRlcl89W107Y29uc3QgaHM9e30sdXM9e30sY3M9e307ZnVuY3Rpb24gcHMoZSx0LGkpe2Uuc2V0VGltZW91dCgoKT0+ZnVuY3Rpb24gaShzPXt9LGU9W10scixuLGE9W10sbz0hMSl7Y29uc3RbdCwuLi5sXT1lO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KWkocyxoc1t0XSxyLG4sYSxvKTtlbHNlIGlmKHQpe2NvbnN0IGQ9dnMobix0KTtpZighZC5zZXRTb3VyY2UpcmV0dXJuIGEucHVzaChkKSxpKHMsbCxyLG4sYSxvKTtkLnNldFNvdXJjZShPYmplY3QuYXNzaWduKHt9LHMpLGZ1bmN0aW9uKGUsdCl7aWYoZSlyZXR1cm4gaShzLGwscixuLGEsbyk7YS5wdXNoKGQpLGkodCxzLnR5cGU9PT10LnR5cGU/bDpoc1t0LnR5cGVdLHIsbixhLG8pfSl9ZWxzZSBsLmxlbmd0aD9pKHMsbCxyLG4sYSxvKTpvP3IocyxhKTppKHMsaHNbXCIqXCJdLHIsbixhLCEwKX0odCxoc1t0LnR5cGVdLGksZSksMSl9ZnVuY3Rpb24gbXMoZSx0LGkscz1udWxsKXt2YXIgcj1cImNhbGxcIitnKGkpLHI9ZS5yZWR1Y2UoX3Mocikscykscz1yPT09Y3MsdD1zP251bGw6dFtpXShyKSxuPWUsYT1pLG89dCxsPXM7Zm9yKGxldCBlPW4ubGVuZ3RoLTE7MDw9ZTtlLS0pe3ZhciBkPW5bZV07ZFthXSYmZFthXShsLG8pfXJldHVybiB0fWNvbnN0IGdzPXtidWZmZXJlZDoxLGN1cnJlbnRUaW1lOjEsZHVyYXRpb246MSxtdXRlZDoxLHBsYXllZDoxLHBhdXNlZDoxLHNlZWthYmxlOjEsdm9sdW1lOjEsZW5kZWQ6MX0sZnM9e3NldEN1cnJlbnRUaW1lOjEsc2V0TXV0ZWQ6MSxzZXRWb2x1bWU6MX0seXM9e3BsYXk6MSxwYXVzZToxfTtmdW5jdGlvbiBfcyhpKXtyZXR1cm4oZSx0KT0+ZT09PWNzP2NzOnRbaV0/dFtpXShlKTplfWZ1bmN0aW9uIHZzKGUsdCl7dmFyIGk9dXNbZS5pZCgpXTtsZXQgcz1udWxsO2lmKG51bGw9PWkpcz10KGUpLHVzW2UuaWQoKV09W1t0LHNdXTtlbHNle2ZvcihsZXQgZT0wO2U8aS5sZW5ndGg7ZSsrKXt2YXJbcixuXT1pW2VdO3I9PT10JiYocz1uKX1udWxsPT09cyYmKHM9dChlKSxpLnB1c2goW3Qsc10pKX1yZXR1cm4gc31mdW5jdGlvbiBicyhlKXtpZihBcnJheS5pc0FycmF5KGUpKXtsZXQgdD1bXTtlLmZvckVhY2goZnVuY3Rpb24oZSl7ZT1icyhlKSxBcnJheS5pc0FycmF5KGUpP3Q9dC5jb25jYXQoZSk6SyhlKSYmdC5wdXNoKGUpfSksZT10fWVsc2UgZT1cInN0cmluZ1wiPT10eXBlb2YgZSYmZS50cmltKCk/W3dzKHtzcmM6ZX0pXTpLKGUpJiZcInN0cmluZ1wiPT10eXBlb2YgZS5zcmMmJmUuc3JjJiZlLnNyYy50cmltKCk/W3dzKGUpXTpbXTtyZXR1cm4gZX1jb25zdCBUcz17b3B1czpcInZpZGVvL29nZ1wiLG9ndjpcInZpZGVvL29nZ1wiLG1wNDpcInZpZGVvL21wNFwiLG1vdjpcInZpZGVvL21wNFwiLG00djpcInZpZGVvL21wNFwiLG1rdjpcInZpZGVvL3gtbWF0cm9za2FcIixtNGE6XCJhdWRpby9tcDRcIixtcDM6XCJhdWRpby9tcGVnXCIsYWFjOlwiYXVkaW8vYWFjXCIsY2FmOlwiYXVkaW8veC1jYWZcIixmbGFjOlwiYXVkaW8vZmxhY1wiLG9nYTpcImF1ZGlvL29nZ1wiLHdhdjpcImF1ZGlvL3dhdlwiLG0zdTg6XCJhcHBsaWNhdGlvbi94LW1wZWdVUkxcIixtcGQ6XCJhcHBsaWNhdGlvbi9kYXNoK3htbFwiLGpwZzpcImltYWdlL2pwZWdcIixqcGVnOlwiaW1hZ2UvanBlZ1wiLGdpZjpcImltYWdlL2dpZlwiLHBuZzpcImltYWdlL3BuZ1wiLHN2ZzpcImltYWdlL3N2Zyt4bWxcIix3ZWJwOlwiaW1hZ2Uvd2VicFwifSxTcz1mdW5jdGlvbihlPVwiXCIpe2U9dWkoZSk7cmV0dXJuIFRzW2UudG9Mb3dlckNhc2UoKV18fFwiXCJ9O2Z1bmN0aW9uIHdzKGUpe3ZhciB0O3JldHVybiBlLnR5cGV8fCh0PVNzKGUuc3JjKSkmJihlLnR5cGU9dCksZX1jbGFzcyBFcyBleHRlbmRzIGZ7Y29uc3RydWN0b3IocyxlLHQpe2lmKHN1cGVyKHMsaCh7Y3JlYXRlRWw6ITF9LGUpLHQpLGUucGxheWVyT3B0aW9ucy5zb3VyY2VzJiYwIT09ZS5wbGF5ZXJPcHRpb25zLnNvdXJjZXMubGVuZ3RoKXMuc3JjKGUucGxheWVyT3B0aW9ucy5zb3VyY2VzKTtlbHNlIGZvcihsZXQgdD0wLGk9ZS5wbGF5ZXJPcHRpb25zLnRlY2hPcmRlcjt0PGkubGVuZ3RoO3QrKyl7dmFyIHI9ZyhpW3RdKTtsZXQgZT1fLmdldFRlY2gocik7aWYoKGU9cj9lOmYuZ2V0Q29tcG9uZW50KHIpKSYmZS5pc1N1cHBvcnRlZCgpKXtzLmxvYWRUZWNoXyhyKTticmVha319fX1mLnJlZ2lzdGVyQ29tcG9uZW50KFwiTWVkaWFMb2FkZXJcIixFcyk7Y2xhc3Mga3MgZXh0ZW5kcyBme2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KSx0aGlzLm9wdGlvbnNfLmNvbnRyb2xUZXh0JiZ0aGlzLmNvbnRyb2xUZXh0KHRoaXMub3B0aW9uc18uY29udHJvbFRleHQpLHRoaXMuaGFuZGxlTW91c2VPdmVyXz1lPT50aGlzLmhhbmRsZU1vdXNlT3ZlcihlKSx0aGlzLmhhbmRsZU1vdXNlT3V0Xz1lPT50aGlzLmhhbmRsZU1vdXNlT3V0KGUpLHRoaXMuaGFuZGxlQ2xpY2tfPWU9PnRoaXMuaGFuZGxlQ2xpY2soZSksdGhpcy5oYW5kbGVLZXlEb3duXz1lPT50aGlzLmhhbmRsZUtleURvd24oZSksdGhpcy5lbWl0VGFwRXZlbnRzKCksdGhpcy5lbmFibGUoKX1jcmVhdGVFbChlPVwiZGl2XCIsdD17fSxpPXt9KXt0PU9iamVjdC5hc3NpZ24oe2NsYXNzTmFtZTp0aGlzLmJ1aWxkQ1NTQ2xhc3MoKSx0YWJJbmRleDowfSx0KSxcImJ1dHRvblwiPT09ZSYmZC5lcnJvcihgQ3JlYXRpbmcgYSBDbGlja2FibGVDb21wb25lbnQgd2l0aCBhbiBIVE1MIGVsZW1lbnQgb2YgJHtlfSBpcyBub3Qgc3VwcG9ydGVkOyB1c2UgYSBCdXR0b24gaW5zdGVhZC5gKSxpPU9iamVjdC5hc3NpZ24oe3JvbGU6XCJidXR0b25cIn0saSksdGhpcy50YWJJbmRleF89dC50YWJJbmRleDtlPW8oZSx0LGkpO3JldHVybiBlLmFwcGVuZENoaWxkKG8oXCJzcGFuXCIse2NsYXNzTmFtZTpcInZqcy1pY29uLXBsYWNlaG9sZGVyXCJ9LHtcImFyaWEtaGlkZGVuXCI6ITB9KSksdGhpcy5jcmVhdGVDb250cm9sVGV4dEVsKGUpLGV9ZGlzcG9zZSgpe3RoaXMuY29udHJvbFRleHRFbF89bnVsbCxzdXBlci5kaXNwb3NlKCl9Y3JlYXRlQ29udHJvbFRleHRFbChlKXtyZXR1cm4gdGhpcy5jb250cm9sVGV4dEVsXz1vKFwic3BhblwiLHtjbGFzc05hbWU6XCJ2anMtY29udHJvbC10ZXh0XCJ9LHtcImFyaWEtbGl2ZVwiOlwicG9saXRlXCJ9KSxlJiZlLmFwcGVuZENoaWxkKHRoaXMuY29udHJvbFRleHRFbF8pLHRoaXMuY29udHJvbFRleHQodGhpcy5jb250cm9sVGV4dF8sZSksdGhpcy5jb250cm9sVGV4dEVsX31jb250cm9sVGV4dChlLHQ9dGhpcy5lbCgpKXtpZih2b2lkIDA9PT1lKXJldHVybiB0aGlzLmNvbnRyb2xUZXh0X3x8XCJOZWVkIFRleHRcIjt2YXIgaT10aGlzLmxvY2FsaXplKGUpO3RoaXMuY29udHJvbFRleHRfPWUsU2UodGhpcy5jb250cm9sVGV4dEVsXyxpKSx0aGlzLm5vbkljb25Db250cm9sfHx0aGlzLnBsYXllcl8ub3B0aW9uc18ubm9VSVRpdGxlQXR0cmlidXRlc3x8dC5zZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiLGkpfWJ1aWxkQ1NTQ2xhc3MoKXtyZXR1cm5cInZqcy1jb250cm9sIHZqcy1idXR0b24gXCIrc3VwZXIuYnVpbGRDU1NDbGFzcygpfWVuYWJsZSgpe3RoaXMuZW5hYmxlZF98fCh0aGlzLmVuYWJsZWRfPSEwLHRoaXMucmVtb3ZlQ2xhc3MoXCJ2anMtZGlzYWJsZWRcIiksdGhpcy5lbF8uc2V0QXR0cmlidXRlKFwiYXJpYS1kaXNhYmxlZFwiLFwiZmFsc2VcIiksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHRoaXMudGFiSW5kZXhfJiZ0aGlzLmVsXy5zZXRBdHRyaWJ1dGUoXCJ0YWJJbmRleFwiLHRoaXMudGFiSW5kZXhfKSx0aGlzLm9uKFtcInRhcFwiLFwiY2xpY2tcIl0sdGhpcy5oYW5kbGVDbGlja18pLHRoaXMub24oXCJrZXlkb3duXCIsdGhpcy5oYW5kbGVLZXlEb3duXykpfWRpc2FibGUoKXt0aGlzLmVuYWJsZWRfPSExLHRoaXMuYWRkQ2xhc3MoXCJ2anMtZGlzYWJsZWRcIiksdGhpcy5lbF8uc2V0QXR0cmlidXRlKFwiYXJpYS1kaXNhYmxlZFwiLFwidHJ1ZVwiKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgdGhpcy50YWJJbmRleF8mJnRoaXMuZWxfLnJlbW92ZUF0dHJpYnV0ZShcInRhYkluZGV4XCIpLHRoaXMub2ZmKFwibW91c2VvdmVyXCIsdGhpcy5oYW5kbGVNb3VzZU92ZXJfKSx0aGlzLm9mZihcIm1vdXNlb3V0XCIsdGhpcy5oYW5kbGVNb3VzZU91dF8pLHRoaXMub2ZmKFtcInRhcFwiLFwiY2xpY2tcIl0sdGhpcy5oYW5kbGVDbGlja18pLHRoaXMub2ZmKFwia2V5ZG93blwiLHRoaXMuaGFuZGxlS2V5RG93bl8pfWhhbmRsZUxhbmd1YWdlY2hhbmdlKCl7dGhpcy5jb250cm9sVGV4dCh0aGlzLmNvbnRyb2xUZXh0Xyl9aGFuZGxlQ2xpY2soZSl7dGhpcy5vcHRpb25zXy5jbGlja0hhbmRsZXImJnRoaXMub3B0aW9uc18uY2xpY2tIYW5kbGVyLmNhbGwodGhpcyxhcmd1bWVudHMpfWhhbmRsZUtleURvd24oZSl7ci5pc0V2ZW50S2V5KGUsXCJTcGFjZVwiKXx8ci5pc0V2ZW50S2V5KGUsXCJFbnRlclwiKT8oZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcFByb3BhZ2F0aW9uKCksdGhpcy50cmlnZ2VyKFwiY2xpY2tcIikpOnN1cGVyLmhhbmRsZUtleURvd24oZSl9fWYucmVnaXN0ZXJDb21wb25lbnQoXCJDbGlja2FibGVDb21wb25lbnRcIixrcyk7Y2xhc3MgQ3MgZXh0ZW5kcyBrc3tjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsdCksdGhpcy51cGRhdGUoKSx0aGlzLnVwZGF0ZV89ZT0+dGhpcy51cGRhdGUoZSksZS5vbihcInBvc3RlcmNoYW5nZVwiLHRoaXMudXBkYXRlXyl9ZGlzcG9zZSgpe3RoaXMucGxheWVyKCkub2ZmKFwicG9zdGVyY2hhbmdlXCIsdGhpcy51cGRhdGVfKSxzdXBlci5kaXNwb3NlKCl9Y3JlYXRlRWwoKXtyZXR1cm4gbyhcImRpdlwiLHtjbGFzc05hbWU6XCJ2anMtcG9zdGVyXCJ9KX1jcm9zc09yaWdpbihlKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgZSlyZXR1cm4gdGhpcy4kKFwiaW1nXCIpP3RoaXMuJChcImltZ1wiKS5jcm9zc09yaWdpbjp0aGlzLnBsYXllcl8udGVjaF8mJnRoaXMucGxheWVyXy50ZWNoXy5pc1JlYWR5Xz90aGlzLnBsYXllcl8uY3Jvc3NPcmlnaW4oKTp0aGlzLnBsYXllcl8ub3B0aW9uc18uY3Jvc3NPcmlnaW58fHRoaXMucGxheWVyXy5vcHRpb25zXy5jcm9zc29yaWdpbnx8bnVsbDtudWxsIT09ZSYmXCJhbm9ueW1vdXNcIiE9PWUmJlwidXNlLWNyZWRlbnRpYWxzXCIhPT1lP3RoaXMucGxheWVyXy5sb2cud2FybihgY3Jvc3NPcmlnaW4gbXVzdCBiZSBudWxsLCAgXCJhbm9ueW1vdXNcIiBvciBcInVzZS1jcmVkZW50aWFsc1wiLCBnaXZlbiBcIiR7ZX1cImApOnRoaXMuJChcImltZ1wiKSYmKHRoaXMuJChcImltZ1wiKS5jcm9zc09yaWdpbj1lKX11cGRhdGUoZSl7dmFyIHQ9dGhpcy5wbGF5ZXIoKS5wb3N0ZXIoKTt0aGlzLnNldFNyYyh0KSx0P3RoaXMuc2hvdygpOnRoaXMuaGlkZSgpfXNldFNyYyhlKXtlPyh0aGlzLiQoXCJpbWdcIil8fHRoaXMuZWxfLmFwcGVuZENoaWxkKG8oXCJwaWN0dXJlXCIse2NsYXNzTmFtZTpcInZqcy1wb3N0ZXJcIix0YWJJbmRleDotMX0se30sbyhcImltZ1wiLHtsb2FkaW5nOlwibGF6eVwiLGNyb3NzT3JpZ2luOnRoaXMuY3Jvc3NPcmlnaW4oKX0se2FsdDpcIlwifSkpKSx0aGlzLiQoXCJpbWdcIikuc3JjPWUpOnRoaXMuZWxfLnRleHRDb250ZW50PVwiXCJ9aGFuZGxlQ2xpY2soZSl7dGhpcy5wbGF5ZXJfLmNvbnRyb2xzKCkmJih0aGlzLnBsYXllcl8udGVjaCghMCkmJnRoaXMucGxheWVyXy50ZWNoKCEwKS5mb2N1cygpLHRoaXMucGxheWVyXy5wYXVzZWQoKT9HdCh0aGlzLnBsYXllcl8ucGxheSgpKTp0aGlzLnBsYXllcl8ucGF1c2UoKSl9fUNzLnByb3RvdHlwZS5jcm9zc29yaWdpbj1Dcy5wcm90b3R5cGUuY3Jvc3NPcmlnaW4sZi5yZWdpc3RlckNvbXBvbmVudChcIlBvc3RlckltYWdlXCIsQ3MpO2NvbnN0IElzPXttb25vc3BhY2U6XCJtb25vc3BhY2VcIixzYW5zU2VyaWY6XCJzYW5zLXNlcmlmXCIsc2VyaWY6XCJzZXJpZlwiLG1vbm9zcGFjZVNhbnNTZXJpZjonXCJBbmRhbGUgTW9ub1wiLCBcIkx1Y2lkYSBDb25zb2xlXCIsIG1vbm9zcGFjZScsbW9ub3NwYWNlU2VyaWY6J1wiQ291cmllciBOZXdcIiwgbW9ub3NwYWNlJyxwcm9wb3J0aW9uYWxTYW5zU2VyaWY6XCJzYW5zLXNlcmlmXCIscHJvcG9ydGlvbmFsU2VyaWY6XCJzZXJpZlwiLGNhc3VhbDonXCJDb21pYyBTYW5zIE1TXCIsIEltcGFjdCwgZmFudGFzeScsc2NyaXB0OidcIk1vbm90eXBlIENvcnNpdmFcIiwgY3Vyc2l2ZScsc21hbGxjYXBzOidcIkFuZGFsZSBNb25vXCIsIFwiTHVjaWRhIENvbnNvbGVcIiwgbW9ub3NwYWNlLCBzYW5zLXNlcmlmJ307ZnVuY3Rpb24geHMoZSx0KXtsZXQgaTtpZig0PT09ZS5sZW5ndGgpaT1lWzFdK2VbMV0rZVsyXStlWzJdK2VbM10rZVszXTtlbHNle2lmKDchPT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGNvbG9yIGNvZGUgcHJvdmlkZWQsIFwiK2UrXCI7IG11c3QgYmUgZm9ybWF0dGVkIGFzIGUuZy4gI2YwZSBvciAjZjYwNGUyLlwiKTtpPWUuc2xpY2UoMSl9cmV0dXJuXCJyZ2JhKFwiK3BhcnNlSW50KGkuc2xpY2UoMCwyKSwxNikrXCIsXCIrcGFyc2VJbnQoaS5zbGljZSgyLDQpLDE2KStcIixcIitwYXJzZUludChpLnNsaWNlKDQsNiksMTYpK1wiLFwiK3QrXCIpXCJ9ZnVuY3Rpb24gQXMoZSx0LGkpe3RyeXtlLnN0eWxlW3RdPWl9Y2F0Y2goZSl7fX1jbGFzcyBQcyBleHRlbmRzIGZ7Y29uc3RydWN0b3IocyxlLHQpe3N1cGVyKHMsZSx0KTtjb25zdCByPWU9PnRoaXMudXBkYXRlRGlzcGxheShlKTtzLm9uKFwibG9hZHN0YXJ0XCIsZT0+dGhpcy50b2dnbGVEaXNwbGF5KGUpKSxzLm9uKFwidGV4dHRyYWNrY2hhbmdlXCIscikscy5vbihcImxvYWRlZG1ldGFkYXRhXCIsZT0+dGhpcy5wcmVzZWxlY3RUcmFjayhlKSkscy5yZWFkeShtKHRoaXMsZnVuY3Rpb24oKXtpZihzLnRlY2hfJiZzLnRlY2hfLmZlYXR1cmVzTmF0aXZlVGV4dFRyYWNrcyl0aGlzLmhpZGUoKTtlbHNle3Mub24oXCJmdWxsc2NyZWVuY2hhbmdlXCIscikscy5vbihcInBsYXllcnJlc2l6ZVwiLHIpO2NvbnN0IGU9d2luZG93LnNjcmVlbi5vcmllbnRhdGlvbnx8d2luZG93LGk9d2luZG93LnNjcmVlbi5vcmllbnRhdGlvbj9cImNoYW5nZVwiOlwib3JpZW50YXRpb25jaGFuZ2VcIjtlLmFkZEV2ZW50TGlzdGVuZXIoaSxyKSxzLm9uKFwiZGlzcG9zZVwiLCgpPT5lLnJlbW92ZUV2ZW50TGlzdGVuZXIoaSxyKSk7dmFyIHQ9dGhpcy5vcHRpb25zXy5wbGF5ZXJPcHRpb25zLnRyYWNrc3x8W107Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspdGhpcy5wbGF5ZXJfLmFkZFJlbW90ZVRleHRUcmFjayh0W2VdLCEwKTt0aGlzLnByZXNlbGVjdFRyYWNrKCl9fSkpfXByZXNlbGVjdFRyYWNrKCl7dmFyIHQ9e2NhcHRpb25zOjEsc3VidGl0bGVzOjF9LGk9dGhpcy5wbGF5ZXJfLnRleHRUcmFja3MoKSxzPXRoaXMucGxheWVyXy5jYWNoZV8uc2VsZWN0ZWRMYW5ndWFnZTtsZXQgcixuLGE7Zm9yKGxldCBlPTA7ZTxpLmxlbmd0aDtlKyspe3ZhciBvPWlbZV07cyYmcy5lbmFibGVkJiZzLmxhbmd1YWdlJiZzLmxhbmd1YWdlPT09by5sYW5ndWFnZSYmby5raW5kIGluIHQ/YT1vLmtpbmQhPT1zLmtpbmQmJmF8fG86cyYmIXMuZW5hYmxlZD8oYT1udWxsLHI9bnVsbCxuPW51bGwpOm8uZGVmYXVsdCYmKFwiZGVzY3JpcHRpb25zXCIhPT1vLmtpbmR8fHI/by5raW5kIGluIHQmJiFuJiYobj1vKTpyPW8pfWE/YS5tb2RlPVwic2hvd2luZ1wiOm4/bi5tb2RlPVwic2hvd2luZ1wiOnImJihyLm1vZGU9XCJzaG93aW5nXCIpfXRvZ2dsZURpc3BsYXkoKXt0aGlzLnBsYXllcl8udGVjaF8mJnRoaXMucGxheWVyXy50ZWNoXy5mZWF0dXJlc05hdGl2ZVRleHRUcmFja3M/dGhpcy5oaWRlKCk6dGhpcy5zaG93KCl9Y3JlYXRlRWwoKXtyZXR1cm4gc3VwZXIuY3JlYXRlRWwoXCJkaXZcIix7Y2xhc3NOYW1lOlwidmpzLXRleHQtdHJhY2stZGlzcGxheVwifSx7dHJhbnNsYXRlOlwieWVzXCIsXCJhcmlhLWxpdmVcIjpcIm9mZlwiLFwiYXJpYS1hdG9taWNcIjpcInRydWVcIn0pfWNsZWFyRGlzcGxheSgpe1wiZnVuY3Rpb25cIj09dHlwZW9mIHdpbmRvdy5XZWJWVFQmJndpbmRvdy5XZWJWVFQucHJvY2Vzc0N1ZXMod2luZG93LFtdLHRoaXMuZWxfKX11cGRhdGVEaXNwbGF5KCl7dmFyIHM9dGhpcy5wbGF5ZXJfLnRleHRUcmFja3MoKSxlPXRoaXMub3B0aW9uc18uYWxsb3dNdWx0aXBsZVNob3dpbmdUcmFja3M7aWYodGhpcy5jbGVhckRpc3BsYXkoKSxlKXt2YXIgdD1bXTtmb3IobGV0IGU9MDtlPHMubGVuZ3RoOysrZSl7dmFyIGk9c1tlXTtcInNob3dpbmdcIj09PWkubW9kZSYmdC5wdXNoKGkpfXRoaXMudXBkYXRlRm9yVHJhY2sodCl9ZWxzZXtsZXQgZT1udWxsLHQ9bnVsbCxpPXMubGVuZ3RoO2Zvcig7aS0tOyl7dmFyIHI9c1tpXTtcInNob3dpbmdcIj09PXIubW9kZSYmKFwiZGVzY3JpcHRpb25zXCI9PT1yLmtpbmQ/ZT1yOnQ9cil9dD8oXCJvZmZcIiE9PXRoaXMuZ2V0QXR0cmlidXRlKFwiYXJpYS1saXZlXCIpJiZ0aGlzLnNldEF0dHJpYnV0ZShcImFyaWEtbGl2ZVwiLFwib2ZmXCIpLHRoaXMudXBkYXRlRm9yVHJhY2sodCkpOmUmJihcImFzc2VydGl2ZVwiIT09dGhpcy5nZXRBdHRyaWJ1dGUoXCJhcmlhLWxpdmVcIikmJnRoaXMuc2V0QXR0cmlidXRlKFwiYXJpYS1saXZlXCIsXCJhc3NlcnRpdmVcIiksdGhpcy51cGRhdGVGb3JUcmFjayhlKSl9fXVwZGF0ZURpc3BsYXlTdGF0ZShlKXt2YXIgdD10aGlzLnBsYXllcl8udGV4dFRyYWNrU2V0dGluZ3MuZ2V0VmFsdWVzKCksaT1lLmFjdGl2ZUN1ZXM7bGV0IHM9aS5sZW5ndGg7Zm9yKDtzLS07KXt2YXIgcixuPWlbc107biYmKG49bi5kaXNwbGF5U3RhdGUsdC5jb2xvciYmKG4uZmlyc3RDaGlsZC5zdHlsZS5jb2xvcj10LmNvbG9yKSx0LnRleHRPcGFjaXR5JiZBcyhuLmZpcnN0Q2hpbGQsXCJjb2xvclwiLHhzKHQuY29sb3J8fFwiI2ZmZlwiLHQudGV4dE9wYWNpdHkpKSx0LmJhY2tncm91bmRDb2xvciYmKG4uZmlyc3RDaGlsZC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9dC5iYWNrZ3JvdW5kQ29sb3IpLHQuYmFja2dyb3VuZE9wYWNpdHkmJkFzKG4uZmlyc3RDaGlsZCxcImJhY2tncm91bmRDb2xvclwiLHhzKHQuYmFja2dyb3VuZENvbG9yfHxcIiMwMDBcIix0LmJhY2tncm91bmRPcGFjaXR5KSksdC53aW5kb3dDb2xvciYmKHQud2luZG93T3BhY2l0eT9BcyhuLFwiYmFja2dyb3VuZENvbG9yXCIseHModC53aW5kb3dDb2xvcix0LndpbmRvd09wYWNpdHkpKTpuLnN0eWxlLmJhY2tncm91bmRDb2xvcj10LndpbmRvd0NvbG9yKSx0LmVkZ2VTdHlsZSYmKFwiZHJvcHNoYWRvd1wiPT09dC5lZGdlU3R5bGU/bi5maXJzdENoaWxkLnN0eWxlLnRleHRTaGFkb3c9XCIycHggMnB4IDNweCAjMjIyLCAycHggMnB4IDRweCAjMjIyLCAycHggMnB4IDVweCAjMjIyXCI6XCJyYWlzZWRcIj09PXQuZWRnZVN0eWxlP24uZmlyc3RDaGlsZC5zdHlsZS50ZXh0U2hhZG93PVwiMXB4IDFweCAjMjIyLCAycHggMnB4ICMyMjIsIDNweCAzcHggIzIyMlwiOlwiZGVwcmVzc2VkXCI9PT10LmVkZ2VTdHlsZT9uLmZpcnN0Q2hpbGQuc3R5bGUudGV4dFNoYWRvdz1cIjFweCAxcHggI2NjYywgMCAxcHggI2NjYywgLTFweCAtMXB4ICMyMjIsIDAgLTFweCAjMjIyXCI6XCJ1bmlmb3JtXCI9PT10LmVkZ2VTdHlsZSYmKG4uZmlyc3RDaGlsZC5zdHlsZS50ZXh0U2hhZG93PVwiMCAwIDRweCAjMjIyLCAwIDAgNHB4ICMyMjIsIDAgMCA0cHggIzIyMiwgMCAwIDRweCAjMjIyXCIpKSx0LmZvbnRQZXJjZW50JiYxIT09dC5mb250UGVyY2VudCYmKHI9d2luZG93LnBhcnNlRmxvYXQobi5zdHlsZS5mb250U2l6ZSksbi5zdHlsZS5mb250U2l6ZT1yKnQuZm9udFBlcmNlbnQrXCJweFwiLG4uc3R5bGUuaGVpZ2h0PVwiYXV0b1wiLG4uc3R5bGUudG9wPVwiYXV0b1wiKSx0LmZvbnRGYW1pbHkpJiZcImRlZmF1bHRcIiE9PXQuZm9udEZhbWlseSYmKFwic21hbGwtY2Fwc1wiPT09dC5mb250RmFtaWx5P24uZmlyc3RDaGlsZC5zdHlsZS5mb250VmFyaWFudD1cInNtYWxsLWNhcHNcIjpuLmZpcnN0Q2hpbGQuc3R5bGUuZm9udEZhbWlseT1Jc1t0LmZvbnRGYW1pbHldKX19dXBkYXRlRm9yVHJhY2soaSl7aWYoQXJyYXkuaXNBcnJheShpKXx8KGk9W2ldKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB3aW5kb3cuV2ViVlRUJiYhaS5ldmVyeShlPT4hZS5hY3RpdmVDdWVzKSl7dmFyIHQ9W107Zm9yKGxldCBlPTA7ZTxpLmxlbmd0aDsrK2Upe3ZhciBzPWlbZV07Zm9yKGxldCBlPTA7ZTxzLmFjdGl2ZUN1ZXMubGVuZ3RoOysrZSl0LnB1c2gocy5hY3RpdmVDdWVzW2VdKX13aW5kb3cuV2ViVlRULnByb2Nlc3NDdWVzKHdpbmRvdyx0LHRoaXMuZWxfKTtmb3IobGV0IHQ9MDt0PGkubGVuZ3RoOysrdCl7dmFyIHI9aVt0XTtmb3IobGV0IGU9MDtlPHIuYWN0aXZlQ3Vlcy5sZW5ndGg7KytlKXt2YXIgbj1yLmFjdGl2ZUN1ZXNbZV0uZGlzcGxheVN0YXRlO2tlKG4sXCJ2anMtdGV4dC10cmFjay1jdWVcIixcInZqcy10ZXh0LXRyYWNrLWN1ZS1cIisoci5sYW5ndWFnZXx8dCkpLHIubGFuZ3VhZ2UmJkxlKG4sXCJsYW5nXCIsci5sYW5ndWFnZSl9dGhpcy5wbGF5ZXJfLnRleHRUcmFja1NldHRpbmdzJiZ0aGlzLnVwZGF0ZURpc3BsYXlTdGF0ZShyKX19fX1mLnJlZ2lzdGVyQ29tcG9uZW50KFwiVGV4dFRyYWNrRGlzcGxheVwiLFBzKTtjbGFzcyBMcyBleHRlbmRzIGZ7Y3JlYXRlRWwoKXt2YXIgZT10aGlzLnBsYXllcl8uaXNBdWRpbygpLGU9dGhpcy5sb2NhbGl6ZShlP1wiQXVkaW8gUGxheWVyXCI6XCJWaWRlbyBQbGF5ZXJcIiksZT1vKFwic3BhblwiLHtjbGFzc05hbWU6XCJ2anMtY29udHJvbC10ZXh0XCIsdGV4dENvbnRlbnQ6dGhpcy5sb2NhbGl6ZShcInsxfSBpcyBsb2FkaW5nLlwiLFtlXSl9KSx0PXN1cGVyLmNyZWF0ZUVsKFwiZGl2XCIse2NsYXNzTmFtZTpcInZqcy1sb2FkaW5nLXNwaW5uZXJcIixkaXI6XCJsdHJcIn0pO3JldHVybiB0LmFwcGVuZENoaWxkKGUpLHR9aGFuZGxlTGFuZ3VhZ2VjaGFuZ2UoKXt0aGlzLiQoXCIudmpzLWNvbnRyb2wtdGV4dFwiKS50ZXh0Q29udGVudD10aGlzLmxvY2FsaXplKFwiezF9IGlzIGxvYWRpbmcuXCIsW3RoaXMucGxheWVyXy5pc0F1ZGlvKCk/XCJBdWRpbyBQbGF5ZXJcIjpcIlZpZGVvIFBsYXllclwiXSl9fWYucmVnaXN0ZXJDb21wb25lbnQoXCJMb2FkaW5nU3Bpbm5lclwiLExzKTtjbGFzcyBzIGV4dGVuZHMga3N7Y3JlYXRlRWwoZSx0PXt9LGk9e30pe3Q9byhcImJ1dHRvblwiLHQ9T2JqZWN0LmFzc2lnbih7Y2xhc3NOYW1lOnRoaXMuYnVpbGRDU1NDbGFzcygpfSx0KSxpPU9iamVjdC5hc3NpZ24oe3R5cGU6XCJidXR0b25cIn0saSkpO3JldHVybiB0LmFwcGVuZENoaWxkKG8oXCJzcGFuXCIse2NsYXNzTmFtZTpcInZqcy1pY29uLXBsYWNlaG9sZGVyXCJ9LHtcImFyaWEtaGlkZGVuXCI6ITB9KSksdGhpcy5jcmVhdGVDb250cm9sVGV4dEVsKHQpLHR9YWRkQ2hpbGQoZSx0PXt9KXt2YXIgaT10aGlzLmNvbnN0cnVjdG9yLm5hbWU7cmV0dXJuIGQud2FybihgQWRkaW5nIGFuIGFjdGlvbmFibGUgKHVzZXIgY29udHJvbGxhYmxlKSBjaGlsZCB0byBhIEJ1dHRvbiAoJHtpfSkgaXMgbm90IHN1cHBvcnRlZDsgdXNlIGEgQ2xpY2thYmxlQ29tcG9uZW50IGluc3RlYWQuYCksZi5wcm90b3R5cGUuYWRkQ2hpbGQuY2FsbCh0aGlzLGUsdCl9ZW5hYmxlKCl7c3VwZXIuZW5hYmxlKCksdGhpcy5lbF8ucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIil9ZGlzYWJsZSgpe3N1cGVyLmRpc2FibGUoKSx0aGlzLmVsXy5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLFwiZGlzYWJsZWRcIil9aGFuZGxlS2V5RG93bihlKXtyLmlzRXZlbnRLZXkoZSxcIlNwYWNlXCIpfHxyLmlzRXZlbnRLZXkoZSxcIkVudGVyXCIpP2Uuc3RvcFByb3BhZ2F0aW9uKCk6c3VwZXIuaGFuZGxlS2V5RG93bihlKX19Zi5yZWdpc3RlckNvbXBvbmVudChcIkJ1dHRvblwiLHMpO2NsYXNzIE9zIGV4dGVuZHMgc3tjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsdCksdGhpcy5tb3VzZXVzZWRfPSExLHRoaXMub24oXCJtb3VzZWRvd25cIixlPT50aGlzLmhhbmRsZU1vdXNlRG93bihlKSl9YnVpbGRDU1NDbGFzcygpe3JldHVyblwidmpzLWJpZy1wbGF5LWJ1dHRvblwifWhhbmRsZUNsaWNrKGUpe3ZhciB0PXRoaXMucGxheWVyXy5wbGF5KCk7aWYodGhpcy5tb3VzZXVzZWRfJiZlLmNsaWVudFgmJmUuY2xpZW50WSlHdCh0KSx0aGlzLnBsYXllcl8udGVjaCghMCkmJnRoaXMucGxheWVyXy50ZWNoKCEwKS5mb2N1cygpO2Vsc2V7dmFyIGU9dGhpcy5wbGF5ZXJfLmdldENoaWxkKFwiY29udHJvbEJhclwiKTtjb25zdCBpPWUmJmUuZ2V0Q2hpbGQoXCJwbGF5VG9nZ2xlXCIpO2k/KGU9KCk9PmkuZm9jdXMoKSxXdCh0KT90LnRoZW4oZSwoKT0+e30pOnRoaXMuc2V0VGltZW91dChlLDEpKTp0aGlzLnBsYXllcl8udGVjaCghMCkuZm9jdXMoKX19aGFuZGxlS2V5RG93bihlKXt0aGlzLm1vdXNldXNlZF89ITEsc3VwZXIuaGFuZGxlS2V5RG93bihlKX1oYW5kbGVNb3VzZURvd24oZSl7dGhpcy5tb3VzZXVzZWRfPSEwfX1Pcy5wcm90b3R5cGUuY29udHJvbFRleHRfPVwiUGxheSBWaWRlb1wiLGYucmVnaXN0ZXJDb21wb25lbnQoXCJCaWdQbGF5QnV0dG9uXCIsT3MpO3M7Zi5yZWdpc3RlckNvbXBvbmVudChcIkNsb3NlQnV0dG9uXCIsY2xhc3MgZXh0ZW5kcyBze2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KSx0aGlzLmNvbnRyb2xUZXh0KHQmJnQuY29udHJvbFRleHR8fHRoaXMubG9jYWxpemUoXCJDbG9zZVwiKSl9YnVpbGRDU1NDbGFzcygpe3JldHVyblwidmpzLWNsb3NlLWJ1dHRvbiBcIitzdXBlci5idWlsZENTU0NsYXNzKCl9aGFuZGxlQ2xpY2soZSl7dGhpcy50cmlnZ2VyKHt0eXBlOlwiY2xvc2VcIixidWJibGVzOiExfSl9aGFuZGxlS2V5RG93bihlKXtyLmlzRXZlbnRLZXkoZSxcIkVzY1wiKT8oZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcFByb3BhZ2F0aW9uKCksdGhpcy50cmlnZ2VyKFwiY2xpY2tcIikpOnN1cGVyLmhhbmRsZUtleURvd24oZSl9fSk7Y2xhc3MgRHMgZXh0ZW5kcyBze2NvbnN0cnVjdG9yKGUsdD17fSl7c3VwZXIoZSx0KSx0LnJlcGxheT12b2lkIDA9PT10LnJlcGxheXx8dC5yZXBsYXksdGhpcy5vbihlLFwicGxheVwiLGU9PnRoaXMuaGFuZGxlUGxheShlKSksdGhpcy5vbihlLFwicGF1c2VcIixlPT50aGlzLmhhbmRsZVBhdXNlKGUpKSx0LnJlcGxheSYmdGhpcy5vbihlLFwiZW5kZWRcIixlPT50aGlzLmhhbmRsZUVuZGVkKGUpKX1idWlsZENTU0NsYXNzKCl7cmV0dXJuXCJ2anMtcGxheS1jb250cm9sIFwiK3N1cGVyLmJ1aWxkQ1NTQ2xhc3MoKX1oYW5kbGVDbGljayhlKXt0aGlzLnBsYXllcl8ucGF1c2VkKCk/R3QodGhpcy5wbGF5ZXJfLnBsYXkoKSk6dGhpcy5wbGF5ZXJfLnBhdXNlKCl9aGFuZGxlU2Vla2VkKGUpe3RoaXMucmVtb3ZlQ2xhc3MoXCJ2anMtZW5kZWRcIiksdGhpcy5wbGF5ZXJfLnBhdXNlZCgpP3RoaXMuaGFuZGxlUGF1c2UoZSk6dGhpcy5oYW5kbGVQbGF5KGUpfWhhbmRsZVBsYXkoZSl7dGhpcy5yZW1vdmVDbGFzcyhcInZqcy1lbmRlZFwiLFwidmpzLXBhdXNlZFwiKSx0aGlzLmFkZENsYXNzKFwidmpzLXBsYXlpbmdcIiksdGhpcy5jb250cm9sVGV4dChcIlBhdXNlXCIpfWhhbmRsZVBhdXNlKGUpe3RoaXMucmVtb3ZlQ2xhc3MoXCJ2anMtcGxheWluZ1wiKSx0aGlzLmFkZENsYXNzKFwidmpzLXBhdXNlZFwiKSx0aGlzLmNvbnRyb2xUZXh0KFwiUGxheVwiKX1oYW5kbGVFbmRlZChlKXt0aGlzLnJlbW92ZUNsYXNzKFwidmpzLXBsYXlpbmdcIiksdGhpcy5hZGRDbGFzcyhcInZqcy1lbmRlZFwiKSx0aGlzLmNvbnRyb2xUZXh0KFwiUmVwbGF5XCIpLHRoaXMub25lKHRoaXMucGxheWVyXyxcInNlZWtlZFwiLGU9PnRoaXMuaGFuZGxlU2Vla2VkKGUpKX19RHMucHJvdG90eXBlLmNvbnRyb2xUZXh0Xz1cIlBsYXlcIixmLnJlZ2lzdGVyQ29tcG9uZW50KFwiUGxheVRvZ2dsZVwiLERzKTtjbGFzcyBOcyBleHRlbmRzIGZ7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQpLHRoaXMub24oZSxbXCJ0aW1ldXBkYXRlXCIsXCJlbmRlZFwiXSxlPT50aGlzLnVwZGF0ZUNvbnRlbnQoZSkpLHRoaXMudXBkYXRlVGV4dE5vZGVfKCl9Y3JlYXRlRWwoKXt2YXIgZT10aGlzLmJ1aWxkQ1NTQ2xhc3MoKSx0PXN1cGVyLmNyZWF0ZUVsKFwiZGl2XCIse2NsYXNzTmFtZTplK1wiIHZqcy10aW1lLWNvbnRyb2wgdmpzLWNvbnRyb2xcIn0pLGk9byhcInNwYW5cIix7Y2xhc3NOYW1lOlwidmpzLWNvbnRyb2wtdGV4dFwiLHRleHRDb250ZW50OnRoaXMubG9jYWxpemUodGhpcy5sYWJlbFRleHRfKStcIsKgXCJ9LHtyb2xlOlwicHJlc2VudGF0aW9uXCJ9KTtyZXR1cm4gdC5hcHBlbmRDaGlsZChpKSx0aGlzLmNvbnRlbnRFbF89byhcInNwYW5cIix7Y2xhc3NOYW1lOmUrXCItZGlzcGxheVwifSx7cm9sZTpcInByZXNlbnRhdGlvblwifSksdC5hcHBlbmRDaGlsZCh0aGlzLmNvbnRlbnRFbF8pLHR9ZGlzcG9zZSgpe3RoaXMuY29udGVudEVsXz1udWxsLHRoaXMudGV4dE5vZGVfPW51bGwsc3VwZXIuZGlzcG9zZSgpfXVwZGF0ZVRleHROb2RlXyhlPTApe2U9SHQoZSksdGhpcy5mb3JtYXR0ZWRUaW1lXyE9PWUmJih0aGlzLmZvcm1hdHRlZFRpbWVfPWUsdGhpcy5yZXF1ZXN0TmFtZWRBbmltYXRpb25GcmFtZShcIlRpbWVEaXNwbGF5I3VwZGF0ZVRleHROb2RlX1wiLCgpPT57aWYodGhpcy5jb250ZW50RWxfKXtsZXQgZT10aGlzLnRleHROb2RlXztlJiZ0aGlzLmNvbnRlbnRFbF8uZmlyc3RDaGlsZCE9PWUmJihlPW51bGwsZC53YXJuKFwiVGltZURpc3BsYXkjdXBkYXRlVGV4dG5vZGVfOiBQcmV2ZW50ZWQgcmVwbGFjZW1lbnQgb2YgdGV4dCBub2RlIGVsZW1lbnQgc2luY2UgaXQgd2FzIG5vIGxvbmdlciBhIGNoaWxkIG9mIHRoaXMgbm9kZS4gQXBwZW5kaW5nIGEgbmV3IG5vZGUgaW5zdGVhZC5cIikpLHRoaXMudGV4dE5vZGVfPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRoaXMuZm9ybWF0dGVkVGltZV8pLHRoaXMudGV4dE5vZGVfJiYoZT90aGlzLmNvbnRlbnRFbF8ucmVwbGFjZUNoaWxkKHRoaXMudGV4dE5vZGVfLGUpOnRoaXMuY29udGVudEVsXy5hcHBlbmRDaGlsZCh0aGlzLnRleHROb2RlXykpfX0pKX11cGRhdGVDb250ZW50KGUpe319TnMucHJvdG90eXBlLmxhYmVsVGV4dF89XCJUaW1lXCIsTnMucHJvdG90eXBlLmNvbnRyb2xUZXh0Xz1cIlRpbWVcIixmLnJlZ2lzdGVyQ29tcG9uZW50KFwiVGltZURpc3BsYXlcIixOcyk7Y2xhc3MgTXMgZXh0ZW5kcyBOc3tidWlsZENTU0NsYXNzKCl7cmV0dXJuXCJ2anMtY3VycmVudC10aW1lXCJ9dXBkYXRlQ29udGVudChlKXtsZXQgdDt0PXRoaXMucGxheWVyXy5lbmRlZCgpP3RoaXMucGxheWVyXy5kdXJhdGlvbigpOnRoaXMucGxheWVyXy5zY3J1YmJpbmcoKT90aGlzLnBsYXllcl8uZ2V0Q2FjaGUoKS5jdXJyZW50VGltZTp0aGlzLnBsYXllcl8uY3VycmVudFRpbWUoKSx0aGlzLnVwZGF0ZVRleHROb2RlXyh0KX19TXMucHJvdG90eXBlLmxhYmVsVGV4dF89XCJDdXJyZW50IFRpbWVcIixNcy5wcm90b3R5cGUuY29udHJvbFRleHRfPVwiQ3VycmVudCBUaW1lXCIsZi5yZWdpc3RlckNvbXBvbmVudChcIkN1cnJlbnRUaW1lRGlzcGxheVwiLE1zKTtjbGFzcyBScyBleHRlbmRzIE5ze2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KTt0PWU9PnRoaXMudXBkYXRlQ29udGVudChlKTt0aGlzLm9uKGUsXCJkdXJhdGlvbmNoYW5nZVwiLHQpLHRoaXMub24oZSxcImxvYWRzdGFydFwiLHQpLHRoaXMub24oZSxcImxvYWRlZG1ldGFkYXRhXCIsdCl9YnVpbGRDU1NDbGFzcygpe3JldHVyblwidmpzLWR1cmF0aW9uXCJ9dXBkYXRlQ29udGVudChlKXt2YXIgdD10aGlzLnBsYXllcl8uZHVyYXRpb24oKTt0aGlzLnVwZGF0ZVRleHROb2RlXyh0KX19UnMucHJvdG90eXBlLmxhYmVsVGV4dF89XCJEdXJhdGlvblwiLFJzLnByb3RvdHlwZS5jb250cm9sVGV4dF89XCJEdXJhdGlvblwiLGYucmVnaXN0ZXJDb21wb25lbnQoXCJEdXJhdGlvbkRpc3BsYXlcIixScyk7Y2xhc3MgVXMgZXh0ZW5kcyBme2NyZWF0ZUVsKCl7dmFyIGU9c3VwZXIuY3JlYXRlRWwoXCJkaXZcIix7Y2xhc3NOYW1lOlwidmpzLXRpbWUtY29udHJvbCB2anMtdGltZS1kaXZpZGVyXCJ9LHtcImFyaWEtaGlkZGVuXCI6ITB9KSx0PXN1cGVyLmNyZWF0ZUVsKFwiZGl2XCIpLGk9c3VwZXIuY3JlYXRlRWwoXCJzcGFuXCIse3RleHRDb250ZW50OlwiL1wifSk7cmV0dXJuIHQuYXBwZW5kQ2hpbGQoaSksZS5hcHBlbmRDaGlsZCh0KSxlfX1mLnJlZ2lzdGVyQ29tcG9uZW50KFwiVGltZURpdmlkZXJcIixVcyk7Y2xhc3MgQnMgZXh0ZW5kcyBOc3tjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsdCksdGhpcy5vbihlLFwiZHVyYXRpb25jaGFuZ2VcIixlPT50aGlzLnVwZGF0ZUNvbnRlbnQoZSkpfWJ1aWxkQ1NTQ2xhc3MoKXtyZXR1cm5cInZqcy1yZW1haW5pbmctdGltZVwifWNyZWF0ZUVsKCl7dmFyIGU9c3VwZXIuY3JlYXRlRWwoKTtyZXR1cm4hMSE9PXRoaXMub3B0aW9uc18uZGlzcGxheU5lZ2F0aXZlJiZlLmluc2VydEJlZm9yZShvKFwic3BhblwiLHt9LHtcImFyaWEtaGlkZGVuXCI6ITB9LFwiLVwiKSx0aGlzLmNvbnRlbnRFbF8pLGV9dXBkYXRlQ29udGVudChlKXtpZihcIm51bWJlclwiPT10eXBlb2YgdGhpcy5wbGF5ZXJfLmR1cmF0aW9uKCkpe2xldCBlO2U9dGhpcy5wbGF5ZXJfLmVuZGVkKCk/MDp0aGlzLnBsYXllcl8ucmVtYWluaW5nVGltZURpc3BsYXk/dGhpcy5wbGF5ZXJfLnJlbWFpbmluZ1RpbWVEaXNwbGF5KCk6dGhpcy5wbGF5ZXJfLnJlbWFpbmluZ1RpbWUoKSx0aGlzLnVwZGF0ZVRleHROb2RlXyhlKX19fUJzLnByb3RvdHlwZS5sYWJlbFRleHRfPVwiUmVtYWluaW5nIFRpbWVcIixCcy5wcm90b3R5cGUuY29udHJvbFRleHRfPVwiUmVtYWluaW5nIFRpbWVcIixmLnJlZ2lzdGVyQ29tcG9uZW50KFwiUmVtYWluaW5nVGltZURpc3BsYXlcIixCcyk7Y2xhc3MgRnMgZXh0ZW5kcyBme2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KSx0aGlzLnVwZGF0ZVNob3dpbmcoKSx0aGlzLm9uKHRoaXMucGxheWVyKCksXCJkdXJhdGlvbmNoYW5nZVwiLGU9PnRoaXMudXBkYXRlU2hvd2luZyhlKSl9Y3JlYXRlRWwoKXt2YXIgZT1zdXBlci5jcmVhdGVFbChcImRpdlwiLHtjbGFzc05hbWU6XCJ2anMtbGl2ZS1jb250cm9sIHZqcy1jb250cm9sXCJ9KTtyZXR1cm4gdGhpcy5jb250ZW50RWxfPW8oXCJkaXZcIix7Y2xhc3NOYW1lOlwidmpzLWxpdmUtZGlzcGxheVwifSx7XCJhcmlhLWxpdmVcIjpcIm9mZlwifSksdGhpcy5jb250ZW50RWxfLmFwcGVuZENoaWxkKG8oXCJzcGFuXCIse2NsYXNzTmFtZTpcInZqcy1jb250cm9sLXRleHRcIix0ZXh0Q29udGVudDp0aGlzLmxvY2FsaXplKFwiU3RyZWFtIFR5cGVcIikrXCLCoFwifSkpLHRoaXMuY29udGVudEVsXy5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0aGlzLmxvY2FsaXplKFwiTElWRVwiKSkpLGUuYXBwZW5kQ2hpbGQodGhpcy5jb250ZW50RWxfKSxlfWRpc3Bvc2UoKXt0aGlzLmNvbnRlbnRFbF89bnVsbCxzdXBlci5kaXNwb3NlKCl9dXBkYXRlU2hvd2luZyhlKXt0aGlzLnBsYXllcigpLmR1cmF0aW9uKCk9PT0xLzA/dGhpcy5zaG93KCk6dGhpcy5oaWRlKCl9fWYucmVnaXN0ZXJDb21wb25lbnQoXCJMaXZlRGlzcGxheVwiLEZzKTtjbGFzcyBqcyBleHRlbmRzIHN7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQpLHRoaXMudXBkYXRlTGl2ZUVkZ2VTdGF0dXMoKSx0aGlzLnBsYXllcl8ubGl2ZVRyYWNrZXImJih0aGlzLnVwZGF0ZUxpdmVFZGdlU3RhdHVzSGFuZGxlcl89ZT0+dGhpcy51cGRhdGVMaXZlRWRnZVN0YXR1cyhlKSx0aGlzLm9uKHRoaXMucGxheWVyXy5saXZlVHJhY2tlcixcImxpdmVlZGdlY2hhbmdlXCIsdGhpcy51cGRhdGVMaXZlRWRnZVN0YXR1c0hhbmRsZXJfKSl9Y3JlYXRlRWwoKXt2YXIgZT1zdXBlci5jcmVhdGVFbChcImJ1dHRvblwiLHtjbGFzc05hbWU6XCJ2anMtc2Vlay10by1saXZlLWNvbnRyb2wgdmpzLWNvbnRyb2xcIn0pO3JldHVybiB0aGlzLnRleHRFbF89byhcInNwYW5cIix7Y2xhc3NOYW1lOlwidmpzLXNlZWstdG8tbGl2ZS10ZXh0XCIsdGV4dENvbnRlbnQ6dGhpcy5sb2NhbGl6ZShcIkxJVkVcIil9LHtcImFyaWEtaGlkZGVuXCI6XCJ0cnVlXCJ9KSxlLmFwcGVuZENoaWxkKHRoaXMudGV4dEVsXyksZX11cGRhdGVMaXZlRWRnZVN0YXR1cygpeyF0aGlzLnBsYXllcl8ubGl2ZVRyYWNrZXJ8fHRoaXMucGxheWVyXy5saXZlVHJhY2tlci5hdExpdmVFZGdlKCk/KHRoaXMuc2V0QXR0cmlidXRlKFwiYXJpYS1kaXNhYmxlZFwiLCEwKSx0aGlzLmFkZENsYXNzKFwidmpzLWF0LWxpdmUtZWRnZVwiKSx0aGlzLmNvbnRyb2xUZXh0KFwiU2VlayB0byBsaXZlLCBjdXJyZW50bHkgcGxheWluZyBsaXZlXCIpKToodGhpcy5zZXRBdHRyaWJ1dGUoXCJhcmlhLWRpc2FibGVkXCIsITEpLHRoaXMucmVtb3ZlQ2xhc3MoXCJ2anMtYXQtbGl2ZS1lZGdlXCIpLHRoaXMuY29udHJvbFRleHQoXCJTZWVrIHRvIGxpdmUsIGN1cnJlbnRseSBiZWhpbmQgbGl2ZVwiKSl9aGFuZGxlQ2xpY2soKXt0aGlzLnBsYXllcl8ubGl2ZVRyYWNrZXIuc2Vla1RvTGl2ZUVkZ2UoKX1kaXNwb3NlKCl7dGhpcy5wbGF5ZXJfLmxpdmVUcmFja2VyJiZ0aGlzLm9mZih0aGlzLnBsYXllcl8ubGl2ZVRyYWNrZXIsXCJsaXZlZWRnZWNoYW5nZVwiLHRoaXMudXBkYXRlTGl2ZUVkZ2VTdGF0dXNIYW5kbGVyXyksdGhpcy50ZXh0RWxfPW51bGwsc3VwZXIuZGlzcG9zZSgpfX1mdW5jdGlvbiBIcyhlLHQsaSl7cmV0dXJuIGU9TnVtYmVyKGUpLE1hdGgubWluKGksTWF0aC5tYXgodCxpc05hTihlKT90OmUpKX1qcy5wcm90b3R5cGUuY29udHJvbFRleHRfPVwiU2VlayB0byBsaXZlLCBjdXJyZW50bHkgcGxheWluZyBsaXZlXCIsZi5yZWdpc3RlckNvbXBvbmVudChcIlNlZWtUb0xpdmVcIixqcyk7cGk9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsY2xhbXA6SHN9KTtjbGFzcyBxcyBleHRlbmRzIGZ7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQpLHRoaXMuaGFuZGxlTW91c2VEb3duXz1lPT50aGlzLmhhbmRsZU1vdXNlRG93bihlKSx0aGlzLmhhbmRsZU1vdXNlVXBfPWU9PnRoaXMuaGFuZGxlTW91c2VVcChlKSx0aGlzLmhhbmRsZUtleURvd25fPWU9PnRoaXMuaGFuZGxlS2V5RG93bihlKSx0aGlzLmhhbmRsZUNsaWNrXz1lPT50aGlzLmhhbmRsZUNsaWNrKGUpLHRoaXMuaGFuZGxlTW91c2VNb3ZlXz1lPT50aGlzLmhhbmRsZU1vdXNlTW92ZShlKSx0aGlzLnVwZGF0ZV89ZT0+dGhpcy51cGRhdGUoZSksdGhpcy5iYXI9dGhpcy5nZXRDaGlsZCh0aGlzLm9wdGlvbnNfLmJhck5hbWUpLHRoaXMudmVydGljYWwoISF0aGlzLm9wdGlvbnNfLnZlcnRpY2FsKSx0aGlzLmVuYWJsZSgpfWVuYWJsZWQoKXtyZXR1cm4gdGhpcy5lbmFibGVkX31lbmFibGUoKXt0aGlzLmVuYWJsZWQoKXx8KHRoaXMub24oXCJtb3VzZWRvd25cIix0aGlzLmhhbmRsZU1vdXNlRG93bl8pLHRoaXMub24oXCJ0b3VjaHN0YXJ0XCIsdGhpcy5oYW5kbGVNb3VzZURvd25fKSx0aGlzLm9uKFwia2V5ZG93blwiLHRoaXMuaGFuZGxlS2V5RG93bl8pLHRoaXMub24oXCJjbGlja1wiLHRoaXMuaGFuZGxlQ2xpY2tfKSx0aGlzLm9uKHRoaXMucGxheWVyXyxcImNvbnRyb2xzdmlzaWJsZVwiLHRoaXMudXBkYXRlKSx0aGlzLnBsYXllckV2ZW50JiZ0aGlzLm9uKHRoaXMucGxheWVyXyx0aGlzLnBsYXllckV2ZW50LHRoaXMudXBkYXRlKSx0aGlzLnJlbW92ZUNsYXNzKFwiZGlzYWJsZWRcIiksdGhpcy5zZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiLDApLHRoaXMuZW5hYmxlZF89ITApfWRpc2FibGUoKXt2YXIgZTt0aGlzLmVuYWJsZWQoKSYmKGU9dGhpcy5iYXIuZWxfLm93bmVyRG9jdW1lbnQsdGhpcy5vZmYoXCJtb3VzZWRvd25cIix0aGlzLmhhbmRsZU1vdXNlRG93bl8pLHRoaXMub2ZmKFwidG91Y2hzdGFydFwiLHRoaXMuaGFuZGxlTW91c2VEb3duXyksdGhpcy5vZmYoXCJrZXlkb3duXCIsdGhpcy5oYW5kbGVLZXlEb3duXyksdGhpcy5vZmYoXCJjbGlja1wiLHRoaXMuaGFuZGxlQ2xpY2tfKSx0aGlzLm9mZih0aGlzLnBsYXllcl8sXCJjb250cm9sc3Zpc2libGVcIix0aGlzLnVwZGF0ZV8pLHRoaXMub2ZmKGUsXCJtb3VzZW1vdmVcIix0aGlzLmhhbmRsZU1vdXNlTW92ZV8pLHRoaXMub2ZmKGUsXCJtb3VzZXVwXCIsdGhpcy5oYW5kbGVNb3VzZVVwXyksdGhpcy5vZmYoZSxcInRvdWNobW92ZVwiLHRoaXMuaGFuZGxlTW91c2VNb3ZlXyksdGhpcy5vZmYoZSxcInRvdWNoZW5kXCIsdGhpcy5oYW5kbGVNb3VzZVVwXyksdGhpcy5yZW1vdmVBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiKSx0aGlzLmFkZENsYXNzKFwiZGlzYWJsZWRcIiksdGhpcy5wbGF5ZXJFdmVudCYmdGhpcy5vZmYodGhpcy5wbGF5ZXJfLHRoaXMucGxheWVyRXZlbnQsdGhpcy51cGRhdGUpLHRoaXMuZW5hYmxlZF89ITEpfWNyZWF0ZUVsKGUsdD17fSxpPXt9KXtyZXR1cm4gdC5jbGFzc05hbWU9dC5jbGFzc05hbWUrXCIgdmpzLXNsaWRlclwiLHQ9T2JqZWN0LmFzc2lnbih7dGFiSW5kZXg6MH0sdCksaT1PYmplY3QuYXNzaWduKHtyb2xlOlwic2xpZGVyXCIsXCJhcmlhLXZhbHVlbm93XCI6MCxcImFyaWEtdmFsdWVtaW5cIjowLFwiYXJpYS12YWx1ZW1heFwiOjEwMH0saSksc3VwZXIuY3JlYXRlRWwoZSx0LGkpfWhhbmRsZU1vdXNlRG93bihlKXt2YXIgdD10aGlzLmJhci5lbF8ub3duZXJEb2N1bWVudDtcIm1vdXNlZG93blwiPT09ZS50eXBlJiZlLnByZXZlbnREZWZhdWx0KCksXCJ0b3VjaHN0YXJ0XCIhPT1lLnR5cGV8fGFlfHxlLnByZXZlbnREZWZhdWx0KCksRGUoKSx0aGlzLmFkZENsYXNzKFwidmpzLXNsaWRpbmdcIiksdGhpcy50cmlnZ2VyKFwic2xpZGVyYWN0aXZlXCIpLHRoaXMub24odCxcIm1vdXNlbW92ZVwiLHRoaXMuaGFuZGxlTW91c2VNb3ZlXyksdGhpcy5vbih0LFwibW91c2V1cFwiLHRoaXMuaGFuZGxlTW91c2VVcF8pLHRoaXMub24odCxcInRvdWNobW92ZVwiLHRoaXMuaGFuZGxlTW91c2VNb3ZlXyksdGhpcy5vbih0LFwidG91Y2hlbmRcIix0aGlzLmhhbmRsZU1vdXNlVXBfKSx0aGlzLmhhbmRsZU1vdXNlTW92ZShlLCEwKX1oYW5kbGVNb3VzZU1vdmUoZSl7fWhhbmRsZU1vdXNlVXAoZSl7dmFyIHQ9dGhpcy5iYXIuZWxfLm93bmVyRG9jdW1lbnQ7TmUoKSx0aGlzLnJlbW92ZUNsYXNzKFwidmpzLXNsaWRpbmdcIiksdGhpcy50cmlnZ2VyKFwic2xpZGVyaW5hY3RpdmVcIiksdGhpcy5vZmYodCxcIm1vdXNlbW92ZVwiLHRoaXMuaGFuZGxlTW91c2VNb3ZlXyksdGhpcy5vZmYodCxcIm1vdXNldXBcIix0aGlzLmhhbmRsZU1vdXNlVXBfKSx0aGlzLm9mZih0LFwidG91Y2htb3ZlXCIsdGhpcy5oYW5kbGVNb3VzZU1vdmVfKSx0aGlzLm9mZih0LFwidG91Y2hlbmRcIix0aGlzLmhhbmRsZU1vdXNlVXBfKSx0aGlzLnVwZGF0ZSgpfXVwZGF0ZSgpe2lmKHRoaXMuZWxfJiZ0aGlzLmJhcil7Y29uc3QgdD10aGlzLmdldFByb2dyZXNzKCk7cmV0dXJuIHQhPT10aGlzLnByb2dyZXNzXyYmKHRoaXMucHJvZ3Jlc3NfPXQsdGhpcy5yZXF1ZXN0TmFtZWRBbmltYXRpb25GcmFtZShcIlNsaWRlciN1cGRhdGVcIiwoKT0+e3ZhciBlPXRoaXMudmVydGljYWwoKT9cImhlaWdodFwiOlwid2lkdGhcIjt0aGlzLmJhci5lbCgpLnN0eWxlW2VdPSgxMDAqdCkudG9GaXhlZCgyKStcIiVcIn0pKSx0fX1nZXRQcm9ncmVzcygpe3JldHVybiBOdW1iZXIoSHModGhpcy5nZXRQZXJjZW50KCksMCwxKS50b0ZpeGVkKDQpKX1jYWxjdWxhdGVEaXN0YW5jZShlKXtlPVVlKHRoaXMuZWxfLGUpO3JldHVybiB0aGlzLnZlcnRpY2FsKCk/ZS55OmUueH1oYW5kbGVLZXlEb3duKGUpe3IuaXNFdmVudEtleShlLFwiTGVmdFwiKXx8ci5pc0V2ZW50S2V5KGUsXCJEb3duXCIpPyhlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKSx0aGlzLnN0ZXBCYWNrKCkpOnIuaXNFdmVudEtleShlLFwiUmlnaHRcIil8fHIuaXNFdmVudEtleShlLFwiVXBcIik/KGUucHJldmVudERlZmF1bHQoKSxlLnN0b3BQcm9wYWdhdGlvbigpLHRoaXMuc3RlcEZvcndhcmQoKSk6c3VwZXIuaGFuZGxlS2V5RG93bihlKX1oYW5kbGVDbGljayhlKXtlLnN0b3BQcm9wYWdhdGlvbigpLGUucHJldmVudERlZmF1bHQoKX12ZXJ0aWNhbChlKXtpZih2b2lkIDA9PT1lKXJldHVybiB0aGlzLnZlcnRpY2FsX3x8ITE7dGhpcy52ZXJ0aWNhbF89ISFlLHRoaXMudmVydGljYWxfP3RoaXMuYWRkQ2xhc3MoXCJ2anMtc2xpZGVyLXZlcnRpY2FsXCIpOnRoaXMuYWRkQ2xhc3MoXCJ2anMtc2xpZGVyLWhvcml6b250YWxcIil9fWYucmVnaXN0ZXJDb21wb25lbnQoXCJTbGlkZXJcIixxcyk7Y29uc3QgVnM9KGUsdCk9PkhzKGUvdCoxMDAsMCwxMDApLnRvRml4ZWQoMikrXCIlXCI7Y2xhc3MgJHMgZXh0ZW5kcyBme2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KSx0aGlzLnBhcnRFbHNfPVtdLHRoaXMub24oZSxcInByb2dyZXNzXCIsZT0+dGhpcy51cGRhdGUoZSkpfWNyZWF0ZUVsKCl7dmFyIGU9c3VwZXIuY3JlYXRlRWwoXCJkaXZcIix7Y2xhc3NOYW1lOlwidmpzLWxvYWQtcHJvZ3Jlc3NcIn0pLHQ9byhcInNwYW5cIix7Y2xhc3NOYW1lOlwidmpzLWNvbnRyb2wtdGV4dFwifSksaT1vKFwic3BhblwiLHt0ZXh0Q29udGVudDp0aGlzLmxvY2FsaXplKFwiTG9hZGVkXCIpfSkscz1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIjogXCIpO3JldHVybiB0aGlzLnBlcmNlbnRhZ2VFbF89byhcInNwYW5cIix7Y2xhc3NOYW1lOlwidmpzLWNvbnRyb2wtdGV4dC1sb2FkZWQtcGVyY2VudGFnZVwiLHRleHRDb250ZW50OlwiMCVcIn0pLGUuYXBwZW5kQ2hpbGQodCksdC5hcHBlbmRDaGlsZChpKSx0LmFwcGVuZENoaWxkKHMpLHQuYXBwZW5kQ2hpbGQodGhpcy5wZXJjZW50YWdlRWxfKSxlfWRpc3Bvc2UoKXt0aGlzLnBhcnRFbHNfPW51bGwsdGhpcy5wZXJjZW50YWdlRWxfPW51bGwsc3VwZXIuZGlzcG9zZSgpfXVwZGF0ZShlKXt0aGlzLnJlcXVlc3ROYW1lZEFuaW1hdGlvbkZyYW1lKFwiTG9hZFByb2dyZXNzQmFyI3VwZGF0ZVwiLCgpPT57dmFyIGU9dGhpcy5wbGF5ZXJfLmxpdmVUcmFja2VyLGk9dGhpcy5wbGF5ZXJfLmJ1ZmZlcmVkKCksZT1lJiZlLmlzTGl2ZSgpP2Uuc2Vla2FibGVFbmQoKTp0aGlzLnBsYXllcl8uZHVyYXRpb24oKSxzPXRoaXMucGxheWVyXy5idWZmZXJlZEVuZCgpLHI9dGhpcy5wYXJ0RWxzXyxlPVZzKHMsZSk7dGhpcy5wZXJjZW50XyE9PWUmJih0aGlzLmVsXy5zdHlsZS53aWR0aD1lLFNlKHRoaXMucGVyY2VudGFnZUVsXyxlKSx0aGlzLnBlcmNlbnRfPWUpO2ZvcihsZXQgdD0wO3Q8aS5sZW5ndGg7dCsrKXt2YXIgbj1pLnN0YXJ0KHQpLGE9aS5lbmQodCk7bGV0IGU9clt0XTtlfHwoZT10aGlzLmVsXy5hcHBlbmRDaGlsZChvKCkpLHJbdF09ZSksZS5kYXRhc2V0LnN0YXJ0PT09biYmZS5kYXRhc2V0LmVuZD09PWF8fChlLmRhdGFzZXQuc3RhcnQ9bixlLmRhdGFzZXQuZW5kPWEsZS5zdHlsZS5sZWZ0PVZzKG4scyksZS5zdHlsZS53aWR0aD1WcyhhLW4scykpfWZvcihsZXQgZT1yLmxlbmd0aDtlPmkubGVuZ3RoO2UtLSl0aGlzLmVsXy5yZW1vdmVDaGlsZChyW2UtMV0pO3IubGVuZ3RoPWkubGVuZ3RofSl9fWYucmVnaXN0ZXJDb21wb25lbnQoXCJMb2FkUHJvZ3Jlc3NCYXJcIiwkcyk7Y2xhc3MgV3MgZXh0ZW5kcyBme2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KSx0aGlzLnVwZGF0ZT1jdChtKHRoaXMsdGhpcy51cGRhdGUpLDMwKX1jcmVhdGVFbCgpe3JldHVybiBzdXBlci5jcmVhdGVFbChcImRpdlwiLHtjbGFzc05hbWU6XCJ2anMtdGltZS10b29sdGlwXCJ9LHtcImFyaWEtaGlkZGVuXCI6XCJ0cnVlXCJ9KX11cGRhdGUodCxpLHMpe3ZhciByPVJlKHRoaXMuZWxfKSxuPU1lKHRoaXMucGxheWVyXy5lbCgpKSxpPXQud2lkdGgqaTtpZihuJiZyKXt2YXIgYT10LmxlZnQtbi5sZWZ0K2ksaT10LndpZHRoLWkrKG4ucmlnaHQtdC5yaWdodCk7bGV0IGU9ci53aWR0aC8yO2E8ZT9lKz1lLWE6aTxlJiYoZT1pKSxlPDA/ZT0wOmU+ci53aWR0aCYmKGU9ci53aWR0aCksZT1NYXRoLnJvdW5kKGUpLHRoaXMuZWxfLnN0eWxlLnJpZ2h0PWAtJHtlfXB4YCx0aGlzLndyaXRlKHMpfX13cml0ZShlKXtTZSh0aGlzLmVsXyxlKX11cGRhdGVUaW1lKHIsbixhLG8pe3RoaXMucmVxdWVzdE5hbWVkQW5pbWF0aW9uRnJhbWUoXCJUaW1lVG9vbHRpcCN1cGRhdGVUaW1lXCIsKCk9PntsZXQgZTt2YXIgdCxpLHM9dGhpcy5wbGF5ZXJfLmR1cmF0aW9uKCk7ZT10aGlzLnBsYXllcl8ubGl2ZVRyYWNrZXImJnRoaXMucGxheWVyXy5saXZlVHJhY2tlci5pc0xpdmUoKT8oKGk9KHQ9dGhpcy5wbGF5ZXJfLmxpdmVUcmFja2VyLmxpdmVXaW5kb3coKSktbip0KTwxP1wiXCI6XCItXCIpK0h0KGksdCk6SHQoYSxzKSx0aGlzLnVwZGF0ZShyLG4sZSksbyYmbygpfSl9fWYucmVnaXN0ZXJDb21wb25lbnQoXCJUaW1lVG9vbHRpcFwiLFdzKTtjbGFzcyBHcyBleHRlbmRzIGZ7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQpLHRoaXMudXBkYXRlPWN0KG0odGhpcyx0aGlzLnVwZGF0ZSksMzApfWNyZWF0ZUVsKCl7cmV0dXJuIHN1cGVyLmNyZWF0ZUVsKFwiZGl2XCIse2NsYXNzTmFtZTpcInZqcy1wbGF5LXByb2dyZXNzIHZqcy1zbGlkZXItYmFyXCJ9LHtcImFyaWEtaGlkZGVuXCI6XCJ0cnVlXCJ9KX11cGRhdGUoZSx0KXt2YXIgaSxzPXRoaXMuZ2V0Q2hpbGQoXCJ0aW1lVG9vbHRpcFwiKTtzJiYoaT10aGlzLnBsYXllcl8uc2NydWJiaW5nKCk/dGhpcy5wbGF5ZXJfLmdldENhY2hlKCkuY3VycmVudFRpbWU6dGhpcy5wbGF5ZXJfLmN1cnJlbnRUaW1lKCkscy51cGRhdGVUaW1lKGUsdCxpKSl9fUdzLnByb3RvdHlwZS5vcHRpb25zXz17Y2hpbGRyZW46W119LHV8fHRlfHxHcy5wcm90b3R5cGUub3B0aW9uc18uY2hpbGRyZW4ucHVzaChcInRpbWVUb29sdGlwXCIpLGYucmVnaXN0ZXJDb21wb25lbnQoXCJQbGF5UHJvZ3Jlc3NCYXJcIixHcyk7Y2xhc3MgenMgZXh0ZW5kcyBme2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KSx0aGlzLnVwZGF0ZT1jdChtKHRoaXMsdGhpcy51cGRhdGUpLDMwKX1jcmVhdGVFbCgpe3JldHVybiBzdXBlci5jcmVhdGVFbChcImRpdlwiLHtjbGFzc05hbWU6XCJ2anMtbW91c2UtZGlzcGxheVwifSl9dXBkYXRlKGUsdCl7dmFyIGk9dCp0aGlzLnBsYXllcl8uZHVyYXRpb24oKTt0aGlzLmdldENoaWxkKFwidGltZVRvb2x0aXBcIikudXBkYXRlVGltZShlLHQsaSwoKT0+e3RoaXMuZWxfLnN0eWxlLmxlZnQ9ZS53aWR0aCp0K1wicHhcIn0pfX16cy5wcm90b3R5cGUub3B0aW9uc189e2NoaWxkcmVuOltcInRpbWVUb29sdGlwXCJdfSxmLnJlZ2lzdGVyQ29tcG9uZW50KFwiTW91c2VUaW1lRGlzcGxheVwiLHpzKTtjbGFzcyBYcyBleHRlbmRzIHFze2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KSx0aGlzLnNldEV2ZW50SGFuZGxlcnNfKCl9c2V0RXZlbnRIYW5kbGVyc18oKXt0aGlzLnVwZGF0ZV89bSh0aGlzLHRoaXMudXBkYXRlKSx0aGlzLnVwZGF0ZT1jdCh0aGlzLnVwZGF0ZV8sMzApLHRoaXMub24odGhpcy5wbGF5ZXJfLFtcImVuZGVkXCIsXCJkdXJhdGlvbmNoYW5nZVwiLFwidGltZXVwZGF0ZVwiXSx0aGlzLnVwZGF0ZSksdGhpcy5wbGF5ZXJfLmxpdmVUcmFja2VyJiZ0aGlzLm9uKHRoaXMucGxheWVyXy5saXZlVHJhY2tlcixcImxpdmVlZGdlY2hhbmdlXCIsdGhpcy51cGRhdGUpLHRoaXMudXBkYXRlSW50ZXJ2YWw9bnVsbCx0aGlzLmVuYWJsZUludGVydmFsSGFuZGxlcl89ZT0+dGhpcy5lbmFibGVJbnRlcnZhbF8oZSksdGhpcy5kaXNhYmxlSW50ZXJ2YWxIYW5kbGVyXz1lPT50aGlzLmRpc2FibGVJbnRlcnZhbF8oZSksdGhpcy5vbih0aGlzLnBsYXllcl8sW1wicGxheWluZ1wiXSx0aGlzLmVuYWJsZUludGVydmFsSGFuZGxlcl8pLHRoaXMub24odGhpcy5wbGF5ZXJfLFtcImVuZGVkXCIsXCJwYXVzZVwiLFwid2FpdGluZ1wiXSx0aGlzLmRpc2FibGVJbnRlcnZhbEhhbmRsZXJfKSxcImhpZGRlblwiaW4gZG9jdW1lbnQmJlwidmlzaWJpbGl0eVN0YXRlXCJpbiBkb2N1bWVudCYmdGhpcy5vbihkb2N1bWVudCxcInZpc2liaWxpdHljaGFuZ2VcIix0aGlzLnRvZ2dsZVZpc2liaWxpdHlfKX10b2dnbGVWaXNpYmlsaXR5XyhlKXtcImhpZGRlblwiPT09ZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlPyh0aGlzLmNhbmNlbE5hbWVkQW5pbWF0aW9uRnJhbWUoXCJTZWVrQmFyI3VwZGF0ZVwiKSx0aGlzLmNhbmNlbE5hbWVkQW5pbWF0aW9uRnJhbWUoXCJTbGlkZXIjdXBkYXRlXCIpLHRoaXMuZGlzYWJsZUludGVydmFsXyhlKSk6KHRoaXMucGxheWVyXy5lbmRlZCgpfHx0aGlzLnBsYXllcl8ucGF1c2VkKCl8fHRoaXMuZW5hYmxlSW50ZXJ2YWxfKCksdGhpcy51cGRhdGUoKSl9ZW5hYmxlSW50ZXJ2YWxfKCl7dGhpcy51cGRhdGVJbnRlcnZhbHx8KHRoaXMudXBkYXRlSW50ZXJ2YWw9dGhpcy5zZXRJbnRlcnZhbCh0aGlzLnVwZGF0ZSwzMCkpfWRpc2FibGVJbnRlcnZhbF8oZSl7dGhpcy5wbGF5ZXJfLmxpdmVUcmFja2VyJiZ0aGlzLnBsYXllcl8ubGl2ZVRyYWNrZXIuaXNMaXZlKCkmJmUmJlwiZW5kZWRcIiE9PWUudHlwZXx8dGhpcy51cGRhdGVJbnRlcnZhbCYmKHRoaXMuY2xlYXJJbnRlcnZhbCh0aGlzLnVwZGF0ZUludGVydmFsKSx0aGlzLnVwZGF0ZUludGVydmFsPW51bGwpfWNyZWF0ZUVsKCl7cmV0dXJuIHN1cGVyLmNyZWF0ZUVsKFwiZGl2XCIse2NsYXNzTmFtZTpcInZqcy1wcm9ncmVzcy1ob2xkZXJcIn0se1wiYXJpYS1sYWJlbFwiOnRoaXMubG9jYWxpemUoXCJQcm9ncmVzcyBCYXJcIil9KX11cGRhdGUoZSl7aWYoXCJoaWRkZW5cIiE9PWRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSl7Y29uc3Qgcz1zdXBlci51cGRhdGUoKTtyZXR1cm4gdGhpcy5yZXF1ZXN0TmFtZWRBbmltYXRpb25GcmFtZShcIlNlZWtCYXIjdXBkYXRlXCIsKCk9Pnt2YXIgZT10aGlzLnBsYXllcl8uZW5kZWQoKT90aGlzLnBsYXllcl8uZHVyYXRpb24oKTp0aGlzLmdldEN1cnJlbnRUaW1lXygpLHQ9dGhpcy5wbGF5ZXJfLmxpdmVUcmFja2VyO2xldCBpPXRoaXMucGxheWVyXy5kdXJhdGlvbigpO3QmJnQuaXNMaXZlKCkmJihpPXRoaXMucGxheWVyXy5saXZlVHJhY2tlci5saXZlQ3VycmVudFRpbWUoKSksdGhpcy5wZXJjZW50XyE9PXMmJih0aGlzLmVsXy5zZXRBdHRyaWJ1dGUoXCJhcmlhLXZhbHVlbm93XCIsKDEwMCpzKS50b0ZpeGVkKDIpKSx0aGlzLnBlcmNlbnRfPXMpLHRoaXMuY3VycmVudFRpbWVfPT09ZSYmdGhpcy5kdXJhdGlvbl89PT1pfHwodGhpcy5lbF8uc2V0QXR0cmlidXRlKFwiYXJpYS12YWx1ZXRleHRcIix0aGlzLmxvY2FsaXplKFwicHJvZ3Jlc3MgYmFyIHRpbWluZzogY3VycmVudFRpbWU9ezF9IGR1cmF0aW9uPXsyfVwiLFtIdChlLGkpLEh0KGksaSldLFwiezF9IG9mIHsyfVwiKSksdGhpcy5jdXJyZW50VGltZV89ZSx0aGlzLmR1cmF0aW9uXz1pKSx0aGlzLmJhciYmdGhpcy5iYXIudXBkYXRlKE1lKHRoaXMuZWwoKSksdGhpcy5nZXRQcm9ncmVzcygpKX0pLHN9fXVzZXJTZWVrXyhlKXt0aGlzLnBsYXllcl8ubGl2ZVRyYWNrZXImJnRoaXMucGxheWVyXy5saXZlVHJhY2tlci5pc0xpdmUoKSYmdGhpcy5wbGF5ZXJfLmxpdmVUcmFja2VyLm5leHRTZWVrZWRGcm9tVXNlcigpLHRoaXMucGxheWVyXy5jdXJyZW50VGltZShlKX1nZXRDdXJyZW50VGltZV8oKXtyZXR1cm4gdGhpcy5wbGF5ZXJfLnNjcnViYmluZygpP3RoaXMucGxheWVyXy5nZXRDYWNoZSgpLmN1cnJlbnRUaW1lOnRoaXMucGxheWVyXy5jdXJyZW50VGltZSgpfWdldFBlcmNlbnQoKXt2YXIgZT10aGlzLmdldEN1cnJlbnRUaW1lXygpO2xldCB0O3ZhciBpPXRoaXMucGxheWVyXy5saXZlVHJhY2tlcjtyZXR1cm4gaSYmaS5pc0xpdmUoKT8odD0oZS1pLnNlZWthYmxlU3RhcnQoKSkvaS5saXZlV2luZG93KCksaS5hdExpdmVFZGdlKCkmJih0PTEpKTp0PWUvdGhpcy5wbGF5ZXJfLmR1cmF0aW9uKCksdH1oYW5kbGVNb3VzZURvd24oZSl7VmUoZSkmJihlLnN0b3BQcm9wYWdhdGlvbigpLHRoaXMudmlkZW9XYXNQbGF5aW5nPSF0aGlzLnBsYXllcl8ucGF1c2VkKCksdGhpcy5wbGF5ZXJfLnBhdXNlKCksc3VwZXIuaGFuZGxlTW91c2VEb3duKGUpKX1oYW5kbGVNb3VzZU1vdmUodCxpPSExKXtpZihWZSh0KSl7aXx8dGhpcy5wbGF5ZXJfLnNjcnViYmluZygpfHx0aGlzLnBsYXllcl8uc2NydWJiaW5nKCEwKTtsZXQgZTtpPXRoaXMuY2FsY3VsYXRlRGlzdGFuY2UodCksdD10aGlzLnBsYXllcl8ubGl2ZVRyYWNrZXI7aWYodCYmdC5pc0xpdmUoKSl7aWYoLjk5PD1pKXJldHVybiB2b2lkIHQuc2Vla1RvTGl2ZUVkZ2UoKTt2YXIgcz10LnNlZWthYmxlU3RhcnQoKSxyPXQubGl2ZUN1cnJlbnRUaW1lKCk7aWYoKGU9KGU9KGU9cytpKnQubGl2ZVdpbmRvdygpKT49cj9yOmUpPD1zP3MrLjE6ZSk9PT0xLzApcmV0dXJufWVsc2UoZT1pKnRoaXMucGxheWVyXy5kdXJhdGlvbigpKT09PXRoaXMucGxheWVyXy5kdXJhdGlvbigpJiYoZS09LjEpO3RoaXMudXNlclNlZWtfKGUpfX1lbmFibGUoKXtzdXBlci5lbmFibGUoKTt2YXIgZT10aGlzLmdldENoaWxkKFwibW91c2VUaW1lRGlzcGxheVwiKTtlJiZlLnNob3coKX1kaXNhYmxlKCl7c3VwZXIuZGlzYWJsZSgpO3ZhciBlPXRoaXMuZ2V0Q2hpbGQoXCJtb3VzZVRpbWVEaXNwbGF5XCIpO2UmJmUuaGlkZSgpfWhhbmRsZU1vdXNlVXAoZSl7c3VwZXIuaGFuZGxlTW91c2VVcChlKSxlJiZlLnN0b3BQcm9wYWdhdGlvbigpLHRoaXMucGxheWVyXy5zY3J1YmJpbmcoITEpLHRoaXMucGxheWVyXy50cmlnZ2VyKHt0eXBlOlwidGltZXVwZGF0ZVwiLHRhcmdldDp0aGlzLG1hbnVhbGx5VHJpZ2dlcmVkOiEwfSksdGhpcy52aWRlb1dhc1BsYXlpbmc/R3QodGhpcy5wbGF5ZXJfLnBsYXkoKSk6dGhpcy51cGRhdGVfKCl9c3RlcEZvcndhcmQoKXt0aGlzLnVzZXJTZWVrXyh0aGlzLnBsYXllcl8uY3VycmVudFRpbWUoKSs1KX1zdGVwQmFjaygpe3RoaXMudXNlclNlZWtfKHRoaXMucGxheWVyXy5jdXJyZW50VGltZSgpLTUpfWhhbmRsZUFjdGlvbihlKXt0aGlzLnBsYXllcl8ucGF1c2VkKCk/dGhpcy5wbGF5ZXJfLnBsYXkoKTp0aGlzLnBsYXllcl8ucGF1c2UoKX1oYW5kbGVLZXlEb3duKGUpe3ZhciB0LGk9dGhpcy5wbGF5ZXJfLmxpdmVUcmFja2VyO3IuaXNFdmVudEtleShlLFwiU3BhY2VcIil8fHIuaXNFdmVudEtleShlLFwiRW50ZXJcIik/KGUucHJldmVudERlZmF1bHQoKSxlLnN0b3BQcm9wYWdhdGlvbigpLHRoaXMuaGFuZGxlQWN0aW9uKGUpKTpyLmlzRXZlbnRLZXkoZSxcIkhvbWVcIik/KGUucHJldmVudERlZmF1bHQoKSxlLnN0b3BQcm9wYWdhdGlvbigpLHRoaXMudXNlclNlZWtfKDApKTpyLmlzRXZlbnRLZXkoZSxcIkVuZFwiKT8oZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcFByb3BhZ2F0aW9uKCksaSYmaS5pc0xpdmUoKT90aGlzLnVzZXJTZWVrXyhpLmxpdmVDdXJyZW50VGltZSgpKTp0aGlzLnVzZXJTZWVrXyh0aGlzLnBsYXllcl8uZHVyYXRpb24oKSkpOi9eWzAtOV0kLy50ZXN0KHIoZSkpPyhlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKSx0PTEwKihyLmNvZGVzW3IoZSldLXIuY29kZXNbMF0pLzEwMCxpJiZpLmlzTGl2ZSgpP3RoaXMudXNlclNlZWtfKGkuc2Vla2FibGVTdGFydCgpK2kubGl2ZVdpbmRvdygpKnQpOnRoaXMudXNlclNlZWtfKHRoaXMucGxheWVyXy5kdXJhdGlvbigpKnQpKTpyLmlzRXZlbnRLZXkoZSxcIlBnRG5cIik/KGUucHJldmVudERlZmF1bHQoKSxlLnN0b3BQcm9wYWdhdGlvbigpLHRoaXMudXNlclNlZWtfKHRoaXMucGxheWVyXy5jdXJyZW50VGltZSgpLTYwKSk6ci5pc0V2ZW50S2V5KGUsXCJQZ1VwXCIpPyhlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKSx0aGlzLnVzZXJTZWVrXyh0aGlzLnBsYXllcl8uY3VycmVudFRpbWUoKSs2MCkpOnN1cGVyLmhhbmRsZUtleURvd24oZSl9ZGlzcG9zZSgpe3RoaXMuZGlzYWJsZUludGVydmFsXygpLHRoaXMub2ZmKHRoaXMucGxheWVyXyxbXCJlbmRlZFwiLFwiZHVyYXRpb25jaGFuZ2VcIixcInRpbWV1cGRhdGVcIl0sdGhpcy51cGRhdGUpLHRoaXMucGxheWVyXy5saXZlVHJhY2tlciYmdGhpcy5vZmYodGhpcy5wbGF5ZXJfLmxpdmVUcmFja2VyLFwibGl2ZWVkZ2VjaGFuZ2VcIix0aGlzLnVwZGF0ZSksdGhpcy5vZmYodGhpcy5wbGF5ZXJfLFtcInBsYXlpbmdcIl0sdGhpcy5lbmFibGVJbnRlcnZhbEhhbmRsZXJfKSx0aGlzLm9mZih0aGlzLnBsYXllcl8sW1wiZW5kZWRcIixcInBhdXNlXCIsXCJ3YWl0aW5nXCJdLHRoaXMuZGlzYWJsZUludGVydmFsSGFuZGxlcl8pLFwiaGlkZGVuXCJpbiBkb2N1bWVudCYmXCJ2aXNpYmlsaXR5U3RhdGVcImluIGRvY3VtZW50JiZ0aGlzLm9mZihkb2N1bWVudCxcInZpc2liaWxpdHljaGFuZ2VcIix0aGlzLnRvZ2dsZVZpc2liaWxpdHlfKSxzdXBlci5kaXNwb3NlKCl9fVhzLnByb3RvdHlwZS5vcHRpb25zXz17Y2hpbGRyZW46W1wibG9hZFByb2dyZXNzQmFyXCIsXCJwbGF5UHJvZ3Jlc3NCYXJcIl0sYmFyTmFtZTpcInBsYXlQcm9ncmVzc0JhclwifSx1fHx0ZXx8WHMucHJvdG90eXBlLm9wdGlvbnNfLmNoaWxkcmVuLnNwbGljZSgxLDAsXCJtb3VzZVRpbWVEaXNwbGF5XCIpLGYucmVnaXN0ZXJDb21wb25lbnQoXCJTZWVrQmFyXCIsWHMpO2NsYXNzIEtzIGV4dGVuZHMgZntjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsdCksdGhpcy5oYW5kbGVNb3VzZU1vdmU9Y3QobSh0aGlzLHRoaXMuaGFuZGxlTW91c2VNb3ZlKSwzMCksdGhpcy50aHJvdHRsZWRIYW5kbGVNb3VzZVNlZWs9Y3QobSh0aGlzLHRoaXMuaGFuZGxlTW91c2VTZWVrKSwzMCksdGhpcy5oYW5kbGVNb3VzZVVwSGFuZGxlcl89ZT0+dGhpcy5oYW5kbGVNb3VzZVVwKGUpLHRoaXMuaGFuZGxlTW91c2VEb3duSGFuZGxlcl89ZT0+dGhpcy5oYW5kbGVNb3VzZURvd24oZSksdGhpcy5lbmFibGUoKX1jcmVhdGVFbCgpe3JldHVybiBzdXBlci5jcmVhdGVFbChcImRpdlwiLHtjbGFzc05hbWU6XCJ2anMtcHJvZ3Jlc3MtY29udHJvbCB2anMtY29udHJvbFwifSl9aGFuZGxlTW91c2VNb3ZlKGUpe3ZhciB0LGkscyxyLG49dGhpcy5nZXRDaGlsZChcInNlZWtCYXJcIik7biYmKHQ9bi5nZXRDaGlsZChcInBsYXlQcm9ncmVzc0JhclwiKSxpPW4uZ2V0Q2hpbGQoXCJtb3VzZVRpbWVEaXNwbGF5XCIpLHR8fGkpJiYocz1SZShyPW4uZWwoKSkscj1IcyhyPVVlKHIsZSkueCwwLDEpLGkmJmkudXBkYXRlKHMsciksdCkmJnQudXBkYXRlKHMsbi5nZXRQcm9ncmVzcygpKX1oYW5kbGVNb3VzZVNlZWsoZSl7dmFyIHQ9dGhpcy5nZXRDaGlsZChcInNlZWtCYXJcIik7dCYmdC5oYW5kbGVNb3VzZU1vdmUoZSl9ZW5hYmxlZCgpe3JldHVybiB0aGlzLmVuYWJsZWRffWRpc2FibGUoKXt2YXIgZTt0aGlzLmNoaWxkcmVuKCkuZm9yRWFjaChlPT5lLmRpc2FibGUmJmUuZGlzYWJsZSgpKSx0aGlzLmVuYWJsZWQoKSYmKHRoaXMub2ZmKFtcIm1vdXNlZG93blwiLFwidG91Y2hzdGFydFwiXSx0aGlzLmhhbmRsZU1vdXNlRG93bkhhbmRsZXJfKSx0aGlzLm9mZih0aGlzLmVsXyxcIm1vdXNlbW92ZVwiLHRoaXMuaGFuZGxlTW91c2VNb3ZlKSx0aGlzLnJlbW92ZUxpc3RlbmVyc0FkZGVkT25Nb3VzZWRvd25BbmRUb3VjaHN0YXJ0KCksdGhpcy5hZGRDbGFzcyhcImRpc2FibGVkXCIpLHRoaXMuZW5hYmxlZF89ITEsdGhpcy5wbGF5ZXJfLnNjcnViYmluZygpKSYmKGU9dGhpcy5nZXRDaGlsZChcInNlZWtCYXJcIiksdGhpcy5wbGF5ZXJfLnNjcnViYmluZyghMSksZS52aWRlb1dhc1BsYXlpbmcpJiZHdCh0aGlzLnBsYXllcl8ucGxheSgpKX1lbmFibGUoKXt0aGlzLmNoaWxkcmVuKCkuZm9yRWFjaChlPT5lLmVuYWJsZSYmZS5lbmFibGUoKSksdGhpcy5lbmFibGVkKCl8fCh0aGlzLm9uKFtcIm1vdXNlZG93blwiLFwidG91Y2hzdGFydFwiXSx0aGlzLmhhbmRsZU1vdXNlRG93bkhhbmRsZXJfKSx0aGlzLm9uKHRoaXMuZWxfLFwibW91c2Vtb3ZlXCIsdGhpcy5oYW5kbGVNb3VzZU1vdmUpLHRoaXMucmVtb3ZlQ2xhc3MoXCJkaXNhYmxlZFwiKSx0aGlzLmVuYWJsZWRfPSEwKX1yZW1vdmVMaXN0ZW5lcnNBZGRlZE9uTW91c2Vkb3duQW5kVG91Y2hzdGFydCgpe3ZhciBlPXRoaXMuZWxfLm93bmVyRG9jdW1lbnQ7dGhpcy5vZmYoZSxcIm1vdXNlbW92ZVwiLHRoaXMudGhyb3R0bGVkSGFuZGxlTW91c2VTZWVrKSx0aGlzLm9mZihlLFwidG91Y2htb3ZlXCIsdGhpcy50aHJvdHRsZWRIYW5kbGVNb3VzZVNlZWspLHRoaXMub2ZmKGUsXCJtb3VzZXVwXCIsdGhpcy5oYW5kbGVNb3VzZVVwSGFuZGxlcl8pLHRoaXMub2ZmKGUsXCJ0b3VjaGVuZFwiLHRoaXMuaGFuZGxlTW91c2VVcEhhbmRsZXJfKX1oYW5kbGVNb3VzZURvd24oZSl7dmFyIHQ9dGhpcy5lbF8ub3duZXJEb2N1bWVudCxpPXRoaXMuZ2V0Q2hpbGQoXCJzZWVrQmFyXCIpO2kmJmkuaGFuZGxlTW91c2VEb3duKGUpLHRoaXMub24odCxcIm1vdXNlbW92ZVwiLHRoaXMudGhyb3R0bGVkSGFuZGxlTW91c2VTZWVrKSx0aGlzLm9uKHQsXCJ0b3VjaG1vdmVcIix0aGlzLnRocm90dGxlZEhhbmRsZU1vdXNlU2VlayksdGhpcy5vbih0LFwibW91c2V1cFwiLHRoaXMuaGFuZGxlTW91c2VVcEhhbmRsZXJfKSx0aGlzLm9uKHQsXCJ0b3VjaGVuZFwiLHRoaXMuaGFuZGxlTW91c2VVcEhhbmRsZXJfKX1oYW5kbGVNb3VzZVVwKGUpe3ZhciB0PXRoaXMuZ2V0Q2hpbGQoXCJzZWVrQmFyXCIpO3QmJnQuaGFuZGxlTW91c2VVcChlKSx0aGlzLnJlbW92ZUxpc3RlbmVyc0FkZGVkT25Nb3VzZWRvd25BbmRUb3VjaHN0YXJ0KCl9fUtzLnByb3RvdHlwZS5vcHRpb25zXz17Y2hpbGRyZW46W1wic2Vla0JhclwiXX0sZi5yZWdpc3RlckNvbXBvbmVudChcIlByb2dyZXNzQ29udHJvbFwiLEtzKTtjbGFzcyBZcyBleHRlbmRzIHN7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQpLHRoaXMub24oZSxbXCJlbnRlcnBpY3R1cmVpbnBpY3R1cmVcIixcImxlYXZlcGljdHVyZWlucGljdHVyZVwiXSxlPT50aGlzLmhhbmRsZVBpY3R1cmVJblBpY3R1cmVDaGFuZ2UoZSkpLHRoaXMub24oZSxbXCJkaXNhYmxlcGljdHVyZWlucGljdHVyZWNoYW5nZWRcIixcImxvYWRlZG1ldGFkYXRhXCJdLGU9PnRoaXMuaGFuZGxlUGljdHVyZUluUGljdHVyZUVuYWJsZWRDaGFuZ2UoZSkpLHRoaXMub24oZSxbXCJsb2FkZWRtZXRhZGF0YVwiLFwiYXVkaW9vbmx5bW9kZWNoYW5nZVwiLFwiYXVkaW9wb3N0ZXJtb2RlY2hhbmdlXCJdLCgpPT57XCJhdWRpb1wiPT09ZS5jdXJyZW50VHlwZSgpLnN1YnN0cmluZygwLDUpfHxlLmF1ZGlvUG9zdGVyTW9kZSgpfHxlLmF1ZGlvT25seU1vZGUoKT8oZS5pc0luUGljdHVyZUluUGljdHVyZSgpJiZlLmV4aXRQaWN0dXJlSW5QaWN0dXJlKCksdGhpcy5oaWRlKCkpOnRoaXMuc2hvdygpfSksdGhpcy5kaXNhYmxlKCl9YnVpbGRDU1NDbGFzcygpe3JldHVyblwidmpzLXBpY3R1cmUtaW4tcGljdHVyZS1jb250cm9sIFwiK3N1cGVyLmJ1aWxkQ1NTQ2xhc3MoKX1oYW5kbGVQaWN0dXJlSW5QaWN0dXJlRW5hYmxlZENoYW5nZSgpe2RvY3VtZW50LnBpY3R1cmVJblBpY3R1cmVFbmFibGVkJiYhMT09PXRoaXMucGxheWVyXy5kaXNhYmxlUGljdHVyZUluUGljdHVyZSgpfHx0aGlzLnBsYXllcl8ub3B0aW9uc18uZW5hYmxlRG9jdW1lbnRQaWN0dXJlSW5QaWN0dXJlJiZcImRvY3VtZW50UGljdHVyZUluUGljdHVyZVwiaW4gd2luZG93P3RoaXMuZW5hYmxlKCk6dGhpcy5kaXNhYmxlKCl9aGFuZGxlUGljdHVyZUluUGljdHVyZUNoYW5nZShlKXt0aGlzLnBsYXllcl8uaXNJblBpY3R1cmVJblBpY3R1cmUoKT90aGlzLmNvbnRyb2xUZXh0KFwiRXhpdCBQaWN0dXJlLWluLVBpY3R1cmVcIik6dGhpcy5jb250cm9sVGV4dChcIlBpY3R1cmUtaW4tUGljdHVyZVwiKSx0aGlzLmhhbmRsZVBpY3R1cmVJblBpY3R1cmVFbmFibGVkQ2hhbmdlKCl9aGFuZGxlQ2xpY2soZSl7dGhpcy5wbGF5ZXJfLmlzSW5QaWN0dXJlSW5QaWN0dXJlKCk/dGhpcy5wbGF5ZXJfLmV4aXRQaWN0dXJlSW5QaWN0dXJlKCk6dGhpcy5wbGF5ZXJfLnJlcXVlc3RQaWN0dXJlSW5QaWN0dXJlKCl9fVlzLnByb3RvdHlwZS5jb250cm9sVGV4dF89XCJQaWN0dXJlLWluLVBpY3R1cmVcIixmLnJlZ2lzdGVyQ29tcG9uZW50KFwiUGljdHVyZUluUGljdHVyZVRvZ2dsZVwiLFlzKTtjbGFzcyBRcyBleHRlbmRzIHN7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQpLHRoaXMub24oZSxcImZ1bGxzY3JlZW5jaGFuZ2VcIixlPT50aGlzLmhhbmRsZUZ1bGxzY3JlZW5DaGFuZ2UoZSkpLCExPT09ZG9jdW1lbnRbZS5mc0FwaV8uZnVsbHNjcmVlbkVuYWJsZWRdJiZ0aGlzLmRpc2FibGUoKX1idWlsZENTU0NsYXNzKCl7cmV0dXJuXCJ2anMtZnVsbHNjcmVlbi1jb250cm9sIFwiK3N1cGVyLmJ1aWxkQ1NTQ2xhc3MoKX1oYW5kbGVGdWxsc2NyZWVuQ2hhbmdlKGUpe3RoaXMucGxheWVyXy5pc0Z1bGxzY3JlZW4oKT90aGlzLmNvbnRyb2xUZXh0KFwiRXhpdCBGdWxsc2NyZWVuXCIpOnRoaXMuY29udHJvbFRleHQoXCJGdWxsc2NyZWVuXCIpfWhhbmRsZUNsaWNrKGUpe3RoaXMucGxheWVyXy5pc0Z1bGxzY3JlZW4oKT90aGlzLnBsYXllcl8uZXhpdEZ1bGxzY3JlZW4oKTp0aGlzLnBsYXllcl8ucmVxdWVzdEZ1bGxzY3JlZW4oKX19UXMucHJvdG90eXBlLmNvbnRyb2xUZXh0Xz1cIkZ1bGxzY3JlZW5cIixmLnJlZ2lzdGVyQ29tcG9uZW50KFwiRnVsbHNjcmVlblRvZ2dsZVwiLFFzKTtjbGFzcyBKcyBleHRlbmRzIGZ7Y3JlYXRlRWwoKXt2YXIgZT1zdXBlci5jcmVhdGVFbChcImRpdlwiLHtjbGFzc05hbWU6XCJ2anMtdm9sdW1lLWxldmVsXCJ9KTtyZXR1cm4gZS5hcHBlbmRDaGlsZChzdXBlci5jcmVhdGVFbChcInNwYW5cIix7Y2xhc3NOYW1lOlwidmpzLWNvbnRyb2wtdGV4dFwifSkpLGV9fWYucmVnaXN0ZXJDb21wb25lbnQoXCJWb2x1bWVMZXZlbFwiLEpzKTtjbGFzcyBacyBleHRlbmRzIGZ7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQpLHRoaXMudXBkYXRlPWN0KG0odGhpcyx0aGlzLnVwZGF0ZSksMzApfWNyZWF0ZUVsKCl7cmV0dXJuIHN1cGVyLmNyZWF0ZUVsKFwiZGl2XCIse2NsYXNzTmFtZTpcInZqcy12b2x1bWUtdG9vbHRpcFwifSx7XCJhcmlhLWhpZGRlblwiOlwidHJ1ZVwifSl9dXBkYXRlKHQsaSxzLGUpe2lmKCFzKXt2YXIgcz1NZSh0aGlzLmVsXykscj1NZSh0aGlzLnBsYXllcl8uZWwoKSksaT10LndpZHRoKmk7aWYoIXJ8fCFzKXJldHVybjt2YXIgbj10LmxlZnQtci5sZWZ0K2ksaT10LndpZHRoLWkrKHIucmlnaHQtdC5yaWdodCk7bGV0IGU9cy53aWR0aC8yO248ZT9lKz1lLW46aTxlJiYoZT1pKSxlPDA/ZT0wOmU+cy53aWR0aCYmKGU9cy53aWR0aCksdGhpcy5lbF8uc3R5bGUucmlnaHQ9YC0ke2V9cHhgfXRoaXMud3JpdGUoZStcIiVcIil9d3JpdGUoZSl7U2UodGhpcy5lbF8sZSl9dXBkYXRlVm9sdW1lKGUsdCxpLHMscil7dGhpcy5yZXF1ZXN0TmFtZWRBbmltYXRpb25GcmFtZShcIlZvbHVtZUxldmVsVG9vbHRpcCN1cGRhdGVWb2x1bWVcIiwoKT0+e3RoaXMudXBkYXRlKGUsdCxpLHMudG9GaXhlZCgwKSksciYmcigpfSl9fWYucmVnaXN0ZXJDb21wb25lbnQoXCJWb2x1bWVMZXZlbFRvb2x0aXBcIixacyk7Y2xhc3MgZXIgZXh0ZW5kcyBme2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KSx0aGlzLnVwZGF0ZT1jdChtKHRoaXMsdGhpcy51cGRhdGUpLDMwKX1jcmVhdGVFbCgpe3JldHVybiBzdXBlci5jcmVhdGVFbChcImRpdlwiLHtjbGFzc05hbWU6XCJ2anMtbW91c2UtZGlzcGxheVwifSl9dXBkYXRlKGUsdCxpKXt2YXIgcz0xMDAqdDt0aGlzLmdldENoaWxkKFwidm9sdW1lTGV2ZWxUb29sdGlwXCIpLnVwZGF0ZVZvbHVtZShlLHQsaSxzLCgpPT57aT90aGlzLmVsXy5zdHlsZS5ib3R0b209ZS5oZWlnaHQqdCtcInB4XCI6dGhpcy5lbF8uc3R5bGUubGVmdD1lLndpZHRoKnQrXCJweFwifSl9fWVyLnByb3RvdHlwZS5vcHRpb25zXz17Y2hpbGRyZW46W1widm9sdW1lTGV2ZWxUb29sdGlwXCJdfSxmLnJlZ2lzdGVyQ29tcG9uZW50KFwiTW91c2VWb2x1bWVMZXZlbERpc3BsYXlcIixlcik7Y2xhc3MgdHIgZXh0ZW5kcyBxc3tjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsdCksdGhpcy5vbihcInNsaWRlcmFjdGl2ZVwiLGU9PnRoaXMudXBkYXRlTGFzdFZvbHVtZV8oZSkpLHRoaXMub24oZSxcInZvbHVtZWNoYW5nZVwiLGU9PnRoaXMudXBkYXRlQVJJQUF0dHJpYnV0ZXMoZSkpLGUucmVhZHkoKCk9PnRoaXMudXBkYXRlQVJJQUF0dHJpYnV0ZXMoKSl9Y3JlYXRlRWwoKXtyZXR1cm4gc3VwZXIuY3JlYXRlRWwoXCJkaXZcIix7Y2xhc3NOYW1lOlwidmpzLXZvbHVtZS1iYXIgdmpzLXNsaWRlci1iYXJcIn0se1wiYXJpYS1sYWJlbFwiOnRoaXMubG9jYWxpemUoXCJWb2x1bWUgTGV2ZWxcIiksXCJhcmlhLWxpdmVcIjpcInBvbGl0ZVwifSl9aGFuZGxlTW91c2VEb3duKGUpe1ZlKGUpJiZzdXBlci5oYW5kbGVNb3VzZURvd24oZSl9aGFuZGxlTW91c2VNb3ZlKGUpe3ZhciB0LGkscyxyPXRoaXMuZ2V0Q2hpbGQoXCJtb3VzZVZvbHVtZUxldmVsRGlzcGxheVwiKTtyJiYodD1NZShzPXRoaXMuZWwoKSksaT10aGlzLnZlcnRpY2FsKCkscz1VZShzLGUpLHM9SHMocz1pP3MueTpzLngsMCwxKSxyLnVwZGF0ZSh0LHMsaSkpLFZlKGUpJiYodGhpcy5jaGVja011dGVkKCksdGhpcy5wbGF5ZXJfLnZvbHVtZSh0aGlzLmNhbGN1bGF0ZURpc3RhbmNlKGUpKSl9Y2hlY2tNdXRlZCgpe3RoaXMucGxheWVyXy5tdXRlZCgpJiZ0aGlzLnBsYXllcl8ubXV0ZWQoITEpfWdldFBlcmNlbnQoKXtyZXR1cm4gdGhpcy5wbGF5ZXJfLm11dGVkKCk/MDp0aGlzLnBsYXllcl8udm9sdW1lKCl9c3RlcEZvcndhcmQoKXt0aGlzLmNoZWNrTXV0ZWQoKSx0aGlzLnBsYXllcl8udm9sdW1lKHRoaXMucGxheWVyXy52b2x1bWUoKSsuMSl9c3RlcEJhY2soKXt0aGlzLmNoZWNrTXV0ZWQoKSx0aGlzLnBsYXllcl8udm9sdW1lKHRoaXMucGxheWVyXy52b2x1bWUoKS0uMSl9dXBkYXRlQVJJQUF0dHJpYnV0ZXMoZSl7dmFyIHQ9dGhpcy5wbGF5ZXJfLm11dGVkKCk/MDp0aGlzLnZvbHVtZUFzUGVyY2VudGFnZV8oKTt0aGlzLmVsXy5zZXRBdHRyaWJ1dGUoXCJhcmlhLXZhbHVlbm93XCIsdCksdGhpcy5lbF8uc2V0QXR0cmlidXRlKFwiYXJpYS12YWx1ZXRleHRcIix0K1wiJVwiKX12b2x1bWVBc1BlcmNlbnRhZ2VfKCl7cmV0dXJuIE1hdGgucm91bmQoMTAwKnRoaXMucGxheWVyXy52b2x1bWUoKSl9dXBkYXRlTGFzdFZvbHVtZV8oKXtjb25zdCBlPXRoaXMucGxheWVyXy52b2x1bWUoKTt0aGlzLm9uZShcInNsaWRlcmluYWN0aXZlXCIsKCk9PnswPT09dGhpcy5wbGF5ZXJfLnZvbHVtZSgpJiZ0aGlzLnBsYXllcl8ubGFzdFZvbHVtZV8oZSl9KX19dHIucHJvdG90eXBlLm9wdGlvbnNfPXtjaGlsZHJlbjpbXCJ2b2x1bWVMZXZlbFwiXSxiYXJOYW1lOlwidm9sdW1lTGV2ZWxcIn0sdXx8dGV8fHRyLnByb3RvdHlwZS5vcHRpb25zXy5jaGlsZHJlbi5zcGxpY2UoMCwwLFwibW91c2VWb2x1bWVMZXZlbERpc3BsYXlcIiksdHIucHJvdG90eXBlLnBsYXllckV2ZW50PVwidm9sdW1lY2hhbmdlXCIsZi5yZWdpc3RlckNvbXBvbmVudChcIlZvbHVtZUJhclwiLHRyKTtjbGFzcyBpciBleHRlbmRzIGZ7Y29uc3RydWN0b3IoZSx0PXt9KXt2YXIgaSxzO3QudmVydGljYWw9dC52ZXJ0aWNhbHx8ITEsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQudm9sdW1lQmFyJiYhWSh0LnZvbHVtZUJhcil8fCh0LnZvbHVtZUJhcj10LnZvbHVtZUJhcnx8e30sdC52b2x1bWVCYXIudmVydGljYWw9dC52ZXJ0aWNhbCksc3VwZXIoZSx0KSxpPXRoaXMsKHM9ZSkudGVjaF8mJiFzLnRlY2hfLmZlYXR1cmVzVm9sdW1lQ29udHJvbCYmaS5hZGRDbGFzcyhcInZqcy1oaWRkZW5cIiksaS5vbihzLFwibG9hZHN0YXJ0XCIsZnVuY3Rpb24oKXtzLnRlY2hfLmZlYXR1cmVzVm9sdW1lQ29udHJvbD9pLnJlbW92ZUNsYXNzKFwidmpzLWhpZGRlblwiKTppLmFkZENsYXNzKFwidmpzLWhpZGRlblwiKX0pLHRoaXMudGhyb3R0bGVkSGFuZGxlTW91c2VNb3ZlPWN0KG0odGhpcyx0aGlzLmhhbmRsZU1vdXNlTW92ZSksMzApLHRoaXMuaGFuZGxlTW91c2VVcEhhbmRsZXJfPWU9PnRoaXMuaGFuZGxlTW91c2VVcChlKSx0aGlzLm9uKFwibW91c2Vkb3duXCIsZT0+dGhpcy5oYW5kbGVNb3VzZURvd24oZSkpLHRoaXMub24oXCJ0b3VjaHN0YXJ0XCIsZT0+dGhpcy5oYW5kbGVNb3VzZURvd24oZSkpLHRoaXMub24oXCJtb3VzZW1vdmVcIixlPT50aGlzLmhhbmRsZU1vdXNlTW92ZShlKSksdGhpcy5vbih0aGlzLnZvbHVtZUJhcixbXCJmb2N1c1wiLFwic2xpZGVyYWN0aXZlXCJdLCgpPT57dGhpcy52b2x1bWVCYXIuYWRkQ2xhc3MoXCJ2anMtc2xpZGVyLWFjdGl2ZVwiKSx0aGlzLmFkZENsYXNzKFwidmpzLXNsaWRlci1hY3RpdmVcIiksdGhpcy50cmlnZ2VyKFwic2xpZGVyYWN0aXZlXCIpfSksdGhpcy5vbih0aGlzLnZvbHVtZUJhcixbXCJibHVyXCIsXCJzbGlkZXJpbmFjdGl2ZVwiXSwoKT0+e3RoaXMudm9sdW1lQmFyLnJlbW92ZUNsYXNzKFwidmpzLXNsaWRlci1hY3RpdmVcIiksdGhpcy5yZW1vdmVDbGFzcyhcInZqcy1zbGlkZXItYWN0aXZlXCIpLHRoaXMudHJpZ2dlcihcInNsaWRlcmluYWN0aXZlXCIpfSl9Y3JlYXRlRWwoKXtsZXQgZT1cInZqcy12b2x1bWUtaG9yaXpvbnRhbFwiO3JldHVybiB0aGlzLm9wdGlvbnNfLnZlcnRpY2FsJiYoZT1cInZqcy12b2x1bWUtdmVydGljYWxcIiksc3VwZXIuY3JlYXRlRWwoXCJkaXZcIix7Y2xhc3NOYW1lOlwidmpzLXZvbHVtZS1jb250cm9sIHZqcy1jb250cm9sIFwiK2V9KX1oYW5kbGVNb3VzZURvd24oZSl7dmFyIHQ9dGhpcy5lbF8ub3duZXJEb2N1bWVudDt0aGlzLm9uKHQsXCJtb3VzZW1vdmVcIix0aGlzLnRocm90dGxlZEhhbmRsZU1vdXNlTW92ZSksdGhpcy5vbih0LFwidG91Y2htb3ZlXCIsdGhpcy50aHJvdHRsZWRIYW5kbGVNb3VzZU1vdmUpLHRoaXMub24odCxcIm1vdXNldXBcIix0aGlzLmhhbmRsZU1vdXNlVXBIYW5kbGVyXyksdGhpcy5vbih0LFwidG91Y2hlbmRcIix0aGlzLmhhbmRsZU1vdXNlVXBIYW5kbGVyXyl9aGFuZGxlTW91c2VVcChlKXt2YXIgdD10aGlzLmVsXy5vd25lckRvY3VtZW50O3RoaXMub2ZmKHQsXCJtb3VzZW1vdmVcIix0aGlzLnRocm90dGxlZEhhbmRsZU1vdXNlTW92ZSksdGhpcy5vZmYodCxcInRvdWNobW92ZVwiLHRoaXMudGhyb3R0bGVkSGFuZGxlTW91c2VNb3ZlKSx0aGlzLm9mZih0LFwibW91c2V1cFwiLHRoaXMuaGFuZGxlTW91c2VVcEhhbmRsZXJfKSx0aGlzLm9mZih0LFwidG91Y2hlbmRcIix0aGlzLmhhbmRsZU1vdXNlVXBIYW5kbGVyXyl9aGFuZGxlTW91c2VNb3ZlKGUpe3RoaXMudm9sdW1lQmFyLmhhbmRsZU1vdXNlTW92ZShlKX19aXIucHJvdG90eXBlLm9wdGlvbnNfPXtjaGlsZHJlbjpbXCJ2b2x1bWVCYXJcIl19LGYucmVnaXN0ZXJDb21wb25lbnQoXCJWb2x1bWVDb250cm9sXCIsaXIpO2NsYXNzIHNyIGV4dGVuZHMgc3tjb25zdHJ1Y3RvcihlLHQpe3ZhciBpLHM7c3VwZXIoZSx0KSxpPXRoaXMsKHM9ZSkudGVjaF8mJiFzLnRlY2hfLmZlYXR1cmVzTXV0ZUNvbnRyb2wmJmkuYWRkQ2xhc3MoXCJ2anMtaGlkZGVuXCIpLGkub24ocyxcImxvYWRzdGFydFwiLGZ1bmN0aW9uKCl7cy50ZWNoXy5mZWF0dXJlc011dGVDb250cm9sP2kucmVtb3ZlQ2xhc3MoXCJ2anMtaGlkZGVuXCIpOmkuYWRkQ2xhc3MoXCJ2anMtaGlkZGVuXCIpfSksdGhpcy5vbihlLFtcImxvYWRzdGFydFwiLFwidm9sdW1lY2hhbmdlXCJdLGU9PnRoaXMudXBkYXRlKGUpKX1idWlsZENTU0NsYXNzKCl7cmV0dXJuXCJ2anMtbXV0ZS1jb250cm9sIFwiK3N1cGVyLmJ1aWxkQ1NTQ2xhc3MoKX1oYW5kbGVDbGljayhlKXt2YXIgdD10aGlzLnBsYXllcl8udm9sdW1lKCksaT10aGlzLnBsYXllcl8ubGFzdFZvbHVtZV8oKTswPT09dD8odGhpcy5wbGF5ZXJfLnZvbHVtZShpPC4xPy4xOmkpLHRoaXMucGxheWVyXy5tdXRlZCghMSkpOnRoaXMucGxheWVyXy5tdXRlZCghdGhpcy5wbGF5ZXJfLm11dGVkKCkpfXVwZGF0ZShlKXt0aGlzLnVwZGF0ZUljb25fKCksdGhpcy51cGRhdGVDb250cm9sVGV4dF8oKX11cGRhdGVJY29uXygpe3ZhciBlPXRoaXMucGxheWVyXy52b2x1bWUoKTtsZXQgdD0zO3UmJnRoaXMucGxheWVyXy50ZWNoXyYmdGhpcy5wbGF5ZXJfLnRlY2hfLmVsXyYmdGhpcy5wbGF5ZXJfLm11dGVkKHRoaXMucGxheWVyXy50ZWNoXy5lbF8ubXV0ZWQpLDA9PT1lfHx0aGlzLnBsYXllcl8ubXV0ZWQoKT90PTA6ZTwuMzM/dD0xOmU8LjY3JiYodD0yKSxDZSh0aGlzLmVsXyxbMCwxLDIsM10ucmVkdWNlKChlLHQpPT5lK2Ake3Q/XCIgXCI6XCJcIn12anMtdm9sLWArdCxcIlwiKSksa2UodGhpcy5lbF8sXCJ2anMtdm9sLVwiK3QpfXVwZGF0ZUNvbnRyb2xUZXh0Xygpe3ZhciBlPXRoaXMucGxheWVyXy5tdXRlZCgpfHwwPT09dGhpcy5wbGF5ZXJfLnZvbHVtZSgpP1wiVW5tdXRlXCI6XCJNdXRlXCI7dGhpcy5jb250cm9sVGV4dCgpIT09ZSYmdGhpcy5jb250cm9sVGV4dChlKX19c3IucHJvdG90eXBlLmNvbnRyb2xUZXh0Xz1cIk11dGVcIixmLnJlZ2lzdGVyQ29tcG9uZW50KFwiTXV0ZVRvZ2dsZVwiLHNyKTtjbGFzcyByciBleHRlbmRzIGZ7Y29uc3RydWN0b3IoZSx0PXt9KXtcInVuZGVmaW5lZFwiIT10eXBlb2YgdC5pbmxpbmU/dC5pbmxpbmU9dC5pbmxpbmU6dC5pbmxpbmU9ITAsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQudm9sdW1lQ29udHJvbCYmIVkodC52b2x1bWVDb250cm9sKXx8KHQudm9sdW1lQ29udHJvbD10LnZvbHVtZUNvbnRyb2x8fHt9LHQudm9sdW1lQ29udHJvbC52ZXJ0aWNhbD0hdC5pbmxpbmUpLHN1cGVyKGUsdCksdGhpcy5oYW5kbGVLZXlQcmVzc0hhbmRsZXJfPWU9PnRoaXMuaGFuZGxlS2V5UHJlc3MoZSksdGhpcy5vbihlLFtcImxvYWRzdGFydFwiXSxlPT50aGlzLnZvbHVtZVBhbmVsU3RhdGVfKGUpKSx0aGlzLm9uKHRoaXMubXV0ZVRvZ2dsZSxcImtleXVwXCIsZT0+dGhpcy5oYW5kbGVLZXlQcmVzcyhlKSksdGhpcy5vbih0aGlzLnZvbHVtZUNvbnRyb2wsXCJrZXl1cFwiLGU9PnRoaXMuaGFuZGxlVm9sdW1lQ29udHJvbEtleVVwKGUpKSx0aGlzLm9uKFwia2V5ZG93blwiLGU9PnRoaXMuaGFuZGxlS2V5UHJlc3MoZSkpLHRoaXMub24oXCJtb3VzZW92ZXJcIixlPT50aGlzLmhhbmRsZU1vdXNlT3ZlcihlKSksdGhpcy5vbihcIm1vdXNlb3V0XCIsZT0+dGhpcy5oYW5kbGVNb3VzZU91dChlKSksdGhpcy5vbih0aGlzLnZvbHVtZUNvbnRyb2wsW1wic2xpZGVyYWN0aXZlXCJdLHRoaXMuc2xpZGVyQWN0aXZlXyksdGhpcy5vbih0aGlzLnZvbHVtZUNvbnRyb2wsW1wic2xpZGVyaW5hY3RpdmVcIl0sdGhpcy5zbGlkZXJJbmFjdGl2ZV8pfXNsaWRlckFjdGl2ZV8oKXt0aGlzLmFkZENsYXNzKFwidmpzLXNsaWRlci1hY3RpdmVcIil9c2xpZGVySW5hY3RpdmVfKCl7dGhpcy5yZW1vdmVDbGFzcyhcInZqcy1zbGlkZXItYWN0aXZlXCIpfXZvbHVtZVBhbmVsU3RhdGVfKCl7dGhpcy52b2x1bWVDb250cm9sLmhhc0NsYXNzKFwidmpzLWhpZGRlblwiKSYmdGhpcy5tdXRlVG9nZ2xlLmhhc0NsYXNzKFwidmpzLWhpZGRlblwiKSYmdGhpcy5hZGRDbGFzcyhcInZqcy1oaWRkZW5cIiksdGhpcy52b2x1bWVDb250cm9sLmhhc0NsYXNzKFwidmpzLWhpZGRlblwiKSYmIXRoaXMubXV0ZVRvZ2dsZS5oYXNDbGFzcyhcInZqcy1oaWRkZW5cIikmJnRoaXMuYWRkQ2xhc3MoXCJ2anMtbXV0ZS10b2dnbGUtb25seVwiKX1jcmVhdGVFbCgpe2xldCBlPVwidmpzLXZvbHVtZS1wYW5lbC1ob3Jpem9udGFsXCI7cmV0dXJuIHRoaXMub3B0aW9uc18uaW5saW5lfHwoZT1cInZqcy12b2x1bWUtcGFuZWwtdmVydGljYWxcIiksc3VwZXIuY3JlYXRlRWwoXCJkaXZcIix7Y2xhc3NOYW1lOlwidmpzLXZvbHVtZS1wYW5lbCB2anMtY29udHJvbCBcIitlfSl9ZGlzcG9zZSgpe3RoaXMuaGFuZGxlTW91c2VPdXQoKSxzdXBlci5kaXNwb3NlKCl9aGFuZGxlVm9sdW1lQ29udHJvbEtleVVwKGUpe3IuaXNFdmVudEtleShlLFwiRXNjXCIpJiZ0aGlzLm11dGVUb2dnbGUuZm9jdXMoKX1oYW5kbGVNb3VzZU92ZXIoZSl7dGhpcy5hZGRDbGFzcyhcInZqcy1ob3ZlclwiKSxvdChkb2N1bWVudCxcImtleXVwXCIsdGhpcy5oYW5kbGVLZXlQcmVzc0hhbmRsZXJfKX1oYW5kbGVNb3VzZU91dChlKXt0aGlzLnJlbW92ZUNsYXNzKFwidmpzLWhvdmVyXCIpLHAoZG9jdW1lbnQsXCJrZXl1cFwiLHRoaXMuaGFuZGxlS2V5UHJlc3NIYW5kbGVyXyl9aGFuZGxlS2V5UHJlc3MoZSl7ci5pc0V2ZW50S2V5KGUsXCJFc2NcIikmJnRoaXMuaGFuZGxlTW91c2VPdXQoKX19cnIucHJvdG90eXBlLm9wdGlvbnNfPXtjaGlsZHJlbjpbXCJtdXRlVG9nZ2xlXCIsXCJ2b2x1bWVDb250cm9sXCJdfSxmLnJlZ2lzdGVyQ29tcG9uZW50KFwiVm9sdW1lUGFuZWxcIixycik7cztmLnJlZ2lzdGVyQ29tcG9uZW50KFwiU2tpcEZvcndhcmRcIixjbGFzcyBleHRlbmRzIHN7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQpLHRoaXMudmFsaWRPcHRpb25zPVs1LDEwLDMwXSx0aGlzLnNraXBUaW1lPXRoaXMuZ2V0U2tpcEZvcndhcmRUaW1lKCksdGhpcy5za2lwVGltZSYmdGhpcy52YWxpZE9wdGlvbnMuaW5jbHVkZXModGhpcy5za2lwVGltZSk/KHRoaXMuY29udHJvbFRleHQodGhpcy5sb2NhbGl6ZShcIlNraXAgZm9yd2FyZCB7MX0gc2Vjb25kc1wiLFt0aGlzLnNraXBUaW1lXSkpLHRoaXMuc2hvdygpKTp0aGlzLmhpZGUoKX1nZXRTa2lwRm9yd2FyZFRpbWUoKXt2YXIgZT10aGlzLm9wdGlvbnNfLnBsYXllck9wdGlvbnM7cmV0dXJuIGUuY29udHJvbEJhciYmZS5jb250cm9sQmFyLnNraXBCdXR0b25zJiZlLmNvbnRyb2xCYXIuc2tpcEJ1dHRvbnMuZm9yd2FyZH1idWlsZENTU0NsYXNzKCl7cmV0dXJuYHZqcy1za2lwLWZvcndhcmQtJHt0aGlzLmdldFNraXBGb3J3YXJkVGltZSgpfSBgK3N1cGVyLmJ1aWxkQ1NTQ2xhc3MoKX1oYW5kbGVDbGljayhlKXt2YXIgdD10aGlzLnBsYXllcl8uY3VycmVudFRpbWUoKSxpPXRoaXMucGxheWVyXy5saXZlVHJhY2tlcixpPWkmJmkuaXNMaXZlKCk/aS5zZWVrYWJsZUVuZCgpOnRoaXMucGxheWVyXy5kdXJhdGlvbigpO2xldCBzO3M9dCt0aGlzLnNraXBUaW1lPD1pP3QrdGhpcy5za2lwVGltZTppLHRoaXMucGxheWVyXy5jdXJyZW50VGltZShzKX1oYW5kbGVMYW5ndWFnZWNoYW5nZSgpe3RoaXMuY29udHJvbFRleHQodGhpcy5sb2NhbGl6ZShcIlNraXAgZm9yd2FyZCB7MX0gc2Vjb25kc1wiLFt0aGlzLnNraXBUaW1lXSkpfX0pO2NsYXNzIG5yIGV4dGVuZHMgc3tjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsdCksdGhpcy52YWxpZE9wdGlvbnM9WzUsMTAsMzBdLHRoaXMuc2tpcFRpbWU9dGhpcy5nZXRTa2lwQmFja3dhcmRUaW1lKCksdGhpcy5za2lwVGltZSYmdGhpcy52YWxpZE9wdGlvbnMuaW5jbHVkZXModGhpcy5za2lwVGltZSk/KHRoaXMuY29udHJvbFRleHQodGhpcy5sb2NhbGl6ZShcIlNraXAgYmFja3dhcmQgezF9IHNlY29uZHNcIixbdGhpcy5za2lwVGltZV0pKSx0aGlzLnNob3coKSk6dGhpcy5oaWRlKCl9Z2V0U2tpcEJhY2t3YXJkVGltZSgpe3ZhciBlPXRoaXMub3B0aW9uc18ucGxheWVyT3B0aW9ucztyZXR1cm4gZS5jb250cm9sQmFyJiZlLmNvbnRyb2xCYXIuc2tpcEJ1dHRvbnMmJmUuY29udHJvbEJhci5za2lwQnV0dG9ucy5iYWNrd2FyZH1idWlsZENTU0NsYXNzKCl7cmV0dXJuYHZqcy1za2lwLWJhY2t3YXJkLSR7dGhpcy5nZXRTa2lwQmFja3dhcmRUaW1lKCl9IGArc3VwZXIuYnVpbGRDU1NDbGFzcygpfWhhbmRsZUNsaWNrKGUpe3ZhciB0PXRoaXMucGxheWVyXy5jdXJyZW50VGltZSgpLGk9dGhpcy5wbGF5ZXJfLmxpdmVUcmFja2VyLGk9aSYmaS5pc0xpdmUoKSYmaS5zZWVrYWJsZVN0YXJ0KCk7bGV0IHM7cz1pJiZ0LXRoaXMuc2tpcFRpbWU8PWk/aTp0Pj10aGlzLnNraXBUaW1lP3QtdGhpcy5za2lwVGltZTowLHRoaXMucGxheWVyXy5jdXJyZW50VGltZShzKX1oYW5kbGVMYW5ndWFnZWNoYW5nZSgpe3RoaXMuY29udHJvbFRleHQodGhpcy5sb2NhbGl6ZShcIlNraXAgYmFja3dhcmQgezF9IHNlY29uZHNcIixbdGhpcy5za2lwVGltZV0pKX19bnIucHJvdG90eXBlLmNvbnRyb2xUZXh0Xz1cIlNraXAgQmFja3dhcmRcIixmLnJlZ2lzdGVyQ29tcG9uZW50KFwiU2tpcEJhY2t3YXJkXCIsbnIpO2NsYXNzIGFyIGV4dGVuZHMgZntjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsdCksdCYmKHRoaXMubWVudUJ1dHRvbl89dC5tZW51QnV0dG9uKSx0aGlzLmZvY3VzZWRDaGlsZF89LTEsdGhpcy5vbihcImtleWRvd25cIixlPT50aGlzLmhhbmRsZUtleURvd24oZSkpLHRoaXMuYm91bmRIYW5kbGVCbHVyXz1lPT50aGlzLmhhbmRsZUJsdXIoZSksdGhpcy5ib3VuZEhhbmRsZVRhcENsaWNrXz1lPT50aGlzLmhhbmRsZVRhcENsaWNrKGUpfWFkZEV2ZW50TGlzdGVuZXJGb3JJdGVtKGUpe2UgaW5zdGFuY2VvZiBmJiYodGhpcy5vbihlLFwiYmx1clwiLHRoaXMuYm91bmRIYW5kbGVCbHVyXyksdGhpcy5vbihlLFtcInRhcFwiLFwiY2xpY2tcIl0sdGhpcy5ib3VuZEhhbmRsZVRhcENsaWNrXykpfXJlbW92ZUV2ZW50TGlzdGVuZXJGb3JJdGVtKGUpe2UgaW5zdGFuY2VvZiBmJiYodGhpcy5vZmYoZSxcImJsdXJcIix0aGlzLmJvdW5kSGFuZGxlQmx1cl8pLHRoaXMub2ZmKGUsW1widGFwXCIsXCJjbGlja1wiXSx0aGlzLmJvdW5kSGFuZGxlVGFwQ2xpY2tfKSl9cmVtb3ZlQ2hpbGQoZSl7XCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPXRoaXMuZ2V0Q2hpbGQoZSkpLHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lckZvckl0ZW0oZSksc3VwZXIucmVtb3ZlQ2hpbGQoZSl9YWRkSXRlbShlKXtlPXRoaXMuYWRkQ2hpbGQoZSk7ZSYmdGhpcy5hZGRFdmVudExpc3RlbmVyRm9ySXRlbShlKX1jcmVhdGVFbCgpe3ZhciBlPXRoaXMub3B0aW9uc18uY29udGVudEVsVHlwZXx8XCJ1bFwiLGU9KHRoaXMuY29udGVudEVsXz1vKGUse2NsYXNzTmFtZTpcInZqcy1tZW51LWNvbnRlbnRcIn0pLHRoaXMuY29udGVudEVsXy5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJtZW51XCIpLHN1cGVyLmNyZWF0ZUVsKFwiZGl2XCIse2FwcGVuZDp0aGlzLmNvbnRlbnRFbF8sY2xhc3NOYW1lOlwidmpzLW1lbnVcIn0pKTtyZXR1cm4gZS5hcHBlbmRDaGlsZCh0aGlzLmNvbnRlbnRFbF8pLG90KGUsXCJjbGlja1wiLGZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKSxlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpfSksZX1kaXNwb3NlKCl7dGhpcy5jb250ZW50RWxfPW51bGwsdGhpcy5ib3VuZEhhbmRsZUJsdXJfPW51bGwsdGhpcy5ib3VuZEhhbmRsZVRhcENsaWNrXz1udWxsLHN1cGVyLmRpc3Bvc2UoKX1oYW5kbGVCbHVyKGUpe2NvbnN0IHQ9ZS5yZWxhdGVkVGFyZ2V0fHxkb2N1bWVudC5hY3RpdmVFbGVtZW50O3RoaXMuY2hpbGRyZW4oKS5zb21lKGU9PmUuZWwoKT09PXQpfHwoZT10aGlzLm1lbnVCdXR0b25fKSYmZS5idXR0b25QcmVzc2VkXyYmdCE9PWUuZWwoKS5maXJzdENoaWxkJiZlLnVucHJlc3NCdXR0b24oKX1oYW5kbGVUYXBDbGljayh0KXt2YXIgZTt0aGlzLm1lbnVCdXR0b25fJiYodGhpcy5tZW51QnV0dG9uXy51bnByZXNzQnV0dG9uKCksZT10aGlzLmNoaWxkcmVuKCksQXJyYXkuaXNBcnJheShlKSkmJihlPWUuZmlsdGVyKGU9PmUuZWwoKT09PXQudGFyZ2V0KVswXSkmJlwiQ2FwdGlvblNldHRpbmdzTWVudUl0ZW1cIiE9PWUubmFtZSgpJiZ0aGlzLm1lbnVCdXR0b25fLmZvY3VzKCl9aGFuZGxlS2V5RG93bihlKXtyLmlzRXZlbnRLZXkoZSxcIkxlZnRcIil8fHIuaXNFdmVudEtleShlLFwiRG93blwiKT8oZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcFByb3BhZ2F0aW9uKCksdGhpcy5zdGVwRm9yd2FyZCgpKTooci5pc0V2ZW50S2V5KGUsXCJSaWdodFwiKXx8ci5pc0V2ZW50S2V5KGUsXCJVcFwiKSkmJihlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKSx0aGlzLnN0ZXBCYWNrKCkpfXN0ZXBGb3J3YXJkKCl7bGV0IGU9MDt2b2lkIDAhPT10aGlzLmZvY3VzZWRDaGlsZF8mJihlPXRoaXMuZm9jdXNlZENoaWxkXysxKSx0aGlzLmZvY3VzKGUpfXN0ZXBCYWNrKCl7bGV0IGU9MDt2b2lkIDAhPT10aGlzLmZvY3VzZWRDaGlsZF8mJihlPXRoaXMuZm9jdXNlZENoaWxkXy0xKSx0aGlzLmZvY3VzKGUpfWZvY3VzKGU9MCl7dmFyIHQ9dGhpcy5jaGlsZHJlbigpLnNsaWNlKCk7dC5sZW5ndGgmJnRbMF0uaGFzQ2xhc3MoXCJ2anMtbWVudS10aXRsZVwiKSYmdC5zaGlmdCgpLDA8dC5sZW5ndGgmJihlPDA/ZT0wOmU+PXQubGVuZ3RoJiYoZT10Lmxlbmd0aC0xKSx0W3RoaXMuZm9jdXNlZENoaWxkXz1lXS5lbF8uZm9jdXMoKSl9fWYucmVnaXN0ZXJDb21wb25lbnQoXCJNZW51XCIsYXIpO2NsYXNzIG9yIGV4dGVuZHMgZntjb25zdHJ1Y3RvcihlLHQ9e30pe3N1cGVyKGUsdCksdGhpcy5tZW51QnV0dG9uXz1uZXcgcyhlLHQpLHRoaXMubWVudUJ1dHRvbl8uY29udHJvbFRleHQodGhpcy5jb250cm9sVGV4dF8pLHRoaXMubWVudUJ1dHRvbl8uZWxfLnNldEF0dHJpYnV0ZShcImFyaWEtaGFzcG9wdXBcIixcInRydWVcIik7ZT1zLnByb3RvdHlwZS5idWlsZENTU0NsYXNzKCksdGhpcy5tZW51QnV0dG9uXy5lbF8uY2xhc3NOYW1lPXRoaXMuYnVpbGRDU1NDbGFzcygpK1wiIFwiK2UsdGhpcy5tZW51QnV0dG9uXy5yZW1vdmVDbGFzcyhcInZqcy1jb250cm9sXCIpLHRoaXMuYWRkQ2hpbGQodGhpcy5tZW51QnV0dG9uXyksdGhpcy51cGRhdGUoKSx0aGlzLmVuYWJsZWRfPSEwLHQ9ZT0+dGhpcy5oYW5kbGVDbGljayhlKTt0aGlzLmhhbmRsZU1lbnVLZXlVcF89ZT0+dGhpcy5oYW5kbGVNZW51S2V5VXAoZSksdGhpcy5vbih0aGlzLm1lbnVCdXR0b25fLFwidGFwXCIsdCksdGhpcy5vbih0aGlzLm1lbnVCdXR0b25fLFwiY2xpY2tcIix0KSx0aGlzLm9uKHRoaXMubWVudUJ1dHRvbl8sXCJrZXlkb3duXCIsZT0+dGhpcy5oYW5kbGVLZXlEb3duKGUpKSx0aGlzLm9uKHRoaXMubWVudUJ1dHRvbl8sXCJtb3VzZWVudGVyXCIsKCk9Pnt0aGlzLmFkZENsYXNzKFwidmpzLWhvdmVyXCIpLHRoaXMubWVudS5zaG93KCksb3QoZG9jdW1lbnQsXCJrZXl1cFwiLHRoaXMuaGFuZGxlTWVudUtleVVwXyl9KSx0aGlzLm9uKFwibW91c2VsZWF2ZVwiLGU9PnRoaXMuaGFuZGxlTW91c2VMZWF2ZShlKSksdGhpcy5vbihcImtleWRvd25cIixlPT50aGlzLmhhbmRsZVN1Ym1lbnVLZXlEb3duKGUpKX11cGRhdGUoKXt2YXIgZT10aGlzLmNyZWF0ZU1lbnUoKTt0aGlzLm1lbnUmJih0aGlzLm1lbnUuZGlzcG9zZSgpLHRoaXMucmVtb3ZlQ2hpbGQodGhpcy5tZW51KSksdGhpcy5tZW51PWUsdGhpcy5hZGRDaGlsZChlKSx0aGlzLmJ1dHRvblByZXNzZWRfPSExLHRoaXMubWVudUJ1dHRvbl8uZWxfLnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIixcImZhbHNlXCIpLHRoaXMuaXRlbXMmJnRoaXMuaXRlbXMubGVuZ3RoPD10aGlzLmhpZGVUaHJlc2hvbGRfPyh0aGlzLmhpZGUoKSx0aGlzLm1lbnUuY29udGVudEVsXy5yZW1vdmVBdHRyaWJ1dGUoXCJyb2xlXCIpKToodGhpcy5zaG93KCksdGhpcy5tZW51LmNvbnRlbnRFbF8uc2V0QXR0cmlidXRlKFwicm9sZVwiLFwibWVudVwiKSl9Y3JlYXRlTWVudSgpe3ZhciBlLHQ9bmV3IGFyKHRoaXMucGxheWVyXyx7bWVudUJ1dHRvbjp0aGlzfSk7aWYodGhpcy5oaWRlVGhyZXNob2xkXz0wLHRoaXMub3B0aW9uc18udGl0bGUmJihlPW8oXCJsaVwiLHtjbGFzc05hbWU6XCJ2anMtbWVudS10aXRsZVwiLHRleHRDb250ZW50OmcodGhpcy5vcHRpb25zXy50aXRsZSksdGFiSW5kZXg6LTF9KSxlPW5ldyBmKHRoaXMucGxheWVyXyx7ZWw6ZX0pLHQuYWRkSXRlbShlKSksdGhpcy5pdGVtcz10aGlzLmNyZWF0ZUl0ZW1zKCksdGhpcy5pdGVtcylmb3IobGV0IGU9MDtlPHRoaXMuaXRlbXMubGVuZ3RoO2UrKyl0LmFkZEl0ZW0odGhpcy5pdGVtc1tlXSk7cmV0dXJuIHR9Y3JlYXRlSXRlbXMoKXt9Y3JlYXRlRWwoKXtyZXR1cm4gc3VwZXIuY3JlYXRlRWwoXCJkaXZcIix7Y2xhc3NOYW1lOnRoaXMuYnVpbGRXcmFwcGVyQ1NTQ2xhc3MoKX0se30pfWJ1aWxkV3JhcHBlckNTU0NsYXNzKCl7bGV0IGU9XCJ2anMtbWVudS1idXR0b25cIjshMD09PXRoaXMub3B0aW9uc18uaW5saW5lP2UrPVwiLWlubGluZVwiOmUrPVwiLXBvcHVwXCI7dmFyIHQ9cy5wcm90b3R5cGUuYnVpbGRDU1NDbGFzcygpO3JldHVybmB2anMtbWVudS1idXR0b24gJHtlfSAke3R9IGArc3VwZXIuYnVpbGRDU1NDbGFzcygpfWJ1aWxkQ1NTQ2xhc3MoKXtsZXQgZT1cInZqcy1tZW51LWJ1dHRvblwiO3JldHVybiEwPT09dGhpcy5vcHRpb25zXy5pbmxpbmU/ZSs9XCItaW5saW5lXCI6ZSs9XCItcG9wdXBcIixgdmpzLW1lbnUtYnV0dG9uICR7ZX0gYCtzdXBlci5idWlsZENTU0NsYXNzKCl9Y29udHJvbFRleHQoZSx0PXRoaXMubWVudUJ1dHRvbl8uZWwoKSl7cmV0dXJuIHRoaXMubWVudUJ1dHRvbl8uY29udHJvbFRleHQoZSx0KX1kaXNwb3NlKCl7dGhpcy5oYW5kbGVNb3VzZUxlYXZlKCksc3VwZXIuZGlzcG9zZSgpfWhhbmRsZUNsaWNrKGUpe3RoaXMuYnV0dG9uUHJlc3NlZF8/dGhpcy51bnByZXNzQnV0dG9uKCk6dGhpcy5wcmVzc0J1dHRvbigpfWhhbmRsZU1vdXNlTGVhdmUoZSl7dGhpcy5yZW1vdmVDbGFzcyhcInZqcy1ob3ZlclwiKSxwKGRvY3VtZW50LFwia2V5dXBcIix0aGlzLmhhbmRsZU1lbnVLZXlVcF8pfWZvY3VzKCl7dGhpcy5tZW51QnV0dG9uXy5mb2N1cygpfWJsdXIoKXt0aGlzLm1lbnVCdXR0b25fLmJsdXIoKX1oYW5kbGVLZXlEb3duKGUpe3IuaXNFdmVudEtleShlLFwiRXNjXCIpfHxyLmlzRXZlbnRLZXkoZSxcIlRhYlwiKT8odGhpcy5idXR0b25QcmVzc2VkXyYmdGhpcy51bnByZXNzQnV0dG9uKCksci5pc0V2ZW50S2V5KGUsXCJUYWJcIil8fChlLnByZXZlbnREZWZhdWx0KCksdGhpcy5tZW51QnV0dG9uXy5mb2N1cygpKSk6IXIuaXNFdmVudEtleShlLFwiVXBcIikmJiFyLmlzRXZlbnRLZXkoZSxcIkRvd25cIil8fHRoaXMuYnV0dG9uUHJlc3NlZF98fChlLnByZXZlbnREZWZhdWx0KCksdGhpcy5wcmVzc0J1dHRvbigpKX1oYW5kbGVNZW51S2V5VXAoZSl7KHIuaXNFdmVudEtleShlLFwiRXNjXCIpfHxyLmlzRXZlbnRLZXkoZSxcIlRhYlwiKSkmJnRoaXMucmVtb3ZlQ2xhc3MoXCJ2anMtaG92ZXJcIil9aGFuZGxlU3VibWVudUtleVByZXNzKGUpe3RoaXMuaGFuZGxlU3VibWVudUtleURvd24oZSl9aGFuZGxlU3VibWVudUtleURvd24oZSl7KHIuaXNFdmVudEtleShlLFwiRXNjXCIpfHxyLmlzRXZlbnRLZXkoZSxcIlRhYlwiKSkmJih0aGlzLmJ1dHRvblByZXNzZWRfJiZ0aGlzLnVucHJlc3NCdXR0b24oKSxyLmlzRXZlbnRLZXkoZSxcIlRhYlwiKXx8KGUucHJldmVudERlZmF1bHQoKSx0aGlzLm1lbnVCdXR0b25fLmZvY3VzKCkpKX1wcmVzc0J1dHRvbigpe3RoaXMuZW5hYmxlZF8mJih0aGlzLmJ1dHRvblByZXNzZWRfPSEwLHRoaXMubWVudS5zaG93KCksdGhpcy5tZW51LmxvY2tTaG93aW5nKCksdGhpcy5tZW51QnV0dG9uXy5lbF8uc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLFwidHJ1ZVwiKSx1JiZiZSgpfHx0aGlzLm1lbnUuZm9jdXMoKSl9dW5wcmVzc0J1dHRvbigpe3RoaXMuZW5hYmxlZF8mJih0aGlzLmJ1dHRvblByZXNzZWRfPSExLHRoaXMubWVudS51bmxvY2tTaG93aW5nKCksdGhpcy5tZW51LmhpZGUoKSx0aGlzLm1lbnVCdXR0b25fLmVsXy5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsXCJmYWxzZVwiKSl9ZGlzYWJsZSgpe3RoaXMudW5wcmVzc0J1dHRvbigpLHRoaXMuZW5hYmxlZF89ITEsdGhpcy5hZGRDbGFzcyhcInZqcy1kaXNhYmxlZFwiKSx0aGlzLm1lbnVCdXR0b25fLmRpc2FibGUoKX1lbmFibGUoKXt0aGlzLmVuYWJsZWRfPSEwLHRoaXMucmVtb3ZlQ2xhc3MoXCJ2anMtZGlzYWJsZWRcIiksdGhpcy5tZW51QnV0dG9uXy5lbmFibGUoKX19Zi5yZWdpc3RlckNvbXBvbmVudChcIk1lbnVCdXR0b25cIixvcik7Y2xhc3MgbHIgZXh0ZW5kcyBvcntjb25zdHJ1Y3RvcihlLHQpe2NvbnN0IGk9dC50cmFja3M7aWYoc3VwZXIoZSx0KSx0aGlzLml0ZW1zLmxlbmd0aDw9MSYmdGhpcy5oaWRlKCksaSl7Y29uc3Qgcz1tKHRoaXMsdGhpcy51cGRhdGUpO2kuYWRkRXZlbnRMaXN0ZW5lcihcInJlbW92ZXRyYWNrXCIscyksaS5hZGRFdmVudExpc3RlbmVyKFwiYWRkdHJhY2tcIixzKSxpLmFkZEV2ZW50TGlzdGVuZXIoXCJsYWJlbGNoYW5nZVwiLHMpLHRoaXMucGxheWVyXy5vbihcInJlYWR5XCIscyksdGhpcy5wbGF5ZXJfLm9uKFwiZGlzcG9zZVwiLGZ1bmN0aW9uKCl7aS5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVtb3ZldHJhY2tcIixzKSxpLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhZGR0cmFja1wiLHMpLGkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImxhYmVsY2hhbmdlXCIscyl9KX19fWYucmVnaXN0ZXJDb21wb25lbnQoXCJUcmFja0J1dHRvblwiLGxyKTtjb25zdCBkcj1bXCJUYWJcIixcIkVzY1wiLFwiVXBcIixcIkRvd25cIixcIlJpZ2h0XCIsXCJMZWZ0XCJdO2NsYXNzIGhyIGV4dGVuZHMga3N7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQpLHRoaXMuc2VsZWN0YWJsZT10LnNlbGVjdGFibGUsdGhpcy5pc1NlbGVjdGVkXz10LnNlbGVjdGVkfHwhMSx0aGlzLm11bHRpU2VsZWN0YWJsZT10Lm11bHRpU2VsZWN0YWJsZSx0aGlzLnNlbGVjdGVkKHRoaXMuaXNTZWxlY3RlZF8pLHRoaXMuc2VsZWN0YWJsZT90aGlzLm11bHRpU2VsZWN0YWJsZT90aGlzLmVsXy5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJtZW51aXRlbWNoZWNrYm94XCIpOnRoaXMuZWxfLnNldEF0dHJpYnV0ZShcInJvbGVcIixcIm1lbnVpdGVtcmFkaW9cIik6dGhpcy5lbF8uc2V0QXR0cmlidXRlKFwicm9sZVwiLFwibWVudWl0ZW1cIil9Y3JlYXRlRWwoZSx0LGkpe3RoaXMubm9uSWNvbkNvbnRyb2w9ITA7dD1zdXBlci5jcmVhdGVFbChcImxpXCIsT2JqZWN0LmFzc2lnbih7Y2xhc3NOYW1lOlwidmpzLW1lbnUtaXRlbVwiLHRhYkluZGV4Oi0xfSx0KSxpKTtyZXR1cm4gdC5yZXBsYWNlQ2hpbGQobyhcInNwYW5cIix7Y2xhc3NOYW1lOlwidmpzLW1lbnUtaXRlbS10ZXh0XCIsdGV4dENvbnRlbnQ6dGhpcy5sb2NhbGl6ZSh0aGlzLm9wdGlvbnNfLmxhYmVsKX0pLHQucXVlcnlTZWxlY3RvcihcIi52anMtaWNvbi1wbGFjZWhvbGRlclwiKSksdH1oYW5kbGVLZXlEb3duKHQpe2RyLnNvbWUoZT0+ci5pc0V2ZW50S2V5KHQsZSkpfHxzdXBlci5oYW5kbGVLZXlEb3duKHQpfWhhbmRsZUNsaWNrKGUpe3RoaXMuc2VsZWN0ZWQoITApfXNlbGVjdGVkKGUpe3RoaXMuc2VsZWN0YWJsZSYmKGU/KHRoaXMuYWRkQ2xhc3MoXCJ2anMtc2VsZWN0ZWRcIiksdGhpcy5lbF8uc2V0QXR0cmlidXRlKFwiYXJpYS1jaGVja2VkXCIsXCJ0cnVlXCIpLHRoaXMuY29udHJvbFRleHQoXCIsIHNlbGVjdGVkXCIpLHRoaXMuaXNTZWxlY3RlZF89ITApOih0aGlzLnJlbW92ZUNsYXNzKFwidmpzLXNlbGVjdGVkXCIpLHRoaXMuZWxfLnNldEF0dHJpYnV0ZShcImFyaWEtY2hlY2tlZFwiLFwiZmFsc2VcIiksdGhpcy5jb250cm9sVGV4dChcIlwiKSx0aGlzLmlzU2VsZWN0ZWRfPSExKSl9fWYucmVnaXN0ZXJDb21wb25lbnQoXCJNZW51SXRlbVwiLGhyKTtjbGFzcyB1ciBleHRlbmRzIGhye2NvbnN0cnVjdG9yKGUsdCl7dmFyIGk9dC50cmFjaztjb25zdCBzPWUudGV4dFRyYWNrcygpLHI9KHQubGFiZWw9aS5sYWJlbHx8aS5sYW5ndWFnZXx8XCJVbmtub3duXCIsdC5zZWxlY3RlZD1cInNob3dpbmdcIj09PWkubW9kZSxzdXBlcihlLHQpLHRoaXMudHJhY2s9aSx0aGlzLmtpbmRzPSh0LmtpbmRzfHxbdC5raW5kfHx0aGlzLnRyYWNrLmtpbmRdKS5maWx0ZXIoQm9vbGVhbiksKC4uLmUpPT57dGhpcy5oYW5kbGVUcmFja3NDaGFuZ2UuYXBwbHkodGhpcyxlKX0pLG49KC4uLmUpPT57dGhpcy5oYW5kbGVTZWxlY3RlZExhbmd1YWdlQ2hhbmdlLmFwcGx5KHRoaXMsZSl9O2lmKGUub24oW1wibG9hZHN0YXJ0XCIsXCJ0ZXh0dHJhY2tjaGFuZ2VcIl0scikscy5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIscikscy5hZGRFdmVudExpc3RlbmVyKFwic2VsZWN0ZWRsYW5ndWFnZWNoYW5nZVwiLG4pLHRoaXMub24oXCJkaXNwb3NlXCIsZnVuY3Rpb24oKXtlLm9mZihbXCJsb2Fkc3RhcnRcIixcInRleHR0cmFja2NoYW5nZVwiXSxyKSxzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIixyKSxzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzZWxlY3RlZGxhbmd1YWdlY2hhbmdlXCIsbil9KSx2b2lkIDA9PT1zLm9uY2hhbmdlKXtsZXQgZTt0aGlzLm9uKFtcInRhcFwiLFwiY2xpY2tcIl0sZnVuY3Rpb24oKXtpZihcIm9iamVjdFwiIT10eXBlb2Ygd2luZG93LkV2ZW50KXRyeXtlPW5ldyB3aW5kb3cuRXZlbnQoXCJjaGFuZ2VcIil9Y2F0Y2goZSl7fWV8fChlPWRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiRXZlbnRcIikpLmluaXRFdmVudChcImNoYW5nZVwiLCEwLCEwKSxzLmRpc3BhdGNoRXZlbnQoZSl9KX10aGlzLmhhbmRsZVRyYWNrc0NoYW5nZSgpfWhhbmRsZUNsaWNrKGUpe3ZhciB0PXRoaXMudHJhY2ssaT10aGlzLnBsYXllcl8udGV4dFRyYWNrcygpO2lmKHN1cGVyLmhhbmRsZUNsaWNrKGUpLGkpZm9yKGxldCBlPTA7ZTxpLmxlbmd0aDtlKyspe3ZhciBzPWlbZV07LTEhPT10aGlzLmtpbmRzLmluZGV4T2Yocy5raW5kKSYmKHM9PT10P1wic2hvd2luZ1wiIT09cy5tb2RlJiYocy5tb2RlPVwic2hvd2luZ1wiKTpcImRpc2FibGVkXCIhPT1zLm1vZGUmJihzLm1vZGU9XCJkaXNhYmxlZFwiKSl9fWhhbmRsZVRyYWNrc0NoYW5nZShlKXt2YXIgdD1cInNob3dpbmdcIj09PXRoaXMudHJhY2subW9kZTt0IT09dGhpcy5pc1NlbGVjdGVkXyYmdGhpcy5zZWxlY3RlZCh0KX1oYW5kbGVTZWxlY3RlZExhbmd1YWdlQ2hhbmdlKGUpe3ZhciB0O1wic2hvd2luZ1wiIT09dGhpcy50cmFjay5tb2RlfHwodD10aGlzLnBsYXllcl8uY2FjaGVfLnNlbGVjdGVkTGFuZ3VhZ2UpJiZ0LmVuYWJsZWQmJnQubGFuZ3VhZ2U9PT10aGlzLnRyYWNrLmxhbmd1YWdlJiZ0LmtpbmQhPT10aGlzLnRyYWNrLmtpbmR8fCh0aGlzLnBsYXllcl8uY2FjaGVfLnNlbGVjdGVkTGFuZ3VhZ2U9e2VuYWJsZWQ6ITAsbGFuZ3VhZ2U6dGhpcy50cmFjay5sYW5ndWFnZSxraW5kOnRoaXMudHJhY2sua2luZH0pfWRpc3Bvc2UoKXt0aGlzLnRyYWNrPW51bGwsc3VwZXIuZGlzcG9zZSgpfX1mLnJlZ2lzdGVyQ29tcG9uZW50KFwiVGV4dFRyYWNrTWVudUl0ZW1cIix1cik7Y2xhc3MgY3IgZXh0ZW5kcyB1cntjb25zdHJ1Y3RvcihlLHQpe3QudHJhY2s9e3BsYXllcjplLGtpbmQ6dC5raW5kLGtpbmRzOnQua2luZHMsZGVmYXVsdDohMSxtb2RlOlwiZGlzYWJsZWRcIn0sdC5raW5kc3x8KHQua2luZHM9W3Qua2luZF0pLHQubGFiZWw/dC50cmFjay5sYWJlbD10LmxhYmVsOnQudHJhY2subGFiZWw9dC5raW5kcy5qb2luKFwiIGFuZCBcIikrXCIgb2ZmXCIsdC5zZWxlY3RhYmxlPSEwLHQubXVsdGlTZWxlY3RhYmxlPSExLHN1cGVyKGUsdCl9aGFuZGxlVHJhY2tzQ2hhbmdlKGUpe3ZhciBpPXRoaXMucGxheWVyKCkudGV4dFRyYWNrcygpO2xldCBzPSEwO2ZvcihsZXQgZT0wLHQ9aS5sZW5ndGg7ZTx0O2UrKyl7dmFyIHI9aVtlXTtpZigtMTx0aGlzLm9wdGlvbnNfLmtpbmRzLmluZGV4T2Yoci5raW5kKSYmXCJzaG93aW5nXCI9PT1yLm1vZGUpe3M9ITE7YnJlYWt9fXMhPT10aGlzLmlzU2VsZWN0ZWRfJiZ0aGlzLnNlbGVjdGVkKHMpfWhhbmRsZVNlbGVjdGVkTGFuZ3VhZ2VDaGFuZ2UoZSl7dmFyIGk9dGhpcy5wbGF5ZXIoKS50ZXh0VHJhY2tzKCk7bGV0IHM9ITA7Zm9yKGxldCBlPTAsdD1pLmxlbmd0aDtlPHQ7ZSsrKXt2YXIgcj1pW2VdO2lmKC0xPFtcImNhcHRpb25zXCIsXCJkZXNjcmlwdGlvbnNcIixcInN1YnRpdGxlc1wiXS5pbmRleE9mKHIua2luZCkmJlwic2hvd2luZ1wiPT09ci5tb2RlKXtzPSExO2JyZWFrfX1zJiYodGhpcy5wbGF5ZXJfLmNhY2hlXy5zZWxlY3RlZExhbmd1YWdlPXtlbmFibGVkOiExfSl9aGFuZGxlTGFuZ3VhZ2VjaGFuZ2UoKXt0aGlzLiQoXCIudmpzLW1lbnUtaXRlbS10ZXh0XCIpLnRleHRDb250ZW50PXRoaXMucGxheWVyXy5sb2NhbGl6ZSh0aGlzLm9wdGlvbnNfLmxhYmVsKSxzdXBlci5oYW5kbGVMYW5ndWFnZWNoYW5nZSgpfX1mLnJlZ2lzdGVyQ29tcG9uZW50KFwiT2ZmVGV4dFRyYWNrTWVudUl0ZW1cIixjcik7Y2xhc3MgcHIgZXh0ZW5kcyBscntjb25zdHJ1Y3RvcihlLHQ9e30pe3QudHJhY2tzPWUudGV4dFRyYWNrcygpLHN1cGVyKGUsdCl9Y3JlYXRlSXRlbXModD1bXSxpPXVyKXtsZXQgZTt0aGlzLmxhYmVsXyYmKGU9dGhpcy5sYWJlbF8rXCIgb2ZmXCIpLHQucHVzaChuZXcgY3IodGhpcy5wbGF5ZXJfLHtraW5kczp0aGlzLmtpbmRzXyxraW5kOnRoaXMua2luZF8sbGFiZWw6ZX0pKSx0aGlzLmhpZGVUaHJlc2hvbGRfKz0xO3ZhciBzPXRoaXMucGxheWVyXy50ZXh0VHJhY2tzKCk7QXJyYXkuaXNBcnJheSh0aGlzLmtpbmRzXyl8fCh0aGlzLmtpbmRzXz1bdGhpcy5raW5kX10pO2ZvcihsZXQgZT0wO2U8cy5sZW5ndGg7ZSsrKXt2YXIgcixuPXNbZV07LTE8dGhpcy5raW5kc18uaW5kZXhPZihuLmtpbmQpJiYoKHI9bmV3IGkodGhpcy5wbGF5ZXJfLHt0cmFjazpuLGtpbmRzOnRoaXMua2luZHNfLGtpbmQ6dGhpcy5raW5kXyxzZWxlY3RhYmxlOiEwLG11bHRpU2VsZWN0YWJsZTohMX0pKS5hZGRDbGFzcyhgdmpzLSR7bi5raW5kfS1tZW51LWl0ZW1gKSx0LnB1c2gocikpfXJldHVybiB0fX1mLnJlZ2lzdGVyQ29tcG9uZW50KFwiVGV4dFRyYWNrQnV0dG9uXCIscHIpO2NsYXNzIG1yIGV4dGVuZHMgaHJ7Y29uc3RydWN0b3IoZSx0KXt2YXIgaT10LnRyYWNrLHM9dC5jdWUscj1lLmN1cnJlbnRUaW1lKCk7dC5zZWxlY3RhYmxlPSEwLHQubXVsdGlTZWxlY3RhYmxlPSExLHQubGFiZWw9cy50ZXh0LHQuc2VsZWN0ZWQ9cy5zdGFydFRpbWU8PXImJnI8cy5lbmRUaW1lLHN1cGVyKGUsdCksdGhpcy50cmFjaz1pLHRoaXMuY3VlPXN9aGFuZGxlQ2xpY2soZSl7c3VwZXIuaGFuZGxlQ2xpY2soKSx0aGlzLnBsYXllcl8uY3VycmVudFRpbWUodGhpcy5jdWUuc3RhcnRUaW1lKX19Zi5yZWdpc3RlckNvbXBvbmVudChcIkNoYXB0ZXJzVHJhY2tNZW51SXRlbVwiLG1yKTtjbGFzcyBnciBleHRlbmRzIHBye2NvbnN0cnVjdG9yKGUsdCxpKXtzdXBlcihlLHQsaSksdGhpcy5zZWxlY3RDdXJyZW50SXRlbV89KCk9Pnt0aGlzLml0ZW1zLmZvckVhY2goZT0+e2Uuc2VsZWN0ZWQodGhpcy50cmFja18uYWN0aXZlQ3Vlc1swXT09PWUuY3VlKX0pfX1idWlsZENTU0NsYXNzKCl7cmV0dXJuXCJ2anMtY2hhcHRlcnMtYnV0dG9uIFwiK3N1cGVyLmJ1aWxkQ1NTQ2xhc3MoKX1idWlsZFdyYXBwZXJDU1NDbGFzcygpe3JldHVyblwidmpzLWNoYXB0ZXJzLWJ1dHRvbiBcIitzdXBlci5idWlsZFdyYXBwZXJDU1NDbGFzcygpfXVwZGF0ZShlKXtlJiZlLnRyYWNrJiZcImNoYXB0ZXJzXCIhPT1lLnRyYWNrLmtpbmR8fCgoZT10aGlzLmZpbmRDaGFwdGVyc1RyYWNrKCkpIT09dGhpcy50cmFja18/KHRoaXMuc2V0VHJhY2soZSksc3VwZXIudXBkYXRlKCkpOighdGhpcy5pdGVtc3x8ZSYmZS5jdWVzJiZlLmN1ZXMubGVuZ3RoIT09dGhpcy5pdGVtcy5sZW5ndGgpJiZzdXBlci51cGRhdGUoKSl9c2V0VHJhY2soZSl7dmFyIHQ7dGhpcy50cmFja18hPT1lJiYodGhpcy51cGRhdGVIYW5kbGVyX3x8KHRoaXMudXBkYXRlSGFuZGxlcl89dGhpcy51cGRhdGUuYmluZCh0aGlzKSksdGhpcy50cmFja18mJigodD10aGlzLnBsYXllcl8ucmVtb3RlVGV4dFRyYWNrRWxzKCkuZ2V0VHJhY2tFbGVtZW50QnlUcmFja18odGhpcy50cmFja18pKSYmdC5yZW1vdmVFdmVudExpc3RlbmVyKFwibG9hZFwiLHRoaXMudXBkYXRlSGFuZGxlcl8pLHRoaXMudHJhY2tfLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjdWVjaGFuZ2VcIix0aGlzLnNlbGVjdEN1cnJlbnRJdGVtXyksdGhpcy50cmFja189bnVsbCksdGhpcy50cmFja189ZSx0aGlzLnRyYWNrXykmJih0aGlzLnRyYWNrXy5tb2RlPVwiaGlkZGVuXCIsKHQ9dGhpcy5wbGF5ZXJfLnJlbW90ZVRleHRUcmFja0VscygpLmdldFRyYWNrRWxlbWVudEJ5VHJhY2tfKHRoaXMudHJhY2tfKSkmJnQuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIix0aGlzLnVwZGF0ZUhhbmRsZXJfKSx0aGlzLnRyYWNrXy5hZGRFdmVudExpc3RlbmVyKFwiY3VlY2hhbmdlXCIsdGhpcy5zZWxlY3RDdXJyZW50SXRlbV8pKX1maW5kQ2hhcHRlcnNUcmFjaygpe3ZhciB0PXRoaXMucGxheWVyXy50ZXh0VHJhY2tzKCl8fFtdO2ZvcihsZXQgZT10Lmxlbmd0aC0xOzA8PWU7ZS0tKXt2YXIgaT10W2VdO2lmKGkua2luZD09PXRoaXMua2luZF8pcmV0dXJuIGl9fWdldE1lbnVDYXB0aW9uKCl7cmV0dXJuIHRoaXMudHJhY2tfJiZ0aGlzLnRyYWNrXy5sYWJlbD90aGlzLnRyYWNrXy5sYWJlbDp0aGlzLmxvY2FsaXplKGcodGhpcy5raW5kXykpfWNyZWF0ZU1lbnUoKXtyZXR1cm4gdGhpcy5vcHRpb25zXy50aXRsZT10aGlzLmdldE1lbnVDYXB0aW9uKCksc3VwZXIuY3JlYXRlTWVudSgpfWNyZWF0ZUl0ZW1zKCl7dmFyIGk9W107aWYodGhpcy50cmFja18pe3ZhciBzPXRoaXMudHJhY2tfLmN1ZXM7aWYocylmb3IobGV0IGU9MCx0PXMubGVuZ3RoO2U8dDtlKyspe3ZhciByPXNbZV0scj1uZXcgbXIodGhpcy5wbGF5ZXJfLHt0cmFjazp0aGlzLnRyYWNrXyxjdWU6cn0pO2kucHVzaChyKX19cmV0dXJuIGl9fWdyLnByb3RvdHlwZS5raW5kXz1cImNoYXB0ZXJzXCIsZ3IucHJvdG90eXBlLmNvbnRyb2xUZXh0Xz1cIkNoYXB0ZXJzXCIsZi5yZWdpc3RlckNvbXBvbmVudChcIkNoYXB0ZXJzQnV0dG9uXCIsZ3IpO2NsYXNzIGZyIGV4dGVuZHMgcHJ7Y29uc3RydWN0b3IoZSx0LGkpe3N1cGVyKGUsdCxpKTtjb25zdCBzPWUudGV4dFRyYWNrcygpLHI9bSh0aGlzLHRoaXMuaGFuZGxlVHJhY2tzQ2hhbmdlKTtzLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIixyKSx0aGlzLm9uKFwiZGlzcG9zZVwiLGZ1bmN0aW9uKCl7cy5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIscil9KX1oYW5kbGVUcmFja3NDaGFuZ2UoZSl7dmFyIGk9dGhpcy5wbGF5ZXIoKS50ZXh0VHJhY2tzKCk7bGV0IHM9ITE7Zm9yKGxldCBlPTAsdD1pLmxlbmd0aDtlPHQ7ZSsrKXt2YXIgcj1pW2VdO2lmKHIua2luZCE9PXRoaXMua2luZF8mJlwic2hvd2luZ1wiPT09ci5tb2RlKXtzPSEwO2JyZWFrfX1zP3RoaXMuZGlzYWJsZSgpOnRoaXMuZW5hYmxlKCl9YnVpbGRDU1NDbGFzcygpe3JldHVyblwidmpzLWRlc2NyaXB0aW9ucy1idXR0b24gXCIrc3VwZXIuYnVpbGRDU1NDbGFzcygpfWJ1aWxkV3JhcHBlckNTU0NsYXNzKCl7cmV0dXJuXCJ2anMtZGVzY3JpcHRpb25zLWJ1dHRvbiBcIitzdXBlci5idWlsZFdyYXBwZXJDU1NDbGFzcygpfX1mci5wcm90b3R5cGUua2luZF89XCJkZXNjcmlwdGlvbnNcIixmci5wcm90b3R5cGUuY29udHJvbFRleHRfPVwiRGVzY3JpcHRpb25zXCIsZi5yZWdpc3RlckNvbXBvbmVudChcIkRlc2NyaXB0aW9uc0J1dHRvblwiLGZyKTtjbGFzcyB5ciBleHRlbmRzIHBye2NvbnN0cnVjdG9yKGUsdCxpKXtzdXBlcihlLHQsaSl9YnVpbGRDU1NDbGFzcygpe3JldHVyblwidmpzLXN1YnRpdGxlcy1idXR0b24gXCIrc3VwZXIuYnVpbGRDU1NDbGFzcygpfWJ1aWxkV3JhcHBlckNTU0NsYXNzKCl7cmV0dXJuXCJ2anMtc3VidGl0bGVzLWJ1dHRvbiBcIitzdXBlci5idWlsZFdyYXBwZXJDU1NDbGFzcygpfX15ci5wcm90b3R5cGUua2luZF89XCJzdWJ0aXRsZXNcIix5ci5wcm90b3R5cGUuY29udHJvbFRleHRfPVwiU3VidGl0bGVzXCIsZi5yZWdpc3RlckNvbXBvbmVudChcIlN1YnRpdGxlc0J1dHRvblwiLHlyKTtjbGFzcyBfciBleHRlbmRzIHVye2NvbnN0cnVjdG9yKGUsdCl7dC50cmFjaz17cGxheWVyOmUsa2luZDp0LmtpbmQsbGFiZWw6dC5raW5kK1wiIHNldHRpbmdzXCIsc2VsZWN0YWJsZTohMSxkZWZhdWx0OiExLG1vZGU6XCJkaXNhYmxlZFwifSx0LnNlbGVjdGFibGU9ITEsdC5uYW1lPVwiQ2FwdGlvblNldHRpbmdzTWVudUl0ZW1cIixzdXBlcihlLHQpLHRoaXMuYWRkQ2xhc3MoXCJ2anMtdGV4dHRyYWNrLXNldHRpbmdzXCIpLHRoaXMuY29udHJvbFRleHQoXCIsIG9wZW5zIFwiK3Qua2luZCtcIiBzZXR0aW5ncyBkaWFsb2dcIil9aGFuZGxlQ2xpY2soZSl7dGhpcy5wbGF5ZXIoKS5nZXRDaGlsZChcInRleHRUcmFja1NldHRpbmdzXCIpLm9wZW4oKX1oYW5kbGVMYW5ndWFnZWNoYW5nZSgpe3RoaXMuJChcIi52anMtbWVudS1pdGVtLXRleHRcIikudGV4dENvbnRlbnQ9dGhpcy5wbGF5ZXJfLmxvY2FsaXplKHRoaXMub3B0aW9uc18ua2luZCtcIiBzZXR0aW5nc1wiKSxzdXBlci5oYW5kbGVMYW5ndWFnZWNoYW5nZSgpfX1mLnJlZ2lzdGVyQ29tcG9uZW50KFwiQ2FwdGlvblNldHRpbmdzTWVudUl0ZW1cIixfcik7Y2xhc3MgdnIgZXh0ZW5kcyBwcntjb25zdHJ1Y3RvcihlLHQsaSl7c3VwZXIoZSx0LGkpfWJ1aWxkQ1NTQ2xhc3MoKXtyZXR1cm5cInZqcy1jYXB0aW9ucy1idXR0b24gXCIrc3VwZXIuYnVpbGRDU1NDbGFzcygpfWJ1aWxkV3JhcHBlckNTU0NsYXNzKCl7cmV0dXJuXCJ2anMtY2FwdGlvbnMtYnV0dG9uIFwiK3N1cGVyLmJ1aWxkV3JhcHBlckNTU0NsYXNzKCl9Y3JlYXRlSXRlbXMoKXt2YXIgZT1bXTtyZXR1cm4gdGhpcy5wbGF5ZXIoKS50ZWNoXyYmdGhpcy5wbGF5ZXIoKS50ZWNoXy5mZWF0dXJlc05hdGl2ZVRleHRUcmFja3N8fCF0aGlzLnBsYXllcigpLmdldENoaWxkKFwidGV4dFRyYWNrU2V0dGluZ3NcIil8fChlLnB1c2gobmV3IF9yKHRoaXMucGxheWVyXyx7a2luZDp0aGlzLmtpbmRffSkpLHRoaXMuaGlkZVRocmVzaG9sZF8rPTEpLHN1cGVyLmNyZWF0ZUl0ZW1zKGUpfX12ci5wcm90b3R5cGUua2luZF89XCJjYXB0aW9uc1wiLHZyLnByb3RvdHlwZS5jb250cm9sVGV4dF89XCJDYXB0aW9uc1wiLGYucmVnaXN0ZXJDb21wb25lbnQoXCJDYXB0aW9uc0J1dHRvblwiLHZyKTtjbGFzcyBiciBleHRlbmRzIHVye2NyZWF0ZUVsKGUsdCxpKXtlPXN1cGVyLmNyZWF0ZUVsKGUsdCxpKSx0PWUucXVlcnlTZWxlY3RvcihcIi52anMtbWVudS1pdGVtLXRleHRcIik7cmV0dXJuXCJjYXB0aW9uc1wiPT09dGhpcy5vcHRpb25zXy50cmFjay5raW5kJiYodC5hcHBlbmRDaGlsZChvKFwic3BhblwiLHtjbGFzc05hbWU6XCJ2anMtaWNvbi1wbGFjZWhvbGRlclwifSx7XCJhcmlhLWhpZGRlblwiOiEwfSkpLHQuYXBwZW5kQ2hpbGQobyhcInNwYW5cIix7Y2xhc3NOYW1lOlwidmpzLWNvbnRyb2wtdGV4dFwiLHRleHRDb250ZW50OlwiIFwiK3RoaXMubG9jYWxpemUoXCJDYXB0aW9uc1wiKX0pKSksZX19Zi5yZWdpc3RlckNvbXBvbmVudChcIlN1YnNDYXBzTWVudUl0ZW1cIixicik7Y2xhc3MgVHIgZXh0ZW5kcyBwcntjb25zdHJ1Y3RvcihlLHQ9e30pe3N1cGVyKGUsdCksdGhpcy5sYWJlbF89XCJzdWJ0aXRsZXNcIiwtMTxbXCJlblwiLFwiZW4tdXNcIixcImVuLWNhXCIsXCJmci1jYVwiXS5pbmRleE9mKHRoaXMucGxheWVyXy5sYW5ndWFnZV8pJiYodGhpcy5sYWJlbF89XCJjYXB0aW9uc1wiKSx0aGlzLm1lbnVCdXR0b25fLmNvbnRyb2xUZXh0KGcodGhpcy5sYWJlbF8pKX1idWlsZENTU0NsYXNzKCl7cmV0dXJuXCJ2anMtc3Vicy1jYXBzLWJ1dHRvbiBcIitzdXBlci5idWlsZENTU0NsYXNzKCl9YnVpbGRXcmFwcGVyQ1NTQ2xhc3MoKXtyZXR1cm5cInZqcy1zdWJzLWNhcHMtYnV0dG9uIFwiK3N1cGVyLmJ1aWxkV3JhcHBlckNTU0NsYXNzKCl9Y3JlYXRlSXRlbXMoKXtsZXQgZT1bXTtyZXR1cm4gdGhpcy5wbGF5ZXIoKS50ZWNoXyYmdGhpcy5wbGF5ZXIoKS50ZWNoXy5mZWF0dXJlc05hdGl2ZVRleHRUcmFja3N8fCF0aGlzLnBsYXllcigpLmdldENoaWxkKFwidGV4dFRyYWNrU2V0dGluZ3NcIil8fChlLnB1c2gobmV3IF9yKHRoaXMucGxheWVyXyx7a2luZDp0aGlzLmxhYmVsX30pKSx0aGlzLmhpZGVUaHJlc2hvbGRfKz0xKSxlPXN1cGVyLmNyZWF0ZUl0ZW1zKGUsYnIpfX1Uci5wcm90b3R5cGUua2luZHNfPVtcImNhcHRpb25zXCIsXCJzdWJ0aXRsZXNcIl0sVHIucHJvdG90eXBlLmNvbnRyb2xUZXh0Xz1cIlN1YnRpdGxlc1wiLGYucmVnaXN0ZXJDb21wb25lbnQoXCJTdWJzQ2Fwc0J1dHRvblwiLFRyKTtjbGFzcyBTciBleHRlbmRzIGhye2NvbnN0cnVjdG9yKGUsdCl7dmFyIGk9dC50cmFjaztjb25zdCBzPWUuYXVkaW9UcmFja3MoKSxyPSh0LmxhYmVsPWkubGFiZWx8fGkubGFuZ3VhZ2V8fFwiVW5rbm93blwiLHQuc2VsZWN0ZWQ9aS5lbmFibGVkLHN1cGVyKGUsdCksdGhpcy50cmFjaz1pLHRoaXMuYWRkQ2xhc3MoYHZqcy0ke2kua2luZH0tbWVudS1pdGVtYCksKC4uLmUpPT57dGhpcy5oYW5kbGVUcmFja3NDaGFuZ2UuYXBwbHkodGhpcyxlKX0pO3MuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLHIpLHRoaXMub24oXCJkaXNwb3NlXCIsKCk9PntzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIixyKX0pfWNyZWF0ZUVsKGUsdCxpKXtlPXN1cGVyLmNyZWF0ZUVsKGUsdCxpKSx0PWUucXVlcnlTZWxlY3RvcihcIi52anMtbWVudS1pdGVtLXRleHRcIik7cmV0dXJuXCJtYWluLWRlc2NcIj09PXRoaXMub3B0aW9uc18udHJhY2sua2luZCYmKHQuYXBwZW5kQ2hpbGQobyhcInNwYW5cIix7Y2xhc3NOYW1lOlwidmpzLWljb24tcGxhY2Vob2xkZXJcIn0se1wiYXJpYS1oaWRkZW5cIjohMH0pKSx0LmFwcGVuZENoaWxkKG8oXCJzcGFuXCIse2NsYXNzTmFtZTpcInZqcy1jb250cm9sLXRleHRcIix0ZXh0Q29udGVudDpcIiBcIit0aGlzLmxvY2FsaXplKFwiRGVzY3JpcHRpb25zXCIpfSkpKSxlfWhhbmRsZUNsaWNrKGUpe2lmKHN1cGVyLmhhbmRsZUNsaWNrKGUpLHRoaXMudHJhY2suZW5hYmxlZD0hMCx0aGlzLnBsYXllcl8udGVjaF8uZmVhdHVyZXNOYXRpdmVBdWRpb1RyYWNrcyl7dmFyIHQ9dGhpcy5wbGF5ZXJfLmF1ZGlvVHJhY2tzKCk7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspe3ZhciBpPXRbZV07aSE9PXRoaXMudHJhY2smJihpLmVuYWJsZWQ9aT09PXRoaXMudHJhY2spfX19aGFuZGxlVHJhY2tzQ2hhbmdlKGUpe3RoaXMuc2VsZWN0ZWQodGhpcy50cmFjay5lbmFibGVkKX19Zi5yZWdpc3RlckNvbXBvbmVudChcIkF1ZGlvVHJhY2tNZW51SXRlbVwiLFNyKTtjbGFzcyB3ciBleHRlbmRzIGxye2NvbnN0cnVjdG9yKGUsdD17fSl7dC50cmFja3M9ZS5hdWRpb1RyYWNrcygpLHN1cGVyKGUsdCl9YnVpbGRDU1NDbGFzcygpe3JldHVyblwidmpzLWF1ZGlvLWJ1dHRvbiBcIitzdXBlci5idWlsZENTU0NsYXNzKCl9YnVpbGRXcmFwcGVyQ1NTQ2xhc3MoKXtyZXR1cm5cInZqcy1hdWRpby1idXR0b24gXCIrc3VwZXIuYnVpbGRXcmFwcGVyQ1NTQ2xhc3MoKX1jcmVhdGVJdGVtcyh0PVtdKXt0aGlzLmhpZGVUaHJlc2hvbGRfPTE7dmFyIGk9dGhpcy5wbGF5ZXJfLmF1ZGlvVHJhY2tzKCk7Zm9yKGxldCBlPTA7ZTxpLmxlbmd0aDtlKyspe3ZhciBzPWlbZV07dC5wdXNoKG5ldyBTcih0aGlzLnBsYXllcl8se3RyYWNrOnMsc2VsZWN0YWJsZTohMCxtdWx0aVNlbGVjdGFibGU6ITF9KSl9cmV0dXJuIHR9fXdyLnByb3RvdHlwZS5jb250cm9sVGV4dF89XCJBdWRpbyBUcmFja1wiLGYucmVnaXN0ZXJDb21wb25lbnQoXCJBdWRpb1RyYWNrQnV0dG9uXCIsd3IpO2NsYXNzIEVyIGV4dGVuZHMgaHJ7Y29uc3RydWN0b3IoZSx0KXt2YXIgaT10LnJhdGUscz1wYXJzZUZsb2F0KGksMTApO3QubGFiZWw9aSx0LnNlbGVjdGVkPXM9PT1lLnBsYXliYWNrUmF0ZSgpLHQuc2VsZWN0YWJsZT0hMCx0Lm11bHRpU2VsZWN0YWJsZT0hMSxzdXBlcihlLHQpLHRoaXMubGFiZWw9aSx0aGlzLnJhdGU9cyx0aGlzLm9uKGUsXCJyYXRlY2hhbmdlXCIsZT0+dGhpcy51cGRhdGUoZSkpfWhhbmRsZUNsaWNrKGUpe3N1cGVyLmhhbmRsZUNsaWNrKCksdGhpcy5wbGF5ZXIoKS5wbGF5YmFja1JhdGUodGhpcy5yYXRlKX11cGRhdGUoZSl7dGhpcy5zZWxlY3RlZCh0aGlzLnBsYXllcigpLnBsYXliYWNrUmF0ZSgpPT09dGhpcy5yYXRlKX19RXIucHJvdG90eXBlLmNvbnRlbnRFbFR5cGU9XCJidXR0b25cIixmLnJlZ2lzdGVyQ29tcG9uZW50KFwiUGxheWJhY2tSYXRlTWVudUl0ZW1cIixFcik7Y2xhc3Mga3IgZXh0ZW5kcyBvcntjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsdCksdGhpcy5tZW51QnV0dG9uXy5lbF8uc2V0QXR0cmlidXRlKFwiYXJpYS1kZXNjcmliZWRieVwiLHRoaXMubGFiZWxFbElkXyksdGhpcy51cGRhdGVWaXNpYmlsaXR5KCksdGhpcy51cGRhdGVMYWJlbCgpLHRoaXMub24oZSxcImxvYWRzdGFydFwiLGU9PnRoaXMudXBkYXRlVmlzaWJpbGl0eShlKSksdGhpcy5vbihlLFwicmF0ZWNoYW5nZVwiLGU9PnRoaXMudXBkYXRlTGFiZWwoZSkpLHRoaXMub24oZSxcInBsYXliYWNrcmF0ZXNjaGFuZ2VcIixlPT50aGlzLmhhbmRsZVBsYXliYWNrUmF0ZXNjaGFuZ2UoZSkpfWNyZWF0ZUVsKCl7dmFyIGU9c3VwZXIuY3JlYXRlRWwoKTtyZXR1cm4gdGhpcy5sYWJlbEVsSWRfPVwidmpzLXBsYXliYWNrLXJhdGUtdmFsdWUtbGFiZWwtXCIrdGhpcy5pZF8sdGhpcy5sYWJlbEVsXz1vKFwiZGl2XCIse2NsYXNzTmFtZTpcInZqcy1wbGF5YmFjay1yYXRlLXZhbHVlXCIsaWQ6dGhpcy5sYWJlbEVsSWRfLHRleHRDb250ZW50OlwiMXhcIn0pLGUuYXBwZW5kQ2hpbGQodGhpcy5sYWJlbEVsXyksZX1kaXNwb3NlKCl7dGhpcy5sYWJlbEVsXz1udWxsLHN1cGVyLmRpc3Bvc2UoKX1idWlsZENTU0NsYXNzKCl7cmV0dXJuXCJ2anMtcGxheWJhY2stcmF0ZSBcIitzdXBlci5idWlsZENTU0NsYXNzKCl9YnVpbGRXcmFwcGVyQ1NTQ2xhc3MoKXtyZXR1cm5cInZqcy1wbGF5YmFjay1yYXRlIFwiK3N1cGVyLmJ1aWxkV3JhcHBlckNTU0NsYXNzKCl9Y3JlYXRlSXRlbXMoKXt2YXIgdD10aGlzLnBsYXliYWNrUmF0ZXMoKSxpPVtdO2ZvcihsZXQgZT10Lmxlbmd0aC0xOzA8PWU7ZS0tKWkucHVzaChuZXcgRXIodGhpcy5wbGF5ZXIoKSx7cmF0ZTp0W2VdK1wieFwifSkpO3JldHVybiBpfWhhbmRsZVBsYXliYWNrUmF0ZXNjaGFuZ2UoZSl7dGhpcy51cGRhdGUoKX1wbGF5YmFja1JhdGVzKCl7dmFyIGU9dGhpcy5wbGF5ZXIoKTtyZXR1cm4gZS5wbGF5YmFja1JhdGVzJiZlLnBsYXliYWNrUmF0ZXMoKXx8W119cGxheWJhY2tSYXRlU3VwcG9ydGVkKCl7cmV0dXJuIHRoaXMucGxheWVyKCkudGVjaF8mJnRoaXMucGxheWVyKCkudGVjaF8uZmVhdHVyZXNQbGF5YmFja1JhdGUmJnRoaXMucGxheWJhY2tSYXRlcygpJiYwPHRoaXMucGxheWJhY2tSYXRlcygpLmxlbmd0aH11cGRhdGVWaXNpYmlsaXR5KGUpe3RoaXMucGxheWJhY2tSYXRlU3VwcG9ydGVkKCk/dGhpcy5yZW1vdmVDbGFzcyhcInZqcy1oaWRkZW5cIik6dGhpcy5hZGRDbGFzcyhcInZqcy1oaWRkZW5cIil9dXBkYXRlTGFiZWwoZSl7dGhpcy5wbGF5YmFja1JhdGVTdXBwb3J0ZWQoKSYmKHRoaXMubGFiZWxFbF8udGV4dENvbnRlbnQ9dGhpcy5wbGF5ZXIoKS5wbGF5YmFja1JhdGUoKStcInhcIil9fWtyLnByb3RvdHlwZS5jb250cm9sVGV4dF89XCJQbGF5YmFjayBSYXRlXCIsZi5yZWdpc3RlckNvbXBvbmVudChcIlBsYXliYWNrUmF0ZU1lbnVCdXR0b25cIixrcik7Y2xhc3MgQ3IgZXh0ZW5kcyBme2J1aWxkQ1NTQ2xhc3MoKXtyZXR1cm5cInZqcy1zcGFjZXIgXCIrc3VwZXIuYnVpbGRDU1NDbGFzcygpfWNyZWF0ZUVsKGU9XCJkaXZcIix0PXt9LGk9e30pe3JldHVybiB0LmNsYXNzTmFtZXx8KHQuY2xhc3NOYW1lPXRoaXMuYnVpbGRDU1NDbGFzcygpKSxzdXBlci5jcmVhdGVFbChlLHQsaSl9fWYucmVnaXN0ZXJDb21wb25lbnQoXCJTcGFjZXJcIixDcik7Zi5yZWdpc3RlckNvbXBvbmVudChcIkN1c3RvbUNvbnRyb2xTcGFjZXJcIixjbGFzcyBleHRlbmRzIENye2J1aWxkQ1NTQ2xhc3MoKXtyZXR1cm5cInZqcy1jdXN0b20tY29udHJvbC1zcGFjZXIgXCIrc3VwZXIuYnVpbGRDU1NDbGFzcygpfWNyZWF0ZUVsKCl7cmV0dXJuIHN1cGVyLmNyZWF0ZUVsKFwiZGl2XCIse2NsYXNzTmFtZTp0aGlzLmJ1aWxkQ1NTQ2xhc3MoKSx0ZXh0Q29udGVudDpcIsKgXCJ9KX19KTtjbGFzcyBJciBleHRlbmRzIGZ7Y3JlYXRlRWwoKXtyZXR1cm4gc3VwZXIuY3JlYXRlRWwoXCJkaXZcIix7Y2xhc3NOYW1lOlwidmpzLWNvbnRyb2wtYmFyXCIsZGlyOlwibHRyXCJ9KX19SXIucHJvdG90eXBlLm9wdGlvbnNfPXtjaGlsZHJlbjpbXCJwbGF5VG9nZ2xlXCIsXCJza2lwQmFja3dhcmRcIixcInNraXBGb3J3YXJkXCIsXCJ2b2x1bWVQYW5lbFwiLFwiY3VycmVudFRpbWVEaXNwbGF5XCIsXCJ0aW1lRGl2aWRlclwiLFwiZHVyYXRpb25EaXNwbGF5XCIsXCJwcm9ncmVzc0NvbnRyb2xcIixcImxpdmVEaXNwbGF5XCIsXCJzZWVrVG9MaXZlXCIsXCJyZW1haW5pbmdUaW1lRGlzcGxheVwiLFwiY3VzdG9tQ29udHJvbFNwYWNlclwiLFwicGxheWJhY2tSYXRlTWVudUJ1dHRvblwiLFwiY2hhcHRlcnNCdXR0b25cIixcImRlc2NyaXB0aW9uc0J1dHRvblwiLFwic3Vic0NhcHNCdXR0b25cIixcImF1ZGlvVHJhY2tCdXR0b25cIixcImZ1bGxzY3JlZW5Ub2dnbGVcIl19LFwiZXhpdFBpY3R1cmVJblBpY3R1cmVcImluIGRvY3VtZW50JiZJci5wcm90b3R5cGUub3B0aW9uc18uY2hpbGRyZW4uc3BsaWNlKElyLnByb3RvdHlwZS5vcHRpb25zXy5jaGlsZHJlbi5sZW5ndGgtMSwwLFwicGljdHVyZUluUGljdHVyZVRvZ2dsZVwiKSxmLnJlZ2lzdGVyQ29tcG9uZW50KFwiQ29udHJvbEJhclwiLElyKTtjbGFzcyB4ciBleHRlbmRzIFF0e2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KSx0aGlzLm9uKGUsXCJlcnJvclwiLGU9PnRoaXMub3BlbihlKSl9YnVpbGRDU1NDbGFzcygpe3JldHVyblwidmpzLWVycm9yLWRpc3BsYXkgXCIrc3VwZXIuYnVpbGRDU1NDbGFzcygpfWNvbnRlbnQoKXt2YXIgZT10aGlzLnBsYXllcigpLmVycm9yKCk7cmV0dXJuIGU/dGhpcy5sb2NhbGl6ZShlLm1lc3NhZ2UpOlwiXCJ9fXhyLnByb3RvdHlwZS5vcHRpb25zXz1PYmplY3QuYXNzaWduKHt9LFF0LnByb3RvdHlwZS5vcHRpb25zXyx7cGF1c2VPbk9wZW46ITEsZmlsbEFsd2F5czohMCx0ZW1wb3Jhcnk6ITEsdW5jbG9zZWFibGU6ITB9KSxmLnJlZ2lzdGVyQ29tcG9uZW50KFwiRXJyb3JEaXNwbGF5XCIseHIpO2NvbnN0IEFyPVwidmpzLXRleHQtdHJhY2stc2V0dGluZ3NcIjt2YXIgTWk9W1wiIzAwMFwiLFwiQmxhY2tcIl0sT3Q9W1wiIzAwRlwiLFwiQmx1ZVwiXSxQcj1bXCIjMEZGXCIsXCJDeWFuXCJdLExyPVtcIiMwRjBcIixcIkdyZWVuXCJdLHQ9W1wiI0YwRlwiLFwiTWFnZW50YVwiXSxPcj1bXCIjRjAwXCIsXCJSZWRcIl0sRHI9W1wiI0ZGRlwiLFwiV2hpdGVcIl0sbj1bXCIjRkYwXCIsXCJZZWxsb3dcIl0sTnI9W1wiMVwiLFwiT3BhcXVlXCJdLE1yPVtcIjAuNVwiLFwiU2VtaS1UcmFuc3BhcmVudFwiXSxScj1bXCIwXCIsXCJUcmFuc3BhcmVudFwiXTtjb25zdCBVcj17YmFja2dyb3VuZENvbG9yOntzZWxlY3RvcjpcIi52anMtYmctY29sb3IgPiBzZWxlY3RcIixpZDpcImNhcHRpb25zLWJhY2tncm91bmQtY29sb3ItJXNcIixsYWJlbDpcIkNvbG9yXCIsb3B0aW9uczpbTWksRHIsT3IsTHIsT3Qsbix0LFByXX0sYmFja2dyb3VuZE9wYWNpdHk6e3NlbGVjdG9yOlwiLnZqcy1iZy1vcGFjaXR5ID4gc2VsZWN0XCIsaWQ6XCJjYXB0aW9ucy1iYWNrZ3JvdW5kLW9wYWNpdHktJXNcIixsYWJlbDpcIk9wYWNpdHlcIixvcHRpb25zOltOcixNcixScl19LGNvbG9yOntzZWxlY3RvcjpcIi52anMtdGV4dC1jb2xvciA+IHNlbGVjdFwiLGlkOlwiY2FwdGlvbnMtZm9yZWdyb3VuZC1jb2xvci0lc1wiLGxhYmVsOlwiQ29sb3JcIixvcHRpb25zOltEcixNaSxPcixMcixPdCxuLHQsUHJdfSxlZGdlU3R5bGU6e3NlbGVjdG9yOlwiLnZqcy1lZGdlLXN0eWxlID4gc2VsZWN0XCIsaWQ6XCIlc1wiLGxhYmVsOlwiVGV4dCBFZGdlIFN0eWxlXCIsb3B0aW9uczpbW1wibm9uZVwiLFwiTm9uZVwiXSxbXCJyYWlzZWRcIixcIlJhaXNlZFwiXSxbXCJkZXByZXNzZWRcIixcIkRlcHJlc3NlZFwiXSxbXCJ1bmlmb3JtXCIsXCJVbmlmb3JtXCJdLFtcImRyb3BzaGFkb3dcIixcIkRyb3BzaGFkb3dcIl1dfSxmb250RmFtaWx5OntzZWxlY3RvcjpcIi52anMtZm9udC1mYW1pbHkgPiBzZWxlY3RcIixpZDpcImNhcHRpb25zLWZvbnQtZmFtaWx5LSVzXCIsbGFiZWw6XCJGb250IEZhbWlseVwiLG9wdGlvbnM6W1tcInByb3BvcnRpb25hbFNhbnNTZXJpZlwiLFwiUHJvcG9ydGlvbmFsIFNhbnMtU2VyaWZcIl0sW1wibW9ub3NwYWNlU2Fuc1NlcmlmXCIsXCJNb25vc3BhY2UgU2Fucy1TZXJpZlwiXSxbXCJwcm9wb3J0aW9uYWxTZXJpZlwiLFwiUHJvcG9ydGlvbmFsIFNlcmlmXCJdLFtcIm1vbm9zcGFjZVNlcmlmXCIsXCJNb25vc3BhY2UgU2VyaWZcIl0sW1wiY2FzdWFsXCIsXCJDYXN1YWxcIl0sW1wic2NyaXB0XCIsXCJTY3JpcHRcIl0sW1wic21hbGwtY2Fwc1wiLFwiU21hbGwgQ2Fwc1wiXV19LGZvbnRQZXJjZW50OntzZWxlY3RvcjpcIi52anMtZm9udC1wZXJjZW50ID4gc2VsZWN0XCIsaWQ6XCJjYXB0aW9ucy1mb250LXNpemUtJXNcIixsYWJlbDpcIkZvbnQgU2l6ZVwiLG9wdGlvbnM6W1tcIjAuNTBcIixcIjUwJVwiXSxbXCIwLjc1XCIsXCI3NSVcIl0sW1wiMS4wMFwiLFwiMTAwJVwiXSxbXCIxLjI1XCIsXCIxMjUlXCJdLFtcIjEuNTBcIixcIjE1MCVcIl0sW1wiMS43NVwiLFwiMTc1JVwiXSxbXCIyLjAwXCIsXCIyMDAlXCJdLFtcIjMuMDBcIixcIjMwMCVcIl0sW1wiNC4wMFwiLFwiNDAwJVwiXV0sZGVmYXVsdDoyLHBhcnNlcjplPT5cIjEuMDBcIj09PWU/bnVsbDpOdW1iZXIoZSl9LHRleHRPcGFjaXR5OntzZWxlY3RvcjpcIi52anMtdGV4dC1vcGFjaXR5ID4gc2VsZWN0XCIsaWQ6XCJjYXB0aW9ucy1mb3JlZ3JvdW5kLW9wYWNpdHktJXNcIixsYWJlbDpcIk9wYWNpdHlcIixvcHRpb25zOltOcixNcl19LHdpbmRvd0NvbG9yOntzZWxlY3RvcjpcIi52anMtd2luZG93LWNvbG9yID4gc2VsZWN0XCIsaWQ6XCJjYXB0aW9ucy13aW5kb3ctY29sb3ItJXNcIixsYWJlbDpcIkNvbG9yXCJ9LHdpbmRvd09wYWNpdHk6e3NlbGVjdG9yOlwiLnZqcy13aW5kb3ctb3BhY2l0eSA+IHNlbGVjdFwiLGlkOlwiY2FwdGlvbnMtd2luZG93LW9wYWNpdHktJXNcIixsYWJlbDpcIk9wYWNpdHlcIixvcHRpb25zOltScixNcixOcl19fTtmdW5jdGlvbiBCcihlLHQpe2lmKChlPXQ/dChlKTplKSYmXCJub25lXCIhPT1lKXJldHVybiBlfVVyLndpbmRvd0NvbG9yLm9wdGlvbnM9VXIuYmFja2dyb3VuZENvbG9yLm9wdGlvbnM7Y2xhc3MgRnIgZXh0ZW5kcyBRdHtjb25zdHJ1Y3RvcihlLHQpe3QudGVtcG9yYXJ5PSExLHN1cGVyKGUsdCksdGhpcy51cGRhdGVEaXNwbGF5PXRoaXMudXBkYXRlRGlzcGxheS5iaW5kKHRoaXMpLHRoaXMuZmlsbCgpLHRoaXMuaGFzQmVlbk9wZW5lZF89dGhpcy5oYXNCZWVuRmlsbGVkXz0hMCx0aGlzLmVuZERpYWxvZz1vKFwicFwiLHtjbGFzc05hbWU6XCJ2anMtY29udHJvbC10ZXh0XCIsdGV4dENvbnRlbnQ6dGhpcy5sb2NhbGl6ZShcIkVuZCBvZiBkaWFsb2cgd2luZG93LlwiKX0pLHRoaXMuZWwoKS5hcHBlbmRDaGlsZCh0aGlzLmVuZERpYWxvZyksdGhpcy5zZXREZWZhdWx0cygpLHZvaWQgMD09PXQucGVyc2lzdFRleHRUcmFja1NldHRpbmdzJiYodGhpcy5vcHRpb25zXy5wZXJzaXN0VGV4dFRyYWNrU2V0dGluZ3M9dGhpcy5vcHRpb25zXy5wbGF5ZXJPcHRpb25zLnBlcnNpc3RUZXh0VHJhY2tTZXR0aW5ncyksdGhpcy5vbih0aGlzLiQoXCIudmpzLWRvbmUtYnV0dG9uXCIpLFwiY2xpY2tcIiwoKT0+e3RoaXMuc2F2ZVNldHRpbmdzKCksdGhpcy5jbG9zZSgpfSksdGhpcy5vbih0aGlzLiQoXCIudmpzLWRlZmF1bHQtYnV0dG9uXCIpLFwiY2xpY2tcIiwoKT0+e3RoaXMuc2V0RGVmYXVsdHMoKSx0aGlzLnVwZGF0ZURpc3BsYXkoKX0pLHooVXIsZT0+e3RoaXMub24odGhpcy4kKGUuc2VsZWN0b3IpLFwiY2hhbmdlXCIsdGhpcy51cGRhdGVEaXNwbGF5KX0pLHRoaXMub3B0aW9uc18ucGVyc2lzdFRleHRUcmFja1NldHRpbmdzJiZ0aGlzLnJlc3RvcmVTZXR0aW5ncygpfWRpc3Bvc2UoKXt0aGlzLmVuZERpYWxvZz1udWxsLHN1cGVyLmRpc3Bvc2UoKX1jcmVhdGVFbFNlbGVjdF8oZSx0PVwiXCIsaT1cImxhYmVsXCIpe2U9VXJbZV07Y29uc3Qgcz1lLmlkLnJlcGxhY2UoXCIlc1wiLHRoaXMuaWRfKSxyPVt0LHNdLmpvaW4oXCIgXCIpLnRyaW0oKTtyZXR1cm5bYDwke2l9IGlkPVwiJHtzfVwiIGNsYXNzPVwiJHtcImxhYmVsXCI9PT1pP1widmpzLWxhYmVsXCI6XCJcIn1cIj5gLHRoaXMubG9jYWxpemUoZS5sYWJlbCksYDwvJHtpfT5gLGA8c2VsZWN0IGFyaWEtbGFiZWxsZWRieT1cIiR7cn1cIj5gXS5jb25jYXQoZS5vcHRpb25zLm1hcChlPT57dmFyIHQ9cytcIi1cIitlWzFdLnJlcGxhY2UoL1xcVysvZyxcIlwiKTtyZXR1cm5bYDxvcHRpb24gaWQ9XCIke3R9XCIgdmFsdWU9XCIke2VbMF19XCIgYCxgYXJpYS1sYWJlbGxlZGJ5PVwiJHtyfSAke3R9XCI+YCx0aGlzLmxvY2FsaXplKGVbMV0pLFwiPC9vcHRpb24+XCJdLmpvaW4oXCJcIil9KSkuY29uY2F0KFwiPC9zZWxlY3Q+XCIpLmpvaW4oXCJcIil9Y3JlYXRlRWxGZ0NvbG9yXygpe3ZhciBlPVwiY2FwdGlvbnMtdGV4dC1sZWdlbmQtXCIrdGhpcy5pZF87cmV0dXJuWyc8ZmllbGRzZXQgY2xhc3M9XCJ2anMtZmcgdmpzLXRyYWNrLXNldHRpbmdcIj4nLGA8bGVnZW5kIGlkPVwiJHtlfVwiPmAsdGhpcy5sb2NhbGl6ZShcIlRleHRcIiksXCI8L2xlZ2VuZD5cIiwnPHNwYW4gY2xhc3M9XCJ2anMtdGV4dC1jb2xvclwiPicsdGhpcy5jcmVhdGVFbFNlbGVjdF8oXCJjb2xvclwiLGUpLFwiPC9zcGFuPlwiLCc8c3BhbiBjbGFzcz1cInZqcy10ZXh0LW9wYWNpdHkgdmpzLW9wYWNpdHlcIj4nLHRoaXMuY3JlYXRlRWxTZWxlY3RfKFwidGV4dE9wYWNpdHlcIixlKSxcIjwvc3Bhbj5cIixcIjwvZmllbGRzZXQ+XCJdLmpvaW4oXCJcIil9Y3JlYXRlRWxCZ0NvbG9yXygpe3ZhciBlPVwiY2FwdGlvbnMtYmFja2dyb3VuZC1cIit0aGlzLmlkXztyZXR1cm5bJzxmaWVsZHNldCBjbGFzcz1cInZqcy1iZyB2anMtdHJhY2stc2V0dGluZ1wiPicsYDxsZWdlbmQgaWQ9XCIke2V9XCI+YCx0aGlzLmxvY2FsaXplKFwiVGV4dCBCYWNrZ3JvdW5kXCIpLFwiPC9sZWdlbmQ+XCIsJzxzcGFuIGNsYXNzPVwidmpzLWJnLWNvbG9yXCI+Jyx0aGlzLmNyZWF0ZUVsU2VsZWN0XyhcImJhY2tncm91bmRDb2xvclwiLGUpLFwiPC9zcGFuPlwiLCc8c3BhbiBjbGFzcz1cInZqcy1iZy1vcGFjaXR5IHZqcy1vcGFjaXR5XCI+Jyx0aGlzLmNyZWF0ZUVsU2VsZWN0XyhcImJhY2tncm91bmRPcGFjaXR5XCIsZSksXCI8L3NwYW4+XCIsXCI8L2ZpZWxkc2V0PlwiXS5qb2luKFwiXCIpfWNyZWF0ZUVsV2luQ29sb3JfKCl7dmFyIGU9XCJjYXB0aW9ucy13aW5kb3ctXCIrdGhpcy5pZF87cmV0dXJuWyc8ZmllbGRzZXQgY2xhc3M9XCJ2anMtd2luZG93IHZqcy10cmFjay1zZXR0aW5nXCI+JyxgPGxlZ2VuZCBpZD1cIiR7ZX1cIj5gLHRoaXMubG9jYWxpemUoXCJDYXB0aW9uIEFyZWEgQmFja2dyb3VuZFwiKSxcIjwvbGVnZW5kPlwiLCc8c3BhbiBjbGFzcz1cInZqcy13aW5kb3ctY29sb3JcIj4nLHRoaXMuY3JlYXRlRWxTZWxlY3RfKFwid2luZG93Q29sb3JcIixlKSxcIjwvc3Bhbj5cIiwnPHNwYW4gY2xhc3M9XCJ2anMtd2luZG93LW9wYWNpdHkgdmpzLW9wYWNpdHlcIj4nLHRoaXMuY3JlYXRlRWxTZWxlY3RfKFwid2luZG93T3BhY2l0eVwiLGUpLFwiPC9zcGFuPlwiLFwiPC9maWVsZHNldD5cIl0uam9pbihcIlwiKX1jcmVhdGVFbENvbG9yc18oKXtyZXR1cm4gbyhcImRpdlwiLHtjbGFzc05hbWU6XCJ2anMtdHJhY2stc2V0dGluZ3MtY29sb3JzXCIsaW5uZXJIVE1MOlt0aGlzLmNyZWF0ZUVsRmdDb2xvcl8oKSx0aGlzLmNyZWF0ZUVsQmdDb2xvcl8oKSx0aGlzLmNyZWF0ZUVsV2luQ29sb3JfKCldLmpvaW4oXCJcIil9KX1jcmVhdGVFbEZvbnRfKCl7cmV0dXJuIG8oXCJkaXZcIix7Y2xhc3NOYW1lOlwidmpzLXRyYWNrLXNldHRpbmdzLWZvbnRcIixpbm5lckhUTUw6Wyc8ZmllbGRzZXQgY2xhc3M9XCJ2anMtZm9udC1wZXJjZW50IHZqcy10cmFjay1zZXR0aW5nXCI+Jyx0aGlzLmNyZWF0ZUVsU2VsZWN0XyhcImZvbnRQZXJjZW50XCIsXCJcIixcImxlZ2VuZFwiKSxcIjwvZmllbGRzZXQ+XCIsJzxmaWVsZHNldCBjbGFzcz1cInZqcy1lZGdlLXN0eWxlIHZqcy10cmFjay1zZXR0aW5nXCI+Jyx0aGlzLmNyZWF0ZUVsU2VsZWN0XyhcImVkZ2VTdHlsZVwiLFwiXCIsXCJsZWdlbmRcIiksXCI8L2ZpZWxkc2V0PlwiLCc8ZmllbGRzZXQgY2xhc3M9XCJ2anMtZm9udC1mYW1pbHkgdmpzLXRyYWNrLXNldHRpbmdcIj4nLHRoaXMuY3JlYXRlRWxTZWxlY3RfKFwiZm9udEZhbWlseVwiLFwiXCIsXCJsZWdlbmRcIiksXCI8L2ZpZWxkc2V0PlwiXS5qb2luKFwiXCIpfSl9Y3JlYXRlRWxDb250cm9sc18oKXt2YXIgZT10aGlzLmxvY2FsaXplKFwicmVzdG9yZSBhbGwgc2V0dGluZ3MgdG8gdGhlIGRlZmF1bHQgdmFsdWVzXCIpO3JldHVybiBvKFwiZGl2XCIse2NsYXNzTmFtZTpcInZqcy10cmFjay1zZXR0aW5ncy1jb250cm9sc1wiLGlubmVySFRNTDpbYDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwidmpzLWRlZmF1bHQtYnV0dG9uXCIgdGl0bGU9XCIke2V9XCI+YCx0aGlzLmxvY2FsaXplKFwiUmVzZXRcIiksYDxzcGFuIGNsYXNzPVwidmpzLWNvbnRyb2wtdGV4dFwiPiAke2V9PC9zcGFuPmAsXCI8L2J1dHRvbj5cIixgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJ2anMtZG9uZS1idXR0b25cIj4ke3RoaXMubG9jYWxpemUoXCJEb25lXCIpfTwvYnV0dG9uPmBdLmpvaW4oXCJcIil9KX1jb250ZW50KCl7cmV0dXJuW3RoaXMuY3JlYXRlRWxDb2xvcnNfKCksdGhpcy5jcmVhdGVFbEZvbnRfKCksdGhpcy5jcmVhdGVFbENvbnRyb2xzXygpXX1sYWJlbCgpe3JldHVybiB0aGlzLmxvY2FsaXplKFwiQ2FwdGlvbiBTZXR0aW5ncyBEaWFsb2dcIil9ZGVzY3JpcHRpb24oKXtyZXR1cm4gdGhpcy5sb2NhbGl6ZShcIkJlZ2lubmluZyBvZiBkaWFsb2cgd2luZG93LiBFc2NhcGUgd2lsbCBjYW5jZWwgYW5kIGNsb3NlIHRoZSB3aW5kb3cuXCIpfWJ1aWxkQ1NTQ2xhc3MoKXtyZXR1cm4gc3VwZXIuYnVpbGRDU1NDbGFzcygpK1wiIHZqcy10ZXh0LXRyYWNrLXNldHRpbmdzXCJ9Z2V0VmFsdWVzKCl7cmV0dXJuIFgoVXIsKGUsdCxpKT0+e3M9dGhpcy4kKHQuc2VsZWN0b3IpLHQ9dC5wYXJzZXI7dmFyIHM9QnIocy5vcHRpb25zW3Mub3B0aW9ucy5zZWxlY3RlZEluZGV4XS52YWx1ZSx0KTtyZXR1cm4gdm9pZCAwIT09cyYmKGVbaV09cyksZX0se30pfXNldFZhbHVlcyhuKXt6KFVyLChlLHQpPT57dmFyIGk9dGhpcy4kKGUuc2VsZWN0b3IpLHM9blt0XSxyPWUucGFyc2VyO2lmKHMpZm9yKGxldCBlPTA7ZTxpLm9wdGlvbnMubGVuZ3RoO2UrKylpZihCcihpLm9wdGlvbnNbZV0udmFsdWUscik9PT1zKXtpLnNlbGVjdGVkSW5kZXg9ZTticmVha319KX1zZXREZWZhdWx0cygpe3ooVXIsZT0+e3ZhciB0PWUuaGFzT3duUHJvcGVydHkoXCJkZWZhdWx0XCIpP2UuZGVmYXVsdDowO3RoaXMuJChlLnNlbGVjdG9yKS5zZWxlY3RlZEluZGV4PXR9KX1yZXN0b3JlU2V0dGluZ3MoKXtsZXQgZTt0cnl7ZT1KU09OLnBhcnNlKHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShBcikpfWNhdGNoKGUpe2Qud2FybihlKX1lJiZ0aGlzLnNldFZhbHVlcyhlKX1zYXZlU2V0dGluZ3MoKXtpZih0aGlzLm9wdGlvbnNfLnBlcnNpc3RUZXh0VHJhY2tTZXR0aW5ncyl7dmFyIGU9dGhpcy5nZXRWYWx1ZXMoKTt0cnl7T2JqZWN0LmtleXMoZSkubGVuZ3RoP3dpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShBcixKU09OLnN0cmluZ2lmeShlKSk6d2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKEFyKX1jYXRjaChlKXtkLndhcm4oZSl9fX11cGRhdGVEaXNwbGF5KCl7dmFyIGU9dGhpcy5wbGF5ZXJfLmdldENoaWxkKFwidGV4dFRyYWNrRGlzcGxheVwiKTtlJiZlLnVwZGF0ZURpc3BsYXkoKX1jb25kaXRpb25hbEJsdXJfKCl7dGhpcy5wcmV2aW91c2x5QWN0aXZlRWxfPW51bGw7dmFyIGU9dGhpcy5wbGF5ZXJfLmNvbnRyb2xCYXIsdD1lJiZlLnN1YnNDYXBzQnV0dG9uLGU9ZSYmZS5jYXB0aW9uc0J1dHRvbjt0P3QuZm9jdXMoKTplJiZlLmZvY3VzKCl9aGFuZGxlTGFuZ3VhZ2VjaGFuZ2UoKXt0aGlzLmZpbGwoKX19Zi5yZWdpc3RlckNvbXBvbmVudChcIlRleHRUcmFja1NldHRpbmdzXCIsRnIpO2NsYXNzIGpyIGV4dGVuZHMgZntjb25zdHJ1Y3RvcihlLHQpe2xldCBpPXQuUmVzaXplT2JzZXJ2ZXJ8fHdpbmRvdy5SZXNpemVPYnNlcnZlcjtzdXBlcihlLGgoe2NyZWF0ZUVsOiEoaT1udWxsPT09dC5SZXNpemVPYnNlcnZlcj8hMTppKSxyZXBvcnRUb3VjaEFjdGl2aXR5OiExfSx0KSksdGhpcy5SZXNpemVPYnNlcnZlcj10LlJlc2l6ZU9ic2VydmVyfHx3aW5kb3cuUmVzaXplT2JzZXJ2ZXIsdGhpcy5sb2FkTGlzdGVuZXJfPW51bGwsdGhpcy5yZXNpemVPYnNlcnZlcl89bnVsbCx0aGlzLmRlYm91bmNlZEhhbmRsZXJfPXB0KCgpPT57dGhpcy5yZXNpemVIYW5kbGVyKCl9LDEwMCwhMSx0aGlzKSxpPyh0aGlzLnJlc2l6ZU9ic2VydmVyXz1uZXcgdGhpcy5SZXNpemVPYnNlcnZlcih0aGlzLmRlYm91bmNlZEhhbmRsZXJfKSx0aGlzLnJlc2l6ZU9ic2VydmVyXy5vYnNlcnZlKGUuZWwoKSkpOih0aGlzLmxvYWRMaXN0ZW5lcl89KCk9PntpZih0aGlzLmVsXyYmdGhpcy5lbF8uY29udGVudFdpbmRvdyl7Y29uc3QgdD10aGlzLmRlYm91bmNlZEhhbmRsZXJfO2xldCBlPXRoaXMudW5sb2FkTGlzdGVuZXJfPWZ1bmN0aW9uKCl7cCh0aGlzLFwicmVzaXplXCIsdCkscCh0aGlzLFwidW5sb2FkXCIsZSksZT1udWxsfTtvdCh0aGlzLmVsXy5jb250ZW50V2luZG93LFwidW5sb2FkXCIsZSksb3QodGhpcy5lbF8uY29udGVudFdpbmRvdyxcInJlc2l6ZVwiLHQpfX0sdGhpcy5vbmUoXCJsb2FkXCIsdGhpcy5sb2FkTGlzdGVuZXJfKSl9Y3JlYXRlRWwoKXtyZXR1cm4gc3VwZXIuY3JlYXRlRWwoXCJpZnJhbWVcIix7Y2xhc3NOYW1lOlwidmpzLXJlc2l6ZS1tYW5hZ2VyXCIsdGFiSW5kZXg6LTEsdGl0bGU6dGhpcy5sb2NhbGl6ZShcIk5vIGNvbnRlbnRcIil9LHtcImFyaWEtaGlkZGVuXCI6XCJ0cnVlXCJ9KX1yZXNpemVIYW5kbGVyKCl7dGhpcy5wbGF5ZXJfJiZ0aGlzLnBsYXllcl8udHJpZ2dlciYmdGhpcy5wbGF5ZXJfLnRyaWdnZXIoXCJwbGF5ZXJyZXNpemVcIil9ZGlzcG9zZSgpe3RoaXMuZGVib3VuY2VkSGFuZGxlcl8mJnRoaXMuZGVib3VuY2VkSGFuZGxlcl8uY2FuY2VsKCksdGhpcy5yZXNpemVPYnNlcnZlcl8mJih0aGlzLnBsYXllcl8uZWwoKSYmdGhpcy5yZXNpemVPYnNlcnZlcl8udW5vYnNlcnZlKHRoaXMucGxheWVyXy5lbCgpKSx0aGlzLnJlc2l6ZU9ic2VydmVyXy5kaXNjb25uZWN0KCkpLHRoaXMubG9hZExpc3RlbmVyXyYmdGhpcy5vZmYoXCJsb2FkXCIsdGhpcy5sb2FkTGlzdGVuZXJfKSx0aGlzLmVsXyYmdGhpcy5lbF8uY29udGVudFdpbmRvdyYmdGhpcy51bmxvYWRMaXN0ZW5lcl8mJnRoaXMudW5sb2FkTGlzdGVuZXJfLmNhbGwodGhpcy5lbF8uY29udGVudFdpbmRvdyksdGhpcy5SZXNpemVPYnNlcnZlcj1udWxsLHRoaXMucmVzaXplT2JzZXJ2ZXI9bnVsbCx0aGlzLmRlYm91bmNlZEhhbmRsZXJfPW51bGwsdGhpcy5sb2FkTGlzdGVuZXJfPW51bGwsc3VwZXIuZGlzcG9zZSgpfX1mLnJlZ2lzdGVyQ29tcG9uZW50KFwiUmVzaXplTWFuYWdlclwiLGpyKTtjb25zdCBIcj17dHJhY2tpbmdUaHJlc2hvbGQ6MjAsbGl2ZVRvbGVyYW5jZToxNX07Y2xhc3MgcXIgZXh0ZW5kcyBme2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSxoKEhyLHQse2NyZWF0ZUVsOiExfSkpLHRoaXMudHJhY2tMaXZlSGFuZGxlcl89KCk9PnRoaXMudHJhY2tMaXZlXygpLHRoaXMuaGFuZGxlUGxheV89ZT0+dGhpcy5oYW5kbGVQbGF5KGUpLHRoaXMuaGFuZGxlRmlyc3RUaW1ldXBkYXRlXz1lPT50aGlzLmhhbmRsZUZpcnN0VGltZXVwZGF0ZShlKSx0aGlzLmhhbmRsZVNlZWtlZF89ZT0+dGhpcy5oYW5kbGVTZWVrZWQoZSksdGhpcy5zZWVrVG9MaXZlRWRnZV89ZT0+dGhpcy5zZWVrVG9MaXZlRWRnZShlKSx0aGlzLnJlc2V0XygpLHRoaXMub24odGhpcy5wbGF5ZXJfLFwiZHVyYXRpb25jaGFuZ2VcIixlPT50aGlzLmhhbmRsZUR1cmF0aW9uY2hhbmdlKGUpKSx0aGlzLm9uKHRoaXMucGxheWVyXyxcImNhbnBsYXlcIiwoKT0+dGhpcy50b2dnbGVUcmFja2luZygpKX10cmFja0xpdmVfKCl7dmFyIHQ9dGhpcy5wbGF5ZXJfLnNlZWthYmxlKCk7aWYodCYmdC5sZW5ndGgpe3ZhciB0PU51bWJlcih3aW5kb3cucGVyZm9ybWFuY2Uubm93KCkudG9GaXhlZCg0KSksaT0tMT09PXRoaXMubGFzdFRpbWVfPzA6KHQtdGhpcy5sYXN0VGltZV8pLzFlMyx0PSh0aGlzLmxhc3RUaW1lXz10LHRoaXMucGFzdFNlZWtFbmRfPXRoaXMucGFzdFNlZWtFbmQoKStpLHRoaXMubGl2ZUN1cnJlbnRUaW1lKCkpLGk9dGhpcy5wbGF5ZXJfLmN1cnJlbnRUaW1lKCk7bGV0IGU9dGhpcy5wbGF5ZXJfLnBhdXNlZCgpfHx0aGlzLnNlZWtlZEJlaGluZExpdmVffHxNYXRoLmFicyh0LWkpPnRoaXMub3B0aW9uc18ubGl2ZVRvbGVyYW5jZTsoZT10aGlzLnRpbWV1cGRhdGVTZWVuXyYmdCE9PTEvMD9lOiExKSE9PXRoaXMuYmVoaW5kTGl2ZUVkZ2VfJiYodGhpcy5iZWhpbmRMaXZlRWRnZV89ZSx0aGlzLnRyaWdnZXIoXCJsaXZlZWRnZWNoYW5nZVwiKSl9fWhhbmRsZUR1cmF0aW9uY2hhbmdlKCl7dGhpcy50b2dnbGVUcmFja2luZygpfXRvZ2dsZVRyYWNraW5nKCl7dGhpcy5wbGF5ZXJfLmR1cmF0aW9uKCk9PT0xLzAmJnRoaXMubGl2ZVdpbmRvdygpPj10aGlzLm9wdGlvbnNfLnRyYWNraW5nVGhyZXNob2xkPyh0aGlzLnBsYXllcl8ub3B0aW9uc18ubGl2ZXVpJiZ0aGlzLnBsYXllcl8uYWRkQ2xhc3MoXCJ2anMtbGl2ZXVpXCIpLHRoaXMuc3RhcnRUcmFja2luZygpKToodGhpcy5wbGF5ZXJfLnJlbW92ZUNsYXNzKFwidmpzLWxpdmV1aVwiKSx0aGlzLnN0b3BUcmFja2luZygpKX1zdGFydFRyYWNraW5nKCl7dGhpcy5pc1RyYWNraW5nKCl8fCh0aGlzLnRpbWV1cGRhdGVTZWVuX3x8KHRoaXMudGltZXVwZGF0ZVNlZW5fPXRoaXMucGxheWVyXy5oYXNTdGFydGVkKCkpLHRoaXMudHJhY2tpbmdJbnRlcnZhbF89dGhpcy5zZXRJbnRlcnZhbCh0aGlzLnRyYWNrTGl2ZUhhbmRsZXJfLDMwKSx0aGlzLnRyYWNrTGl2ZV8oKSx0aGlzLm9uKHRoaXMucGxheWVyXyxbXCJwbGF5XCIsXCJwYXVzZVwiXSx0aGlzLnRyYWNrTGl2ZUhhbmRsZXJfKSx0aGlzLnRpbWV1cGRhdGVTZWVuXz90aGlzLm9uKHRoaXMucGxheWVyXyxcInNlZWtlZFwiLHRoaXMuaGFuZGxlU2Vla2VkXyk6KHRoaXMub25lKHRoaXMucGxheWVyXyxcInBsYXlcIix0aGlzLmhhbmRsZVBsYXlfKSx0aGlzLm9uZSh0aGlzLnBsYXllcl8sXCJ0aW1ldXBkYXRlXCIsdGhpcy5oYW5kbGVGaXJzdFRpbWV1cGRhdGVfKSkpfWhhbmRsZUZpcnN0VGltZXVwZGF0ZSgpe3RoaXMudGltZXVwZGF0ZVNlZW5fPSEwLHRoaXMub24odGhpcy5wbGF5ZXJfLFwic2Vla2VkXCIsdGhpcy5oYW5kbGVTZWVrZWRfKX1oYW5kbGVTZWVrZWQoKXt2YXIgZT1NYXRoLmFicyh0aGlzLmxpdmVDdXJyZW50VGltZSgpLXRoaXMucGxheWVyXy5jdXJyZW50VGltZSgpKTt0aGlzLnNlZWtlZEJlaGluZExpdmVfPXRoaXMubmV4dFNlZWtlZEZyb21Vc2VyXyYmMjxlLHRoaXMubmV4dFNlZWtlZEZyb21Vc2VyXz0hMSx0aGlzLnRyYWNrTGl2ZV8oKX1oYW5kbGVQbGF5KCl7dGhpcy5vbmUodGhpcy5wbGF5ZXJfLFwidGltZXVwZGF0ZVwiLHRoaXMuc2Vla1RvTGl2ZUVkZ2VfKX1yZXNldF8oKXt0aGlzLmxhc3RUaW1lXz0tMSx0aGlzLnBhc3RTZWVrRW5kXz0wLHRoaXMubGFzdFNlZWtFbmRfPS0xLHRoaXMuYmVoaW5kTGl2ZUVkZ2VfPSEwLHRoaXMudGltZXVwZGF0ZVNlZW5fPSExLHRoaXMuc2Vla2VkQmVoaW5kTGl2ZV89ITEsdGhpcy5uZXh0U2Vla2VkRnJvbVVzZXJfPSExLHRoaXMuY2xlYXJJbnRlcnZhbCh0aGlzLnRyYWNraW5nSW50ZXJ2YWxfKSx0aGlzLnRyYWNraW5nSW50ZXJ2YWxfPW51bGwsdGhpcy5vZmYodGhpcy5wbGF5ZXJfLFtcInBsYXlcIixcInBhdXNlXCJdLHRoaXMudHJhY2tMaXZlSGFuZGxlcl8pLHRoaXMub2ZmKHRoaXMucGxheWVyXyxcInNlZWtlZFwiLHRoaXMuaGFuZGxlU2Vla2VkXyksdGhpcy5vZmYodGhpcy5wbGF5ZXJfLFwicGxheVwiLHRoaXMuaGFuZGxlUGxheV8pLHRoaXMub2ZmKHRoaXMucGxheWVyXyxcInRpbWV1cGRhdGVcIix0aGlzLmhhbmRsZUZpcnN0VGltZXVwZGF0ZV8pLHRoaXMub2ZmKHRoaXMucGxheWVyXyxcInRpbWV1cGRhdGVcIix0aGlzLnNlZWtUb0xpdmVFZGdlXyl9bmV4dFNlZWtlZEZyb21Vc2VyKCl7dGhpcy5uZXh0U2Vla2VkRnJvbVVzZXJfPSEwfXN0b3BUcmFja2luZygpe3RoaXMuaXNUcmFja2luZygpJiYodGhpcy5yZXNldF8oKSx0aGlzLnRyaWdnZXIoXCJsaXZlZWRnZWNoYW5nZVwiKSl9c2Vla2FibGVFbmQoKXt2YXIgZT10aGlzLnBsYXllcl8uc2Vla2FibGUoKSx0PVtdO2xldCBpPWU/ZS5sZW5ndGg6MDtmb3IoO2ktLTspdC5wdXNoKGUuZW5kKGkpKTtyZXR1cm4gdC5sZW5ndGg/dC5zb3J0KClbdC5sZW5ndGgtMV06MS8wfXNlZWthYmxlU3RhcnQoKXt2YXIgZT10aGlzLnBsYXllcl8uc2Vla2FibGUoKSx0PVtdO2xldCBpPWU/ZS5sZW5ndGg6MDtmb3IoO2ktLTspdC5wdXNoKGUuc3RhcnQoaSkpO3JldHVybiB0Lmxlbmd0aD90LnNvcnQoKVswXTowfWxpdmVXaW5kb3coKXt2YXIgZT10aGlzLmxpdmVDdXJyZW50VGltZSgpO3JldHVybiBlPT09MS8wPzA6ZS10aGlzLnNlZWthYmxlU3RhcnQoKX1pc0xpdmUoKXtyZXR1cm4gdGhpcy5pc1RyYWNraW5nKCl9YXRMaXZlRWRnZSgpe3JldHVybiF0aGlzLmJlaGluZExpdmVFZGdlKCl9bGl2ZUN1cnJlbnRUaW1lKCl7cmV0dXJuIHRoaXMucGFzdFNlZWtFbmQoKSt0aGlzLnNlZWthYmxlRW5kKCl9cGFzdFNlZWtFbmQoKXt2YXIgZT10aGlzLnNlZWthYmxlRW5kKCk7cmV0dXJuLTEhPT10aGlzLmxhc3RTZWVrRW5kXyYmZSE9PXRoaXMubGFzdFNlZWtFbmRfJiYodGhpcy5wYXN0U2Vla0VuZF89MCksdGhpcy5sYXN0U2Vla0VuZF89ZSx0aGlzLnBhc3RTZWVrRW5kX31iZWhpbmRMaXZlRWRnZSgpe3JldHVybiB0aGlzLmJlaGluZExpdmVFZGdlX31pc1RyYWNraW5nKCl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHRoaXMudHJhY2tpbmdJbnRlcnZhbF99c2Vla1RvTGl2ZUVkZ2UoKXt0aGlzLnNlZWtlZEJlaGluZExpdmVfPSExLHRoaXMuYXRMaXZlRWRnZSgpfHwodGhpcy5uZXh0U2Vla2VkRnJvbVVzZXJfPSExLHRoaXMucGxheWVyXy5jdXJyZW50VGltZSh0aGlzLmxpdmVDdXJyZW50VGltZSgpKSl9ZGlzcG9zZSgpe3RoaXMuc3RvcFRyYWNraW5nKCksc3VwZXIuZGlzcG9zZSgpfX1mLnJlZ2lzdGVyQ29tcG9uZW50KFwiTGl2ZVRyYWNrZXJcIixxcik7Y2xhc3MgVnIgZXh0ZW5kcyBme2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KSx0aGlzLm9uKFwic3RhdGVjaGFuZ2VkXCIsZT0+dGhpcy51cGRhdGVEb21fKCkpLHRoaXMudXBkYXRlRG9tXygpfWNyZWF0ZUVsKCl7cmV0dXJuIHRoaXMuZWxzPXt0aXRsZTpvKFwiZGl2XCIse2NsYXNzTmFtZTpcInZqcy10aXRsZS1iYXItdGl0bGVcIixpZDpcInZqcy10aXRsZS1iYXItdGl0bGUtXCIrdHQrK30pLGRlc2NyaXB0aW9uOm8oXCJkaXZcIix7Y2xhc3NOYW1lOlwidmpzLXRpdGxlLWJhci1kZXNjcmlwdGlvblwiLGlkOlwidmpzLXRpdGxlLWJhci1kZXNjcmlwdGlvbi1cIit0dCsrfSl9LG8oXCJkaXZcIix7Y2xhc3NOYW1lOlwidmpzLXRpdGxlLWJhclwifSx7fSxPYmplY3QudmFsdWVzKHRoaXMuZWxzKSl9dXBkYXRlRG9tXygpe3ZhciBlPXRoaXMucGxheWVyXy50ZWNoXztjb25zdCBzPWUmJmUuZWxfLHI9e3RpdGxlOlwiYXJpYS1sYWJlbGxlZGJ5XCIsZGVzY3JpcHRpb246XCJhcmlhLWRlc2NyaWJlZGJ5XCJ9O1tcInRpdGxlXCIsXCJkZXNjcmlwdGlvblwiXS5mb3JFYWNoKGU9Pnt2YXIgdD10aGlzLnN0YXRlW2VdLGk9dGhpcy5lbHNbZV0sZT1yW2VdO0ZlKGkpLHQmJlNlKGksdCkscyYmKHMucmVtb3ZlQXR0cmlidXRlKGUpLHQpJiZzLnNldEF0dHJpYnV0ZShlLGkuaWQpfSksdGhpcy5zdGF0ZS50aXRsZXx8dGhpcy5zdGF0ZS5kZXNjcmlwdGlvbj90aGlzLnNob3coKTp0aGlzLmhpZGUoKX11cGRhdGUoZSl7dGhpcy5zZXRTdGF0ZShlKX1kaXNwb3NlKCl7dmFyIGU9dGhpcy5wbGF5ZXJfLnRlY2hfLGU9ZSYmZS5lbF87ZSYmKGUucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1sYWJlbGxlZGJ5XCIpLGUucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1kZXNjcmliZWRieVwiKSksc3VwZXIuZGlzcG9zZSgpLHRoaXMuZWxzPW51bGx9fWYucmVnaXN0ZXJDb21wb25lbnQoXCJUaXRsZUJhclwiLFZyKTtmdW5jdGlvbiAkcihpKXtjb25zdCBzPWkuZWwoKTtpZighcy5yZXNldFNvdXJjZVdhdGNoXyl7Y29uc3QgdD17fSxlPUtyKGkpLHI9dD0+KC4uLmUpPT57ZT10LmFwcGx5KHMsZSk7cmV0dXJuIEdyKGkpLGV9O1tcImFwcGVuZFwiLFwiYXBwZW5kQ2hpbGRcIixcImluc2VydEFkamFjZW50SFRNTFwiXS5mb3JFYWNoKGU9PntzW2VdJiYodFtlXT1zW2VdLHNbZV09cih0W2VdKSl9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkocyxcImlubmVySFRNTFwiLGgoZSx7c2V0OnIoZS5zZXQpfSkpLHMucmVzZXRTb3VyY2VXYXRjaF89KCk9PntzLnJlc2V0U291cmNlV2F0Y2hfPW51bGwsT2JqZWN0LmtleXModCkuZm9yRWFjaChlPT57c1tlXT10W2VdfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHMsXCJpbm5lckhUTUxcIixlKX0saS5vbmUoXCJzb3VyY2VzZXRcIixzLnJlc2V0U291cmNlV2F0Y2hfKX19ZnVuY3Rpb24gV3IoaSl7aWYoaS5mZWF0dXJlc1NvdXJjZXNldCl7Y29uc3Qgcz1pLmVsKCk7aWYoIXMucmVzZXRTb3VyY2VzZXRfKXtlPWk7Y29uc3QgdD1YcihbZS5lbCgpLHdpbmRvdy5IVE1MTWVkaWFFbGVtZW50LnByb3RvdHlwZSxZcl0sXCJzcmNcIik7dmFyIGU7Y29uc3Qgcj1zLnNldEF0dHJpYnV0ZSxuPXMubG9hZDtPYmplY3QuZGVmaW5lUHJvcGVydHkocyxcInNyY1wiLGgodCx7c2V0OmU9PntlPXQuc2V0LmNhbGwocyxlKTtyZXR1cm4gaS50cmlnZ2VyU291cmNlc2V0KHMuc3JjKSxlfX0pKSxzLnNldEF0dHJpYnV0ZT0oZSx0KT0+e3Q9ci5jYWxsKHMsZSx0KTtyZXR1cm4vc3JjL2kudGVzdChlKSYmaS50cmlnZ2VyU291cmNlc2V0KHMuc3JjKSx0fSxzLmxvYWQ9KCk9Pnt2YXIgZT1uLmNhbGwocyk7cmV0dXJuIEdyKGkpfHwoaS50cmlnZ2VyU291cmNlc2V0KFwiXCIpLCRyKGkpKSxlfSxzLmN1cnJlbnRTcmM/aS50cmlnZ2VyU291cmNlc2V0KHMuY3VycmVudFNyYyk6R3IoaSl8fCRyKGkpLHMucmVzZXRTb3VyY2VzZXRfPSgpPT57cy5yZXNldFNvdXJjZXNldF89bnVsbCxzLmxvYWQ9bixzLnNldEF0dHJpYnV0ZT1yLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzLFwic3JjXCIsdCkscy5yZXNldFNvdXJjZVdhdGNoXyYmcy5yZXNldFNvdXJjZVdhdGNoXygpfX19fWNvbnN0IEdyPXQ9Pnt2YXIgZT10LmVsKCk7aWYoZS5oYXNBdHRyaWJ1dGUoXCJzcmNcIikpdC50cmlnZ2VyU291cmNlc2V0KGUuc3JjKTtlbHNle3ZhciBpPXQuJCQoXCJzb3VyY2VcIikscz1bXTtsZXQgZT1cIlwiO2lmKCFpLmxlbmd0aClyZXR1cm4hMTtmb3IobGV0IGU9MDtlPGkubGVuZ3RoO2UrKyl7dmFyIHI9aVtlXS5zcmM7ciYmLTE9PT1zLmluZGV4T2YocikmJnMucHVzaChyKX1pZighcy5sZW5ndGgpcmV0dXJuITE7MT09PXMubGVuZ3RoJiYoZT1zWzBdKSx0LnRyaWdnZXJTb3VyY2VzZXQoZSl9cmV0dXJuITB9LHpyPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSxcImlubmVySFRNTFwiLHtnZXQoKXtyZXR1cm4gdGhpcy5jbG9uZU5vZGUoITApLmlubmVySFRNTH0sc2V0KGUpe2Zvcih2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KHRoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKSksaT0odC5pbm5lckhUTUw9ZSxkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkpO3QuY2hpbGROb2Rlcy5sZW5ndGg7KWkuYXBwZW5kQ2hpbGQodC5jaGlsZE5vZGVzWzBdKTtyZXR1cm4gdGhpcy5pbm5lclRleHQ9XCJcIix3aW5kb3cuRWxlbWVudC5wcm90b3R5cGUuYXBwZW5kQ2hpbGQuY2FsbCh0aGlzLGkpLHRoaXMuaW5uZXJIVE1MfX0pLFhyPSh0LGkpPT57bGV0IHM9e307Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aCYmISgocz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRbZV0saSkpJiZzLnNldCYmcy5nZXQpO2UrKyk7cmV0dXJuIHMuZW51bWVyYWJsZT0hMCxzLmNvbmZpZ3VyYWJsZT0hMCxzfSxLcj1lPT5YcihbZS5lbCgpLHdpbmRvdy5IVE1MTWVkaWFFbGVtZW50LnByb3RvdHlwZSx3aW5kb3cuRWxlbWVudC5wcm90b3R5cGUsenJdLFwiaW5uZXJIVE1MXCIpLFlyPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSxcInNyY1wiLHtnZXQoKXtyZXR1cm4gdGhpcy5oYXNBdHRyaWJ1dGUoXCJzcmNcIik/ZGkod2luZG93LkVsZW1lbnQucHJvdG90eXBlLmdldEF0dHJpYnV0ZS5jYWxsKHRoaXMsXCJzcmNcIikpOlwiXCJ9LHNldChlKXtyZXR1cm4gd2luZG93LkVsZW1lbnQucHJvdG90eXBlLnNldEF0dHJpYnV0ZS5jYWxsKHRoaXMsXCJzcmNcIixlKSxlfX0pO2NsYXNzIHYgZXh0ZW5kcyBfe2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KTt0PWUuc291cmNlO2xldCBpPSExO2lmKHRoaXMuZmVhdHVyZXNWaWRlb0ZyYW1lQ2FsbGJhY2s9dGhpcy5mZWF0dXJlc1ZpZGVvRnJhbWVDYWxsYmFjayYmXCJWSURFT1wiPT09dGhpcy5lbF8udGFnTmFtZSx0JiYodGhpcy5lbF8uY3VycmVudFNyYyE9PXQuc3JjfHxlLnRhZyYmMz09PWUudGFnLmluaXROZXR3b3JrU3RhdGVfKT90aGlzLnNldFNvdXJjZSh0KTp0aGlzLmhhbmRsZUxhdGVJbml0Xyh0aGlzLmVsXyksZS5lbmFibGVTb3VyY2VzZXQmJnRoaXMuc2V0dXBTb3VyY2VzZXRIYW5kbGluZ18oKSx0aGlzLmlzU2NydWJiaW5nXz0hMSx0aGlzLmVsXy5oYXNDaGlsZE5vZGVzKCkpe3ZhciBzPXRoaXMuZWxfLmNoaWxkTm9kZXM7bGV0IGU9cy5sZW5ndGg7Zm9yKHZhciByPVtdO2UtLTspe3ZhciBuPXNbZV07XCJ0cmFja1wiPT09bi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiYodGhpcy5mZWF0dXJlc05hdGl2ZVRleHRUcmFja3M/KHRoaXMucmVtb3RlVGV4dFRyYWNrRWxzKCkuYWRkVHJhY2tFbGVtZW50XyhuKSx0aGlzLnJlbW90ZVRleHRUcmFja3MoKS5hZGRUcmFjayhuLnRyYWNrKSx0aGlzLnRleHRUcmFja3MoKS5hZGRUcmFjayhuLnRyYWNrKSxpfHx0aGlzLmVsXy5oYXNBdHRyaWJ1dGUoXCJjcm9zc29yaWdpblwiKXx8IWhpKG4uc3JjKXx8KGk9ITApKTpyLnB1c2gobikpfWZvcihsZXQgZT0wO2U8ci5sZW5ndGg7ZSsrKXRoaXMuZWxfLnJlbW92ZUNoaWxkKHJbZV0pfXRoaXMucHJveHlOYXRpdmVUcmFja3NfKCksdGhpcy5mZWF0dXJlc05hdGl2ZVRleHRUcmFja3MmJmkmJmQud2FybihcIlRleHQgVHJhY2tzIGFyZSBiZWluZyBsb2FkZWQgZnJvbSBhbm90aGVyIG9yaWdpbiBidXQgdGhlIGNyb3Nzb3JpZ2luIGF0dHJpYnV0ZSBpc24ndCB1c2VkLlxcblRoaXMgbWF5IHByZXZlbnQgdGV4dCB0cmFja3MgZnJvbSBsb2FkaW5nLlwiKSx0aGlzLnJlc3RvcmVNZXRhZGF0YVRyYWNrc0luSU9TTmF0aXZlUGxheWVyXygpLChtZXx8cGUpJiYhMD09PWUubmF0aXZlQ29udHJvbHNGb3JUb3VjaCYmdGhpcy5zZXRDb250cm9scyghMCksdGhpcy5wcm94eVdlYmtpdEZ1bGxzY3JlZW5fKCksdGhpcy50cmlnZ2VyUmVhZHkoKX1kaXNwb3NlKCl7dGhpcy5lbF8mJnRoaXMuZWxfLnJlc2V0U291cmNlc2V0XyYmdGhpcy5lbF8ucmVzZXRTb3VyY2VzZXRfKCksdi5kaXNwb3NlTWVkaWFFbGVtZW50KHRoaXMuZWxfKSx0aGlzLm9wdGlvbnNfPW51bGwsc3VwZXIuZGlzcG9zZSgpfXNldHVwU291cmNlc2V0SGFuZGxpbmdfKCl7V3IodGhpcyl9cmVzdG9yZU1ldGFkYXRhVHJhY2tzSW5JT1NOYXRpdmVQbGF5ZXJfKCl7Y29uc3QgaT10aGlzLnRleHRUcmFja3MoKTtsZXQgcztjb25zdCBlPSgpPT57cz1bXTtmb3IobGV0IGU9MDtlPGkubGVuZ3RoO2UrKyl7dmFyIHQ9aVtlXTtcIm1ldGFkYXRhXCI9PT10LmtpbmQmJnMucHVzaCh7dHJhY2s6dCxzdG9yZWRNb2RlOnQubW9kZX0pfX0scj0oZSgpLGkuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLGUpLHRoaXMub24oXCJkaXNwb3NlXCIsKCk9PmkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLGUpKSwoKT0+e2ZvcihsZXQgZT0wO2U8cy5sZW5ndGg7ZSsrKXt2YXIgdD1zW2VdO1wiZGlzYWJsZWRcIj09PXQudHJhY2subW9kZSYmdC50cmFjay5tb2RlIT09dC5zdG9yZWRNb2RlJiYodC50cmFjay5tb2RlPXQuc3RvcmVkTW9kZSl9aS5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIscil9KTt0aGlzLm9uKFwid2Via2l0YmVnaW5mdWxsc2NyZWVuXCIsKCk9PntpLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIixlKSxpLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIixyKSxpLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIixyKX0pLHRoaXMub24oXCJ3ZWJraXRlbmRmdWxsc2NyZWVuXCIsKCk9PntpLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIixlKSxpLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIixlKSxpLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIixyKX0pfW92ZXJyaWRlTmF0aXZlXyhlLHQpe2lmKHQ9PT10aGlzW2BmZWF0dXJlc05hdGl2ZSR7ZX1UcmFja3NgXSl7Y29uc3QgaT1lLnRvTG93ZXJDYXNlKCk7dGhpc1tpK1wiVHJhY2tzTGlzdGVuZXJzX1wiXSYmT2JqZWN0LmtleXModGhpc1tpK1wiVHJhY2tzTGlzdGVuZXJzX1wiXSkuZm9yRWFjaChlPT57dGhpcy5lbCgpW2krXCJUcmFja3NcIl0ucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLHRoaXNbaStcIlRyYWNrc0xpc3RlbmVyc19cIl1bZV0pfSksdGhpc1tgZmVhdHVyZXNOYXRpdmUke2V9VHJhY2tzYF09IXQsdGhpc1tpK1wiVHJhY2tzTGlzdGVuZXJzX1wiXT1udWxsLHRoaXMucHJveHlOYXRpdmVUcmFja3NGb3JUeXBlXyhpKX19b3ZlcnJpZGVOYXRpdmVBdWRpb1RyYWNrcyhlKXt0aGlzLm92ZXJyaWRlTmF0aXZlXyhcIkF1ZGlvXCIsZSl9b3ZlcnJpZGVOYXRpdmVWaWRlb1RyYWNrcyhlKXt0aGlzLm92ZXJyaWRlTmF0aXZlXyhcIlZpZGVvXCIsZSl9cHJveHlOYXRpdmVUcmFja3NGb3JUeXBlXyhpKXt2YXIgZT1EaVtpXTtjb25zdCBzPXRoaXMuZWwoKVtlLmdldHRlck5hbWVdLHI9dGhpc1tlLmdldHRlck5hbWVdKCk7aWYodGhpc1tgZmVhdHVyZXNOYXRpdmUke2UuY2FwaXRhbE5hbWV9VHJhY2tzYF0mJnMmJnMuYWRkRXZlbnRMaXN0ZW5lcil7Y29uc3Qgbj17Y2hhbmdlOmU9Pnt2YXIgdD17dHlwZTpcImNoYW5nZVwiLHRhcmdldDpyLGN1cnJlbnRUYXJnZXQ6cixzcmNFbGVtZW50OnJ9O3IudHJpZ2dlcih0KSxcInRleHRcIj09PWkmJnRoaXNbTmkucmVtb3RlVGV4dC5nZXR0ZXJOYW1lXSgpLnRyaWdnZXIodCl9LGFkZHRyYWNrKGUpe3IuYWRkVHJhY2soZS50cmFjayl9LHJlbW92ZXRyYWNrKGUpe3IucmVtb3ZlVHJhY2soZS50cmFjayl9fSx0PWZ1bmN0aW9uKCl7dmFyIGU9W107Zm9yKGxldCBpPTA7aTxyLmxlbmd0aDtpKyspe2xldCB0PSExO2ZvcihsZXQgZT0wO2U8cy5sZW5ndGg7ZSsrKWlmKHNbZV09PT1yW2ldKXt0PSEwO2JyZWFrfXR8fGUucHVzaChyW2ldKX1mb3IoO2UubGVuZ3RoOylyLnJlbW92ZVRyYWNrKGUuc2hpZnQoKSl9O3RoaXNbZS5nZXR0ZXJOYW1lK1wiTGlzdGVuZXJzX1wiXT1uLE9iamVjdC5rZXlzKG4pLmZvckVhY2godD0+e2NvbnN0IGk9blt0XTtzLmFkZEV2ZW50TGlzdGVuZXIodCxpKSx0aGlzLm9uKFwiZGlzcG9zZVwiLGU9PnMucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LGkpKX0pLHRoaXMub24oXCJsb2Fkc3RhcnRcIix0KSx0aGlzLm9uKFwiZGlzcG9zZVwiLGU9PnRoaXMub2ZmKFwibG9hZHN0YXJ0XCIsdCkpfX1wcm94eU5hdGl2ZVRyYWNrc18oKXtEaS5uYW1lcy5mb3JFYWNoKGU9Pnt0aGlzLnByb3h5TmF0aXZlVHJhY2tzRm9yVHlwZV8oZSl9KX1jcmVhdGVFbCgpe2xldCB0PXRoaXMub3B0aW9uc18udGFnO3QmJih0aGlzLm9wdGlvbnNfLnBsYXllckVsSW5nZXN0fHx0aGlzLm1vdmluZ01lZGlhRWxlbWVudEluRE9NKXx8KHQ/KGU9dC5jbG9uZU5vZGUoITApLHQucGFyZW50Tm9kZSYmdC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShlLHQpLHYuZGlzcG9zZU1lZGlhRWxlbWVudCh0KSx0PWUpOih0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ2aWRlb1wiKSxlPWgoe30sdGhpcy5vcHRpb25zXy50YWcmJkFlKHRoaXMub3B0aW9uc18udGFnKSksbWUmJiEwPT09dGhpcy5vcHRpb25zXy5uYXRpdmVDb250cm9sc0ZvclRvdWNofHxkZWxldGUgZS5jb250cm9scyx4ZSh0LE9iamVjdC5hc3NpZ24oZSx7aWQ6dGhpcy5vcHRpb25zXy50ZWNoSWQsY2xhc3M6XCJ2anMtdGVjaFwifSkpKSx0LnBsYXllcklkPXRoaXMub3B0aW9uc18ucGxheWVySWQpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0aGlzLm9wdGlvbnNfLnByZWxvYWQmJkxlKHQsXCJwcmVsb2FkXCIsdGhpcy5vcHRpb25zXy5wcmVsb2FkKSx2b2lkIDAhPT10aGlzLm9wdGlvbnNfLmRpc2FibGVQaWN0dXJlSW5QaWN0dXJlJiYodC5kaXNhYmxlUGljdHVyZUluUGljdHVyZT10aGlzLm9wdGlvbnNfLmRpc2FibGVQaWN0dXJlSW5QaWN0dXJlKTt2YXIgZSxpPVtcImxvb3BcIixcIm11dGVkXCIsXCJwbGF5c2lubGluZVwiLFwiYXV0b3BsYXlcIl07Zm9yKGxldCBlPTA7ZTxpLmxlbmd0aDtlKyspe3ZhciBzPWlbZV0scj10aGlzLm9wdGlvbnNfW3NdO1widW5kZWZpbmVkXCIhPXR5cGVvZiByJiYocj9MZSh0LHMscyk6T2UodCxzKSx0W3NdPXIpfXJldHVybiB0fWhhbmRsZUxhdGVJbml0XyhlKXtpZigwIT09ZS5uZXR3b3JrU3RhdGUmJjMhPT1lLm5ldHdvcmtTdGF0ZSlpZigwPT09ZS5yZWFkeVN0YXRlKXtsZXQgZT0hMTtjb25zdCB0PWZ1bmN0aW9uKCl7ZT0hMH0saT0odGhpcy5vbihcImxvYWRzdGFydFwiLHQpLGZ1bmN0aW9uKCl7ZXx8dGhpcy50cmlnZ2VyKFwibG9hZHN0YXJ0XCIpfSk7dGhpcy5vbihcImxvYWRlZG1ldGFkYXRhXCIsaSksdm9pZCB0aGlzLnJlYWR5KGZ1bmN0aW9uKCl7dGhpcy5vZmYoXCJsb2Fkc3RhcnRcIix0KSx0aGlzLm9mZihcImxvYWRlZG1ldGFkYXRhXCIsaSksZXx8dGhpcy50cmlnZ2VyKFwibG9hZHN0YXJ0XCIpfSl9ZWxzZXtjb25zdCBzPVtcImxvYWRzdGFydFwiXTtzLnB1c2goXCJsb2FkZWRtZXRhZGF0YVwiKSwyPD1lLnJlYWR5U3RhdGUmJnMucHVzaChcImxvYWRlZGRhdGFcIiksMzw9ZS5yZWFkeVN0YXRlJiZzLnB1c2goXCJjYW5wbGF5XCIpLDQ8PWUucmVhZHlTdGF0ZSYmcy5wdXNoKFwiY2FucGxheXRocm91Z2hcIiksdGhpcy5yZWFkeShmdW5jdGlvbigpe3MuZm9yRWFjaChmdW5jdGlvbihlKXt0aGlzLnRyaWdnZXIoZSl9LHRoaXMpfSl9fXNldFNjcnViYmluZyhlKXt0aGlzLmlzU2NydWJiaW5nXz1lfXNjcnViYmluZygpe3JldHVybiB0aGlzLmlzU2NydWJiaW5nX31zZXRDdXJyZW50VGltZShlKXt0cnl7dGhpcy5pc1NjcnViYmluZ18mJnRoaXMuZWxfLmZhc3RTZWVrJiZmZT90aGlzLmVsXy5mYXN0U2VlayhlKTp0aGlzLmVsXy5jdXJyZW50VGltZT1lfWNhdGNoKGUpe2QoZSxcIlZpZGVvIGlzIG5vdCByZWFkeS4gKFZpZGVvLmpzKVwiKX19ZHVyYXRpb24oKXtpZih0aGlzLmVsXy5kdXJhdGlvbj09PTEvMCYmdGUmJmFlJiYwPT09dGhpcy5lbF8uY3VycmVudFRpbWUpe2NvbnN0IGU9KCk9PnswPHRoaXMuZWxfLmN1cnJlbnRUaW1lJiYodGhpcy5lbF8uZHVyYXRpb249PT0xLzAmJnRoaXMudHJpZ2dlcihcImR1cmF0aW9uY2hhbmdlXCIpLHRoaXMub2ZmKFwidGltZXVwZGF0ZVwiLGUpKX07cmV0dXJuIHRoaXMub24oXCJ0aW1ldXBkYXRlXCIsZSksTmFOfXJldHVybiB0aGlzLmVsXy5kdXJhdGlvbnx8TmFOfXdpZHRoKCl7cmV0dXJuIHRoaXMuZWxfLm9mZnNldFdpZHRofWhlaWdodCgpe3JldHVybiB0aGlzLmVsXy5vZmZzZXRIZWlnaHR9cHJveHlXZWJraXRGdWxsc2NyZWVuXygpe2lmKFwid2Via2l0RGlzcGxheWluZ0Z1bGxzY3JlZW5cImluIHRoaXMuZWxfKXtjb25zdCBlPWZ1bmN0aW9uKCl7dGhpcy50cmlnZ2VyKFwiZnVsbHNjcmVlbmNoYW5nZVwiLHtpc0Z1bGxzY3JlZW46ITF9KSx0aGlzLmVsXy5jb250cm9scyYmIXRoaXMub3B0aW9uc18ubmF0aXZlQ29udHJvbHNGb3JUb3VjaCYmdGhpcy5jb250cm9scygpJiYodGhpcy5lbF8uY29udHJvbHM9ITEpfSx0PWZ1bmN0aW9uKCl7XCJ3ZWJraXRQcmVzZW50YXRpb25Nb2RlXCJpbiB0aGlzLmVsXyYmXCJwaWN0dXJlLWluLXBpY3R1cmVcIiE9PXRoaXMuZWxfLndlYmtpdFByZXNlbnRhdGlvbk1vZGUmJih0aGlzLm9uZShcIndlYmtpdGVuZGZ1bGxzY3JlZW5cIixlKSx0aGlzLnRyaWdnZXIoXCJmdWxsc2NyZWVuY2hhbmdlXCIse2lzRnVsbHNjcmVlbjohMCxuYXRpdmVJT1NGdWxsc2NyZWVuOiEwfSkpfTt0aGlzLm9uKFwid2Via2l0YmVnaW5mdWxsc2NyZWVuXCIsdCksdGhpcy5vbihcImRpc3Bvc2VcIiwoKT0+e3RoaXMub2ZmKFwid2Via2l0YmVnaW5mdWxsc2NyZWVuXCIsdCksdGhpcy5vZmYoXCJ3ZWJraXRlbmRmdWxsc2NyZWVuXCIsZSl9KX19c3VwcG9ydHNGdWxsU2NyZWVuKCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5lbF8ud2Via2l0RW50ZXJGdWxsU2NyZWVufWVudGVyRnVsbFNjcmVlbigpe2NvbnN0IGU9dGhpcy5lbF87aWYoZS5wYXVzZWQmJmUubmV0d29ya1N0YXRlPD1lLkhBVkVfTUVUQURBVEEpR3QodGhpcy5lbF8ucGxheSgpKSx0aGlzLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtlLnBhdXNlKCk7dHJ5e2Uud2Via2l0RW50ZXJGdWxsU2NyZWVuKCl9Y2F0Y2goZSl7dGhpcy50cmlnZ2VyKFwiZnVsbHNjcmVlbmVycm9yXCIsZSl9fSwwKTtlbHNlIHRyeXtlLndlYmtpdEVudGVyRnVsbFNjcmVlbigpfWNhdGNoKGUpe3RoaXMudHJpZ2dlcihcImZ1bGxzY3JlZW5lcnJvclwiLGUpfX1leGl0RnVsbFNjcmVlbigpe3RoaXMuZWxfLndlYmtpdERpc3BsYXlpbmdGdWxsc2NyZWVuP3RoaXMuZWxfLndlYmtpdEV4aXRGdWxsU2NyZWVuKCk6dGhpcy50cmlnZ2VyKFwiZnVsbHNjcmVlbmVycm9yXCIsbmV3IEVycm9yKFwiVGhlIHZpZGVvIGlzIG5vdCBmdWxsc2NyZWVuXCIpKX1yZXF1ZXN0UGljdHVyZUluUGljdHVyZSgpe3JldHVybiB0aGlzLmVsXy5yZXF1ZXN0UGljdHVyZUluUGljdHVyZSgpfXJlcXVlc3RWaWRlb0ZyYW1lQ2FsbGJhY2soZSl7cmV0dXJuIHRoaXMuZmVhdHVyZXNWaWRlb0ZyYW1lQ2FsbGJhY2smJiF0aGlzLmVsXy53ZWJraXRLZXlzP3RoaXMuZWxfLnJlcXVlc3RWaWRlb0ZyYW1lQ2FsbGJhY2soZSk6c3VwZXIucmVxdWVzdFZpZGVvRnJhbWVDYWxsYmFjayhlKX1jYW5jZWxWaWRlb0ZyYW1lQ2FsbGJhY2soZSl7dGhpcy5mZWF0dXJlc1ZpZGVvRnJhbWVDYWxsYmFjayYmIXRoaXMuZWxfLndlYmtpdEtleXM/dGhpcy5lbF8uY2FuY2VsVmlkZW9GcmFtZUNhbGxiYWNrKGUpOnN1cGVyLmNhbmNlbFZpZGVvRnJhbWVDYWxsYmFjayhlKX1zcmMoZSl7aWYodm9pZCAwPT09ZSlyZXR1cm4gdGhpcy5lbF8uc3JjO3RoaXMuc2V0U3JjKGUpfXJlc2V0KCl7di5yZXNldE1lZGlhRWxlbWVudCh0aGlzLmVsXyl9Y3VycmVudFNyYygpe3JldHVybiB0aGlzLmN1cnJlbnRTb3VyY2VfP3RoaXMuY3VycmVudFNvdXJjZV8uc3JjOnRoaXMuZWxfLmN1cnJlbnRTcmN9c2V0Q29udHJvbHMoZSl7dGhpcy5lbF8uY29udHJvbHM9ISFlfWFkZFRleHRUcmFjayhlLHQsaSl7cmV0dXJuIHRoaXMuZmVhdHVyZXNOYXRpdmVUZXh0VHJhY2tzP3RoaXMuZWxfLmFkZFRleHRUcmFjayhlLHQsaSk6c3VwZXIuYWRkVGV4dFRyYWNrKGUsdCxpKX1jcmVhdGVSZW1vdGVUZXh0VHJhY2soZSl7dmFyIHQ7cmV0dXJuIHRoaXMuZmVhdHVyZXNOYXRpdmVUZXh0VHJhY2tzPyh0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0cmFja1wiKSxlLmtpbmQmJih0LmtpbmQ9ZS5raW5kKSxlLmxhYmVsJiYodC5sYWJlbD1lLmxhYmVsKSwoZS5sYW5ndWFnZXx8ZS5zcmNsYW5nKSYmKHQuc3JjbGFuZz1lLmxhbmd1YWdlfHxlLnNyY2xhbmcpLGUuZGVmYXVsdCYmKHQuZGVmYXVsdD1lLmRlZmF1bHQpLGUuaWQmJih0LmlkPWUuaWQpLGUuc3JjJiYodC5zcmM9ZS5zcmMpLHQpOnN1cGVyLmNyZWF0ZVJlbW90ZVRleHRUcmFjayhlKX1hZGRSZW1vdGVUZXh0VHJhY2soZSx0KXtlPXN1cGVyLmFkZFJlbW90ZVRleHRUcmFjayhlLHQpO3JldHVybiB0aGlzLmZlYXR1cmVzTmF0aXZlVGV4dFRyYWNrcyYmdGhpcy5lbCgpLmFwcGVuZENoaWxkKGUpLGV9cmVtb3ZlUmVtb3RlVGV4dFRyYWNrKHQpe2lmKHN1cGVyLnJlbW92ZVJlbW90ZVRleHRUcmFjayh0KSx0aGlzLmZlYXR1cmVzTmF0aXZlVGV4dFRyYWNrcyl7dmFyIGk9dGhpcy4kJChcInRyYWNrXCIpO2xldCBlPWkubGVuZ3RoO2Zvcig7ZS0tOyl0IT09aVtlXSYmdCE9PWlbZV0udHJhY2t8fHRoaXMuZWwoKS5yZW1vdmVDaGlsZChpW2VdKX19Z2V0VmlkZW9QbGF5YmFja1F1YWxpdHkoKXt2YXIgZTtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLmVsKCkuZ2V0VmlkZW9QbGF5YmFja1F1YWxpdHk/dGhpcy5lbCgpLmdldFZpZGVvUGxheWJhY2tRdWFsaXR5KCk6KGU9e30sXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHRoaXMuZWwoKS53ZWJraXREcm9wcGVkRnJhbWVDb3VudCYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHRoaXMuZWwoKS53ZWJraXREZWNvZGVkRnJhbWVDb3VudCYmKGUuZHJvcHBlZFZpZGVvRnJhbWVzPXRoaXMuZWwoKS53ZWJraXREcm9wcGVkRnJhbWVDb3VudCxlLnRvdGFsVmlkZW9GcmFtZXM9dGhpcy5lbCgpLndlYmtpdERlY29kZWRGcmFtZUNvdW50KSx3aW5kb3cucGVyZm9ybWFuY2UmJihlLmNyZWF0aW9uVGltZT13aW5kb3cucGVyZm9ybWFuY2Uubm93KCkpLGUpfX1RKHYsXCJURVNUX1ZJRFwiLGZ1bmN0aW9uKCl7dmFyIGUsdDtpZihfZSgpKXJldHVybiBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ2aWRlb1wiKSwodD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJhY2tcIikpLmtpbmQ9XCJjYXB0aW9uc1wiLHQuc3JjbGFuZz1cImVuXCIsdC5sYWJlbD1cIkVuZ2xpc2hcIixlLmFwcGVuZENoaWxkKHQpLGV9KSx2LmlzU3VwcG9ydGVkPWZ1bmN0aW9uKCl7dHJ5e3YuVEVTVF9WSUQudm9sdW1lPS41fWNhdGNoKGUpe3JldHVybiExfXJldHVybiEoIXYuVEVTVF9WSUR8fCF2LlRFU1RfVklELmNhblBsYXlUeXBlKX0sdi5jYW5QbGF5VHlwZT1mdW5jdGlvbihlKXtyZXR1cm4gdi5URVNUX1ZJRC5jYW5QbGF5VHlwZShlKX0sdi5jYW5QbGF5U291cmNlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHYuY2FuUGxheVR5cGUoZS50eXBlKX0sdi5jYW5Db250cm9sVm9sdW1lPWZ1bmN0aW9uKCl7dHJ5e2NvbnN0IHQ9di5URVNUX1ZJRC52b2x1bWU7di5URVNUX1ZJRC52b2x1bWU9dC8yKy4xO3ZhciBlPXQhPT12LlRFU1RfVklELnZvbHVtZTtyZXR1cm4gZSYmdT8od2luZG93LnNldFRpbWVvdXQoKCk9Pnt2JiZ2LnByb3RvdHlwZSYmKHYucHJvdG90eXBlLmZlYXR1cmVzVm9sdW1lQ29udHJvbD10IT09di5URVNUX1ZJRC52b2x1bWUpfSksITEpOmV9Y2F0Y2goZSl7cmV0dXJuITF9fSx2LmNhbk11dGVWb2x1bWU9ZnVuY3Rpb24oKXt0cnl7dmFyIGU9di5URVNUX1ZJRC5tdXRlZDtyZXR1cm4gdi5URVNUX1ZJRC5tdXRlZD0hZSx2LlRFU1RfVklELm11dGVkP0xlKHYuVEVTVF9WSUQsXCJtdXRlZFwiLFwibXV0ZWRcIik6T2Uodi5URVNUX1ZJRCxcIm11dGVkXCIpLGUhPT12LlRFU1RfVklELm11dGVkfWNhdGNoKGUpe3JldHVybiExfX0sdi5jYW5Db250cm9sUGxheWJhY2tSYXRlPWZ1bmN0aW9uKCl7aWYodGUmJmFlJiZsZTw1OClyZXR1cm4hMTt0cnl7dmFyIGU9di5URVNUX1ZJRC5wbGF5YmFja1JhdGU7cmV0dXJuIHYuVEVTVF9WSUQucGxheWJhY2tSYXRlPWUvMisuMSxlIT09di5URVNUX1ZJRC5wbGF5YmFja1JhdGV9Y2F0Y2goZSl7cmV0dXJuITF9fSx2LmNhbk92ZXJyaWRlQXR0cmlidXRlcz1mdW5jdGlvbigpe3RyeXt2YXIgZT0oKT0+e307T2JqZWN0LmRlZmluZVByb3BlcnR5KGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ2aWRlb1wiKSxcInNyY1wiLHtnZXQ6ZSxzZXQ6ZX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYXVkaW9cIiksXCJzcmNcIix7Z2V0OmUsc2V0OmV9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInZpZGVvXCIpLFwiaW5uZXJIVE1MXCIse2dldDplLHNldDplfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhdWRpb1wiKSxcImlubmVySFRNTFwiLHtnZXQ6ZSxzZXQ6ZX0pfWNhdGNoKGUpe3JldHVybiExfXJldHVybiEwfSx2LnN1cHBvcnRzTmF0aXZlVGV4dFRyYWNrcz1mdW5jdGlvbigpe3JldHVybiBmZXx8dSYmYWV9LHYuc3VwcG9ydHNOYXRpdmVWaWRlb1RyYWNrcz1mdW5jdGlvbigpe3JldHVybiEoIXYuVEVTVF9WSUR8fCF2LlRFU1RfVklELnZpZGVvVHJhY2tzKX0sdi5zdXBwb3J0c05hdGl2ZUF1ZGlvVHJhY2tzPWZ1bmN0aW9uKCl7cmV0dXJuISghdi5URVNUX1ZJRHx8IXYuVEVTVF9WSUQuYXVkaW9UcmFja3MpfSx2LkV2ZW50cz1bXCJsb2Fkc3RhcnRcIixcInN1c3BlbmRcIixcImFib3J0XCIsXCJlcnJvclwiLFwiZW1wdGllZFwiLFwic3RhbGxlZFwiLFwibG9hZGVkbWV0YWRhdGFcIixcImxvYWRlZGRhdGFcIixcImNhbnBsYXlcIixcImNhbnBsYXl0aHJvdWdoXCIsXCJwbGF5aW5nXCIsXCJ3YWl0aW5nXCIsXCJzZWVraW5nXCIsXCJzZWVrZWRcIixcImVuZGVkXCIsXCJkdXJhdGlvbmNoYW5nZVwiLFwidGltZXVwZGF0ZVwiLFwicHJvZ3Jlc3NcIixcInBsYXlcIixcInBhdXNlXCIsXCJyYXRlY2hhbmdlXCIsXCJyZXNpemVcIixcInZvbHVtZWNoYW5nZVwiXSxbW1wiZmVhdHVyZXNNdXRlQ29udHJvbFwiLFwiY2FuTXV0ZVZvbHVtZVwiXSxbXCJmZWF0dXJlc1BsYXliYWNrUmF0ZVwiLFwiY2FuQ29udHJvbFBsYXliYWNrUmF0ZVwiXSxbXCJmZWF0dXJlc1NvdXJjZXNldFwiLFwiY2FuT3ZlcnJpZGVBdHRyaWJ1dGVzXCJdLFtcImZlYXR1cmVzTmF0aXZlVGV4dFRyYWNrc1wiLFwic3VwcG9ydHNOYXRpdmVUZXh0VHJhY2tzXCJdLFtcImZlYXR1cmVzTmF0aXZlVmlkZW9UcmFja3NcIixcInN1cHBvcnRzTmF0aXZlVmlkZW9UcmFja3NcIl0sW1wiZmVhdHVyZXNOYXRpdmVBdWRpb1RyYWNrc1wiLFwic3VwcG9ydHNOYXRpdmVBdWRpb1RyYWNrc1wiXV0uZm9yRWFjaChmdW5jdGlvbihbZSx0XSl7USh2LnByb3RvdHlwZSxlLCgpPT52W3RdKCksITApfSksdi5wcm90b3R5cGUuZmVhdHVyZXNWb2x1bWVDb250cm9sPXYuY2FuQ29udHJvbFZvbHVtZSgpLHYucHJvdG90eXBlLm1vdmluZ01lZGlhRWxlbWVudEluRE9NPSF1LHYucHJvdG90eXBlLmZlYXR1cmVzRnVsbHNjcmVlblJlc2l6ZT0hMCx2LnByb3RvdHlwZS5mZWF0dXJlc1Byb2dyZXNzRXZlbnRzPSEwLHYucHJvdG90eXBlLmZlYXR1cmVzVGltZXVwZGF0ZUV2ZW50cz0hMCx2LnByb3RvdHlwZS5mZWF0dXJlc1ZpZGVvRnJhbWVDYWxsYmFjaz0hKCF2LlRFU1RfVklEfHwhdi5URVNUX1ZJRC5yZXF1ZXN0VmlkZW9GcmFtZUNhbGxiYWNrKSx2LmRpc3Bvc2VNZWRpYUVsZW1lbnQ9ZnVuY3Rpb24oZSl7aWYoZSl7Zm9yKGUucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpO2UuaGFzQ2hpbGROb2RlcygpOyllLnJlbW92ZUNoaWxkKGUuZmlyc3RDaGlsZCk7aWYoZS5yZW1vdmVBdHRyaWJ1dGUoXCJzcmNcIiksXCJmdW5jdGlvblwiPT10eXBlb2YgZS5sb2FkKXRyeXtlLmxvYWQoKX1jYXRjaChlKXt9fX0sdi5yZXNldE1lZGlhRWxlbWVudD1mdW5jdGlvbih0KXtpZih0KXt2YXIgaT10LnF1ZXJ5U2VsZWN0b3JBbGwoXCJzb3VyY2VcIik7bGV0IGU9aS5sZW5ndGg7Zm9yKDtlLS07KXQucmVtb3ZlQ2hpbGQoaVtlXSk7aWYodC5yZW1vdmVBdHRyaWJ1dGUoXCJzcmNcIiksXCJmdW5jdGlvblwiPT10eXBlb2YgdC5sb2FkKXRyeXt0LmxvYWQoKX1jYXRjaChlKXt9fX0sW1wibXV0ZWRcIixcImRlZmF1bHRNdXRlZFwiLFwiYXV0b3BsYXlcIixcImNvbnRyb2xzXCIsXCJsb29wXCIsXCJwbGF5c2lubGluZVwiXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3YucHJvdG90eXBlW2VdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxfW2VdfHx0aGlzLmVsXy5oYXNBdHRyaWJ1dGUoZSl9fSksW1wibXV0ZWRcIixcImRlZmF1bHRNdXRlZFwiLFwiYXV0b3BsYXlcIixcImxvb3BcIixcInBsYXlzaW5saW5lXCJdLmZvckVhY2goZnVuY3Rpb24odCl7di5wcm90b3R5cGVbXCJzZXRcIitnKHQpXT1mdW5jdGlvbihlKXsodGhpcy5lbF9bdF09ZSk/dGhpcy5lbF8uc2V0QXR0cmlidXRlKHQsdCk6dGhpcy5lbF8ucmVtb3ZlQXR0cmlidXRlKHQpfX0pLFtcInBhdXNlZFwiLFwiY3VycmVudFRpbWVcIixcImJ1ZmZlcmVkXCIsXCJ2b2x1bWVcIixcInBvc3RlclwiLFwicHJlbG9hZFwiLFwiZXJyb3JcIixcInNlZWtpbmdcIixcInNlZWthYmxlXCIsXCJlbmRlZFwiLFwicGxheWJhY2tSYXRlXCIsXCJkZWZhdWx0UGxheWJhY2tSYXRlXCIsXCJkaXNhYmxlUGljdHVyZUluUGljdHVyZVwiLFwicGxheWVkXCIsXCJuZXR3b3JrU3RhdGVcIixcInJlYWR5U3RhdGVcIixcInZpZGVvV2lkdGhcIixcInZpZGVvSGVpZ2h0XCIsXCJjcm9zc09yaWdpblwiXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3YucHJvdG90eXBlW2VdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxfW2VdfX0pLFtcInZvbHVtZVwiLFwic3JjXCIsXCJwb3N0ZXJcIixcInByZWxvYWRcIixcInBsYXliYWNrUmF0ZVwiLFwiZGVmYXVsdFBsYXliYWNrUmF0ZVwiLFwiZGlzYWJsZVBpY3R1cmVJblBpY3R1cmVcIixcImNyb3NzT3JpZ2luXCJdLmZvckVhY2goZnVuY3Rpb24odCl7di5wcm90b3R5cGVbXCJzZXRcIitnKHQpXT1mdW5jdGlvbihlKXt0aGlzLmVsX1t0XT1lfX0pLFtcInBhdXNlXCIsXCJsb2FkXCIsXCJwbGF5XCJdLmZvckVhY2goZnVuY3Rpb24oZSl7di5wcm90b3R5cGVbZV09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbF9bZV0oKX19KSxfLndpdGhTb3VyY2VIYW5kbGVycyh2KSx2Lm5hdGl2ZVNvdXJjZUhhbmRsZXI9e30sdi5uYXRpdmVTb3VyY2VIYW5kbGVyLmNhblBsYXlUeXBlPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gdi5URVNUX1ZJRC5jYW5QbGF5VHlwZShlKX1jYXRjaChlKXtyZXR1cm5cIlwifX0sdi5uYXRpdmVTb3VyY2VIYW5kbGVyLmNhbkhhbmRsZVNvdXJjZT1mdW5jdGlvbihlLHQpe3JldHVybiBlLnR5cGU/di5uYXRpdmVTb3VyY2VIYW5kbGVyLmNhblBsYXlUeXBlKGUudHlwZSk6ZS5zcmM/KGU9dWkoZS5zcmMpLHYubmF0aXZlU291cmNlSGFuZGxlci5jYW5QbGF5VHlwZShcInZpZGVvL1wiK2UpKTpcIlwifSx2Lm5hdGl2ZVNvdXJjZUhhbmRsZXIuaGFuZGxlU291cmNlPWZ1bmN0aW9uKGUsdCxpKXt0LnNldFNyYyhlLnNyYyl9LHYubmF0aXZlU291cmNlSGFuZGxlci5kaXNwb3NlPWZ1bmN0aW9uKCl7fSx2LnJlZ2lzdGVyU291cmNlSGFuZGxlcih2Lm5hdGl2ZVNvdXJjZUhhbmRsZXIpLF8ucmVnaXN0ZXJUZWNoKFwiSHRtbDVcIix2KTtjb25zdCBRcj1bXCJwcm9ncmVzc1wiLFwiYWJvcnRcIixcInN1c3BlbmRcIixcImVtcHRpZWRcIixcInN0YWxsZWRcIixcImxvYWRlZG1ldGFkYXRhXCIsXCJsb2FkZWRkYXRhXCIsXCJ0aW1ldXBkYXRlXCIsXCJyZXNpemVcIixcInZvbHVtZWNoYW5nZVwiLFwidGV4dHRyYWNrY2hhbmdlXCJdLEpyPXtjYW5wbGF5OlwiQ2FuUGxheVwiLGNhbnBsYXl0aHJvdWdoOlwiQ2FuUGxheVRocm91Z2hcIixwbGF5aW5nOlwiUGxheWluZ1wiLHNlZWtlZDpcIlNlZWtlZFwifSxacj1bXCJ0aW55XCIsXCJ4c21hbGxcIixcInNtYWxsXCIsXCJtZWRpdW1cIixcImxhcmdlXCIsXCJ4bGFyZ2VcIixcImh1Z2VcIl0sZW49e30sdG49KFpyLmZvckVhY2goZT0+e3ZhciB0PVwieFwiPT09ZS5jaGFyQXQoMCk/XCJ4LVwiK2Uuc3Vic3RyaW5nKDEpOmU7ZW5bZV09XCJ2anMtbGF5b3V0LVwiK3R9KSx7dGlueToyMTAseHNtYWxsOjMyMCxzbWFsbDo0MjUsbWVkaXVtOjc2OCxsYXJnZToxNDQwLHhsYXJnZToyNTYwLGh1Z2U6MS8wfSk7Y2xhc3MgYiBleHRlbmRzIGZ7Y29uc3RydWN0b3IoZSx0LGkpe2lmKGUuaWQ9ZS5pZHx8dC5pZHx8XCJ2anNfdmlkZW9fXCIrdHQrKywodD1PYmplY3QuYXNzaWduKGIuZ2V0VGFnU2V0dGluZ3MoZSksdCkpLmluaXRDaGlsZHJlbj0hMSx0LmNyZWF0ZUVsPSExLHQuZXZlbnRlZD0hMSx0LnJlcG9ydFRvdWNoQWN0aXZpdHk9ITEsdC5sYW5ndWFnZXx8KHM9ZS5jbG9zZXN0KFwiW2xhbmddXCIpKSYmKHQubGFuZ3VhZ2U9cy5nZXRBdHRyaWJ1dGUoXCJsYW5nXCIpKSxzdXBlcihudWxsLHQsaSksdGhpcy5ib3VuZERvY3VtZW50RnVsbHNjcmVlbkNoYW5nZV89ZT0+dGhpcy5kb2N1bWVudEZ1bGxzY3JlZW5DaGFuZ2VfKGUpLHRoaXMuYm91bmRGdWxsV2luZG93T25Fc2NLZXlfPWU9PnRoaXMuZnVsbFdpbmRvd09uRXNjS2V5KGUpLHRoaXMuYm91bmRVcGRhdGVTdHlsZUVsXz1lPT50aGlzLnVwZGF0ZVN0eWxlRWxfKGUpLHRoaXMuYm91bmRBcHBseUluaXRUaW1lXz1lPT50aGlzLmFwcGx5SW5pdFRpbWVfKGUpLHRoaXMuYm91bmRVcGRhdGVDdXJyZW50QnJlYWtwb2ludF89ZT0+dGhpcy51cGRhdGVDdXJyZW50QnJlYWtwb2ludF8oZSksdGhpcy5ib3VuZEhhbmRsZVRlY2hDbGlja189ZT0+dGhpcy5oYW5kbGVUZWNoQ2xpY2tfKGUpLHRoaXMuYm91bmRIYW5kbGVUZWNoRG91YmxlQ2xpY2tfPWU9PnRoaXMuaGFuZGxlVGVjaERvdWJsZUNsaWNrXyhlKSx0aGlzLmJvdW5kSGFuZGxlVGVjaFRvdWNoU3RhcnRfPWU9PnRoaXMuaGFuZGxlVGVjaFRvdWNoU3RhcnRfKGUpLHRoaXMuYm91bmRIYW5kbGVUZWNoVG91Y2hNb3ZlXz1lPT50aGlzLmhhbmRsZVRlY2hUb3VjaE1vdmVfKGUpLHRoaXMuYm91bmRIYW5kbGVUZWNoVG91Y2hFbmRfPWU9PnRoaXMuaGFuZGxlVGVjaFRvdWNoRW5kXyhlKSx0aGlzLmJvdW5kSGFuZGxlVGVjaFRhcF89ZT0+dGhpcy5oYW5kbGVUZWNoVGFwXyhlKSx0aGlzLmlzRnVsbHNjcmVlbl89ITEsdGhpcy5sb2c9Vyh0aGlzLmlkXyksdGhpcy5mc0FwaV89aix0aGlzLmlzUG9zdGVyRnJvbVRlY2hfPSExLHRoaXMucXVldWVkQ2FsbGJhY2tzXz1bXSx0aGlzLmlzUmVhZHlfPSExLHRoaXMuaGFzU3RhcnRlZF89ITEsdGhpcy51c2VyQWN0aXZlXz0hMSx0aGlzLmRlYnVnRW5hYmxlZF89ITEsdGhpcy5hdWRpb09ubHlNb2RlXz0hMSx0aGlzLmF1ZGlvUG9zdGVyTW9kZV89ITEsdGhpcy5hdWRpb09ubHlDYWNoZV89e3BsYXllckhlaWdodDpudWxsLGhpZGRlbkNoaWxkcmVuOltdfSwhdGhpcy5vcHRpb25zX3x8IXRoaXMub3B0aW9uc18udGVjaE9yZGVyfHwhdGhpcy5vcHRpb25zXy50ZWNoT3JkZXIubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIk5vIHRlY2hPcmRlciBzcGVjaWZpZWQuIERpZCB5b3Ugb3ZlcndyaXRlIHZpZGVvanMub3B0aW9ucyBpbnN0ZWFkIG9mIGp1c3QgY2hhbmdpbmcgdGhlIHByb3BlcnRpZXMgeW91IHdhbnQgdG8gb3ZlcnJpZGU/XCIpO2lmKHRoaXMudGFnPWUsdGhpcy50YWdBdHRyaWJ1dGVzPWUmJkFlKGUpLHRoaXMubGFuZ3VhZ2UodGhpcy5vcHRpb25zXy5sYW5ndWFnZSksdC5sYW5ndWFnZXMpe2NvbnN0IHI9e307T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModC5sYW5ndWFnZXMpLmZvckVhY2goZnVuY3Rpb24oZSl7cltlLnRvTG93ZXJDYXNlKCldPXQubGFuZ3VhZ2VzW2VdfSksdGhpcy5sYW5ndWFnZXNfPXJ9ZWxzZSB0aGlzLmxhbmd1YWdlc189Yi5wcm90b3R5cGUub3B0aW9uc18ubGFuZ3VhZ2VzO3RoaXMucmVzZXRDYWNoZV8oKSx0aGlzLnBvc3Rlcl89dC5wb3N0ZXJ8fFwiXCIsdGhpcy5jb250cm9sc189ISF0LmNvbnRyb2xzLGUuY29udHJvbHM9ITEsZS5yZW1vdmVBdHRyaWJ1dGUoXCJjb250cm9sc1wiKSx0aGlzLmNoYW5naW5nU3JjXz0hMSx0aGlzLnBsYXlDYWxsYmFja3NfPVtdLHRoaXMucGxheVRlcm1pbmF0ZWRRdWV1ZV89W10sZS5oYXNBdHRyaWJ1dGUoXCJhdXRvcGxheVwiKT90aGlzLmF1dG9wbGF5KCEwKTp0aGlzLmF1dG9wbGF5KHRoaXMub3B0aW9uc18uYXV0b3BsYXkpLHQucGx1Z2lucyYmT2JqZWN0LmtleXModC5wbHVnaW5zKS5mb3JFYWNoKGU9PntpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0aGlzW2VdKXRocm93IG5ldyBFcnJvcihgcGx1Z2luIFwiJHtlfVwiIGRvZXMgbm90IGV4aXN0YCl9KSx0aGlzLnNjcnViYmluZ189ITEsdGhpcy5lbF89dGhpcy5jcmVhdGVFbCgpLEN0KHRoaXMse2V2ZW50QnVzS2V5OlwiZWxfXCJ9KSx0aGlzLmZzQXBpXy5yZXF1ZXN0RnVsbHNjcmVlbiYmKG90KGRvY3VtZW50LHRoaXMuZnNBcGlfLmZ1bGxzY3JlZW5jaGFuZ2UsdGhpcy5ib3VuZERvY3VtZW50RnVsbHNjcmVlbkNoYW5nZV8pLHRoaXMub24odGhpcy5mc0FwaV8uZnVsbHNjcmVlbmNoYW5nZSx0aGlzLmJvdW5kRG9jdW1lbnRGdWxsc2NyZWVuQ2hhbmdlXykpLHRoaXMuZmx1aWRfJiZ0aGlzLm9uKFtcInBsYXllcnJlc2V0XCIsXCJyZXNpemVcIl0sdGhpcy5ib3VuZFVwZGF0ZVN0eWxlRWxfKTt2YXIgcz1oKHRoaXMub3B0aW9uc18pLGk9KHQucGx1Z2lucyYmT2JqZWN0LmtleXModC5wbHVnaW5zKS5mb3JFYWNoKGU9Pnt0aGlzW2VdKHQucGx1Z2luc1tlXSl9KSx0LmRlYnVnJiZ0aGlzLmRlYnVnKCEwKSx0aGlzLm9wdGlvbnNfLnBsYXllck9wdGlvbnM9cyx0aGlzLm1pZGRsZXdhcmVfPVtdLHRoaXMucGxheWJhY2tSYXRlcyh0LnBsYXliYWNrUmF0ZXMpLHRoaXMuaW5pdENoaWxkcmVuKCksdGhpcy5pc0F1ZGlvKFwiYXVkaW9cIj09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSksdGhpcy5jb250cm9scygpP3RoaXMuYWRkQ2xhc3MoXCJ2anMtY29udHJvbHMtZW5hYmxlZFwiKTp0aGlzLmFkZENsYXNzKFwidmpzLWNvbnRyb2xzLWRpc2FibGVkXCIpLHRoaXMuZWxfLnNldEF0dHJpYnV0ZShcInJvbGVcIixcInJlZ2lvblwiKSx0aGlzLmlzQXVkaW8oKT90aGlzLmVsXy5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsdGhpcy5sb2NhbGl6ZShcIkF1ZGlvIFBsYXllclwiKSk6dGhpcy5lbF8uc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLHRoaXMubG9jYWxpemUoXCJWaWRlbyBQbGF5ZXJcIikpLHRoaXMuaXNBdWRpbygpJiZ0aGlzLmFkZENsYXNzKFwidmpzLWF1ZGlvXCIpLG1lJiZ0aGlzLmFkZENsYXNzKFwidmpzLXRvdWNoLWVuYWJsZWRcIiksdXx8dGhpcy5hZGRDbGFzcyhcInZqcy13b3JraW5naG92ZXJcIiksYi5wbGF5ZXJzW3RoaXMuaWRfXT10aGlzLFIuc3BsaXQoXCIuXCIpWzBdKTt0aGlzLmFkZENsYXNzKFwidmpzLXZcIitpKSx0aGlzLnVzZXJBY3RpdmUoITApLHRoaXMucmVwb3J0VXNlckFjdGl2aXR5KCksdGhpcy5vbmUoXCJwbGF5XCIsZT0+dGhpcy5saXN0ZW5Gb3JVc2VyQWN0aXZpdHlfKGUpKSx0aGlzLm9uKFwia2V5ZG93blwiLGU9PnRoaXMuaGFuZGxlS2V5RG93bihlKSksdGhpcy5vbihcImxhbmd1YWdlY2hhbmdlXCIsZT0+dGhpcy5oYW5kbGVMYW5ndWFnZWNoYW5nZShlKSksdGhpcy5icmVha3BvaW50cyh0aGlzLm9wdGlvbnNfLmJyZWFrcG9pbnRzKSx0aGlzLnJlc3BvbnNpdmUodGhpcy5vcHRpb25zXy5yZXNwb25zaXZlKSx0aGlzLm9uKFwicmVhZHlcIiwoKT0+e3RoaXMuYXVkaW9Qb3N0ZXJNb2RlKHRoaXMub3B0aW9uc18uYXVkaW9Qb3N0ZXJNb2RlKSx0aGlzLmF1ZGlvT25seU1vZGUodGhpcy5vcHRpb25zXy5hdWRpb09ubHlNb2RlKX0pfWRpc3Bvc2UoKXt2YXIgZTt0aGlzLnRyaWdnZXIoXCJkaXNwb3NlXCIpLHRoaXMub2ZmKFwiZGlzcG9zZVwiKSxwKGRvY3VtZW50LHRoaXMuZnNBcGlfLmZ1bGxzY3JlZW5jaGFuZ2UsdGhpcy5ib3VuZERvY3VtZW50RnVsbHNjcmVlbkNoYW5nZV8pLHAoZG9jdW1lbnQsXCJrZXlkb3duXCIsdGhpcy5ib3VuZEZ1bGxXaW5kb3dPbkVzY0tleV8pLHRoaXMuc3R5bGVFbF8mJnRoaXMuc3R5bGVFbF8ucGFyZW50Tm9kZSYmKHRoaXMuc3R5bGVFbF8ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnN0eWxlRWxfKSx0aGlzLnN0eWxlRWxfPW51bGwpLGIucGxheWVyc1t0aGlzLmlkX109bnVsbCx0aGlzLnRhZyYmdGhpcy50YWcucGxheWVyJiYodGhpcy50YWcucGxheWVyPW51bGwpLHRoaXMuZWxfJiZ0aGlzLmVsXy5wbGF5ZXImJih0aGlzLmVsXy5wbGF5ZXI9bnVsbCksdGhpcy50ZWNoXyYmKHRoaXMudGVjaF8uZGlzcG9zZSgpLHRoaXMuaXNQb3N0ZXJGcm9tVGVjaF89ITEsdGhpcy5wb3N0ZXJfPVwiXCIpLHRoaXMucGxheWVyRWxJbmdlc3RfJiYodGhpcy5wbGF5ZXJFbEluZ2VzdF89bnVsbCksdGhpcy50YWcmJih0aGlzLnRhZz1udWxsKSxlPXRoaXMsdXNbZS5pZCgpXT1udWxsLGEubmFtZXMuZm9yRWFjaChlPT57ZT10aGlzW2FbZV0uZ2V0dGVyTmFtZV0oKTtlJiZlLm9mZiYmZS5vZmYoKX0pLHN1cGVyLmRpc3Bvc2Uoe3Jlc3RvcmVFbDp0aGlzLm9wdGlvbnNfLnJlc3RvcmVFbH0pfWNyZWF0ZUVsKCl7bGV0IHQ9dGhpcy50YWcsaSxlPXRoaXMucGxheWVyRWxJbmdlc3RfPXQucGFyZW50Tm9kZSYmdC5wYXJlbnROb2RlLmhhc0F0dHJpYnV0ZSYmdC5wYXJlbnROb2RlLmhhc0F0dHJpYnV0ZShcImRhdGEtdmpzLXBsYXllclwiKTtjb25zdCBzPVwidmlkZW8tanNcIj09PXRoaXMudGFnLnRhZ05hbWUudG9Mb3dlckNhc2UoKSxyPShlP2k9dGhpcy5lbF89dC5wYXJlbnROb2RlOnN8fChpPXRoaXMuZWxfPXN1cGVyLmNyZWF0ZUVsKFwiZGl2XCIpKSxBZSh0KSk7aWYocyl7Zm9yKGk9dGhpcy5lbF89dCx0PXRoaXMudGFnPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ2aWRlb1wiKTtpLmNoaWxkcmVuLmxlbmd0aDspdC5hcHBlbmRDaGlsZChpLmZpcnN0Q2hpbGQpO0VlKGksXCJ2aWRlby1qc1wiKXx8a2UoaSxcInZpZGVvLWpzXCIpLGkuYXBwZW5kQ2hpbGQodCksZT10aGlzLnBsYXllckVsSW5nZXN0Xz1pLE9iamVjdC5rZXlzKGkpLmZvckVhY2goZT0+e3RyeXt0W2VdPWlbZV19Y2F0Y2goZSl7fX0pfXQuc2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIixcIi0xXCIpLHIudGFiaW5kZXg9XCItMVwiLGFlJiZ1ZSYmKHQuc2V0QXR0cmlidXRlKFwicm9sZVwiLFwiYXBwbGljYXRpb25cIiksci5yb2xlPVwiYXBwbGljYXRpb25cIiksdC5yZW1vdmVBdHRyaWJ1dGUoXCJ3aWR0aFwiKSx0LnJlbW92ZUF0dHJpYnV0ZShcImhlaWdodFwiKSxcIndpZHRoXCJpbiByJiZkZWxldGUgci53aWR0aCxcImhlaWdodFwiaW4gciYmZGVsZXRlIHIuaGVpZ2h0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHIpLmZvckVhY2goZnVuY3Rpb24oZSl7cyYmXCJjbGFzc1wiPT09ZXx8aS5zZXRBdHRyaWJ1dGUoZSxyW2VdKSxzJiZ0LnNldEF0dHJpYnV0ZShlLHJbZV0pfSksdC5wbGF5ZXJJZD10LmlkLHQuaWQrPVwiX2h0bWw1X2FwaVwiLHQuY2xhc3NOYW1lPVwidmpzLXRlY2hcIiwodC5wbGF5ZXI9aS5wbGF5ZXI9dGhpcykuYWRkQ2xhc3MoXCJ2anMtcGF1c2VkXCIpLCEwIT09d2luZG93LlZJREVPSlNfTk9fRFlOQU1JQ19TVFlMRSYmKHRoaXMuc3R5bGVFbF89WmUoXCJ2anMtc3R5bGVzLWRpbWVuc2lvbnNcIiksbj0kZShcIi52anMtc3R5bGVzLWRlZmF1bHRzXCIpLChhPSRlKFwiaGVhZFwiKSkuaW5zZXJ0QmVmb3JlKHRoaXMuc3R5bGVFbF8sbj9uLm5leHRTaWJsaW5nOmEuZmlyc3RDaGlsZCkpLHRoaXMuZmlsbF89ITEsdGhpcy5mbHVpZF89ITEsdGhpcy53aWR0aCh0aGlzLm9wdGlvbnNfLndpZHRoKSx0aGlzLmhlaWdodCh0aGlzLm9wdGlvbnNfLmhlaWdodCksdGhpcy5maWxsKHRoaXMub3B0aW9uc18uZmlsbCksdGhpcy5mbHVpZCh0aGlzLm9wdGlvbnNfLmZsdWlkKSx0aGlzLmFzcGVjdFJhdGlvKHRoaXMub3B0aW9uc18uYXNwZWN0UmF0aW8pLHRoaXMuY3Jvc3NPcmlnaW4odGhpcy5vcHRpb25zXy5jcm9zc09yaWdpbnx8dGhpcy5vcHRpb25zXy5jcm9zc29yaWdpbik7dmFyIG4sYSxvPXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJhXCIpO2ZvcihsZXQgZT0wO2U8by5sZW5ndGg7ZSsrKXt2YXIgbD1vLml0ZW0oZSk7a2UobCxcInZqcy1oaWRkZW5cIiksbC5zZXRBdHRyaWJ1dGUoXCJoaWRkZW5cIixcImhpZGRlblwiKX1yZXR1cm4gdC5pbml0TmV0d29ya1N0YXRlXz10Lm5ldHdvcmtTdGF0ZSx0LnBhcmVudE5vZGUmJiFlJiZ0LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGksdCksd2UodCxpKSx0aGlzLmNoaWxkcmVuXy51bnNoaWZ0KHQpLHRoaXMuZWxfLnNldEF0dHJpYnV0ZShcImxhbmdcIix0aGlzLmxhbmd1YWdlXyksdGhpcy5lbF8uc2V0QXR0cmlidXRlKFwidHJhbnNsYXRlXCIsXCJub1wiKSx0aGlzLmVsXz1pfWNyb3NzT3JpZ2luKGUpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBlKXJldHVybiB0aGlzLnRlY2hHZXRfKFwiY3Jvc3NPcmlnaW5cIik7bnVsbCE9PWUmJlwiYW5vbnltb3VzXCIhPT1lJiZcInVzZS1jcmVkZW50aWFsc1wiIT09ZT9kLndhcm4oYGNyb3NzT3JpZ2luIG11c3QgYmUgbnVsbCwgIFwiYW5vbnltb3VzXCIgb3IgXCJ1c2UtY3JlZGVudGlhbHNcIiwgZ2l2ZW4gXCIke2V9XCJgKToodGhpcy50ZWNoQ2FsbF8oXCJzZXRDcm9zc09yaWdpblwiLGUpLHRoaXMucG9zdGVySW1hZ2UmJnRoaXMucG9zdGVySW1hZ2UuY3Jvc3NPcmlnaW4oZSkpfXdpZHRoKGUpe3JldHVybiB0aGlzLmRpbWVuc2lvbihcIndpZHRoXCIsZSl9aGVpZ2h0KGUpe3JldHVybiB0aGlzLmRpbWVuc2lvbihcImhlaWdodFwiLGUpfWRpbWVuc2lvbihlLHQpe3ZhciBpLHM9ZStcIl9cIjtpZih2b2lkIDA9PT10KXJldHVybiB0aGlzW3NdfHwwO1wiXCI9PT10fHxcImF1dG9cIj09PXQ/KHRoaXNbc109dm9pZCAwLHRoaXMudXBkYXRlU3R5bGVFbF8oKSk6KGk9cGFyc2VGbG9hdCh0KSxpc05hTihpKT9kLmVycm9yKGBJbXByb3BlciB2YWx1ZSBcIiR7dH1cIiBzdXBwbGllZCBmb3IgZm9yIGArZSk6KHRoaXNbc109aSx0aGlzLnVwZGF0ZVN0eWxlRWxfKCkpKX1mbHVpZChlKXtpZih2b2lkIDA9PT1lKXJldHVybiEhdGhpcy5mbHVpZF87dmFyIHQ7dGhpcy5mbHVpZF89ISFlLF90KHRoaXMpJiZ0aGlzLm9mZihbXCJwbGF5ZXJyZXNldFwiLFwicmVzaXplXCJdLHRoaXMuYm91bmRVcGRhdGVTdHlsZUVsXyksZT8odGhpcy5hZGRDbGFzcyhcInZqcy1mbHVpZFwiKSx0aGlzLmZpbGwoITEpLGU9dGhpcyx0PSgpPT57dGhpcy5vbihbXCJwbGF5ZXJyZXNldFwiLFwicmVzaXplXCJdLHRoaXMuYm91bmRVcGRhdGVTdHlsZUVsXyl9LF90KGUpP3QoKTooZS5ldmVudGVkQ2FsbGJhY2tzfHwoZS5ldmVudGVkQ2FsbGJhY2tzPVtdKSxlLmV2ZW50ZWRDYWxsYmFja3MucHVzaCh0KSkpOnRoaXMucmVtb3ZlQ2xhc3MoXCJ2anMtZmx1aWRcIiksdGhpcy51cGRhdGVTdHlsZUVsXygpfWZpbGwoZSl7aWYodm9pZCAwPT09ZSlyZXR1cm4hIXRoaXMuZmlsbF87dGhpcy5maWxsXz0hIWUsZT8odGhpcy5hZGRDbGFzcyhcInZqcy1maWxsXCIpLHRoaXMuZmx1aWQoITEpKTp0aGlzLnJlbW92ZUNsYXNzKFwidmpzLWZpbGxcIil9YXNwZWN0UmF0aW8oZSl7aWYodm9pZCAwPT09ZSlyZXR1cm4gdGhpcy5hc3BlY3RSYXRpb187aWYoIS9eXFxkK1xcOlxcZCskLy50ZXN0KGUpKXRocm93IG5ldyBFcnJvcihcIkltcHJvcGVyIHZhbHVlIHN1cHBsaWVkIGZvciBhc3BlY3QgcmF0aW8uIFRoZSBmb3JtYXQgc2hvdWxkIGJlIHdpZHRoOmhlaWdodCwgZm9yIGV4YW1wbGUgMTY6OS5cIik7dGhpcy5hc3BlY3RSYXRpb189ZSx0aGlzLmZsdWlkKCEwKSx0aGlzLnVwZGF0ZVN0eWxlRWxfKCl9dXBkYXRlU3R5bGVFbF8oKXtpZighMD09PXdpbmRvdy5WSURFT0pTX05PX0RZTkFNSUNfU1RZTEUpe2NvbnN0IGU9XCJudW1iZXJcIj09dHlwZW9mIHRoaXMud2lkdGhfP3RoaXMud2lkdGhfOnRoaXMub3B0aW9uc18ud2lkdGgsdD1cIm51bWJlclwiPT10eXBlb2YgdGhpcy5oZWlnaHRfP3RoaXMuaGVpZ2h0Xzp0aGlzLm9wdGlvbnNfLmhlaWdodDt2YXIgcj10aGlzLnRlY2hfJiZ0aGlzLnRlY2hfLmVsKCk7dm9pZChyJiYoMDw9ZSYmKHIud2lkdGg9ZSksMDw9dCkmJihyLmhlaWdodD10KSl9ZWxzZXtsZXQgZSx0LGkscztyPShpPXZvaWQgMCE9PXRoaXMuYXNwZWN0UmF0aW9fJiZcImF1dG9cIiE9PXRoaXMuYXNwZWN0UmF0aW9fP3RoaXMuYXNwZWN0UmF0aW9fOjA8dGhpcy52aWRlb1dpZHRoKCk/dGhpcy52aWRlb1dpZHRoKCkrXCI6XCIrdGhpcy52aWRlb0hlaWdodCgpOlwiMTY6OVwiKS5zcGxpdChcIjpcIikscj1yWzFdL3JbMF07ZT12b2lkIDAhPT10aGlzLndpZHRoXz90aGlzLndpZHRoXzp2b2lkIDAhPT10aGlzLmhlaWdodF8/dGhpcy5oZWlnaHRfL3I6dGhpcy52aWRlb1dpZHRoKCl8fDMwMCx0PXZvaWQgMCE9PXRoaXMuaGVpZ2h0Xz90aGlzLmhlaWdodF86ZSpyLHM9L15bXmEtekEtWl0vLnRlc3QodGhpcy5pZCgpKT9cImRpbWVuc2lvbnMtXCIrdGhpcy5pZCgpOnRoaXMuaWQoKStcIi1kaW1lbnNpb25zXCIsdGhpcy5hZGRDbGFzcyhzKSxldCh0aGlzLnN0eWxlRWxfLGBcbiAgICAgIC4ke3N9IHtcbiAgICAgICAgd2lkdGg6ICR7ZX1weDtcbiAgICAgICAgaGVpZ2h0OiAke3R9cHg7XG4gICAgICB9XG5cbiAgICAgIC4ke3N9LnZqcy1mbHVpZDpub3QoLnZqcy1hdWRpby1vbmx5LW1vZGUpIHtcbiAgICAgICAgcGFkZGluZy10b3A6ICR7MTAwKnJ9JTtcbiAgICAgIH1cbiAgICBgKX19bG9hZFRlY2hfKGUsdCl7dGhpcy50ZWNoXyYmdGhpcy51bmxvYWRUZWNoXygpO3ZhciBpPWcoZSkscz1lLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpK2Uuc2xpY2UoMSk7XCJIdG1sNVwiIT09aSYmdGhpcy50YWcmJihfLmdldFRlY2goXCJIdG1sNVwiKS5kaXNwb3NlTWVkaWFFbGVtZW50KHRoaXMudGFnKSx0aGlzLnRhZy5wbGF5ZXI9bnVsbCx0aGlzLnRhZz1udWxsKSx0aGlzLnRlY2hOYW1lXz1pLHRoaXMuaXNSZWFkeV89ITE7bGV0IHI9dGhpcy5hdXRvcGxheSgpO2NvbnN0IG49e3NvdXJjZTp0LGF1dG9wbGF5OnI9XCJzdHJpbmdcIj09dHlwZW9mIHRoaXMuYXV0b3BsYXkoKXx8ITA9PT10aGlzLmF1dG9wbGF5KCkmJnRoaXMub3B0aW9uc18ubm9ybWFsaXplQXV0b3BsYXk/ITE6cixuYXRpdmVDb250cm9sc0ZvclRvdWNoOnRoaXMub3B0aW9uc18ubmF0aXZlQ29udHJvbHNGb3JUb3VjaCxwbGF5ZXJJZDp0aGlzLmlkKCksdGVjaElkOnRoaXMuaWQoKStgXyR7c31fYXBpYCxwbGF5c2lubGluZTp0aGlzLm9wdGlvbnNfLnBsYXlzaW5saW5lLHByZWxvYWQ6dGhpcy5vcHRpb25zXy5wcmVsb2FkLGxvb3A6dGhpcy5vcHRpb25zXy5sb29wLGRpc2FibGVQaWN0dXJlSW5QaWN0dXJlOnRoaXMub3B0aW9uc18uZGlzYWJsZVBpY3R1cmVJblBpY3R1cmUsbXV0ZWQ6dGhpcy5vcHRpb25zXy5tdXRlZCxwb3N0ZXI6dGhpcy5wb3N0ZXIoKSxsYW5ndWFnZTp0aGlzLmxhbmd1YWdlKCkscGxheWVyRWxJbmdlc3Q6dGhpcy5wbGF5ZXJFbEluZ2VzdF98fCExLFwidnR0LmpzXCI6dGhpcy5vcHRpb25zX1tcInZ0dC5qc1wiXSxjYW5PdmVycmlkZVBvc3RlcjohIXRoaXMub3B0aW9uc18udGVjaENhbk92ZXJyaWRlUG9zdGVyLGVuYWJsZVNvdXJjZXNldDp0aGlzLm9wdGlvbnNfLmVuYWJsZVNvdXJjZXNldH07YS5uYW1lcy5mb3JFYWNoKGU9PntlPWFbZV07bltlLmdldHRlck5hbWVdPXRoaXNbZS5wcml2YXRlTmFtZV19KSxPYmplY3QuYXNzaWduKG4sdGhpcy5vcHRpb25zX1tpXSksT2JqZWN0LmFzc2lnbihuLHRoaXMub3B0aW9uc19bc10pLE9iamVjdC5hc3NpZ24obix0aGlzLm9wdGlvbnNfW2UudG9Mb3dlckNhc2UoKV0pLHRoaXMudGFnJiYobi50YWc9dGhpcy50YWcpLHQmJnQuc3JjPT09dGhpcy5jYWNoZV8uc3JjJiYwPHRoaXMuY2FjaGVfLmN1cnJlbnRUaW1lJiYobi5zdGFydFRpbWU9dGhpcy5jYWNoZV8uY3VycmVudFRpbWUpO3M9Xy5nZXRUZWNoKGUpO2lmKCFzKXRocm93IG5ldyBFcnJvcihgTm8gVGVjaCBuYW1lZCAnJHtpfScgZXhpc3RzISAnJHtpfScgc2hvdWxkIGJlIHJlZ2lzdGVyZWQgdXNpbmcgdmlkZW9qcy5yZWdpc3RlclRlY2goKSdgKTt0aGlzLnRlY2hfPW5ldyBzKG4pLHRoaXMudGVjaF8ucmVhZHkobSh0aGlzLHRoaXMuaGFuZGxlVGVjaFJlYWR5XyksITApLEt0KHRoaXMudGV4dFRyYWNrc0pzb25ffHxbXSx0aGlzLnRlY2hfKSxRci5mb3JFYWNoKHQ9Pnt0aGlzLm9uKHRoaXMudGVjaF8sdCxlPT50aGlzW2BoYW5kbGVUZWNoJHtnKHQpfV9gXShlKSl9KSxPYmplY3Qua2V5cyhKcikuZm9yRWFjaCh0PT57dGhpcy5vbih0aGlzLnRlY2hfLHQsZT0+ezA9PT10aGlzLnRlY2hfLnBsYXliYWNrUmF0ZSgpJiZ0aGlzLnRlY2hfLnNlZWtpbmcoKT90aGlzLnF1ZXVlZENhbGxiYWNrc18ucHVzaCh7Y2FsbGJhY2s6dGhpc1tgaGFuZGxlVGVjaCR7SnJbdF19X2BdLmJpbmQodGhpcyksZXZlbnQ6ZX0pOnRoaXNbYGhhbmRsZVRlY2gke0pyW3RdfV9gXShlKX0pfSksdGhpcy5vbih0aGlzLnRlY2hfLFwibG9hZHN0YXJ0XCIsZT0+dGhpcy5oYW5kbGVUZWNoTG9hZFN0YXJ0XyhlKSksdGhpcy5vbih0aGlzLnRlY2hfLFwic291cmNlc2V0XCIsZT0+dGhpcy5oYW5kbGVUZWNoU291cmNlc2V0XyhlKSksdGhpcy5vbih0aGlzLnRlY2hfLFwid2FpdGluZ1wiLGU9PnRoaXMuaGFuZGxlVGVjaFdhaXRpbmdfKGUpKSx0aGlzLm9uKHRoaXMudGVjaF8sXCJlbmRlZFwiLGU9PnRoaXMuaGFuZGxlVGVjaEVuZGVkXyhlKSksdGhpcy5vbih0aGlzLnRlY2hfLFwic2Vla2luZ1wiLGU9PnRoaXMuaGFuZGxlVGVjaFNlZWtpbmdfKGUpKSx0aGlzLm9uKHRoaXMudGVjaF8sXCJwbGF5XCIsZT0+dGhpcy5oYW5kbGVUZWNoUGxheV8oZSkpLHRoaXMub24odGhpcy50ZWNoXyxcInBhdXNlXCIsZT0+dGhpcy5oYW5kbGVUZWNoUGF1c2VfKGUpKSx0aGlzLm9uKHRoaXMudGVjaF8sXCJkdXJhdGlvbmNoYW5nZVwiLGU9PnRoaXMuaGFuZGxlVGVjaER1cmF0aW9uQ2hhbmdlXyhlKSksdGhpcy5vbih0aGlzLnRlY2hfLFwiZnVsbHNjcmVlbmNoYW5nZVwiLChlLHQpPT50aGlzLmhhbmRsZVRlY2hGdWxsc2NyZWVuQ2hhbmdlXyhlLHQpKSx0aGlzLm9uKHRoaXMudGVjaF8sXCJmdWxsc2NyZWVuZXJyb3JcIiwoZSx0KT0+dGhpcy5oYW5kbGVUZWNoRnVsbHNjcmVlbkVycm9yXyhlLHQpKSx0aGlzLm9uKHRoaXMudGVjaF8sXCJlbnRlcnBpY3R1cmVpbnBpY3R1cmVcIixlPT50aGlzLmhhbmRsZVRlY2hFbnRlclBpY3R1cmVJblBpY3R1cmVfKGUpKSx0aGlzLm9uKHRoaXMudGVjaF8sXCJsZWF2ZXBpY3R1cmVpbnBpY3R1cmVcIixlPT50aGlzLmhhbmRsZVRlY2hMZWF2ZVBpY3R1cmVJblBpY3R1cmVfKGUpKSx0aGlzLm9uKHRoaXMudGVjaF8sXCJlcnJvclwiLGU9PnRoaXMuaGFuZGxlVGVjaEVycm9yXyhlKSksdGhpcy5vbih0aGlzLnRlY2hfLFwicG9zdGVyY2hhbmdlXCIsZT0+dGhpcy5oYW5kbGVUZWNoUG9zdGVyQ2hhbmdlXyhlKSksdGhpcy5vbih0aGlzLnRlY2hfLFwidGV4dGRhdGFcIixlPT50aGlzLmhhbmRsZVRlY2hUZXh0RGF0YV8oZSkpLHRoaXMub24odGhpcy50ZWNoXyxcInJhdGVjaGFuZ2VcIixlPT50aGlzLmhhbmRsZVRlY2hSYXRlQ2hhbmdlXyhlKSksdGhpcy5vbih0aGlzLnRlY2hfLFwibG9hZGVkbWV0YWRhdGFcIix0aGlzLmJvdW5kVXBkYXRlU3R5bGVFbF8pLHRoaXMudXNpbmdOYXRpdmVDb250cm9scyh0aGlzLnRlY2hHZXRfKFwiY29udHJvbHNcIikpLHRoaXMuY29udHJvbHMoKSYmIXRoaXMudXNpbmdOYXRpdmVDb250cm9scygpJiZ0aGlzLmFkZFRlY2hDb250cm9sc0xpc3RlbmVyc18oKSx0aGlzLnRlY2hfLmVsKCkucGFyZW50Tm9kZT09PXRoaXMuZWwoKXx8XCJIdG1sNVwiPT09aSYmdGhpcy50YWd8fHdlKHRoaXMudGVjaF8uZWwoKSx0aGlzLmVsKCkpLHRoaXMudGFnJiYodGhpcy50YWcucGxheWVyPW51bGwsdGhpcy50YWc9bnVsbCl9dW5sb2FkVGVjaF8oKXthLm5hbWVzLmZvckVhY2goZT0+e2U9YVtlXTt0aGlzW2UucHJpdmF0ZU5hbWVdPXRoaXNbZS5nZXR0ZXJOYW1lXSgpfSksdGhpcy50ZXh0VHJhY2tzSnNvbl89WHQodGhpcy50ZWNoXyksdGhpcy5pc1JlYWR5Xz0hMSx0aGlzLnRlY2hfLmRpc3Bvc2UoKSx0aGlzLnRlY2hfPSExLHRoaXMuaXNQb3N0ZXJGcm9tVGVjaF8mJih0aGlzLnBvc3Rlcl89XCJcIix0aGlzLnRyaWdnZXIoXCJwb3N0ZXJjaGFuZ2VcIikpLHRoaXMuaXNQb3N0ZXJGcm9tVGVjaF89ITF9dGVjaChlKXtyZXR1cm4gdm9pZCAwPT09ZSYmZC53YXJuKFwiVXNpbmcgdGhlIHRlY2ggZGlyZWN0bHkgY2FuIGJlIGRhbmdlcm91cy4gSSBob3BlIHlvdSBrbm93IHdoYXQgeW91J3JlIGRvaW5nLlxcblNlZSBodHRwczovL2dpdGh1Yi5jb20vdmlkZW9qcy92aWRlby5qcy9pc3N1ZXMvMjYxNyBmb3IgbW9yZSBpbmZvLlxcblwiKSx0aGlzLnRlY2hffWFkZFRlY2hDb250cm9sc0xpc3RlbmVyc18oKXt0aGlzLnJlbW92ZVRlY2hDb250cm9sc0xpc3RlbmVyc18oKSx0aGlzLm9uKHRoaXMudGVjaF8sXCJjbGlja1wiLHRoaXMuYm91bmRIYW5kbGVUZWNoQ2xpY2tfKSx0aGlzLm9uKHRoaXMudGVjaF8sXCJkYmxjbGlja1wiLHRoaXMuYm91bmRIYW5kbGVUZWNoRG91YmxlQ2xpY2tfKSx0aGlzLm9uKHRoaXMudGVjaF8sXCJ0b3VjaHN0YXJ0XCIsdGhpcy5ib3VuZEhhbmRsZVRlY2hUb3VjaFN0YXJ0XyksdGhpcy5vbih0aGlzLnRlY2hfLFwidG91Y2htb3ZlXCIsdGhpcy5ib3VuZEhhbmRsZVRlY2hUb3VjaE1vdmVfKSx0aGlzLm9uKHRoaXMudGVjaF8sXCJ0b3VjaGVuZFwiLHRoaXMuYm91bmRIYW5kbGVUZWNoVG91Y2hFbmRfKSx0aGlzLm9uKHRoaXMudGVjaF8sXCJ0YXBcIix0aGlzLmJvdW5kSGFuZGxlVGVjaFRhcF8pfXJlbW92ZVRlY2hDb250cm9sc0xpc3RlbmVyc18oKXt0aGlzLm9mZih0aGlzLnRlY2hfLFwidGFwXCIsdGhpcy5ib3VuZEhhbmRsZVRlY2hUYXBfKSx0aGlzLm9mZih0aGlzLnRlY2hfLFwidG91Y2hzdGFydFwiLHRoaXMuYm91bmRIYW5kbGVUZWNoVG91Y2hTdGFydF8pLHRoaXMub2ZmKHRoaXMudGVjaF8sXCJ0b3VjaG1vdmVcIix0aGlzLmJvdW5kSGFuZGxlVGVjaFRvdWNoTW92ZV8pLHRoaXMub2ZmKHRoaXMudGVjaF8sXCJ0b3VjaGVuZFwiLHRoaXMuYm91bmRIYW5kbGVUZWNoVG91Y2hFbmRfKSx0aGlzLm9mZih0aGlzLnRlY2hfLFwiY2xpY2tcIix0aGlzLmJvdW5kSGFuZGxlVGVjaENsaWNrXyksdGhpcy5vZmYodGhpcy50ZWNoXyxcImRibGNsaWNrXCIsdGhpcy5ib3VuZEhhbmRsZVRlY2hEb3VibGVDbGlja18pfWhhbmRsZVRlY2hSZWFkeV8oKXt0aGlzLnRyaWdnZXJSZWFkeSgpLHRoaXMuY2FjaGVfLnZvbHVtZSYmdGhpcy50ZWNoQ2FsbF8oXCJzZXRWb2x1bWVcIix0aGlzLmNhY2hlXy52b2x1bWUpLHRoaXMuaGFuZGxlVGVjaFBvc3RlckNoYW5nZV8oKSx0aGlzLmhhbmRsZVRlY2hEdXJhdGlvbkNoYW5nZV8oKX1oYW5kbGVUZWNoTG9hZFN0YXJ0Xygpe3RoaXMucmVtb3ZlQ2xhc3MoXCJ2anMtZW5kZWRcIixcInZqcy1zZWVraW5nXCIpLHRoaXMuZXJyb3IobnVsbCksdGhpcy5oYW5kbGVUZWNoRHVyYXRpb25DaGFuZ2VfKCksdGhpcy5wYXVzZWQoKSYmdGhpcy5oYXNTdGFydGVkKCExKSx0aGlzLnRyaWdnZXIoXCJsb2Fkc3RhcnRcIiksdGhpcy5tYW51YWxBdXRvcGxheV8oITA9PT10aGlzLmF1dG9wbGF5KCkmJnRoaXMub3B0aW9uc18ubm9ybWFsaXplQXV0b3BsYXk/XCJwbGF5XCI6dGhpcy5hdXRvcGxheSgpKX1tYW51YWxBdXRvcGxheV8odCl7aWYodGhpcy50ZWNoXyYmXCJzdHJpbmdcIj09dHlwZW9mIHQpe3ZhciBpPSgpPT57Y29uc3QgZT10aGlzLm11dGVkKCksdD0odGhpcy5tdXRlZCghMCksKCk9Pnt0aGlzLm11dGVkKGUpfSk7dGhpcy5wbGF5VGVybWluYXRlZFF1ZXVlXy5wdXNoKHQpO3ZhciBpPXRoaXMucGxheSgpO2lmKFd0KGkpKXJldHVybiBpLmNhdGNoKGU9Pnt0aHJvdyB0KCksbmV3IEVycm9yKFwiUmVqZWN0aW9uIGF0IG1hbnVhbEF1dG9wbGF5LiBSZXN0b3JpbmcgbXV0ZWQgdmFsdWUuIFwiKyhlfHxcIlwiKSl9KX07bGV0IGU7aWYoXCJhbnlcIiE9PXR8fHRoaXMubXV0ZWQoKT9lPVwibXV0ZWRcIiE9PXR8fHRoaXMubXV0ZWQoKT90aGlzLnBsYXkoKTppKCk6V3QoZT10aGlzLnBsYXkoKSkmJihlPWUuY2F0Y2goaSkpLFd0KGUpKXJldHVybiBlLnRoZW4oKCk9Pnt0aGlzLnRyaWdnZXIoe3R5cGU6XCJhdXRvcGxheS1zdWNjZXNzXCIsYXV0b3BsYXk6dH0pfSkuY2F0Y2goKCk9Pnt0aGlzLnRyaWdnZXIoe3R5cGU6XCJhdXRvcGxheS1mYWlsdXJlXCIsYXV0b3BsYXk6dH0pfSl9fXVwZGF0ZVNvdXJjZUNhY2hlc18oZT1cIlwiKXtsZXQgdD1lLGk9XCJcIjtcInN0cmluZ1wiIT10eXBlb2YgdCYmKHQ9ZS5zcmMsaT1lLnR5cGUpLHRoaXMuY2FjaGVfLnNvdXJjZT10aGlzLmNhY2hlXy5zb3VyY2V8fHt9LHRoaXMuY2FjaGVfLnNvdXJjZXM9dGhpcy5jYWNoZV8uc291cmNlc3x8W10sdCYmIWkmJihpPSgoZSx0KT0+e2lmKCF0KXJldHVyblwiXCI7aWYoZS5jYWNoZV8uc291cmNlLnNyYz09PXQmJmUuY2FjaGVfLnNvdXJjZS50eXBlKXJldHVybiBlLmNhY2hlXy5zb3VyY2UudHlwZTt2YXIgaT1lLmNhY2hlXy5zb3VyY2VzLmZpbHRlcihlPT5lLnNyYz09PXQpO2lmKGkubGVuZ3RoKXJldHVybiBpWzBdLnR5cGU7dmFyIHM9ZS4kJChcInNvdXJjZVwiKTtmb3IobGV0IGU9MDtlPHMubGVuZ3RoO2UrKyl7dmFyIHI9c1tlXTtpZihyLnR5cGUmJnIuc3JjJiZyLnNyYz09PXQpcmV0dXJuIHIudHlwZX1yZXR1cm4gU3ModCl9KSh0aGlzLHQpKSx0aGlzLmNhY2hlXy5zb3VyY2U9aCh7fSxlLHtzcmM6dCx0eXBlOml9KTt2YXIgZT10aGlzLmNhY2hlXy5zb3VyY2VzLmZpbHRlcihlPT5lLnNyYyYmZS5zcmM9PT10KSxzPVtdLHI9dGhpcy4kJChcInNvdXJjZVwiKSxuPVtdO2ZvcihsZXQgZT0wO2U8ci5sZW5ndGg7ZSsrKXt2YXIgYT1BZShyW2VdKTtzLnB1c2goYSksYS5zcmMmJmEuc3JjPT09dCYmbi5wdXNoKGEuc3JjKX1uLmxlbmd0aCYmIWUubGVuZ3RoP3RoaXMuY2FjaGVfLnNvdXJjZXM9czplLmxlbmd0aHx8KHRoaXMuY2FjaGVfLnNvdXJjZXM9W3RoaXMuY2FjaGVfLnNvdXJjZV0pLHRoaXMuY2FjaGVfLnNyYz10fWhhbmRsZVRlY2hTb3VyY2VzZXRfKHQpe2lmKCF0aGlzLmNoYW5naW5nU3JjXyl7bGV0IGU9ZT0+dGhpcy51cGRhdGVTb3VyY2VDYWNoZXNfKGUpO3ZhciBpPXRoaXMuY3VycmVudFNvdXJjZSgpLnNyYyxzPXQuc3JjOyhlPSFpfHwvXmJsb2I6Ly50ZXN0KGkpfHwhL15ibG9iOi8udGVzdChzKXx8dGhpcy5sYXN0U291cmNlXyYmKHRoaXMubGFzdFNvdXJjZV8udGVjaD09PXN8fHRoaXMubGFzdFNvdXJjZV8ucGxheWVyPT09aSk/ZTooKT0+e30pKHMpLHQuc3JjfHx0aGlzLnRlY2hfLmFueShbXCJzb3VyY2VzZXRcIixcImxvYWRzdGFydFwiXSxlPT57XCJzb3VyY2VzZXRcIiE9PWUudHlwZSYmKGU9dGhpcy50ZWNoR2V0KFwiY3VycmVudFNyY1wiKSx0aGlzLmxhc3RTb3VyY2VfLnRlY2g9ZSx0aGlzLnVwZGF0ZVNvdXJjZUNhY2hlc18oZSkpfSl9dGhpcy5sYXN0U291cmNlXz17cGxheWVyOnRoaXMuY3VycmVudFNvdXJjZSgpLnNyYyx0ZWNoOnQuc3JjfSx0aGlzLnRyaWdnZXIoe3NyYzp0LnNyYyx0eXBlOlwic291cmNlc2V0XCJ9KX1oYXNTdGFydGVkKGUpe2lmKHZvaWQgMD09PWUpcmV0dXJuIHRoaXMuaGFzU3RhcnRlZF87ZSE9PXRoaXMuaGFzU3RhcnRlZF8mJih0aGlzLmhhc1N0YXJ0ZWRfPWUsdGhpcy5oYXNTdGFydGVkXz90aGlzLmFkZENsYXNzKFwidmpzLWhhcy1zdGFydGVkXCIpOnRoaXMucmVtb3ZlQ2xhc3MoXCJ2anMtaGFzLXN0YXJ0ZWRcIikpfWhhbmRsZVRlY2hQbGF5Xygpe3RoaXMucmVtb3ZlQ2xhc3MoXCJ2anMtZW5kZWRcIixcInZqcy1wYXVzZWRcIiksdGhpcy5hZGRDbGFzcyhcInZqcy1wbGF5aW5nXCIpLHRoaXMuaGFzU3RhcnRlZCghMCksdGhpcy50cmlnZ2VyKFwicGxheVwiKX1oYW5kbGVUZWNoUmF0ZUNoYW5nZV8oKXswPHRoaXMudGVjaF8ucGxheWJhY2tSYXRlKCkmJjA9PT10aGlzLmNhY2hlXy5sYXN0UGxheWJhY2tSYXRlJiYodGhpcy5xdWV1ZWRDYWxsYmFja3NfLmZvckVhY2goZT0+ZS5jYWxsYmFjayhlLmV2ZW50KSksdGhpcy5xdWV1ZWRDYWxsYmFja3NfPVtdKSx0aGlzLmNhY2hlXy5sYXN0UGxheWJhY2tSYXRlPXRoaXMudGVjaF8ucGxheWJhY2tSYXRlKCksdGhpcy50cmlnZ2VyKFwicmF0ZWNoYW5nZVwiKX1oYW5kbGVUZWNoV2FpdGluZ18oKXt0aGlzLmFkZENsYXNzKFwidmpzLXdhaXRpbmdcIiksdGhpcy50cmlnZ2VyKFwid2FpdGluZ1wiKTtjb25zdCBlPXRoaXMuY3VycmVudFRpbWUoKSx0PSgpPT57ZSE9PXRoaXMuY3VycmVudFRpbWUoKSYmKHRoaXMucmVtb3ZlQ2xhc3MoXCJ2anMtd2FpdGluZ1wiKSx0aGlzLm9mZihcInRpbWV1cGRhdGVcIix0KSl9O3RoaXMub24oXCJ0aW1ldXBkYXRlXCIsdCl9aGFuZGxlVGVjaENhblBsYXlfKCl7dGhpcy5yZW1vdmVDbGFzcyhcInZqcy13YWl0aW5nXCIpLHRoaXMudHJpZ2dlcihcImNhbnBsYXlcIil9aGFuZGxlVGVjaENhblBsYXlUaHJvdWdoXygpe3RoaXMucmVtb3ZlQ2xhc3MoXCJ2anMtd2FpdGluZ1wiKSx0aGlzLnRyaWdnZXIoXCJjYW5wbGF5dGhyb3VnaFwiKX1oYW5kbGVUZWNoUGxheWluZ18oKXt0aGlzLnJlbW92ZUNsYXNzKFwidmpzLXdhaXRpbmdcIiksdGhpcy50cmlnZ2VyKFwicGxheWluZ1wiKX1oYW5kbGVUZWNoU2Vla2luZ18oKXt0aGlzLmFkZENsYXNzKFwidmpzLXNlZWtpbmdcIiksdGhpcy50cmlnZ2VyKFwic2Vla2luZ1wiKX1oYW5kbGVUZWNoU2Vla2VkXygpe3RoaXMucmVtb3ZlQ2xhc3MoXCJ2anMtc2Vla2luZ1wiLFwidmpzLWVuZGVkXCIpLHRoaXMudHJpZ2dlcihcInNlZWtlZFwiKX1oYW5kbGVUZWNoUGF1c2VfKCl7dGhpcy5yZW1vdmVDbGFzcyhcInZqcy1wbGF5aW5nXCIpLHRoaXMuYWRkQ2xhc3MoXCJ2anMtcGF1c2VkXCIpLHRoaXMudHJpZ2dlcihcInBhdXNlXCIpfWhhbmRsZVRlY2hFbmRlZF8oKXt0aGlzLmFkZENsYXNzKFwidmpzLWVuZGVkXCIpLHRoaXMucmVtb3ZlQ2xhc3MoXCJ2anMtd2FpdGluZ1wiKSx0aGlzLm9wdGlvbnNfLmxvb3A/KHRoaXMuY3VycmVudFRpbWUoMCksdGhpcy5wbGF5KCkpOnRoaXMucGF1c2VkKCl8fHRoaXMucGF1c2UoKSx0aGlzLnRyaWdnZXIoXCJlbmRlZFwiKX1oYW5kbGVUZWNoRHVyYXRpb25DaGFuZ2VfKCl7dGhpcy5kdXJhdGlvbih0aGlzLnRlY2hHZXRfKFwiZHVyYXRpb25cIikpfWhhbmRsZVRlY2hDbGlja18oZSl7IXRoaXMuY29udHJvbHNffHx2b2lkIDAhPT10aGlzLm9wdGlvbnNfJiZ2b2lkIDAhPT10aGlzLm9wdGlvbnNfLnVzZXJBY3Rpb25zJiZ2b2lkIDAhPT10aGlzLm9wdGlvbnNfLnVzZXJBY3Rpb25zLmNsaWNrJiYhMT09PXRoaXMub3B0aW9uc18udXNlckFjdGlvbnMuY2xpY2t8fCh2b2lkIDAhPT10aGlzLm9wdGlvbnNfJiZ2b2lkIDAhPT10aGlzLm9wdGlvbnNfLnVzZXJBY3Rpb25zJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLm9wdGlvbnNfLnVzZXJBY3Rpb25zLmNsaWNrP3RoaXMub3B0aW9uc18udXNlckFjdGlvbnMuY2xpY2suY2FsbCh0aGlzLGUpOnRoaXMucGF1c2VkKCk/R3QodGhpcy5wbGF5KCkpOnRoaXMucGF1c2UoKSl9aGFuZGxlVGVjaERvdWJsZUNsaWNrXyh0KXshdGhpcy5jb250cm9sc198fEFycmF5LnByb3RvdHlwZS5zb21lLmNhbGwodGhpcy4kJChcIi52anMtY29udHJvbC1iYXIsIC52anMtbW9kYWwtZGlhbG9nXCIpLGU9PmUuY29udGFpbnModC50YXJnZXQpKXx8dm9pZCAwIT09dGhpcy5vcHRpb25zXyYmdm9pZCAwIT09dGhpcy5vcHRpb25zXy51c2VyQWN0aW9ucyYmdm9pZCAwIT09dGhpcy5vcHRpb25zXy51c2VyQWN0aW9ucy5kb3VibGVDbGljayYmITE9PT10aGlzLm9wdGlvbnNfLnVzZXJBY3Rpb25zLmRvdWJsZUNsaWNrfHwodm9pZCAwIT09dGhpcy5vcHRpb25zXyYmdm9pZCAwIT09dGhpcy5vcHRpb25zXy51c2VyQWN0aW9ucyYmXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5vcHRpb25zXy51c2VyQWN0aW9ucy5kb3VibGVDbGljaz90aGlzLm9wdGlvbnNfLnVzZXJBY3Rpb25zLmRvdWJsZUNsaWNrLmNhbGwodGhpcyx0KTp0aGlzLmlzRnVsbHNjcmVlbigpP3RoaXMuZXhpdEZ1bGxzY3JlZW4oKTp0aGlzLnJlcXVlc3RGdWxsc2NyZWVuKCkpfWhhbmRsZVRlY2hUYXBfKCl7dGhpcy51c2VyQWN0aXZlKCF0aGlzLnVzZXJBY3RpdmUoKSl9aGFuZGxlVGVjaFRvdWNoU3RhcnRfKCl7dGhpcy51c2VyV2FzQWN0aXZlPXRoaXMudXNlckFjdGl2ZSgpfWhhbmRsZVRlY2hUb3VjaE1vdmVfKCl7dGhpcy51c2VyV2FzQWN0aXZlJiZ0aGlzLnJlcG9ydFVzZXJBY3Rpdml0eSgpfWhhbmRsZVRlY2hUb3VjaEVuZF8oZSl7ZS5jYW5jZWxhYmxlJiZlLnByZXZlbnREZWZhdWx0KCl9dG9nZ2xlRnVsbHNjcmVlbkNsYXNzXygpe3RoaXMuaXNGdWxsc2NyZWVuKCk/dGhpcy5hZGRDbGFzcyhcInZqcy1mdWxsc2NyZWVuXCIpOnRoaXMucmVtb3ZlQ2xhc3MoXCJ2anMtZnVsbHNjcmVlblwiKX1kb2N1bWVudEZ1bGxzY3JlZW5DaGFuZ2VfKHQpe3Q9dC50YXJnZXQucGxheWVyO2lmKCF0fHx0PT09dGhpcyl7dD10aGlzLmVsKCk7bGV0IGU9ZG9jdW1lbnRbdGhpcy5mc0FwaV8uZnVsbHNjcmVlbkVsZW1lbnRdPT09dDshZSYmdC5tYXRjaGVzP2U9dC5tYXRjaGVzKFwiOlwiK3RoaXMuZnNBcGlfLmZ1bGxzY3JlZW4pOiFlJiZ0Lm1zTWF0Y2hlc1NlbGVjdG9yJiYoZT10Lm1zTWF0Y2hlc1NlbGVjdG9yKFwiOlwiK3RoaXMuZnNBcGlfLmZ1bGxzY3JlZW4pKSx0aGlzLmlzRnVsbHNjcmVlbihlKX19aGFuZGxlVGVjaEZ1bGxzY3JlZW5DaGFuZ2VfKGUsdCl7dCYmKHQubmF0aXZlSU9TRnVsbHNjcmVlbiYmKHRoaXMuYWRkQ2xhc3MoXCJ2anMtaW9zLW5hdGl2ZS1mc1wiKSx0aGlzLnRlY2hfLm9uZShcIndlYmtpdGVuZGZ1bGxzY3JlZW5cIiwoKT0+e3RoaXMucmVtb3ZlQ2xhc3MoXCJ2anMtaW9zLW5hdGl2ZS1mc1wiKX0pKSx0aGlzLmlzRnVsbHNjcmVlbih0LmlzRnVsbHNjcmVlbikpfWhhbmRsZVRlY2hGdWxsc2NyZWVuRXJyb3JfKGUsdCl7dGhpcy50cmlnZ2VyKFwiZnVsbHNjcmVlbmVycm9yXCIsdCl9dG9nZ2xlUGljdHVyZUluUGljdHVyZUNsYXNzXygpe3RoaXMuaXNJblBpY3R1cmVJblBpY3R1cmUoKT90aGlzLmFkZENsYXNzKFwidmpzLXBpY3R1cmUtaW4tcGljdHVyZVwiKTp0aGlzLnJlbW92ZUNsYXNzKFwidmpzLXBpY3R1cmUtaW4tcGljdHVyZVwiKX1oYW5kbGVUZWNoRW50ZXJQaWN0dXJlSW5QaWN0dXJlXyhlKXt0aGlzLmlzSW5QaWN0dXJlSW5QaWN0dXJlKCEwKX1oYW5kbGVUZWNoTGVhdmVQaWN0dXJlSW5QaWN0dXJlXyhlKXt0aGlzLmlzSW5QaWN0dXJlSW5QaWN0dXJlKCExKX1oYW5kbGVUZWNoRXJyb3JfKCl7dmFyIGU9dGhpcy50ZWNoXy5lcnJvcigpO3RoaXMuZXJyb3IoZSl9aGFuZGxlVGVjaFRleHREYXRhXygpe2xldCBlPTE8YXJndW1lbnRzLmxlbmd0aD9hcmd1bWVudHNbMV06bnVsbDt0aGlzLnRyaWdnZXIoXCJ0ZXh0ZGF0YVwiLGUpfWdldENhY2hlKCl7cmV0dXJuIHRoaXMuY2FjaGVffXJlc2V0Q2FjaGVfKCl7dGhpcy5jYWNoZV89e2N1cnJlbnRUaW1lOjAsaW5pdFRpbWU6MCxpbmFjdGl2aXR5VGltZW91dDp0aGlzLm9wdGlvbnNfLmluYWN0aXZpdHlUaW1lb3V0LGR1cmF0aW9uOk5hTixsYXN0Vm9sdW1lOjEsbGFzdFBsYXliYWNrUmF0ZTp0aGlzLmRlZmF1bHRQbGF5YmFja1JhdGUoKSxtZWRpYTpudWxsLHNyYzpcIlwiLHNvdXJjZTp7fSxzb3VyY2VzOltdLHBsYXliYWNrUmF0ZXM6W10sdm9sdW1lOjF9fXRlY2hDYWxsXyh0LGkpe3RoaXMucmVhZHkoZnVuY3Rpb24oKXtpZih0IGluIGZzKXJldHVybiBlPXRoaXMubWlkZGxld2FyZV8sdGhpcy50ZWNoX1t0XShlLnJlZHVjZShfcyh0KSxpKSk7aWYodCBpbiB5cylyZXR1cm4gbXModGhpcy5taWRkbGV3YXJlXyx0aGlzLnRlY2hfLHQsaSk7dmFyIGU7dHJ5e3RoaXMudGVjaF8mJnRoaXMudGVjaF9bdF0oaSl9Y2F0Y2goZSl7dGhyb3cgZChlKSxlfX0sITApfXRlY2hHZXRfKHQpe2lmKHRoaXMudGVjaF8mJnRoaXMudGVjaF8uaXNSZWFkeV8pe2lmKHQgaW4gZ3MpcmV0dXJuIGU9dGhpcy5taWRkbGV3YXJlXyxpPXRoaXMudGVjaF8sZS5yZWR1Y2VSaWdodChfcyh0KSxpW3RdKCkpO2lmKHQgaW4geXMpcmV0dXJuIG1zKHRoaXMubWlkZGxld2FyZV8sdGhpcy50ZWNoXyx0KTt2YXIgZSxpO3RyeXtyZXR1cm4gdGhpcy50ZWNoX1t0XSgpfWNhdGNoKGUpe3Rocm93IHZvaWQgMD09PXRoaXMudGVjaF9bdF0/ZChgVmlkZW8uanM6ICR7dH0gbWV0aG9kIG5vdCBkZWZpbmVkIGZvciAke3RoaXMudGVjaE5hbWVffSBwbGF5YmFjayB0ZWNobm9sb2d5LmAsZSk6XCJUeXBlRXJyb3JcIj09PWUubmFtZT8oZChgVmlkZW8uanM6ICR7dH0gdW5hdmFpbGFibGUgb24gJHt0aGlzLnRlY2hOYW1lX30gcGxheWJhY2sgdGVjaG5vbG9neSBlbGVtZW50LmAsZSksdGhpcy50ZWNoXy5pc1JlYWR5Xz0hMSk6ZChlKSxlfX19cGxheSgpe3JldHVybiBuZXcgUHJvbWlzZShlPT57dGhpcy5wbGF5XyhlKX0pfXBsYXlfKGU9R3Qpe3RoaXMucGxheUNhbGxiYWNrc18ucHVzaChlKTt2YXIgdCxlPUJvb2xlYW4oIXRoaXMuY2hhbmdpbmdTcmNfJiYodGhpcy5zcmMoKXx8dGhpcy5jdXJyZW50U3JjKCkpKSxpPUJvb2xlYW4oZmV8fHUpO3RoaXMud2FpdFRvUGxheV8mJih0aGlzLm9mZihbXCJyZWFkeVwiLFwibG9hZHN0YXJ0XCJdLHRoaXMud2FpdFRvUGxheV8pLHRoaXMud2FpdFRvUGxheV89bnVsbCksdGhpcy5pc1JlYWR5XyYmZT8odD10aGlzLnRlY2hHZXRfKFwicGxheVwiKSxpJiZ0aGlzLmhhc0NsYXNzKFwidmpzLWVuZGVkXCIpJiZ0aGlzLnJlc2V0UHJvZ3Jlc3NCYXJfKCksbnVsbD09PXQ/dGhpcy5ydW5QbGF5VGVybWluYXRlZFF1ZXVlXygpOnRoaXMucnVuUGxheUNhbGxiYWNrc18odCkpOih0aGlzLndhaXRUb1BsYXlfPWU9Pnt0aGlzLnBsYXlfKCl9LHRoaXMub25lKFtcInJlYWR5XCIsXCJsb2Fkc3RhcnRcIl0sdGhpcy53YWl0VG9QbGF5XyksIWUmJmkmJnRoaXMubG9hZCgpKX1ydW5QbGF5VGVybWluYXRlZFF1ZXVlXygpe3ZhciBlPXRoaXMucGxheVRlcm1pbmF0ZWRRdWV1ZV8uc2xpY2UoMCk7dGhpcy5wbGF5VGVybWluYXRlZFF1ZXVlXz1bXSxlLmZvckVhY2goZnVuY3Rpb24oZSl7ZSgpfSl9cnVuUGxheUNhbGxiYWNrc18odCl7dmFyIGU9dGhpcy5wbGF5Q2FsbGJhY2tzXy5zbGljZSgwKTt0aGlzLnBsYXlDYWxsYmFja3NfPVtdLHRoaXMucGxheVRlcm1pbmF0ZWRRdWV1ZV89W10sZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UodCl9KX1wYXVzZSgpe3RoaXMudGVjaENhbGxfKFwicGF1c2VcIil9cGF1c2VkKCl7cmV0dXJuITEhPT10aGlzLnRlY2hHZXRfKFwicGF1c2VkXCIpfXBsYXllZCgpe3JldHVybiB0aGlzLnRlY2hHZXRfKFwicGxheWVkXCIpfHxSdCgwLDApfXNjcnViYmluZyhlKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgZSlyZXR1cm4gdGhpcy5zY3J1YmJpbmdfO3RoaXMuc2NydWJiaW5nXz0hIWUsdGhpcy50ZWNoQ2FsbF8oXCJzZXRTY3J1YmJpbmdcIix0aGlzLnNjcnViYmluZ18pLGU/dGhpcy5hZGRDbGFzcyhcInZqcy1zY3J1YmJpbmdcIik6dGhpcy5yZW1vdmVDbGFzcyhcInZqcy1zY3J1YmJpbmdcIil9Y3VycmVudFRpbWUoZSl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGU/KGU8MCYmKGU9MCksdGhpcy5pc1JlYWR5XyYmIXRoaXMuY2hhbmdpbmdTcmNfJiZ0aGlzLnRlY2hfJiZ0aGlzLnRlY2hfLmlzUmVhZHlfPyh0aGlzLnRlY2hDYWxsXyhcInNldEN1cnJlbnRUaW1lXCIsZSksdm9pZCh0aGlzLmNhY2hlXy5pbml0VGltZT0wKSk6KHRoaXMuY2FjaGVfLmluaXRUaW1lPWUsdGhpcy5vZmYoXCJjYW5wbGF5XCIsdGhpcy5ib3VuZEFwcGx5SW5pdFRpbWVfKSx2b2lkIHRoaXMub25lKFwiY2FucGxheVwiLHRoaXMuYm91bmRBcHBseUluaXRUaW1lXykpKToodGhpcy5jYWNoZV8uY3VycmVudFRpbWU9dGhpcy50ZWNoR2V0XyhcImN1cnJlbnRUaW1lXCIpfHwwLHRoaXMuY2FjaGVfLmN1cnJlbnRUaW1lKX1hcHBseUluaXRUaW1lXygpe3RoaXMuY3VycmVudFRpbWUodGhpcy5jYWNoZV8uaW5pdFRpbWUpfWR1cmF0aW9uKGUpe2lmKHZvaWQgMD09PWUpcmV0dXJuIHZvaWQgMCE9PXRoaXMuY2FjaGVfLmR1cmF0aW9uP3RoaXMuY2FjaGVfLmR1cmF0aW9uOk5hTjsoZT0oZT1wYXJzZUZsb2F0KGUpKTwwPzEvMDplKSE9PXRoaXMuY2FjaGVfLmR1cmF0aW9uJiYoKHRoaXMuY2FjaGVfLmR1cmF0aW9uPWUpPT09MS8wP3RoaXMuYWRkQ2xhc3MoXCJ2anMtbGl2ZVwiKTp0aGlzLnJlbW92ZUNsYXNzKFwidmpzLWxpdmVcIiksaXNOYU4oZSl8fHRoaXMudHJpZ2dlcihcImR1cmF0aW9uY2hhbmdlXCIpKX1yZW1haW5pbmdUaW1lKCl7cmV0dXJuIHRoaXMuZHVyYXRpb24oKS10aGlzLmN1cnJlbnRUaW1lKCl9cmVtYWluaW5nVGltZURpc3BsYXkoKXtyZXR1cm4gTWF0aC5mbG9vcih0aGlzLmR1cmF0aW9uKCkpLU1hdGguZmxvb3IodGhpcy5jdXJyZW50VGltZSgpKX1idWZmZXJlZCgpe2xldCBlPXRoaXMudGVjaEdldF8oXCJidWZmZXJlZFwiKTtyZXR1cm4gZT1lJiZlLmxlbmd0aD9lOlJ0KDAsMCl9YnVmZmVyZWRQZXJjZW50KCl7cmV0dXJuIFZ0KHRoaXMuYnVmZmVyZWQoKSx0aGlzLmR1cmF0aW9uKCkpfWJ1ZmZlcmVkRW5kKCl7dmFyIGU9dGhpcy5idWZmZXJlZCgpLHQ9dGhpcy5kdXJhdGlvbigpO2xldCBpPWUuZW5kKGUubGVuZ3RoLTEpO3JldHVybiBpPWk+dD90Oml9dm9sdW1lKGUpe2xldCB0O2lmKHZvaWQgMD09PWUpcmV0dXJuIHQ9cGFyc2VGbG9hdCh0aGlzLnRlY2hHZXRfKFwidm9sdW1lXCIpKSxpc05hTih0KT8xOnQ7dD1NYXRoLm1heCgwLE1hdGgubWluKDEscGFyc2VGbG9hdChlKSkpLHRoaXMuY2FjaGVfLnZvbHVtZT10LHRoaXMudGVjaENhbGxfKFwic2V0Vm9sdW1lXCIsdCksMDx0JiZ0aGlzLmxhc3RWb2x1bWVfKHQpfW11dGVkKGUpe2lmKHZvaWQgMD09PWUpcmV0dXJuIHRoaXMudGVjaEdldF8oXCJtdXRlZFwiKXx8ITE7dGhpcy50ZWNoQ2FsbF8oXCJzZXRNdXRlZFwiLGUpfWRlZmF1bHRNdXRlZChlKXtyZXR1cm4gdm9pZCAwIT09ZT90aGlzLnRlY2hDYWxsXyhcInNldERlZmF1bHRNdXRlZFwiLGUpOnRoaXMudGVjaEdldF8oXCJkZWZhdWx0TXV0ZWRcIil8fCExfWxhc3RWb2x1bWVfKGUpe2lmKHZvaWQgMD09PWV8fDA9PT1lKXJldHVybiB0aGlzLmNhY2hlXy5sYXN0Vm9sdW1lO3RoaXMuY2FjaGVfLmxhc3RWb2x1bWU9ZX1zdXBwb3J0c0Z1bGxTY3JlZW4oKXtyZXR1cm4gdGhpcy50ZWNoR2V0XyhcInN1cHBvcnRzRnVsbFNjcmVlblwiKXx8ITF9aXNGdWxsc2NyZWVuKGUpe3ZhciB0O2lmKHZvaWQgMD09PWUpcmV0dXJuIHRoaXMuaXNGdWxsc2NyZWVuXzt0PXRoaXMuaXNGdWxsc2NyZWVuXyx0aGlzLmlzRnVsbHNjcmVlbl89Qm9vbGVhbihlKSx0aGlzLmlzRnVsbHNjcmVlbl8hPT10JiZ0aGlzLmZzQXBpXy5wcmVmaXhlZCYmdGhpcy50cmlnZ2VyKFwiZnVsbHNjcmVlbmNoYW5nZVwiKSx0aGlzLnRvZ2dsZUZ1bGxzY3JlZW5DbGFzc18oKX1yZXF1ZXN0RnVsbHNjcmVlbihhKXt0aGlzLmlzSW5QaWN0dXJlSW5QaWN0dXJlKCkmJnRoaXMuZXhpdFBpY3R1cmVJblBpY3R1cmUoKTtjb25zdCBvPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKChlLGkpPT57ZnVuY3Rpb24gcygpe28ub2ZmKFwiZnVsbHNjcmVlbmVycm9yXCIsciksby5vZmYoXCJmdWxsc2NyZWVuY2hhbmdlXCIsdCl9ZnVuY3Rpb24gdCgpe3MoKSxlKCl9ZnVuY3Rpb24gcihlLHQpe3MoKSxpKHQpfW8ub25lKFwiZnVsbHNjcmVlbmNoYW5nZVwiLHQpLG8ub25lKFwiZnVsbHNjcmVlbmVycm9yXCIscik7dmFyIG49by5yZXF1ZXN0RnVsbHNjcmVlbkhlbHBlcl8oYSk7biYmKG4udGhlbihzLHMpLG4udGhlbihlLGkpKX0pfXJlcXVlc3RGdWxsc2NyZWVuSGVscGVyXyhlKXtsZXQgdDtpZih0aGlzLmZzQXBpXy5wcmVmaXhlZHx8KHQ9dGhpcy5vcHRpb25zXy5mdWxsc2NyZWVuJiZ0aGlzLm9wdGlvbnNfLmZ1bGxzY3JlZW4ub3B0aW9uc3x8e30sdm9pZCAwIT09ZSYmKHQ9ZSkpLHRoaXMuZnNBcGlfLnJlcXVlc3RGdWxsc2NyZWVuKXJldHVybihlPXRoaXMuZWxfW3RoaXMuZnNBcGlfLnJlcXVlc3RGdWxsc2NyZWVuXSh0KSkmJmUudGhlbigoKT0+dGhpcy5pc0Z1bGxzY3JlZW4oITApLCgpPT50aGlzLmlzRnVsbHNjcmVlbighMSkpLGU7dGhpcy50ZWNoXy5zdXBwb3J0c0Z1bGxTY3JlZW4oKSYmITA9PSF0aGlzLm9wdGlvbnNfLnByZWZlckZ1bGxXaW5kb3c/dGhpcy50ZWNoQ2FsbF8oXCJlbnRlckZ1bGxTY3JlZW5cIik6dGhpcy5lbnRlckZ1bGxXaW5kb3coKX1leGl0RnVsbHNjcmVlbigpe2NvbnN0IGE9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoKGUsaSk9PntmdW5jdGlvbiBzKCl7YS5vZmYoXCJmdWxsc2NyZWVuZXJyb3JcIixyKSxhLm9mZihcImZ1bGxzY3JlZW5jaGFuZ2VcIix0KX1mdW5jdGlvbiB0KCl7cygpLGUoKX1mdW5jdGlvbiByKGUsdCl7cygpLGkodCl9YS5vbmUoXCJmdWxsc2NyZWVuY2hhbmdlXCIsdCksYS5vbmUoXCJmdWxsc2NyZWVuZXJyb3JcIixyKTt2YXIgbj1hLmV4aXRGdWxsc2NyZWVuSGVscGVyXygpO24mJihuLnRoZW4ocyxzKSxuLnRoZW4oZSxpKSl9KX1leGl0RnVsbHNjcmVlbkhlbHBlcl8oKXt2YXIgZTtpZih0aGlzLmZzQXBpXy5yZXF1ZXN0RnVsbHNjcmVlbilyZXR1cm4oZT1kb2N1bWVudFt0aGlzLmZzQXBpXy5leGl0RnVsbHNjcmVlbl0oKSkmJkd0KGUudGhlbigoKT0+dGhpcy5pc0Z1bGxzY3JlZW4oITEpKSksZTt0aGlzLnRlY2hfLnN1cHBvcnRzRnVsbFNjcmVlbigpJiYhMD09IXRoaXMub3B0aW9uc18ucHJlZmVyRnVsbFdpbmRvdz90aGlzLnRlY2hDYWxsXyhcImV4aXRGdWxsU2NyZWVuXCIpOnRoaXMuZXhpdEZ1bGxXaW5kb3coKX1lbnRlckZ1bGxXaW5kb3coKXt0aGlzLmlzRnVsbHNjcmVlbighMCksdGhpcy5pc0Z1bGxXaW5kb3c9ITAsdGhpcy5kb2NPcmlnT3ZlcmZsb3c9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLm92ZXJmbG93LG90KGRvY3VtZW50LFwia2V5ZG93blwiLHRoaXMuYm91bmRGdWxsV2luZG93T25Fc2NLZXlfKSxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUub3ZlcmZsb3c9XCJoaWRkZW5cIixrZShkb2N1bWVudC5ib2R5LFwidmpzLWZ1bGwtd2luZG93XCIpLHRoaXMudHJpZ2dlcihcImVudGVyRnVsbFdpbmRvd1wiKX1mdWxsV2luZG93T25Fc2NLZXkoZSl7ci5pc0V2ZW50S2V5KGUsXCJFc2NcIikmJiEwPT09dGhpcy5pc0Z1bGxzY3JlZW4oKSYmKHRoaXMuaXNGdWxsV2luZG93P3RoaXMuZXhpdEZ1bGxXaW5kb3coKTp0aGlzLmV4aXRGdWxsc2NyZWVuKCkpfWV4aXRGdWxsV2luZG93KCl7dGhpcy5pc0Z1bGxzY3JlZW4oITEpLHRoaXMuaXNGdWxsV2luZG93PSExLHAoZG9jdW1lbnQsXCJrZXlkb3duXCIsdGhpcy5ib3VuZEZ1bGxXaW5kb3dPbkVzY0tleV8pLGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5vdmVyZmxvdz10aGlzLmRvY09yaWdPdmVyZmxvdyxDZShkb2N1bWVudC5ib2R5LFwidmpzLWZ1bGwtd2luZG93XCIpLHRoaXMudHJpZ2dlcihcImV4aXRGdWxsV2luZG93XCIpfWRpc2FibGVQaWN0dXJlSW5QaWN0dXJlKGUpe2lmKHZvaWQgMD09PWUpcmV0dXJuIHRoaXMudGVjaEdldF8oXCJkaXNhYmxlUGljdHVyZUluUGljdHVyZVwiKTt0aGlzLnRlY2hDYWxsXyhcInNldERpc2FibGVQaWN0dXJlSW5QaWN0dXJlXCIsZSksdGhpcy5vcHRpb25zXy5kaXNhYmxlUGljdHVyZUluUGljdHVyZT1lLHRoaXMudHJpZ2dlcihcImRpc2FibGVwaWN0dXJlaW5waWN0dXJlY2hhbmdlZFwiKX1pc0luUGljdHVyZUluUGljdHVyZShlKXtpZih2b2lkIDA9PT1lKXJldHVybiEhdGhpcy5pc0luUGljdHVyZUluUGljdHVyZV87dGhpcy5pc0luUGljdHVyZUluUGljdHVyZV89ISFlLHRoaXMudG9nZ2xlUGljdHVyZUluUGljdHVyZUNsYXNzXygpfXJlcXVlc3RQaWN0dXJlSW5QaWN0dXJlKCl7aWYodGhpcy5vcHRpb25zXy5lbmFibGVEb2N1bWVudFBpY3R1cmVJblBpY3R1cmUmJndpbmRvdy5kb2N1bWVudFBpY3R1cmVJblBpY3R1cmUpe2NvbnN0IHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0aGlzLmVsKCkudGFnTmFtZSk7cmV0dXJuIHQuY2xhc3NMaXN0PXRoaXMuZWwoKS5jbGFzc0xpc3QsdC5jbGFzc0xpc3QuYWRkKFwidmpzLXBpcC1jb250YWluZXJcIiksdGhpcy5wb3N0ZXJJbWFnZSYmdC5hcHBlbmRDaGlsZCh0aGlzLnBvc3RlckltYWdlLmVsKCkuY2xvbmVOb2RlKCEwKSksdGhpcy50aXRsZUJhciYmdC5hcHBlbmRDaGlsZCh0aGlzLnRpdGxlQmFyLmVsKCkuY2xvbmVOb2RlKCEwKSksdC5hcHBlbmRDaGlsZChvKFwicFwiLHtjbGFzc05hbWU6XCJ2anMtcGlwLXRleHRcIn0se30sdGhpcy5sb2NhbGl6ZShcIlBsYXlpbmcgaW4gcGljdHVyZS1pbi1waWN0dXJlXCIpKSksd2luZG93LmRvY3VtZW50UGljdHVyZUluUGljdHVyZS5yZXF1ZXN0V2luZG93KHtpbml0aWFsQXNwZWN0UmF0aW86dGhpcy52aWRlb1dpZHRoKCkvdGhpcy52aWRlb0hlaWdodCgpLGNvcHlTdHlsZVNoZWV0czohMH0pLnRoZW4oZT0+KHRoaXMuZWxfLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHQsdGhpcy5lbF8pLGUuZG9jdW1lbnQuYm9keS5hcHBlbmQodGhpcy5lbF8pLGUuZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKFwidmpzLXBpcC13aW5kb3dcIiksdGhpcy5wbGF5ZXJfLmlzSW5QaWN0dXJlSW5QaWN0dXJlKCEwKSx0aGlzLnBsYXllcl8udHJpZ2dlcihcImVudGVycGljdHVyZWlucGljdHVyZVwiKSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJ1bmxvYWRcIixlPT57ZT1lLnRhcmdldC5xdWVyeVNlbGVjdG9yKFwiLnZpZGVvLWpzXCIpO3QucmVwbGFjZVdpdGgoZSksdGhpcy5wbGF5ZXJfLmlzSW5QaWN0dXJlSW5QaWN0dXJlKCExKSx0aGlzLnBsYXllcl8udHJpZ2dlcihcImxlYXZlcGljdHVyZWlucGljdHVyZVwiKX0pLGUpKX1yZXR1cm5cInBpY3R1cmVJblBpY3R1cmVFbmFibGVkXCJpbiBkb2N1bWVudCYmITE9PT10aGlzLmRpc2FibGVQaWN0dXJlSW5QaWN0dXJlKCk/dGhpcy50ZWNoR2V0XyhcInJlcXVlc3RQaWN0dXJlSW5QaWN0dXJlXCIpOlByb21pc2UucmVqZWN0KFwiTm8gUGlQIG1vZGUgaXMgYXZhaWxhYmxlXCIpfWV4aXRQaWN0dXJlSW5QaWN0dXJlKCl7cmV0dXJuIHdpbmRvdy5kb2N1bWVudFBpY3R1cmVJblBpY3R1cmUmJndpbmRvdy5kb2N1bWVudFBpY3R1cmVJblBpY3R1cmUud2luZG93Pyh3aW5kb3cuZG9jdW1lbnRQaWN0dXJlSW5QaWN0dXJlLndpbmRvdy5jbG9zZSgpLFByb21pc2UucmVzb2x2ZSgpKTpcInBpY3R1cmVJblBpY3R1cmVFbmFibGVkXCJpbiBkb2N1bWVudD9kb2N1bWVudC5leGl0UGljdHVyZUluUGljdHVyZSgpOnZvaWQgMH1oYW5kbGVLZXlEb3duKGUpe3ZhciB0LGkscz10aGlzLm9wdGlvbnNfW1widXNlckFjdGlvbnNcIl07cyYmcy5ob3RrZXlzJiYodD10aGlzLmVsXy5vd25lckRvY3VtZW50LmFjdGl2ZUVsZW1lbnQsaT10LnRhZ05hbWUudG9Mb3dlckNhc2UoKSx0LmlzQ29udGVudEVkaXRhYmxlfHwoXCJpbnB1dFwiPT09aT8tMT09PVtcImJ1dHRvblwiLFwiY2hlY2tib3hcIixcImhpZGRlblwiLFwicmFkaW9cIixcInJlc2V0XCIsXCJzdWJtaXRcIl0uaW5kZXhPZih0LnR5cGUpOi0xIT09W1widGV4dGFyZWFcIl0uaW5kZXhPZihpKSl8fChcImZ1bmN0aW9uXCI9PXR5cGVvZiBzLmhvdGtleXM/cy5ob3RrZXlzLmNhbGwodGhpcyxlKTp0aGlzLmhhbmRsZUhvdGtleXMoZSkpKX1oYW5kbGVIb3RrZXlzKGUpe3ZhcntmdWxsc2NyZWVuS2V5OnQ9ZT0+ci5pc0V2ZW50S2V5KGUsXCJmXCIpLG11dGVLZXk6aT1lPT5yLmlzRXZlbnRLZXkoZSxcIm1cIikscGxheVBhdXNlS2V5OnM9ZT0+ci5pc0V2ZW50S2V5KGUsXCJrXCIpfHxyLmlzRXZlbnRLZXkoZSxcIlNwYWNlXCIpfT10aGlzLm9wdGlvbnNfLnVzZXJBY3Rpb25zP3RoaXMub3B0aW9uc18udXNlckFjdGlvbnMuaG90a2V5czp7fTt0LmNhbGwodGhpcyxlKT8oZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcFByb3BhZ2F0aW9uKCksdD1mLmdldENvbXBvbmVudChcIkZ1bGxzY3JlZW5Ub2dnbGVcIiksITEhPT1kb2N1bWVudFt0aGlzLmZzQXBpXy5mdWxsc2NyZWVuRW5hYmxlZF0mJnQucHJvdG90eXBlLmhhbmRsZUNsaWNrLmNhbGwodGhpcyxlKSk6aS5jYWxsKHRoaXMsZSk/KGUucHJldmVudERlZmF1bHQoKSxlLnN0b3BQcm9wYWdhdGlvbigpLGYuZ2V0Q29tcG9uZW50KFwiTXV0ZVRvZ2dsZVwiKS5wcm90b3R5cGUuaGFuZGxlQ2xpY2suY2FsbCh0aGlzLGUpKTpzLmNhbGwodGhpcyxlKSYmKGUucHJldmVudERlZmF1bHQoKSxlLnN0b3BQcm9wYWdhdGlvbigpLGYuZ2V0Q29tcG9uZW50KFwiUGxheVRvZ2dsZVwiKS5wcm90b3R5cGUuaGFuZGxlQ2xpY2suY2FsbCh0aGlzLGUpKX1jYW5QbGF5VHlwZShzKXt2YXIgcjtmb3IobGV0IHQ9MCxpPXRoaXMub3B0aW9uc18udGVjaE9yZGVyO3Q8aS5sZW5ndGg7dCsrKXt2YXIgbj1pW3RdO2xldCBlPV8uZ2V0VGVjaChuKTtpZihlPWV8fGYuZ2V0Q29tcG9uZW50KG4pKXtpZihlLmlzU3VwcG9ydGVkKCkmJihyPWUuY2FuUGxheVR5cGUocykpKXJldHVybiByfWVsc2UgZC5lcnJvcihgVGhlIFwiJHtufVwiIHRlY2ggaXMgdW5kZWZpbmVkLiBTa2lwcGVkIGJyb3dzZXIgc3VwcG9ydCBjaGVjayBmb3IgdGhhdCB0ZWNoLmApfXJldHVyblwiXCJ9c2VsZWN0U291cmNlKGUpe2Z1bmN0aW9uIHQoZSxpLHMpe2xldCByO3JldHVybiBlLnNvbWUodD0+aS5zb21lKGU9PntpZihyPXModCxlKSlyZXR1cm4hMH0pKSxyfXZhciBpPXRoaXMub3B0aW9uc18udGVjaE9yZGVyLm1hcChlPT5bZSxfLmdldFRlY2goZSldKS5maWx0ZXIoKFtlLHRdKT0+dD90LmlzU3VwcG9ydGVkKCk6KGQuZXJyb3IoYFRoZSBcIiR7ZX1cIiB0ZWNoIGlzIHVuZGVmaW5lZC4gU2tpcHBlZCBicm93c2VyIHN1cHBvcnQgY2hlY2sgZm9yIHRoYXQgdGVjaC5gKSwhMSkpO2xldCBzO3ZhciByLG49KFtlLHRdLGkpPT57aWYodC5jYW5QbGF5U291cmNlKGksdGhpcy5vcHRpb25zX1tlLnRvTG93ZXJDYXNlKCldKSlyZXR1cm57c291cmNlOmksdGVjaDplfX07cmV0dXJuKHM9dGhpcy5vcHRpb25zXy5zb3VyY2VPcmRlcj90KGUsaSwocj1uLChlLHQpPT5yKHQsZSkpKTp0KGksZSxuKSl8fCExfWhhbmRsZVNyY18oZSxzKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgZSlyZXR1cm4gdGhpcy5jYWNoZV8uc3JjfHxcIlwiO3RoaXMucmVzZXRSZXRyeU9uRXJyb3JfJiZ0aGlzLnJlc2V0UmV0cnlPbkVycm9yXygpO2NvbnN0IHI9YnMoZSk7aWYoci5sZW5ndGgpe2lmKHRoaXMuY2hhbmdpbmdTcmNfPSEwLHN8fCh0aGlzLmNhY2hlXy5zb3VyY2VzPXIpLHRoaXMudXBkYXRlU291cmNlQ2FjaGVzXyhyWzBdKSxwcyh0aGlzLHJbMF0sKGUsdCk9Pnt2YXIgaTtpZih0aGlzLm1pZGRsZXdhcmVfPXQsc3x8KHRoaXMuY2FjaGVfLnNvdXJjZXM9ciksdGhpcy51cGRhdGVTb3VyY2VDYWNoZXNfKGUpLHRoaXMuc3JjXyhlKSlyZXR1cm4gMTxyLmxlbmd0aD90aGlzLmhhbmRsZVNyY18oci5zbGljZSgxKSk6KHRoaXMuY2hhbmdpbmdTcmNfPSExLHRoaXMuc2V0VGltZW91dChmdW5jdGlvbigpe3RoaXMuZXJyb3Ioe2NvZGU6NCxtZXNzYWdlOnRoaXMub3B0aW9uc18ubm90U3VwcG9ydGVkTWVzc2FnZX0pfSwwKSx2b2lkIHRoaXMudHJpZ2dlclJlYWR5KCkpO2k9dGhpcy50ZWNoXyx0LmZvckVhY2goZT0+ZS5zZXRUZWNoJiZlLnNldFRlY2goaSkpfSksMTxyLmxlbmd0aCl7Y29uc3QgdD0oKT0+e3RoaXMuZXJyb3IobnVsbCksdGhpcy5oYW5kbGVTcmNfKHIuc2xpY2UoMSksITApfSxpPSgpPT57dGhpcy5vZmYoXCJlcnJvclwiLHQpfTt0aGlzLm9uZShcImVycm9yXCIsdCksdGhpcy5vbmUoXCJwbGF5aW5nXCIsaSksdGhpcy5yZXNldFJldHJ5T25FcnJvcl89KCk9Pnt0aGlzLm9mZihcImVycm9yXCIsdCksdGhpcy5vZmYoXCJwbGF5aW5nXCIsaSl9fX1lbHNlIHRoaXMuc2V0VGltZW91dChmdW5jdGlvbigpe3RoaXMuZXJyb3Ioe2NvZGU6NCxtZXNzYWdlOnRoaXMub3B0aW9uc18ubm90U3VwcG9ydGVkTWVzc2FnZX0pfSwwKX1zcmMoZSl7cmV0dXJuIHRoaXMuaGFuZGxlU3JjXyhlLCExKX1zcmNfKGUpe3ZhciB0PXRoaXMuc2VsZWN0U291cmNlKFtlXSk7cmV0dXJuIXR8fChQdCh0LnRlY2gsdGhpcy50ZWNoTmFtZV8pP3RoaXMucmVhZHkoZnVuY3Rpb24oKXt0aGlzLnRlY2hfLmNvbnN0cnVjdG9yLnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eShcInNldFNvdXJjZVwiKT90aGlzLnRlY2hDYWxsXyhcInNldFNvdXJjZVwiLGUpOnRoaXMudGVjaENhbGxfKFwic3JjXCIsZS5zcmMpLHRoaXMuY2hhbmdpbmdTcmNfPSExfSwhMCk6KHRoaXMuY2hhbmdpbmdTcmNfPSEwLHRoaXMubG9hZFRlY2hfKHQudGVjaCx0LnNvdXJjZSksdGhpcy50ZWNoXy5yZWFkeSgoKT0+e3RoaXMuY2hhbmdpbmdTcmNfPSExfSkpLCExKX1sb2FkKCl7dGhpcy50ZWNoQ2FsbF8oXCJsb2FkXCIpfXJlc2V0KCl7dGhpcy5wYXVzZWQoKT90aGlzLmRvUmVzZXRfKCk6R3QodGhpcy5wbGF5KCkudGhlbigoKT0+dGhpcy5kb1Jlc2V0XygpKSl9ZG9SZXNldF8oKXt0aGlzLnRlY2hfJiZ0aGlzLnRlY2hfLmNsZWFyVHJhY2tzKFwidGV4dFwiKSx0aGlzLnJlc2V0Q2FjaGVfKCksdGhpcy5wb3N0ZXIoXCJcIiksdGhpcy5sb2FkVGVjaF8odGhpcy5vcHRpb25zXy50ZWNoT3JkZXJbMF0sbnVsbCksdGhpcy50ZWNoQ2FsbF8oXCJyZXNldFwiKSx0aGlzLnJlc2V0Q29udHJvbEJhclVJXygpLF90KHRoaXMpJiZ0aGlzLnRyaWdnZXIoXCJwbGF5ZXJyZXNldFwiKX1yZXNldENvbnRyb2xCYXJVSV8oKXt0aGlzLnJlc2V0UHJvZ3Jlc3NCYXJfKCksdGhpcy5yZXNldFBsYXliYWNrUmF0ZV8oKSx0aGlzLnJlc2V0Vm9sdW1lQmFyXygpfXJlc2V0UHJvZ3Jlc3NCYXJfKCl7dGhpcy5jdXJyZW50VGltZSgwKTt2YXJ7Y3VycmVudFRpbWVEaXNwbGF5OmUsZHVyYXRpb25EaXNwbGF5OnQscHJvZ3Jlc3NDb250cm9sOmkscmVtYWluaW5nVGltZURpc3BsYXk6c309dGhpcy5jb250cm9sQmFyfHx7fSxpPShpfHx7fSlbXCJzZWVrQmFyXCJdO2UmJmUudXBkYXRlQ29udGVudCgpLHQmJnQudXBkYXRlQ29udGVudCgpLHMmJnMudXBkYXRlQ29udGVudCgpLGkmJihpLnVwZGF0ZSgpLGkubG9hZFByb2dyZXNzQmFyKSYmaS5sb2FkUHJvZ3Jlc3NCYXIudXBkYXRlKCl9cmVzZXRQbGF5YmFja1JhdGVfKCl7dGhpcy5wbGF5YmFja1JhdGUodGhpcy5kZWZhdWx0UGxheWJhY2tSYXRlKCkpLHRoaXMuaGFuZGxlVGVjaFJhdGVDaGFuZ2VfKCl9cmVzZXRWb2x1bWVCYXJfKCl7dGhpcy52b2x1bWUoMSksdGhpcy50cmlnZ2VyKFwidm9sdW1lY2hhbmdlXCIpfWN1cnJlbnRTb3VyY2VzKCl7dmFyIGU9dGhpcy5jdXJyZW50U291cmNlKCksdD1bXTtyZXR1cm4gMCE9PU9iamVjdC5rZXlzKGUpLmxlbmd0aCYmdC5wdXNoKGUpLHRoaXMuY2FjaGVfLnNvdXJjZXN8fHR9Y3VycmVudFNvdXJjZSgpe3JldHVybiB0aGlzLmNhY2hlXy5zb3VyY2V8fHt9fWN1cnJlbnRTcmMoKXtyZXR1cm4gdGhpcy5jdXJyZW50U291cmNlKCkmJnRoaXMuY3VycmVudFNvdXJjZSgpLnNyY3x8XCJcIn1jdXJyZW50VHlwZSgpe3JldHVybiB0aGlzLmN1cnJlbnRTb3VyY2UoKSYmdGhpcy5jdXJyZW50U291cmNlKCkudHlwZXx8XCJcIn1wcmVsb2FkKGUpe2lmKHZvaWQgMD09PWUpcmV0dXJuIHRoaXMudGVjaEdldF8oXCJwcmVsb2FkXCIpO3RoaXMudGVjaENhbGxfKFwic2V0UHJlbG9hZFwiLGUpLHRoaXMub3B0aW9uc18ucHJlbG9hZD1lfWF1dG9wbGF5KGUpe2lmKHZvaWQgMD09PWUpcmV0dXJuIHRoaXMub3B0aW9uc18uYXV0b3BsYXl8fCExO2xldCB0O1wic3RyaW5nXCI9PXR5cGVvZiBlJiYvKGFueXxwbGF5fG11dGVkKS8udGVzdChlKXx8ITA9PT1lJiZ0aGlzLm9wdGlvbnNfLm5vcm1hbGl6ZUF1dG9wbGF5Pyh0aGlzLm9wdGlvbnNfLmF1dG9wbGF5PWUsdGhpcy5tYW51YWxBdXRvcGxheV8oXCJzdHJpbmdcIj09dHlwZW9mIGU/ZTpcInBsYXlcIiksdD0hMSk6dGhpcy5vcHRpb25zXy5hdXRvcGxheT0hIWUsdD1cInVuZGVmaW5lZFwiPT10eXBlb2YgdD90aGlzLm9wdGlvbnNfLmF1dG9wbGF5OnQsdGhpcy50ZWNoXyYmdGhpcy50ZWNoQ2FsbF8oXCJzZXRBdXRvcGxheVwiLHQpfXBsYXlzaW5saW5lKGUpe3JldHVybiB2b2lkIDAhPT1lPyh0aGlzLnRlY2hDYWxsXyhcInNldFBsYXlzaW5saW5lXCIsZSksdGhpcy5vcHRpb25zXy5wbGF5c2lubGluZT1lLHRoaXMpOnRoaXMudGVjaEdldF8oXCJwbGF5c2lubGluZVwiKX1sb29wKGUpe2lmKHZvaWQgMD09PWUpcmV0dXJuIHRoaXMudGVjaEdldF8oXCJsb29wXCIpO3RoaXMudGVjaENhbGxfKFwic2V0TG9vcFwiLGUpLHRoaXMub3B0aW9uc18ubG9vcD1lfXBvc3RlcihlKXtpZih2b2lkIDA9PT1lKXJldHVybiB0aGlzLnBvc3Rlcl87KGU9ZXx8XCJcIikhPT10aGlzLnBvc3Rlcl8mJih0aGlzLnBvc3Rlcl89ZSx0aGlzLnRlY2hDYWxsXyhcInNldFBvc3RlclwiLGUpLHRoaXMuaXNQb3N0ZXJGcm9tVGVjaF89ITEsdGhpcy50cmlnZ2VyKFwicG9zdGVyY2hhbmdlXCIpKX1oYW5kbGVUZWNoUG9zdGVyQ2hhbmdlXygpe3ZhciBlOyghdGhpcy5wb3N0ZXJffHx0aGlzLm9wdGlvbnNfLnRlY2hDYW5PdmVycmlkZVBvc3RlcikmJnRoaXMudGVjaF8mJnRoaXMudGVjaF8ucG9zdGVyJiYoZT10aGlzLnRlY2hfLnBvc3RlcigpfHxcIlwiKSE9PXRoaXMucG9zdGVyXyYmKHRoaXMucG9zdGVyXz1lLHRoaXMuaXNQb3N0ZXJGcm9tVGVjaF89ITAsdGhpcy50cmlnZ2VyKFwicG9zdGVyY2hhbmdlXCIpKX1jb250cm9scyhlKXtpZih2b2lkIDA9PT1lKXJldHVybiEhdGhpcy5jb250cm9sc187dGhpcy5jb250cm9sc18hPT0oZT0hIWUpJiYodGhpcy5jb250cm9sc189ZSx0aGlzLnVzaW5nTmF0aXZlQ29udHJvbHMoKSYmdGhpcy50ZWNoQ2FsbF8oXCJzZXRDb250cm9sc1wiLGUpLHRoaXMuY29udHJvbHNfPyh0aGlzLnJlbW92ZUNsYXNzKFwidmpzLWNvbnRyb2xzLWRpc2FibGVkXCIpLHRoaXMuYWRkQ2xhc3MoXCJ2anMtY29udHJvbHMtZW5hYmxlZFwiKSx0aGlzLnRyaWdnZXIoXCJjb250cm9sc2VuYWJsZWRcIiksdGhpcy51c2luZ05hdGl2ZUNvbnRyb2xzKCl8fHRoaXMuYWRkVGVjaENvbnRyb2xzTGlzdGVuZXJzXygpKToodGhpcy5yZW1vdmVDbGFzcyhcInZqcy1jb250cm9scy1lbmFibGVkXCIpLHRoaXMuYWRkQ2xhc3MoXCJ2anMtY29udHJvbHMtZGlzYWJsZWRcIiksdGhpcy50cmlnZ2VyKFwiY29udHJvbHNkaXNhYmxlZFwiKSx0aGlzLnVzaW5nTmF0aXZlQ29udHJvbHMoKXx8dGhpcy5yZW1vdmVUZWNoQ29udHJvbHNMaXN0ZW5lcnNfKCkpKX11c2luZ05hdGl2ZUNvbnRyb2xzKGUpe2lmKHZvaWQgMD09PWUpcmV0dXJuISF0aGlzLnVzaW5nTmF0aXZlQ29udHJvbHNfO3RoaXMudXNpbmdOYXRpdmVDb250cm9sc18hPT0oZT0hIWUpJiYodGhpcy51c2luZ05hdGl2ZUNvbnRyb2xzXz1lLHRoaXMudXNpbmdOYXRpdmVDb250cm9sc18/KHRoaXMuYWRkQ2xhc3MoXCJ2anMtdXNpbmctbmF0aXZlLWNvbnRyb2xzXCIpLHRoaXMudHJpZ2dlcihcInVzaW5nbmF0aXZlY29udHJvbHNcIikpOih0aGlzLnJlbW92ZUNsYXNzKFwidmpzLXVzaW5nLW5hdGl2ZS1jb250cm9sc1wiKSx0aGlzLnRyaWdnZXIoXCJ1c2luZ2N1c3RvbWNvbnRyb2xzXCIpKSl9ZXJyb3IodCl7aWYodm9pZCAwPT09dClyZXR1cm4gdGhpcy5lcnJvcl98fG51bGw7aWYoQihcImJlZm9yZWVycm9yXCIpLmZvckVhY2goZT0+e2U9ZSh0aGlzLHQpO0soZSkmJiFBcnJheS5pc0FycmF5KGUpfHxcInN0cmluZ1wiPT10eXBlb2YgZXx8XCJudW1iZXJcIj09dHlwZW9mIGV8fG51bGw9PT1lP3Q9ZTp0aGlzLmxvZy5lcnJvcihcInBsZWFzZSByZXR1cm4gYSB2YWx1ZSB0aGF0IE1lZGlhRXJyb3IgZXhwZWN0cyBpbiBiZWZvcmVlcnJvciBob29rc1wiKX0pLHRoaXMub3B0aW9uc18uc3VwcHJlc3NOb3RTdXBwb3J0ZWRFcnJvciYmdCYmND09PXQuY29kZSl7Y29uc3QgZT1mdW5jdGlvbigpe3RoaXMuZXJyb3IodCl9O3RoaXMub3B0aW9uc18uc3VwcHJlc3NOb3RTdXBwb3J0ZWRFcnJvcj0hMSx0aGlzLmFueShbXCJjbGlja1wiLFwidG91Y2hzdGFydFwiXSxlKSx2b2lkIHRoaXMub25lKFwibG9hZHN0YXJ0XCIsZnVuY3Rpb24oKXt0aGlzLm9mZihbXCJjbGlja1wiLFwidG91Y2hzdGFydFwiXSxlKX0pfWVsc2UgbnVsbD09PXQ/KHRoaXMuZXJyb3JfPXQsdGhpcy5yZW1vdmVDbGFzcyhcInZqcy1lcnJvclwiKSx0aGlzLmVycm9yRGlzcGxheSYmdGhpcy5lcnJvckRpc3BsYXkuY2xvc2UoKSk6KHRoaXMuZXJyb3JfPW5ldyBpKHQpLHRoaXMuYWRkQ2xhc3MoXCJ2anMtZXJyb3JcIiksZC5lcnJvcihgKENPREU6JHt0aGlzLmVycm9yXy5jb2RlfSAke2kuZXJyb3JUeXBlc1t0aGlzLmVycm9yXy5jb2RlXX0pYCx0aGlzLmVycm9yXy5tZXNzYWdlLHRoaXMuZXJyb3JfKSx0aGlzLnRyaWdnZXIoXCJlcnJvclwiKSxCKFwiZXJyb3JcIikuZm9yRWFjaChlPT5lKHRoaXMsdGhpcy5lcnJvcl8pKSl9cmVwb3J0VXNlckFjdGl2aXR5KGUpe3RoaXMudXNlckFjdGl2aXR5Xz0hMH11c2VyQWN0aXZlKGUpe2lmKHZvaWQgMD09PWUpcmV0dXJuIHRoaXMudXNlckFjdGl2ZV87KGU9ISFlKSE9PXRoaXMudXNlckFjdGl2ZV8mJih0aGlzLnVzZXJBY3RpdmVfPWUsdGhpcy51c2VyQWN0aXZlXz8odGhpcy51c2VyQWN0aXZpdHlfPSEwLHRoaXMucmVtb3ZlQ2xhc3MoXCJ2anMtdXNlci1pbmFjdGl2ZVwiKSx0aGlzLmFkZENsYXNzKFwidmpzLXVzZXItYWN0aXZlXCIpLHRoaXMudHJpZ2dlcihcInVzZXJhY3RpdmVcIikpOih0aGlzLnRlY2hfJiZ0aGlzLnRlY2hfLm9uZShcIm1vdXNlbW92ZVwiLGZ1bmN0aW9uKGUpe2Uuc3RvcFByb3BhZ2F0aW9uKCksZS5wcmV2ZW50RGVmYXVsdCgpfSksdGhpcy51c2VyQWN0aXZpdHlfPSExLHRoaXMucmVtb3ZlQ2xhc3MoXCJ2anMtdXNlci1hY3RpdmVcIiksdGhpcy5hZGRDbGFzcyhcInZqcy11c2VyLWluYWN0aXZlXCIpLHRoaXMudHJpZ2dlcihcInVzZXJpbmFjdGl2ZVwiKSkpfWxpc3RlbkZvclVzZXJBY3Rpdml0eV8oKXtsZXQgdCxpLHM7Y29uc3Qgcj1tKHRoaXMsdGhpcy5yZXBvcnRVc2VyQWN0aXZpdHkpO2Z1bmN0aW9uIGUoZSl7cigpLHRoaXMuY2xlYXJJbnRlcnZhbCh0KX10aGlzLm9uKFwibW91c2Vkb3duXCIsZnVuY3Rpb24oKXtyKCksdGhpcy5jbGVhckludGVydmFsKHQpLHQ9dGhpcy5zZXRJbnRlcnZhbChyLDI1MCl9KSx0aGlzLm9uKFwibW91c2Vtb3ZlXCIsZnVuY3Rpb24oZSl7ZS5zY3JlZW5YPT09aSYmZS5zY3JlZW5ZPT09c3x8KGk9ZS5zY3JlZW5YLHM9ZS5zY3JlZW5ZLHIoKSl9KSx0aGlzLm9uKFwibW91c2V1cFwiLGUpLHRoaXMub24oXCJtb3VzZWxlYXZlXCIsZSk7dmFyIG49dGhpcy5nZXRDaGlsZChcImNvbnRyb2xCYXJcIik7IW58fHV8fHRlfHwobi5vbihcIm1vdXNlZW50ZXJcIixmdW5jdGlvbihlKXswIT09dGhpcy5wbGF5ZXIoKS5vcHRpb25zXy5pbmFjdGl2aXR5VGltZW91dCYmKHRoaXMucGxheWVyKCkuY2FjaGVfLmluYWN0aXZpdHlUaW1lb3V0PXRoaXMucGxheWVyKCkub3B0aW9uc18uaW5hY3Rpdml0eVRpbWVvdXQpLHRoaXMucGxheWVyKCkub3B0aW9uc18uaW5hY3Rpdml0eVRpbWVvdXQ9MH0pLG4ub24oXCJtb3VzZWxlYXZlXCIsZnVuY3Rpb24oZSl7dGhpcy5wbGF5ZXIoKS5vcHRpb25zXy5pbmFjdGl2aXR5VGltZW91dD10aGlzLnBsYXllcigpLmNhY2hlXy5pbmFjdGl2aXR5VGltZW91dH0pKSx0aGlzLm9uKFwia2V5ZG93blwiLHIpLHRoaXMub24oXCJrZXl1cFwiLHIpO2xldCBhO3RoaXMuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXt2YXIgZTt0aGlzLnVzZXJBY3Rpdml0eV8mJih0aGlzLnVzZXJBY3Rpdml0eV89ITEsdGhpcy51c2VyQWN0aXZlKCEwKSx0aGlzLmNsZWFyVGltZW91dChhKSwoZT10aGlzLm9wdGlvbnNfLmluYWN0aXZpdHlUaW1lb3V0KTw9MHx8KGE9dGhpcy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhpcy51c2VyQWN0aXZpdHlffHx0aGlzLnVzZXJBY3RpdmUoITEpfSxlKSkpfSwyNTApfXBsYXliYWNrUmF0ZShlKXtpZih2b2lkIDA9PT1lKXJldHVybiB0aGlzLnRlY2hfJiZ0aGlzLnRlY2hfLmZlYXR1cmVzUGxheWJhY2tSYXRlP3RoaXMuY2FjaGVfLmxhc3RQbGF5YmFja1JhdGV8fHRoaXMudGVjaEdldF8oXCJwbGF5YmFja1JhdGVcIik6MTt0aGlzLnRlY2hDYWxsXyhcInNldFBsYXliYWNrUmF0ZVwiLGUpfWRlZmF1bHRQbGF5YmFja1JhdGUoZSl7cmV0dXJuIHZvaWQgMCE9PWU/dGhpcy50ZWNoQ2FsbF8oXCJzZXREZWZhdWx0UGxheWJhY2tSYXRlXCIsZSk6dGhpcy50ZWNoXyYmdGhpcy50ZWNoXy5mZWF0dXJlc1BsYXliYWNrUmF0ZT90aGlzLnRlY2hHZXRfKFwiZGVmYXVsdFBsYXliYWNrUmF0ZVwiKToxfWlzQXVkaW8oZSl7aWYodm9pZCAwPT09ZSlyZXR1cm4hIXRoaXMuaXNBdWRpb187dGhpcy5pc0F1ZGlvXz0hIWV9ZW5hYmxlQXVkaW9Pbmx5VUlfKCl7dGhpcy5hZGRDbGFzcyhcInZqcy1hdWRpby1vbmx5LW1vZGVcIik7dmFyIGU9dGhpcy5jaGlsZHJlbigpO2NvbnN0IHQ9dGhpcy5nZXRDaGlsZChcIkNvbnRyb2xCYXJcIik7dmFyIGk9dCYmdC5jdXJyZW50SGVpZ2h0KCk7ZS5mb3JFYWNoKGU9PntlIT09dCYmZS5lbF8mJiFlLmhhc0NsYXNzKFwidmpzLWhpZGRlblwiKSYmKGUuaGlkZSgpLHRoaXMuYXVkaW9Pbmx5Q2FjaGVfLmhpZGRlbkNoaWxkcmVuLnB1c2goZSkpfSksdGhpcy5hdWRpb09ubHlDYWNoZV8ucGxheWVySGVpZ2h0PXRoaXMuY3VycmVudEhlaWdodCgpLHRoaXMuaGVpZ2h0KGkpLHRoaXMudHJpZ2dlcihcImF1ZGlvb25seW1vZGVjaGFuZ2VcIil9ZGlzYWJsZUF1ZGlvT25seVVJXygpe3RoaXMucmVtb3ZlQ2xhc3MoXCJ2anMtYXVkaW8tb25seS1tb2RlXCIpLHRoaXMuYXVkaW9Pbmx5Q2FjaGVfLmhpZGRlbkNoaWxkcmVuLmZvckVhY2goZT0+ZS5zaG93KCkpLHRoaXMuaGVpZ2h0KHRoaXMuYXVkaW9Pbmx5Q2FjaGVfLnBsYXllckhlaWdodCksdGhpcy50cmlnZ2VyKFwiYXVkaW9vbmx5bW9kZWNoYW5nZVwiKX1hdWRpb09ubHlNb2RlKGUpe3JldHVyblwiYm9vbGVhblwiIT10eXBlb2YgZXx8ZT09PXRoaXMuYXVkaW9Pbmx5TW9kZV8/dGhpcy5hdWRpb09ubHlNb2RlXzoodGhpcy5hdWRpb09ubHlNb2RlXz1lKT8oZT1bXSx0aGlzLmlzSW5QaWN0dXJlSW5QaWN0dXJlKCkmJmUucHVzaCh0aGlzLmV4aXRQaWN0dXJlSW5QaWN0dXJlKCkpLHRoaXMuaXNGdWxsc2NyZWVuKCkmJmUucHVzaCh0aGlzLmV4aXRGdWxsc2NyZWVuKCkpLHRoaXMuYXVkaW9Qb3N0ZXJNb2RlKCkmJmUucHVzaCh0aGlzLmF1ZGlvUG9zdGVyTW9kZSghMSkpLFByb21pc2UuYWxsKGUpLnRoZW4oKCk9PnRoaXMuZW5hYmxlQXVkaW9Pbmx5VUlfKCkpKTpQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpPT50aGlzLmRpc2FibGVBdWRpb09ubHlVSV8oKSl9ZW5hYmxlUG9zdGVyTW9kZVVJXygpeyh0aGlzLnRlY2hfJiZ0aGlzLnRlY2hfKS5oaWRlKCksdGhpcy5hZGRDbGFzcyhcInZqcy1hdWRpby1wb3N0ZXItbW9kZVwiKSx0aGlzLnRyaWdnZXIoXCJhdWRpb3Bvc3Rlcm1vZGVjaGFuZ2VcIil9ZGlzYWJsZVBvc3Rlck1vZGVVSV8oKXsodGhpcy50ZWNoXyYmdGhpcy50ZWNoXykuc2hvdygpLHRoaXMucmVtb3ZlQ2xhc3MoXCJ2anMtYXVkaW8tcG9zdGVyLW1vZGVcIiksdGhpcy50cmlnZ2VyKFwiYXVkaW9wb3N0ZXJtb2RlY2hhbmdlXCIpfWF1ZGlvUG9zdGVyTW9kZShlKXtyZXR1cm5cImJvb2xlYW5cIiE9dHlwZW9mIGV8fGU9PT10aGlzLmF1ZGlvUG9zdGVyTW9kZV8/dGhpcy5hdWRpb1Bvc3Rlck1vZGVfOih0aGlzLmF1ZGlvUG9zdGVyTW9kZV89ZSk/KHRoaXMuYXVkaW9Pbmx5TW9kZSgpP3RoaXMuYXVkaW9Pbmx5TW9kZSghMSk6UHJvbWlzZS5yZXNvbHZlKCkpLnRoZW4oKCk9Pnt0aGlzLmVuYWJsZVBvc3Rlck1vZGVVSV8oKX0pOlByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCk9Pnt0aGlzLmRpc2FibGVQb3N0ZXJNb2RlVUlfKCl9KX1hZGRUZXh0VHJhY2soZSx0LGkpe2lmKHRoaXMudGVjaF8pcmV0dXJuIHRoaXMudGVjaF8uYWRkVGV4dFRyYWNrKGUsdCxpKX1hZGRSZW1vdGVUZXh0VHJhY2soZSx0KXtpZih0aGlzLnRlY2hfKXJldHVybiB0aGlzLnRlY2hfLmFkZFJlbW90ZVRleHRUcmFjayhlLHQpfXJlbW92ZVJlbW90ZVRleHRUcmFjayhlPXt9KXtsZXQgdD1lW1widHJhY2tcIl07aWYodD10fHxlLHRoaXMudGVjaF8pcmV0dXJuIHRoaXMudGVjaF8ucmVtb3ZlUmVtb3RlVGV4dFRyYWNrKHQpfWdldFZpZGVvUGxheWJhY2tRdWFsaXR5KCl7cmV0dXJuIHRoaXMudGVjaEdldF8oXCJnZXRWaWRlb1BsYXliYWNrUXVhbGl0eVwiKX12aWRlb1dpZHRoKCl7cmV0dXJuIHRoaXMudGVjaF8mJnRoaXMudGVjaF8udmlkZW9XaWR0aCYmdGhpcy50ZWNoXy52aWRlb1dpZHRoKCl8fDB9dmlkZW9IZWlnaHQoKXtyZXR1cm4gdGhpcy50ZWNoXyYmdGhpcy50ZWNoXy52aWRlb0hlaWdodCYmdGhpcy50ZWNoXy52aWRlb0hlaWdodCgpfHwwfWxhbmd1YWdlKGUpe2lmKHZvaWQgMD09PWUpcmV0dXJuIHRoaXMubGFuZ3VhZ2VfO3RoaXMubGFuZ3VhZ2VfIT09U3RyaW5nKGUpLnRvTG93ZXJDYXNlKCkmJih0aGlzLmxhbmd1YWdlXz1TdHJpbmcoZSkudG9Mb3dlckNhc2UoKSxfdCh0aGlzKSkmJnRoaXMudHJpZ2dlcihcImxhbmd1YWdlY2hhbmdlXCIpfWxhbmd1YWdlcygpe3JldHVybiBoKGIucHJvdG90eXBlLm9wdGlvbnNfLmxhbmd1YWdlcyx0aGlzLmxhbmd1YWdlc18pfXRvSlNPTigpe3ZhciB0PWgodGhpcy5vcHRpb25zXyksaT10LnRyYWNrczt0LnRyYWNrcz1bXTtmb3IobGV0IGU9MDtlPGkubGVuZ3RoO2UrKyl7dmFyIHM9aVtlXTsocz1oKHMpKS5wbGF5ZXI9dm9pZCAwLHQudHJhY2tzW2VdPXN9cmV0dXJuIHR9Y3JlYXRlTW9kYWwoZSx0KXsodD10fHx7fSkuY29udGVudD1lfHxcIlwiO2NvbnN0IGk9bmV3IFF0KHRoaXMsdCk7cmV0dXJuIHRoaXMuYWRkQ2hpbGQoaSksaS5vbihcImRpc3Bvc2VcIiwoKT0+e3RoaXMucmVtb3ZlQ2hpbGQoaSl9KSxpLm9wZW4oKSxpfXVwZGF0ZUN1cnJlbnRCcmVha3BvaW50Xygpe2lmKHRoaXMucmVzcG9uc2l2ZSgpKXt2YXIgdD10aGlzLmN1cnJlbnRCcmVha3BvaW50KCksaT10aGlzLmN1cnJlbnRXaWR0aCgpO2ZvcihsZXQgZT0wO2U8WnIubGVuZ3RoO2UrKyl7dmFyIHM9WnJbZV07aWYoaTw9dGhpcy5icmVha3BvaW50c19bc10pe2lmKHQ9PT1zKXJldHVybjt0JiZ0aGlzLnJlbW92ZUNsYXNzKGVuW3RdKSx0aGlzLmFkZENsYXNzKGVuW3NdKSx0aGlzLmJyZWFrcG9pbnRfPXM7YnJlYWt9fX19cmVtb3ZlQ3VycmVudEJyZWFrcG9pbnRfKCl7dmFyIGU9dGhpcy5jdXJyZW50QnJlYWtwb2ludENsYXNzKCk7dGhpcy5icmVha3BvaW50Xz1cIlwiLGUmJnRoaXMucmVtb3ZlQ2xhc3MoZSl9YnJlYWtwb2ludHMoZSl7cmV0dXJuIHZvaWQgMCE9PWUmJih0aGlzLmJyZWFrcG9pbnRfPVwiXCIsdGhpcy5icmVha3BvaW50c189T2JqZWN0LmFzc2lnbih7fSx0bixlKSx0aGlzLnVwZGF0ZUN1cnJlbnRCcmVha3BvaW50XygpKSxPYmplY3QuYXNzaWduKHRoaXMuYnJlYWtwb2ludHNfKX1yZXNwb25zaXZlKGUpe3JldHVybiB2b2lkIDA9PT1lP3RoaXMucmVzcG9uc2l2ZV86KGU9Qm9vbGVhbihlKSkhPT10aGlzLnJlc3BvbnNpdmVfPygodGhpcy5yZXNwb25zaXZlXz1lKT8odGhpcy5vbihcInBsYXllcnJlc2l6ZVwiLHRoaXMuYm91bmRVcGRhdGVDdXJyZW50QnJlYWtwb2ludF8pLHRoaXMudXBkYXRlQ3VycmVudEJyZWFrcG9pbnRfKCkpOih0aGlzLm9mZihcInBsYXllcnJlc2l6ZVwiLHRoaXMuYm91bmRVcGRhdGVDdXJyZW50QnJlYWtwb2ludF8pLHRoaXMucmVtb3ZlQ3VycmVudEJyZWFrcG9pbnRfKCkpLGUpOnZvaWQgMH1jdXJyZW50QnJlYWtwb2ludCgpe3JldHVybiB0aGlzLmJyZWFrcG9pbnRffWN1cnJlbnRCcmVha3BvaW50Q2xhc3MoKXtyZXR1cm4gZW5bdGhpcy5icmVha3BvaW50X118fFwiXCJ9bG9hZE1lZGlhKGUsdCl7dmFyIGkscyxyLG4sYSxvO2UmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiYodGhpcy5yZXNldCgpLHRoaXMuY2FjaGVfLm1lZGlhPWgoZSkse2FydGlzdDplLGFydHdvcms6aSxkZXNjcmlwdGlvbjpzLHBvc3RlcjpyLHNyYzpuLHRleHRUcmFja3M6YSx0aXRsZTpvfT10aGlzLmNhY2hlXy5tZWRpYSwhaSYmciYmKHRoaXMuY2FjaGVfLm1lZGlhLmFydHdvcms9W3tzcmM6cix0eXBlOlNzKHIpfV0pLG4mJnRoaXMuc3JjKG4pLHImJnRoaXMucG9zdGVyKHIpLEFycmF5LmlzQXJyYXkoYSkmJmEuZm9yRWFjaChlPT50aGlzLmFkZFJlbW90ZVRleHRUcmFjayhlLCExKSksdGhpcy50aXRsZUJhciYmdGhpcy50aXRsZUJhci51cGRhdGUoe3RpdGxlOm8sZGVzY3JpcHRpb246c3x8ZXx8XCJcIn0pLHRoaXMucmVhZHkodCkpfWdldE1lZGlhKCl7dmFyIGUsdDtyZXR1cm4gdGhpcy5jYWNoZV8ubWVkaWE/aCh0aGlzLmNhY2hlXy5tZWRpYSk6KGU9dGhpcy5wb3N0ZXIoKSx0PXtzcmM6dGhpcy5jdXJyZW50U291cmNlcygpLHRleHRUcmFja3M6QXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKHRoaXMucmVtb3RlVGV4dFRyYWNrcygpLGU9Pih7a2luZDplLmtpbmQsbGFiZWw6ZS5sYWJlbCxsYW5ndWFnZTplLmxhbmd1YWdlLHNyYzplLnNyY30pKX0sZSYmKHQucG9zdGVyPWUsdC5hcnR3b3JrPVt7c3JjOnQucG9zdGVyLHR5cGU6U3ModC5wb3N0ZXIpfV0pLHQpfXN0YXRpYyBnZXRUYWdTZXR0aW5ncyhlKXt2YXIgdCxpPXtzb3VyY2VzOltdLHRyYWNrczpbXX0scz1BZShlKSxyPXNbXCJkYXRhLXNldHVwXCJdO2lmKEVlKGUsXCJ2anMtZmlsbFwiKSYmKHMuZmlsbD0hMCksRWUoZSxcInZqcy1mbHVpZFwiKSYmKHMuZmx1aWQ9ITApLG51bGwhPT1yJiYoW3IsdF09JHQocnx8XCJ7fVwiKSxyJiZkLmVycm9yKHIpLE9iamVjdC5hc3NpZ24ocyx0KSksT2JqZWN0LmFzc2lnbihpLHMpLGUuaGFzQ2hpbGROb2RlcygpKXt2YXIgbj1lLmNoaWxkTm9kZXM7Zm9yKGxldCBlPTAsdD1uLmxlbmd0aDtlPHQ7ZSsrKXt2YXIgYT1uW2VdLG89YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1wic291cmNlXCI9PT1vP2kuc291cmNlcy5wdXNoKEFlKGEpKTpcInRyYWNrXCI9PT1vJiZpLnRyYWNrcy5wdXNoKEFlKGEpKX19cmV0dXJuIGl9ZGVidWcoZSl7aWYodm9pZCAwPT09ZSlyZXR1cm4gdGhpcy5kZWJ1Z0VuYWJsZWRfO2U/KHRoaXMudHJpZ2dlcihcImRlYnVnb25cIiksdGhpcy5wcmV2aW91c0xvZ0xldmVsXz10aGlzLmxvZy5sZXZlbCx0aGlzLmxvZy5sZXZlbChcImRlYnVnXCIpLHRoaXMuZGVidWdFbmFibGVkXz0hMCk6KHRoaXMudHJpZ2dlcihcImRlYnVnb2ZmXCIpLHRoaXMubG9nLmxldmVsKHRoaXMucHJldmlvdXNMb2dMZXZlbF8pLHRoaXMucHJldmlvdXNMb2dMZXZlbF89dm9pZCAwLHRoaXMuZGVidWdFbmFibGVkXz0hMSl9cGxheWJhY2tSYXRlcyhlKXtpZih2b2lkIDA9PT1lKXJldHVybiB0aGlzLmNhY2hlXy5wbGF5YmFja1JhdGVzO0FycmF5LmlzQXJyYXkoZSkmJmUuZXZlcnkoZT0+XCJudW1iZXJcIj09dHlwZW9mIGUpJiYodGhpcy5jYWNoZV8ucGxheWJhY2tSYXRlcz1lLHRoaXMudHJpZ2dlcihcInBsYXliYWNrcmF0ZXNjaGFuZ2VcIikpfX1hLm5hbWVzLmZvckVhY2goZnVuY3Rpb24oZSl7Y29uc3QgdD1hW2VdO2IucHJvdG90eXBlW3QuZ2V0dGVyTmFtZV09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZWNoXz90aGlzLnRlY2hfW3QuZ2V0dGVyTmFtZV0oKToodGhpc1t0LnByaXZhdGVOYW1lXT10aGlzW3QucHJpdmF0ZU5hbWVdfHxuZXcgdC5MaXN0Q2xhc3MsdGhpc1t0LnByaXZhdGVOYW1lXSl9fSksYi5wcm90b3R5cGUuY3Jvc3NvcmlnaW49Yi5wcm90b3R5cGUuY3Jvc3NPcmlnaW4sYi5wbGF5ZXJzPXt9O0RyPXdpbmRvdy5uYXZpZ2F0b3I7Yi5wcm90b3R5cGUub3B0aW9uc189e3RlY2hPcmRlcjpfLmRlZmF1bHRUZWNoT3JkZXJfLGh0bWw1Ont9LGVuYWJsZVNvdXJjZXNldDohMCxpbmFjdGl2aXR5VGltZW91dDoyZTMscGxheWJhY2tSYXRlczpbXSxsaXZldWk6ITEsY2hpbGRyZW46W1wibWVkaWFMb2FkZXJcIixcInBvc3RlckltYWdlXCIsXCJ0aXRsZUJhclwiLFwidGV4dFRyYWNrRGlzcGxheVwiLFwibG9hZGluZ1NwaW5uZXJcIixcImJpZ1BsYXlCdXR0b25cIixcImxpdmVUcmFja2VyXCIsXCJjb250cm9sQmFyXCIsXCJlcnJvckRpc3BsYXlcIixcInRleHRUcmFja1NldHRpbmdzXCIsXCJyZXNpemVNYW5hZ2VyXCJdLGxhbmd1YWdlOkRyJiYoRHIubGFuZ3VhZ2VzJiZEci5sYW5ndWFnZXNbMF18fERyLnVzZXJMYW5ndWFnZXx8RHIubGFuZ3VhZ2UpfHxcImVuXCIsbGFuZ3VhZ2VzOnt9LG5vdFN1cHBvcnRlZE1lc3NhZ2U6XCJObyBjb21wYXRpYmxlIHNvdXJjZSB3YXMgZm91bmQgZm9yIHRoaXMgbWVkaWEuXCIsbm9ybWFsaXplQXV0b3BsYXk6ITEsZnVsbHNjcmVlbjp7b3B0aW9uczp7bmF2aWdhdGlvblVJOlwiaGlkZVwifX0sYnJlYWtwb2ludHM6e30scmVzcG9uc2l2ZTohMSxhdWRpb09ubHlNb2RlOiExLGF1ZGlvUG9zdGVyTW9kZTohMX0sW1wiZW5kZWRcIixcInNlZWtpbmdcIixcInNlZWthYmxlXCIsXCJuZXR3b3JrU3RhdGVcIixcInJlYWR5U3RhdGVcIl0uZm9yRWFjaChmdW5jdGlvbihlKXtiLnByb3RvdHlwZVtlXT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRlY2hHZXRfKGUpfX0pLFFyLmZvckVhY2goZnVuY3Rpb24oZSl7Yi5wcm90b3R5cGVbYGhhbmRsZVRlY2gke2coZSl9X2BdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHJpZ2dlcihlKX19KSxmLnJlZ2lzdGVyQ29tcG9uZW50KFwiUGxheWVyXCIsYik7ZnVuY3Rpb24gc24odCxpKXtmdW5jdGlvbiBzKCl7aG4odGhpcyx7bmFtZTp0LHBsdWdpbjppLGluc3RhbmNlOm51bGx9LCEwKTt2YXIgZT1pLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZG4odGhpcyx0KSxobih0aGlzLHtuYW1lOnQscGx1Z2luOmksaW5zdGFuY2U6ZX0pLGV9cmV0dXJuIE9iamVjdC5rZXlzKGkpLmZvckVhY2goZnVuY3Rpb24oZSl7c1tlXT1pW2VdfSksc31jb25zdCBybj1cInBsdWdpblwiLG5uPVwiYWN0aXZlUGx1Z2luc19cIixhbj17fSxvbj1lPT5hbi5oYXNPd25Qcm9wZXJ0eShlKSxsbj1lPT5vbihlKT9hbltlXTp2b2lkIDAsZG49KGUsdCk9PntlW25uXT1lW25uXXx8e30sZVtubl1bdF09ITB9LGhuPShlLHQsaSk9PntpPShpP1wiYmVmb3JlXCI6XCJcIikrXCJwbHVnaW5zZXR1cFwiO2UudHJpZ2dlcihpLHQpLGUudHJpZ2dlcihpK1wiOlwiK3QubmFtZSx0KX0sdW49KGkscyk9PihzLnByb3RvdHlwZS5uYW1lPWksZnVuY3Rpb24oLi4uZSl7aG4odGhpcyx7bmFtZTppLHBsdWdpbjpzLGluc3RhbmNlOm51bGx9LCEwKTtjb25zdCB0PW5ldyBzKHRoaXMsLi4uZSk7cmV0dXJuIHRoaXNbaV09KCk9PnQsaG4odGhpcyx0LmdldEV2ZW50SGFzaCgpKSx0fSk7Y2xhc3MgY257Y29uc3RydWN0b3IoZSl7aWYodGhpcy5jb25zdHJ1Y3Rvcj09PWNuKXRocm93IG5ldyBFcnJvcihcIlBsdWdpbiBtdXN0IGJlIHN1Yi1jbGFzc2VkOyBub3QgZGlyZWN0bHkgaW5zdGFudGlhdGVkLlwiKTt0aGlzLnBsYXllcj1lLHRoaXMubG9nfHwodGhpcy5sb2c9dGhpcy5wbGF5ZXIubG9nLmNyZWF0ZUxvZ2dlcih0aGlzLm5hbWUpKSxDdCh0aGlzKSxkZWxldGUgdGhpcy50cmlnZ2VyLHh0KHRoaXMsdGhpcy5jb25zdHJ1Y3Rvci5kZWZhdWx0U3RhdGUpLGRuKGUsdGhpcy5uYW1lKSx0aGlzLmRpc3Bvc2U9dGhpcy5kaXNwb3NlLmJpbmQodGhpcyksZS5vbihcImRpc3Bvc2VcIix0aGlzLmRpc3Bvc2UpfXZlcnNpb24oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5WRVJTSU9OfWdldEV2ZW50SGFzaChlPXt9KXtyZXR1cm4gZS5uYW1lPXRoaXMubmFtZSxlLnBsdWdpbj10aGlzLmNvbnN0cnVjdG9yLGUuaW5zdGFuY2U9dGhpcyxlfXRyaWdnZXIoZSx0PXt9KXtyZXR1cm4gbHQodGhpcy5ldmVudEJ1c0VsXyxlLHRoaXMuZ2V0RXZlbnRIYXNoKHQpKX1oYW5kbGVTdGF0ZUNoYW5nZWQoZSl7fWRpc3Bvc2UoKXt2YXJ7bmFtZTplLHBsYXllcjp0fT10aGlzO3RoaXMudHJpZ2dlcihcImRpc3Bvc2VcIiksdGhpcy5vZmYoKSx0Lm9mZihcImRpc3Bvc2VcIix0aGlzLmRpc3Bvc2UpLHRbbm5dW2VdPSExLHRoaXMucGxheWVyPXRoaXMuc3RhdGU9bnVsbCx0W2VdPXVuKGUsYW5bZV0pfXN0YXRpYyBpc0Jhc2ljKGUpe2U9XCJzdHJpbmdcIj09dHlwZW9mIGU/bG4oZSk6ZTtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiYhY24ucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoZS5wcm90b3R5cGUpfXN0YXRpYyByZWdpc3RlclBsdWdpbihlLHQpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcihgSWxsZWdhbCBwbHVnaW4gbmFtZSwgXCIke2V9XCIsIG11c3QgYmUgYSBzdHJpbmcsIHdhcyAke3R5cGVvZiBlfS5gKTtpZihvbihlKSlkLndhcm4oYEEgcGx1Z2luIG5hbWVkIFwiJHtlfVwiIGFscmVhZHkgZXhpc3RzLiBZb3UgbWF5IHdhbnQgdG8gYXZvaWQgcmUtcmVnaXN0ZXJpbmcgcGx1Z2lucyFgKTtlbHNlIGlmKGIucHJvdG90eXBlLmhhc093blByb3BlcnR5KGUpKXRocm93IG5ldyBFcnJvcihgSWxsZWdhbCBwbHVnaW4gbmFtZSwgXCIke2V9XCIsIGNhbm5vdCBzaGFyZSBhIG5hbWUgd2l0aCBhbiBleGlzdGluZyBwbGF5ZXIgbWV0aG9kIWApO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgbmV3IEVycm9yKGBJbGxlZ2FsIHBsdWdpbiBmb3IgXCIke2V9XCIsIG11c3QgYmUgYSBmdW5jdGlvbiwgd2FzICR7dHlwZW9mIHR9LmApO3JldHVybiBhbltlXT10LGUhPT1ybiYmKGNuLmlzQmFzaWModCk/Yi5wcm90b3R5cGVbZV09c24oZSx0KTpiLnByb3RvdHlwZVtlXT11bihlLHQpKSx0fXN0YXRpYyBkZXJlZ2lzdGVyUGx1Z2luKGUpe2lmKGU9PT1ybil0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZGUtcmVnaXN0ZXIgYmFzZSBwbHVnaW4uXCIpO29uKGUpJiYoZGVsZXRlIGFuW2VdLGRlbGV0ZSBiLnByb3RvdHlwZVtlXSl9c3RhdGljIGdldFBsdWdpbnMoZT1PYmplY3Qua2V5cyhhbikpe2xldCBpO3JldHVybiBlLmZvckVhY2goZT0+e3ZhciB0PWxuKGUpO3QmJigoaT1pfHx7fSlbZV09dCl9KSxpfXN0YXRpYyBnZXRQbHVnaW5WZXJzaW9uKGUpe2U9bG4oZSk7cmV0dXJuIGUmJmUuVkVSU0lPTnx8XCJcIn19ZnVuY3Rpb24gcG4oZSxpLHMscil7e3ZhciBuPWkrYCBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gJHtlfS4wOyBwbGVhc2UgdXNlICR7c30gaW5zdGVhZC5gLGE9cjtsZXQgdD0hMTtyZXR1cm4gZnVuY3Rpb24oLi4uZSl7cmV0dXJuIHR8fGQud2FybihuKSx0PSEwLGEuYXBwbHkodGhpcyxlKX19fWNuLmdldFBsdWdpbj1sbixjbi5CQVNFX1BMVUdJTl9OQU1FPXJuLGNuLnJlZ2lzdGVyUGx1Z2luKHJuLGNuKSxiLnByb3RvdHlwZS51c2luZ1BsdWdpbj1mdW5jdGlvbihlKXtyZXR1cm4hIXRoaXNbbm5dJiYhMD09PXRoaXNbbm5dW2VdfSxiLnByb3RvdHlwZS5oYXNQbHVnaW49ZnVuY3Rpb24oZSl7cmV0dXJuISFvbihlKX07Y29uc3QgbW49ZT0+MD09PWUuaW5kZXhPZihcIiNcIik/ZS5zbGljZSgxKTplO2Z1bmN0aW9uIFQoZSx0LGkpe2xldCBzPVQuZ2V0UGxheWVyKGUpO2lmKHMpdCYmZC53YXJuKGBQbGF5ZXIgXCIke2V9XCIgaXMgYWxyZWFkeSBpbml0aWFsaXNlZC4gT3B0aW9ucyB3aWxsIG5vdCBiZSBhcHBsaWVkLmApLGkmJnMucmVhZHkoaSk7ZWxzZXtjb25zdCByPVwic3RyaW5nXCI9PXR5cGVvZiBlPyRlKFwiI1wiK21uKGUpKTplO2lmKCF2ZShyKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiVGhlIGVsZW1lbnQgb3IgSUQgc3VwcGxpZWQgaXMgbm90IHZhbGlkLiAodmlkZW9qcylcIik7ci5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3JiZyLm93bmVyRG9jdW1lbnQuYm9keS5jb250YWlucyhyKXx8ZC53YXJuKFwiVGhlIGVsZW1lbnQgc3VwcGxpZWQgaXMgbm90IGluY2x1ZGVkIGluIHRoZSBET01cIiksITA9PT0odD10fHx7fSkucmVzdG9yZUVsJiYodC5yZXN0b3JlRWw9KHIucGFyZW50Tm9kZSYmci5wYXJlbnROb2RlLmhhc0F0dHJpYnV0ZShcImRhdGEtdmpzLXBsYXllclwiKT9yLnBhcmVudE5vZGU6cikuY2xvbmVOb2RlKCEwKSksQihcImJlZm9yZXNldHVwXCIpLmZvckVhY2goZT0+e2U9ZShyLGgodCkpOyFLKGUpfHxBcnJheS5pc0FycmF5KGUpP2QuZXJyb3IoXCJwbGVhc2UgcmV0dXJuIGFuIG9iamVjdCBpbiBiZWZvcmVzZXR1cCBob29rc1wiKTp0PWgodCxlKX0pO2U9Zi5nZXRDb21wb25lbnQoXCJQbGF5ZXJcIik7cz1uZXcgZShyLHQsaSksQihcInNldHVwXCIpLmZvckVhY2goZT0+ZShzKSl9cmV0dXJuIHN9VC5ob29rc189VSxULmhvb2tzPUIsVC5ob29rPWZ1bmN0aW9uKGUsdCl7QihlLHQpfSxULmhvb2tPbmNlPWZ1bmN0aW9uKHMsZSl7QihzLFtdLmNvbmNhdChlKS5tYXAodD0+e2NvbnN0IGk9KC4uLmUpPT4oRihzLGkpLHQoLi4uZSkpO3JldHVybiBpfSkpfSxULnJlbW92ZUhvb2s9RiwhMCE9PXdpbmRvdy5WSURFT0pTX05PX0RZTkFNSUNfU1RZTEUmJl9lKCkmJiEoTWk9JGUoXCIudmpzLXN0eWxlcy1kZWZhdWx0c1wiKSkmJihNaT1aZShcInZqcy1zdHlsZXMtZGVmYXVsdHNcIiksKE9yPSRlKFwiaGVhZFwiKSkmJk9yLmluc2VydEJlZm9yZShNaSxPci5maXJzdENoaWxkKSxldChNaSxgXG4gICAgICAudmlkZW8tanMge1xuICAgICAgICB3aWR0aDogMzAwcHg7XG4gICAgICAgIGhlaWdodDogMTUwcHg7XG4gICAgICB9XG5cbiAgICAgIC52anMtZmx1aWQ6bm90KC52anMtYXVkaW8tb25seS1tb2RlKSB7XG4gICAgICAgIHBhZGRpbmctdG9wOiA1Ni4yNSVcbiAgICAgIH1cbiAgICBgKSksUWUoMSxUKSxULlZFUlNJT049UixULm9wdGlvbnM9Yi5wcm90b3R5cGUub3B0aW9uc18sVC5nZXRQbGF5ZXJzPSgpPT5iLnBsYXllcnMsVC5nZXRQbGF5ZXI9ZT0+e3ZhciB0PWIucGxheWVycztsZXQgaTtpZihcInN0cmluZ1wiPT10eXBlb2YgZSl7dmFyIHM9bW4oZSkscj10W3NdO2lmKHIpcmV0dXJuIHI7aT0kZShcIiNcIitzKX1lbHNlIGk9ZTtpZih2ZShpKSl7dmFye3BsYXllcjpyLHBsYXllcklkOnN9PWk7aWYocnx8dFtzXSlyZXR1cm4gcnx8dFtzXX19LFQuZ2V0QWxsUGxheWVycz0oKT0+T2JqZWN0LmtleXMoYi5wbGF5ZXJzKS5tYXAoZT0+Yi5wbGF5ZXJzW2VdKS5maWx0ZXIoQm9vbGVhbiksVC5wbGF5ZXJzPWIucGxheWVycyxULmdldENvbXBvbmVudD1mLmdldENvbXBvbmVudCxULnJlZ2lzdGVyQ29tcG9uZW50PShlLHQpPT57Xy5pc1RlY2godCkmJmQud2FybihgVGhlICR7ZX0gdGVjaCB3YXMgcmVnaXN0ZXJlZCBhcyBhIGNvbXBvbmVudC4gSXQgc2hvdWxkIGluc3RlYWQgYmUgcmVnaXN0ZXJlZCB1c2luZyB2aWRlb2pzLnJlZ2lzdGVyVGVjaChuYW1lLCB0ZWNoKWApLGYucmVnaXN0ZXJDb21wb25lbnQuY2FsbChmLGUsdCl9LFQuZ2V0VGVjaD1fLmdldFRlY2gsVC5yZWdpc3RlclRlY2g9Xy5yZWdpc3RlclRlY2gsVC51c2U9ZnVuY3Rpb24oZSx0KXtoc1tlXT1oc1tlXXx8W10saHNbZV0ucHVzaCh0KX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KFQsXCJtaWRkbGV3YXJlXCIse3ZhbHVlOnt9LHdyaXRlYWJsZTohMSxlbnVtZXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KFQubWlkZGxld2FyZSxcIlRFUk1JTkFUT1JcIix7dmFsdWU6Y3Msd3JpdGVhYmxlOiExLGVudW1lcmFibGU6ITB9KSxULmJyb3dzZXI9ZSxULm9iaj1KLFQubWVyZ2VPcHRpb25zPXBuKDksXCJ2aWRlb2pzLm1lcmdlT3B0aW9uc1wiLFwidmlkZW9qcy5vYmoubWVyZ2VcIixoKSxULmRlZmluZUxhenlQcm9wZXJ0eT1wbig5LFwidmlkZW9qcy5kZWZpbmVMYXp5UHJvcGVydHlcIixcInZpZGVvanMub2JqLmRlZmluZUxhenlQcm9wZXJ0eVwiLFEpLFQuYmluZD1wbig5LFwidmlkZW9qcy5iaW5kXCIsXCJuYXRpdmUgRnVuY3Rpb24ucHJvdG90eXBlLmJpbmRcIixtKSxULnJlZ2lzdGVyUGx1Z2luPWNuLnJlZ2lzdGVyUGx1Z2luLFQuZGVyZWdpc3RlclBsdWdpbj1jbi5kZXJlZ2lzdGVyUGx1Z2luLFQucGx1Z2luPShlLHQpPT4oZC53YXJuKFwidmlkZW9qcy5wbHVnaW4oKSBpcyBkZXByZWNhdGVkOyB1c2UgdmlkZW9qcy5yZWdpc3RlclBsdWdpbigpIGluc3RlYWRcIiksY24ucmVnaXN0ZXJQbHVnaW4oZSx0KSksVC5nZXRQbHVnaW5zPWNuLmdldFBsdWdpbnMsVC5nZXRQbHVnaW49Y24uZ2V0UGx1Z2luLFQuZ2V0UGx1Z2luVmVyc2lvbj1jbi5nZXRQbHVnaW5WZXJzaW9uLFQuYWRkTGFuZ3VhZ2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT0oXCJcIitlKS50b0xvd2VyQ2FzZSgpLFQub3B0aW9ucy5sYW5ndWFnZXM9aChULm9wdGlvbnMubGFuZ3VhZ2VzLHtbZV06dH0pLFQub3B0aW9ucy5sYW5ndWFnZXNbZV19LFQubG9nPWQsVC5jcmVhdGVMb2dnZXI9VyxULnRpbWU9cXQsVC5jcmVhdGVUaW1lUmFuZ2U9cG4oOSxcInZpZGVvanMuY3JlYXRlVGltZVJhbmdlXCIsXCJ2aWRlb2pzLnRpbWUuY3JlYXRlVGltZVJhbmdlc1wiLFJ0KSxULmNyZWF0ZVRpbWVSYW5nZXM9cG4oOSxcInZpZGVvanMuY3JlYXRlVGltZVJhbmdlc1wiLFwidmlkZW9qcy50aW1lLmNyZWF0ZVRpbWVSYW5nZXNcIixSdCksVC5mb3JtYXRUaW1lPXBuKDksXCJ2aWRlb2pzLmZvcm1hdFRpbWVcIixcInZpZGVvanMudGltZS5mb3JtYXRUaW1lXCIsSHQpLFQuc2V0Rm9ybWF0VGltZT1wbig5LFwidmlkZW9qcy5zZXRGb3JtYXRUaW1lXCIsXCJ2aWRlb2pzLnRpbWUuc2V0Rm9ybWF0VGltZVwiLEZ0KSxULnJlc2V0Rm9ybWF0VGltZT1wbig5LFwidmlkZW9qcy5yZXNldEZvcm1hdFRpbWVcIixcInZpZGVvanMudGltZS5yZXNldEZvcm1hdFRpbWVcIixqdCksVC5wYXJzZVVybD1wbig5LFwidmlkZW9qcy5wYXJzZVVybFwiLFwidmlkZW9qcy51cmwucGFyc2VVcmxcIixsaSksVC5pc0Nyb3NzT3JpZ2luPXBuKDksXCJ2aWRlb2pzLmlzQ3Jvc3NPcmlnaW5cIixcInZpZGVvanMudXJsLmlzQ3Jvc3NPcmlnaW5cIixoaSksVC5FdmVudFRhcmdldD1mdCxULmFueT1odCxULm9uPW90LFQub25lPWR0LFQub2ZmPXAsVC50cmlnZ2VyPWx0LFQueGhyPWJpLFQuVGV4dFRyYWNrPUFpLFQuQXVkaW9UcmFjaz1QaSxULlZpZGVvVHJhY2s9TGksW1wiaXNFbFwiLFwiaXNUZXh0Tm9kZVwiLFwiY3JlYXRlRWxcIixcImhhc0NsYXNzXCIsXCJhZGRDbGFzc1wiLFwicmVtb3ZlQ2xhc3NcIixcInRvZ2dsZUNsYXNzXCIsXCJzZXRBdHRyaWJ1dGVzXCIsXCJnZXRBdHRyaWJ1dGVzXCIsXCJlbXB0eUVsXCIsXCJhcHBlbmRDb250ZW50XCIsXCJpbnNlcnRDb250ZW50XCJdLmZvckVhY2goZT0+e1RbZV09ZnVuY3Rpb24oKXtyZXR1cm4gZC53YXJuKGB2aWRlb2pzLiR7ZX0oKSBpcyBkZXByZWNhdGVkOyB1c2UgdmlkZW9qcy5kb20uJHtlfSgpIGluc3RlYWRgKSx6ZVtlXS5hcHBseShudWxsLGFyZ3VtZW50cyl9fSksVC5jb21wdXRlZFN0eWxlPXBuKDksXCJ2aWRlb2pzLmNvbXB1dGVkU3R5bGVcIixcInZpZGVvanMuZG9tLmNvbXB1dGVkU3R5bGVcIixHZSksVC5kb209emUsVC5mbj1tdCxULm51bT1waSxULnN0cj1MdCxULnVybD1jaSxEdChmdW5jdGlvbihlLHQpe1xuLyohIEBuYW1lIHZpZGVvanMtY29udHJpYi1xdWFsaXR5LWxldmVscyBAdmVyc2lvbiAzLjAuMCBAbGljZW5zZSBBcGFjaGUtMi4wICovXG5lLmV4cG9ydHM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXtyZXR1cm4gZSYmdHlwZW9mIGU9PT1cIm9iamVjdFwiJiZcImRlZmF1bHRcImluIGU/ZTp7ZGVmYXVsdDplfX12YXIgaT10KGUpO2NsYXNzIHN7Y29uc3RydWN0b3IoZSl7bGV0IHQ9dGhpczt0LmlkPWUuaWQ7dC5sYWJlbD10LmlkO3Qud2lkdGg9ZS53aWR0aDt0LmhlaWdodD1lLmhlaWdodDt0LmJpdHJhdGU9ZS5iYW5kd2lkdGg7dC5mcmFtZVJhdGU9ZS5mcmFtZVJhdGU7dC5lbmFibGVkXz1lLmVuYWJsZWQ7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJlbmFibGVkXCIse2dldCgpe3JldHVybiB0LmVuYWJsZWRfKCl9LHNldChlKXt0LmVuYWJsZWRfKGUpfX0pO3JldHVybiB0fX1jbGFzcyBuIGV4dGVuZHMgaVtcImRlZmF1bHRcIl0uRXZlbnRUYXJnZXR7Y29uc3RydWN0b3IoKXtzdXBlcigpO2xldCBlPXRoaXM7ZS5sZXZlbHNfPVtdO2Uuc2VsZWN0ZWRJbmRleF89LTE7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJzZWxlY3RlZEluZGV4XCIse2dldCgpe3JldHVybiBlLnNlbGVjdGVkSW5kZXhffX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwibGVuZ3RoXCIse2dldCgpe3JldHVybiBlLmxldmVsc18ubGVuZ3RofX0pO3JldHVybiBlfWFkZFF1YWxpdHlMZXZlbChlKXtsZXQgdD10aGlzLmdldFF1YWxpdHlMZXZlbEJ5SWQoZS5pZCk7aWYodClyZXR1cm4gdDtjb25zdCBpPXRoaXMubGV2ZWxzXy5sZW5ndGg7dD1uZXcgcyhlKTtpZighKFwiXCIraSBpbiB0aGlzKSlPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxpLHtnZXQoKXtyZXR1cm4gdGhpcy5sZXZlbHNfW2ldfX0pO3RoaXMubGV2ZWxzXy5wdXNoKHQpO3RoaXMudHJpZ2dlcih7cXVhbGl0eUxldmVsOnQsdHlwZTpcImFkZHF1YWxpdHlsZXZlbFwifSk7cmV0dXJuIHR9cmVtb3ZlUXVhbGl0eUxldmVsKGkpe2xldCBzPW51bGw7Zm9yKGxldCBlPTAsdD10aGlzLmxlbmd0aDtlPHQ7ZSsrKWlmKHRoaXNbZV09PT1pKXtzPXRoaXMubGV2ZWxzXy5zcGxpY2UoZSwxKVswXTtpZih0aGlzLnNlbGVjdGVkSW5kZXhfPT09ZSl0aGlzLnNlbGVjdGVkSW5kZXhfPS0xO2Vsc2UgaWYodGhpcy5zZWxlY3RlZEluZGV4Xz5lKXRoaXMuc2VsZWN0ZWRJbmRleF8tLTticmVha31pZihzKXRoaXMudHJpZ2dlcih7cXVhbGl0eUxldmVsOmksdHlwZTpcInJlbW92ZXF1YWxpdHlsZXZlbFwifSk7cmV0dXJuIHN9Z2V0UXVhbGl0eUxldmVsQnlJZChpKXtmb3IobGV0IGU9MCx0PXRoaXMubGVuZ3RoO2U8dDtlKyspe2NvbnN0IHM9dGhpc1tlXTtpZihzLmlkPT09aSlyZXR1cm4gc31yZXR1cm4gbnVsbH1kaXNwb3NlKCl7dGhpcy5zZWxlY3RlZEluZGV4Xz0tMTt0aGlzLmxldmVsc18ubGVuZ3RoPTB9fW4ucHJvdG90eXBlLmFsbG93ZWRFdmVudHNfPXtjaGFuZ2U6XCJjaGFuZ2VcIixhZGRxdWFsaXR5bGV2ZWw6XCJhZGRxdWFsaXR5bGV2ZWxcIixyZW1vdmVxdWFsaXR5bGV2ZWw6XCJyZW1vdmVxdWFsaXR5bGV2ZWxcIn07Zm9yKGNvbnN0IGQgaW4gbi5wcm90b3R5cGUuYWxsb3dlZEV2ZW50c18pbi5wcm90b3R5cGVbXCJvblwiK2RdPW51bGw7dmFyIGE9XCIzLjAuMFwiO2NvbnN0IHI9aVtcImRlZmF1bHRcIl0ucmVnaXN0ZXJQbHVnaW58fGlbXCJkZWZhdWx0XCJdLnBsdWdpbixvPWZ1bmN0aW9uKGUsdCl7Y29uc3QgaT1lLnF1YWxpdHlMZXZlbHM7Y29uc3Qgcz1uZXcgbjtjb25zdCByPWZ1bmN0aW9uKCl7cy5kaXNwb3NlKCk7ZS5xdWFsaXR5TGV2ZWxzPWk7ZS5vZmYoXCJkaXNwb3NlXCIscil9O2Uub24oXCJkaXNwb3NlXCIscik7ZS5xdWFsaXR5TGV2ZWxzPSgpPT5zO2UucXVhbGl0eUxldmVscy5WRVJTSU9OPWE7cmV0dXJuIHN9LGw9ZnVuY3Rpb24oZSl7cmV0dXJuIG8odGhpcyxpW1wiZGVmYXVsdFwiXS5tZXJnZU9wdGlvbnMoe30sZSkpfTtyZXR1cm4gcihcInF1YWxpdHlMZXZlbHNcIixsKSxsLlZFUlNJT049YSxsfShUKX0pO3ZhciBnbj1EdChmdW5jdGlvbihlLHQpe3ZhciBpLG4scyxyLGE7aT0vXig/PSgoPzpbYS16QS1aMC05K1xcLS5dKzopPykpXFwxKD89KCg/OlxcL1xcL1teXFwvPyNdKik/KSlcXDIoPz0oKD86KD86W14/I1xcL10qXFwvKSpbXjs/I1xcL10qKT8pKVxcMygoPzo7W14/I10qKT8pKFxcP1teI10qKT8oI1teXSopPyQvLG49L14oPz0oW15cXC8/I10qKSlcXDEoW15dKikkLyxzPS8oPzpcXC98XilcXC4oPz1cXC8pL2cscj0vKD86XFwvfF4pXFwuXFwuXFwvKD8hXFwuXFwuXFwvKVteXFwvXSooPz1cXC8pL2csYT17YnVpbGRBYnNvbHV0ZVVSTDpmdW5jdGlvbihlLHQsaSl7aWYoaT1pfHx7fSxlPWUudHJpbSgpLCEodD10LnRyaW0oKSkpe2lmKCFpLmFsd2F5c05vcm1hbGl6ZSlyZXR1cm4gZTt2YXIgcz1hLnBhcnNlVVJMKGUpO2lmKHMpcmV0dXJuIHMucGF0aD1hLm5vcm1hbGl6ZVBhdGgocy5wYXRoKSxhLmJ1aWxkVVJMRnJvbVBhcnRzKHMpO3Rocm93IG5ldyBFcnJvcihcIkVycm9yIHRyeWluZyB0byBwYXJzZSBiYXNlIFVSTC5cIil9cz1hLnBhcnNlVVJMKHQpO2lmKCFzKXRocm93IG5ldyBFcnJvcihcIkVycm9yIHRyeWluZyB0byBwYXJzZSByZWxhdGl2ZSBVUkwuXCIpO2lmKHMuc2NoZW1lKXJldHVybiBpLmFsd2F5c05vcm1hbGl6ZT8ocy5wYXRoPWEubm9ybWFsaXplUGF0aChzLnBhdGgpLGEuYnVpbGRVUkxGcm9tUGFydHMocykpOnQ7dD1hLnBhcnNlVVJMKGUpO2lmKCF0KXRocm93IG5ldyBFcnJvcihcIkVycm9yIHRyeWluZyB0byBwYXJzZSBiYXNlIFVSTC5cIik7IXQubmV0TG9jJiZ0LnBhdGgmJlwiL1wiIT09dC5wYXRoWzBdJiYoZT1uLmV4ZWModC5wYXRoKSx0Lm5ldExvYz1lWzFdLHQucGF0aD1lWzJdKSx0Lm5ldExvYyYmIXQucGF0aCYmKHQucGF0aD1cIi9cIik7dmFyIHIsZT17c2NoZW1lOnQuc2NoZW1lLG5ldExvYzpzLm5ldExvYyxwYXRoOm51bGwscGFyYW1zOnMucGFyYW1zLHF1ZXJ5OnMucXVlcnksZnJhZ21lbnQ6cy5mcmFnbWVudH07cmV0dXJuIHMubmV0TG9jfHwoZS5uZXRMb2M9dC5uZXRMb2MsXCIvXCIhPT1zLnBhdGhbMF0mJihzLnBhdGg/KHI9KHI9dC5wYXRoKS5zdWJzdHJpbmcoMCxyLmxhc3RJbmRleE9mKFwiL1wiKSsxKStzLnBhdGgsZS5wYXRoPWEubm9ybWFsaXplUGF0aChyKSk6KGUucGF0aD10LnBhdGgscy5wYXJhbXN8fChlLnBhcmFtcz10LnBhcmFtcyxzLnF1ZXJ5KXx8KGUucXVlcnk9dC5xdWVyeSkpKSksbnVsbD09PWUucGF0aCYmKGUucGF0aD1pLmFsd2F5c05vcm1hbGl6ZT9hLm5vcm1hbGl6ZVBhdGgocy5wYXRoKTpzLnBhdGgpLGEuYnVpbGRVUkxGcm9tUGFydHMoZSl9LHBhcnNlVVJMOmZ1bmN0aW9uKGUpe2U9aS5leGVjKGUpO3JldHVybiBlP3tzY2hlbWU6ZVsxXXx8XCJcIixuZXRMb2M6ZVsyXXx8XCJcIixwYXRoOmVbM118fFwiXCIscGFyYW1zOmVbNF18fFwiXCIscXVlcnk6ZVs1XXx8XCJcIixmcmFnbWVudDplWzZdfHxcIlwifTpudWxsfSxub3JtYWxpemVQYXRoOmZ1bmN0aW9uKGUpe2ZvcihlPWUuc3BsaXQoXCJcIikucmV2ZXJzZSgpLmpvaW4oXCJcIikucmVwbGFjZShzLFwiXCIpO2UubGVuZ3RoIT09KGU9ZS5yZXBsYWNlKHIsXCJcIikpLmxlbmd0aDspO3JldHVybiBlLnNwbGl0KFwiXCIpLnJldmVyc2UoKS5qb2luKFwiXCIpfSxidWlsZFVSTEZyb21QYXJ0czpmdW5jdGlvbihlKXtyZXR1cm4gZS5zY2hlbWUrZS5uZXRMb2MrZS5wYXRoK2UucGFyYW1zK2UucXVlcnkrZS5mcmFnbWVudH19LGUuZXhwb3J0cz1hfSksZm49XCJodHRwOi8vZXhhbXBsZS5jb21cIixMcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmxpc3RlbmVycz17fX12YXIgdD1lLnByb3RvdHlwZTtyZXR1cm4gdC5vbj1mdW5jdGlvbihlLHQpe3RoaXMubGlzdGVuZXJzW2VdfHwodGhpcy5saXN0ZW5lcnNbZV09W10pLHRoaXMubGlzdGVuZXJzW2VdLnB1c2godCl9LHQub2ZmPWZ1bmN0aW9uKGUsdCl7cmV0dXJuISF0aGlzLmxpc3RlbmVyc1tlXSYmKHQ9dGhpcy5saXN0ZW5lcnNbZV0uaW5kZXhPZih0KSx0aGlzLmxpc3RlbmVyc1tlXT10aGlzLmxpc3RlbmVyc1tlXS5zbGljZSgwKSx0aGlzLmxpc3RlbmVyc1tlXS5zcGxpY2UodCwxKSwtMTx0KX0sdC50cmlnZ2VyPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMubGlzdGVuZXJzW2VdO2lmKHQpaWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpZm9yKHZhciBpPXQubGVuZ3RoLHM9MDtzPGk7KytzKXRbc10uY2FsbCh0aGlzLGFyZ3VtZW50c1sxXSk7ZWxzZSBmb3IodmFyIHI9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLG49dC5sZW5ndGgsYT0wO2E8bjsrK2EpdFthXS5hcHBseSh0aGlzLHIpfSx0LmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLmxpc3RlbmVycz17fX0sdC5waXBlPWZ1bmN0aW9uKHQpe3RoaXMub24oXCJkYXRhXCIsZnVuY3Rpb24oZSl7dC5wdXNoKGUpfSl9LGV9KCk7ZnVuY3Rpb24geW4oZSl7ZT1lO2Zvcih2YXIgdD13aW5kb3cuYXRvYj93aW5kb3cuYXRvYihlKTpCdWZmZXIuZnJvbShlLFwiYmFzZTY0XCIpLnRvU3RyaW5nKFwiYmluYXJ5XCIpLGk9bmV3IFVpbnQ4QXJyYXkodC5sZW5ndGgpLHM9MDtzPHQubGVuZ3RoO3MrKylpW3NdPXQuY2hhckNvZGVBdChzKTtyZXR1cm4gaX1cbi8qISBAbmFtZSBtM3U4LXBhcnNlciBAdmVyc2lvbiA2LjAuMCBAbGljZW5zZSBBcGFjaGUtMi4wICovY2xhc3MgX24gZXh0ZW5kcyBMcntjb25zdHJ1Y3Rvcigpe3N1cGVyKCksdGhpcy5idWZmZXI9XCJcIn1wdXNoKGUpe2xldCB0O2Zvcih0aGlzLmJ1ZmZlcis9ZSx0PXRoaXMuYnVmZmVyLmluZGV4T2YoXCJcXG5cIik7LTE8dDt0PXRoaXMuYnVmZmVyLmluZGV4T2YoXCJcXG5cIikpdGhpcy50cmlnZ2VyKFwiZGF0YVwiLHRoaXMuYnVmZmVyLnN1YnN0cmluZygwLHQpKSx0aGlzLmJ1ZmZlcj10aGlzLmJ1ZmZlci5zdWJzdHJpbmcodCsxKX19ZnVuY3Rpb24gdm4oZSl7dmFyIGU9LyhbMC05Ll0qKT9APyhbMC05Ll0qKT8vLmV4ZWMoZXx8XCJcIiksdD17fTtyZXR1cm4gZVsxXSYmKHQubGVuZ3RoPXBhcnNlSW50KGVbMV0sMTApKSxlWzJdJiYodC5vZmZzZXQ9cGFyc2VJbnQoZVsyXSwxMCkpLHR9ZnVuY3Rpb24gYm4odCl7dmFyIGk9e307aWYodCl7dmFyIHMscj10LnNwbGl0KG5ldyBSZWdFeHAoJyg/Ol58LCkoKD86W149XSopPSg/OlwiW15cIl0qXCJ8W14sXSopKScpKTtsZXQgZT1yLmxlbmd0aDtmb3IoO2UtLTspXCJcIiE9PXJbZV0mJigocz0vKFtePV0qKT0oLiopLy5leGVjKHJbZV0pLnNsaWNlKDEpKVswXT1zWzBdLnJlcGxhY2UoL15cXHMrfFxccyskL2csXCJcIiksc1sxXT1zWzFdLnJlcGxhY2UoL15cXHMrfFxccyskL2csXCJcIiksc1sxXT1zWzFdLnJlcGxhY2UoL15bJ1wiXSguKilbJ1wiXSQvZyxcIiQxXCIpLGlbc1swXV09c1sxXSl9cmV0dXJuIGl9Y29uc3QgVG49U3RyaW5nLmZyb21DaGFyQ29kZSg5KTtjbGFzcyBTbiBleHRlbmRzIExye2NvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLmN1c3RvbVBhcnNlcnM9W10sdGhpcy50YWdNYXBwZXJzPVtdfXB1c2goaSl7bGV0IHMscjswIT09KGk9aS50cmltKCkpLmxlbmd0aCYmKFwiI1wiIT09aVswXT90aGlzLnRyaWdnZXIoXCJkYXRhXCIse3R5cGU6XCJ1cmlcIix1cmk6aX0pOnRoaXMudGFnTWFwcGVycy5yZWR1Y2UoKGUsdCk9Pnt0PXQoaSk7cmV0dXJuIHQ9PT1pP2U6ZS5jb25jYXQoW3RdKX0sW2ldKS5mb3JFYWNoKHQ9Pntmb3IobGV0IGU9MDtlPHRoaXMuY3VzdG9tUGFyc2Vycy5sZW5ndGg7ZSsrKWlmKHRoaXMuY3VzdG9tUGFyc2Vyc1tlXS5jYWxsKHRoaXMsdCkpcmV0dXJuO3ZhciBlLGk7MCE9PXQuaW5kZXhPZihcIiNFWFRcIik/dGhpcy50cmlnZ2VyKFwiZGF0YVwiLHt0eXBlOlwiY29tbWVudFwiLHRleHQ6dC5zbGljZSgxKX0pOih0PXQucmVwbGFjZShcIlxcclwiLFwiXCIpLChzPS9eI0VYVE0zVS8uZXhlYyh0KSk/dGhpcy50cmlnZ2VyKFwiZGF0YVwiLHt0eXBlOlwidGFnXCIsdGFnVHlwZTpcIm0zdVwifSk6KHM9L14jRVhUSU5GOihbMC05XFwuXSopPyw/KC4qKT8kLy5leGVjKHQpKT8ocj17dHlwZTpcInRhZ1wiLHRhZ1R5cGU6XCJpbmZcIn0sc1sxXSYmKHIuZHVyYXRpb249cGFyc2VGbG9hdChzWzFdKSksc1syXSYmKHIudGl0bGU9c1syXSksdGhpcy50cmlnZ2VyKFwiZGF0YVwiLHIpKToocz0vXiNFWFQtWC1UQVJHRVREVVJBVElPTjooWzAtOS5dKik/Ly5leGVjKHQpKT8ocj17dHlwZTpcInRhZ1wiLHRhZ1R5cGU6XCJ0YXJnZXRkdXJhdGlvblwifSxzWzFdJiYoci5kdXJhdGlvbj1wYXJzZUludChzWzFdLDEwKSksdGhpcy50cmlnZ2VyKFwiZGF0YVwiLHIpKToocz0vXiNFWFQtWC1WRVJTSU9OOihbMC05Ll0qKT8vLmV4ZWModCkpPyhyPXt0eXBlOlwidGFnXCIsdGFnVHlwZTpcInZlcnNpb25cIn0sc1sxXSYmKHIudmVyc2lvbj1wYXJzZUludChzWzFdLDEwKSksdGhpcy50cmlnZ2VyKFwiZGF0YVwiLHIpKToocz0vXiNFWFQtWC1NRURJQS1TRVFVRU5DRTooXFwtP1swLTkuXSopPy8uZXhlYyh0KSk/KHI9e3R5cGU6XCJ0YWdcIix0YWdUeXBlOlwibWVkaWEtc2VxdWVuY2VcIn0sc1sxXSYmKHIubnVtYmVyPXBhcnNlSW50KHNbMV0sMTApKSx0aGlzLnRyaWdnZXIoXCJkYXRhXCIscikpOihzPS9eI0VYVC1YLURJU0NPTlRJTlVJVFktU0VRVUVOQ0U6KFxcLT9bMC05Ll0qKT8vLmV4ZWModCkpPyhyPXt0eXBlOlwidGFnXCIsdGFnVHlwZTpcImRpc2NvbnRpbnVpdHktc2VxdWVuY2VcIn0sc1sxXSYmKHIubnVtYmVyPXBhcnNlSW50KHNbMV0sMTApKSx0aGlzLnRyaWdnZXIoXCJkYXRhXCIscikpOihzPS9eI0VYVC1YLVBMQVlMSVNULVRZUEU6KC4qKT8kLy5leGVjKHQpKT8ocj17dHlwZTpcInRhZ1wiLHRhZ1R5cGU6XCJwbGF5bGlzdC10eXBlXCJ9LHNbMV0mJihyLnBsYXlsaXN0VHlwZT1zWzFdKSx0aGlzLnRyaWdnZXIoXCJkYXRhXCIscikpOihzPS9eI0VYVC1YLUJZVEVSQU5HRTooLiopPyQvLmV4ZWModCkpPyhyPWZpKHZuKHNbMV0pLHt0eXBlOlwidGFnXCIsdGFnVHlwZTpcImJ5dGVyYW5nZVwifSksdGhpcy50cmlnZ2VyKFwiZGF0YVwiLHIpKToocz0vXiNFWFQtWC1BTExPVy1DQUNIRTooWUVTfE5PKT8vLmV4ZWModCkpPyhyPXt0eXBlOlwidGFnXCIsdGFnVHlwZTpcImFsbG93LWNhY2hlXCJ9LHNbMV0mJihyLmFsbG93ZWQ9IS9OTy8udGVzdChzWzFdKSksdGhpcy50cmlnZ2VyKFwiZGF0YVwiLHIpKToocz0vXiNFWFQtWC1NQVA6KC4qKSQvLmV4ZWModCkpPyhyPXt0eXBlOlwidGFnXCIsdGFnVHlwZTpcIm1hcFwifSxzWzFdJiYoKGk9Ym4oc1sxXSkpLlVSSSYmKHIudXJpPWkuVVJJKSxpLkJZVEVSQU5HRSkmJihyLmJ5dGVyYW5nZT12bihpLkJZVEVSQU5HRSkpLHRoaXMudHJpZ2dlcihcImRhdGFcIixyKSk6KHM9L14jRVhULVgtU1RSRUFNLUlORjooLiopJC8uZXhlYyh0KSk/KHI9e3R5cGU6XCJ0YWdcIix0YWdUeXBlOlwic3RyZWFtLWluZlwifSxzWzFdJiYoci5hdHRyaWJ1dGVzPWJuKHNbMV0pLHIuYXR0cmlidXRlcy5SRVNPTFVUSU9OJiYoaT17fSwoZT1yLmF0dHJpYnV0ZXMuUkVTT0xVVElPTi5zcGxpdChcInhcIikpWzBdJiYoaS53aWR0aD1wYXJzZUludChlWzBdLDEwKSksZVsxXSYmKGkuaGVpZ2h0PXBhcnNlSW50KGVbMV0sMTApKSxyLmF0dHJpYnV0ZXMuUkVTT0xVVElPTj1pKSxyLmF0dHJpYnV0ZXMuQkFORFdJRFRIJiYoci5hdHRyaWJ1dGVzLkJBTkRXSURUSD1wYXJzZUludChyLmF0dHJpYnV0ZXMuQkFORFdJRFRILDEwKSksci5hdHRyaWJ1dGVzW1wiRlJBTUUtUkFURVwiXSYmKHIuYXR0cmlidXRlc1tcIkZSQU1FLVJBVEVcIl09cGFyc2VGbG9hdChyLmF0dHJpYnV0ZXNbXCJGUkFNRS1SQVRFXCJdKSksci5hdHRyaWJ1dGVzW1wiUFJPR1JBTS1JRFwiXSkmJihyLmF0dHJpYnV0ZXNbXCJQUk9HUkFNLUlEXCJdPXBhcnNlSW50KHIuYXR0cmlidXRlc1tcIlBST0dSQU0tSURcIl0sMTApKSx0aGlzLnRyaWdnZXIoXCJkYXRhXCIscikpOihzPS9eI0VYVC1YLU1FRElBOiguKikkLy5leGVjKHQpKT8ocj17dHlwZTpcInRhZ1wiLHRhZ1R5cGU6XCJtZWRpYVwifSxzWzFdJiYoci5hdHRyaWJ1dGVzPWJuKHNbMV0pKSx0aGlzLnRyaWdnZXIoXCJkYXRhXCIscikpOihzPS9eI0VYVC1YLUVORExJU1QvLmV4ZWModCkpP3RoaXMudHJpZ2dlcihcImRhdGFcIix7dHlwZTpcInRhZ1wiLHRhZ1R5cGU6XCJlbmRsaXN0XCJ9KToocz0vXiNFWFQtWC1ESVNDT05USU5VSVRZLy5leGVjKHQpKT90aGlzLnRyaWdnZXIoXCJkYXRhXCIse3R5cGU6XCJ0YWdcIix0YWdUeXBlOlwiZGlzY29udGludWl0eVwifSk6KHM9L14jRVhULVgtUFJPR1JBTS1EQVRFLVRJTUU6KC4qKSQvLmV4ZWModCkpPyhyPXt0eXBlOlwidGFnXCIsdGFnVHlwZTpcInByb2dyYW0tZGF0ZS10aW1lXCJ9LHNbMV0mJihyLmRhdGVUaW1lU3RyaW5nPXNbMV0sci5kYXRlVGltZU9iamVjdD1uZXcgRGF0ZShzWzFdKSksdGhpcy50cmlnZ2VyKFwiZGF0YVwiLHIpKToocz0vXiNFWFQtWC1LRVk6KC4qKSQvLmV4ZWModCkpPyhyPXt0eXBlOlwidGFnXCIsdGFnVHlwZTpcImtleVwifSxzWzFdJiYoci5hdHRyaWJ1dGVzPWJuKHNbMV0pLHIuYXR0cmlidXRlcy5JVikmJihcIjB4XCI9PT1yLmF0dHJpYnV0ZXMuSVYuc3Vic3RyaW5nKDAsMikudG9Mb3dlckNhc2UoKSYmKHIuYXR0cmlidXRlcy5JVj1yLmF0dHJpYnV0ZXMuSVYuc3Vic3RyaW5nKDIpKSxyLmF0dHJpYnV0ZXMuSVY9ci5hdHRyaWJ1dGVzLklWLm1hdGNoKC8uezh9L2cpLHIuYXR0cmlidXRlcy5JVlswXT1wYXJzZUludChyLmF0dHJpYnV0ZXMuSVZbMF0sMTYpLHIuYXR0cmlidXRlcy5JVlsxXT1wYXJzZUludChyLmF0dHJpYnV0ZXMuSVZbMV0sMTYpLHIuYXR0cmlidXRlcy5JVlsyXT1wYXJzZUludChyLmF0dHJpYnV0ZXMuSVZbMl0sMTYpLHIuYXR0cmlidXRlcy5JVlszXT1wYXJzZUludChyLmF0dHJpYnV0ZXMuSVZbM10sMTYpLHIuYXR0cmlidXRlcy5JVj1uZXcgVWludDMyQXJyYXkoci5hdHRyaWJ1dGVzLklWKSksdGhpcy50cmlnZ2VyKFwiZGF0YVwiLHIpKToocz0vXiNFWFQtWC1TVEFSVDooLiopJC8uZXhlYyh0KSk/KHI9e3R5cGU6XCJ0YWdcIix0YWdUeXBlOlwic3RhcnRcIn0sc1sxXSYmKHIuYXR0cmlidXRlcz1ibihzWzFdKSxyLmF0dHJpYnV0ZXNbXCJUSU1FLU9GRlNFVFwiXT1wYXJzZUZsb2F0KHIuYXR0cmlidXRlc1tcIlRJTUUtT0ZGU0VUXCJdKSxyLmF0dHJpYnV0ZXMuUFJFQ0lTRT0vWUVTLy50ZXN0KHIuYXR0cmlidXRlcy5QUkVDSVNFKSksdGhpcy50cmlnZ2VyKFwiZGF0YVwiLHIpKToocz0vXiNFWFQtWC1DVUUtT1VULUNPTlQ6KC4qKT8kLy5leGVjKHQpKT8ocj17dHlwZTpcInRhZ1wiLHRhZ1R5cGU6XCJjdWUtb3V0LWNvbnRcIn0sc1sxXT9yLmRhdGE9c1sxXTpyLmRhdGE9XCJcIix0aGlzLnRyaWdnZXIoXCJkYXRhXCIscikpOihzPS9eI0VYVC1YLUNVRS1PVVQ6KC4qKT8kLy5leGVjKHQpKT8ocj17dHlwZTpcInRhZ1wiLHRhZ1R5cGU6XCJjdWUtb3V0XCJ9LHNbMV0/ci5kYXRhPXNbMV06ci5kYXRhPVwiXCIsdGhpcy50cmlnZ2VyKFwiZGF0YVwiLHIpKToocz0vXiNFWFQtWC1DVUUtSU46KC4qKT8kLy5leGVjKHQpKT8ocj17dHlwZTpcInRhZ1wiLHRhZ1R5cGU6XCJjdWUtaW5cIn0sc1sxXT9yLmRhdGE9c1sxXTpyLmRhdGE9XCJcIix0aGlzLnRyaWdnZXIoXCJkYXRhXCIscikpOihzPS9eI0VYVC1YLVNLSVA6KC4qKSQvLmV4ZWModCkpJiZzWzFdPygocj17dHlwZTpcInRhZ1wiLHRhZ1R5cGU6XCJza2lwXCJ9KS5hdHRyaWJ1dGVzPWJuKHNbMV0pLHIuYXR0cmlidXRlcy5oYXNPd25Qcm9wZXJ0eShcIlNLSVBQRUQtU0VHTUVOVFNcIikmJihyLmF0dHJpYnV0ZXNbXCJTS0lQUEVELVNFR01FTlRTXCJdPXBhcnNlSW50KHIuYXR0cmlidXRlc1tcIlNLSVBQRUQtU0VHTUVOVFNcIl0sMTApKSxyLmF0dHJpYnV0ZXMuaGFzT3duUHJvcGVydHkoXCJSRUNFTlRMWS1SRU1PVkVELURBVEVSQU5HRVNcIikmJihyLmF0dHJpYnV0ZXNbXCJSRUNFTlRMWS1SRU1PVkVELURBVEVSQU5HRVNcIl09ci5hdHRyaWJ1dGVzW1wiUkVDRU5UTFktUkVNT1ZFRC1EQVRFUkFOR0VTXCJdLnNwbGl0KFRuKSksdGhpcy50cmlnZ2VyKFwiZGF0YVwiLHIpKToocz0vXiNFWFQtWC1QQVJUOiguKikkLy5leGVjKHQpKSYmc1sxXT8oKHI9e3R5cGU6XCJ0YWdcIix0YWdUeXBlOlwicGFydFwifSkuYXR0cmlidXRlcz1ibihzWzFdKSxbXCJEVVJBVElPTlwiXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3IuYXR0cmlidXRlcy5oYXNPd25Qcm9wZXJ0eShlKSYmKHIuYXR0cmlidXRlc1tlXT1wYXJzZUZsb2F0KHIuYXR0cmlidXRlc1tlXSkpfSksW1wiSU5ERVBFTkRFTlRcIixcIkdBUFwiXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3IuYXR0cmlidXRlcy5oYXNPd25Qcm9wZXJ0eShlKSYmKHIuYXR0cmlidXRlc1tlXT0vWUVTLy50ZXN0KHIuYXR0cmlidXRlc1tlXSkpfSksci5hdHRyaWJ1dGVzLmhhc093blByb3BlcnR5KFwiQllURVJBTkdFXCIpJiYoci5hdHRyaWJ1dGVzLmJ5dGVyYW5nZT12bihyLmF0dHJpYnV0ZXMuQllURVJBTkdFKSksdGhpcy50cmlnZ2VyKFwiZGF0YVwiLHIpKToocz0vXiNFWFQtWC1TRVJWRVItQ09OVFJPTDooLiopJC8uZXhlYyh0KSkmJnNbMV0/KChyPXt0eXBlOlwidGFnXCIsdGFnVHlwZTpcInNlcnZlci1jb250cm9sXCJ9KS5hdHRyaWJ1dGVzPWJuKHNbMV0pLFtcIkNBTi1TS0lQLVVOVElMXCIsXCJQQVJULUhPTEQtQkFDS1wiLFwiSE9MRC1CQUNLXCJdLmZvckVhY2goZnVuY3Rpb24oZSl7ci5hdHRyaWJ1dGVzLmhhc093blByb3BlcnR5KGUpJiYoci5hdHRyaWJ1dGVzW2VdPXBhcnNlRmxvYXQoci5hdHRyaWJ1dGVzW2VdKSl9KSxbXCJDQU4tU0tJUC1EQVRFUkFOR0VTXCIsXCJDQU4tQkxPQ0stUkVMT0FEXCJdLmZvckVhY2goZnVuY3Rpb24oZSl7ci5hdHRyaWJ1dGVzLmhhc093blByb3BlcnR5KGUpJiYoci5hdHRyaWJ1dGVzW2VdPS9ZRVMvLnRlc3Qoci5hdHRyaWJ1dGVzW2VdKSl9KSx0aGlzLnRyaWdnZXIoXCJkYXRhXCIscikpOihzPS9eI0VYVC1YLVBBUlQtSU5GOiguKikkLy5leGVjKHQpKSYmc1sxXT8oKHI9e3R5cGU6XCJ0YWdcIix0YWdUeXBlOlwicGFydC1pbmZcIn0pLmF0dHJpYnV0ZXM9Ym4oc1sxXSksW1wiUEFSVC1UQVJHRVRcIl0uZm9yRWFjaChmdW5jdGlvbihlKXtyLmF0dHJpYnV0ZXMuaGFzT3duUHJvcGVydHkoZSkmJihyLmF0dHJpYnV0ZXNbZV09cGFyc2VGbG9hdChyLmF0dHJpYnV0ZXNbZV0pKX0pLHRoaXMudHJpZ2dlcihcImRhdGFcIixyKSk6KHM9L14jRVhULVgtUFJFTE9BRC1ISU5UOiguKikkLy5leGVjKHQpKSYmc1sxXT8oKHI9e3R5cGU6XCJ0YWdcIix0YWdUeXBlOlwicHJlbG9hZC1oaW50XCJ9KS5hdHRyaWJ1dGVzPWJuKHNbMV0pLFtcIkJZVEVSQU5HRS1TVEFSVFwiLFwiQllURVJBTkdFLUxFTkdUSFwiXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0O3IuYXR0cmlidXRlcy5oYXNPd25Qcm9wZXJ0eShlKSYmKHIuYXR0cmlidXRlc1tlXT1wYXJzZUludChyLmF0dHJpYnV0ZXNbZV0sMTApLHQ9XCJCWVRFUkFOR0UtTEVOR1RIXCI9PT1lP1wibGVuZ3RoXCI6XCJvZmZzZXRcIixyLmF0dHJpYnV0ZXMuYnl0ZXJhbmdlPXIuYXR0cmlidXRlcy5ieXRlcmFuZ2V8fHt9LHIuYXR0cmlidXRlcy5ieXRlcmFuZ2VbdF09ci5hdHRyaWJ1dGVzW2VdLGRlbGV0ZSByLmF0dHJpYnV0ZXNbZV0pfSksdGhpcy50cmlnZ2VyKFwiZGF0YVwiLHIpKToocz0vXiNFWFQtWC1SRU5ESVRJT04tUkVQT1JUOiguKikkLy5leGVjKHQpKSYmc1sxXT8oKHI9e3R5cGU6XCJ0YWdcIix0YWdUeXBlOlwicmVuZGl0aW9uLXJlcG9ydFwifSkuYXR0cmlidXRlcz1ibihzWzFdKSxbXCJMQVNULU1TTlwiLFwiTEFTVC1QQVJUXCJdLmZvckVhY2goZnVuY3Rpb24oZSl7ci5hdHRyaWJ1dGVzLmhhc093blByb3BlcnR5KGUpJiYoci5hdHRyaWJ1dGVzW2VdPXBhcnNlSW50KHIuYXR0cmlidXRlc1tlXSwxMCkpfSksdGhpcy50cmlnZ2VyKFwiZGF0YVwiLHIpKTp0aGlzLnRyaWdnZXIoXCJkYXRhXCIse3R5cGU6XCJ0YWdcIixkYXRhOnQuc2xpY2UoNCl9KSl9KSl9YWRkUGFyc2VyKHtleHByZXNzaW9uOnQsY3VzdG9tVHlwZTppLGRhdGFQYXJzZXI6cyxzZWdtZW50OnJ9KXtcImZ1bmN0aW9uXCIhPXR5cGVvZiBzJiYocz1lPT5lKSx0aGlzLmN1c3RvbVBhcnNlcnMucHVzaChlPT57aWYodC5leGVjKGUpKXJldHVybiB0aGlzLnRyaWdnZXIoXCJkYXRhXCIse3R5cGU6XCJjdXN0b21cIixkYXRhOnMoZSksY3VzdG9tVHlwZTppLHNlZ21lbnQ6cn0pLCEwfSl9YWRkVGFnTWFwcGVyKHtleHByZXNzaW9uOnQsbWFwOml9KXt0aGlzLnRhZ01hcHBlcnMucHVzaChlPT50LnRlc3QoZSk/aShlKTplKX19ZnVuY3Rpb24gd24odCl7Y29uc3QgaT17fTtyZXR1cm4gT2JqZWN0LmtleXModCkuZm9yRWFjaChmdW5jdGlvbihlKXtpW2UudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC8tKFxcdykvZyxlPT5lWzFdLnRvVXBwZXJDYXNlKCkpXT10W2VdfSksaX1mdW5jdGlvbiBFbihlKXt2YXIgdCxpLHMscixuLHtzZXJ2ZXJDb250cm9sOmUsdGFyZ2V0RHVyYXRpb246YSxwYXJ0VGFyZ2V0RHVyYXRpb246b309ZTtlJiYodD1cIiNFWFQtWC1TRVJWRVItQ09OVFJPTFwiLGk9XCJob2xkQmFja1wiLHM9XCJwYXJ0SG9sZEJhY2tcIixyPWEmJjMqYSxuPW8mJjIqbyxhJiYhZS5oYXNPd25Qcm9wZXJ0eShpKSYmKGVbaV09cix0aGlzLnRyaWdnZXIoXCJpbmZvXCIse21lc3NhZ2U6dCtgIGRlZmF1bHRpbmcgSE9MRC1CQUNLIHRvIHRhcmdldER1cmF0aW9uICogMyAoJHtyfSkuYH0pKSxyJiZlW2ldPHImJih0aGlzLnRyaWdnZXIoXCJ3YXJuXCIse21lc3NhZ2U6dCtgIGNsYW1waW5nIEhPTEQtQkFDSyAoJHtlW2ldfSkgdG8gdGFyZ2V0RHVyYXRpb24gKiAzICgke3J9KWB9KSxlW2ldPXIpLG8mJiFlLmhhc093blByb3BlcnR5KHMpJiYoZVtzXT0zKm8sdGhpcy50cmlnZ2VyKFwiaW5mb1wiLHttZXNzYWdlOnQrYCBkZWZhdWx0aW5nIFBBUlQtSE9MRC1CQUNLIHRvIHBhcnRUYXJnZXREdXJhdGlvbiAqIDMgKCR7ZVtzXX0pLmB9KSksbykmJmVbc108biYmKHRoaXMudHJpZ2dlcihcIndhcm5cIix7bWVzc2FnZTp0K2AgY2xhbXBpbmcgUEFSVC1IT0xELUJBQ0sgKCR7ZVtzXX0pIHRvIHBhcnRUYXJnZXREdXJhdGlvbiAqIDIgKCR7bn0pLmB9KSxlW3NdPW4pfWNsYXNzIGtuIGV4dGVuZHMgTHJ7Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMubGluZVN0cmVhbT1uZXcgX24sdGhpcy5wYXJzZVN0cmVhbT1uZXcgU24sdGhpcy5saW5lU3RyZWFtLnBpcGUodGhpcy5wYXJzZVN0cmVhbSk7Y29uc3QgZT10aGlzLHM9W107bGV0IGE9e30scixvLGw9ITE7Y29uc3QgZD17QVVESU86e30sVklERU86e30sXCJDTE9TRUQtQ0FQVElPTlNcIjp7fSxTVUJUSVRMRVM6e319O2xldCBoPTAsdT0odGhpcy5tYW5pZmVzdD17YWxsb3dDYWNoZTohMCxkaXNjb250aW51aXR5U3RhcnRzOltdLHNlZ21lbnRzOltdfSwwKSxjPTA7dGhpcy5vbihcImVuZFwiLCgpPT57YS51cml8fCFhLnBhcnRzJiYhYS5wcmVsb2FkSGludHN8fCghYS5tYXAmJnImJihhLm1hcD1yKSwhYS5rZXkmJm8mJihhLmtleT1vKSxhLnRpbWVsaW5lfHxcIm51bWJlclwiIT10eXBlb2YgaHx8KGEudGltZWxpbmU9aCksdGhpcy5tYW5pZmVzdC5wcmVsb2FkU2VnbWVudD1hKX0pLHRoaXMucGFyc2VTdHJlYW0ub24oXCJkYXRhXCIsZnVuY3Rpb24obil7bGV0IHQsaTsoe3RhZygpeyh7dmVyc2lvbigpe24udmVyc2lvbiYmKHRoaXMubWFuaWZlc3QudmVyc2lvbj1uLnZlcnNpb24pfSxcImFsbG93LWNhY2hlXCIoKXt0aGlzLm1hbmlmZXN0LmFsbG93Q2FjaGU9bi5hbGxvd2VkLFwiYWxsb3dlZFwiaW4gbnx8KHRoaXMudHJpZ2dlcihcImluZm9cIix7bWVzc2FnZTpcImRlZmF1bHRpbmcgYWxsb3dDYWNoZSB0byBZRVNcIn0pLHRoaXMubWFuaWZlc3QuYWxsb3dDYWNoZT0hMCl9LGJ5dGVyYW5nZSgpe3ZhciBlPXt9O1wibGVuZ3RoXCJpbiBuJiYoKGEuYnl0ZXJhbmdlPWUpLmxlbmd0aD1uLmxlbmd0aCxcIm9mZnNldFwiaW4gbnx8KG4ub2Zmc2V0PXUpKSxcIm9mZnNldFwiaW4gbiYmKChhLmJ5dGVyYW5nZT1lKS5vZmZzZXQ9bi5vZmZzZXQpLHU9ZS5vZmZzZXQrZS5sZW5ndGh9LGVuZGxpc3QoKXt0aGlzLm1hbmlmZXN0LmVuZExpc3Q9ITB9LGluZigpe1wibWVkaWFTZXF1ZW5jZVwiaW4gdGhpcy5tYW5pZmVzdHx8KHRoaXMubWFuaWZlc3QubWVkaWFTZXF1ZW5jZT0wLHRoaXMudHJpZ2dlcihcImluZm9cIix7bWVzc2FnZTpcImRlZmF1bHRpbmcgbWVkaWEgc2VxdWVuY2UgdG8gemVyb1wifSkpLFwiZGlzY29udGludWl0eVNlcXVlbmNlXCJpbiB0aGlzLm1hbmlmZXN0fHwodGhpcy5tYW5pZmVzdC5kaXNjb250aW51aXR5U2VxdWVuY2U9MCx0aGlzLnRyaWdnZXIoXCJpbmZvXCIse21lc3NhZ2U6XCJkZWZhdWx0aW5nIGRpc2NvbnRpbnVpdHkgc2VxdWVuY2UgdG8gemVyb1wifSkpLDA8bi5kdXJhdGlvbiYmKGEuZHVyYXRpb249bi5kdXJhdGlvbiksMD09PW4uZHVyYXRpb24mJihhLmR1cmF0aW9uPS4wMSx0aGlzLnRyaWdnZXIoXCJpbmZvXCIse21lc3NhZ2U6XCJ1cGRhdGluZyB6ZXJvIHNlZ21lbnQgZHVyYXRpb24gdG8gYSBzbWFsbCB2YWx1ZVwifSkpLHRoaXMubWFuaWZlc3Quc2VnbWVudHM9c30sa2V5KCl7aWYobi5hdHRyaWJ1dGVzKWlmKFwiTk9ORVwiPT09bi5hdHRyaWJ1dGVzLk1FVEhPRClvPW51bGw7ZWxzZSBpZihuLmF0dHJpYnV0ZXMuVVJJKWlmKFwiY29tLmFwcGxlLnN0cmVhbWluZ2tleWRlbGl2ZXJ5XCI9PT1uLmF0dHJpYnV0ZXMuS0VZRk9STUFUKXRoaXMubWFuaWZlc3QuY29udGVudFByb3RlY3Rpb249dGhpcy5tYW5pZmVzdC5jb250ZW50UHJvdGVjdGlvbnx8e30sdGhpcy5tYW5pZmVzdC5jb250ZW50UHJvdGVjdGlvbltcImNvbS5hcHBsZS5mcHMuMV8wXCJdPXthdHRyaWJ1dGVzOm4uYXR0cmlidXRlc307ZWxzZSBpZihcImNvbS5taWNyb3NvZnQucGxheXJlYWR5XCI9PT1uLmF0dHJpYnV0ZXMuS0VZRk9STUFUKXRoaXMubWFuaWZlc3QuY29udGVudFByb3RlY3Rpb249dGhpcy5tYW5pZmVzdC5jb250ZW50UHJvdGVjdGlvbnx8e30sdGhpcy5tYW5pZmVzdC5jb250ZW50UHJvdGVjdGlvbltcImNvbS5taWNyb3NvZnQucGxheXJlYWR5XCJdPXt1cmk6bi5hdHRyaWJ1dGVzLlVSSX07ZWxzZXtpZihcInVybjp1dWlkOmVkZWY4YmE5LTc5ZDYtNGFjZS1hM2M4LTI3ZGNkNTFkMjFlZFwiPT09bi5hdHRyaWJ1dGVzLktFWUZPUk1BVClyZXR1cm4tMT09PVtcIlNBTVBMRS1BRVNcIixcIlNBTVBMRS1BRVMtQ1RSXCIsXCJTQU1QTEUtQUVTLUNFTkNcIl0uaW5kZXhPZihuLmF0dHJpYnV0ZXMuTUVUSE9EKT92b2lkIHRoaXMudHJpZ2dlcihcIndhcm5cIix7bWVzc2FnZTpcImludmFsaWQga2V5IG1ldGhvZCBwcm92aWRlZCBmb3IgV2lkZXZpbmVcIn0pOihcIlNBTVBMRS1BRVMtQ0VOQ1wiPT09bi5hdHRyaWJ1dGVzLk1FVEhPRCYmdGhpcy50cmlnZ2VyKFwid2FyblwiLHttZXNzYWdlOlwiU0FNUExFLUFFUy1DRU5DIGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgU0FNUExFLUFFUy1DVFIgaW5zdGVhZFwifSksXCJkYXRhOnRleHQvcGxhaW47YmFzZTY0LFwiIT09bi5hdHRyaWJ1dGVzLlVSSS5zdWJzdHJpbmcoMCwyMyk/dm9pZCB0aGlzLnRyaWdnZXIoXCJ3YXJuXCIse21lc3NhZ2U6XCJpbnZhbGlkIGtleSBVUkkgcHJvdmlkZWQgZm9yIFdpZGV2aW5lXCJ9KTpuLmF0dHJpYnV0ZXMuS0VZSUQmJlwiMHhcIj09PW4uYXR0cmlidXRlcy5LRVlJRC5zdWJzdHJpbmcoMCwyKT8odGhpcy5tYW5pZmVzdC5jb250ZW50UHJvdGVjdGlvbj10aGlzLm1hbmlmZXN0LmNvbnRlbnRQcm90ZWN0aW9ufHx7fSx2b2lkKHRoaXMubWFuaWZlc3QuY29udGVudFByb3RlY3Rpb25bXCJjb20ud2lkZXZpbmUuYWxwaGFcIl09e2F0dHJpYnV0ZXM6e3NjaGVtZUlkVXJpOm4uYXR0cmlidXRlcy5LRVlGT1JNQVQsa2V5SWQ6bi5hdHRyaWJ1dGVzLktFWUlELnN1YnN0cmluZygyKX0scHNzaDp5bihuLmF0dHJpYnV0ZXMuVVJJLnNwbGl0KFwiLFwiKVsxXSl9KSk6dm9pZCB0aGlzLnRyaWdnZXIoXCJ3YXJuXCIse21lc3NhZ2U6XCJpbnZhbGlkIGtleSBJRCBwcm92aWRlZCBmb3IgV2lkZXZpbmVcIn0pKTtuLmF0dHJpYnV0ZXMuTUVUSE9EfHx0aGlzLnRyaWdnZXIoXCJ3YXJuXCIse21lc3NhZ2U6XCJkZWZhdWx0aW5nIGtleSBtZXRob2QgdG8gQUVTLTEyOFwifSksbz17bWV0aG9kOm4uYXR0cmlidXRlcy5NRVRIT0R8fFwiQUVTLTEyOFwiLHVyaTpuLmF0dHJpYnV0ZXMuVVJJfSxcInVuZGVmaW5lZFwiIT10eXBlb2Ygbi5hdHRyaWJ1dGVzLklWJiYoby5pdj1uLmF0dHJpYnV0ZXMuSVYpfWVsc2UgdGhpcy50cmlnZ2VyKFwid2FyblwiLHttZXNzYWdlOlwiaWdub3Jpbmcga2V5IGRlY2xhcmF0aW9uIHdpdGhvdXQgVVJJXCJ9KTtlbHNlIHRoaXMudHJpZ2dlcihcIndhcm5cIix7bWVzc2FnZTpcImlnbm9yaW5nIGtleSBkZWNsYXJhdGlvbiB3aXRob3V0IGF0dHJpYnV0ZSBsaXN0XCJ9KX0sXCJtZWRpYS1zZXF1ZW5jZVwiKCl7aXNGaW5pdGUobi5udW1iZXIpP3RoaXMubWFuaWZlc3QubWVkaWFTZXF1ZW5jZT1uLm51bWJlcjp0aGlzLnRyaWdnZXIoXCJ3YXJuXCIse21lc3NhZ2U6XCJpZ25vcmluZyBpbnZhbGlkIG1lZGlhIHNlcXVlbmNlOiBcIituLm51bWJlcn0pfSxcImRpc2NvbnRpbnVpdHktc2VxdWVuY2VcIigpe2lzRmluaXRlKG4ubnVtYmVyKT8odGhpcy5tYW5pZmVzdC5kaXNjb250aW51aXR5U2VxdWVuY2U9bi5udW1iZXIsaD1uLm51bWJlcik6dGhpcy50cmlnZ2VyKFwid2FyblwiLHttZXNzYWdlOlwiaWdub3JpbmcgaW52YWxpZCBkaXNjb250aW51aXR5IHNlcXVlbmNlOiBcIituLm51bWJlcn0pfSxcInBsYXlsaXN0LXR5cGVcIigpey9WT0R8RVZFTlQvLnRlc3Qobi5wbGF5bGlzdFR5cGUpP3RoaXMubWFuaWZlc3QucGxheWxpc3RUeXBlPW4ucGxheWxpc3RUeXBlOnRoaXMudHJpZ2dlcihcIndhcm5cIix7bWVzc2FnZTpcImlnbm9yaW5nIHVua25vd24gcGxheWxpc3QgdHlwZTogXCIrbi5wbGF5bGlzdH0pfSxtYXAoKXtyPXt9LG4udXJpJiYoci51cmk9bi51cmkpLG4uYnl0ZXJhbmdlJiYoci5ieXRlcmFuZ2U9bi5ieXRlcmFuZ2UpLG8mJihyLmtleT1vKX0sXCJzdHJlYW0taW5mXCIoKXt0aGlzLm1hbmlmZXN0LnBsYXlsaXN0cz1zLHRoaXMubWFuaWZlc3QubWVkaWFHcm91cHM9dGhpcy5tYW5pZmVzdC5tZWRpYUdyb3Vwc3x8ZCxuLmF0dHJpYnV0ZXM/KGEuYXR0cmlidXRlc3x8KGEuYXR0cmlidXRlcz17fSksZmkoYS5hdHRyaWJ1dGVzLG4uYXR0cmlidXRlcykpOnRoaXMudHJpZ2dlcihcIndhcm5cIix7bWVzc2FnZTpcImlnbm9yaW5nIGVtcHR5IHN0cmVhbS1pbmYgYXR0cmlidXRlc1wifSl9LG1lZGlhKCl7dmFyIGU7dGhpcy5tYW5pZmVzdC5tZWRpYUdyb3Vwcz10aGlzLm1hbmlmZXN0Lm1lZGlhR3JvdXBzfHxkLG4uYXR0cmlidXRlcyYmbi5hdHRyaWJ1dGVzLlRZUEUmJm4uYXR0cmlidXRlc1tcIkdST1VQLUlEXCJdJiZuLmF0dHJpYnV0ZXMuTkFNRT8oKGU9dGhpcy5tYW5pZmVzdC5tZWRpYUdyb3Vwc1tuLmF0dHJpYnV0ZXMuVFlQRV0pW24uYXR0cmlidXRlc1tcIkdST1VQLUlEXCJdXT1lW24uYXR0cmlidXRlc1tcIkdST1VQLUlEXCJdXXx8e30sdD1lW24uYXR0cmlidXRlc1tcIkdST1VQLUlEXCJdXSwoaT17ZGVmYXVsdDoveWVzL2kudGVzdChuLmF0dHJpYnV0ZXMuREVGQVVMVCl9KS5kZWZhdWx0P2kuYXV0b3NlbGVjdD0hMDppLmF1dG9zZWxlY3Q9L3llcy9pLnRlc3Qobi5hdHRyaWJ1dGVzLkFVVE9TRUxFQ1QpLG4uYXR0cmlidXRlcy5MQU5HVUFHRSYmKGkubGFuZ3VhZ2U9bi5hdHRyaWJ1dGVzLkxBTkdVQUdFKSxuLmF0dHJpYnV0ZXMuVVJJJiYoaS51cmk9bi5hdHRyaWJ1dGVzLlVSSSksbi5hdHRyaWJ1dGVzW1wiSU5TVFJFQU0tSURcIl0mJihpLmluc3RyZWFtSWQ9bi5hdHRyaWJ1dGVzW1wiSU5TVFJFQU0tSURcIl0pLG4uYXR0cmlidXRlcy5DSEFSQUNURVJJU1RJQ1MmJihpLmNoYXJhY3RlcmlzdGljcz1uLmF0dHJpYnV0ZXMuQ0hBUkFDVEVSSVNUSUNTKSxuLmF0dHJpYnV0ZXMuRk9SQ0VEJiYoaS5mb3JjZWQ9L3llcy9pLnRlc3Qobi5hdHRyaWJ1dGVzLkZPUkNFRCkpLHRbbi5hdHRyaWJ1dGVzLk5BTUVdPWkpOnRoaXMudHJpZ2dlcihcIndhcm5cIix7bWVzc2FnZTpcImlnbm9yaW5nIGluY29tcGxldGUgb3IgbWlzc2luZyBtZWRpYSBncm91cFwifSl9LGRpc2NvbnRpbnVpdHkoKXtoKz0xLGEuZGlzY29udGludWl0eT0hMCx0aGlzLm1hbmlmZXN0LmRpc2NvbnRpbnVpdHlTdGFydHMucHVzaChzLmxlbmd0aCl9LFwicHJvZ3JhbS1kYXRlLXRpbWVcIigpe1widW5kZWZpbmVkXCI9PXR5cGVvZiB0aGlzLm1hbmlmZXN0LmRhdGVUaW1lU3RyaW5nJiYodGhpcy5tYW5pZmVzdC5kYXRlVGltZVN0cmluZz1uLmRhdGVUaW1lU3RyaW5nLHRoaXMubWFuaWZlc3QuZGF0ZVRpbWVPYmplY3Q9bi5kYXRlVGltZU9iamVjdCksYS5kYXRlVGltZVN0cmluZz1uLmRhdGVUaW1lU3RyaW5nLGEuZGF0ZVRpbWVPYmplY3Q9bi5kYXRlVGltZU9iamVjdH0sdGFyZ2V0ZHVyYXRpb24oKXshaXNGaW5pdGUobi5kdXJhdGlvbil8fG4uZHVyYXRpb248MD90aGlzLnRyaWdnZXIoXCJ3YXJuXCIse21lc3NhZ2U6XCJpZ25vcmluZyBpbnZhbGlkIHRhcmdldCBkdXJhdGlvbjogXCIrbi5kdXJhdGlvbn0pOih0aGlzLm1hbmlmZXN0LnRhcmdldER1cmF0aW9uPW4uZHVyYXRpb24sRW4uY2FsbCh0aGlzLHRoaXMubWFuaWZlc3QpKX0sc3RhcnQoKXshbi5hdHRyaWJ1dGVzfHxpc05hTihuLmF0dHJpYnV0ZXNbXCJUSU1FLU9GRlNFVFwiXSk/dGhpcy50cmlnZ2VyKFwid2FyblwiLHttZXNzYWdlOlwiaWdub3Jpbmcgc3RhcnQgZGVjbGFyYXRpb24gd2l0aG91dCBhcHByb3ByaWF0ZSBhdHRyaWJ1dGUgbGlzdFwifSk6dGhpcy5tYW5pZmVzdC5zdGFydD17dGltZU9mZnNldDpuLmF0dHJpYnV0ZXNbXCJUSU1FLU9GRlNFVFwiXSxwcmVjaXNlOm4uYXR0cmlidXRlcy5QUkVDSVNFfX0sXCJjdWUtb3V0XCIoKXthLmN1ZU91dD1uLmRhdGF9LFwiY3VlLW91dC1jb250XCIoKXthLmN1ZU91dENvbnQ9bi5kYXRhfSxcImN1ZS1pblwiKCl7YS5jdWVJbj1uLmRhdGF9LHNraXAoKXt0aGlzLm1hbmlmZXN0LnNraXA9d24obi5hdHRyaWJ1dGVzKSx0aGlzLndhcm5Pbk1pc3NpbmdBdHRyaWJ1dGVzXyhcIiNFWFQtWC1TS0lQXCIsbi5hdHRyaWJ1dGVzLFtcIlNLSVBQRUQtU0VHTUVOVFNcIl0pfSxwYXJ0KCl7bD0hMDt2YXIgZT10aGlzLm1hbmlmZXN0LnNlZ21lbnRzLmxlbmd0aCx0PXduKG4uYXR0cmlidXRlcyksdD0oYS5wYXJ0cz1hLnBhcnRzfHxbXSxhLnBhcnRzLnB1c2godCksdC5ieXRlcmFuZ2UmJih0LmJ5dGVyYW5nZS5oYXNPd25Qcm9wZXJ0eShcIm9mZnNldFwiKXx8KHQuYnl0ZXJhbmdlLm9mZnNldD1jKSxjPXQuYnl0ZXJhbmdlLm9mZnNldCt0LmJ5dGVyYW5nZS5sZW5ndGgpLGEucGFydHMubGVuZ3RoLTEpO3RoaXMud2Fybk9uTWlzc2luZ0F0dHJpYnV0ZXNfKGAjRVhULVgtUEFSVCAjJHt0fSBmb3Igc2VnbWVudCAjYCtlLG4uYXR0cmlidXRlcyxbXCJVUklcIixcIkRVUkFUSU9OXCJdKSx0aGlzLm1hbmlmZXN0LnJlbmRpdGlvblJlcG9ydHMmJnRoaXMubWFuaWZlc3QucmVuZGl0aW9uUmVwb3J0cy5mb3JFYWNoKChlLHQpPT57ZS5oYXNPd25Qcm9wZXJ0eShcImxhc3RQYXJ0XCIpfHx0aGlzLnRyaWdnZXIoXCJ3YXJuXCIse21lc3NhZ2U6YCNFWFQtWC1SRU5ESVRJT04tUkVQT1JUICMke3R9IGxhY2tzIHJlcXVpcmVkIGF0dHJpYnV0ZShzKTogTEFTVC1QQVJUYH0pfSl9LFwic2VydmVyLWNvbnRyb2xcIigpe3ZhciBlPXRoaXMubWFuaWZlc3Quc2VydmVyQ29udHJvbD13bihuLmF0dHJpYnV0ZXMpO2UuaGFzT3duUHJvcGVydHkoXCJjYW5CbG9ja1JlbG9hZFwiKXx8KGUuY2FuQmxvY2tSZWxvYWQ9ITEsdGhpcy50cmlnZ2VyKFwiaW5mb1wiLHttZXNzYWdlOlwiI0VYVC1YLVNFUlZFUi1DT05UUk9MIGRlZmF1bHRpbmcgQ0FOLUJMT0NLLVJFTE9BRCB0byBmYWxzZVwifSkpLEVuLmNhbGwodGhpcyx0aGlzLm1hbmlmZXN0KSxlLmNhblNraXBEYXRlcmFuZ2VzJiYhZS5oYXNPd25Qcm9wZXJ0eShcImNhblNraXBVbnRpbFwiKSYmdGhpcy50cmlnZ2VyKFwid2FyblwiLHttZXNzYWdlOlwiI0VYVC1YLVNFUlZFUi1DT05UUk9MIGxhY2tzIHJlcXVpcmVkIGF0dHJpYnV0ZSBDQU4tU0tJUC1VTlRJTCB3aGljaCBpcyByZXF1aXJlZCB3aGVuIENBTi1TS0lQLURBVEVSQU5HRVMgaXMgc2V0XCJ9KX0sXCJwcmVsb2FkLWhpbnRcIigpe3ZhciB0PXRoaXMubWFuaWZlc3Quc2VnbWVudHMubGVuZ3RoLGk9d24obi5hdHRyaWJ1dGVzKSxlPWkudHlwZSYmXCJQQVJUXCI9PT1pLnR5cGUscz0oYS5wcmVsb2FkSGludHM9YS5wcmVsb2FkSGludHN8fFtdLGEucHJlbG9hZEhpbnRzLnB1c2goaSksIWkuYnl0ZXJhbmdlfHxpLmJ5dGVyYW5nZS5oYXNPd25Qcm9wZXJ0eShcIm9mZnNldFwiKXx8KGkuYnl0ZXJhbmdlLm9mZnNldD1lP2M6MCxlJiYoYz1pLmJ5dGVyYW5nZS5vZmZzZXQraS5ieXRlcmFuZ2UubGVuZ3RoKSksYS5wcmVsb2FkSGludHMubGVuZ3RoLTEpO2lmKHRoaXMud2Fybk9uTWlzc2luZ0F0dHJpYnV0ZXNfKGAjRVhULVgtUFJFTE9BRC1ISU5UICMke3N9IGZvciBzZWdtZW50ICNgK3Qsbi5hdHRyaWJ1dGVzLFtcIlRZUEVcIixcIlVSSVwiXSksaS50eXBlKWZvcihsZXQgZT0wO2U8YS5wcmVsb2FkSGludHMubGVuZ3RoLTE7ZSsrKXt2YXIgcj1hLnByZWxvYWRIaW50c1tlXTtyLnR5cGUmJnIudHlwZT09PWkudHlwZSYmdGhpcy50cmlnZ2VyKFwid2FyblwiLHttZXNzYWdlOmAjRVhULVgtUFJFTE9BRC1ISU5UICMke3N9IGZvciBzZWdtZW50ICMke3R9IGhhcyB0aGUgc2FtZSBUWVBFICR7aS50eXBlfSBhcyBwcmVsb2FkIGhpbnQgI2ArZX0pfX0sXCJyZW5kaXRpb24tcmVwb3J0XCIoKXt2YXIgZT13bihuLmF0dHJpYnV0ZXMpLGU9KHRoaXMubWFuaWZlc3QucmVuZGl0aW9uUmVwb3J0cz10aGlzLm1hbmlmZXN0LnJlbmRpdGlvblJlcG9ydHN8fFtdLHRoaXMubWFuaWZlc3QucmVuZGl0aW9uUmVwb3J0cy5wdXNoKGUpLHRoaXMubWFuaWZlc3QucmVuZGl0aW9uUmVwb3J0cy5sZW5ndGgtMSksdD1bXCJMQVNULU1TTlwiLFwiVVJJXCJdO2wmJnQucHVzaChcIkxBU1QtUEFSVFwiKSx0aGlzLndhcm5Pbk1pc3NpbmdBdHRyaWJ1dGVzXyhcIiNFWFQtWC1SRU5ESVRJT04tUkVQT1JUICNcIitlLG4uYXR0cmlidXRlcyx0KX0sXCJwYXJ0LWluZlwiKCl7dGhpcy5tYW5pZmVzdC5wYXJ0SW5mPXduKG4uYXR0cmlidXRlcyksdGhpcy53YXJuT25NaXNzaW5nQXR0cmlidXRlc18oXCIjRVhULVgtUEFSVC1JTkZcIixuLmF0dHJpYnV0ZXMsW1wiUEFSVC1UQVJHRVRcIl0pLHRoaXMubWFuaWZlc3QucGFydEluZi5wYXJ0VGFyZ2V0JiYodGhpcy5tYW5pZmVzdC5wYXJ0VGFyZ2V0RHVyYXRpb249dGhpcy5tYW5pZmVzdC5wYXJ0SW5mLnBhcnRUYXJnZXQpLEVuLmNhbGwodGhpcyx0aGlzLm1hbmlmZXN0KX19W24udGFnVHlwZV18fGZ1bmN0aW9uKCl7fSkuY2FsbChlKX0sdXJpKCl7YS51cmk9bi51cmkscy5wdXNoKGEpLCF0aGlzLm1hbmlmZXN0LnRhcmdldER1cmF0aW9ufHxcImR1cmF0aW9uXCJpbiBhfHwodGhpcy50cmlnZ2VyKFwid2FyblwiLHttZXNzYWdlOlwiZGVmYXVsdGluZyBzZWdtZW50IGR1cmF0aW9uIHRvIHRoZSB0YXJnZXQgZHVyYXRpb25cIn0pLGEuZHVyYXRpb249dGhpcy5tYW5pZmVzdC50YXJnZXREdXJhdGlvbiksbyYmKGEua2V5PW8pLGEudGltZWxpbmU9aCxyJiYoYS5tYXA9ciksYz0wLGE9e319LGNvbW1lbnQoKXt9LGN1c3RvbSgpe24uc2VnbWVudD8oYS5jdXN0b209YS5jdXN0b218fHt9LGEuY3VzdG9tW24uY3VzdG9tVHlwZV09bi5kYXRhKToodGhpcy5tYW5pZmVzdC5jdXN0b209dGhpcy5tYW5pZmVzdC5jdXN0b218fHt9LHRoaXMubWFuaWZlc3QuY3VzdG9tW24uY3VzdG9tVHlwZV09bi5kYXRhKX19KVtuLnR5cGVdLmNhbGwoZSl9KX13YXJuT25NaXNzaW5nQXR0cmlidXRlc18oZSx0LGkpe2NvbnN0IHM9W107aS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QuaGFzT3duUHJvcGVydHkoZSl8fHMucHVzaChlKX0pLHMubGVuZ3RoJiZ0aGlzLnRyaWdnZXIoXCJ3YXJuXCIse21lc3NhZ2U6ZStcIiBsYWNrcyByZXF1aXJlZCBhdHRyaWJ1dGUocyk6IFwiK3Muam9pbihcIiwgXCIpfSl9cHVzaChlKXt0aGlzLmxpbmVTdHJlYW0ucHVzaChlKX1lbmQoKXt0aGlzLmxpbmVTdHJlYW0ucHVzaChcIlxcblwiKSx0aGlzLnRyaWdnZXIoXCJlbmRcIil9YWRkUGFyc2VyKGUpe3RoaXMucGFyc2VTdHJlYW0uYWRkUGFyc2VyKGUpfWFkZFRhZ01hcHBlcihlKXt0aGlzLnBhcnNlU3RyZWFtLmFkZFRhZ01hcHBlcihlKX19ZnVuY3Rpb24gQ24oZSl7cmV0dXJuIERuLmF1ZGlvLnRlc3QoKGU9dm9pZCAwPT09ZT9cIlwiOmUpLnRyaW0oKS50b0xvd2VyQ2FzZSgpKX1mdW5jdGlvbiBJbihlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9XCJcIiksd2luZG93Lk1lZGlhU291cmNlJiZ3aW5kb3cuTWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkJiZ3aW5kb3cuTWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKEJuKGUpKXx8ITF9ZnVuY3Rpb24geG4oZSl7cmV0dXJuKGU9dm9pZCAwPT09ZT9cIlwiOmUpLnRvTG93ZXJDYXNlKCkuc3BsaXQoXCIsXCIpLmV2ZXJ5KGZ1bmN0aW9uKGUpe2U9ZS50cmltKCk7Zm9yKHZhciB0PTA7dDxNbi5sZW5ndGg7dCsrKXt2YXIgaT1Nblt0XTtpZihEbltcIm11eGVyXCIraV0udGVzdChlKSlyZXR1cm4hMH1yZXR1cm4hMX0pfWZ1bmN0aW9uIEFuKGUpe3JldHVybiBqbi50ZXN0KGUpP1wiaGxzXCI6SG4udGVzdChlKT9cImRhc2hcIjpcImFwcGxpY2F0aW9uL3ZuZC52aWRlb2pzLnZocytqc29uXCI9PT1lP1widmhzLWpzb25cIjpudWxsfWZ1bmN0aW9uIFBuKGUsdCl7Zm9yKHZhciBpPXZvaWQgMCE9PSh0PSh2b2lkIDA9PT10P3t9OnQpLmxlKSYmdCxzPShlPXcoZT1cImJpZ2ludFwiIT10eXBlb2YgZSYmXCJudW1iZXJcIiE9dHlwZW9mIGV8fFwibnVtYmVyXCI9PXR5cGVvZiBlJiZlIT1lPzA6ZSksdD1lLE1hdGguY2VpbCh0LnRvU3RyaW5nKDIpLmxlbmd0aC84KSkscj1uZXcgVWludDhBcnJheShuZXcgQXJyYXlCdWZmZXIocykpLG49MDtuPHM7bisrKXt2YXIgYT1pP246TWF0aC5hYnMobisxLXIubGVuZ3RoKTtyW2FdPU51bWJlcihlL1ZuW25dJncoMjU1KSksZTwwJiYoclthXT1NYXRoLmFicyh+clthXSksclthXS09MD09PW4/MToyKX1yZXR1cm4gcn1mdW5jdGlvbiBMbihlLHQpe2lmKFwic3RyaW5nXCIhPXR5cGVvZihlPVwic3RyaW5nXCIhPXR5cGVvZiBlJiZlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnRvU3RyaW5nP2UudG9TdHJpbmcoKTplKSlyZXR1cm4gbmV3IFVpbnQ4QXJyYXk7dHx8KGU9dW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KGUpKSk7Zm9yKHZhciBpPW5ldyBVaW50OEFycmF5KGUubGVuZ3RoKSxzPTA7czxlLmxlbmd0aDtzKyspaVtzXT1lLmNoYXJDb2RlQXQocyk7cmV0dXJuIGl9ZnVuY3Rpb24gT24oZSx0KXtpZigvXlthLXpdKzovaS50ZXN0KHQpKXJldHVybiB0Oy9eZGF0YTovLnRlc3QoZSkmJihlPXdpbmRvdy5sb2NhdGlvbiYmd2luZG93LmxvY2F0aW9uLmhyZWZ8fFwiXCIpO3ZhciBpPVwiZnVuY3Rpb25cIj09dHlwZW9mIHdpbmRvdy5VUkwscz0vXlxcL1xcLy8udGVzdChlKSxyPSF3aW5kb3cubG9jYXRpb24mJiEvXFwvXFwvL2kudGVzdChlKTtyZXR1cm4gaT9lPW5ldyB3aW5kb3cuVVJMKGUsd2luZG93LmxvY2F0aW9ufHxXbik6L1xcL1xcLy9pLnRlc3QoZSl8fChlPWduLmJ1aWxkQWJzb2x1dGVVUkwod2luZG93LmxvY2F0aW9uJiZ3aW5kb3cubG9jYXRpb24uaHJlZnx8XCJcIixlKSksaT8oaT1uZXcgVVJMKHQsZSkscj9pLmhyZWYuc2xpY2UoV24ubGVuZ3RoKTpzP2kuaHJlZi5zbGljZShpLnByb3RvY29sLmxlbmd0aCk6aS5ocmVmKTpnbi5idWlsZEFic29sdXRlVVJMKGUsdCl9dmFyIERuPXttcDQ6L14oYXYwPzF8YXZjMD9bMTIzNF18dnAwPzl8ZmxhY3xvcHVzfG1wM3xtcDRhfG1wNHZ8c3RwcC50dG1sLmltMXQpLyx3ZWJtOi9eKHZwMD9bODldfGF2MD8xfG9wdXN8dm9yYmlzKS8sb2dnOi9eKHZwMD9bODldfHRoZW9yYXxmbGFjfG9wdXN8dm9yYmlzKS8sdmlkZW86L14oYXYwPzF8YXZjMD9bMTIzNF18dnAwP1s4OV18aHZjMXxoZXYxfHRoZW9yYXxtcDR2KS8sYXVkaW86L14obXA0YXxmbGFjfHZvcmJpc3xvcHVzfGFjLVszNF18ZWMtM3xhbGFjfG1wM3xzcGVleHxhYWMpLyx0ZXh0Oi9eKHN0cHAudHRtbC5pbTF0KS8sbXV4ZXJWaWRlbzovXihhdmMwPzEpLyxtdXhlckF1ZGlvOi9eKG1wNGEpLyxtdXhlclRleHQ6L2FeL30sTm49W1widmlkZW9cIixcImF1ZGlvXCIsXCJ0ZXh0XCJdLE1uPVtcIlZpZGVvXCIsXCJBdWRpb1wiLFwiVGV4dFwiXSxSbj1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5yZXBsYWNlKC9hdmMxXFwuKFxcZCspXFwuKFxcZCspL2ksZnVuY3Rpb24oZSx0LGkpe3JldHVyblwiYXZjMS5cIisoXCIwMFwiK051bWJlcih0KS50b1N0cmluZygxNikpLnNsaWNlKC0yKStcIjAwXCIrKFwiMDBcIitOdW1iZXIoaSkudG9TdHJpbmcoMTYpKS5zbGljZSgtMil9KX0sVW49ZnVuY3Rpb24oZSl7dmFyIGU9KGU9dm9pZCAwPT09ZT9cIlwiOmUpLnNwbGl0KFwiLFwiKSxuPVtdO3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24ocyl7dmFyIHI7cz1zLnRyaW0oKSxObi5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0LGk9RG5bZV0uZXhlYyhzLnRvTG93ZXJDYXNlKCkpOyFpfHxpLmxlbmd0aDw9MXx8KHI9ZSxpPXMuc3Vic3RyaW5nKDAsaVsxXS5sZW5ndGgpLHQ9cy5yZXBsYWNlKGksXCJcIiksbi5wdXNoKHt0eXBlOmksZGV0YWlsczp0LG1lZGlhVHlwZTplfSkpfSkscnx8bi5wdXNoKHt0eXBlOnMsZGV0YWlsczpcIlwiLG1lZGlhVHlwZTpcInVua25vd25cIn0pfSksbn0sQm49ZnVuY3Rpb24oZSl7dmFyIHQsaSxzO2lmKGUmJlwic3RyaW5nXCI9PXR5cGVvZiBlKXJldHVybiBpPVwidmlkZW9cIiwxPT09KHQ9ZS50b0xvd2VyQ2FzZSgpLnNwbGl0KFwiLFwiKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIFJuKGUudHJpbSgpKX0pKS5sZW5ndGgmJkNuKHRbMF0pP2k9XCJhdWRpb1wiOjE9PT10Lmxlbmd0aCYmKHM9dFswXSxEbi50ZXh0LnRlc3QoKHM9dm9pZCAwPT09cz9cIlwiOnMpLnRyaW0oKS50b0xvd2VyQ2FzZSgpKSkmJihpPVwiYXBwbGljYXRpb25cIikscz1cIm1wNFwiLHQuZXZlcnkoZnVuY3Rpb24oZSl7cmV0dXJuIERuLm1wNC50ZXN0KGUpfSk/cz1cIm1wNFwiOnQuZXZlcnkoZnVuY3Rpb24oZSl7cmV0dXJuIERuLndlYm0udGVzdChlKX0pP3M9XCJ3ZWJtXCI6dC5ldmVyeShmdW5jdGlvbihlKXtyZXR1cm4gRG4ub2dnLnRlc3QoZSl9KSYmKHM9XCJvZ2dcIiksaStcIi9cIitzKyc7Y29kZWNzPVwiJytlKydcIid9LEZuPVwibXA0YS40MC4yXCIsam49L14oYXVkaW98dmlkZW98YXBwbGljYXRpb24pXFwvKHgtfHZuZFxcLmFwcGxlXFwuKT9tcGVndXJsL2ksSG49L15hcHBsaWNhdGlvblxcL2Rhc2hcXCt4bWwvaSxxbj1mdW5jdGlvbihlKXtyZXR1cm5cImZ1bmN0aW9uXCI9PT1BcnJheUJ1ZmZlci5pc1ZpZXc/QXJyYXlCdWZmZXIuaXNWaWV3KGUpOmUmJmUuYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ9LFM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBVaW50OEFycmF5P2U6KEFycmF5LmlzQXJyYXkoZSl8fHFuKGUpfHxlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fChlPVwibnVtYmVyXCIhPXR5cGVvZiBlfHxcIm51bWJlclwiPT10eXBlb2YgZSYmZSE9ZT8wOltlXSksbmV3IFVpbnQ4QXJyYXkoZSYmZS5idWZmZXJ8fGUsZSYmZS5ieXRlT2Zmc2V0fHwwLGUmJmUuYnl0ZUxlbmd0aHx8MCkpfSx3PXdpbmRvdy5CaWdJbnR8fE51bWJlcixWbj1bdyhcIjB4MVwiKSx3KFwiMHgxMDBcIiksdyhcIjB4MTAwMDBcIiksdyhcIjB4MTAwMDAwMFwiKSx3KFwiMHgxMDAwMDAwMDBcIiksdyhcIjB4MTAwMDAwMDAwMDBcIiksdyhcIjB4MTAwMDAwMDAwMDAwMFwiKSx3KFwiMHgxMDAwMDAwMDAwMDAwMDBcIiksdyhcIjB4MTAwMDAwMDAwMDAwMDAwMDBcIildLCRuPShPdD1uZXcgVWludDE2QXJyYXkoWzY1NDg0XSksMjU1IT09KE90PW5ldyBVaW50OEFycmF5KE90LmJ1ZmZlcixPdC5ieXRlT2Zmc2V0LE90LmJ5dGVMZW5ndGgpKVswXSYmT3RbMF0sZnVuY3Rpb24ocyxlKXt2YXIgZT12b2lkIDA9PT1lP3t9OmUsdD1lLnNpZ25lZCx0PXZvaWQgMCE9PXQmJnQsZT1lLmxlLHI9dm9pZCAwIT09ZSYmZSxlPShzPVMocykscj9cInJlZHVjZVwiOlwicmVkdWNlUmlnaHRcIiksZT0oc1tlXXx8QXJyYXkucHJvdG90eXBlW2VdKS5jYWxsKHMsZnVuY3Rpb24oZSx0LGkpe2k9cj9pOk1hdGguYWJzKGkrMS1zLmxlbmd0aCk7cmV0dXJuIGUrdyh0KSpWbltpXX0sdygwKSk7cmV0dXJuIHQmJih0PVZuW3MubGVuZ3RoXS93KDIpLXcoMSkpPChlPXcoZSkpJiYoZT0oZT1lLXQtdCktdygyKSksTnVtYmVyKGUpfSksRT1mdW5jdGlvbihpLGUsdCl7dmFyIHQ9dm9pZCAwPT09dD97fTp0LHM9dC5vZmZzZXQscj12b2lkIDA9PT1zPzA6cyxzPXQubWFzayxuPXZvaWQgMD09PXM/W106cyx0PShpPVMoaSksKGU9UyhlKSkuZXZlcnl8fEFycmF5LnByb3RvdHlwZS5ldmVyeSk7cmV0dXJuIGUubGVuZ3RoJiZpLmxlbmd0aC1yPj1lLmxlbmd0aCYmdC5jYWxsKGUsZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PShuW3RdP25bdF0maVtyK3RdOmlbcit0XSl9KX0sV249XCJodHRwOi8vZXhhbXBsZS5jb21cIjtmdW5jdGlvbiBHbihlKXtlPWU7Zm9yKHZhciB0PXdpbmRvdy5hdG9iP3dpbmRvdy5hdG9iKGUpOkJ1ZmZlci5mcm9tKGUsXCJiYXNlNjRcIikudG9TdHJpbmcoXCJiaW5hcnlcIiksaT1uZXcgVWludDhBcnJheSh0Lmxlbmd0aCkscz0wO3M8dC5sZW5ndGg7cysrKWlbc109dC5jaGFyQ29kZUF0KHMpO3JldHVybiBpfWZ1bmN0aW9uIHpuKGUsdCl7cmV0dXJuKHQ9dm9pZCAwPT09dD9PYmplY3Q6dCkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuZnJlZXplP3QuZnJlZXplKGUpOmV9dmFyIFhuPXpuKHtIVE1MOlwidGV4dC9odG1sXCIsaXNIVE1MOmZ1bmN0aW9uKGUpe3JldHVybiBlPT09WG4uSFRNTH0sWE1MX0FQUExJQ0FUSU9OOlwiYXBwbGljYXRpb24veG1sXCIsWE1MX1RFWFQ6XCJ0ZXh0L3htbFwiLFhNTF9YSFRNTF9BUFBMSUNBVElPTjpcImFwcGxpY2F0aW9uL3hodG1sK3htbFwiLFhNTF9TVkdfSU1BR0U6XCJpbWFnZS9zdmcreG1sXCJ9KSxLbj16bih7SFRNTDpcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIixpc0hUTUw6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1Lbi5IVE1MfSxTVkc6XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFhNTDpcImh0dHA6Ly93d3cudzMub3JnL1hNTC8xOTk4L25hbWVzcGFjZVwiLFhNTE5TOlwiaHR0cDovL3d3dy53My5vcmcvMjAwMC94bWxucy9cIn0pLFluPXthc3NpZ246ZnVuY3Rpb24oZSx0KXtpZihudWxsPT09ZXx8XCJvYmplY3RcIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcihcInRhcmdldCBpcyBub3QgYW4gb2JqZWN0XCIpO2Zvcih2YXIgaSBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGkpJiYoZVtpXT10W2ldKTtyZXR1cm4gZX0sZmluZDpmdW5jdGlvbihlLHQsaSl7aWYodm9pZCAwPT09aSYmKGk9QXJyYXkucHJvdG90eXBlKSxlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBpLmZpbmQpcmV0dXJuIGkuZmluZC5jYWxsKGUsdCk7Zm9yKHZhciBzPTA7czxlLmxlbmd0aDtzKyspaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscykpe3ZhciByPWVbc107aWYodC5jYWxsKHZvaWQgMCxyLHMsZSkpcmV0dXJuIHJ9fSxmcmVlemU6em4sTUlNRV9UWVBFOlhuLE5BTUVTUEFDRTpLbn0sUW49WW4uZmluZCxKbj1Zbi5OQU1FU1BBQ0U7ZnVuY3Rpb24gWm4oZSl7cmV0dXJuXCJcIiE9PWV9ZnVuY3Rpb24gZWEoZSx0KXtyZXR1cm4gZS5oYXNPd25Qcm9wZXJ0eSh0KXx8KGVbdF09ITApLGV9ZnVuY3Rpb24gdGEoZSl7cmV0dXJuIGU/KGU9KGU9ZSk/ZS5zcGxpdCgvW1xcdFxcblxcZlxcciBdKy8pLmZpbHRlcihabik6W10sT2JqZWN0LmtleXMoZS5yZWR1Y2UoZWEse30pKSk6W119ZnVuY3Rpb24gaWEoZSx0KXtmb3IodmFyIGkgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxpKSYmKHRbaV09ZVtpXSl9ZnVuY3Rpb24gc2EoZSx0KXt2YXIgaT1lLnByb3RvdHlwZTtmdW5jdGlvbiBzKCl7fWkgaW5zdGFuY2VvZiB0fHwocy5wcm90b3R5cGU9dC5wcm90b3R5cGUsaWEoaSxzPW5ldyBzKSxlLnByb3RvdHlwZT1pPXMpLGkuY29uc3RydWN0b3IhPWUmJihpLmNvbnN0cnVjdG9yPWUpfXZhciBuPXt9LHQ9KG4uRUxFTUVOVF9OT0RFPTEsbi5BVFRSSUJVVEVfTk9ERT0yLG4uVEVYVF9OT0RFPTMsbi5DREFUQV9TRUNUSU9OX05PREU9NCxuLkVOVElUWV9SRUZFUkVOQ0VfTk9ERT01LG4uRU5USVRZX05PREU9NixuLlBST0NFU1NJTkdfSU5TVFJVQ1RJT05fTk9ERT03LG4uQ09NTUVOVF9OT0RFPTgsbi5ET0NVTUVOVF9OT0RFPTksbi5ET0NVTUVOVF9UWVBFX05PREU9MTAsbi5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFPTExLG4uTk9UQVRJT05fTk9ERT0xMix7fSksaz17fSxyYT0odC5JTkRFWF9TSVpFX0VSUj0oa1sxXT1cIkluZGV4IHNpemUgZXJyb3JcIiwxKSx0LkRPTVNUUklOR19TSVpFX0VSUj0oa1syXT1cIkRPTVN0cmluZyBzaXplIGVycm9yXCIsMiksdC5ISUVSQVJDSFlfUkVRVUVTVF9FUlI9KGtbM109XCJIaWVyYXJjaHkgcmVxdWVzdCBlcnJvclwiLDMpKSxuYT0odC5XUk9OR19ET0NVTUVOVF9FUlI9KGtbNF09XCJXcm9uZyBkb2N1bWVudFwiLDQpLHQuSU5WQUxJRF9DSEFSQUNURVJfRVJSPShrWzVdPVwiSW52YWxpZCBjaGFyYWN0ZXJcIiw1KSx0Lk5PX0RBVEFfQUxMT1dFRF9FUlI9KGtbNl09XCJObyBkYXRhIGFsbG93ZWRcIiw2KSx0Lk5PX01PRElGSUNBVElPTl9BTExPV0VEX0VSUj0oa1s3XT1cIk5vIG1vZGlmaWNhdGlvbiBhbGxvd2VkXCIsNyksdC5OT1RfRk9VTkRfRVJSPShrWzhdPVwiTm90IGZvdW5kXCIsOCkpO3QuTk9UX1NVUFBPUlRFRF9FUlI9KGtbOV09XCJOb3Qgc3VwcG9ydGVkXCIsOSksdC5JTlVTRV9BVFRSSUJVVEVfRVJSPShrWzEwXT1cIkF0dHJpYnV0ZSBpbiB1c2VcIiwxMCk7ZnVuY3Rpb24gQyhlLHQpe3ZhciBpO3JldHVybiB0IGluc3RhbmNlb2YgRXJyb3I/aT10OihpPXRoaXMsRXJyb3IuY2FsbCh0aGlzLGtbZV0pLHRoaXMubWVzc2FnZT1rW2VdLEVycm9yLmNhcHR1cmVTdGFja1RyYWNlJiZFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLEMpKSxpLmNvZGU9ZSx0JiYodGhpcy5tZXNzYWdlPXRoaXMubWVzc2FnZStcIjogXCIrdCksaX1mdW5jdGlvbiBhYSgpe31mdW5jdGlvbiBvYShlLHQpe3RoaXMuX25vZGU9ZSx0aGlzLl9yZWZyZXNoPXQsbGEodGhpcyl9ZnVuY3Rpb24gbGEoZSl7dmFyIHQsaT1lLl9ub2RlLl9pbmN8fGUuX25vZGUub3duZXJEb2N1bWVudC5faW5jO2UuX2luYyE9aSYmKHQ9ZS5fcmVmcmVzaChlLl9ub2RlKSxHYShlLFwibGVuZ3RoXCIsdC5sZW5ndGgpLGlhKHQsZSksZS5faW5jPWkpfWZ1bmN0aW9uIGRhKCl7fWZ1bmN0aW9uIGhhKGUsdCl7Zm9yKHZhciBpPWUubGVuZ3RoO2ktLTspaWYoZVtpXT09PXQpcmV0dXJuIGl9ZnVuY3Rpb24gdWEoZSx0LGkscyl7cz90W2hhKHQscyldPWk6dFt0Lmxlbmd0aCsrXT1pLGUmJih0PShpLm93bmVyRWxlbWVudD1lKS5vd25lckRvY3VtZW50KSYmKHMmJnlhKHQsZSxzKSxzPWUsZT1pLChpPXQpJiZpLl9pbmMrKyxlLm5hbWVzcGFjZVVSST09PUpuLlhNTE5TKSYmKHMuX25zTWFwW2UucHJlZml4P2UubG9jYWxOYW1lOlwiXCJdPWUudmFsdWUpfWZ1bmN0aW9uIGNhKGUsdCxpKXt2YXIgcz1oYSh0LGkpO2lmKCEoMDw9cykpdGhyb3cgbmV3IEMobmEsbmV3IEVycm9yKGUudGFnTmFtZStcIkBcIitpKSk7Zm9yKHZhciByLG49dC5sZW5ndGgtMTtzPG47KXRbc109dFsrK3NdO3QubGVuZ3RoPW4sZSYmKHI9ZS5vd25lckRvY3VtZW50KSYmKHlhKHIsZSxpKSxpLm93bmVyRWxlbWVudD1udWxsKX1mdW5jdGlvbiBwYSgpe31mdW5jdGlvbiBJKCl7fWZ1bmN0aW9uIG1hKGUpe3JldHVybihcIjxcIj09ZT9cIiZsdDtcIjpcIj5cIj09ZSYmXCImZ3Q7XCIpfHwoXCImXCI9PWU/XCImYW1wO1wiOidcIic9PWUmJlwiJnF1b3Q7XCIpfHxcIiYjXCIrZS5jaGFyQ29kZUF0KCkrXCI7XCJ9ZnVuY3Rpb24gZ2EoZSx0KXtpZih0KGUpKXJldHVybiAxO2lmKGU9ZS5maXJzdENoaWxkKWRve2lmKGdhKGUsdCkpcmV0dXJuIDF9d2hpbGUoZT1lLm5leHRTaWJsaW5nKX1mdW5jdGlvbiBmYSgpe3RoaXMub3duZXJEb2N1bWVudD10aGlzfWZ1bmN0aW9uIHlhKGUsdCxpKXtlJiZlLl9pbmMrKyxpLm5hbWVzcGFjZVVSST09PUpuLlhNTE5TJiZkZWxldGUgdC5fbnNNYXBbaS5wcmVmaXg/aS5sb2NhbE5hbWU6XCJcIl19ZnVuY3Rpb24gX2EoZSx0LGkpe2lmKGUmJmUuX2luYyl7ZS5faW5jKys7dmFyIHM9dC5jaGlsZE5vZGVzO2lmKGkpc1tzLmxlbmd0aCsrXT1pO2Vsc2V7Zm9yKHZhciByPXQuZmlyc3RDaGlsZCxuPTA7cjspcj0oc1tuKytdPXIpLm5leHRTaWJsaW5nO3MubGVuZ3RoPW4sZGVsZXRlIHNbcy5sZW5ndGhdfX19ZnVuY3Rpb24gdmEoZSx0KXt2YXIgaT10LnByZXZpb3VzU2libGluZyxzPXQubmV4dFNpYmxpbmc7cmV0dXJuIGk/aS5uZXh0U2libGluZz1zOmUuZmlyc3RDaGlsZD1zLHM/cy5wcmV2aW91c1NpYmxpbmc9aTplLmxhc3RDaGlsZD1pLHQucGFyZW50Tm9kZT1udWxsLHQucHJldmlvdXNTaWJsaW5nPW51bGwsdC5uZXh0U2libGluZz1udWxsLF9hKGUub3duZXJEb2N1bWVudCxlKSx0fWZ1bmN0aW9uIGJhKGUpe3JldHVybiBlJiZlLm5vZGVUeXBlPT09SS5ET0NVTUVOVF9UWVBFX05PREV9ZnVuY3Rpb24gVGEoZSl7cmV0dXJuIGUmJmUubm9kZVR5cGU9PT1JLkVMRU1FTlRfTk9ERX1mdW5jdGlvbiBTYShlKXtyZXR1cm4gZSYmZS5ub2RlVHlwZT09PUkuVEVYVF9OT0RFfWZ1bmN0aW9uIHdhKGUsdCl7dmFyIGksZT1lLmNoaWxkTm9kZXN8fFtdO2lmKCFRbihlLFRhKSYmIWJhKHQpKXJldHVybiBpPVFuKGUsYmEpLCEodCYmaSYmZS5pbmRleE9mKGkpPmUuaW5kZXhPZih0KSl9ZnVuY3Rpb24gRWEoZSx0KXt2YXIgaSxlPWUuY2hpbGROb2Rlc3x8W107aWYoIVFuKGUsZnVuY3Rpb24oZSl7cmV0dXJuIFRhKGUpJiZlIT09dH0pKXJldHVybiBpPVFuKGUsYmEpLCEodCYmaSYmZS5pbmRleE9mKGkpPmUuaW5kZXhPZih0KSl9ZnVuY3Rpb24ga2EoZSx0LGkpe2lmKCEocz1lKXx8cy5ub2RlVHlwZSE9PUkuRE9DVU1FTlRfTk9ERSYmcy5ub2RlVHlwZSE9PUkuRE9DVU1FTlRfRlJBR01FTlRfTk9ERSYmcy5ub2RlVHlwZSE9PUkuRUxFTUVOVF9OT0RFKXRocm93IG5ldyBDKHJhLFwiVW5leHBlY3RlZCBwYXJlbnQgbm9kZSB0eXBlIFwiK2Uubm9kZVR5cGUpO3ZhciBzO2lmKGkmJmkucGFyZW50Tm9kZSE9PWUpdGhyb3cgbmV3IEMobmEsXCJjaGlsZCBub3QgaW4gcGFyZW50XCIpO2lmKCEocz10KXx8IShUYShzKXx8U2Eocyl8fGJhKHMpfHxzLm5vZGVUeXBlPT09SS5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFfHxzLm5vZGVUeXBlPT09SS5DT01NRU5UX05PREV8fHMubm9kZVR5cGU9PT1JLlBST0NFU1NJTkdfSU5TVFJVQ1RJT05fTk9ERSl8fGJhKHQpJiZlLm5vZGVUeXBlIT09SS5ET0NVTUVOVF9OT0RFKXRocm93IG5ldyBDKHJhLFwiVW5leHBlY3RlZCBub2RlIHR5cGUgXCIrdC5ub2RlVHlwZStcIiBmb3IgcGFyZW50IG5vZGUgdHlwZSBcIitlLm5vZGVUeXBlKX1mdW5jdGlvbiBDYShlLHQsaSl7dmFyIHM9ZS5jaGlsZE5vZGVzfHxbXSxyPXQuY2hpbGROb2Rlc3x8W107aWYodC5ub2RlVHlwZT09PUkuRE9DVU1FTlRfRlJBR01FTlRfTk9ERSl7dmFyIG49ci5maWx0ZXIoVGEpO2lmKDE8bi5sZW5ndGh8fFFuKHIsU2EpKXRocm93IG5ldyBDKHJhLFwiTW9yZSB0aGFuIG9uZSBlbGVtZW50IG9yIHRleHQgaW4gZnJhZ21lbnRcIik7aWYoMT09PW4ubGVuZ3RoJiYhd2EoZSxpKSl0aHJvdyBuZXcgQyhyYSxcIkVsZW1lbnQgaW4gZnJhZ21lbnQgY2FuIG5vdCBiZSBpbnNlcnRlZCBiZWZvcmUgZG9jdHlwZVwiKX1pZihUYSh0KSYmIXdhKGUsaSkpdGhyb3cgbmV3IEMocmEsXCJPbmx5IG9uZSBlbGVtZW50IGNhbiBiZSBhZGRlZCBhbmQgb25seSBhZnRlciBkb2N0eXBlXCIpO2lmKGJhKHQpKXtpZihRbihzLGJhKSl0aHJvdyBuZXcgQyhyYSxcIk9ubHkgb25lIGRvY3R5cGUgaXMgYWxsb3dlZFwiKTtyPVFuKHMsVGEpO2lmKGkmJnMuaW5kZXhPZihyKTxzLmluZGV4T2YoaSkpdGhyb3cgbmV3IEMocmEsXCJEb2N0eXBlIGNhbiBvbmx5IGJlIGluc2VydGVkIGJlZm9yZSBhbiBlbGVtZW50XCIpO2lmKCFpJiZyKXRocm93IG5ldyBDKHJhLFwiRG9jdHlwZSBjYW4gbm90IGJlIGFwcGVuZGVkIHNpbmNlIGVsZW1lbnQgaXMgcHJlc2VudFwiKX19ZnVuY3Rpb24gSWEoZSx0LGkpe3ZhciBzPWUuY2hpbGROb2Rlc3x8W10scj10LmNoaWxkTm9kZXN8fFtdO2lmKHQubm9kZVR5cGU9PT1JLkRPQ1VNRU5UX0ZSQUdNRU5UX05PREUpe3ZhciBuPXIuZmlsdGVyKFRhKTtpZigxPG4ubGVuZ3RofHxRbihyLFNhKSl0aHJvdyBuZXcgQyhyYSxcIk1vcmUgdGhhbiBvbmUgZWxlbWVudCBvciB0ZXh0IGluIGZyYWdtZW50XCIpO2lmKDE9PT1uLmxlbmd0aCYmIUVhKGUsaSkpdGhyb3cgbmV3IEMocmEsXCJFbGVtZW50IGluIGZyYWdtZW50IGNhbiBub3QgYmUgaW5zZXJ0ZWQgYmVmb3JlIGRvY3R5cGVcIil9aWYoVGEodCkmJiFFYShlLGkpKXRocm93IG5ldyBDKHJhLFwiT25seSBvbmUgZWxlbWVudCBjYW4gYmUgYWRkZWQgYW5kIG9ubHkgYWZ0ZXIgZG9jdHlwZVwiKTtpZihiYSh0KSl7aWYoUW4ocyxmdW5jdGlvbihlKXtyZXR1cm4gYmEoZSkmJmUhPT1pfSkpdGhyb3cgbmV3IEMocmEsXCJPbmx5IG9uZSBkb2N0eXBlIGlzIGFsbG93ZWRcIik7cj1RbihzLFRhKTtpZihpJiZzLmluZGV4T2Yocik8cy5pbmRleE9mKGkpKXRocm93IG5ldyBDKHJhLFwiRG9jdHlwZSBjYW4gb25seSBiZSBpbnNlcnRlZCBiZWZvcmUgYW4gZWxlbWVudFwiKX19ZnVuY3Rpb24geGEoZSx0LGkscyl7a2EoZSx0LGkpLGUubm9kZVR5cGU9PT1JLkRPQ1VNRU5UX05PREUmJihzfHxDYSkoZSx0LGkpO3M9dC5wYXJlbnROb2RlO2lmKHMmJnMucmVtb3ZlQ2hpbGQodCksMTE9PT10Lm5vZGVUeXBlKXt2YXIgcj10LmZpcnN0Q2hpbGQ7aWYobnVsbD09cilyZXR1cm4gdDt2YXIgbj10Lmxhc3RDaGlsZH1lbHNlIHI9bj10O3M9aT9pLnByZXZpb3VzU2libGluZzplLmxhc3RDaGlsZDtmb3Ioci5wcmV2aW91c1NpYmxpbmc9cyxuLm5leHRTaWJsaW5nPWkscz9zLm5leHRTaWJsaW5nPXI6ZS5maXJzdENoaWxkPXIsbnVsbD09aT9lLmxhc3RDaGlsZD1uOmkucHJldmlvdXNTaWJsaW5nPW47ci5wYXJlbnROb2RlPWUsciE9PW4mJihyPXIubmV4dFNpYmxpbmcpOyk7cmV0dXJuIF9hKGUub3duZXJEb2N1bWVudHx8ZSxlKSwxMT09dC5ub2RlVHlwZSYmKHQuZmlyc3RDaGlsZD10Lmxhc3RDaGlsZD1udWxsKSx0fWZ1bmN0aW9uIEFhKCl7dGhpcy5fbnNNYXA9e319ZnVuY3Rpb24gUGEoKXt9ZnVuY3Rpb24gTGEoKXt9ZnVuY3Rpb24gT2EoKXt9ZnVuY3Rpb24gRGEoKXt9ZnVuY3Rpb24gTmEoKXt9ZnVuY3Rpb24gTWEoKXt9ZnVuY3Rpb24gUmEoKXt9ZnVuY3Rpb24gVWEoKXt9ZnVuY3Rpb24gQmEoKXt9ZnVuY3Rpb24gRmEoKXt9ZnVuY3Rpb24gamEoKXt9ZnVuY3Rpb24gSGEoKXt9ZnVuY3Rpb24gcWEoZSx0KXt2YXIgaSxzPVtdLHI9OT09dGhpcy5ub2RlVHlwZSYmdGhpcy5kb2N1bWVudEVsZW1lbnR8fHRoaXMsbj1yLnByZWZpeCxhPXIubmFtZXNwYWNlVVJJO3JldHVybiBXYSh0aGlzLHMsZSx0LGk9YSYmbnVsbD09biYmbnVsbD09ci5sb29rdXBQcmVmaXgoYSk/W3tuYW1lc3BhY2U6YSxwcmVmaXg6bnVsbH1dOmkpLHMuam9pbihcIlwiKX1mdW5jdGlvbiBWYShlLHQsaSl7dmFyIHM9ZS5wcmVmaXh8fFwiXCIscj1lLm5hbWVzcGFjZVVSSTtpZihyJiYoXCJ4bWxcIiE9PXN8fHIhPT1Kbi5YTUwpJiZyIT09Sm4uWE1MTlMpe2Zvcih2YXIgbj1pLmxlbmd0aDtuLS07KXt2YXIgYT1pW25dO2lmKGEucHJlZml4PT09cylyZXR1cm4gYS5uYW1lc3BhY2UhPT1yfXJldHVybiAxfX1mdW5jdGlvbiAkYShlLHQsaSl7ZS5wdXNoKFwiIFwiLHQsJz1cIicsaS5yZXBsYWNlKC9bPD4mXCJcXHRcXG5cXHJdL2csbWEpLCdcIicpfWZ1bmN0aW9uIFdhKGUsdCxpLHMscil7aWYocj1yfHxbXSxzKXtpZighKGU9cyhlKSkpcmV0dXJuO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXJldHVybiB2b2lkIHQucHVzaChlKX1zd2l0Y2goZS5ub2RlVHlwZSl7Y2FzZSAxOnZhciBuPWUuYXR0cmlidXRlcyxhPW4ubGVuZ3RoLG89ZS5maXJzdENoaWxkLGw9ZS50YWdOYW1lLGQ9bDtpZighKGk9Sm4uaXNIVE1MKGUubmFtZXNwYWNlVVJJKXx8aSkmJiFlLnByZWZpeCYmZS5uYW1lc3BhY2VVUkkpe2Zvcih2YXIgaCx1PTA7dTxuLmxlbmd0aDt1KyspaWYoXCJ4bWxuc1wiPT09bi5pdGVtKHUpLm5hbWUpe2g9bi5pdGVtKHUpLnZhbHVlO2JyZWFrfWlmKCFoKWZvcih2YXIgYz1yLmxlbmd0aC0xOzA8PWM7Yy0tKWlmKFwiXCI9PT0ocD1yW2NdKS5wcmVmaXgmJnAubmFtZXNwYWNlPT09ZS5uYW1lc3BhY2VVUkkpe2g9cC5uYW1lc3BhY2U7YnJlYWt9aWYoaCE9PWUubmFtZXNwYWNlVVJJKWZvcih2YXIgcCxjPXIubGVuZ3RoLTE7MDw9YztjLS0paWYoKHA9cltjXSkubmFtZXNwYWNlPT09ZS5uYW1lc3BhY2VVUkkpe3AucHJlZml4JiYoZD1wLnByZWZpeCtcIjpcIitsKTticmVha319dC5wdXNoKFwiPFwiLGQpO2Zvcih2YXIgbT0wO208YTttKyspXCJ4bWxuc1wiPT0oZz1uLml0ZW0obSkpLnByZWZpeD9yLnB1c2goe3ByZWZpeDpnLmxvY2FsTmFtZSxuYW1lc3BhY2U6Zy52YWx1ZX0pOlwieG1sbnNcIj09Zy5ub2RlTmFtZSYmci5wdXNoKHtwcmVmaXg6XCJcIixuYW1lc3BhY2U6Zy52YWx1ZX0pO2Zvcih2YXIgZyxmLHksbT0wO208YTttKyspVmEoZz1uLml0ZW0obSksMCxyKSYmKCRhKHQsKGY9Zy5wcmVmaXh8fFwiXCIpP1wieG1sbnM6XCIrZjpcInhtbG5zXCIseT1nLm5hbWVzcGFjZVVSSSksci5wdXNoKHtwcmVmaXg6ZixuYW1lc3BhY2U6eX0pKSxXYShnLHQsaSxzLHIpO2lmKGw9PT1kJiZWYShlLDAscikmJigkYSh0LChmPWUucHJlZml4fHxcIlwiKT9cInhtbG5zOlwiK2Y6XCJ4bWxuc1wiLHk9ZS5uYW1lc3BhY2VVUkkpLHIucHVzaCh7cHJlZml4OmYsbmFtZXNwYWNlOnl9KSksb3x8aSYmIS9eKD86bWV0YXxsaW5rfGltZ3xicnxocnxpbnB1dCkkL2kudGVzdChsKSl7aWYodC5wdXNoKFwiPlwiKSxpJiYvXnNjcmlwdCQvaS50ZXN0KGwpKWZvcig7bzspby5kYXRhP3QucHVzaChvLmRhdGEpOldhKG8sdCxpLHMsci5zbGljZSgpKSxvPW8ubmV4dFNpYmxpbmc7ZWxzZSBmb3IoO287KVdhKG8sdCxpLHMsci5zbGljZSgpKSxvPW8ubmV4dFNpYmxpbmc7dC5wdXNoKFwiPC9cIixkLFwiPlwiKX1lbHNlIHQucHVzaChcIi8+XCIpO3JldHVybjtjYXNlIDk6Y2FzZSAxMTpmb3Iobz1lLmZpcnN0Q2hpbGQ7bzspV2Eobyx0LGkscyxyLnNsaWNlKCkpLG89by5uZXh0U2libGluZztyZXR1cm47Y2FzZSAyOnJldHVybiAkYSh0LGUubmFtZSxlLnZhbHVlKTtjYXNlIDM6cmV0dXJuIHQucHVzaChlLmRhdGEucmVwbGFjZSgvWzwmPl0vZyxtYSkpO2Nhc2UgNDpyZXR1cm4gdC5wdXNoKFwiPCFbQ0RBVEFbXCIsZS5kYXRhLFwiXV0+XCIpO2Nhc2UgODpyZXR1cm4gdC5wdXNoKFwiXFx4M2MhLS1cIixlLmRhdGEsXCItLVxceDNlXCIpO2Nhc2UgMTA6dmFyIF89ZS5wdWJsaWNJZCx2PWUuc3lzdGVtSWQ7cmV0dXJuIHQucHVzaChcIjwhRE9DVFlQRSBcIixlLm5hbWUpLHZvaWQoXz8odC5wdXNoKFwiIFBVQkxJQyBcIixfKSx2JiZcIi5cIiE9diYmdC5wdXNoKFwiIFwiLHYpLHQucHVzaChcIj5cIikpOnYmJlwiLlwiIT12P3QucHVzaChcIiBTWVNURU0gXCIsdixcIj5cIik6KChfPWUuaW50ZXJuYWxTdWJzZXQpJiZ0LnB1c2goXCIgW1wiLF8sXCJdXCIpLHQucHVzaChcIj5cIikpKTtjYXNlIDc6cmV0dXJuIHQucHVzaChcIjw/XCIsZS50YXJnZXQsXCIgXCIsZS5kYXRhLFwiPz5cIik7Y2FzZSA1OnJldHVybiB0LnB1c2goXCImXCIsZS5ub2RlTmFtZSxcIjtcIik7ZGVmYXVsdDp0LnB1c2goXCI/P1wiLGUubm9kZU5hbWUpfX1mdW5jdGlvbiBHYShlLHQsaSl7ZVt0XT1pfXQuSU5WQUxJRF9TVEFURV9FUlI9KGtbMTFdPVwiSW52YWxpZCBzdGF0ZVwiLDExKSx0LlNZTlRBWF9FUlI9KGtbMTJdPVwiU3ludGF4IGVycm9yXCIsMTIpLHQuSU5WQUxJRF9NT0RJRklDQVRJT05fRVJSPShrWzEzXT1cIkludmFsaWQgbW9kaWZpY2F0aW9uXCIsMTMpLHQuTkFNRVNQQUNFX0VSUj0oa1sxNF09XCJJbnZhbGlkIG5hbWVzcGFjZVwiLDE0KSx0LklOVkFMSURfQUNDRVNTX0VSUj0oa1sxNV09XCJJbnZhbGlkIGFjY2Vzc1wiLDE1KSxDLnByb3RvdHlwZT1FcnJvci5wcm90b3R5cGUsaWEodCxDKSxhYS5wcm90b3R5cGU9e2xlbmd0aDowLGl0ZW06ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXNbZV18fG51bGx9LHRvU3RyaW5nOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBpPVtdLHM9MDtzPHRoaXMubGVuZ3RoO3MrKylXYSh0aGlzW3NdLGksZSx0KTtyZXR1cm4gaS5qb2luKFwiXCIpfSxmaWx0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5maWx0ZXIuY2FsbCh0aGlzLGUpfSxpbmRleE9mOmZ1bmN0aW9uKGUpe3JldHVybiBBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKHRoaXMsZSl9fSxvYS5wcm90b3R5cGUuaXRlbT1mdW5jdGlvbihlKXtyZXR1cm4gbGEodGhpcyksdGhpc1tlXX0sc2Eob2EsYWEpLGRhLnByb3RvdHlwZT17bGVuZ3RoOjAsaXRlbTphYS5wcm90b3R5cGUuaXRlbSxnZXROYW1lZEl0ZW06ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMubGVuZ3RoO3QtLTspe3ZhciBpPXRoaXNbdF07aWYoaS5ub2RlTmFtZT09ZSlyZXR1cm4gaX19LHNldE5hbWVkSXRlbTpmdW5jdGlvbihlKXt2YXIgdD1lLm93bmVyRWxlbWVudDtpZih0JiZ0IT10aGlzLl9vd25lckVsZW1lbnQpdGhyb3cgbmV3IEMoMTApO3Q9dGhpcy5nZXROYW1lZEl0ZW0oZS5ub2RlTmFtZSk7cmV0dXJuIHVhKHRoaXMuX293bmVyRWxlbWVudCx0aGlzLGUsdCksdH0sc2V0TmFtZWRJdGVtTlM6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5vd25lckVsZW1lbnQ7aWYodCYmdCE9dGhpcy5fb3duZXJFbGVtZW50KXRocm93IG5ldyBDKDEwKTtyZXR1cm4gdD10aGlzLmdldE5hbWVkSXRlbU5TKGUubmFtZXNwYWNlVVJJLGUubG9jYWxOYW1lKSx1YSh0aGlzLl9vd25lckVsZW1lbnQsdGhpcyxlLHQpLHR9LHJlbW92ZU5hbWVkSXRlbTpmdW5jdGlvbihlKXtlPXRoaXMuZ2V0TmFtZWRJdGVtKGUpO3JldHVybiBjYSh0aGlzLl9vd25lckVsZW1lbnQsdGhpcyxlKSxlfSxyZW1vdmVOYW1lZEl0ZW1OUzpmdW5jdGlvbihlLHQpe2U9dGhpcy5nZXROYW1lZEl0ZW1OUyhlLHQpO3JldHVybiBjYSh0aGlzLl9vd25lckVsZW1lbnQsdGhpcyxlKSxlfSxnZXROYW1lZEl0ZW1OUzpmdW5jdGlvbihlLHQpe2Zvcih2YXIgaT10aGlzLmxlbmd0aDtpLS07KXt2YXIgcz10aGlzW2ldO2lmKHMubG9jYWxOYW1lPT10JiZzLm5hbWVzcGFjZVVSST09ZSlyZXR1cm4gc31yZXR1cm4gbnVsbH19LHBhLnByb3RvdHlwZT17aGFzRmVhdHVyZTpmdW5jdGlvbihlLHQpe3JldHVybiEwfSxjcmVhdGVEb2N1bWVudDpmdW5jdGlvbihlLHQsaSl7dmFyIHM9bmV3IGZhO3JldHVybiBzLmltcGxlbWVudGF0aW9uPXRoaXMscy5jaGlsZE5vZGVzPW5ldyBhYSxzLmRvY3R5cGU9aXx8bnVsbCxpJiZzLmFwcGVuZENoaWxkKGkpLHQmJihpPXMuY3JlYXRlRWxlbWVudE5TKGUsdCkscy5hcHBlbmRDaGlsZChpKSksc30sY3JlYXRlRG9jdW1lbnRUeXBlOmZ1bmN0aW9uKGUsdCxpKXt2YXIgcz1uZXcgTWE7cmV0dXJuIHMubmFtZT1lLHMubm9kZU5hbWU9ZSxzLnB1YmxpY0lkPXR8fFwiXCIscy5zeXN0ZW1JZD1pfHxcIlwiLHN9fSxJLnByb3RvdHlwZT17Zmlyc3RDaGlsZDpudWxsLGxhc3RDaGlsZDpudWxsLHByZXZpb3VzU2libGluZzpudWxsLG5leHRTaWJsaW5nOm51bGwsYXR0cmlidXRlczpudWxsLHBhcmVudE5vZGU6bnVsbCxjaGlsZE5vZGVzOm51bGwsb3duZXJEb2N1bWVudDpudWxsLG5vZGVWYWx1ZTpudWxsLG5hbWVzcGFjZVVSSTpudWxsLHByZWZpeDpudWxsLGxvY2FsTmFtZTpudWxsLGluc2VydEJlZm9yZTpmdW5jdGlvbihlLHQpe3JldHVybiB4YSh0aGlzLGUsdCl9LHJlcGxhY2VDaGlsZDpmdW5jdGlvbihlLHQpe3hhKHRoaXMsZSx0LElhKSx0JiZ0aGlzLnJlbW92ZUNoaWxkKHQpfSxyZW1vdmVDaGlsZDpmdW5jdGlvbihlKXtyZXR1cm4gdmEodGhpcyxlKX0sYXBwZW5kQ2hpbGQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuaW5zZXJ0QmVmb3JlKGUsbnVsbCl9LGhhc0NoaWxkTm9kZXM6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dGhpcy5maXJzdENoaWxkfSxjbG9uZU5vZGU6ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uIGUodCxpLHMpe3ZhciByPW5ldyBpLmNvbnN0cnVjdG9yO2Zvcih2YXIgbiBpbiBpKXt2YXIgYTtPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaSxuKSYmXCJvYmplY3RcIiE9dHlwZW9mKGE9aVtuXSkmJmEhPXJbbl0mJihyW25dPWEpfWkuY2hpbGROb2RlcyYmKHIuY2hpbGROb2Rlcz1uZXcgYWEpO3Iub3duZXJEb2N1bWVudD10O3N3aXRjaChyLm5vZGVUeXBlKXtjYXNlIDE6dmFyIG89aS5hdHRyaWJ1dGVzLGw9ci5hdHRyaWJ1dGVzPW5ldyBkYSxkPW8ubGVuZ3RoO2wuX293bmVyRWxlbWVudD1yO2Zvcih2YXIgaD0wO2g8ZDtoKyspci5zZXRBdHRyaWJ1dGVOb2RlKGUodCxvLml0ZW0oaCksITApKTticmVhaztjYXNlIDI6cz0hMH1pZihzKWZvcih2YXIgdT1pLmZpcnN0Q2hpbGQ7dTspci5hcHBlbmRDaGlsZChlKHQsdSxzKSksdT11Lm5leHRTaWJsaW5nO3JldHVybiByfSh0aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMsdGhpcyxlKX0sbm9ybWFsaXplOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMuZmlyc3RDaGlsZDtlOyl7dmFyIHQ9ZS5uZXh0U2libGluZzt0JiYzPT10Lm5vZGVUeXBlJiYzPT1lLm5vZGVUeXBlPyh0aGlzLnJlbW92ZUNoaWxkKHQpLGUuYXBwZW5kRGF0YSh0LmRhdGEpKTooZS5ub3JtYWxpemUoKSxlPXQpfX0saXNTdXBwb3J0ZWQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5vd25lckRvY3VtZW50LmltcGxlbWVudGF0aW9uLmhhc0ZlYXR1cmUoZSx0KX0saGFzQXR0cmlidXRlczpmdW5jdGlvbigpe3JldHVybiAwPHRoaXMuYXR0cmlidXRlcy5sZW5ndGh9LGxvb2t1cFByZWZpeDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpczt0Oyl7dmFyIGk9dC5fbnNNYXA7aWYoaSlmb3IodmFyIHMgaW4gaSlpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaSxzKSYmaVtzXT09PWUpcmV0dXJuIHM7dD0yPT10Lm5vZGVUeXBlP3Qub3duZXJEb2N1bWVudDp0LnBhcmVudE5vZGV9cmV0dXJuIG51bGx9LGxvb2t1cE5hbWVzcGFjZVVSSTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpczt0Oyl7dmFyIGk9dC5fbnNNYXA7aWYoaSYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGksZSkpcmV0dXJuIGlbZV07dD0yPT10Lm5vZGVUeXBlP3Qub3duZXJEb2N1bWVudDp0LnBhcmVudE5vZGV9cmV0dXJuIG51bGx9LGlzRGVmYXVsdE5hbWVzcGFjZTpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09dGhpcy5sb29rdXBQcmVmaXgoZSl9fSxpYShuLEkpLGlhKG4sSS5wcm90b3R5cGUpLGZhLnByb3RvdHlwZT17bm9kZU5hbWU6XCIjZG9jdW1lbnRcIixub2RlVHlwZTo5LGRvY3R5cGU6bnVsbCxkb2N1bWVudEVsZW1lbnQ6bnVsbCxfaW5jOjEsaW5zZXJ0QmVmb3JlOmZ1bmN0aW9uKGUsdCl7aWYoMTE9PWUubm9kZVR5cGUpZm9yKHZhciBpPWUuZmlyc3RDaGlsZDtpOyl7dmFyIHM9aS5uZXh0U2libGluZzt0aGlzLmluc2VydEJlZm9yZShpLHQpLGk9c31lbHNlIHhhKHRoaXMsZSx0KSxudWxsPT09KGUub3duZXJEb2N1bWVudD10aGlzKS5kb2N1bWVudEVsZW1lbnQmJjE9PT1lLm5vZGVUeXBlJiYodGhpcy5kb2N1bWVudEVsZW1lbnQ9ZSk7cmV0dXJuIGV9LHJlbW92ZUNoaWxkOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmRvY3VtZW50RWxlbWVudD09ZSYmKHRoaXMuZG9jdW1lbnRFbGVtZW50PW51bGwpLHZhKHRoaXMsZSl9LHJlcGxhY2VDaGlsZDpmdW5jdGlvbihlLHQpe3hhKHRoaXMsZSx0LElhKSxlLm93bmVyRG9jdW1lbnQ9dGhpcyx0JiZ0aGlzLnJlbW92ZUNoaWxkKHQpLFRhKGUpJiYodGhpcy5kb2N1bWVudEVsZW1lbnQ9ZSl9LGltcG9ydE5vZGU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24gZSh0LGkscyl7dmFyIHI7c3dpdGNoKGkubm9kZVR5cGUpe2Nhc2UgMToocj1pLmNsb25lTm9kZSghMSkpLm93bmVyRG9jdW1lbnQ9dDtjYXNlIDExOmJyZWFrO2Nhc2UgMjpzPSEwfXI9cnx8aS5jbG9uZU5vZGUoITEpO3Iub3duZXJEb2N1bWVudD10O3IucGFyZW50Tm9kZT1udWxsO2lmKHMpZm9yKHZhciBuPWkuZmlyc3RDaGlsZDtuOylyLmFwcGVuZENoaWxkKGUodCxuLHMpKSxuPW4ubmV4dFNpYmxpbmc7cmV0dXJuIHJ9KHRoaXMsZSx0KX0sZ2V0RWxlbWVudEJ5SWQ6ZnVuY3Rpb24odCl7dmFyIGk9bnVsbDtyZXR1cm4gZ2EodGhpcy5kb2N1bWVudEVsZW1lbnQsZnVuY3Rpb24oZSl7aWYoMT09ZS5ub2RlVHlwZSYmZS5nZXRBdHRyaWJ1dGUoXCJpZFwiKT09dClyZXR1cm4gaT1lLCEwfSksaX0sZ2V0RWxlbWVudHNCeUNsYXNzTmFtZTpmdW5jdGlvbihhKXt2YXIgbz10YShhKTtyZXR1cm4gbmV3IG9hKHRoaXMsZnVuY3Rpb24ocil7dmFyIG49W107cmV0dXJuIDA8by5sZW5ndGgmJmdhKHIuZG9jdW1lbnRFbGVtZW50LGZ1bmN0aW9uKGUpe3ZhciB0LGkscztlIT09ciYmMT09PWUubm9kZVR5cGUmJih0PWUuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIikpJiYoKGk9YT09PXQpfHwodD10YSh0KSxpPW8uZXZlcnkoKHM9dCxmdW5jdGlvbihlKXtyZXR1cm4gcyYmLTEhPT1zLmluZGV4T2YoZSl9KSkpLGkpJiZuLnB1c2goZSl9KSxufSl9LGNyZWF0ZUVsZW1lbnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IEFhO3JldHVybiB0Lm93bmVyRG9jdW1lbnQ9dGhpcyx0Lm5vZGVOYW1lPWUsdC50YWdOYW1lPWUsdC5sb2NhbE5hbWU9ZSx0LmNoaWxkTm9kZXM9bmV3IGFhLCh0LmF0dHJpYnV0ZXM9bmV3IGRhKS5fb3duZXJFbGVtZW50PXR9LGNyZWF0ZURvY3VtZW50RnJhZ21lbnQ6ZnVuY3Rpb24oKXt2YXIgZT1uZXcgRmE7cmV0dXJuIGUub3duZXJEb2N1bWVudD10aGlzLGUuY2hpbGROb2Rlcz1uZXcgYWEsZX0sY3JlYXRlVGV4dE5vZGU6ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IE9hO3JldHVybiB0Lm93bmVyRG9jdW1lbnQ9dGhpcyx0LmFwcGVuZERhdGEoZSksdH0sY3JlYXRlQ29tbWVudDpmdW5jdGlvbihlKXt2YXIgdD1uZXcgRGE7cmV0dXJuIHQub3duZXJEb2N1bWVudD10aGlzLHQuYXBwZW5kRGF0YShlKSx0fSxjcmVhdGVDREFUQVNlY3Rpb246ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IE5hO3JldHVybiB0Lm93bmVyRG9jdW1lbnQ9dGhpcyx0LmFwcGVuZERhdGEoZSksdH0sY3JlYXRlUHJvY2Vzc2luZ0luc3RydWN0aW9uOmZ1bmN0aW9uKGUsdCl7dmFyIGk9bmV3IGphO3JldHVybiBpLm93bmVyRG9jdW1lbnQ9dGhpcyxpLnRhZ05hbWU9aS50YXJnZXQ9ZSxpLm5vZGVWYWx1ZT1pLmRhdGE9dCxpfSxjcmVhdGVBdHRyaWJ1dGU6ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IFBhO3JldHVybiB0Lm93bmVyRG9jdW1lbnQ9dGhpcyx0Lm5hbWU9ZSx0Lm5vZGVOYW1lPWUsdC5sb2NhbE5hbWU9ZSx0LnNwZWNpZmllZD0hMCx0fSxjcmVhdGVFbnRpdHlSZWZlcmVuY2U6ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IEJhO3JldHVybiB0Lm93bmVyRG9jdW1lbnQ9dGhpcyx0Lm5vZGVOYW1lPWUsdH0sY3JlYXRlRWxlbWVudE5TOmZ1bmN0aW9uKGUsdCl7dmFyIGk9bmV3IEFhLHM9dC5zcGxpdChcIjpcIikscj1pLmF0dHJpYnV0ZXM9bmV3IGRhO3JldHVybiBpLmNoaWxkTm9kZXM9bmV3IGFhLGkub3duZXJEb2N1bWVudD10aGlzLGkubm9kZU5hbWU9dCxpLnRhZ05hbWU9dCxpLm5hbWVzcGFjZVVSST1lLDI9PXMubGVuZ3RoPyhpLnByZWZpeD1zWzBdLGkubG9jYWxOYW1lPXNbMV0pOmkubG9jYWxOYW1lPXQsci5fb3duZXJFbGVtZW50PWl9LGNyZWF0ZUF0dHJpYnV0ZU5TOmZ1bmN0aW9uKGUsdCl7dmFyIGk9bmV3IFBhLHM9dC5zcGxpdChcIjpcIik7cmV0dXJuIGkub3duZXJEb2N1bWVudD10aGlzLGkubm9kZU5hbWU9dCxpLm5hbWU9dCxpLm5hbWVzcGFjZVVSST1lLGkuc3BlY2lmaWVkPSEwLDI9PXMubGVuZ3RoPyhpLnByZWZpeD1zWzBdLGkubG9jYWxOYW1lPXNbMV0pOmkubG9jYWxOYW1lPXQsaX19LHNhKGZhLEkpLGZhLnByb3RvdHlwZS5nZXRFbGVtZW50c0J5VGFnTmFtZT0oQWEucHJvdG90eXBlPXtub2RlVHlwZToxLGhhc0F0dHJpYnV0ZTpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9dGhpcy5nZXRBdHRyaWJ1dGVOb2RlKGUpfSxnZXRBdHRyaWJ1dGU6ZnVuY3Rpb24oZSl7ZT10aGlzLmdldEF0dHJpYnV0ZU5vZGUoZSk7cmV0dXJuIGUmJmUudmFsdWV8fFwiXCJ9LGdldEF0dHJpYnV0ZU5vZGU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYXR0cmlidXRlcy5nZXROYW1lZEl0ZW0oZSl9LHNldEF0dHJpYnV0ZTpmdW5jdGlvbihlLHQpe2U9dGhpcy5vd25lckRvY3VtZW50LmNyZWF0ZUF0dHJpYnV0ZShlKTtlLnZhbHVlPWUubm9kZVZhbHVlPVwiXCIrdCx0aGlzLnNldEF0dHJpYnV0ZU5vZGUoZSl9LHJlbW92ZUF0dHJpYnV0ZTpmdW5jdGlvbihlKXtlPXRoaXMuZ2V0QXR0cmlidXRlTm9kZShlKTtlJiZ0aGlzLnJlbW92ZUF0dHJpYnV0ZU5vZGUoZSl9LGFwcGVuZENoaWxkOmZ1bmN0aW9uKGUpe3JldHVybiAxMT09PWUubm9kZVR5cGU/dGhpcy5pbnNlcnRCZWZvcmUoZSxudWxsKToodD10aGlzLChlPWUpLnBhcmVudE5vZGUmJmUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKSxlLnBhcmVudE5vZGU9dCxlLnByZXZpb3VzU2libGluZz10Lmxhc3RDaGlsZCxlLm5leHRTaWJsaW5nPW51bGwsZS5wcmV2aW91c1NpYmxpbmc/ZS5wcmV2aW91c1NpYmxpbmcubmV4dFNpYmxpbmc9ZTp0LmZpcnN0Q2hpbGQ9ZSx0Lmxhc3RDaGlsZD1lLF9hKHQub3duZXJEb2N1bWVudCx0LGUpLGUpO3ZhciB0fSxzZXRBdHRyaWJ1dGVOb2RlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmF0dHJpYnV0ZXMuc2V0TmFtZWRJdGVtKGUpfSxzZXRBdHRyaWJ1dGVOb2RlTlM6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYXR0cmlidXRlcy5zZXROYW1lZEl0ZW1OUyhlKX0scmVtb3ZlQXR0cmlidXRlTm9kZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVzLnJlbW92ZU5hbWVkSXRlbShlLm5vZGVOYW1lKX0scmVtb3ZlQXR0cmlidXRlTlM6ZnVuY3Rpb24oZSx0KXtlPXRoaXMuZ2V0QXR0cmlidXRlTm9kZU5TKGUsdCk7ZSYmdGhpcy5yZW1vdmVBdHRyaWJ1dGVOb2RlKGUpfSxoYXNBdHRyaWJ1dGVOUzpmdW5jdGlvbihlLHQpe3JldHVybiBudWxsIT10aGlzLmdldEF0dHJpYnV0ZU5vZGVOUyhlLHQpfSxnZXRBdHRyaWJ1dGVOUzpmdW5jdGlvbihlLHQpe2U9dGhpcy5nZXRBdHRyaWJ1dGVOb2RlTlMoZSx0KTtyZXR1cm4gZSYmZS52YWx1ZXx8XCJcIn0sc2V0QXR0cmlidXRlTlM6ZnVuY3Rpb24oZSx0LGkpe2U9dGhpcy5vd25lckRvY3VtZW50LmNyZWF0ZUF0dHJpYnV0ZU5TKGUsdCk7ZS52YWx1ZT1lLm5vZGVWYWx1ZT1cIlwiK2ksdGhpcy5zZXRBdHRyaWJ1dGVOb2RlKGUpfSxnZXRBdHRyaWJ1dGVOb2RlTlM6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVzLmdldE5hbWVkSXRlbU5TKGUsdCl9LGdldEVsZW1lbnRzQnlUYWdOYW1lOmZ1bmN0aW9uKHMpe3JldHVybiBuZXcgb2EodGhpcyxmdW5jdGlvbih0KXt2YXIgaT1bXTtyZXR1cm4gZ2EodCxmdW5jdGlvbihlKXtlPT09dHx8MSE9ZS5ub2RlVHlwZXx8XCIqXCIhPT1zJiZlLnRhZ05hbWUhPXN8fGkucHVzaChlKX0pLGl9KX0sZ2V0RWxlbWVudHNCeVRhZ05hbWVOUzpmdW5jdGlvbihzLHIpe3JldHVybiBuZXcgb2EodGhpcyxmdW5jdGlvbih0KXt2YXIgaT1bXTtyZXR1cm4gZ2EodCxmdW5jdGlvbihlKXtlPT09dHx8MSE9PWUubm9kZVR5cGV8fFwiKlwiIT09cyYmZS5uYW1lc3BhY2VVUkkhPT1zfHxcIipcIiE9PXImJmUubG9jYWxOYW1lIT1yfHxpLnB1c2goZSl9KSxpfSl9fSkuZ2V0RWxlbWVudHNCeVRhZ05hbWUsZmEucHJvdG90eXBlLmdldEVsZW1lbnRzQnlUYWdOYW1lTlM9QWEucHJvdG90eXBlLmdldEVsZW1lbnRzQnlUYWdOYW1lTlMsc2EoQWEsSSksUGEucHJvdG90eXBlLm5vZGVUeXBlPTIsc2EoUGEsSSksTGEucHJvdG90eXBlPXtkYXRhOlwiXCIsc3Vic3RyaW5nRGF0YTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmRhdGEuc3Vic3RyaW5nKGUsZSt0KX0sYXBwZW5kRGF0YTpmdW5jdGlvbihlKXtlPXRoaXMuZGF0YStlLHRoaXMubm9kZVZhbHVlPXRoaXMuZGF0YT1lLHRoaXMubGVuZ3RoPWUubGVuZ3RofSxpbnNlcnREYXRhOmZ1bmN0aW9uKGUsdCl7dGhpcy5yZXBsYWNlRGF0YShlLDAsdCl9LGFwcGVuZENoaWxkOmZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihrW3JhXSl9LGRlbGV0ZURhdGE6ZnVuY3Rpb24oZSx0KXt0aGlzLnJlcGxhY2VEYXRhKGUsdCxcIlwiKX0scmVwbGFjZURhdGE6ZnVuY3Rpb24oZSx0LGkpe3ZhciBzPXRoaXMuZGF0YS5zdWJzdHJpbmcoMCxlKSxlPXRoaXMuZGF0YS5zdWJzdHJpbmcoZSt0KTt0aGlzLm5vZGVWYWx1ZT10aGlzLmRhdGE9aT1zK2krZSx0aGlzLmxlbmd0aD1pLmxlbmd0aH19LHNhKExhLEkpLE9hLnByb3RvdHlwZT17bm9kZU5hbWU6XCIjdGV4dFwiLG5vZGVUeXBlOjMsc3BsaXRUZXh0OmZ1bmN0aW9uKGUpe3ZhciB0PShpPXRoaXMuZGF0YSkuc3Vic3RyaW5nKGUpLGk9aS5zdWJzdHJpbmcoMCxlKSxlPSh0aGlzLmRhdGE9dGhpcy5ub2RlVmFsdWU9aSx0aGlzLmxlbmd0aD1pLmxlbmd0aCx0aGlzLm93bmVyRG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodCkpO3JldHVybiB0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSx0aGlzLm5leHRTaWJsaW5nKSxlfX0sc2EoT2EsTGEpLERhLnByb3RvdHlwZT17bm9kZU5hbWU6XCIjY29tbWVudFwiLG5vZGVUeXBlOjh9LHNhKERhLExhKSxOYS5wcm90b3R5cGU9e25vZGVOYW1lOlwiI2NkYXRhLXNlY3Rpb25cIixub2RlVHlwZTo0fSxzYShOYSxMYSksTWEucHJvdG90eXBlLm5vZGVUeXBlPTEwLHNhKE1hLEkpLFJhLnByb3RvdHlwZS5ub2RlVHlwZT0xMixzYShSYSxJKSxVYS5wcm90b3R5cGUubm9kZVR5cGU9NixzYShVYSxJKSxCYS5wcm90b3R5cGUubm9kZVR5cGU9NSxzYShCYSxJKSxGYS5wcm90b3R5cGUubm9kZU5hbWU9XCIjZG9jdW1lbnQtZnJhZ21lbnRcIixGYS5wcm90b3R5cGUubm9kZVR5cGU9MTEsc2EoRmEsSSksamEucHJvdG90eXBlLm5vZGVUeXBlPTcsc2EoamEsSSksSGEucHJvdG90eXBlLnNlcmlhbGl6ZVRvU3RyaW5nPWZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gcWEuY2FsbChlLHQsaSl9LEkucHJvdG90eXBlLnRvU3RyaW5nPXFhO3RyeXtPYmplY3QuZGVmaW5lUHJvcGVydHkmJihPYmplY3QuZGVmaW5lUHJvcGVydHkob2EucHJvdG90eXBlLFwibGVuZ3RoXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBsYSh0aGlzKSx0aGlzLiQkbGVuZ3RofX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJLnByb3RvdHlwZSxcInRleHRDb250ZW50XCIse2dldDpmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbiBlKHQpe3N3aXRjaCh0Lm5vZGVUeXBlKXtjYXNlIDE6Y2FzZSAxMTp2YXIgaT1bXTtmb3IodD10LmZpcnN0Q2hpbGQ7dDspNyE9PXQubm9kZVR5cGUmJjghPT10Lm5vZGVUeXBlJiZpLnB1c2goZSh0KSksdD10Lm5leHRTaWJsaW5nO3JldHVybiBpLmpvaW4oXCJcIik7ZGVmYXVsdDpyZXR1cm4gdC5ub2RlVmFsdWV9fSh0aGlzKX0sc2V0OmZ1bmN0aW9uKGUpe3N3aXRjaCh0aGlzLm5vZGVUeXBlKXtjYXNlIDE6Y2FzZSAxMTpmb3IoO3RoaXMuZmlyc3RDaGlsZDspdGhpcy5yZW1vdmVDaGlsZCh0aGlzLmZpcnN0Q2hpbGQpOyhlfHxTdHJpbmcoZSkpJiZ0aGlzLmFwcGVuZENoaWxkKHRoaXMub3duZXJEb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShlKSk7YnJlYWs7ZGVmYXVsdDp0aGlzLmRhdGE9ZSx0aGlzLnZhbHVlPWUsdGhpcy5ub2RlVmFsdWU9ZX19fSksR2E9ZnVuY3Rpb24oZSx0LGkpe2VbXCIkJFwiK3RdPWl9KX1jYXRjaChlKXt9dmFyIFByPXtEb2N1bWVudFR5cGU6TWEsRE9NRXhjZXB0aW9uOkMsRE9NSW1wbGVtZW50YXRpb246cGEsRWxlbWVudDpBYSxOb2RlOkksTm9kZUxpc3Q6YWEsWE1MU2VyaWFsaXplcjpIYX0semE9RHQoZnVuY3Rpb24oZSx0KXt2YXIgaT1Zbi5mcmVlemU7dC5YTUxfRU5USVRJRVM9aSh7YW1wOlwiJlwiLGFwb3M6XCInXCIsZ3Q6XCI+XCIsbHQ6XCI8XCIscXVvdDonXCInfSksdC5IVE1MX0VOVElUSUVTPWkoe2x0OlwiPFwiLGd0OlwiPlwiLGFtcDpcIiZcIixxdW90OidcIicsYXBvczpcIidcIixBZ3JhdmU6XCLDgFwiLEFhY3V0ZTpcIsOBXCIsQWNpcmM6XCLDglwiLEF0aWxkZTpcIsODXCIsQXVtbDpcIsOEXCIsQXJpbmc6XCLDhVwiLEFFbGlnOlwiw4ZcIixDY2VkaWw6XCLDh1wiLEVncmF2ZTpcIsOIXCIsRWFjdXRlOlwiw4lcIixFY2lyYzpcIsOKXCIsRXVtbDpcIsOLXCIsSWdyYXZlOlwiw4xcIixJYWN1dGU6XCLDjVwiLEljaXJjOlwiw45cIixJdW1sOlwiw49cIixFVEg6XCLDkFwiLE50aWxkZTpcIsORXCIsT2dyYXZlOlwiw5JcIixPYWN1dGU6XCLDk1wiLE9jaXJjOlwiw5RcIixPdGlsZGU6XCLDlVwiLE91bWw6XCLDllwiLE9zbGFzaDpcIsOYXCIsVWdyYXZlOlwiw5lcIixVYWN1dGU6XCLDmlwiLFVjaXJjOlwiw5tcIixVdW1sOlwiw5xcIixZYWN1dGU6XCLDnVwiLFRIT1JOOlwiw55cIixzemxpZzpcIsOfXCIsYWdyYXZlOlwiw6BcIixhYWN1dGU6XCLDoVwiLGFjaXJjOlwiw6JcIixhdGlsZGU6XCLDo1wiLGF1bWw6XCLDpFwiLGFyaW5nOlwiw6VcIixhZWxpZzpcIsOmXCIsY2NlZGlsOlwiw6dcIixlZ3JhdmU6XCLDqFwiLGVhY3V0ZTpcIsOpXCIsZWNpcmM6XCLDqlwiLGV1bWw6XCLDq1wiLGlncmF2ZTpcIsOsXCIsaWFjdXRlOlwiw61cIixpY2lyYzpcIsOuXCIsaXVtbDpcIsOvXCIsZXRoOlwiw7BcIixudGlsZGU6XCLDsVwiLG9ncmF2ZTpcIsOyXCIsb2FjdXRlOlwiw7NcIixvY2lyYzpcIsO0XCIsb3RpbGRlOlwiw7VcIixvdW1sOlwiw7ZcIixvc2xhc2g6XCLDuFwiLHVncmF2ZTpcIsO5XCIsdWFjdXRlOlwiw7pcIix1Y2lyYzpcIsO7XCIsdXVtbDpcIsO8XCIseWFjdXRlOlwiw71cIix0aG9ybjpcIsO+XCIseXVtbDpcIsO/XCIsbmJzcDpcIsKgXCIsaWV4Y2w6XCLCoVwiLGNlbnQ6XCLColwiLHBvdW5kOlwiwqNcIixjdXJyZW46XCLCpFwiLHllbjpcIsKlXCIsYnJ2YmFyOlwiwqZcIixzZWN0OlwiwqdcIix1bWw6XCLCqFwiLGNvcHk6XCLCqVwiLG9yZGY6XCLCqlwiLGxhcXVvOlwiwqtcIixub3Q6XCLCrFwiLHNoeTpcIsKtwq1cIixyZWc6XCLCrlwiLG1hY3I6XCLCr1wiLGRlZzpcIsKwXCIscGx1c21uOlwiwrFcIixzdXAyOlwiwrJcIixzdXAzOlwiwrNcIixhY3V0ZTpcIsK0XCIsbWljcm86XCLCtVwiLHBhcmE6XCLCtlwiLG1pZGRvdDpcIsK3XCIsY2VkaWw6XCLCuFwiLHN1cDE6XCLCuVwiLG9yZG06XCLCulwiLHJhcXVvOlwiwrtcIixmcmFjMTQ6XCLCvFwiLGZyYWMxMjpcIsK9XCIsZnJhYzM0Olwiwr5cIixpcXVlc3Q6XCLCv1wiLHRpbWVzOlwiw5dcIixkaXZpZGU6XCLDt1wiLGZvcmFsbDpcIuKIgFwiLHBhcnQ6XCLiiIJcIixleGlzdDpcIuKIg1wiLGVtcHR5Olwi4oiFXCIsbmFibGE6XCLiiIdcIixpc2luOlwi4oiIXCIsbm90aW46XCLiiIlcIixuaTpcIuKIi1wiLHByb2Q6XCLiiI9cIixzdW06XCLiiJFcIixtaW51czpcIuKIklwiLGxvd2FzdDpcIuKIl1wiLHJhZGljOlwi4oiaXCIscHJvcDpcIuKInVwiLGluZmluOlwi4oieXCIsYW5nOlwi4oigXCIsYW5kOlwi4oinXCIsb3I6XCLiiKhcIixjYXA6XCLiiKlcIixjdXA6XCLiiKpcIixpbnQ6XCLiiKtcIix0aGVyZTQ6XCLiiLRcIixzaW06XCLiiLxcIixjb25nOlwi4omFXCIsYXN5bXA6XCLiiYhcIixuZTpcIuKJoFwiLGVxdWl2Olwi4omhXCIsbGU6XCLiiaRcIixnZTpcIuKJpVwiLHN1YjpcIuKKglwiLHN1cDpcIuKKg1wiLG5zdWI6XCLiioRcIixzdWJlOlwi4oqGXCIsc3VwZTpcIuKKh1wiLG9wbHVzOlwi4oqVXCIsb3RpbWVzOlwi4oqXXCIscGVycDpcIuKKpVwiLHNkb3Q6XCLii4VcIixBbHBoYTpcIs6RXCIsQmV0YTpcIs6SXCIsR2FtbWE6XCLOk1wiLERlbHRhOlwizpRcIixFcHNpbG9uOlwizpVcIixaZXRhOlwizpZcIixFdGE6XCLOl1wiLFRoZXRhOlwizphcIixJb3RhOlwizplcIixLYXBwYTpcIs6aXCIsTGFtYmRhOlwizptcIixNdTpcIs6cXCIsTnU6XCLOnVwiLFhpOlwizp5cIixPbWljcm9uOlwizp9cIixQaTpcIs6gXCIsUmhvOlwizqFcIixTaWdtYTpcIs6jXCIsVGF1OlwizqRcIixVcHNpbG9uOlwizqVcIixQaGk6XCLOplwiLENoaTpcIs6nXCIsUHNpOlwizqhcIixPbWVnYTpcIs6pXCIsYWxwaGE6XCLOsVwiLGJldGE6XCLOslwiLGdhbW1hOlwizrNcIixkZWx0YTpcIs60XCIsZXBzaWxvbjpcIs61XCIsemV0YTpcIs62XCIsZXRhOlwizrdcIix0aGV0YTpcIs64XCIsaW90YTpcIs65XCIsa2FwcGE6XCLOulwiLGxhbWJkYTpcIs67XCIsbXU6XCLOvFwiLG51Olwizr1cIix4aTpcIs6+XCIsb21pY3JvbjpcIs6/XCIscGk6XCLPgFwiLHJobzpcIs+BXCIsc2lnbWFmOlwiz4JcIixzaWdtYTpcIs+DXCIsdGF1Olwiz4RcIix1cHNpbG9uOlwiz4VcIixwaGk6XCLPhlwiLGNoaTpcIs+HXCIscHNpOlwiz4hcIixvbWVnYTpcIs+JXCIsdGhldGFzeW06XCLPkVwiLHVwc2loOlwiz5JcIixwaXY6XCLPllwiLE9FbGlnOlwixZJcIixvZWxpZzpcIsWTXCIsU2Nhcm9uOlwixaBcIixzY2Fyb246XCLFoVwiLFl1bWw6XCLFuFwiLGZub2Y6XCLGklwiLGNpcmM6XCLLhlwiLHRpbGRlOlwiy5xcIixlbnNwOlwi4oCCXCIsZW1zcDpcIuKAg1wiLHRoaW5zcDpcIuKAiVwiLHp3bmo6XCLigIxcIix6d2o6XCLigI1cIixscm06XCLigI5cIixybG06XCLigI9cIixuZGFzaDpcIuKAk1wiLG1kYXNoOlwi4oCUXCIsbHNxdW86XCLigJhcIixyc3F1bzpcIuKAmVwiLHNicXVvOlwi4oCaXCIsbGRxdW86XCLigJxcIixyZHF1bzpcIuKAnVwiLGJkcXVvOlwi4oCeXCIsZGFnZ2VyOlwi4oCgXCIsRGFnZ2VyOlwi4oChXCIsYnVsbDpcIuKAolwiLGhlbGxpcDpcIuKAplwiLHBlcm1pbDpcIuKAsFwiLHByaW1lOlwi4oCyXCIsUHJpbWU6XCLigLNcIixsc2FxdW86XCLigLlcIixyc2FxdW86XCLigLpcIixvbGluZTpcIuKAvlwiLGV1cm86XCLigqxcIix0cmFkZTpcIuKEolwiLGxhcnI6XCLihpBcIix1YXJyOlwi4oaRXCIscmFycjpcIuKGklwiLGRhcnI6XCLihpNcIixoYXJyOlwi4oaUXCIsY3JhcnI6XCLihrVcIixsY2VpbDpcIuKMiFwiLHJjZWlsOlwi4oyJXCIsbGZsb29yOlwi4oyKXCIscmZsb29yOlwi4oyLXCIsbG96Olwi4peKXCIsc3BhZGVzOlwi4pmgXCIsY2x1YnM6XCLimaNcIixoZWFydHM6XCLimaVcIixkaWFtczpcIuKZplwifSksdC5lbnRpdHlNYXA9dC5IVE1MX0VOVElUSUVTfSksWGE9KHphLlhNTF9FTlRJVElFUyx6YS5IVE1MX0VOVElUSUVTLHphLmVudGl0eU1hcCxZbi5OQU1FU1BBQ0UpLFJyPS9bQS1aX2EtelxceEMwLVxceEQ2XFx4RDgtXFx4RjZcXHUwMEY4LVxcdTAyRkZcXHUwMzcwLVxcdTAzN0RcXHUwMzdGLVxcdTFGRkZcXHUyMDBDLVxcdTIwMERcXHUyMDcwLVxcdTIxOEZcXHUyQzAwLVxcdTJGRUZcXHUzMDAxLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRkRdLyxNcj1uZXcgUmVnRXhwKFwiW1xcXFwtXFxcXC4wLTlcIitSci5zb3VyY2Uuc2xpY2UoMSwtMSkrXCJcXFxcdTAwQjdcXFxcdTAzMDAtXFxcXHUwMzZGXFxcXHUyMDNGLVxcXFx1MjA0MF1cIiksS2E9bmV3IFJlZ0V4cChcIl5cIitSci5zb3VyY2UrTXIuc291cmNlK1wiKig/OjpcIitSci5zb3VyY2UrTXIuc291cmNlK1wiKik/JFwiKSxZYT0wLFFhPTEsSmE9MixaYT0zLGVvPTQsdG89NSxpbz02LHNvPTc7ZnVuY3Rpb24gcm8oZSx0KXt0aGlzLm1lc3NhZ2U9ZSx0aGlzLmxvY2F0b3I9dCxFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSYmRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcyxybyl9ZnVuY3Rpb24gbm8oKXt9ZnVuY3Rpb24gYW8oZSx0KXtyZXR1cm4gdC5saW5lTnVtYmVyPWUubGluZU51bWJlcix0LmNvbHVtbk51bWJlcj1lLmNvbHVtbk51bWJlcix0fWZ1bmN0aW9uIG9vKGUsdCxpKXtmb3IodmFyIHM9ZS50YWdOYW1lLHI9bnVsbCxuPWUubGVuZ3RoO24tLTspe3ZhciBhPWVbbl0sbz1hLnFOYW1lLGw9YS52YWx1ZSxvPTA8KGg9by5pbmRleE9mKFwiOlwiKSk/KGQ9YS5wcmVmaXg9by5zbGljZSgwLGgpLHU9by5zbGljZShoKzEpLFwieG1sbnNcIj09PWQmJnUpOihkPW51bGwsXCJ4bWxuc1wiPT09KHU9bykmJlwiXCIpO2EubG9jYWxOYW1lPXUsITEhPT1vJiYobnVsbD09ciYmKHI9e30sbG8oaSxpPXt9KSksaVtvXT1yW29dPWwsYS51cmk9WGEuWE1MTlMsdC5zdGFydFByZWZpeE1hcHBpbmcobyxsKSl9Zm9yKHZhciBkLG49ZS5sZW5ndGg7bi0tOykoZD0oYT1lW25dKS5wcmVmaXgpJiYoXCJ4bWxcIj09PWQmJihhLnVyaT1YYS5YTUwpLFwieG1sbnNcIiE9PWQpJiYoYS51cmk9aVtkfHxcIlwiXSk7dmFyIGgsdT0wPChoPXMuaW5kZXhPZihcIjpcIikpPyhkPWUucHJlZml4PXMuc2xpY2UoMCxoKSxlLmxvY2FsTmFtZT1zLnNsaWNlKGgrMSkpOihkPW51bGwsZS5sb2NhbE5hbWU9cyksYz1lLnVyaT1pW2R8fFwiXCJdO2lmKHQuc3RhcnRFbGVtZW50KGMsdSxzLGUpLCFlLmNsb3NlZClyZXR1cm4gZS5jdXJyZW50TlNNYXA9aSxlLmxvY2FsTlNNYXA9ciwxO2lmKHQuZW5kRWxlbWVudChjLHUscykscilmb3IoZCBpbiByKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLGQpJiZ0LmVuZFByZWZpeE1hcHBpbmcoZCl9ZnVuY3Rpb24gbG8oZSx0KXtmb3IodmFyIGkgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxpKSYmKHRbaV09ZVtpXSl9ZnVuY3Rpb24gaG8oKXt0aGlzLmF0dHJpYnV0ZU5hbWVzPXt9fShyby5wcm90b3R5cGU9bmV3IEVycm9yKS5uYW1lPXJvLm5hbWUsbm8ucHJvdG90eXBlPXtwYXJzZTpmdW5jdGlvbihlLHQsaSl7dmFyIHM9dGhpcy5kb21CdWlsZGVyO3Muc3RhcnREb2N1bWVudCgpLGxvKHQsdD17fSksZnVuY3Rpb24oaSxlLHMscixuKXtmdW5jdGlvbiBhKGUpe3ZhciB0PWUuc2xpY2UoMSwtMSk7cmV0dXJuIE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsdCk/c1t0XTpcIiNcIj09PXQuY2hhckF0KDApPzY1NTM1PCh0PXBhcnNlSW50KHQuc3Vic3RyKDEpLnJlcGxhY2UoXCJ4XCIsXCIweFwiKSkpPyh0LT02NTUzNixTdHJpbmcuZnJvbUNoYXJDb2RlKDU1Mjk2Kyh0Pj4xMCksNTYzMjArKDEwMjMmdCkpKTpTdHJpbmcuZnJvbUNoYXJDb2RlKHQpOihuLmVycm9yKFwiZW50aXR5IG5vdCBmb3VuZDpcIitlKSxlKX1mdW5jdGlvbiB0KGUpe3ZhciB0O208ZSYmKHQ9aS5zdWJzdHJpbmcobSxlKS5yZXBsYWNlKC8mIz9cXHcrOy9nLGEpLHUmJm8obSksci5jaGFyYWN0ZXJzKHQsMCxlLW0pLG09ZSl9ZnVuY3Rpb24gbyhlLHQpe2Zvcig7ZDw9ZSYmKHQ9aC5leGVjKGkpKTspbD10LmluZGV4LGQ9bCt0WzBdLmxlbmd0aCx1LmxpbmVOdW1iZXIrKzt1LmNvbHVtbk51bWJlcj1lLWwrMX12YXIgbD0wLGQ9MCxoPS8uKig/Olxcclxcbj98XFxuKXwuKiQvZyx1PXIubG9jYXRvcixjPVt7Y3VycmVudE5TTWFwOmV9XSxwPXt9LG09MDtmb3IoOzspe3RyeXt2YXIgZyxmLHk9aS5pbmRleE9mKFwiPFwiLG0pO2lmKHk8MClyZXR1cm4gaS5zdWJzdHIobSkubWF0Y2goL15cXHMqJC8pfHwoZz1yLmRvYyxmPWcuY3JlYXRlVGV4dE5vZGUoaS5zdWJzdHIobSkpLGcuYXBwZW5kQ2hpbGQoZiksci5jdXJyZW50RWxlbWVudD1mKTtzd2l0Y2gobTx5JiZ0KHkpLGkuY2hhckF0KHkrMSkpe2Nhc2VcIi9cIjp2YXIgXz1pLmluZGV4T2YoXCI+XCIseSszKSx2PWkuc3Vic3RyaW5nKHkrMixfKS5yZXBsYWNlKC9bIFxcdFxcblxccl0rJC9nLFwiXCIpLGI9Yy5wb3AoKSxUPShfPDA/KHY9aS5zdWJzdHJpbmcoeSsyKS5yZXBsYWNlKC9bXFxzPF0uKi8sXCJcIiksbi5lcnJvcihcImVuZCB0YWcgbmFtZTogXCIrditcIiBpcyBub3QgY29tcGxldGU6XCIrYi50YWdOYW1lKSxfPXkrMSt2Lmxlbmd0aCk6di5tYXRjaCgvXFxzPC8pJiYodj12LnJlcGxhY2UoL1tcXHM8XS4qLyxcIlwiKSxuLmVycm9yKFwiZW5kIHRhZyBuYW1lOiBcIit2K1wiIG1heWJlIG5vdCBjb21wbGV0ZVwiKSxfPXkrMSt2Lmxlbmd0aCksYi5sb2NhbE5TTWFwKSxTPWIudGFnTmFtZT09djtpZihTfHxiLnRhZ05hbWUmJmIudGFnTmFtZS50b0xvd2VyQ2FzZSgpPT12LnRvTG93ZXJDYXNlKCkpe2lmKHIuZW5kRWxlbWVudChiLnVyaSxiLmxvY2FsTmFtZSx2KSxUKWZvcih2YXIgdyBpbiBUKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChULHcpJiZyLmVuZFByZWZpeE1hcHBpbmcodyk7U3x8bi5mYXRhbEVycm9yKFwiZW5kIHRhZyBuYW1lOiBcIit2K1wiIGlzIG5vdCBtYXRjaCB0aGUgY3VycmVudCBzdGFydCB0YWdOYW1lOlwiK2IudGFnTmFtZSl9ZWxzZSBjLnB1c2goYik7XysrO2JyZWFrO2Nhc2VcIj9cIjp1JiZvKHkpLF89ZnVuY3Rpb24oZSx0LGkpe3ZhciBzPWUuaW5kZXhPZihcIj8+XCIsdCk7aWYocyl7ZT1lLnN1YnN0cmluZyh0LHMpLm1hdGNoKC9ePFxcPyhcXFMqKVxccyooW1xcc1xcU10qPylcXHMqJC8pO2lmKGUpcmV0dXJuIGVbMF0ubGVuZ3RoLGkucHJvY2Vzc2luZ0luc3RydWN0aW9uKGVbMV0sZVsyXSkscysyfXJldHVybi0xfShpLHkscik7YnJlYWs7Y2FzZVwiIVwiOnUmJm8oeSksXz1mdW5jdGlvbihlLHQsaSxzKXt7aWYoXCItXCI9PT1lLmNoYXJBdCh0KzIpKXJldHVyblwiLVwiPT09ZS5jaGFyQXQodCszKT8obj1lLmluZGV4T2YoXCItLVxceDNlXCIsdCs0KSx0PG4/KGkuY29tbWVudChlLHQrNCxuLXQtNCksbiszKToocy5lcnJvcihcIlVuY2xvc2VkIGNvbW1lbnRcIiksLTEpKTotMTtpZihcIkNEQVRBW1wiPT1lLnN1YnN0cih0KzMsNikpcmV0dXJuIG49ZS5pbmRleE9mKFwiXV0+XCIsdCs5KSxpLnN0YXJ0Q0RBVEEoKSxpLmNoYXJhY3RlcnMoZSx0Kzksbi10LTkpLGkuZW5kQ0RBVEEoKSxuKzM7dmFyIHIscz1mdW5jdGlvbihlLHQpe3ZhciBpLHM9W10scj0vJ1teJ10rJ3xcIlteXCJdK1wifFteXFxzPD5cXC89XSs9P3woXFwvP1xccyo+fDwpL2c7ci5sYXN0SW5kZXg9dCxyLmV4ZWMoZSk7Zm9yKDtpPXIuZXhlYyhlKTspaWYocy5wdXNoKGkpLGlbMV0pcmV0dXJuIHN9KGUsdCksbj1zLmxlbmd0aDtpZigxPG4mJi8hZG9jdHlwZS9pLnRlc3Qoc1swXVswXSkpcmV0dXJuIGU9c1sxXVswXSxyPXQ9ITEsMzxuJiYoL15wdWJsaWMkL2kudGVzdChzWzJdWzBdKT8odD1zWzNdWzBdLHI9NDxuJiZzWzRdWzBdKTovXnN5c3RlbSQvaS50ZXN0KHNbMl1bMF0pJiYocj1zWzNdWzBdKSkscz1zW24tMV0saS5zdGFydERURChlLHQsciksaS5lbmREVEQoKSxzLmluZGV4K3NbMF0ubGVuZ3RofXJldHVybi0xfShpLHkscixuKTticmVhaztkZWZhdWx0OnUmJm8oeSk7dmFyIEU9bmV3IGhvLGs9Y1tjLmxlbmd0aC0xXS5jdXJyZW50TlNNYXAsXz1mdW5jdGlvbihlLHQscyxpLHIsbil7ZnVuY3Rpb24gYShlLHQsaSl7cy5hdHRyaWJ1dGVOYW1lcy5oYXNPd25Qcm9wZXJ0eShlKSYmbi5mYXRhbEVycm9yKFwiQXR0cmlidXRlIFwiK2UrXCIgcmVkZWZpbmVkXCIpLHMuYWRkVmFsdWUoZSx0LnJlcGxhY2UoL1tcXHRcXG5cXHJdL2csXCIgXCIpLnJlcGxhY2UoLyYjP1xcdys7L2csciksaSl9dmFyIG8sbD0rK3QsZD1ZYTtmb3IoOzspe3ZhciBoPWUuY2hhckF0KGwpO3N3aXRjaChoKXtjYXNlXCI9XCI6aWYoZD09PVFhKW89ZS5zbGljZSh0LGwpO2Vsc2UgaWYoZCE9PUphKXRocm93IG5ldyBFcnJvcihcImF0dHJpYnV0ZSBlcXVhbCBtdXN0IGFmdGVyIGF0dHJOYW1lXCIpO2Q9WmE7YnJlYWs7Y2FzZVwiJ1wiOmNhc2UnXCInOmlmKGQ9PT1aYXx8ZD09PVFhKXtpZihkPT09UWEmJihuLndhcm5pbmcoJ2F0dHJpYnV0ZSB2YWx1ZSBtdXN0IGFmdGVyIFwiPVwiJyksbz1lLnNsaWNlKHQsbCkpLHQ9bCsxLCEoMDwobD1lLmluZGV4T2YoaCx0KSkpKXRocm93IG5ldyBFcnJvcihcImF0dHJpYnV0ZSB2YWx1ZSBubyBlbmQgJ1wiK2grXCInIG1hdGNoXCIpO3U9ZS5zbGljZSh0LGwpLGEobyx1LHQtMSl9ZWxzZXtpZihkIT1lbyl0aHJvdyBuZXcgRXJyb3IoJ2F0dHJpYnV0ZSB2YWx1ZSBtdXN0IGFmdGVyIFwiPVwiJyk7dT1lLnNsaWNlKHQsbCksYShvLHUsdCksbi53YXJuaW5nKCdhdHRyaWJ1dGUgXCInK28rJ1wiIG1pc3NlZCBzdGFydCBxdW90KCcraCtcIikhIVwiKSx0PWwrMX1kPXRvO2JyZWFrO2Nhc2VcIi9cIjpzd2l0Y2goZCl7Y2FzZSBZYTpzLnNldFRhZ05hbWUoZS5zbGljZSh0LGwpKTtjYXNlIHRvOmNhc2UgaW86Y2FzZSBzbzpkPXNvLHMuY2xvc2VkPSEwO2Nhc2UgZW86Y2FzZSBRYTpjYXNlIEphOmJyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiYXR0cmlidXRlIGludmFsaWQgY2xvc2UgY2hhcignLycpXCIpfWJyZWFrO2Nhc2VcIlwiOnJldHVybiBuLmVycm9yKFwidW5leHBlY3RlZCBlbmQgb2YgaW5wdXRcIiksZD09WWEmJnMuc2V0VGFnTmFtZShlLnNsaWNlKHQsbCkpLGw7Y2FzZVwiPlwiOnN3aXRjaChkKXtjYXNlIFlhOnMuc2V0VGFnTmFtZShlLnNsaWNlKHQsbCkpO2Nhc2UgdG86Y2FzZSBpbzpjYXNlIHNvOmJyZWFrO2Nhc2UgZW86Y2FzZSBRYTpcIi9cIj09PSh1PWUuc2xpY2UodCxsKSkuc2xpY2UoLTEpJiYocy5jbG9zZWQ9ITAsdT11LnNsaWNlKDAsLTEpKTtjYXNlIEphOmQ9PT1KYSYmKHU9byksZD09ZW8/KG4ud2FybmluZygnYXR0cmlidXRlIFwiJyt1KydcIiBtaXNzZWQgcXVvdChcIikhJyksYShvLHUsdCkpOihYYS5pc0hUTUwoaVtcIlwiXSkmJnUubWF0Y2goL14oPzpkaXNhYmxlZHxjaGVja2VkfHNlbGVjdGVkKSQvaSl8fG4ud2FybmluZygnYXR0cmlidXRlIFwiJyt1KydcIiBtaXNzZWQgdmFsdWUhISBcIicrdSsnXCIgaW5zdGVhZCEhJyksYSh1LHUsdCkpO2JyZWFrO2Nhc2UgWmE6dGhyb3cgbmV3IEVycm9yKFwiYXR0cmlidXRlIHZhbHVlIG1pc3NlZCEhXCIpfXJldHVybiBsO2Nhc2VcIsKAXCI6aD1cIiBcIjtkZWZhdWx0OmlmKGg8PVwiIFwiKXN3aXRjaChkKXtjYXNlIFlhOnMuc2V0VGFnTmFtZShlLnNsaWNlKHQsbCkpLGQ9aW87YnJlYWs7Y2FzZSBRYTpvPWUuc2xpY2UodCxsKSxkPUphO2JyZWFrO2Nhc2UgZW86dmFyIHU9ZS5zbGljZSh0LGwpO24ud2FybmluZygnYXR0cmlidXRlIFwiJyt1KydcIiBtaXNzZWQgcXVvdChcIikhIScpLGEobyx1LHQpO2Nhc2UgdG86ZD1pb31lbHNlIHN3aXRjaChkKXtjYXNlIEphOnMudGFnTmFtZSxYYS5pc0hUTUwoaVtcIlwiXSkmJm8ubWF0Y2goL14oPzpkaXNhYmxlZHxjaGVja2VkfHNlbGVjdGVkKSQvaSl8fG4ud2FybmluZygnYXR0cmlidXRlIFwiJytvKydcIiBtaXNzZWQgdmFsdWUhISBcIicrbysnXCIgaW5zdGVhZDIhIScpLGEobyxvLHQpLHQ9bCxkPVFhO2JyZWFrO2Nhc2UgdG86bi53YXJuaW5nKCdhdHRyaWJ1dGUgc3BhY2UgaXMgcmVxdWlyZWRcIicrbysnXCIhIScpO2Nhc2UgaW86ZD1RYSx0PWw7YnJlYWs7Y2FzZSBaYTpkPWVvLHQ9bDticmVhaztjYXNlIHNvOnRocm93IG5ldyBFcnJvcihcImVsZW1lbnRzIGNsb3NlZCBjaGFyYWN0ZXIgJy8nIGFuZCAnPicgbXVzdCBiZSBjb25uZWN0ZWQgdG9cIil9fWwrK319KGkseSxFLGssYSxuKSxDPUUubGVuZ3RoO2lmKCFFLmNsb3NlZCYmZnVuY3Rpb24oZSx0LGkscyl7dmFyIHI9c1tpXTtudWxsPT1yJiYoKHI9ZS5sYXN0SW5kZXhPZihcIjwvXCIraStcIj5cIikpPHQmJihyPWUubGFzdEluZGV4T2YoXCI8L1wiK2kpKSxzW2ldPXIpO3JldHVybiByPHR9KGksXyxFLnRhZ05hbWUscCkmJihFLmNsb3NlZD0hMCxzLm5ic3B8fG4ud2FybmluZyhcInVuY2xvc2VkIHhtbCBhdHRyaWJ1dGVcIikpLHUmJkMpe2Zvcih2YXIgST1hbyh1LHt9KSx4PTA7eDxDO3grKyl7dmFyIEE9RVt4XTtvKEEub2Zmc2V0KSxBLmxvY2F0b3I9YW8odSx7fSl9ci5sb2NhdG9yPUksb28oRSxyLGspJiZjLnB1c2goRSksci5sb2NhdG9yPXV9ZWxzZSBvbyhFLHIsaykmJmMucHVzaChFKTtYYS5pc0hUTUwoRS51cmkpJiYhRS5jbG9zZWQ/Xz1mdW5jdGlvbihlLHQsaSxzLHIpe2lmKC9eKD86c2NyaXB0fHRleHRhcmVhKSQvaS50ZXN0KGkpKXt2YXIgbj1lLmluZGV4T2YoXCI8L1wiK2krXCI+XCIsdCksZT1lLnN1YnN0cmluZyh0KzEsbik7aWYoL1smPF0vLnRlc3QoZSkpcmV0dXJuL15zY3JpcHQkL2kudGVzdChpKT9yLmNoYXJhY3RlcnMoZSwwLGUubGVuZ3RoKTooZT1lLnJlcGxhY2UoLyYjP1xcdys7L2cscyksci5jaGFyYWN0ZXJzKGUsMCxlLmxlbmd0aCkpLG59cmV0dXJuIHQrMX0oaSxfLEUudGFnTmFtZSxhLHIpOl8rK319Y2F0Y2goZSl7aWYoZSBpbnN0YW5jZW9mIHJvKXRocm93IGU7bi5lcnJvcihcImVsZW1lbnQgcGFyc2UgZXJyb3I6IFwiK2UpLF89LTF9bTxfP209Xzp0KE1hdGgubWF4KHksbSkrMSl9fShlLHQsaSxzLHRoaXMuZXJyb3JIYW5kbGVyKSxzLmVuZERvY3VtZW50KCl9fSxoby5wcm90b3R5cGU9e3NldFRhZ05hbWU6ZnVuY3Rpb24oZSl7aWYoIUthLnRlc3QoZSkpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCB0YWdOYW1lOlwiK2UpO3RoaXMudGFnTmFtZT1lfSxhZGRWYWx1ZTpmdW5jdGlvbihlLHQsaSl7aWYoIUthLnRlc3QoZSkpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBhdHRyaWJ1dGU6XCIrZSk7dGhpcy5hdHRyaWJ1dGVOYW1lc1tlXT10aGlzLmxlbmd0aCx0aGlzW3RoaXMubGVuZ3RoKytdPXtxTmFtZTplLHZhbHVlOnQsb2Zmc2V0Oml9fSxsZW5ndGg6MCxnZXRMb2NhbE5hbWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXNbZV0ubG9jYWxOYW1lfSxnZXRMb2NhdG9yOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzW2VdLmxvY2F0b3J9LGdldFFOYW1lOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzW2VdLnFOYW1lfSxnZXRVUkk6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXNbZV0udXJpfSxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpc1tlXS52YWx1ZX19O3ZhciBOcj17WE1MUmVhZGVyOm5vLFBhcnNlRXJyb3I6cm99LHVvPVByLkRPTUltcGxlbWVudGF0aW9uLGNvPVluLk5BTUVTUEFDRSxwbz1Oci5QYXJzZUVycm9yLG1vPU5yLlhNTFJlYWRlcjtmdW5jdGlvbiBnbyhlKXtyZXR1cm4gZS5yZXBsYWNlKC9cXHJbXFxuXFx1MDA4NV0vZyxcIlxcblwiKS5yZXBsYWNlKC9bXFxyXFx1MDA4NVxcdTIwMjhdL2csXCJcXG5cIil9ZnVuY3Rpb24gZm8oZSl7dGhpcy5vcHRpb25zPWV8fHtsb2NhdG9yOnt9fX1mdW5jdGlvbiB5bygpe3RoaXMuY2RhdGE9ITF9ZnVuY3Rpb24gX28oZSx0KXt0LmxpbmVOdW1iZXI9ZS5saW5lTnVtYmVyLHQuY29sdW1uTnVtYmVyPWUuY29sdW1uTnVtYmVyfWZ1bmN0aW9uIHZvKGUpe2lmKGUpcmV0dXJuXCJcXG5AXCIrKGUuc3lzdGVtSWR8fFwiXCIpK1wiI1tsaW5lOlwiK2UubGluZU51bWJlcitcIixjb2w6XCIrZS5jb2x1bW5OdW1iZXIrXCJdXCJ9ZnVuY3Rpb24gYm8oZSx0LGkpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlP2Uuc3Vic3RyKHQsaSk6ZS5sZW5ndGg+PXQraXx8dD9uZXcgamF2YS5sYW5nLlN0cmluZyhlLHQsaSkrXCJcIjplfWZ1bmN0aW9uIFRvKGUsdCl7KGUuY3VycmVudEVsZW1lbnR8fGUuZG9jKS5hcHBlbmRDaGlsZCh0KX1mby5wcm90b3R5cGUucGFyc2VGcm9tU3RyaW5nPWZ1bmN0aW9uKGUsdCl7dmFyIGk9dGhpcy5vcHRpb25zLHM9bmV3IG1vLHI9aS5kb21CdWlsZGVyfHxuZXcgeW8sbj1pLmVycm9ySGFuZGxlcixhPWkubG9jYXRvcixvPWkueG1sbnN8fHt9LHQ9L1xcL3g/aHRtbD8kLy50ZXN0KHQpLGw9dD96YS5IVE1MX0VOVElUSUVTOnphLlhNTF9FTlRJVElFUyxuPShhJiZyLnNldERvY3VtZW50TG9jYXRvcihhKSxzLmVycm9ySGFuZGxlcj1mdW5jdGlvbihzLGUscil7aWYoIXMpe2lmKGUgaW5zdGFuY2VvZiB5bylyZXR1cm4gZTtzPWV9dmFyIG49e30sYT1zIGluc3RhbmNlb2YgRnVuY3Rpb247ZnVuY3Rpb24gdCh0KXt2YXIgaT1zW3RdOyFpJiZhJiYoaT0yPT1zLmxlbmd0aD9mdW5jdGlvbihlKXtzKHQsZSl9OnMpLG5bdF09aT9mdW5jdGlvbihlKXtpKFwiW3htbGRvbSBcIit0K1wiXVxcdFwiK2Urdm8ocikpfTpmdW5jdGlvbigpe319cmV0dXJuIHI9cnx8e30sdChcIndhcm5pbmdcIiksdChcImVycm9yXCIpLHQoXCJmYXRhbEVycm9yXCIpLG59KG4scixhKSxzLmRvbUJ1aWxkZXI9aS5kb21CdWlsZGVyfHxyLHQmJihvW1wiXCJdPWNvLkhUTUwpLG8ueG1sPW8ueG1sfHxjby5YTUwsaS5ub3JtYWxpemVMaW5lRW5kaW5nc3x8Z28pO3JldHVybiBlJiZcInN0cmluZ1wiPT10eXBlb2YgZT9zLnBhcnNlKG4oZSksbyxsKTpzLmVycm9ySGFuZGxlci5lcnJvcihcImludmFsaWQgZG9jIHNvdXJjZVwiKSxyLmRvY30seW8ucHJvdG90eXBlPXtzdGFydERvY3VtZW50OmZ1bmN0aW9uKCl7dGhpcy5kb2M9KG5ldyB1bykuY3JlYXRlRG9jdW1lbnQobnVsbCxudWxsLG51bGwpLHRoaXMubG9jYXRvciYmKHRoaXMuZG9jLmRvY3VtZW50VVJJPXRoaXMubG9jYXRvci5zeXN0ZW1JZCl9LHN0YXJ0RWxlbWVudDpmdW5jdGlvbihlLHQsaSxzKXt2YXIgcj10aGlzLmRvYyxuPXIuY3JlYXRlRWxlbWVudE5TKGUsaXx8dCksYT1zLmxlbmd0aDtUbyh0aGlzLG4pLHRoaXMuY3VycmVudEVsZW1lbnQ9bix0aGlzLmxvY2F0b3ImJl9vKHRoaXMubG9jYXRvcixuKTtmb3IodmFyIG89MDtvPGE7bysrKXt2YXIgZT1zLmdldFVSSShvKSxsPXMuZ2V0VmFsdWUobyksaT1zLmdldFFOYW1lKG8pLGQ9ci5jcmVhdGVBdHRyaWJ1dGVOUyhlLGkpO3RoaXMubG9jYXRvciYmX28ocy5nZXRMb2NhdG9yKG8pLGQpLGQudmFsdWU9ZC5ub2RlVmFsdWU9bCxuLnNldEF0dHJpYnV0ZU5vZGUoZCl9fSxlbmRFbGVtZW50OmZ1bmN0aW9uKGUsdCxpKXt2YXIgcz10aGlzLmN1cnJlbnRFbGVtZW50O3MudGFnTmFtZSx0aGlzLmN1cnJlbnRFbGVtZW50PXMucGFyZW50Tm9kZX0sc3RhcnRQcmVmaXhNYXBwaW5nOmZ1bmN0aW9uKGUsdCl7fSxlbmRQcmVmaXhNYXBwaW5nOmZ1bmN0aW9uKGUpe30scHJvY2Vzc2luZ0luc3RydWN0aW9uOmZ1bmN0aW9uKGUsdCl7ZT10aGlzLmRvYy5jcmVhdGVQcm9jZXNzaW5nSW5zdHJ1Y3Rpb24oZSx0KTt0aGlzLmxvY2F0b3ImJl9vKHRoaXMubG9jYXRvcixlKSxUbyh0aGlzLGUpfSxpZ25vcmFibGVXaGl0ZXNwYWNlOmZ1bmN0aW9uKGUsdCxpKXt9LGNoYXJhY3RlcnM6ZnVuY3Rpb24oZSx0LGkpe3ZhciBzOyhlPWJvLmFwcGx5KHRoaXMsYXJndW1lbnRzKSkmJihzPXRoaXMuY2RhdGE/dGhpcy5kb2MuY3JlYXRlQ0RBVEFTZWN0aW9uKGUpOnRoaXMuZG9jLmNyZWF0ZVRleHROb2RlKGUpLHRoaXMuY3VycmVudEVsZW1lbnQ/dGhpcy5jdXJyZW50RWxlbWVudC5hcHBlbmRDaGlsZChzKTovXlxccyokLy50ZXN0KGUpJiZ0aGlzLmRvYy5hcHBlbmRDaGlsZChzKSx0aGlzLmxvY2F0b3IpJiZfbyh0aGlzLmxvY2F0b3Iscyl9LHNraXBwZWRFbnRpdHk6ZnVuY3Rpb24oZSl7fSxlbmREb2N1bWVudDpmdW5jdGlvbigpe3RoaXMuZG9jLm5vcm1hbGl6ZSgpfSxzZXREb2N1bWVudExvY2F0b3I6ZnVuY3Rpb24oZSl7KHRoaXMubG9jYXRvcj1lKSYmKGUubGluZU51bWJlcj0wKX0sY29tbWVudDpmdW5jdGlvbihlLHQsaSl7ZT1iby5hcHBseSh0aGlzLGFyZ3VtZW50cyk7ZT10aGlzLmRvYy5jcmVhdGVDb21tZW50KGUpO3RoaXMubG9jYXRvciYmX28odGhpcy5sb2NhdG9yLGUpLFRvKHRoaXMsZSl9LHN0YXJ0Q0RBVEE6ZnVuY3Rpb24oKXt0aGlzLmNkYXRhPSEwfSxlbmRDREFUQTpmdW5jdGlvbigpe3RoaXMuY2RhdGE9ITF9LHN0YXJ0RFREOmZ1bmN0aW9uKGUsdCxpKXt2YXIgcz10aGlzLmRvYy5pbXBsZW1lbnRhdGlvbjtzJiZzLmNyZWF0ZURvY3VtZW50VHlwZSYmKHM9cy5jcmVhdGVEb2N1bWVudFR5cGUoZSx0LGkpLHRoaXMubG9jYXRvciYmX28odGhpcy5sb2NhdG9yLHMpLFRvKHRoaXMscyksdGhpcy5kb2MuZG9jdHlwZT1zKX0sd2FybmluZzpmdW5jdGlvbihlKXt9LGVycm9yOmZ1bmN0aW9uKGUpe30sZmF0YWxFcnJvcjpmdW5jdGlvbihlKXt0aHJvdyBuZXcgcG8oZSx0aGlzLmxvY2F0b3IpfX0sXCJlbmREVEQsc3RhcnRFbnRpdHksZW5kRW50aXR5LGF0dHJpYnV0ZURlY2wsZWxlbWVudERlY2wsZXh0ZXJuYWxFbnRpdHlEZWNsLGludGVybmFsRW50aXR5RGVjbCxyZXNvbHZlRW50aXR5LGdldEV4dGVybmFsU3Vic2V0LG5vdGF0aW9uRGVjbCx1bnBhcnNlZEVudGl0eURlY2xcIi5yZXBsYWNlKC9cXHcrL2csZnVuY3Rpb24oZSl7eW8ucHJvdG90eXBlW2VdPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9fSk7dmFyIFNvPXtfX0RPTUhhbmRsZXI6eW8sbm9ybWFsaXplTGluZUVuZGluZ3M6Z28sRE9NUGFyc2VyOmZvfS5ET01QYXJzZXI7XG4vKiEgQG5hbWUgbXBkLXBhcnNlciBAdmVyc2lvbiAxLjAuMSBAbGljZW5zZSBBcGFjaGUtMi4wICovXG5jb25zdCB3bz1lPT4hIWUmJlwib2JqZWN0XCI9PXR5cGVvZiBlLHg9KC4uLmUpPT5lLnJlZHVjZSgodCxpKT0+KFwib2JqZWN0XCI9PXR5cGVvZiBpJiZPYmplY3Qua2V5cyhpKS5mb3JFYWNoKGU9PntBcnJheS5pc0FycmF5KHRbZV0pJiZBcnJheS5pc0FycmF5KGlbZV0pP3RbZV09dFtlXS5jb25jYXQoaVtlXSk6d28odFtlXSkmJndvKGlbZV0pP3RbZV09eCh0W2VdLGlbZV0pOnRbZV09aVtlXX0pLHQpLHt9KSxFbz10PT5PYmplY3Qua2V5cyh0KS5tYXAoZT0+dFtlXSksa289ZT0+ZS5yZWR1Y2UoKGUsdCk9PmUuY29uY2F0KHQpLFtdKSxDbz10PT57aWYoIXQubGVuZ3RoKXJldHVybltdO3ZhciBpPVtdO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKWkucHVzaCh0W2VdKTtyZXR1cm4gaX07dmFyIElvPXtJTlZBTElEX05VTUJFUl9PRl9QRVJJT0Q6XCJJTlZBTElEX05VTUJFUl9PRl9QRVJJT0RcIixEQVNIX0VNUFRZX01BTklGRVNUOlwiREFTSF9FTVBUWV9NQU5JRkVTVFwiLERBU0hfSU5WQUxJRF9YTUw6XCJEQVNIX0lOVkFMSURfWE1MXCIsTk9fQkFTRV9VUkw6XCJOT19CQVNFX1VSTFwiLE1JU1NJTkdfU0VHTUVOVF9JTkZPUk1BVElPTjpcIk1JU1NJTkdfU0VHTUVOVF9JTkZPUk1BVElPTlwiLFNFR01FTlRfVElNRV9VTlNQRUNJRklFRDpcIlNFR01FTlRfVElNRV9VTlNQRUNJRklFRFwiLFVOU1VQUE9SVEVEX1VUQ19USU1JTkdfU0NIRU1FOlwiVU5TVVBQT1JURURfVVRDX1RJTUlOR19TQ0hFTUVcIn07Y29uc3QgeG89KHtiYXNlVXJsOnM9XCJcIixzb3VyY2U6cj1cIlwiLHJhbmdlOm49XCJcIixpbmRleFJhbmdlOmE9XCJcIn0pPT57cz17dXJpOnIscmVzb2x2ZWRVcmk6T24oc3x8XCJcIixyKX07aWYobnx8YSl7cj0obnx8YSkuc3BsaXQoXCItXCIpO2xldCBlPXdpbmRvdy5CaWdJbnQ/d2luZG93LkJpZ0ludChyWzBdKTpwYXJzZUludChyWzBdLDEwKSx0PXdpbmRvdy5CaWdJbnQ/d2luZG93LkJpZ0ludChyWzFdKTpwYXJzZUludChyWzFdLDEwKTtlPE51bWJlci5NQVhfU0FGRV9JTlRFR0VSJiZcImJpZ2ludFwiPT10eXBlb2YgZSYmKGU9TnVtYmVyKGUpKSx0PE51bWJlci5NQVhfU0FGRV9JTlRFR0VSJiZcImJpZ2ludFwiPT10eXBlb2YgdCYmKHQ9TnVtYmVyKHQpKTtsZXQgaTtcImJpZ2ludFwiPT10eXBlb2YoaT1cImJpZ2ludFwiPT10eXBlb2YgdHx8XCJiaWdpbnRcIj09dHlwZW9mIGU/d2luZG93LkJpZ0ludCh0KS13aW5kb3cuQmlnSW50KGUpK3dpbmRvdy5CaWdJbnQoMSk6dC1lKzEpJiZpPE51bWJlci5NQVhfU0FGRV9JTlRFR0VSJiYoaT1OdW1iZXIoaSkpLHMuYnl0ZXJhbmdlPXtsZW5ndGg6aSxvZmZzZXQ6ZX19cmV0dXJuIHN9LEFvPWU9PihlJiZcIm51bWJlclwiIT10eXBlb2YgZSYmKGU9cGFyc2VJbnQoZSwxMCkpLGlzTmFOKGUpP251bGw6ZSksUG89e3N0YXRpYyhlKXt2YXJ7ZHVyYXRpb246dCx0aW1lc2NhbGU6aT0xLHNvdXJjZUR1cmF0aW9uOnMscGVyaW9kRHVyYXRpb246cn09ZSxlPUFvKGUuZW5kTnVtYmVyKSx0PXQvaTtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgZT97c3RhcnQ6MCxlbmQ6ZX06XCJudW1iZXJcIj09dHlwZW9mIHI/e3N0YXJ0OjAsZW5kOnIvdH06e3N0YXJ0OjAsZW5kOnMvdH19LGR5bmFtaWMoZSl7dmFye05PVzp0LGNsaWVudE9mZnNldDppLGF2YWlsYWJpbGl0eVN0YXJ0VGltZTpzLHRpbWVzY2FsZTpyPTEsZHVyYXRpb246bixwZXJpb2RTdGFydDphPTAsbWluaW11bVVwZGF0ZVBlcmlvZDpvPTAsdGltZVNoaWZ0QnVmZmVyRGVwdGg6bD0xLzB9PWUsZT1BbyhlLmVuZE51bWJlciksdD0odCtpKS8xZTMsaT1zK2Escz1NYXRoLmNlaWwoKHQrby1pKSpyL24pLGE9TWF0aC5mbG9vcigodC1pLWwpKnIvbiksbz1NYXRoLmZsb29yKCh0LWkpKnIvbik7cmV0dXJue3N0YXJ0Ok1hdGgubWF4KDAsYSksZW5kOlwibnVtYmVyXCI9PXR5cGVvZiBlP2U6TWF0aC5taW4ocyxvKX19fSxMbz1lPT57dmFyIG4se3R5cGU6dCxkdXJhdGlvbjppLHRpbWVzY2FsZTpzPTEscGVyaW9kRHVyYXRpb246cixzb3VyY2VEdXJhdGlvbjphfT1lLHtzdGFydDpvLGVuZDpsfT1Qb1t0XShlKSxvPSgodCxpKT0+e3ZhciBzPVtdO2ZvcihsZXQgZT10O2U8aTtlKyspcy5wdXNoKGUpO3JldHVybiBzfSkobyxsKS5tYXAoKG49ZSxlPT57dmFye2R1cmF0aW9uOnQsdGltZXNjYWxlOmk9MSxwZXJpb2RTdGFydDpzLHN0YXJ0TnVtYmVyOnI9MX09bjtyZXR1cm57bnVtYmVyOnIrZSxkdXJhdGlvbjp0L2ksdGltZWxpbmU6cyx0aW1lOmUqdH19KSk7cmV0dXJuXCJzdGF0aWNcIj09PXQmJihvW2w9by5sZW5ndGgtMV0uZHVyYXRpb249KFwibnVtYmVyXCI9PXR5cGVvZiByP3I6YSktaS9zKmwpLG99LE9vPWU9Pnt2YXJ7YmFzZVVybDp0LGluaXRpYWxpemF0aW9uOmk9e30sc291cmNlRHVyYXRpb246cyxpbmRleFJhbmdlOnI9XCJcIixwZXJpb2RTdGFydDpuLHByZXNlbnRhdGlvblRpbWU6YSxudW1iZXI6bz0wLGR1cmF0aW9uOmx9PWU7aWYodClyZXR1cm4gaT14byh7YmFzZVVybDp0LHNvdXJjZTppLnNvdXJjZVVSTCxyYW5nZTppLnJhbmdlfSksKHQ9eG8oe2Jhc2VVcmw6dCxzb3VyY2U6dCxpbmRleFJhbmdlOnJ9KSkubWFwPWksbD8ocj1MbyhlKSkubGVuZ3RoJiYodC5kdXJhdGlvbj1yWzBdLmR1cmF0aW9uLHQudGltZWxpbmU9clswXS50aW1lbGluZSk6cyYmKHQuZHVyYXRpb249cyx0LnRpbWVsaW5lPW4pLHQucHJlc2VudGF0aW9uVGltZT1hfHxuLHQubnVtYmVyPW8sW3RdO3Rocm93IG5ldyBFcnJvcihJby5OT19CQVNFX1VSTCl9LERvPShlLGkscyk9Pnt2YXIgcj1lLnNpZHgubWFwfHxudWxsLG49ZS5zaWR4LmR1cmF0aW9uLGE9ZS50aW1lbGluZXx8MCx0PWUuc2lkeC5ieXRlcmFuZ2UsdD10Lm9mZnNldCt0Lmxlbmd0aCxvPWkudGltZXNjYWxlLGw9aS5yZWZlcmVuY2VzLmZpbHRlcihlPT4xIT09ZS5yZWZlcmVuY2VUeXBlKSxkPVtdLGg9ZS5lbmRMaXN0P1wic3RhdGljXCI6XCJkeW5hbWljXCIsdT1lLnNpZHgudGltZWxpbmU7bGV0IGM9dSxwPWUubWVkaWFTZXF1ZW5jZXx8MCxtO209XCJiaWdpbnRcIj09dHlwZW9mIGkuZmlyc3RPZmZzZXQ/d2luZG93LkJpZ0ludCh0KStpLmZpcnN0T2Zmc2V0OnQraS5maXJzdE9mZnNldDtmb3IobGV0IHQ9MDt0PGwubGVuZ3RoO3QrKyl7dmFyIGc9aS5yZWZlcmVuY2VzW3RdLGY9Zy5yZWZlcmVuY2VkU2l6ZSxnPWcuc3Vic2VnbWVudER1cmF0aW9uO2xldCBlO2U9XCJiaWdpbnRcIj09dHlwZW9mIG0/bSt3aW5kb3cuQmlnSW50KGYpLXdpbmRvdy5CaWdJbnQoMSk6bStmLTE7dmFyIHk9bStcIi1cIitlLHk9e2Jhc2VVcmw6cyx0aW1lc2NhbGU6byx0aW1lbGluZTphLHBlcmlvZFN0YXJ0OnUscHJlc2VudGF0aW9uVGltZTpjLG51bWJlcjpwLGR1cmF0aW9uOmcsc291cmNlRHVyYXRpb246bixpbmRleFJhbmdlOnksdHlwZTpofSx5PU9vKHkpWzBdO3ImJih5Lm1hcD1yKSxkLnB1c2goeSksXCJiaWdpbnRcIj09dHlwZW9mIG0/bSs9d2luZG93LkJpZ0ludChmKTptKz1mLGMrPWcvbyxwKyt9cmV0dXJuIGUuc2VnbWVudHM9ZCxlfSxObz1bXCJBVURJT1wiLFwiU1VCVElUTEVTXCJdLE1vPWU9PntyZXR1cm4gZT1lLGk9KHt0aW1lbGluZTplfSk9PmUsRW8oZS5yZWR1Y2UoKHQsZSk9PihlLmZvckVhY2goZT0+e3RbaShlKV09ZX0pLHQpLHt9KSkuc29ydCgoZSx0KT0+ZS50aW1lbGluZT50LnRpbWVsaW5lPzE6LTEpO3ZhciBpfSxSbz1lPT57bGV0IHI9W107dmFyIG4sYTtyZXR1cm4gbj1lLGU9Tm8sYT0oZSx0LGkscyk9PntyPXIuY29uY2F0KGUucGxheWxpc3RzfHxbXSl9LGUuZm9yRWFjaChmdW5jdGlvbihlKXtmb3IodmFyIHQgaW4gbi5tZWRpYUdyb3Vwc1tlXSlmb3IodmFyIGkgaW4gbi5tZWRpYUdyb3Vwc1tlXVt0XSl7dmFyIHM9bi5tZWRpYUdyb3Vwc1tlXVt0XVtpXTthKHMsZSx0LGkpfX0pLHJ9LFVvPSh7cGxheWxpc3Q6aSxtZWRpYVNlcXVlbmNlOmV9KT0+e2kubWVkaWFTZXF1ZW5jZT1lLGkuc2VnbWVudHMuZm9yRWFjaCgoZSx0KT0+e2UubnVtYmVyPWkubWVkaWFTZXF1ZW5jZSt0fSl9LEJvPSh7b2xkTWFuaWZlc3Q6ZSxuZXdNYW5pZmVzdDp0fSk9Pnt2YXIgcixuLGk9ZS5wbGF5bGlzdHMuY29uY2F0KFJvKGUpKSxzPXQucGxheWxpc3RzLmNvbmNhdChSbyh0KSk7cmV0dXJuIHQudGltZWxpbmVTdGFydHM9TW8oW2UudGltZWxpbmVTdGFydHMsdC50aW1lbGluZVN0YXJ0c10pLHtvbGRQbGF5bGlzdHM6cixuZXdQbGF5bGlzdHM6ZSx0aW1lbGluZVN0YXJ0czpufT1be29sZFBsYXlsaXN0czppLG5ld1BsYXlsaXN0czpzLHRpbWVsaW5lU3RhcnRzOnQudGltZWxpbmVTdGFydHN9XVswXSxlLmZvckVhY2godD0+e3QuZGlzY29udGludWl0eVNlcXVlbmNlPW4uZmluZEluZGV4KGZ1bmN0aW9uKHt0aW1lbGluZTplfSl7cmV0dXJuIGU9PT10LnRpbWVsaW5lfSk7dmFyIGU9KCh0LGkpPT57Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspaWYodFtlXS5hdHRyaWJ1dGVzLk5BTUU9PT1pKXJldHVybiB0W2VdO3JldHVybiBudWxsfSkocix0LmF0dHJpYnV0ZXMuTkFNRSk7aWYoZSYmIXQuc2lkeCl7Y29uc3Qgcz10LnNlZ21lbnRzWzBdO3ZhciBpPWUuc2VnbWVudHMuZmluZEluZGV4KGZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLmFicyhlLnByZXNlbnRhdGlvblRpbWUtcy5wcmVzZW50YXRpb25UaW1lKTwxLzYwfSk7LTE9PT1pPyhVbyh7cGxheWxpc3Q6dCxtZWRpYVNlcXVlbmNlOmUubWVkaWFTZXF1ZW5jZStlLnNlZ21lbnRzLmxlbmd0aH0pLHQuc2VnbWVudHNbMF0uZGlzY29udGludWl0eT0hMCx0LmRpc2NvbnRpbnVpdHlTdGFydHMudW5zaGlmdCgwKSwoIWUuc2VnbWVudHMubGVuZ3RoJiZ0LnRpbWVsaW5lPmUudGltZWxpbmV8fGUuc2VnbWVudHMubGVuZ3RoJiZ0LnRpbWVsaW5lPmUuc2VnbWVudHNbZS5zZWdtZW50cy5sZW5ndGgtMV0udGltZWxpbmUpJiZ0LmRpc2NvbnRpbnVpdHlTZXF1ZW5jZS0tKTooZS5zZWdtZW50c1tpXS5kaXNjb250aW51aXR5JiYhcy5kaXNjb250aW51aXR5JiYocy5kaXNjb250aW51aXR5PSEwLHQuZGlzY29udGludWl0eVN0YXJ0cy51bnNoaWZ0KDApLHQuZGlzY29udGludWl0eVNlcXVlbmNlLS0pLFVvKHtwbGF5bGlzdDp0LG1lZGlhU2VxdWVuY2U6ZS5zZWdtZW50c1tpXS5udW1iZXJ9KSl9fSksdH0sRm89ZT0+ZSYmZS51cmkrXCItXCIrKGU9PntsZXQgdDtyZXR1cm4gdD1cImJpZ2ludFwiPT10eXBlb2YgZS5vZmZzZXR8fFwiYmlnaW50XCI9PXR5cGVvZiBlLmxlbmd0aD93aW5kb3cuQmlnSW50KGUub2Zmc2V0KSt3aW5kb3cuQmlnSW50KGUubGVuZ3RoKS13aW5kb3cuQmlnSW50KDEpOmUub2Zmc2V0K2UubGVuZ3RoLTEsZS5vZmZzZXQrXCItXCIrdH0pKGUuYnl0ZXJhbmdlKSxqbz1lPT57cmV0dXJuIEVvKGUucmVkdWNlKChlLHQpPT57dmFyIGk9dC5hdHRyaWJ1dGVzLmlkKyh0LmF0dHJpYnV0ZXMubGFuZ3x8XCJcIik7cmV0dXJuIGVbaV0/KHQuc2VnbWVudHMmJih0LnNlZ21lbnRzWzBdJiYodC5zZWdtZW50c1swXS5kaXNjb250aW51aXR5PSEwKSxlW2ldLnNlZ21lbnRzLnB1c2goLi4udC5zZWdtZW50cykpLHQuYXR0cmlidXRlcy5jb250ZW50UHJvdGVjdGlvbiYmKGVbaV0uYXR0cmlidXRlcy5jb250ZW50UHJvdGVjdGlvbj10LmF0dHJpYnV0ZXMuY29udGVudFByb3RlY3Rpb24pKTooZVtpXT10LGVbaV0uYXR0cmlidXRlcy50aW1lbGluZVN0YXJ0cz1bXSksZVtpXS5hdHRyaWJ1dGVzLnRpbWVsaW5lU3RhcnRzLnB1c2goe3N0YXJ0OnQuYXR0cmlidXRlcy5wZXJpb2RTdGFydCx0aW1lbGluZTp0LmF0dHJpYnV0ZXMucGVyaW9kU3RhcnR9KSxlfSx7fSkpLm1hcChlPT57dmFyIHQscztyZXR1cm4gZS5kaXNjb250aW51aXR5U3RhcnRzPSh0PWUuc2VnbWVudHN8fFtdLHM9XCJkaXNjb250aW51aXR5XCIsdC5yZWR1Y2UoKGUsdCxpKT0+KHRbc10mJmUucHVzaChpKSxlKSxbXSkpLGV9KX0sSG89KGUsdCk9Pnt2YXIgaT1GbyhlLnNpZHgpLHQ9aSYmdFtpXSYmdFtpXS5zaWR4O3JldHVybiB0JiZEbyhlLHQsZS5zaWR4LnJlc29sdmVkVXJpKSxlfSxxbz0oZSxvPXt9KT0+ZS5yZWR1Y2UoKGUsdCk9Pnt2YXIgaSxzLHIsbixhPXQuYXR0cmlidXRlcy5sYW5nfHxcInRleHRcIjtyZXR1cm4gZVthXXx8KGVbYV09e2xhbmd1YWdlOmEsZGVmYXVsdDohMSxhdXRvc2VsZWN0OiExLHBsYXlsaXN0czpbXSx1cmk6XCJcIn0pLGVbYV0ucGxheWxpc3RzLnB1c2goSG8oKHthdHRyaWJ1dGVzOmEsc2VnbWVudHM6dCxtZWRpYVNlcXVlbmNlOmksZGlzY29udGludWl0eVN0YXJ0czpzLGRpc2NvbnRpbnVpdHlTZXF1ZW5jZTpyfT1bdF1bMF0sXCJ1bmRlZmluZWRcIj09dHlwZW9mIHQmJih0PVt7dXJpOmEuYmFzZVVybCx0aW1lbGluZTphLnBlcmlvZFN0YXJ0LHJlc29sdmVkVXJpOmEuYmFzZVVybHx8XCJcIixkdXJhdGlvbjphLnNvdXJjZUR1cmF0aW9uLG51bWJlcjowfV0sYS5kdXJhdGlvbj1hLnNvdXJjZUR1cmF0aW9uKSxuPXtOQU1FOmEuaWQsQkFORFdJRFRIOmEuYmFuZHdpZHRoLFwiUFJPR1JBTS1JRFwiOjF9LGEuY29kZWNzJiYobi5DT0RFQ1M9YS5jb2RlY3MpLHthdHRyaWJ1dGVzOm4sdXJpOlwiXCIsZW5kTGlzdDpcInN0YXRpY1wiPT09YS50eXBlLHRpbWVsaW5lOmEucGVyaW9kU3RhcnQscmVzb2x2ZWRVcmk6YS5iYXNlVXJsfHxcIlwiLHRhcmdldER1cmF0aW9uOmEuZHVyYXRpb24sdGltZWxpbmVTdGFydHM6YS50aW1lbGluZVN0YXJ0cyxkaXNjb250aW51aXR5U3RhcnRzOnMsZGlzY29udGludWl0eVNlcXVlbmNlOnIsbWVkaWFTZXF1ZW5jZTppLHNlZ21lbnRzOnR9KSxvKSksZX0se30pLFZvPSh7YXR0cmlidXRlczplLHNlZ21lbnRzOnQsc2lkeDppLGRpc2NvbnRpbnVpdHlTdGFydHM6c30pPT57cz17YXR0cmlidXRlczp7TkFNRTplLmlkLEFVRElPOlwiYXVkaW9cIixTVUJUSVRMRVM6XCJzdWJzXCIsUkVTT0xVVElPTjp7d2lkdGg6ZS53aWR0aCxoZWlnaHQ6ZS5oZWlnaHR9LENPREVDUzplLmNvZGVjcyxCQU5EV0lEVEg6ZS5iYW5kd2lkdGgsXCJQUk9HUkFNLUlEXCI6MX0sdXJpOlwiXCIsZW5kTGlzdDpcInN0YXRpY1wiPT09ZS50eXBlLHRpbWVsaW5lOmUucGVyaW9kU3RhcnQscmVzb2x2ZWRVcmk6XCJcIix0YXJnZXREdXJhdGlvbjplLmR1cmF0aW9uLGRpc2NvbnRpbnVpdHlTdGFydHM6cyx0aW1lbGluZVN0YXJ0czplLnRpbWVsaW5lU3RhcnRzLHNlZ21lbnRzOnR9O3JldHVybiBlLmZyYW1lUmF0ZSYmKHMuYXR0cmlidXRlc1tcIkZSQU1FLVJBVEVcIl09ZS5mcmFtZVJhdGUpLGUuY29udGVudFByb3RlY3Rpb24mJihzLmNvbnRlbnRQcm90ZWN0aW9uPWUuY29udGVudFByb3RlY3Rpb24pLGkmJihzLnNpZHg9aSksc30sJG89KHthdHRyaWJ1dGVzOmV9KT0+XCJ2aWRlby9tcDRcIj09PWUubWltZVR5cGV8fFwidmlkZW8vd2VibVwiPT09ZS5taW1lVHlwZXx8XCJ2aWRlb1wiPT09ZS5jb250ZW50VHlwZSxXbz0oe2F0dHJpYnV0ZXM6ZX0pPT5cImF1ZGlvL21wNFwiPT09ZS5taW1lVHlwZXx8XCJhdWRpby93ZWJtXCI9PT1lLm1pbWVUeXBlfHxcImF1ZGlvXCI9PT1lLmNvbnRlbnRUeXBlLEdvPSh7YXR0cmlidXRlczplfSk9PlwidGV4dC92dHRcIj09PWUubWltZVR5cGV8fFwidGV4dFwiPT09ZS5jb250ZW50VHlwZSx6bz1pPT5pP09iamVjdC5rZXlzKGkpLnJlZHVjZSgoZSx0KT0+e3Q9aVt0XTtyZXR1cm4gZS5jb25jYXQodC5wbGF5bGlzdHMpfSxbXSk6W10sWG89KHtkYXNoUGxheWxpc3RzOmUsbG9jYXRpb25zOnQsc2lkeE1hcHBpbmc6aT17fSxwcmV2aW91c01hbmlmZXN0OnN9KT0+e3ZhciByLG4sYSxvLGwsZCxoLHU7cmV0dXJuIGUubGVuZ3RoPyh7c291cmNlRHVyYXRpb246YSx0eXBlOmwsc3VnZ2VzdGVkUHJlc2VudGF0aW9uRGVsYXk6ZCxtaW5pbXVtVXBkYXRlUGVyaW9kOm99PWVbMF0uYXR0cmlidXRlcyxyPWpvKGUuZmlsdGVyKCRvKSkubWFwKFZvKSxoPWpvKGUuZmlsdGVyKFdvKSksbj1qbyhlLmZpbHRlcihHbykpLGU9ZS5tYXAoZT0+ZS5hdHRyaWJ1dGVzLmNhcHRpb25TZXJ2aWNlcykuZmlsdGVyKEJvb2xlYW4pLGE9e2FsbG93Q2FjaGU6ITAsZGlzY29udGludWl0eVN0YXJ0czpbXSxzZWdtZW50czpbXSxlbmRMaXN0OiEwLG1lZGlhR3JvdXBzOntBVURJTzp7fSxWSURFTzp7fSxcIkNMT1NFRC1DQVBUSU9OU1wiOnt9LFNVQlRJVExFUzp7fX0sdXJpOlwiXCIsZHVyYXRpb246YSxwbGF5bGlzdHM6KChlLHQ9e30pPT57aWYoT2JqZWN0LmtleXModCkubGVuZ3RoKWZvcihjb25zdCBpIGluIGUpZVtpXT1IbyhlW2ldLHQpO3JldHVybiBlfSkocixpKX0sMDw9byYmKGEubWluaW11bVVwZGF0ZVBlcmlvZD0xZTMqbyksdCYmKGEubG9jYXRpb25zPXQpLFwiZHluYW1pY1wiPT09bCYmKGEuc3VnZ2VzdGVkUHJlc2VudGF0aW9uRGVsYXk9ZCksbz0wPT09YS5wbGF5bGlzdHMubGVuZ3RoLHQ9aC5sZW5ndGg/KChlLG49e30sYSk9PntsZXQgbztlPWUucmVkdWNlKChlLHQpPT57dmFyIGk9dC5hdHRyaWJ1dGVzLnJvbGUmJnQuYXR0cmlidXRlcy5yb2xlLnZhbHVlfHxcIlwiLHM9dC5hdHRyaWJ1dGVzLmxhbmd8fFwiXCI7bGV0IHI9dC5hdHRyaWJ1dGVzLmxhYmVsfHxcIm1haW5cIjtlW3I9cyYmIXQuYXR0cmlidXRlcy5sYWJlbD90LmF0dHJpYnV0ZXMubGFuZysoaT9gICgke2l9KWA6XCJcIik6cl18fChlW3JdPXtsYW5ndWFnZTpzLGF1dG9zZWxlY3Q6ITAsZGVmYXVsdDpcIm1haW5cIj09PWkscGxheWxpc3RzOltdLHVyaTpcIlwifSk7cz1IbygoKHthdHRyaWJ1dGVzOmUsc2VnbWVudHM6dCxzaWR4OmksbWVkaWFTZXF1ZW5jZTpzLGRpc2NvbnRpbnVpdHlTZXF1ZW5jZTpyLGRpc2NvbnRpbnVpdHlTdGFydHM6bn0sYSk9PntyPXthdHRyaWJ1dGVzOntOQU1FOmUuaWQsQkFORFdJRFRIOmUuYmFuZHdpZHRoLENPREVDUzplLmNvZGVjcyxcIlBST0dSQU0tSURcIjoxfSx1cmk6XCJcIixlbmRMaXN0Olwic3RhdGljXCI9PT1lLnR5cGUsdGltZWxpbmU6ZS5wZXJpb2RTdGFydCxyZXNvbHZlZFVyaTpcIlwiLHRhcmdldER1cmF0aW9uOmUuZHVyYXRpb24sZGlzY29udGludWl0eVNlcXVlbmNlOnIsZGlzY29udGludWl0eVN0YXJ0czpuLHRpbWVsaW5lU3RhcnRzOmUudGltZWxpbmVTdGFydHMsbWVkaWFTZXF1ZW5jZTpzLHNlZ21lbnRzOnR9O3JldHVybiBlLmNvbnRlbnRQcm90ZWN0aW9uJiYoci5jb250ZW50UHJvdGVjdGlvbj1lLmNvbnRlbnRQcm90ZWN0aW9uKSxpJiYoci5zaWR4PWkpLGEmJihyLmF0dHJpYnV0ZXMuQVVESU89XCJhdWRpb1wiLHIuYXR0cmlidXRlcy5TVUJUSVRMRVM9XCJzdWJzXCIpLHJ9KSh0LGEpLG4pO3JldHVybiBlW3JdLnBsYXlsaXN0cy5wdXNoKHMpLFwidW5kZWZpbmVkXCI9PXR5cGVvZiBvJiZcIm1haW5cIj09PWkmJigobz10KS5kZWZhdWx0PSEwKSxlfSx7fSk7cmV0dXJuIG98fChlW09iamVjdC5rZXlzKGUpWzBdXS5kZWZhdWx0PSEwKSxlfSkoaCxpLG8pOm51bGwsbD1uLmxlbmd0aD9xbyhuLGkpOm51bGwsaD0oZD1yLmNvbmNhdCh6byh0KSx6byhsKSkpLm1hcCgoe3RpbWVsaW5lU3RhcnRzOmV9KT0+ZSksYS50aW1lbGluZVN0YXJ0cz1NbyhoKSx1PWEudGltZWxpbmVTdGFydHMsZC5mb3JFYWNoKHQ9Pnt0Lm1lZGlhU2VxdWVuY2U9MCx0LmRpc2NvbnRpbnVpdHlTZXF1ZW5jZT11LmZpbmRJbmRleChmdW5jdGlvbih7dGltZWxpbmU6ZX0pe3JldHVybiBlPT09dC50aW1lbGluZX0pLHQuc2VnbWVudHMmJnQuc2VnbWVudHMuZm9yRWFjaCgoZSx0KT0+e2UubnVtYmVyPXR9KX0pLHQmJihhLm1lZGlhR3JvdXBzLkFVRElPLmF1ZGlvPXQpLGwmJihhLm1lZGlhR3JvdXBzLlNVQlRJVExFUy5zdWJzPWwpLGUubGVuZ3RoJiYoYS5tZWRpYUdyb3Vwc1tcIkNMT1NFRC1DQVBUSU9OU1wiXS5jYz1lLnJlZHVjZSgocyxlKT0+KGUmJmUuZm9yRWFjaChlPT57dmFye2NoYW5uZWw6dCxsYW5ndWFnZTppfT1lO3NbaV09e2F1dG9zZWxlY3Q6ITEsZGVmYXVsdDohMSxpbnN0cmVhbUlkOnQsbGFuZ3VhZ2U6aX0sZS5oYXNPd25Qcm9wZXJ0eShcImFzcGVjdFJhdGlvXCIpJiYoc1tpXS5hc3BlY3RSYXRpbz1lLmFzcGVjdFJhdGlvKSxlLmhhc093blByb3BlcnR5KFwiZWFzeVJlYWRlclwiKSYmKHNbaV0uZWFzeVJlYWRlcj1lLmVhc3lSZWFkZXIpLGUuaGFzT3duUHJvcGVydHkoXCIzRFwiKSYmKHNbaV1bXCIzRFwiXT1lW1wiM0RcIl0pfSkscykse30pKSxzP0JvKHtvbGRNYW5pZmVzdDpzLG5ld01hbmlmZXN0OmF9KTphKTp7fX0sS289KHMscik9Pnt2YXJ7dHlwZTpuLG1pbmltdW1VcGRhdGVQZXJpb2Q6YT0wLG1lZGlhOm89XCJcIixzb3VyY2VEdXJhdGlvbjpsLHRpbWVzY2FsZTpkPTEsc3RhcnROdW1iZXI6aD0xLHBlcmlvZFN0YXJ0OnV9PXMsYz1bXTtsZXQgcD0tMTtmb3IobGV0IGk9MDtpPHIubGVuZ3RoO2krKyl7dmFyIG09cltpXSxnPW0uZCxmPW0ucnx8MCxtPW0udHx8MDtwPDAmJihwPW0pLG0mJm0+cCYmKHA9bSk7bGV0IGU7ZT1mPDA/KG09aSsxKT09PXIubGVuZ3RoP1wiZHluYW1pY1wiPT09biYmMDxhJiYwPG8uaW5kZXhPZihcIiROdW1iZXIkXCIpPygoZSx0LGkpPT57dmFye05PVzplLGNsaWVudE9mZnNldDpzLGF2YWlsYWJpbGl0eVN0YXJ0VGltZTpyLHRpbWVzY2FsZTpuPTEscGVyaW9kU3RhcnQ6YT0wLG1pbmltdW1VcGRhdGVQZXJpb2Q6bz0wfT1lO3JldHVybiBNYXRoLmNlaWwoKCgoZStzKS8xZTMrby0ocithKSkqbi10KS9pKX0pKHMscCxnKToobCpkLXApL2c6KHJbbV0udC1wKS9nOmYrMTt2YXIgeT1oK2MubGVuZ3RoK2U7bGV0IHQ9aCtjLmxlbmd0aDtmb3IoO3Q8eTspYy5wdXNoKHtudW1iZXI6dCxkdXJhdGlvbjpnL2QsdGltZTpwLHRpbWVsaW5lOnV9KSxwKz1nLHQrK31yZXR1cm4gY30sWW89L1xcJChbQS16XSopKD86KCUwKShbMC05XSspZCk/XFwkL2csUW89KGUsdCk9PntyZXR1cm4gZS5yZXBsYWNlKFlvLChyPXQsKGUsdCxpLHMpPT57cmV0dXJuXCIkJFwiPT09ZT9cIiRcIjpcInVuZGVmaW5lZFwiPT10eXBlb2Ygclt0XT9lOihlPVwiXCIrclt0XSxcIlJlcHJlc2VudGF0aW9uSURcIj09PXR8fChzPWk/cGFyc2VJbnQocywxMCk6MSk8PWUubGVuZ3RoP2U6bmV3IEFycmF5KHMtZS5sZW5ndGgrMSkuam9pbihcIjBcIikrZSl9KSk7dmFyIHJ9LEpvPShyLGUpPT57Y29uc3Qgbj17UmVwcmVzZW50YXRpb25JRDpyLmlkLEJhbmR3aWR0aDpyLmJhbmR3aWR0aHx8MH07dmFye2luaXRpYWxpemF0aW9uOnQ9e3NvdXJjZVVSTDpcIlwiLHJhbmdlOlwiXCJ9fT1yO2NvbnN0IGE9eG8oe2Jhc2VVcmw6ci5iYXNlVXJsLHNvdXJjZTpRbyh0LnNvdXJjZVVSTCxuKSxyYW5nZTp0LnJhbmdlfSk7cmV0dXJuIHQ9ZSwoKGU9cikuZHVyYXRpb258fHQ/ZS5kdXJhdGlvbj9MbyhlKTpLbyhlLHQpOlt7bnVtYmVyOmUuc3RhcnROdW1iZXJ8fDEsZHVyYXRpb246ZS5zb3VyY2VEdXJhdGlvbix0aW1lOjAsdGltZWxpbmU6ZS5wZXJpb2RTdGFydH1dKS5tYXAoZT0+e24uTnVtYmVyPWUubnVtYmVyLG4uVGltZT1lLnRpbWU7dmFyIHQ9UW8oci5tZWRpYXx8XCJcIixuKSxpPXIudGltZXNjYWxlfHwxLHM9ci5wcmVzZW50YXRpb25UaW1lT2Zmc2V0fHwwLHM9ci5wZXJpb2RTdGFydCsoZS50aW1lLXMpL2k7cmV0dXJue3VyaTp0LHRpbWVsaW5lOmUudGltZWxpbmUsZHVyYXRpb246ZS5kdXJhdGlvbixyZXNvbHZlZFVyaTpPbihyLmJhc2VVcmx8fFwiXCIsdCksbWFwOmEsbnVtYmVyOmUubnVtYmVyLHByZXNlbnRhdGlvblRpbWU6c319KX0sWm89KHIsZSk9Pntjb25zdHtkdXJhdGlvbjp0LHNlZ21lbnRVcmxzOmk9W10scGVyaW9kU3RhcnQ6bn09cjtpZighdCYmIWV8fHQmJmUpdGhyb3cgbmV3IEVycm9yKElvLlNFR01FTlRfVElNRV9VTlNQRUNJRklFRCk7Y29uc3QgYT1pLm1hcChlPT57dmFye2Jhc2VVcmw6dCxpbml0aWFsaXphdGlvbjppPXt9fT10PXIsaT14byh7YmFzZVVybDp0LHNvdXJjZTppLnNvdXJjZVVSTCxyYW5nZTppLnJhbmdlfSk7cmV0dXJuKHQ9eG8oe2Jhc2VVcmw6dCxzb3VyY2U6ZS5tZWRpYSxyYW5nZTplLm1lZGlhUmFuZ2V9KSkubWFwPWksdH0pO2xldCBzO3JldHVybiB0JiYocz1MbyhyKSksKHM9ZT9LbyhyLGUpOnMpLm1hcCgoZSx0KT0+e3ZhciBpLHM7aWYoYVt0XSlyZXR1cm4gdD1hW3RdLGk9ci50aW1lc2NhbGV8fDEscz1yLnByZXNlbnRhdGlvblRpbWVPZmZzZXR8fDAsdC50aW1lbGluZT1lLnRpbWVsaW5lLHQuZHVyYXRpb249ZS5kdXJhdGlvbix0Lm51bWJlcj1lLm51bWJlcix0LnByZXNlbnRhdGlvblRpbWU9bisoZS50aW1lLXMpL2ksdH0pLmZpbHRlcihlPT5lKX0sZWw9KHthdHRyaWJ1dGVzOmUsc2VnbWVudEluZm86dH0pPT57bGV0IGksczt0LnRlbXBsYXRlPyhzPUpvLGk9eChlLHQudGVtcGxhdGUpKTp0LmJhc2U/KHM9T28saT14KGUsdC5iYXNlKSk6dC5saXN0JiYocz1abyxpPXgoZSx0Lmxpc3QpKTt2YXIgcixuLGEsZT17YXR0cmlidXRlczplfTtyZXR1cm4gcyYmKHI9cyhpLHQuc2VnbWVudFRpbWVsaW5lKSxpLmR1cmF0aW9uPyh7ZHVyYXRpb246bix0aW1lc2NhbGU6YT0xfT1pLGkuZHVyYXRpb249bi9hKTpyLmxlbmd0aD9pLmR1cmF0aW9uPXIucmVkdWNlKChlLHQpPT5NYXRoLm1heChlLE1hdGguY2VpbCh0LmR1cmF0aW9uKSksMCk6aS5kdXJhdGlvbj0wLGUuYXR0cmlidXRlcz1pLGUuc2VnbWVudHM9cix0LmJhc2UpJiZpLmluZGV4UmFuZ2UmJihlLnNpZHg9clswXSxlLnNlZ21lbnRzPVtdKSxlfSx0bD1lPT5lLm1hcChlbCksQT0oZSx0KT0+Q28oZS5jaGlsZE5vZGVzKS5maWx0ZXIoKHt0YWdOYW1lOmV9KT0+ZT09PXQpLGlsPWU9PmUudGV4dENvbnRlbnQudHJpbSgpLHNsPWU9Pnt2YXIgdCxpLHMscixuLGU9L1AoPzooXFxkKilZKT8oPzooXFxkKilNKT8oPzooXFxkKilEKT8oPzpUKD86KFxcZCopSCk/KD86KFxcZCopTSk/KD86KFtcXGQuXSopUyk/KT8vLmV4ZWMoZSk7cmV0dXJuIGU/KFtlLHQsaSxzLHIsbl09ZS5zbGljZSgxKSwzMTUzNmUzKnBhcnNlRmxvYXQoZXx8MCkrMjU5MmUzKnBhcnNlRmxvYXQodHx8MCkrODY0MDAqcGFyc2VGbG9hdChpfHwwKSszNjAwKnBhcnNlRmxvYXQoc3x8MCkrNjAqcGFyc2VGbG9hdChyfHwwKStwYXJzZUZsb2F0KG58fDApKTowfSxybD17bWVkaWFQcmVzZW50YXRpb25EdXJhdGlvbihlKXtyZXR1cm4gc2woZSl9LGF2YWlsYWJpbGl0eVN0YXJ0VGltZShlKXtyZXR1cm4vXlxcZCstXFxkKy1cXGQrVFxcZCs6XFxkKzpcXGQrKFxcLlxcZCspPyQvLnRlc3QoZT1lKSYmKGUrPVwiWlwiKSxEYXRlLnBhcnNlKGUpLzFlM30sbWluaW11bVVwZGF0ZVBlcmlvZChlKXtyZXR1cm4gc2woZSl9LHN1Z2dlc3RlZFByZXNlbnRhdGlvbkRlbGF5KGUpe3JldHVybiBzbChlKX0sdHlwZShlKXtyZXR1cm4gZX0sdGltZVNoaWZ0QnVmZmVyRGVwdGgoZSl7cmV0dXJuIHNsKGUpfSxzdGFydChlKXtyZXR1cm4gc2woZSl9LHdpZHRoKGUpe3JldHVybiBwYXJzZUludChlLDEwKX0saGVpZ2h0KGUpe3JldHVybiBwYXJzZUludChlLDEwKX0sYmFuZHdpZHRoKGUpe3JldHVybiBwYXJzZUludChlLDEwKX0sZnJhbWVSYXRlKGUpe3JldHVybiBwYXJzZUZsb2F0KGUuc3BsaXQoXCIvXCIpLnJlZHVjZSgoZSx0KT0+ZS90KSl9LHN0YXJ0TnVtYmVyKGUpe3JldHVybiBwYXJzZUludChlLDEwKX0sdGltZXNjYWxlKGUpe3JldHVybiBwYXJzZUludChlLDEwKX0scHJlc2VudGF0aW9uVGltZU9mZnNldChlKXtyZXR1cm4gcGFyc2VJbnQoZSwxMCl9LGR1cmF0aW9uKGUpe3ZhciB0PXBhcnNlSW50KGUsMTApO3JldHVybiBpc05hTih0KT9zbChlKTp0fSxkKGUpe3JldHVybiBwYXJzZUludChlLDEwKX0sdChlKXtyZXR1cm4gcGFyc2VJbnQoZSwxMCl9LHIoZSl7cmV0dXJuIHBhcnNlSW50KGUsMTApfSxERUZBVUxUKGUpe3JldHVybiBlfX0sUD1lPT5lJiZlLmF0dHJpYnV0ZXM/Q28oZS5hdHRyaWJ1dGVzKS5yZWR1Y2UoKGUsdCk9Pnt2YXIgaT1ybFt0Lm5hbWVdfHxybC5ERUZBVUxUO3JldHVybiBlW3QubmFtZV09aSh0LnZhbHVlKSxlfSx7fSk6e30sbmw9e1widXJuOnV1aWQ6MTA3N2VmZWMtYzBiMi00ZDAyLWFjZTMtM2MxZTUyZTJmYjRiXCI6XCJvcmcudzMuY2xlYXJrZXlcIixcInVybjp1dWlkOmVkZWY4YmE5LTc5ZDYtNGFjZS1hM2M4LTI3ZGNkNTFkMjFlZFwiOlwiY29tLndpZGV2aW5lLmFscGhhXCIsXCJ1cm46dXVpZDo5YTA0ZjA3OS05ODQwLTQyODYtYWI5Mi1lNjViZTA4ODVmOTVcIjpcImNvbS5taWNyb3NvZnQucGxheXJlYWR5XCIsXCJ1cm46dXVpZDpmMjM5ZTc2OS1lZmEzLTQ4NTAtOWMxNi1hOTAzYzY5MzJlZmJcIjpcImNvbS5hZG9iZS5wcmltZXRpbWVcIn0sYWw9KGUsaSk9PmkubGVuZ3RoP2tvKGUubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gT24odCxpbChlKSl9KX0pKTplLG9sPWU9Pnt2YXIgdD1BKGUsXCJTZWdtZW50VGVtcGxhdGVcIilbMF0saT1BKGUsXCJTZWdtZW50TGlzdFwiKVswXSxzPWkmJkEoaSxcIlNlZ21lbnRVUkxcIikubWFwKGU9Pngoe3RhZzpcIlNlZ21lbnRVUkxcIn0sUChlKSkpLGU9QShlLFwiU2VnbWVudEJhc2VcIilbMF0scj1pfHx0LHI9ciYmQShyLFwiU2VnbWVudFRpbWVsaW5lXCIpWzBdLG49aXx8ZXx8dCxuPW4mJkEobixcIkluaXRpYWxpemF0aW9uXCIpWzBdLHQ9dCYmUCh0KTt0JiZuP3QuaW5pdGlhbGl6YXRpb249biYmUChuKTp0JiZ0LmluaXRpYWxpemF0aW9uJiYodC5pbml0aWFsaXphdGlvbj17c291cmNlVVJMOnQuaW5pdGlhbGl6YXRpb259KTtjb25zdCBhPXt0ZW1wbGF0ZTp0LHNlZ21lbnRUaW1lbGluZTpyJiZBKHIsXCJTXCIpLm1hcChlPT5QKGUpKSxsaXN0OmkmJngoUChpKSx7c2VnbWVudFVybHM6cyxpbml0aWFsaXphdGlvbjpQKG4pfSksYmFzZTplJiZ4KFAoZSkse2luaXRpYWxpemF0aW9uOlAobil9KX07cmV0dXJuIE9iamVjdC5rZXlzKGEpLmZvckVhY2goZT0+e2FbZV18fGRlbGV0ZSBhW2VdfSksYX0sbGw9KGwsZCxoKT0+ZT0+e3ZhciB0PVAoZSksaT1hbChkLEEoZSxcIkJhc2VVUkxcIikpLHM9QShlLFwiUm9sZVwiKVswXSxzPXtyb2xlOlAocyl9O2xldCByPXgobCx0LHMpO3ZhciBuLGEsbyx0PUEoZSxcIkFjY2Vzc2liaWxpdHlcIilbMF0sdD1cInVybjpzY3RlOmRhc2g6Y2M6Y2VhLTYwODoyMDE1XCI9PT0ocz1QKHQpKS5zY2hlbWVJZFVyaT8oXCJzdHJpbmdcIiE9dHlwZW9mIHMudmFsdWU/W106cy52YWx1ZS5zcGxpdChcIjtcIikpLm1hcChlPT57bGV0IHQsaTtyZXR1cm4gaT1lLC9eQ0NcXGQ9Ly50ZXN0KGUpP1t0LGldPWUuc3BsaXQoXCI9XCIpOi9eQ0NcXGQkLy50ZXN0KGUpJiYodD1lKSx7Y2hhbm5lbDp0LGxhbmd1YWdlOml9fSk6XCJ1cm46c2N0ZTpkYXNoOmNjOmNlYS03MDg6MjAxNVwiPT09cy5zY2hlbWVJZFVyaT8oXCJzdHJpbmdcIiE9dHlwZW9mIHMudmFsdWU/W106cy52YWx1ZS5zcGxpdChcIjtcIikpLm1hcChlPT57Y29uc3QgaT17Y2hhbm5lbDp2b2lkIDAsbGFuZ3VhZ2U6dm9pZCAwLGFzcGVjdFJhdGlvOjEsZWFzeVJlYWRlcjowLFwiM0RcIjowfTt2YXIgdCxzO3JldHVybi89Ly50ZXN0KGUpPyhbdCxzPVwiXCJdPWUuc3BsaXQoXCI9XCIpLGkuY2hhbm5lbD10LGkubGFuZ3VhZ2U9ZSxzLnNwbGl0KFwiLFwiKS5mb3JFYWNoKGU9Pnt2YXJbZSx0XT1lLnNwbGl0KFwiOlwiKTtcImxhbmdcIj09PWU/aS5sYW5ndWFnZT10OlwiZXJcIj09PWU/aS5lYXN5UmVhZGVyPU51bWJlcih0KTpcIndhclwiPT09ZT9pLmFzcGVjdFJhdGlvPU51bWJlcih0KTpcIjNEXCI9PT1lJiYoaVtcIjNEXCJdPU51bWJlcih0KSl9KSk6aS5sYW5ndWFnZT1lLGkuY2hhbm5lbCYmKGkuY2hhbm5lbD1cIlNFUlZJQ0VcIitpLmNoYW5uZWwpLGl9KTp2b2lkIDAscz0odCYmKHI9eChyLHtjYXB0aW9uU2VydmljZXM6dH0pKSxBKGUsXCJMYWJlbFwiKVswXSkscz0ocyYmcy5jaGlsZE5vZGVzLmxlbmd0aCYmKHQ9cy5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZS50cmltKCkscj14KHIse2xhYmVsOnR9KSksQShlLFwiQ29udGVudFByb3RlY3Rpb25cIikucmVkdWNlKChlLHQpPT57dmFyIGk9UCh0KSxzPShpLnNjaGVtZUlkVXJpJiYoaS5zY2hlbWVJZFVyaT1pLnNjaGVtZUlkVXJpLnRvTG93ZXJDYXNlKCkpLG5sW2kuc2NoZW1lSWRVcmldKTtyZXR1cm4gcyYmKGVbc109e2F0dHJpYnV0ZXM6aX0saT1BKHQsXCJjZW5jOnBzc2hcIilbMF0pJiYodD1pbChpKSxlW3NdLnBzc2g9dCYmR24odCkpLGV9LHt9KSksdD0oT2JqZWN0LmtleXMocykubGVuZ3RoJiYocj14KHIse2NvbnRlbnRQcm90ZWN0aW9uOnN9KSksb2woZSkpLHM9QShlLFwiUmVwcmVzZW50YXRpb25cIiksZT14KGgsdCk7cmV0dXJuIGtvKHMubWFwKChuPXIsYT1pLG89ZSxlPT57dmFyIHQ9QShlLFwiQmFzZVVSTFwiKSx0PWFsKGEsdCk7Y29uc3QgaT14KG4sUChlKSkscz1vbChlKTtyZXR1cm4gdC5tYXAoZT0+KHtzZWdtZW50SW5mbzp4KG8scyksYXR0cmlidXRlczp4KGkse2Jhc2VVcmw6ZX0pfSkpfSkpKX0sZGw9KGUsdD17fSk9Pnt2YXJ7bWFuaWZlc3RVcmk6dD1cIlwiLE5PVzppPURhdGUubm93KCksY2xpZW50T2Zmc2V0OnM9MH09dCxyPUEoZSxcIlBlcmlvZFwiKTtpZighci5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKElvLklOVkFMSURfTlVNQkVSX09GX1BFUklPRCk7dmFyIG49QShlLFwiTG9jYXRpb25cIik7Y29uc3QgYT1QKGUpO3ZhciBvLGwsdD1hbChbdF0sQShlLFwiQmFzZVVSTFwiKSk7YS50eXBlPWEudHlwZXx8XCJzdGF0aWNcIixhLnNvdXJjZUR1cmF0aW9uPWEubWVkaWFQcmVzZW50YXRpb25EdXJhdGlvbnx8MCxhLk5PVz1pLGEuY2xpZW50T2Zmc2V0PXMsbi5sZW5ndGgmJihhLmxvY2F0aW9ucz1uLm1hcChpbCkpO2NvbnN0IGQ9W107cmV0dXJuIHIuZm9yRWFjaCgoZSx0KT0+e3ZhciBpLHMscj1QKGUpLHQ9ZFt0LTFdO3Iuc3RhcnQ9KHthdHRyaWJ1dGVzOnQscHJpb3JQZXJpb2RBdHRyaWJ1dGVzOmksbXBkVHlwZTpzfT1be2F0dHJpYnV0ZXM6cixwcmlvclBlcmlvZEF0dHJpYnV0ZXM6dD90LmF0dHJpYnV0ZXM6bnVsbCxtcGRUeXBlOmEudHlwZX1dWzBdLFwibnVtYmVyXCI9PXR5cGVvZiB0LnN0YXJ0P3Quc3RhcnQ6aSYmXCJudW1iZXJcIj09dHlwZW9mIGkuc3RhcnQmJlwibnVtYmVyXCI9PXR5cGVvZiBpLmR1cmF0aW9uP2kuc3RhcnQraS5kdXJhdGlvbjppfHxcInN0YXRpY1wiIT09cz9udWxsOjApLGQucHVzaCh7bm9kZTplLGF0dHJpYnV0ZXM6cn0pfSkse2xvY2F0aW9uczphLmxvY2F0aW9ucyxyZXByZXNlbnRhdGlvbkluZm86a28oZC5tYXAoKG89YSxsPXQsKGUsdCk9Pnt2YXIgaT1hbChsLEEoZS5ub2RlLFwiQmFzZVVSTFwiKSkscz14KG8se3BlcmlvZFN0YXJ0OmUuYXR0cmlidXRlcy5zdGFydH0pLHI9KFwibnVtYmVyXCI9PXR5cGVvZiBlLmF0dHJpYnV0ZXMuZHVyYXRpb24mJihzLnBlcmlvZER1cmF0aW9uPWUuYXR0cmlidXRlcy5kdXJhdGlvbiksQShlLm5vZGUsXCJBZGFwdGF0aW9uU2V0XCIpKSxlPW9sKGUubm9kZSk7cmV0dXJuIGtvKHIubWFwKGxsKHMsaSxlKSkpfSkpKX19LGhsPWU9PntpZihcIlwiPT09ZSl0aHJvdyBuZXcgRXJyb3IoSW8uREFTSF9FTVBUWV9NQU5JRkVTVCk7dmFyIHQsaT1uZXcgU287bGV0IHM7dHJ5e3Q9aS5wYXJzZUZyb21TdHJpbmcoZSxcImFwcGxpY2F0aW9uL3htbFwiKSxzPXQmJlwiTVBEXCI9PT10LmRvY3VtZW50RWxlbWVudC50YWdOYW1lP3QuZG9jdW1lbnRFbGVtZW50Om51bGx9Y2F0Y2goZSl7fWlmKCFzfHxzJiYwPHMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJwYXJzZXJlcnJvclwiKS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKElvLkRBU0hfSU5WQUxJRF9YTUwpO3JldHVybiBzfSx1bD1lPT57ZT1obChlKTtpZighKGU9QShlLFwiVVRDVGltaW5nXCIpWzBdKSlyZXR1cm4gbnVsbDt2YXIgdD1QKGUpO3N3aXRjaCh0LnNjaGVtZUlkVXJpKXtjYXNlXCJ1cm46bXBlZzpkYXNoOnV0YzpodHRwLWhlYWQ6MjAxNFwiOmNhc2VcInVybjptcGVnOmRhc2g6dXRjOmh0dHAtaGVhZDoyMDEyXCI6dC5tZXRob2Q9XCJIRUFEXCI7YnJlYWs7Y2FzZVwidXJuOm1wZWc6ZGFzaDp1dGM6aHR0cC14c2RhdGU6MjAxNFwiOmNhc2VcInVybjptcGVnOmRhc2g6dXRjOmh0dHAtaXNvOjIwMTRcIjpjYXNlXCJ1cm46bXBlZzpkYXNoOnV0YzpodHRwLXhzZGF0ZToyMDEyXCI6Y2FzZVwidXJuOm1wZWc6ZGFzaDp1dGM6aHR0cC1pc286MjAxMlwiOnQubWV0aG9kPVwiR0VUXCI7YnJlYWs7Y2FzZVwidXJuOm1wZWc6ZGFzaDp1dGM6ZGlyZWN0OjIwMTRcIjpjYXNlXCJ1cm46bXBlZzpkYXNoOnV0YzpkaXJlY3Q6MjAxMlwiOnQubWV0aG9kPVwiRElSRUNUXCIsdC52YWx1ZT1EYXRlLnBhcnNlKHQudmFsdWUpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKElvLlVOU1VQUE9SVEVEX1VUQ19USU1JTkdfU0NIRU1FKX1yZXR1cm4gdH07ZnVuY3Rpb24gY2woZSx0KXt2YXIgaSxzLHI7cmV0dXJuIHZvaWQgMD09PXQmJih0PTApLChlPVMoZSkpLmxlbmd0aC10PDEwfHwhRShlLFNsLHtvZmZzZXQ6dH0pP3Q6KHQrPSh2b2lkIDA9PT0ocz10KSYmKHM9MCkscj0oaT1TKGk9ZSkpW3MrNV0saT1pW3MrNl08PDIxfGlbcys3XTw8MTR8aVtzKzhdPDw3fGlbcys5XSwoMTYmcik+PjQ/MjAraToxMCtpKSxjbChlLHQpKX1mdW5jdGlvbiBwbChlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZT9MbihlKTplfWZ1bmN0aW9uIG1sKGUsdCxpKXt2b2lkIDA9PT1pJiYoaT0hMSkscz10LHQ9QXJyYXkuaXNBcnJheShzKT9zLm1hcChwbCk6W3BsKHMpXSxlPVMoZSk7dmFyIHMscj1bXTtpZih0Lmxlbmd0aClmb3IodmFyIG49MDtuPGUubGVuZ3RoOyl7dmFyIGE9KGVbbl08PDI0fGVbbisxXTw8MTZ8ZVtuKzJdPDw4fGVbbiszXSk+Pj4wLG89ZS5zdWJhcnJheShuKzQsbis4KTtpZigwPT1hKWJyZWFrO2E9bithO2lmKGE+ZS5sZW5ndGgpe2lmKGkpYnJlYWs7YT1lLmxlbmd0aH12YXIgbD1lLnN1YmFycmF5KG4rOCxhKTtFKG8sdFswXSkmJigxPT09dC5sZW5ndGg/ci5wdXNoKGwpOnIucHVzaC5hcHBseShyLG1sKGwsdC5zbGljZSgxKSxpKSkpLG49YX1yZXR1cm4gcn1mdW5jdGlvbiBnbChlLHQsaSl7dmFyIHM7cmV0dXJuIGk+PXQubGVuZ3RoP3QubGVuZ3RoOihzPUNsKHQsaSwhMSksRShlLmJ5dGVzLHMuYnl0ZXMpP2k6Z2woZSx0LGkrKGU9Q2wodCxpK3MubGVuZ3RoKSkubGVuZ3RoK2UudmFsdWUrcy5sZW5ndGgpKX1mdW5jdGlvbiBmbChlLHQpe2k9dCx0PUFycmF5LmlzQXJyYXkoaSk/aS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIElsKGUpfSk6W0lsKGkpXSxlPVMoZSk7dmFyIGkscz1bXTtpZih0Lmxlbmd0aClmb3IodmFyIHI9MDtyPGUubGVuZ3RoOyl7dmFyIG49Q2woZSxyLCExKSxhPUNsKGUscituLmxlbmd0aCksbz1yK24ubGVuZ3RoK2EubGVuZ3RoLGw9KDEyNz09PWEudmFsdWUmJihhLnZhbHVlPWdsKG4sZSxvKSxhLnZhbHVlIT09ZS5sZW5ndGgpJiYoYS52YWx1ZS09byksbythLnZhbHVlPmUubGVuZ3RoP2UubGVuZ3RoOm8rYS52YWx1ZSksbz1lLnN1YmFycmF5KG8sbCk7RSh0WzBdLG4uYnl0ZXMpJiYoMT09PXQubGVuZ3RoP3MucHVzaChvKTpzPXMuY29uY2F0KGZsKG8sdC5zbGljZSgxKSkpKSxyKz1uLmxlbmd0aCthLmxlbmd0aCtvLmxlbmd0aH1yZXR1cm4gc31mdW5jdGlvbiB5bChlLHQsaSxzKXt2b2lkIDA9PT1zJiYocz0xLzApLGU9UyhlKSxpPVtdLmNvbmNhdChpKTtmb3IodmFyIHIsbj0wLGE9MDtuPGUubGVuZ3RoJiYoYTxzfHxyKTspe3ZhciBvPXZvaWQgMDtpZihFKGUuc3ViYXJyYXkobikseGwpP289NDpFKGUuc3ViYXJyYXkobiksQWwpJiYobz0zKSxvKXtpZihhKysscilyZXR1cm4gTGwoZS5zdWJhcnJheShyLG4pKTt2YXIgbD12b2lkIDA7XCJoMjY0XCI9PT10P2w9MzEmZVtuK29dOlwiaDI2NVwiPT09dCYmKGw9ZVtuK29dPj4xJjYzKSwtMSE9PWkuaW5kZXhPZihsKSYmKHI9bitvKSxuKz1vKyhcImgyNjRcIj09PXQ/MToyKX1lbHNlIG4rK31yZXR1cm4gZS5zdWJhcnJheSgwLDApfWZ1bmN0aW9uIF9sKGUpe2U9UyhlKTtmb3IodmFyIHQ9MDt0PERsLmxlbmd0aDt0Kyspe3ZhciBpPURsW3RdO2lmKE5sW2ldKGUpKXJldHVybiBpfXJldHVyblwiXCJ9dmFyIHZsPU1hdGgucG93KDIsMzIpLGJsPWZ1bmN0aW9uKGUpe3ZhciB0LGU9bmV3IERhdGFWaWV3KGUuYnVmZmVyLGUuYnl0ZU9mZnNldCxlLmJ5dGVMZW5ndGgpO3JldHVybiBlLmdldEJpZ1VpbnQ2ND8odD1lLmdldEJpZ1VpbnQ2NCgwKSk8TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI/TnVtYmVyKHQpOnQ6ZS5nZXRVaW50MzIoMCkqdmwrZS5nZXRVaW50MzIoNCl9LFRsPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBEYXRhVmlldyhlLmJ1ZmZlcixlLmJ5dGVPZmZzZXQsZS5ieXRlTGVuZ3RoKSxpPXt2ZXJzaW9uOmVbMF0sZmxhZ3M6bmV3IFVpbnQ4QXJyYXkoZS5zdWJhcnJheSgxLDQpKSxyZWZlcmVuY2VzOltdLHJlZmVyZW5jZUlkOnQuZ2V0VWludDMyKDQpLHRpbWVzY2FsZTp0LmdldFVpbnQzMig4KX0scz0xMixyPSgwPT09aS52ZXJzaW9uPyhpLmVhcmxpZXN0UHJlc2VudGF0aW9uVGltZT10LmdldFVpbnQzMihzKSxpLmZpcnN0T2Zmc2V0PXQuZ2V0VWludDMyKHMrNCkscys9OCk6KGkuZWFybGllc3RQcmVzZW50YXRpb25UaW1lPWJsKGUuc3ViYXJyYXkocykpLGkuZmlyc3RPZmZzZXQ9YmwoZS5zdWJhcnJheShzKzgpKSxzKz0xNiksdC5nZXRVaW50MTYocys9MikpO2ZvcihzKz0yOzA8cjtzKz0xMixyLS0paS5yZWZlcmVuY2VzLnB1c2goe3JlZmVyZW5jZVR5cGU6KDEyOCZlW3NdKT4+PjcscmVmZXJlbmNlZFNpemU6MjE0NzQ4MzY0NyZ0LmdldFVpbnQzMihzKSxzdWJzZWdtZW50RHVyYXRpb246dC5nZXRVaW50MzIocys0KSxzdGFydHNXaXRoU2FwOiEhKDEyOCZlW3MrOF0pLHNhcFR5cGU6KDExMiZlW3MrOF0pPj4+NCxzYXBEZWx0YVRpbWU6MjY4NDM1NDU1JnQuZ2V0VWludDMyKHMrOCl9KTtyZXR1cm4gaX0sU2w9UyhbNzMsNjgsNTFdKSx3bD17RUJNTDpTKFsyNiw2OSwyMjMsMTYzXSksRG9jVHlwZTpTKFs2NiwxMzBdKSxTZWdtZW50OlMoWzI0LDgzLDEyOCwxMDNdKSxTZWdtZW50SW5mbzpTKFsyMSw3MywxNjksMTAyXSksVHJhY2tzOlMoWzIyLDg0LDE3NCwxMDddKSxUcmFjazpTKFsxNzRdKSxUcmFja051bWJlcjpTKFsyMTVdKSxEZWZhdWx0RHVyYXRpb246UyhbMzUsMjI3LDEzMV0pLFRyYWNrRW50cnk6UyhbMTc0XSksVHJhY2tUeXBlOlMoWzEzMV0pLEZsYWdEZWZhdWx0OlMoWzEzNl0pLENvZGVjSUQ6UyhbMTM0XSksQ29kZWNQcml2YXRlOlMoWzk5LDE2Ml0pLFZpZGVvVHJhY2s6UyhbMjI0XSksQXVkaW9UcmFjazpTKFsyMjVdKSxDbHVzdGVyOlMoWzMxLDY3LDE4MiwxMTddKSxUaW1lc3RhbXA6UyhbMjMxXSksVGltZXN0YW1wU2NhbGU6UyhbNDIsMjE1LDE3N10pLEJsb2NrR3JvdXA6UyhbMTYwXSksQmxvY2tEdXJhdGlvbjpTKFsxNTVdKSxCbG9jazpTKFsxNjFdKSxTaW1wbGVCbG9jazpTKFsxNjNdKX0sRWw9WzEyOCw2NCwzMiwxNiw4LDQsMiwxXSxrbD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MSxpPTA7aTxFbC5sZW5ndGgmJiEoZSZFbFtpXSk7aSsrKXQrKztyZXR1cm4gdH0sQ2w9ZnVuY3Rpb24oZSx0LGkscyl7dm9pZCAwPT09aSYmKGk9ITApLHZvaWQgMD09PXMmJihzPSExKTt2YXIgcj1rbChlW3RdKSxuPWUuc3ViYXJyYXkodCx0K3IpO3JldHVybiBpJiYoKG49QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZSx0LHQrcikpWzBdXj1FbFtyLTFdKSx7bGVuZ3RoOnIsdmFsdWU6JG4obix7c2lnbmVkOnN9KSxieXRlczpufX0sSWw9ZnVuY3Rpb24gZSh0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdD90Lm1hdGNoKC8uezEsMn0vZykubWFwKGUpOlwibnVtYmVyXCI9PXR5cGVvZiB0P1BuKHQpOnR9LHhsPVMoWzAsMCwwLDFdKSxBbD1TKFswLDAsMV0pLFBsPVMoWzAsMCwzXSksTGw9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLGk9MTtpPGUubGVuZ3RoLTI7KUUoZS5zdWJhcnJheShpLGkrMyksUGwpJiYodC5wdXNoKGkrMiksaSsrKSxpKys7aWYoMD09PXQubGVuZ3RoKXJldHVybiBlO2Zvcih2YXIgcz1lLmxlbmd0aC10Lmxlbmd0aCxyPW5ldyBVaW50OEFycmF5KHMpLG49MCxpPTA7aTxzO24rKyxpKyspbj09PXRbMF0mJihuKyssdC5zaGlmdCgpKSxyW2ldPWVbbl07cmV0dXJuIHJ9LEw9e3dlYm06UyhbMTE5LDEwMSw5OCwxMDldKSxtYXRyb3NrYTpTKFsxMDksOTcsMTE2LDExNCwxMTEsMTE1LDEwNyw5N10pLGZsYWM6UyhbMTAyLDc2LDk3LDY3XSksb2dnOlMoWzc5LDEwMywxMDMsODNdKSxhYzM6UyhbMTEsMTE5XSkscmlmZjpTKFs4Miw3Myw3MCw3MF0pLGF2aTpTKFs2NSw4Niw3M10pLHdhdjpTKFs4Nyw2NSw4Niw2OV0pLFwiM2dwXCI6UyhbMTAyLDExNiwxMjEsMTEyLDUxLDEwM10pLG1wNDpTKFsxMDIsMTE2LDEyMSwxMTJdKSxmbXA0OlMoWzExNSwxMTYsMTIxLDExMl0pLG1vdjpTKFsxMDIsMTE2LDEyMSwxMTIsMTEzLDExNl0pLG1vb3Y6UyhbMTA5LDExMSwxMTEsMTE4XSksbW9vZjpTKFsxMDksMTExLDExMSwxMDJdKX0sT2w9e2FhYzpmdW5jdGlvbihlKXt2YXIgdD1jbChlKTtyZXR1cm4gRShlLFsyNTUsMTZdLHtvZmZzZXQ6dCxtYXNrOlsyNTUsMjJdfSl9LG1wMzpmdW5jdGlvbihlKXt2YXIgdD1jbChlKTtyZXR1cm4gRShlLFsyNTUsMl0se29mZnNldDp0LG1hc2s6WzI1NSw2XX0pfSx3ZWJtOmZ1bmN0aW9uKGUpe2U9ZmwoZSxbd2wuRUJNTCx3bC5Eb2NUeXBlXSlbMF07cmV0dXJuIEUoZSxMLndlYm0pfSxta3Y6ZnVuY3Rpb24oZSl7ZT1mbChlLFt3bC5FQk1MLHdsLkRvY1R5cGVdKVswXTtyZXR1cm4gRShlLEwubWF0cm9za2EpfSxtcDQ6ZnVuY3Rpb24oZSl7cmV0dXJuIU9sW1wiM2dwXCJdKGUpJiYhT2wubW92KGUpJiYoISEoRShlLEwubXA0LHtvZmZzZXQ6NH0pfHxFKGUsTC5mbXA0LHtvZmZzZXQ6NH0pfHxFKGUsTC5tb29mLHtvZmZzZXQ6NH0pfHxFKGUsTC5tb292LHtvZmZzZXQ6NH0pKXx8dm9pZCAwKX0sbW92OmZ1bmN0aW9uKGUpe3JldHVybiBFKGUsTC5tb3Yse29mZnNldDo0fSl9LFwiM2dwXCI6ZnVuY3Rpb24oZSl7cmV0dXJuIEUoZSxMW1wiM2dwXCJdLHtvZmZzZXQ6NH0pfSxhYzM6ZnVuY3Rpb24oZSl7dmFyIHQ9Y2woZSk7cmV0dXJuIEUoZSxMLmFjMyx7b2Zmc2V0OnR9KX0sdHM6ZnVuY3Rpb24oZSl7aWYoZS5sZW5ndGg8MTg5JiYxPD1lLmxlbmd0aClyZXR1cm4gNzE9PT1lWzBdO2Zvcih2YXIgdD0wO3QrMTg4PGUubGVuZ3RoJiZ0PDE4ODspe2lmKDcxPT09ZVt0XSYmNzE9PT1lW3QrMTg4XSlyZXR1cm4hMDt0Kz0xfXJldHVybiExfSxmbGFjOmZ1bmN0aW9uKGUpe3ZhciB0PWNsKGUpO3JldHVybiBFKGUsTC5mbGFjLHtvZmZzZXQ6dH0pfSxvZ2c6ZnVuY3Rpb24oZSl7cmV0dXJuIEUoZSxMLm9nZyl9LGF2aTpmdW5jdGlvbihlKXtyZXR1cm4gRShlLEwucmlmZikmJkUoZSxMLmF2aSx7b2Zmc2V0Ojh9KX0sd2F2OmZ1bmN0aW9uKGUpe3JldHVybiBFKGUsTC5yaWZmKSYmRShlLEwud2F2LHtvZmZzZXQ6OH0pfSxoMjY0OmZ1bmN0aW9uKGUpe3JldHVybiB5bChlLFwiaDI2NFwiLDcsMykubGVuZ3RofSxoMjY1OmZ1bmN0aW9uKGUpe3JldHVybiB5bChlLFwiaDI2NVwiLFszMiwzM10sMykubGVuZ3RofX0sRGw9T2JqZWN0LmtleXMoT2wpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm5cInRzXCIhPT1lJiZcImgyNjRcIiE9PWUmJlwiaDI2NVwiIT09ZX0pLmNvbmNhdChbXCJ0c1wiLFwiaDI2NFwiLFwiaDI2NVwiXSksTmw9KERsLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9T2xbZV07T2xbZV09ZnVuY3Rpb24oZSl7cmV0dXJuIHQoUyhlKSl9fSksT2wpLE1sPTllNDtcbi8qISBAbmFtZSBAdmlkZW9qcy9odHRwLXN0cmVhbWluZyBAdmVyc2lvbiAzLjAuMiBAbGljZW5zZSBBcGFjaGUtMi4wICovXG5jb25zdCBSbD1mdW5jdGlvbihlLHQpe2lmKC9eW2Etel0rOi9pLnRlc3QodCkpcmV0dXJuIHQ7L15kYXRhOi8udGVzdChlKSYmKGU9d2luZG93LmxvY2F0aW9uJiZ3aW5kb3cubG9jYXRpb24uaHJlZnx8XCJcIik7dmFyIGk9XCJmdW5jdGlvblwiPT10eXBlb2Ygd2luZG93LlVSTCxzPS9eXFwvXFwvLy50ZXN0KGUpLHI9IXdpbmRvdy5sb2NhdGlvbiYmIS9cXC9cXC8vaS50ZXN0KGUpO3JldHVybiBpP2U9bmV3IHdpbmRvdy5VUkwoZSx3aW5kb3cubG9jYXRpb258fGZuKTovXFwvXFwvL2kudGVzdChlKXx8KGU9Z24uYnVpbGRBYnNvbHV0ZVVSTCh3aW5kb3cubG9jYXRpb24mJndpbmRvdy5sb2NhdGlvbi5ocmVmfHxcIlwiLGUpKSxpPyhpPW5ldyBVUkwodCxlKSxyP2kuaHJlZi5zbGljZShmbi5sZW5ndGgpOnM/aS5ocmVmLnNsaWNlKGkucHJvdG9jb2wubGVuZ3RoKTppLmhyZWYpOmduLmJ1aWxkQWJzb2x1dGVVUkwoZSx0KX0sVWw9KGUsdCk9PnQmJnQucmVzcG9uc2VVUkwmJmUhPT10LnJlc3BvbnNlVVJMP3QucmVzcG9uc2VVUkw6ZSxCbD1lPT5ULmxvZy5kZWJ1Zz9ULmxvZy5kZWJ1Zy5iaW5kKFQsXCJWSFM6XCIsZStcIiA+XCIpOmZ1bmN0aW9uKCl7fTtmdW5jdGlvbiBPKC4uLmUpe3ZhciB0PVQub2JqfHxUO3JldHVybih0Lm1lcmdlfHx0Lm1lcmdlT3B0aW9ucykuYXBwbHkodCxlKX1mdW5jdGlvbiBGbCguLi5lKXt2YXIgdD1ULnRpbWV8fFQ7cmV0dXJuKHQuY3JlYXRlVGltZVJhbmdlc3x8dC5jcmVhdGVUaW1lUmFuZ2VzKS5hcHBseSh0LGUpfWZ1bmN0aW9uIGpsKGUsaSl7cmV0dXJuIFhsKGUsZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS16bDw9aSYmdCt6bD49aX0pfWZ1bmN0aW9uIEhsKGUsdCl7cmV0dXJuIFhsKGUsZnVuY3Rpb24oZSl7cmV0dXJuIGUtR2w+PXR9KX1mdW5jdGlvbiBxbChlKXtpZihlJiZlLmxlbmd0aCYmZS5lbmQpcmV0dXJuIGUuZW5kKGUubGVuZ3RoLTEpfWZ1bmN0aW9uIFZsKHQsaSl7bGV0IHM9MDtpZih0JiZ0Lmxlbmd0aClmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKyl7dmFyIHI9dC5zdGFydChlKSxuPXQuZW5kKGUpO248aXx8KHMrPXI8aSYmaTw9bj9uLWk6bi1yKX1yZXR1cm4gc31mdW5jdGlvbiAkbCh7ZGVmYXVsdER1cmF0aW9uOnQsZHVyYXRpb25MaXN0Omksc3RhcnRJbmRleDpzLGVuZEluZGV4OnJ9KXtsZXQgbj0wO2lmKHI8cyYmKFtzLHJdPVtyLHNdKSxzPDApe2ZvcihsZXQgZT1zO2U8TWF0aC5taW4oMCxyKTtlKyspbis9dDtzPTB9Zm9yKGxldCBlPXM7ZTxyO2UrKyluKz1pW2VdLmR1cmF0aW9uO3JldHVybiBufWZ1bmN0aW9uIFdsKGUsdCxpLHMpe2lmKCFlfHwhZS5zZWdtZW50cylyZXR1cm4gbnVsbDtpZihlLmVuZExpc3QpcmV0dXJuIG5kKGUpO2lmKG51bGw9PT10KXJldHVybiBudWxsO3Q9dHx8MDtsZXQgcj1yZChlLGUubWVkaWFTZXF1ZW5jZStlLnNlZ21lbnRzLmxlbmd0aCx0KTtyZXR1cm4gaSYmKHM9XCJudW1iZXJcIj09dHlwZW9mIHM/czp0ZChudWxsLGUpLHItPXMpLE1hdGgubWF4KDAscil9Y29uc3QgR2w9MS8zMCx6bD0zKkdsLFhsPWZ1bmN0aW9uKGUsdCl7dmFyIGk9W107bGV0IHM7aWYoZSYmZS5sZW5ndGgpZm9yKHM9MDtzPGUubGVuZ3RoO3MrKyl0KGUuc3RhcnQocyksZS5lbmQocykpJiZpLnB1c2goW2Uuc3RhcnQocyksZS5lbmQocyldKTtyZXR1cm4gRmwoaSl9LEtsPXQ9Pnt2YXIgaT1bXTtpZighdHx8IXQubGVuZ3RoKXJldHVyblwiXCI7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspaS5wdXNoKHQuc3RhcnQoZSkrXCIgPT4gXCIrdC5lbmQoZSkpO3JldHVybiBpLmpvaW4oXCIsIFwiKX0sWWw9dD0+e3ZhciBpPVtdO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKWkucHVzaCh7c3RhcnQ6dC5zdGFydChlKSxlbmQ6dC5lbmQoZSl9KTtyZXR1cm4gaX0sUWw9KHQsZSk9PntpZighZS5wcmVsb2FkKXJldHVybiBlLmR1cmF0aW9uO2xldCBpPTA7cmV0dXJuKGUucGFydHN8fFtdKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2krPWUuZHVyYXRpb259KSwoZS5wcmVsb2FkSGludHN8fFtdKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe1wiUEFSVFwiPT09ZS50eXBlJiYoaSs9dC5wYXJ0VGFyZ2V0RHVyYXRpb24pfSksaX0sSmw9ZT0+KGUuc2VnbWVudHN8fFtdKS5yZWR1Y2UoKGkscyxyKT0+KHMucGFydHM/cy5wYXJ0cy5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7aS5wdXNoKHtkdXJhdGlvbjplLmR1cmF0aW9uLHNlZ21lbnRJbmRleDpyLHBhcnRJbmRleDp0LHBhcnQ6ZSxzZWdtZW50OnN9KX0pOmkucHVzaCh7ZHVyYXRpb246cy5kdXJhdGlvbixzZWdtZW50SW5kZXg6cixwYXJ0SW5kZXg6bnVsbCxzZWdtZW50OnMscGFydDpudWxsfSksaSksW10pLFpsPWU9PntlPWUuc2VnbWVudHMmJmUuc2VnbWVudHMubGVuZ3RoJiZlLnNlZ21lbnRzW2Uuc2VnbWVudHMubGVuZ3RoLTFdO3JldHVybiBlJiZlLnBhcnRzfHxbXX0sZWQ9KHtwcmVsb2FkU2VnbWVudDplfSk9Pnt2YXIgdDtpZihlKXJldHVybntwYXJ0czplLHByZWxvYWRIaW50czp0fT1lLCh0fHxbXSkucmVkdWNlKChlLHQpPT5lKyhcIlBBUlRcIj09PXQudHlwZT8xOjApLDApKyhlJiZlLmxlbmd0aD9lLmxlbmd0aDowKX0sdGQ9KGUsdCk9PntyZXR1cm4gdC5lbmRMaXN0PzA6ZSYmZS5zdWdnZXN0ZWRQcmVzZW50YXRpb25EZWxheT9lLnN1Z2dlc3RlZFByZXNlbnRhdGlvbkRlbGF5OihlPTA8WmwodCkubGVuZ3RoKSYmdC5zZXJ2ZXJDb250cm9sJiZ0LnNlcnZlckNvbnRyb2wucGFydEhvbGRCYWNrP3Quc2VydmVyQ29udHJvbC5wYXJ0SG9sZEJhY2s6ZSYmdC5wYXJ0VGFyZ2V0RHVyYXRpb24/Myp0LnBhcnRUYXJnZXREdXJhdGlvbjp0LnNlcnZlckNvbnRyb2wmJnQuc2VydmVyQ29udHJvbC5ob2xkQmFjaz90LnNlcnZlckNvbnRyb2wuaG9sZEJhY2s6dC50YXJnZXREdXJhdGlvbj8zKnQudGFyZ2V0RHVyYXRpb246MH0saWQ9ZnVuY3Rpb24oZSx0KXtsZXQgaT0wLHM9dC1lLm1lZGlhU2VxdWVuY2Uscj1lLnNlZ21lbnRzW3NdO2lmKHIpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiByLnN0YXJ0KXJldHVybntyZXN1bHQ6ci5zdGFydCxwcmVjaXNlOiEwfTtpZihcInVuZGVmaW5lZFwiIT10eXBlb2Ygci5lbmQpcmV0dXJue3Jlc3VsdDpyLmVuZC1yLmR1cmF0aW9uLHByZWNpc2U6ITB9fWZvcig7cy0tOyl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mKHI9ZS5zZWdtZW50c1tzXSkuZW5kKXJldHVybntyZXN1bHQ6aStyLmVuZCxwcmVjaXNlOiEwfTtpZihpKz1RbChlLHIpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiByLnN0YXJ0KXJldHVybntyZXN1bHQ6aStyLnN0YXJ0LHByZWNpc2U6ITB9fXJldHVybntyZXN1bHQ6aSxwcmVjaXNlOiExfX0sc2Q9ZnVuY3Rpb24oZSx0KXtsZXQgaT0wO3ZhciBzO2xldCByPXQtZS5tZWRpYVNlcXVlbmNlO2Zvcig7cjxlLnNlZ21lbnRzLmxlbmd0aDtyKyspe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZihzPWUuc2VnbWVudHNbcl0pLnN0YXJ0KXJldHVybntyZXN1bHQ6cy5zdGFydC1pLHByZWNpc2U6ITB9O2lmKGkrPVFsKGUscyksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHMuZW5kKXJldHVybntyZXN1bHQ6cy5lbmQtaSxwcmVjaXNlOiEwfX1yZXR1cm57cmVzdWx0Oi0xLHByZWNpc2U6ITF9fSxyZD1mdW5jdGlvbihlLHQsaSl7dmFyIHM7cmV0dXJuKHQ9XCJ1bmRlZmluZWRcIj09dHlwZW9mIHQ/ZS5tZWRpYVNlcXVlbmNlK2Uuc2VnbWVudHMubGVuZ3RoOnQpPGUubWVkaWFTZXF1ZW5jZT8wOihzPWlkKGUsdCkpLnByZWNpc2U/cy5yZXN1bHQ6KGU9c2QoZSx0KSkucHJlY2lzZT9lLnJlc3VsdDpzLnJlc3VsdCtpfSxuZD1mdW5jdGlvbihlLHQsaSl7aWYoIWUpcmV0dXJuIDA7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGkmJihpPTApLFwidW5kZWZpbmVkXCI9PXR5cGVvZiB0KXtpZihlLnRvdGFsRHVyYXRpb24pcmV0dXJuIGUudG90YWxEdXJhdGlvbjtpZighZS5lbmRMaXN0KXJldHVybiB3aW5kb3cuSW5maW5pdHl9cmV0dXJuIHJkKGUsdCxpKX07ZnVuY3Rpb24gYWQoZSl7cmV0dXJuIGUuZXhjbHVkZVVudGlsJiZlLmV4Y2x1ZGVVbnRpbD5EYXRlLm5vdygpfWZ1bmN0aW9uIG9kKGUpe3JldHVybiBlLmV4Y2x1ZGVVbnRpbCYmZS5leGNsdWRlVW50aWw9PT0xLzB9ZnVuY3Rpb24gbGQoZSl7dmFyIHQ9YWQoZSk7cmV0dXJuIWUuZGlzYWJsZWQmJiF0fWZ1bmN0aW9uIGRkKGUsdCl7cmV0dXJuIHQuYXR0cmlidXRlcyYmdC5hdHRyaWJ1dGVzW2VdfWZ1bmN0aW9uIGhkKGUsdCl7dmFyIGk9ZSYmZS5tZWRpYUdyb3VwcyYmZS5tZWRpYUdyb3Vwcy5BVURJT3x8e307bGV0IHM9ITE7Zm9yKGNvbnN0IHIgaW4gaSl7Zm9yKGNvbnN0IG4gaW4gaVtyXSlpZihzPXQoaVtyXVtuXSkpYnJlYWs7aWYocylicmVha31yZXR1cm4hIXN9Y29uc3QgdWQ9KGUsdCk9PntpZigxPT09ZS5wbGF5bGlzdHMubGVuZ3RoKXJldHVybiEwO2NvbnN0IGk9dC5hdHRyaWJ1dGVzLkJBTkRXSURUSHx8TnVtYmVyLk1BWF9WQUxVRTtyZXR1cm4gMD09PWUucGxheWxpc3RzLmZpbHRlcihlPT4hIWxkKGUpJiYoZS5hdHRyaWJ1dGVzLkJBTkRXSURUSHx8MCk8aSkubGVuZ3RofSxjZD0oZSx0KT0+ISghZSYmIXR8fCFlJiZ0fHxlJiYhdHx8ZSE9PXQmJighZS5pZHx8IXQuaWR8fGUuaWQhPT10LmlkKSYmKCFlLnJlc29sdmVkVXJpfHwhdC5yZXNvbHZlZFVyaXx8ZS5yZXNvbHZlZFVyaSE9PXQucmVzb2x2ZWRVcmkpJiYoIWUudXJpfHwhdC51cml8fGUudXJpIT09dC51cmkpKSxwZD10PT57aWYoIXR8fCF0LnBsYXlsaXN0c3x8IXQucGxheWxpc3RzLmxlbmd0aClyZXR1cm4gaGQodCxlPT5lLnBsYXlsaXN0cyYmZS5wbGF5bGlzdHMubGVuZ3RofHxlLnVyaSk7Zm9yKGxldCBlPTA7ZTx0LnBsYXlsaXN0cy5sZW5ndGg7ZSsrKXtjb25zdCBzPXQucGxheWxpc3RzW2VdO3ZhciBpPXMuYXR0cmlidXRlcyYmcy5hdHRyaWJ1dGVzLkNPREVDUztpZighaXx8IWkuc3BsaXQoXCIsXCIpLmV2ZXJ5KGU9PkNuKGUpKSl7aT1oZCh0LGU9PmNkKHMsZSkpO2lmKCFpKXJldHVybiExfX1yZXR1cm4hMH07dmFyIG1kPXtsaXZlRWRnZURlbGF5OnRkLGR1cmF0aW9uOm5kLHNlZWthYmxlOmZ1bmN0aW9uKGUsdCxpKXt2YXIgcz10fHwwLGU9V2woZSx0LCEwLGkpO3JldHVybiBudWxsPT09ZT9GbCgpOkZsKHMsZSl9LGdldE1lZGlhSW5mb0ZvclRpbWU6ZnVuY3Rpb24oe3BsYXlsaXN0OnQsY3VycmVudFRpbWU6aSxzdGFydGluZ1NlZ21lbnRJbmRleDpzLHN0YXJ0aW5nUGFydEluZGV4OnIsc3RhcnRUaW1lOm4sZXhhY3RNYW5pZmVzdFRpbWluZ3M6YX0pe2xldCBvPWktbjt2YXIgbD1KbCh0KTtsZXQgZD0wO2ZvcihsZXQgZT0wO2U8bC5sZW5ndGg7ZSsrKXt2YXIgaD1sW2VdO2lmKHM9PT1oLnNlZ21lbnRJbmRleCYmKFwibnVtYmVyXCIhPXR5cGVvZiByfHxcIm51bWJlclwiIT10eXBlb2YgaC5wYXJ0SW5kZXh8fHI9PT1oLnBhcnRJbmRleCkpe2Q9ZTticmVha319aWYobzwwKXtpZigwPGQpZm9yKGxldCBlPWQtMTswPD1lO2UtLSl7dmFyIHU9bFtlXTtpZihvKz11LmR1cmF0aW9uLGEpe2lmKG88MCljb250aW51ZX1lbHNlIGlmKG8rR2w8PTApY29udGludWU7cmV0dXJue3BhcnRJbmRleDp1LnBhcnRJbmRleCxzZWdtZW50SW5kZXg6dS5zZWdtZW50SW5kZXgsc3RhcnRUaW1lOm4tJGwoe2RlZmF1bHREdXJhdGlvbjp0LnRhcmdldER1cmF0aW9uLGR1cmF0aW9uTGlzdDpsLHN0YXJ0SW5kZXg6ZCxlbmRJbmRleDplfSl9fXJldHVybntwYXJ0SW5kZXg6bFswXSYmbFswXS5wYXJ0SW5kZXh8fG51bGwsc2VnbWVudEluZGV4OmxbMF0mJmxbMF0uc2VnbWVudEluZGV4fHwwLHN0YXJ0VGltZTppfX1pZihkPDApe2ZvcihsZXQgZT1kO2U8MDtlKyspaWYoKG8tPXQudGFyZ2V0RHVyYXRpb24pPDApcmV0dXJue3BhcnRJbmRleDpsWzBdJiZsWzBdLnBhcnRJbmRleHx8bnVsbCxzZWdtZW50SW5kZXg6bFswXSYmbFswXS5zZWdtZW50SW5kZXh8fDAsc3RhcnRUaW1lOml9O2Q9MH1mb3IobGV0IGU9ZDtlPGwubGVuZ3RoO2UrKyl7dmFyIGM9bFtlXTtpZihvLT1jLmR1cmF0aW9uLGEpe2lmKDA8byljb250aW51ZX1lbHNlIGlmKDA8PW8tR2wpY29udGludWU7cmV0dXJue3BhcnRJbmRleDpjLnBhcnRJbmRleCxzZWdtZW50SW5kZXg6Yy5zZWdtZW50SW5kZXgsc3RhcnRUaW1lOm4rJGwoe2RlZmF1bHREdXJhdGlvbjp0LnRhcmdldER1cmF0aW9uLGR1cmF0aW9uTGlzdDpsLHN0YXJ0SW5kZXg6ZCxlbmRJbmRleDplfSl9fXJldHVybntzZWdtZW50SW5kZXg6bFtsLmxlbmd0aC0xXS5zZWdtZW50SW5kZXgscGFydEluZGV4OmxbbC5sZW5ndGgtMV0ucGFydEluZGV4LHN0YXJ0VGltZTppfX0saXNFbmFibGVkOmxkLGlzRGlzYWJsZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZGlzYWJsZWR9LGlzRXhjbHVkZWQ6YWQsaXNJbmNvbXBhdGlibGU6b2QscGxheWxpc3RFbmQ6V2wsaXNBZXM6ZnVuY3Rpb24odCl7Zm9yKGxldCBlPTA7ZTx0LnNlZ21lbnRzLmxlbmd0aDtlKyspaWYodC5zZWdtZW50c1tlXS5rZXkpcmV0dXJuITA7cmV0dXJuITF9LGhhc0F0dHJpYnV0ZTpkZCxlc3RpbWF0ZVNlZ21lbnRSZXF1ZXN0VGltZTpmdW5jdGlvbihlLHQsaSxzPTApe3JldHVybiBkZChcIkJBTkRXSURUSFwiLGkpPyhlKmkuYXR0cmlidXRlcy5CQU5EV0lEVEgtOCpzKS90Ok5hTn0saXNMb3dlc3RFbmFibGVkUmVuZGl0aW9uOnVkLGlzQXVkaW9Pbmx5OnBkLHBsYXlsaXN0TWF0Y2g6Y2Qsc2VnbWVudER1cmF0aW9uV2l0aFBhcnRzOlFsfTtjb25zdCBnZD1UW1wibG9nXCJdLGZkPShlLHQpPT5lK1wiLVwiK3QseWQ9KHIsbik9PntyLm1lZGlhR3JvdXBzJiZbXCJBVURJT1wiLFwiU1VCVElUTEVTXCJdLmZvckVhY2goZT0+e2lmKHIubWVkaWFHcm91cHNbZV0pZm9yKGNvbnN0IGkgaW4gci5tZWRpYUdyb3Vwc1tlXSlmb3IoY29uc3QgcyBpbiByLm1lZGlhR3JvdXBzW2VdW2ldKXt2YXIgdD1yLm1lZGlhR3JvdXBzW2VdW2ldW3NdO24odCxlLGkscyl9fSl9LF9kPSh7cGxheWxpc3Q6ZSx1cmk6dCxpZDppfSk9PntlLmlkPWksZS5wbGF5bGlzdEVycm9yc189MCx0JiYoZS51cmk9dCksZS5hdHRyaWJ1dGVzPWUuYXR0cmlidXRlc3x8e319LHZkPShvLGUsbD0oZSx0LGkpPT5gcGxhY2Vob2xkZXItdXJpLSR7ZX0tJHt0fS1gK2kpPT57by51cmk9ZTtmb3IobGV0IGU9MDtlPG8ucGxheWxpc3RzLmxlbmd0aDtlKyspe3ZhciB0O28ucGxheWxpc3RzW2VdLnVyaXx8KHQ9XCJwbGFjZWhvbGRlci11cmktXCIrZSxvLnBsYXlsaXN0c1tlXS51cmk9dCl9Y29uc3QgaT1wZChvKTt5ZChvLChlLHIsbixhKT0+e2lmKCFlLnBsYXlsaXN0c3x8IWUucGxheWxpc3RzLmxlbmd0aCl7aWYoaSYmXCJBVURJT1wiPT09ciYmIWUudXJpKWZvcihsZXQgZT0wO2U8by5wbGF5bGlzdHMubGVuZ3RoO2UrKyl7dmFyIHQ9by5wbGF5bGlzdHNbZV07aWYodC5hdHRyaWJ1dGVzJiZ0LmF0dHJpYnV0ZXMuQVVESU8mJnQuYXR0cmlidXRlcy5BVURJTz09PW4pcmV0dXJufWUucGxheWxpc3RzPVtmaSh7fSxlKV19ZS5wbGF5bGlzdHMuZm9yRWFjaChmdW5jdGlvbihlLHQpe3ZhciBpPWwocixuLGEsZSkscz1mZCh0LGkpO2UudXJpP2UucmVzb2x2ZWRVcmk9ZS5yZXNvbHZlZFVyaXx8Umwoby51cmksZS51cmkpOihlLnVyaT0wPT09dD9pOnMsZS5yZXNvbHZlZFVyaT1lLnVyaSksZS5pZD1lLmlkfHxzLGUuYXR0cmlidXRlcz1lLmF0dHJpYnV0ZXN8fHt9LG8ucGxheWxpc3RzW2UuaWRdPWUsby5wbGF5bGlzdHNbZS51cmldPWV9KX0pO3t2YXIgcz1vO2xldCBlPXMucGxheWxpc3RzLmxlbmd0aDtmb3IoO2UtLTspe3ZhciByPXMucGxheWxpc3RzW2VdO19kKHtwbGF5bGlzdDpyLGlkOmZkKGUsci51cmkpfSksci5yZXNvbHZlZFVyaT1SbChzLnVyaSxyLnVyaSkscy5wbGF5bGlzdHNbci5pZF09ciwocy5wbGF5bGlzdHNbci51cmldPXIpLmF0dHJpYnV0ZXMuQkFORFdJRFRIfHxnZC53YXJuKFwiSW52YWxpZCBwbGF5bGlzdCBTVFJFQU0tSU5GIGRldGVjdGVkLiBNaXNzaW5nIEJBTkRXSURUSCBhdHRyaWJ1dGUuXCIpfX12YXIgbjtuPW8seWQobixlPT57ZS51cmkmJihlLnJlc29sdmVkVXJpPVJsKG4udXJpLGUudXJpKSl9KX07RHI9VC5FdmVudFRhcmdldDtmdW5jdGlvbiBiZChlKXt2YXIgdD1lLnNlZ21lbnRzfHxbXSxpPWUucHJlbG9hZFNlZ21lbnQ7aWYoaSYmaS5wYXJ0cyYmaS5wYXJ0cy5sZW5ndGgpe2lmKGkucHJlbG9hZEhpbnRzKWZvcihsZXQgZT0wO2U8aS5wcmVsb2FkSGludHMubGVuZ3RoO2UrKylpZihcIk1BUFwiPT09aS5wcmVsb2FkSGludHNbZV0udHlwZSlyZXR1cm4gdDtpLmR1cmF0aW9uPWUudGFyZ2V0RHVyYXRpb24saS5wcmVsb2FkPSEwLHQucHVzaChpKX1yZXR1cm4gdH1jb25zdCBUZD0odCxpKT0+e2lmKCF0KXJldHVybiBpO3ZhciBzPU8odCxpKTtpZih0LnByZWxvYWRIaW50cyYmIWkucHJlbG9hZEhpbnRzJiZkZWxldGUgcy5wcmVsb2FkSGludHMsdC5wYXJ0cyYmIWkucGFydHMpZGVsZXRlIHMucGFydHM7ZWxzZSBpZih0LnBhcnRzJiZpLnBhcnRzKWZvcihsZXQgZT0wO2U8aS5wYXJ0cy5sZW5ndGg7ZSsrKXQucGFydHMmJnQucGFydHNbZV0mJihzLnBhcnRzW2VdPU8odC5wYXJ0c1tlXSxpLnBhcnRzW2VdKSk7cmV0dXJuIXQuc2tpcHBlZCYmaS5za2lwcGVkJiYocy5za2lwcGVkPSExKSx0LnByZWxvYWQmJiFpLnByZWxvYWQmJihzLnByZWxvYWQ9ITEpLHN9LFNkPShlLHQpPT57IWUucmVzb2x2ZWRVcmkmJmUudXJpJiYoZS5yZXNvbHZlZFVyaT1SbCh0LGUudXJpKSksZS5rZXkmJiFlLmtleS5yZXNvbHZlZFVyaSYmKGUua2V5LnJlc29sdmVkVXJpPVJsKHQsZS5rZXkudXJpKSksZS5tYXAmJiFlLm1hcC5yZXNvbHZlZFVyaSYmKGUubWFwLnJlc29sdmVkVXJpPVJsKHQsZS5tYXAudXJpKSksZS5tYXAmJmUubWFwLmtleSYmIWUubWFwLmtleS5yZXNvbHZlZFVyaSYmKGUubWFwLmtleS5yZXNvbHZlZFVyaT1SbCh0LGUubWFwLmtleS51cmkpKSxlLnBhcnRzJiZlLnBhcnRzLmxlbmd0aCYmZS5wYXJ0cy5mb3JFYWNoKGU9PntlLnJlc29sdmVkVXJpfHwoZS5yZXNvbHZlZFVyaT1SbCh0LGUudXJpKSl9KSxlLnByZWxvYWRIaW50cyYmZS5wcmVsb2FkSGludHMubGVuZ3RoJiZlLnByZWxvYWRIaW50cy5mb3JFYWNoKGU9PntlLnJlc29sdmVkVXJpfHwoZS5yZXNvbHZlZFVyaT1SbCh0LGUudXJpKSl9KX0sd2Q9KGUsdCk9PmU9PT10fHxlLnNlZ21lbnRzJiZ0LnNlZ21lbnRzJiZlLnNlZ21lbnRzLmxlbmd0aD09PXQuc2VnbWVudHMubGVuZ3RoJiZlLmVuZExpc3Q9PT10LmVuZExpc3QmJmUubWVkaWFTZXF1ZW5jZT09PXQubWVkaWFTZXF1ZW5jZSYmZS5wcmVsb2FkU2VnbWVudD09PXQucHJlbG9hZFNlZ21lbnQsRWQ9KGUscix0PXdkKT0+e3ZhciBpPU8oZSx7fSkscz1pLnBsYXlsaXN0c1tyLmlkXTtpZighcylyZXR1cm4gbnVsbDtpZih0KHMscikpcmV0dXJuIG51bGw7ci5zZWdtZW50cz1iZChyKTtjb25zdCBuPU8ocyxyKTtpZihuLnByZWxvYWRTZWdtZW50JiYhci5wcmVsb2FkU2VnbWVudCYmZGVsZXRlIG4ucHJlbG9hZFNlZ21lbnQscy5zZWdtZW50cyl7aWYoci5za2lwKXtyLnNlZ21lbnRzPXIuc2VnbWVudHN8fFtdO2ZvcihsZXQgZT0wO2U8ci5za2lwLnNraXBwZWRTZWdtZW50cztlKyspci5zZWdtZW50cy51bnNoaWZ0KHtza2lwcGVkOiEwfSl9bi5zZWdtZW50cz0oKGUsdCxpKT0+e3ZhciBzPWUuc2xpY2UoKSxyPXQuc2xpY2UoKSxuPShpPWl8fDAsW10pO2xldCBhO2ZvcihsZXQgZT0wO2U8ci5sZW5ndGg7ZSsrKXt2YXIgbz1zW2UraV0sbD1yW2VdO28/KGE9by5tYXB8fGEsbi5wdXNoKFRkKG8sbCkpKTooYSYmIWwubWFwJiYobC5tYXA9YSksbi5wdXNoKGwpKX1yZXR1cm4gbn0pKHMuc2VnbWVudHMsci5zZWdtZW50cyxyLm1lZGlhU2VxdWVuY2Utcy5tZWRpYVNlcXVlbmNlKX1uLnNlZ21lbnRzLmZvckVhY2goZT0+e1NkKGUsbi5yZXNvbHZlZFVyaSl9KTtmb3IobGV0IGU9MDtlPGkucGxheWxpc3RzLmxlbmd0aDtlKyspaS5wbGF5bGlzdHNbZV0uaWQ9PT1yLmlkJiYoaS5wbGF5bGlzdHNbZV09bik7cmV0dXJuIGkucGxheWxpc3RzW3IuaWRdPW4saS5wbGF5bGlzdHNbci51cmldPW4seWQoZSwodCxlLGkscyk9PntpZih0LnBsYXlsaXN0cylmb3IobGV0IGU9MDtlPHQucGxheWxpc3RzLmxlbmd0aDtlKyspci5pZD09PXQucGxheWxpc3RzW2VdLmlkJiYodC5wbGF5bGlzdHNbZV09bil9KSxpfSxrZD0oZSx0KT0+e3ZhciBpPWUuc2VnbWVudHN8fFtdLGk9aVtpLmxlbmd0aC0xXSxzPWkmJmkucGFydHMmJmkucGFydHNbaS5wYXJ0cy5sZW5ndGgtMV0scz1zJiZzLmR1cmF0aW9ufHxpJiZpLmR1cmF0aW9uO3JldHVybiB0JiZzPzFlMypzOjUwMCooZS5wYXJ0VGFyZ2V0RHVyYXRpb258fGUudGFyZ2V0RHVyYXRpb258fDEwKX07Y2xhc3MgQ2QgZXh0ZW5kcyBEcntjb25zdHJ1Y3RvcihlLHQsaT17fSl7aWYoc3VwZXIoKSwhZSl0aHJvdyBuZXcgRXJyb3IoXCJBIG5vbi1lbXB0eSBwbGF5bGlzdCBVUkwgb3Igb2JqZWN0IGlzIHJlcXVpcmVkXCIpO3RoaXMubG9nZ2VyXz1CbChcIlBsYXlsaXN0TG9hZGVyXCIpO3Zhcnt3aXRoQ3JlZGVudGlhbHM6aT0hMX09aSxlPSh0aGlzLnNyYz1lLHRoaXMudmhzXz10LHRoaXMud2l0aENyZWRlbnRpYWxzPWksdC5vcHRpb25zXyk7dGhpcy5jdXN0b21UYWdQYXJzZXJzPWUmJmUuY3VzdG9tVGFnUGFyc2Vyc3x8W10sdGhpcy5jdXN0b21UYWdNYXBwZXJzPWUmJmUuY3VzdG9tVGFnTWFwcGVyc3x8W10sdGhpcy5sbGhscz1lJiZlLmxsaGxzLHRoaXMuc3RhdGU9XCJIQVZFX05PVEhJTkdcIix0aGlzLmhhbmRsZU1lZGlhdXBkYXRldGltZW91dF89dGhpcy5oYW5kbGVNZWRpYXVwZGF0ZXRpbWVvdXRfLmJpbmQodGhpcyksdGhpcy5vbihcIm1lZGlhdXBkYXRldGltZW91dFwiLHRoaXMuaGFuZGxlTWVkaWF1cGRhdGV0aW1lb3V0Xyl9aGFuZGxlTWVkaWF1cGRhdGV0aW1lb3V0Xygpe2lmKFwiSEFWRV9NRVRBREFUQVwiPT09dGhpcy5zdGF0ZSl7dmFyIHQ9dGhpcy5tZWRpYSgpO2xldCBlPVJsKHRoaXMubWFpbi51cmksdC51cmkpO3RoaXMubGxobHMmJihlPSgoZSx0KT0+e2lmKCF0LmVuZExpc3QmJnQuc2VydmVyQ29udHJvbCl7Y29uc3Qgcj17fTtpZih0LnNlcnZlckNvbnRyb2wuY2FuQmxvY2tSZWxvYWQpe3ZhciBpLHM9dFtcInByZWxvYWRTZWdtZW50XCJdO2xldCBlPXQubWVkaWFTZXF1ZW5jZSt0LnNlZ21lbnRzLmxlbmd0aDtzJiYocz1zLnBhcnRzfHxbXSwtMTwoaT1lZCh0KS0xKSYmaSE9cy5sZW5ndGgtMSYmKHIuX0hMU19wYXJ0PWkpLC0xPGl8fHMubGVuZ3RoKSYmZS0tLHIuX0hMU19tc249ZX1pZih0LnNlcnZlckNvbnRyb2wmJnQuc2VydmVyQ29udHJvbC5jYW5Ta2lwVW50aWwmJihyLl9ITFNfc2tpcD10LnNlcnZlckNvbnRyb2wuY2FuU2tpcERhdGVyYW5nZXM/XCJ2MlwiOlwiWUVTXCIpLE9iamVjdC5rZXlzKHIpLmxlbmd0aCl7Y29uc3Qgbj1uZXcgd2luZG93LlVSTChlKTtbXCJfSExTX3NraXBcIixcIl9ITFNfbXNuXCIsXCJfSExTX3BhcnRcIl0uZm9yRWFjaChmdW5jdGlvbihlKXtyLmhhc093blByb3BlcnR5KGUpJiZuLnNlYXJjaFBhcmFtcy5zZXQoZSxyW2VdKX0pLGU9bi50b1N0cmluZygpfX1yZXR1cm4gZX0pKGUsdCkpLHRoaXMuc3RhdGU9XCJIQVZFX0NVUlJFTlRfTUVUQURBVEFcIix0aGlzLnJlcXVlc3Q9dGhpcy52aHNfLnhocih7dXJpOmUsd2l0aENyZWRlbnRpYWxzOnRoaXMud2l0aENyZWRlbnRpYWxzfSwoZSx0KT0+e2lmKHRoaXMucmVxdWVzdClyZXR1cm4gZT90aGlzLnBsYXlsaXN0UmVxdWVzdEVycm9yKHRoaXMucmVxdWVzdCx0aGlzLm1lZGlhKCksXCJIQVZFX01FVEFEQVRBXCIpOnZvaWQgdGhpcy5oYXZlTWV0YWRhdGEoe3BsYXlsaXN0U3RyaW5nOnRoaXMucmVxdWVzdC5yZXNwb25zZVRleHQsdXJsOnRoaXMubWVkaWEoKS51cmksaWQ6dGhpcy5tZWRpYSgpLmlkfSl9KX19cGxheWxpc3RSZXF1ZXN0RXJyb3IoZSx0LGkpe3Zhcnt1cmk6dCxpZDpzfT10O3RoaXMucmVxdWVzdD1udWxsLGkmJih0aGlzLnN0YXRlPWkpLHRoaXMuZXJyb3I9e3BsYXlsaXN0OnRoaXMubWFpbi5wbGF5bGlzdHNbc10sc3RhdHVzOmUuc3RhdHVzLG1lc3NhZ2U6YEhMUyBwbGF5bGlzdCByZXF1ZXN0IGVycm9yIGF0IFVSTDogJHt0fS5gLHJlc3BvbnNlVGV4dDplLnJlc3BvbnNlVGV4dCxjb2RlOjUwMDw9ZS5zdGF0dXM/NDoyfSx0aGlzLnRyaWdnZXIoXCJlcnJvclwiKX1wYXJzZU1hbmlmZXN0Xyh7dXJsOnQsbWFuaWZlc3RTdHJpbmc6aX0pe3t2YXJbe29ud2FybjppLG9uaW5mbzplLG1hbmlmZXN0U3RyaW5nOnMsY3VzdG9tVGFnUGFyc2VyczpyPVtdLGN1c3RvbVRhZ01hcHBlcnM6bj1bXSxsbGhsczphfV09W3tvbndhcm46KHttZXNzYWdlOmV9KT0+dGhpcy5sb2dnZXJfKGBtM3U4LXBhcnNlciB3YXJuIGZvciAke3R9OiBgK2UpLG9uaW5mbzooe21lc3NhZ2U6ZX0pPT50aGlzLmxvZ2dlcl8oYG0zdTgtcGFyc2VyIGluZm8gZm9yICR7dH06IGArZSksbWFuaWZlc3RTdHJpbmc6aSxjdXN0b21UYWdQYXJzZXJzOnRoaXMuY3VzdG9tVGFnUGFyc2VycyxjdXN0b21UYWdNYXBwZXJzOnRoaXMuY3VzdG9tVGFnTWFwcGVycyxsbGhsczp0aGlzLmxsaGxzfV07Y29uc3Qgbz1uZXcga24sbD0oaSYmby5vbihcIndhcm5cIixpKSxlJiZvLm9uKFwiaW5mb1wiLGUpLHIuZm9yRWFjaChlPT5vLmFkZFBhcnNlcihlKSksbi5mb3JFYWNoKGU9Pm8uYWRkVGFnTWFwcGVyKGUpKSxvLnB1c2gocyksby5lbmQoKSxvLm1hbmlmZXN0KTtpZihhfHwoW1wicHJlbG9hZFNlZ21lbnRcIixcInNraXBcIixcInNlcnZlckNvbnRyb2xcIixcInJlbmRpdGlvblJlcG9ydHNcIixcInBhcnRJbmZcIixcInBhcnRUYXJnZXREdXJhdGlvblwiXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2wuaGFzT3duUHJvcGVydHkoZSkmJmRlbGV0ZSBsW2VdfSksbC5zZWdtZW50cyYmbC5zZWdtZW50cy5mb3JFYWNoKGZ1bmN0aW9uKHQpe1tcInBhcnRzXCIsXCJwcmVsb2FkSGludHNcIl0uZm9yRWFjaChmdW5jdGlvbihlKXt0Lmhhc093blByb3BlcnR5KGUpJiZkZWxldGUgdFtlXX0pfSkpLCFsLnRhcmdldER1cmF0aW9uKXtsZXQgZT0xMDtsLnNlZ21lbnRzJiZsLnNlZ21lbnRzLmxlbmd0aCYmKGU9bC5zZWdtZW50cy5yZWR1Y2UoKGUsdCk9Pk1hdGgubWF4KGUsdC5kdXJhdGlvbiksMCkpLGkmJmkoXCJtYW5pZmVzdCBoYXMgbm8gdGFyZ2V0RHVyYXRpb24gZGVmYXVsdGluZyB0byBcIitlKSxsLnRhcmdldER1cmF0aW9uPWV9cmV0dXJuKGU9WmwobCkpLmxlbmd0aCYmIWwucGFydFRhcmdldER1cmF0aW9uJiYocj1lLnJlZHVjZSgoZSx0KT0+TWF0aC5tYXgoZSx0LmR1cmF0aW9uKSwwKSxpJiYoaShcIm1hbmlmZXN0IGhhcyBubyBwYXJ0VGFyZ2V0RHVyYXRpb24gZGVmYXVsdGluZyB0byBcIityKSxnZC5lcnJvcihcIkxMLUhMUyBtYW5pZmVzdCBoYXMgcGFydHMgYnV0IGxhY2tzIHJlcXVpcmVkICNFWFQtWC1QQVJULUlORjpQQVJULVRBUkdFVCB2YWx1ZS4gU2VlIGh0dHBzOi8vZGF0YXRyYWNrZXIuaWV0Zi5vcmcvZG9jL2h0bWwvZHJhZnQtcGFudG9zLWhscy1yZmM4MjE2YmlzLTA5I3NlY3Rpb24tNC40LjMuNy4gUGxheWJhY2sgaXMgbm90IGd1YXJhbnRlZWQuXCIpKSxsLnBhcnRUYXJnZXREdXJhdGlvbj1yKSxsfX1oYXZlTWV0YWRhdGEoe3BsYXlsaXN0U3RyaW5nOmUscGxheWxpc3RPYmplY3Q6dCx1cmw6aSxpZDpzfSl7dGhpcy5yZXF1ZXN0PW51bGwsdGhpcy5zdGF0ZT1cIkhBVkVfTUVUQURBVEFcIjt0PXR8fHRoaXMucGFyc2VNYW5pZmVzdF8oe3VybDppLG1hbmlmZXN0U3RyaW5nOmV9KSx0Lmxhc3RSZXF1ZXN0PURhdGUubm93KCksX2Qoe3BsYXlsaXN0OnQsdXJpOmksaWQ6c30pLGU9RWQodGhpcy5tYWluLHQpO3RoaXMudGFyZ2V0RHVyYXRpb249dC5wYXJ0VGFyZ2V0RHVyYXRpb258fHQudGFyZ2V0RHVyYXRpb24sdGhpcy5wZW5kaW5nTWVkaWFfPW51bGwsZT8odGhpcy5tYWluPWUsdGhpcy5tZWRpYV89dGhpcy5tYWluLnBsYXlsaXN0c1tzXSk6dGhpcy50cmlnZ2VyKFwicGxheWxpc3R1bmNoYW5nZWRcIiksdGhpcy51cGRhdGVNZWRpYVVwZGF0ZVRpbWVvdXRfKGtkKHRoaXMubWVkaWEoKSwhIWUpKSx0aGlzLnRyaWdnZXIoXCJsb2FkZWRwbGF5bGlzdFwiKX1kaXNwb3NlKCl7dGhpcy50cmlnZ2VyKFwiZGlzcG9zZVwiKSx0aGlzLnN0b3BSZXF1ZXN0KCksd2luZG93LmNsZWFyVGltZW91dCh0aGlzLm1lZGlhVXBkYXRlVGltZW91dCksd2luZG93LmNsZWFyVGltZW91dCh0aGlzLmZpbmFsUmVuZGl0aW9uVGltZW91dCksdGhpcy5vZmYoKX1zdG9wUmVxdWVzdCgpe3ZhciBlO3RoaXMucmVxdWVzdCYmKGU9dGhpcy5yZXF1ZXN0LHRoaXMucmVxdWVzdD1udWxsLGUub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsZS5hYm9ydCgpKX1tZWRpYShpLGUpe2lmKCFpKXJldHVybiB0aGlzLm1lZGlhXztpZihcIkhBVkVfTk9USElOR1wiPT09dGhpcy5zdGF0ZSl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3Qgc3dpdGNoIG1lZGlhIHBsYXlsaXN0IGZyb20gXCIrdGhpcy5zdGF0ZSk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGkpe2lmKCF0aGlzLm1haW4ucGxheWxpc3RzW2ldKXRocm93IG5ldyBFcnJvcihcIlVua25vd24gcGxheWxpc3QgVVJJOiBcIitpKTtpPXRoaXMubWFpbi5wbGF5bGlzdHNbaV19aWYod2luZG93LmNsZWFyVGltZW91dCh0aGlzLmZpbmFsUmVuZGl0aW9uVGltZW91dCksZSllPShpLnBhcnRUYXJnZXREdXJhdGlvbnx8aS50YXJnZXREdXJhdGlvbikvMioxZTN8fDVlMyx0aGlzLmZpbmFsUmVuZGl0aW9uVGltZW91dD13aW5kb3cuc2V0VGltZW91dCh0aGlzLm1lZGlhLmJpbmQodGhpcyxpLCExKSxlKTtlbHNle2NvbnN0IHM9dGhpcy5zdGF0ZTt2YXIgZT0hdGhpcy5tZWRpYV98fGkuaWQhPT10aGlzLm1lZGlhXy5pZCx0PXRoaXMubWFpbi5wbGF5bGlzdHNbaS5pZF07aWYodCYmdC5lbmRMaXN0fHxpLmVuZExpc3QmJmkuc2VnbWVudHMubGVuZ3RoKXRoaXMucmVxdWVzdCYmKHRoaXMucmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCx0aGlzLnJlcXVlc3QuYWJvcnQoKSx0aGlzLnJlcXVlc3Q9bnVsbCksdGhpcy5zdGF0ZT1cIkhBVkVfTUVUQURBVEFcIix0aGlzLm1lZGlhXz1pLGUmJih0aGlzLnRyaWdnZXIoXCJtZWRpYWNoYW5naW5nXCIpLFwiSEFWRV9NQUlOX01BTklGRVNUXCI9PT1zP3RoaXMudHJpZ2dlcihcImxvYWRlZG1ldGFkYXRhXCIpOnRoaXMudHJpZ2dlcihcIm1lZGlhY2hhbmdlXCIpKTtlbHNlIGlmKHRoaXMudXBkYXRlTWVkaWFVcGRhdGVUaW1lb3V0XyhrZChpLCEwKSksZSl7aWYodGhpcy5zdGF0ZT1cIlNXSVRDSElOR19NRURJQVwiLHRoaXMucmVxdWVzdCl7aWYoaS5yZXNvbHZlZFVyaT09PXRoaXMucmVxdWVzdC51cmwpcmV0dXJuO3RoaXMucmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCx0aGlzLnJlcXVlc3QuYWJvcnQoKSx0aGlzLnJlcXVlc3Q9bnVsbH10aGlzLm1lZGlhXyYmdGhpcy50cmlnZ2VyKFwibWVkaWFjaGFuZ2luZ1wiKSx0aGlzLnBlbmRpbmdNZWRpYV89aSx0aGlzLnJlcXVlc3Q9dGhpcy52aHNfLnhocih7dXJpOmkucmVzb2x2ZWRVcmksd2l0aENyZWRlbnRpYWxzOnRoaXMud2l0aENyZWRlbnRpYWxzfSwoZSx0KT0+e2lmKHRoaXMucmVxdWVzdCl7aWYoaS5sYXN0UmVxdWVzdD1EYXRlLm5vdygpLGkucmVzb2x2ZWRVcmk9VWwoaS5yZXNvbHZlZFVyaSx0KSxlKXJldHVybiB0aGlzLnBsYXlsaXN0UmVxdWVzdEVycm9yKHRoaXMucmVxdWVzdCxpLHMpO3RoaXMuaGF2ZU1ldGFkYXRhKHtwbGF5bGlzdFN0cmluZzp0LnJlc3BvbnNlVGV4dCx1cmw6aS51cmksaWQ6aS5pZH0pLFwiSEFWRV9NQUlOX01BTklGRVNUXCI9PT1zP3RoaXMudHJpZ2dlcihcImxvYWRlZG1ldGFkYXRhXCIpOnRoaXMudHJpZ2dlcihcIm1lZGlhY2hhbmdlXCIpfX0pfX19cGF1c2UoKXt0aGlzLm1lZGlhVXBkYXRlVGltZW91dCYmKHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5tZWRpYVVwZGF0ZVRpbWVvdXQpLHRoaXMubWVkaWFVcGRhdGVUaW1lb3V0PW51bGwpLHRoaXMuc3RvcFJlcXVlc3QoKSxcIkhBVkVfTk9USElOR1wiPT09dGhpcy5zdGF0ZSYmKHRoaXMuc3RhcnRlZD0hMSksXCJTV0lUQ0hJTkdfTUVESUFcIj09PXRoaXMuc3RhdGU/dGhpcy5tZWRpYV8/dGhpcy5zdGF0ZT1cIkhBVkVfTUVUQURBVEFcIjp0aGlzLnN0YXRlPVwiSEFWRV9NQUlOX01BTklGRVNUXCI6XCJIQVZFX0NVUlJFTlRfTUVUQURBVEFcIj09PXRoaXMuc3RhdGUmJih0aGlzLnN0YXRlPVwiSEFWRV9NRVRBREFUQVwiKX1sb2FkKGUpe3RoaXMubWVkaWFVcGRhdGVUaW1lb3V0JiYod2luZG93LmNsZWFyVGltZW91dCh0aGlzLm1lZGlhVXBkYXRlVGltZW91dCksdGhpcy5tZWRpYVVwZGF0ZVRpbWVvdXQ9bnVsbCk7dmFyIHQ9dGhpcy5tZWRpYSgpO2U/KGU9dD8odC5wYXJ0VGFyZ2V0RHVyYXRpb258fHQudGFyZ2V0RHVyYXRpb24pLzIqMWUzOjVlMyx0aGlzLm1lZGlhVXBkYXRlVGltZW91dD13aW5kb3cuc2V0VGltZW91dCgoKT0+e3RoaXMubWVkaWFVcGRhdGVUaW1lb3V0PW51bGwsdGhpcy5sb2FkKCl9LGUpKTp0aGlzLnN0YXJ0ZWQ/dCYmIXQuZW5kTGlzdD90aGlzLnRyaWdnZXIoXCJtZWRpYXVwZGF0ZXRpbWVvdXRcIik6dGhpcy50cmlnZ2VyKFwibG9hZGVkcGxheWxpc3RcIik6dGhpcy5zdGFydCgpfXVwZGF0ZU1lZGlhVXBkYXRlVGltZW91dF8oZSl7dGhpcy5tZWRpYVVwZGF0ZVRpbWVvdXQmJih3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMubWVkaWFVcGRhdGVUaW1lb3V0KSx0aGlzLm1lZGlhVXBkYXRlVGltZW91dD1udWxsKSx0aGlzLm1lZGlhKCkmJiF0aGlzLm1lZGlhKCkuZW5kTGlzdCYmKHRoaXMubWVkaWFVcGRhdGVUaW1lb3V0PXdpbmRvdy5zZXRUaW1lb3V0KCgpPT57dGhpcy5tZWRpYVVwZGF0ZVRpbWVvdXQ9bnVsbCx0aGlzLnRyaWdnZXIoXCJtZWRpYXVwZGF0ZXRpbWVvdXRcIiksdGhpcy51cGRhdGVNZWRpYVVwZGF0ZVRpbWVvdXRfKGUpfSxlKSl9c3RhcnQoKXt0aGlzLnN0YXJ0ZWQ9ITAsXCJvYmplY3RcIj09dHlwZW9mIHRoaXMuc3JjPyh0aGlzLnNyYy51cml8fCh0aGlzLnNyYy51cmk9d2luZG93LmxvY2F0aW9uLmhyZWYpLHRoaXMuc3JjLnJlc29sdmVkVXJpPXRoaXMuc3JjLnVyaSxzZXRUaW1lb3V0KCgpPT57dGhpcy5zZXR1cEluaXRpYWxQbGF5bGlzdCh0aGlzLnNyYyl9LDApKTp0aGlzLnJlcXVlc3Q9dGhpcy52aHNfLnhocih7dXJpOnRoaXMuc3JjLHdpdGhDcmVkZW50aWFsczp0aGlzLndpdGhDcmVkZW50aWFsc30sKGUsdCk9PntpZih0aGlzLnJlcXVlc3Qpe2lmKHRoaXMucmVxdWVzdD1udWxsLGUpcmV0dXJuIHRoaXMuZXJyb3I9e3N0YXR1czp0LnN0YXR1cyxtZXNzYWdlOmBITFMgcGxheWxpc3QgcmVxdWVzdCBlcnJvciBhdCBVUkw6ICR7dGhpcy5zcmN9LmAscmVzcG9uc2VUZXh0OnQucmVzcG9uc2VUZXh0LGNvZGU6Mn0sXCJIQVZFX05PVEhJTkdcIj09PXRoaXMuc3RhdGUmJih0aGlzLnN0YXJ0ZWQ9ITEpLHRoaXMudHJpZ2dlcihcImVycm9yXCIpO3RoaXMuc3JjPVVsKHRoaXMuc3JjLHQpO2U9dGhpcy5wYXJzZU1hbmlmZXN0Xyh7bWFuaWZlc3RTdHJpbmc6dC5yZXNwb25zZVRleHQsdXJsOnRoaXMuc3JjfSk7dGhpcy5zZXR1cEluaXRpYWxQbGF5bGlzdChlKX19KX1zcmNVcmkoKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdGhpcy5zcmM/dGhpcy5zcmM6dGhpcy5zcmMudXJpfXNldHVwSW5pdGlhbFBsYXlsaXN0KGUpe3ZhciB0LGkscyxyO3RoaXMuc3RhdGU9XCJIQVZFX01BSU5fTUFOSUZFU1RcIixlLnBsYXlsaXN0cz8odGhpcy5tYWluPWUsdmQodGhpcy5tYWluLHRoaXMuc3JjVXJpKCkpLGUucGxheWxpc3RzLmZvckVhY2godD0+e3Quc2VnbWVudHM9YmQodCksdC5zZWdtZW50cy5mb3JFYWNoKGU9PntTZChlLHQucmVzb2x2ZWRVcmkpfSl9KSx0aGlzLnRyaWdnZXIoXCJsb2FkZWRwbGF5bGlzdFwiKSx0aGlzLnJlcXVlc3R8fHRoaXMubWVkaWEodGhpcy5tYWluLnBsYXlsaXN0c1swXSkpOih0PXRoaXMuc3JjVXJpKCl8fHdpbmRvdy5sb2NhdGlvbi5ocmVmLHRoaXMubWFpbj0oaT10LHM9ZmQoMCxpKSwocj17bWVkaWFHcm91cHM6e0FVRElPOnt9LFZJREVPOnt9LFwiQ0xPU0VELUNBUFRJT05TXCI6e30sU1VCVElUTEVTOnt9fSx1cmk6d2luZG93LmxvY2F0aW9uLmhyZWYscmVzb2x2ZWRVcmk6d2luZG93LmxvY2F0aW9uLmhyZWYscGxheWxpc3RzOlt7dXJpOmksaWQ6cyxyZXNvbHZlZFVyaTppLGF0dHJpYnV0ZXM6e319XX0pLnBsYXlsaXN0c1tzXT1yLnBsYXlsaXN0c1swXSxyLnBsYXlsaXN0c1tpXT1yLnBsYXlsaXN0c1swXSxyKSx0aGlzLmhhdmVNZXRhZGF0YSh7cGxheWxpc3RPYmplY3Q6ZSx1cmw6dCxpZDp0aGlzLm1haW4ucGxheWxpc3RzWzBdLmlkfSksdGhpcy50cmlnZ2VyKFwibG9hZGVkbWV0YWRhdGFcIikpfX1mdW5jdGlvbiBJZChlLHQsaSxzKXt2YXIgcj1cImFycmF5YnVmZmVyXCI9PT1lLnJlc3BvbnNlVHlwZT9lLnJlc3BvbnNlOmUucmVzcG9uc2VUZXh0OyF0JiZyJiYoZS5yZXNwb25zZVRpbWU9RGF0ZS5ub3coKSxlLnJvdW5kVHJpcFRpbWU9ZS5yZXNwb25zZVRpbWUtZS5yZXF1ZXN0VGltZSxlLmJ5dGVzUmVjZWl2ZWQ9ci5ieXRlTGVuZ3RofHxyLmxlbmd0aCxlLmJhbmR3aWR0aHx8KGUuYmFuZHdpZHRoPU1hdGguZmxvb3IoZS5ieXRlc1JlY2VpdmVkL2Uucm91bmRUcmlwVGltZSo4KjFlMykpKSxpLmhlYWRlcnMmJihlLnJlc3BvbnNlSGVhZGVycz1pLmhlYWRlcnMpLHQmJlwiRVRJTUVET1VUXCI9PT10LmNvZGUmJihlLnRpbWVkb3V0PSEwKSxzKHQ9dHx8ZS5hYm9ydGVkfHwyMDA9PT1pLnN0YXR1c0NvZGV8fDIwNj09PWkuc3RhdHVzQ29kZXx8MD09PWkuc3RhdHVzQ29kZT90Om5ldyBFcnJvcihcIlhIUiBGYWlsZWQgd2l0aCBhIHJlc3BvbnNlIG9mOiBcIisoZSYmKHJ8fGUucmVzcG9uc2VUZXh0KSkpLGUpfWZ1bmN0aW9uIHhkKCl7ZnVuY3Rpb24gbihlLGkpe2U9Tyh7dGltZW91dDo0NWUzfSxlKTt2YXIgdD1uLmJlZm9yZVJlcXVlc3R8fFQuVmhzLnhoci5iZWZvcmVSZXF1ZXN0O3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJih0PXQoZSkpJiYoZT10KTtjb25zdCBzPSghMD09PVQuVmhzLnhoci5vcmlnaW5hbD9NZDpULlZocy54aHIpKGUsZnVuY3Rpb24oZSx0KXtyZXR1cm4gSWQocyxlLHQsaSl9KSxyPXMuYWJvcnQ7cmV0dXJuIHMuYWJvcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gcy5hYm9ydGVkPSEwLHIuYXBwbHkocyxhcmd1bWVudHMpfSxzLnVyaT1lLnVyaSxzLnJlcXVlc3RUaW1lPURhdGUubm93KCksc31yZXR1cm4gbi5vcmlnaW5hbD0hMCxufWZ1bmN0aW9uIEFkKGUpe3ZhciB0PXt9O3JldHVybiBlLmJ5dGVyYW5nZSYmKHQuUmFuZ2U9ZnVuY3Rpb24oZSl7bGV0IHQ7cmV0dXJuXCJieXRlcz1cIitlLm9mZnNldCtcIi1cIisodD1cImJpZ2ludFwiPT10eXBlb2YgZS5vZmZzZXR8fFwiYmlnaW50XCI9PXR5cGVvZiBlLmxlbmd0aD93aW5kb3cuQmlnSW50KGUub2Zmc2V0KSt3aW5kb3cuQmlnSW50KGUubGVuZ3RoKS13aW5kb3cuQmlnSW50KDEpOmUub2Zmc2V0K2UubGVuZ3RoLTEpfShlLmJ5dGVyYW5nZSkpLHR9ZnVuY3Rpb24gUGQoZSx0KXtyZXR1cm4gZT1lLnRvU3RyaW5nKDE2KSxcIjAwXCIuc3Vic3RyaW5nKDAsMi1lLmxlbmd0aCkrZSsodCUyP1wiIFwiOlwiXCIpfWZ1bmN0aW9uIExkKGUpe3JldHVybiAzMjw9ZSYmZTwxMjY/U3RyaW5nLmZyb21DaGFyQ29kZShlKTpcIi5cIn1mdW5jdGlvbiBPZChpKXtjb25zdCBzPXt9O3JldHVybiBPYmplY3Qua2V5cyhpKS5mb3JFYWNoKGU9Pnt2YXIgdD1pW2VdO3FuKHQpP3NbZV09e2J5dGVzOnQuYnVmZmVyLGJ5dGVPZmZzZXQ6dC5ieXRlT2Zmc2V0LGJ5dGVMZW5ndGg6dC5ieXRlTGVuZ3RofTpzW2VdPXR9KSxzfWZ1bmN0aW9uIERkKGUpe3ZhciB0PWUuYnl0ZXJhbmdlfHx7bGVuZ3RoOjEvMCxvZmZzZXQ6MH07cmV0dXJuW3QubGVuZ3RoLHQub2Zmc2V0LGUucmVzb2x2ZWRVcmldLmpvaW4oXCIsXCIpfWZ1bmN0aW9uIE5kKGUpe3JldHVybiBlLnJlc29sdmVkVXJpfWNvbnN0IE1kPVRbXCJ4aHJcIl0sUmQ9ZT0+e3ZhciB0LGkscz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlKTtsZXQgcj1cIlwiO2ZvcihsZXQgZT0wO2U8cy5sZW5ndGgvMTY7ZSsrKXQ9cy5zbGljZSgxNiplLDE2KmUrMTYpLm1hcChQZCkuam9pbihcIlwiKSxpPXMuc2xpY2UoMTYqZSwxNiplKzE2KS5tYXAoTGQpLmpvaW4oXCJcIikscis9dCtcIiBcIitpK1wiXFxuXCI7cmV0dXJuIHJ9O09yPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGNyZWF0ZVRyYW5zZmVyYWJsZU1lc3NhZ2U6T2QsaW5pdFNlZ21lbnRJZDpEZCxzZWdtZW50S2V5SWQ6TmQsaGV4RHVtcDpSZCx0YWdEdW1wOih7Ynl0ZXM6ZX0pPT5SZChlKSx0ZXh0UmFuZ2VzOmU9PntsZXQgdD1cIlwiLGk7Zm9yKGk9MDtpPGUubGVuZ3RoO2krKyl0Kz0ocz1lLHI9aSxzLnN0YXJ0KHIpK1wiLVwiK3MuZW5kKHIpK1wiIFwiKTt2YXIgcyxyO3JldHVybiB0fX0pO2NvbnN0IFVkPS4yNSxCZD1lPT5lLnRyYW5zbXV4ZWRQcmVzZW50YXRpb25FbmQtZS50cmFuc211eGVkUHJlc2VudGF0aW9uU3RhcnQtZS50cmFuc211eGVyUHJlcGVuZGVkU2Vjb25kcyxGZD0oe3BsYXlsaXN0OmUsdGltZTp0PXZvaWQgMCxjYWxsYmFjazppfSk9Pnt2YXIgcyxyO2lmKGkpcmV0dXJuIGUmJnZvaWQgMCE9PXQ/KGU9KCh0LGkpPT57aWYoIWl8fCFpLnNlZ21lbnRzfHwwPT09aS5zZWdtZW50cy5sZW5ndGgpcmV0dXJuIG51bGw7bGV0IHM9MCxyO2ZvcihsZXQgZT0wO2U8aS5zZWdtZW50cy5sZW5ndGgmJihyPWkuc2VnbWVudHNbZV0sISh0PD0ocz1yLnZpZGVvVGltaW5nSW5mbz9yLnZpZGVvVGltaW5nSW5mby50cmFuc211eGVkUHJlc2VudGF0aW9uRW5kOnMrci5kdXJhdGlvbikpKTtlKyspO3ZhciBlPWkuc2VnbWVudHNbaS5zZWdtZW50cy5sZW5ndGgtMV07aWYoZS52aWRlb1RpbWluZ0luZm8mJmUudmlkZW9UaW1pbmdJbmZvLnRyYW5zbXV4ZWRQcmVzZW50YXRpb25FbmQ8dClyZXR1cm4gbnVsbDtpZih0PnMpe2lmKHQ+cytlLmR1cmF0aW9uKlVkKXJldHVybiBudWxsO3I9ZX1yZXR1cm57c2VnbWVudDpyLGVzdGltYXRlZFN0YXJ0OnIudmlkZW9UaW1pbmdJbmZvP3IudmlkZW9UaW1pbmdJbmZvLnRyYW5zbXV4ZWRQcmVzZW50YXRpb25TdGFydDpzLXIuZHVyYXRpb24sdHlwZTpyLnZpZGVvVGltaW5nSW5mbz9cImFjY3VyYXRlXCI6XCJlc3RpbWF0ZVwifX0pKHQsZSkpP1wiZXN0aW1hdGVcIj09PWUudHlwZT9pKHttZXNzYWdlOlwiQWNjdXJhdGUgcHJvZ3JhbVRpbWUgY291bGQgbm90IGJlIGRldGVybWluZWQuIFBsZWFzZSBzZWVrIHRvIGUuc2Vla1RpbWUgYW5kIHRyeSBhZ2FpblwiLHNlZWtUaW1lOmUuZXN0aW1hdGVkU3RhcnR9KToocz17bWVkaWFTZWNvbmRzOnR9LHQ9dCwocj0oZT1lLnNlZ21lbnQpLmRhdGVUaW1lT2JqZWN0PyhyPWUudmlkZW9UaW1pbmdJbmZvLnRyYW5zbXV4ZXJQcmVwZW5kZWRTZWNvbmRzLHQ9dC0oZS52aWRlb1RpbWluZ0luZm8udHJhbnNtdXhlZFByZXNlbnRhdGlvblN0YXJ0K3IpLG5ldyBEYXRlKGUuZGF0ZVRpbWVPYmplY3QuZ2V0VGltZSgpKzFlMyp0KSk6bnVsbCkmJihzLnByb2dyYW1EYXRlVGltZT1yLnRvSVNPU3RyaW5nKCkpLGkobnVsbCxzKSk6aSh7bWVzc2FnZTpcInZhbGlkIHByb2dyYW1UaW1lIHdhcyBub3QgZm91bmRcIn0pOmkoe21lc3NhZ2U6XCJnZXRQcm9ncmFtVGltZTogcGxheWxpc3QgYW5kIHRpbWUgbXVzdCBiZSBwcm92aWRlZFwifSk7dGhyb3cgbmV3IEVycm9yKFwiZ2V0UHJvZ3JhbVRpbWU6IGNhbGxiYWNrIG11c3QgYmUgcHJvdmlkZWRcIil9LGpkPSh7cHJvZ3JhbVRpbWU6ZSxwbGF5bGlzdDp0LHJldHJ5Q291bnQ6aT0yLHNlZWtUbzpzLHBhdXNlQWZ0ZXJTZWVrOnI9ITAsdGVjaDpuLGNhbGxiYWNrOmF9KT0+e3ZhciBvLGwsZDtpZihhKXJldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBlJiZ0JiZzP3QuZW5kTGlzdHx8bi5oYXNTdGFydGVkXz8odD0+e2lmKCF0LnNlZ21lbnRzfHwwPT09dC5zZWdtZW50cy5sZW5ndGgpcmV0dXJuITE7Zm9yKGxldCBlPTA7ZTx0LnNlZ21lbnRzLmxlbmd0aDtlKyspaWYoIXQuc2VnbWVudHNbZV0uZGF0ZVRpbWVPYmplY3QpcmV0dXJuITE7cmV0dXJuITB9KSh0KT8oZD0oKGUsdCk9PntsZXQgaTt0cnl7aT1uZXcgRGF0ZShlKX1jYXRjaChlKXtyZXR1cm4gbnVsbH1pZighdHx8IXQuc2VnbWVudHN8fDA9PT10LnNlZ21lbnRzLmxlbmd0aClyZXR1cm4gbnVsbDtsZXQgcz10LnNlZ21lbnRzWzBdO2lmKGk8cy5kYXRlVGltZU9iamVjdClyZXR1cm4gbnVsbDtmb3IobGV0IGU9MDtlPHQuc2VnbWVudHMubGVuZ3RoLTE7ZSsrKXtzPXQuc2VnbWVudHNbZV07dmFyIHI9dC5zZWdtZW50c1tlKzFdLmRhdGVUaW1lT2JqZWN0O2lmKGk8cilicmVha312YXIgZT10LnNlZ21lbnRzW3Quc2VnbWVudHMubGVuZ3RoLTFdLG49ZS5kYXRlVGltZU9iamVjdCxhPWUudmlkZW9UaW1pbmdJbmZvP0JkKGUudmlkZW9UaW1pbmdJbmZvKTplLmR1cmF0aW9uK2UuZHVyYXRpb24qVWQsYT1uZXcgRGF0ZShuLmdldFRpbWUoKSsxZTMqYSk7cmV0dXJuIGk+YT9udWxsOntzZWdtZW50OnM9aT5uP2U6cyxlc3RpbWF0ZWRTdGFydDpzLnZpZGVvVGltaW5nSW5mbz9zLnZpZGVvVGltaW5nSW5mby50cmFuc211eGVkUHJlc2VudGF0aW9uU3RhcnQ6bWQuZHVyYXRpb24odCx0Lm1lZGlhU2VxdWVuY2UrdC5zZWdtZW50cy5pbmRleE9mKHMpKSx0eXBlOnMudmlkZW9UaW1pbmdJbmZvP1wiYWNjdXJhdGVcIjpcImVzdGltYXRlXCJ9fSkoZSx0KSk/KGw9KChlLHQpPT57bGV0IGksczt0cnl7aT1uZXcgRGF0ZShlKSxzPW5ldyBEYXRlKHQpfWNhdGNoKGUpe31lPWkuZ2V0VGltZSgpO3JldHVybihzLmdldFRpbWUoKS1lKS8xZTN9KSgobz1kLnNlZ21lbnQpLmRhdGVUaW1lT2JqZWN0LGUpLFwiZXN0aW1hdGVcIj09PWQudHlwZT8wPT09aT9hKHttZXNzYWdlOmUrXCIgaXMgbm90IGJ1ZmZlcmVkIHlldC4gVHJ5IGFnYWluXCJ9KToocyhkLmVzdGltYXRlZFN0YXJ0K2wpLHZvaWQgbi5vbmUoXCJzZWVrZWRcIiwoKT0+e2pkKHtwcm9ncmFtVGltZTplLHBsYXlsaXN0OnQscmV0cnlDb3VudDppLTEsc2Vla1RvOnMscGF1c2VBZnRlclNlZWs6cix0ZWNoOm4sY2FsbGJhY2s6YX0pfSkpOihkPW8uc3RhcnQrbCxuLm9uZShcInNlZWtlZFwiLCgpPT5hKG51bGwsbi5jdXJyZW50VGltZSgpKSksciYmbi5wYXVzZSgpLHZvaWQgcyhkKSkpOmEoe21lc3NhZ2U6ZStcIiB3YXMgbm90IGZvdW5kIGluIHRoZSBzdHJlYW1cIn0pOmEoe21lc3NhZ2U6XCJwcm9ncmFtRGF0ZVRpbWUgdGFncyBtdXN0IGJlIHByb3ZpZGVkIGluIHRoZSBtYW5pZmVzdCBcIit0LnJlc29sdmVkVXJpfSk6YSh7bWVzc2FnZTpcInBsYXllciBtdXN0IGJlIHBsYXlpbmcgYSBsaXZlIHN0cmVhbSB0byBzdGFydCBidWZmZXJpbmdcIn0pOmEoe21lc3NhZ2U6XCJzZWVrVG9Qcm9ncmFtVGltZTogcHJvZ3JhbVRpbWUsIHNlZWtUbyBhbmQgcGxheWxpc3QgbXVzdCBiZSBwcm92aWRlZFwifSk7dGhyb3cgbmV3IEVycm9yKFwic2Vla1RvUHJvZ3JhbVRpbWU6IGNhbGxiYWNrIG11c3QgYmUgcHJvdmlkZWRcIil9LEhkPShlLHQpPT57aWYoND09PWUucmVhZHlTdGF0ZSlyZXR1cm4gdCgpfSxxZD0oZSx0LHIpPT57bGV0IHM9W10sbixhPSExO2Z1bmN0aW9uIG8oZSx0LGkscyl7cmV0dXJuIHQuYWJvcnQoKSxhPSEwLHIoZSx0LGkscyl9ZnVuY3Rpb24gaShlLHQpe3ZhciBpO2lmKCFhKXJldHVybiBlP28oZSx0LFwiXCIscyk6KGk9dC5yZXNwb25zZVRleHQuc3Vic3RyaW5nKHMmJnMuYnl0ZUxlbmd0aHx8MCx0LnJlc3BvbnNlVGV4dC5sZW5ndGgpLHM9ZnVuY3Rpb24oKXtmb3IodmFyIGUsdCxpLHM9YXJndW1lbnRzLmxlbmd0aCxyPW5ldyBBcnJheShzKSxuPTA7bjxzO24rKylyW25dPWFyZ3VtZW50c1tuXTtyZXR1cm4ocj1yLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZSYmKGUuYnl0ZUxlbmd0aHx8ZS5sZW5ndGgpJiZcInN0cmluZ1wiIT10eXBlb2YgZX0pKS5sZW5ndGg8PTE/UyhyWzBdKTooZT1yLnJlZHVjZShmdW5jdGlvbihlLHQsaSl7cmV0dXJuIGUrKHQuYnl0ZUxlbmd0aHx8dC5sZW5ndGgpfSwwKSx0PW5ldyBVaW50OEFycmF5KGUpLGk9MCxyLmZvckVhY2goZnVuY3Rpb24oZSl7ZT1TKGUpLHQuc2V0KGUsaSksaSs9ZS5ieXRlTGVuZ3RofSksdCl9KHMsTG4oaSwhMCkpLG49bnx8Y2wocykscy5sZW5ndGg8MTB8fG4mJnMubGVuZ3RoPG4rMnx8XCJ0c1wiPT09KGk9X2wocykpJiZzLmxlbmd0aDwxODh8fCFpJiZzLmxlbmd0aDwzNzY/SGQodCwoKT0+byhlLHQsXCJcIixzKSk6byhudWxsLHQsaSxzKSl9Y29uc3QgbD10KHt1cmk6ZSxiZWZvcmVTZW5kKGUpe2Uub3ZlcnJpZGVNaW1lVHlwZShcInRleHQvcGxhaW47IGNoYXJzZXQ9eC11c2VyLWRlZmluZWRcIiksZS5hZGRFdmVudExpc3RlbmVyKFwicHJvZ3Jlc3NcIixmdW5jdGlvbih7fSl7cmV0dXJuIElkKGUsbnVsbCx7c3RhdHVzQ29kZTplLnN0YXR1c30saSl9KX19LGZ1bmN0aW9uKGUsdCl7cmV0dXJuIElkKGwsZSx0LGkpfSk7cmV0dXJuIGx9O01pPVQuRXZlbnRUYXJnZXQ7ZnVuY3Rpb24gVmQodCxpKXtpZighd2QodCxpKSlyZXR1cm4hMTtpZih0LnNpZHgmJmkuc2lkeCYmKHQuc2lkeC5vZmZzZXQhPT1pLnNpZHgub2Zmc2V0fHx0LnNpZHgubGVuZ3RoIT09aS5zaWR4Lmxlbmd0aCkpcmV0dXJuITE7aWYoIXQuc2lkeCYmaS5zaWR4fHx0LnNpZHgmJiFpLnNpZHgpcmV0dXJuITE7aWYodC5zZWdtZW50cyYmIWkuc2VnbWVudHN8fCF0LnNlZ21lbnRzJiZpLnNlZ21lbnRzKXJldHVybiExO2lmKHQuc2VnbWVudHN8fGkuc2VnbWVudHMpZm9yKGxldCBlPTA7ZTx0LnNlZ21lbnRzLmxlbmd0aDtlKyspe3ZhciBzPXQuc2VnbWVudHNbZV0scj1pLnNlZ21lbnRzW2VdO2lmKHMudXJpIT09ci51cmkpcmV0dXJuITE7aWYocy5ieXRlcmFuZ2V8fHIuYnl0ZXJhbmdlKXtzPXMuYnl0ZXJhbmdlLHI9ci5ieXRlcmFuZ2U7aWYocyYmIXJ8fCFzJiZyKXJldHVybiExO2lmKHMub2Zmc2V0IT09ci5vZmZzZXR8fHMubGVuZ3RoIT09ci5sZW5ndGgpcmV0dXJuITF9fXJldHVybiEwfWNvbnN0ICRkPShlLHQsaSxzKT0+e3JldHVybmBwbGFjZWhvbGRlci11cmktJHtlfS0ke3R9LWArKHMuYXR0cmlidXRlcy5OQU1FfHxpKX0sV2Q9KHttYWluWG1sOmUsc3JjVXJsOnQsY2xpZW50T2Zmc2V0Omksc2lkeE1hcHBpbmc6cyxwcmV2aW91c01hbmlmZXN0OnJ9KT0+e2U9ZSxpPXttYW5pZmVzdFVyaTp0LGNsaWVudE9mZnNldDppLHNpZHhNYXBwaW5nOnMscHJldmlvdXNNYW5pZmVzdDpyfSxlPWRsKGhsKGUpLGkpLHM9dGwoZS5yZXByZXNlbnRhdGlvbkluZm8pO3I9WG8oe2Rhc2hQbGF5bGlzdHM6cyxsb2NhdGlvbnM6ZS5sb2NhdGlvbnMsc2lkeE1hcHBpbmc6aS5zaWR4TWFwcGluZyxwcmV2aW91c01hbmlmZXN0OmkucHJldmlvdXNNYW5pZmVzdH0pO3JldHVybiB2ZChyLHQsJGQpLHJ9LEdkPShlLHQsaSk9PntsZXQgYT0hMCxvPU8oZSx7ZHVyYXRpb246dC5kdXJhdGlvbixtaW5pbXVtVXBkYXRlUGVyaW9kOnQubWluaW11bVVwZGF0ZVBlcmlvZCx0aW1lbGluZVN0YXJ0czp0LnRpbWVsaW5lU3RhcnRzfSk7Zm9yKGxldCBlPTA7ZTx0LnBsYXlsaXN0cy5sZW5ndGg7ZSsrKXt2YXIgcz10LnBsYXlsaXN0c1tlXSxyPShzLnNpZHgmJihyPUZvKHMuc2lkeCksaSkmJmlbcl0mJmlbcl0uc2lkeCYmRG8ocyxpW3JdLnNpZHgscy5zaWR4LnJlc29sdmVkVXJpKSxFZChvLHMsVmQpKTtyJiYobz1yLGE9ITEpfXZhciBuLGw7cmV0dXJuIHlkKHQsKGUsdCxpLHMpPT57dmFyIHIsbjtlLnBsYXlsaXN0cyYmZS5wbGF5bGlzdHMubGVuZ3RoJiYocj1lLnBsYXlsaXN0c1swXS5pZCxuPUVkKG8sZS5wbGF5bGlzdHNbMF0sVmQpKSYmKHMgaW4obz1uKS5tZWRpYUdyb3Vwc1t0XVtpXXx8KG8ubWVkaWFHcm91cHNbdF1baV1bc109ZSksby5tZWRpYUdyb3Vwc1t0XVtpXVtzXS5wbGF5bGlzdHNbMF09by5wbGF5bGlzdHNbcl0sYT0hMSl9KSxuPW8sbD10LHlkKG4sKGUsdCxpLHMpPT57cyBpbiBsLm1lZGlhR3JvdXBzW3RdW2ldfHxkZWxldGUgbi5tZWRpYUdyb3Vwc1t0XVtpXVtzXX0pLChhPXQubWluaW11bVVwZGF0ZVBlcmlvZD09PWUubWluaW11bVVwZGF0ZVBlcmlvZCYmYSk/bnVsbDpvfSx6ZD0oZSx0KT0+e3JldHVybihCb29sZWFuKCFlLm1hcCYmIXQubWFwKXx8Qm9vbGVhbihlLm1hcCYmdC5tYXAmJmUubWFwLmJ5dGVyYW5nZS5vZmZzZXQ9PT10Lm1hcC5ieXRlcmFuZ2Uub2Zmc2V0JiZlLm1hcC5ieXRlcmFuZ2UubGVuZ3RoPT09dC5tYXAuYnl0ZXJhbmdlLmxlbmd0aCkpJiZlLnVyaT09PXQudXJpJiZlLmJ5dGVyYW5nZS5vZmZzZXQ9PT10LmJ5dGVyYW5nZS5vZmZzZXQmJmUuYnl0ZXJhbmdlLmxlbmd0aD09PXQuYnl0ZXJhbmdlLmxlbmd0aH0sWGQ9KGUsdCk9Pnt2YXIgaT17fTtmb3IoY29uc3QgYSBpbiBlKXt2YXIgcz1lW2FdLnNpZHg7aWYocyl7dmFyIHI9Rm8ocyk7aWYoIXRbcl0pYnJlYWs7dmFyIG49dFtyXS5zaWR4SW5mbzt6ZChuLHMpJiYoaVtyXT10W3JdKX19cmV0dXJuIGl9O2NsYXNzIEtkIGV4dGVuZHMgTWl7Y29uc3RydWN0b3IoZSx0LGk9e30scyl7c3VwZXIoKSx0aGlzLm1haW5QbGF5bGlzdExvYWRlcl89c3x8dGhpcyxzfHwodGhpcy5pc01haW5fPSEwKTt2YXJ7d2l0aENyZWRlbnRpYWxzOnM9ITF9PWk7aWYodGhpcy52aHNfPXQsdGhpcy53aXRoQ3JlZGVudGlhbHM9cywhZSl0aHJvdyBuZXcgRXJyb3IoXCJBIG5vbi1lbXB0eSBwbGF5bGlzdCBVUkwgb3Igb2JqZWN0IGlzIHJlcXVpcmVkXCIpO3RoaXMub24oXCJtaW5pbXVtVXBkYXRlUGVyaW9kXCIsKCk9Pnt0aGlzLnJlZnJlc2hYbWxfKCl9KSx0aGlzLm9uKFwibWVkaWF1cGRhdGV0aW1lb3V0XCIsKCk9Pnt0aGlzLnJlZnJlc2hNZWRpYV8odGhpcy5tZWRpYSgpLmlkKX0pLHRoaXMuc3RhdGU9XCJIQVZFX05PVEhJTkdcIix0aGlzLmxvYWRlZFBsYXlsaXN0c189e30sdGhpcy5sb2dnZXJfPUJsKFwiRGFzaFBsYXlsaXN0TG9hZGVyXCIpLHRoaXMuaXNNYWluXz8odGhpcy5tYWluUGxheWxpc3RMb2FkZXJfLnNyY1VybD1lLHRoaXMubWFpblBsYXlsaXN0TG9hZGVyXy5zaWR4TWFwcGluZ189e30pOnRoaXMuY2hpbGRQbGF5bGlzdF89ZX1yZXF1ZXN0RXJyb3JlZF8oZSx0LGkpe3JldHVybiF0aGlzLnJlcXVlc3R8fCh0aGlzLnJlcXVlc3Q9bnVsbCxlPyh0aGlzLmVycm9yPVwib2JqZWN0XCIhPXR5cGVvZiBlfHxlIGluc3RhbmNlb2YgRXJyb3I/e3N0YXR1czp0LnN0YXR1cyxtZXNzYWdlOlwiREFTSCByZXF1ZXN0IGVycm9yIGF0IFVSTDogXCIrdC51cmkscmVzcG9uc2U6dC5yZXNwb25zZSxjb2RlOjJ9OmUsaSYmKHRoaXMuc3RhdGU9aSksdGhpcy50cmlnZ2VyKFwiZXJyb3JcIiksITApOnZvaWQgMCl9YWRkU2lkeFNlZ21lbnRzXyhhLHMscil7Y29uc3Qgbj1hLnNpZHgmJkZvKGEuc2lkeCk7aWYoYS5zaWR4JiZuJiYhdGhpcy5tYWluUGxheWxpc3RMb2FkZXJfLnNpZHhNYXBwaW5nX1tuXSl7Y29uc3Qgbz1VbChhLnNpZHgucmVzb2x2ZWRVcmkpLGw9KHQsaSk9PntpZighdGhpcy5yZXF1ZXN0RXJyb3JlZF8odCxpLHMpKXt0PXRoaXMubWFpblBsYXlsaXN0TG9hZGVyXy5zaWR4TWFwcGluZ187bGV0IGU7dHJ5e2U9VGwoUyhpLnJlc3BvbnNlKS5zdWJhcnJheSg4KSl9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgdGhpcy5yZXF1ZXN0RXJyb3JlZF8oZSxpLHMpfXJldHVybiB0W25dPXtzaWR4SW5mbzphLnNpZHgsc2lkeDplfSxEbyhhLGUsYS5zaWR4LnJlc29sdmVkVXJpKSxyKCEwKX19O3RoaXMucmVxdWVzdD1xZChvLHRoaXMudmhzXy54aHIsKGUsdCxpLHMpPT57dmFyIHIsbjtyZXR1cm4gZT9sKGUsdCk6aSYmXCJtcDRcIj09PWk/KHtvZmZzZXQ6cixsZW5ndGg6bn09YS5zaWR4LmJ5dGVyYW5nZSxzLmxlbmd0aD49bityP2woZSx7cmVzcG9uc2U6cy5zdWJhcnJheShyLHIrbiksc3RhdHVzOnQuc3RhdHVzLHVyaTp0LnVyaX0pOnZvaWQodGhpcy5yZXF1ZXN0PXRoaXMudmhzXy54aHIoe3VyaTpvLHJlc3BvbnNlVHlwZTpcImFycmF5YnVmZmVyXCIsaGVhZGVyczpBZCh7Ynl0ZXJhbmdlOmEuc2lkeC5ieXRlcmFuZ2V9KX0sbCkpKTpsKHtzdGF0dXM6dC5zdGF0dXMsbWVzc2FnZTpgVW5zdXBwb3J0ZWQgJHtpfHxcInVua25vd25cIn0gY29udGFpbmVyIHR5cGUgZm9yIHNpZHggc2VnbWVudCBhdCBVUkw6IGArbyxyZXNwb25zZTpcIlwiLHBsYXlsaXN0OmEsaW50ZXJuYWw6ITAscGxheWxpc3RFeGNsdXNpb25EdXJhdGlvbjoxLzAsY29kZToyfSx0KX0pfWVsc2UgdGhpcy5tZWRpYVJlcXVlc3RfPXdpbmRvdy5zZXRUaW1lb3V0KCgpPT5yKCExKSwwKX1kaXNwb3NlKCl7dGhpcy50cmlnZ2VyKFwiZGlzcG9zZVwiKSx0aGlzLnN0b3BSZXF1ZXN0KCksdGhpcy5sb2FkZWRQbGF5bGlzdHNfPXt9LHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5taW5pbXVtVXBkYXRlUGVyaW9kVGltZW91dF8pLHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5tZWRpYVJlcXVlc3RfKSx3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMubWVkaWFVcGRhdGVUaW1lb3V0KSx0aGlzLm1lZGlhVXBkYXRlVGltZW91dD1udWxsLHRoaXMubWVkaWFSZXF1ZXN0Xz1udWxsLHRoaXMubWluaW11bVVwZGF0ZVBlcmlvZFRpbWVvdXRfPW51bGwsdGhpcy5tYWluUGxheWxpc3RMb2FkZXJfLmNyZWF0ZU11cE9uTWVkaWFfJiYodGhpcy5vZmYoXCJsb2FkZWRtZXRhZGF0YVwiLHRoaXMubWFpblBsYXlsaXN0TG9hZGVyXy5jcmVhdGVNdXBPbk1lZGlhXyksdGhpcy5tYWluUGxheWxpc3RMb2FkZXJfLmNyZWF0ZU11cE9uTWVkaWFfPW51bGwpLHRoaXMub2ZmKCl9aGFzUGVuZGluZ1JlcXVlc3QoKXtyZXR1cm4gdGhpcy5yZXF1ZXN0fHx0aGlzLm1lZGlhUmVxdWVzdF99c3RvcFJlcXVlc3QoKXt2YXIgZTt0aGlzLnJlcXVlc3QmJihlPXRoaXMucmVxdWVzdCx0aGlzLnJlcXVlc3Q9bnVsbCxlLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLGUuYWJvcnQoKSl9bWVkaWEodCl7aWYoIXQpcmV0dXJuIHRoaXMubWVkaWFfO2lmKFwiSEFWRV9OT1RISU5HXCI9PT10aGlzLnN0YXRlKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBzd2l0Y2ggbWVkaWEgcGxheWxpc3QgZnJvbSBcIit0aGlzLnN0YXRlKTtjb25zdCBpPXRoaXMuc3RhdGU7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpe2lmKCF0aGlzLm1haW5QbGF5bGlzdExvYWRlcl8ubWFpbi5wbGF5bGlzdHNbdF0pdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBwbGF5bGlzdCBVUkk6IFwiK3QpO3Q9dGhpcy5tYWluUGxheWxpc3RMb2FkZXJfLm1haW4ucGxheWxpc3RzW3RdfXZhciBlPSF0aGlzLm1lZGlhX3x8dC5pZCE9PXRoaXMubWVkaWFfLmlkO2UmJnRoaXMubG9hZGVkUGxheWxpc3RzX1t0LmlkXSYmdGhpcy5sb2FkZWRQbGF5bGlzdHNfW3QuaWRdLmVuZExpc3Q/KHRoaXMuc3RhdGU9XCJIQVZFX01FVEFEQVRBXCIsdGhpcy5tZWRpYV89dCxlJiYodGhpcy50cmlnZ2VyKFwibWVkaWFjaGFuZ2luZ1wiKSx0aGlzLnRyaWdnZXIoXCJtZWRpYWNoYW5nZVwiKSkpOmUmJih0aGlzLm1lZGlhXyYmdGhpcy50cmlnZ2VyKFwibWVkaWFjaGFuZ2luZ1wiKSx0aGlzLmFkZFNpZHhTZWdtZW50c18odCxpLGU9Pnt0aGlzLmhhdmVNZXRhZGF0YSh7c3RhcnRpbmdTdGF0ZTppLHBsYXlsaXN0OnR9KX0pKX1oYXZlTWV0YWRhdGEoe3N0YXJ0aW5nU3RhdGU6ZSxwbGF5bGlzdDp0fSl7dGhpcy5zdGF0ZT1cIkhBVkVfTUVUQURBVEFcIix0aGlzLmxvYWRlZFBsYXlsaXN0c19bdC5pZF09dCx0aGlzLm1lZGlhUmVxdWVzdF89bnVsbCx0aGlzLnJlZnJlc2hNZWRpYV8odC5pZCksXCJIQVZFX01BSU5fTUFOSUZFU1RcIj09PWU/dGhpcy50cmlnZ2VyKFwibG9hZGVkbWV0YWRhdGFcIik6dGhpcy50cmlnZ2VyKFwibWVkaWFjaGFuZ2VcIil9cGF1c2UoKXt0aGlzLm1haW5QbGF5bGlzdExvYWRlcl8uY3JlYXRlTXVwT25NZWRpYV8mJih0aGlzLm9mZihcImxvYWRlZG1ldGFkYXRhXCIsdGhpcy5tYWluUGxheWxpc3RMb2FkZXJfLmNyZWF0ZU11cE9uTWVkaWFfKSx0aGlzLm1haW5QbGF5bGlzdExvYWRlcl8uY3JlYXRlTXVwT25NZWRpYV89bnVsbCksdGhpcy5zdG9wUmVxdWVzdCgpLHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5tZWRpYVVwZGF0ZVRpbWVvdXQpLHRoaXMubWVkaWFVcGRhdGVUaW1lb3V0PW51bGwsdGhpcy5pc01haW5fJiYod2luZG93LmNsZWFyVGltZW91dCh0aGlzLm1haW5QbGF5bGlzdExvYWRlcl8ubWluaW11bVVwZGF0ZVBlcmlvZFRpbWVvdXRfKSx0aGlzLm1haW5QbGF5bGlzdExvYWRlcl8ubWluaW11bVVwZGF0ZVBlcmlvZFRpbWVvdXRfPW51bGwpLFwiSEFWRV9OT1RISU5HXCI9PT10aGlzLnN0YXRlJiYodGhpcy5zdGFydGVkPSExKX1sb2FkKGUpe3dpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5tZWRpYVVwZGF0ZVRpbWVvdXQpLHRoaXMubWVkaWFVcGRhdGVUaW1lb3V0PW51bGw7dmFyIHQ9dGhpcy5tZWRpYSgpO2U/KGU9dD90LnRhcmdldER1cmF0aW9uLzIqMWUzOjVlMyx0aGlzLm1lZGlhVXBkYXRlVGltZW91dD13aW5kb3cuc2V0VGltZW91dCgoKT0+dGhpcy5sb2FkKCksZSkpOnRoaXMuc3RhcnRlZD90JiYhdC5lbmRMaXN0Pyh0aGlzLmlzTWFpbl8mJiF0aGlzLm1pbmltdW1VcGRhdGVQZXJpb2RUaW1lb3V0XyYmKHRoaXMudHJpZ2dlcihcIm1pbmltdW1VcGRhdGVQZXJpb2RcIiksdGhpcy51cGRhdGVNaW5pbXVtVXBkYXRlUGVyaW9kVGltZW91dF8oKSksdGhpcy50cmlnZ2VyKFwibWVkaWF1cGRhdGV0aW1lb3V0XCIpKTp0aGlzLnRyaWdnZXIoXCJsb2FkZWRwbGF5bGlzdFwiKTp0aGlzLnN0YXJ0KCl9c3RhcnQoKXt0aGlzLnN0YXJ0ZWQ9ITAsdGhpcy5pc01haW5fP3RoaXMucmVxdWVzdE1haW5fKChlLHQpPT57dGhpcy5oYXZlTWFpbl8oKSx0aGlzLmhhc1BlbmRpbmdSZXF1ZXN0KCl8fHRoaXMubWVkaWFffHx0aGlzLm1lZGlhKHRoaXMubWFpblBsYXlsaXN0TG9hZGVyXy5tYWluLnBsYXlsaXN0c1swXSl9KTp0aGlzLm1lZGlhUmVxdWVzdF89d2luZG93LnNldFRpbWVvdXQoKCk9PnRoaXMuaGF2ZU1haW5fKCksMCl9cmVxdWVzdE1haW5fKHMpe3RoaXMucmVxdWVzdD10aGlzLnZoc18ueGhyKHt1cmk6dGhpcy5tYWluUGxheWxpc3RMb2FkZXJfLnNyY1VybCx3aXRoQ3JlZGVudGlhbHM6dGhpcy53aXRoQ3JlZGVudGlhbHN9LChlLHQpPT57aWYodGhpcy5yZXF1ZXN0RXJyb3JlZF8oZSx0KSlcIkhBVkVfTk9USElOR1wiPT09dGhpcy5zdGF0ZSYmKHRoaXMuc3RhcnRlZD0hMSk7ZWxzZXtjb25zdCBpPXQucmVzcG9uc2VUZXh0IT09dGhpcy5tYWluUGxheWxpc3RMb2FkZXJfLm1haW5YbWxfO2lmKHRoaXMubWFpblBsYXlsaXN0TG9hZGVyXy5tYWluWG1sXz10LnJlc3BvbnNlVGV4dCx0LnJlc3BvbnNlSGVhZGVycyYmdC5yZXNwb25zZUhlYWRlcnMuZGF0ZT90aGlzLm1haW5Mb2FkZWRfPURhdGUucGFyc2UodC5yZXNwb25zZUhlYWRlcnMuZGF0ZSk6dGhpcy5tYWluTG9hZGVkXz1EYXRlLm5vdygpLHRoaXMubWFpblBsYXlsaXN0TG9hZGVyXy5zcmNVcmw9VWwodGhpcy5tYWluUGxheWxpc3RMb2FkZXJfLnNyY1VybCx0KSwhaSlyZXR1cm4gcyh0LGkpO3RoaXMuaGFuZGxlTWFpbl8oKSx0aGlzLnN5bmNDbGllbnRTZXJ2ZXJDbG9ja18oKCk9PnModCxpKSl9fSl9c3luY0NsaWVudFNlcnZlckNsb2NrXyhzKXtjb25zdCByPXVsKHRoaXMubWFpblBsYXlsaXN0TG9hZGVyXy5tYWluWG1sXyk7cmV0dXJuIG51bGw9PT1yPyh0aGlzLm1haW5QbGF5bGlzdExvYWRlcl8uY2xpZW50T2Zmc2V0Xz10aGlzLm1haW5Mb2FkZWRfLURhdGUubm93KCkscygpKTpcIkRJUkVDVFwiPT09ci5tZXRob2Q/KHRoaXMubWFpblBsYXlsaXN0TG9hZGVyXy5jbGllbnRPZmZzZXRfPXIudmFsdWUtRGF0ZS5ub3coKSxzKCkpOnZvaWQodGhpcy5yZXF1ZXN0PXRoaXMudmhzXy54aHIoe3VyaTpSbCh0aGlzLm1haW5QbGF5bGlzdExvYWRlcl8uc3JjVXJsLHIudmFsdWUpLG1ldGhvZDpyLm1ldGhvZCx3aXRoQ3JlZGVudGlhbHM6dGhpcy53aXRoQ3JlZGVudGlhbHN9LCh0LGkpPT57aWYodGhpcy5yZXF1ZXN0KXtpZih0KXJldHVybiB0aGlzLm1haW5QbGF5bGlzdExvYWRlcl8uY2xpZW50T2Zmc2V0Xz10aGlzLm1haW5Mb2FkZWRfLURhdGUubm93KCkscygpO2xldCBlO2U9XCJIRUFEXCI9PT1yLm1ldGhvZD9pLnJlc3BvbnNlSGVhZGVycyYmaS5yZXNwb25zZUhlYWRlcnMuZGF0ZT9EYXRlLnBhcnNlKGkucmVzcG9uc2VIZWFkZXJzLmRhdGUpOnRoaXMubWFpbkxvYWRlZF86RGF0ZS5wYXJzZShpLnJlc3BvbnNlVGV4dCksdGhpcy5tYWluUGxheWxpc3RMb2FkZXJfLmNsaWVudE9mZnNldF89ZS1EYXRlLm5vdygpLHMoKX19KSl9aGF2ZU1haW5fKCl7dGhpcy5zdGF0ZT1cIkhBVkVfTUFJTl9NQU5JRkVTVFwiLHRoaXMuaXNNYWluXz90aGlzLnRyaWdnZXIoXCJsb2FkZWRwbGF5bGlzdFwiKTp0aGlzLm1lZGlhX3x8dGhpcy5tZWRpYSh0aGlzLmNoaWxkUGxheWxpc3RfKX1oYW5kbGVNYWluXygpe3RoaXMubWVkaWFSZXF1ZXN0Xz1udWxsO3ZhciBlPXRoaXMubWFpblBsYXlsaXN0TG9hZGVyXy5tYWluO2xldCB0PVdkKHttYWluWG1sOnRoaXMubWFpblBsYXlsaXN0TG9hZGVyXy5tYWluWG1sXyxzcmNVcmw6dGhpcy5tYWluUGxheWxpc3RMb2FkZXJfLnNyY1VybCxjbGllbnRPZmZzZXQ6dGhpcy5tYWluUGxheWxpc3RMb2FkZXJfLmNsaWVudE9mZnNldF8sc2lkeE1hcHBpbmc6dGhpcy5tYWluUGxheWxpc3RMb2FkZXJfLnNpZHhNYXBwaW5nXyxwcmV2aW91c01hbmlmZXN0OmV9KTtlJiYodD1HZChlLHQsdGhpcy5tYWluUGxheWxpc3RMb2FkZXJfLnNpZHhNYXBwaW5nXykpLHRoaXMubWFpblBsYXlsaXN0TG9hZGVyXy5tYWluPXR8fGU7dmFyIGk9dGhpcy5tYWluUGxheWxpc3RMb2FkZXJfLm1haW4ubG9jYXRpb25zJiZ0aGlzLm1haW5QbGF5bGlzdExvYWRlcl8ubWFpbi5sb2NhdGlvbnNbMF07cmV0dXJuIGkmJmkhPT10aGlzLm1haW5QbGF5bGlzdExvYWRlcl8uc3JjVXJsJiYodGhpcy5tYWluUGxheWxpc3RMb2FkZXJfLnNyY1VybD1pKSwoIWV8fHQmJnQubWluaW11bVVwZGF0ZVBlcmlvZCE9PWUubWluaW11bVVwZGF0ZVBlcmlvZCkmJnRoaXMudXBkYXRlTWluaW11bVVwZGF0ZVBlcmlvZFRpbWVvdXRfKCksQm9vbGVhbih0KX11cGRhdGVNaW5pbXVtVXBkYXRlUGVyaW9kVGltZW91dF8oKXt2YXIgZT10aGlzLm1haW5QbGF5bGlzdExvYWRlcl87ZS5jcmVhdGVNdXBPbk1lZGlhXyYmKGUub2ZmKFwibG9hZGVkbWV0YWRhdGFcIixlLmNyZWF0ZU11cE9uTWVkaWFfKSxlLmNyZWF0ZU11cE9uTWVkaWFfPW51bGwpLGUubWluaW11bVVwZGF0ZVBlcmlvZFRpbWVvdXRfJiYod2luZG93LmNsZWFyVGltZW91dChlLm1pbmltdW1VcGRhdGVQZXJpb2RUaW1lb3V0XyksZS5taW5pbXVtVXBkYXRlUGVyaW9kVGltZW91dF89bnVsbCk7bGV0IHQ9ZS5tYWluJiZlLm1haW4ubWluaW11bVVwZGF0ZVBlcmlvZDswPT09dCYmKGUubWVkaWEoKT90PTFlMyplLm1lZGlhKCkudGFyZ2V0RHVyYXRpb246KGUuY3JlYXRlTXVwT25NZWRpYV89ZS51cGRhdGVNaW5pbXVtVXBkYXRlUGVyaW9kVGltZW91dF8sZS5vbmUoXCJsb2FkZWRtZXRhZGF0YVwiLGUuY3JlYXRlTXVwT25NZWRpYV8pKSksXCJudW1iZXJcIiE9dHlwZW9mIHR8fHQ8PTA/dDwwJiZ0aGlzLmxvZ2dlcl8oYGZvdW5kIGludmFsaWQgbWluaW11bVVwZGF0ZVBlcmlvZCBvZiAke3R9LCBub3Qgc2V0dGluZyBhIHRpbWVvdXRgKTp0aGlzLmNyZWF0ZU1VUFRpbWVvdXRfKHQpfWNyZWF0ZU1VUFRpbWVvdXRfKGUpe2NvbnN0IHQ9dGhpcy5tYWluUGxheWxpc3RMb2FkZXJfO3QubWluaW11bVVwZGF0ZVBlcmlvZFRpbWVvdXRfPXdpbmRvdy5zZXRUaW1lb3V0KCgpPT57dC5taW5pbXVtVXBkYXRlUGVyaW9kVGltZW91dF89bnVsbCx0LnRyaWdnZXIoXCJtaW5pbXVtVXBkYXRlUGVyaW9kXCIpLHQuY3JlYXRlTVVQVGltZW91dF8oZSl9LGUpfXJlZnJlc2hYbWxfKCl7dGhpcy5yZXF1ZXN0TWFpbl8oKGUsdCk9Pnt0JiYodGhpcy5tZWRpYV8mJih0aGlzLm1lZGlhXz10aGlzLm1haW5QbGF5bGlzdExvYWRlcl8ubWFpbi5wbGF5bGlzdHNbdGhpcy5tZWRpYV8uaWRdKSx0aGlzLm1haW5QbGF5bGlzdExvYWRlcl8uc2lkeE1hcHBpbmdfPSgoZSxyKT0+e2xldCBuPVhkKGUucGxheWxpc3RzLHIpO3JldHVybiB5ZChlLChlLHQsaSxzKT0+e2UucGxheWxpc3RzJiZlLnBsYXlsaXN0cy5sZW5ndGgmJihlPWUucGxheWxpc3RzLG49TyhuLFhkKGUscikpKX0pLG59KSh0aGlzLm1haW5QbGF5bGlzdExvYWRlcl8ubWFpbix0aGlzLm1haW5QbGF5bGlzdExvYWRlcl8uc2lkeE1hcHBpbmdfKSx0aGlzLmFkZFNpZHhTZWdtZW50c18odGhpcy5tZWRpYSgpLHRoaXMuc3RhdGUsZT0+e3RoaXMucmVmcmVzaE1lZGlhXyh0aGlzLm1lZGlhKCkuaWQpfSkpfSl9cmVmcmVzaE1lZGlhXyhlKXtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJyZWZyZXNoTWVkaWFfIG11c3QgdGFrZSBhIG1lZGlhIGlkXCIpO3RoaXMubWVkaWFfJiZ0aGlzLmlzTWFpbl8mJnRoaXMuaGFuZGxlTWFpbl8oKTt2YXIgdD10aGlzLm1haW5QbGF5bGlzdExvYWRlcl8ubWFpbi5wbGF5bGlzdHM7Y29uc3QgaT0hdGhpcy5tZWRpYV98fHRoaXMubWVkaWFfIT09dFtlXTtpZihpP3RoaXMubWVkaWFfPXRbZV06dGhpcy50cmlnZ2VyKFwicGxheWxpc3R1bmNoYW5nZWRcIiksIXRoaXMubWVkaWFVcGRhdGVUaW1lb3V0KXtjb25zdCBzPSgpPT57dGhpcy5tZWRpYSgpLmVuZExpc3R8fCh0aGlzLm1lZGlhVXBkYXRlVGltZW91dD13aW5kb3cuc2V0VGltZW91dCgoKT0+e3RoaXMudHJpZ2dlcihcIm1lZGlhdXBkYXRldGltZW91dFwiKSxzKCl9LGtkKHRoaXMubWVkaWEoKSxCb29sZWFuKGkpKSkpfTtzKCl9dGhpcy50cmlnZ2VyKFwibG9hZGVkcGxheWxpc3RcIil9fXZhciBEPXtHT0FMX0JVRkZFUl9MRU5HVEg6MzAsTUFYX0dPQUxfQlVGRkVSX0xFTkdUSDo2MCxCQUNLX0JVRkZFUl9MRU5HVEg6MzAsR09BTF9CVUZGRVJfTEVOR1RIX1JBVEU6MSxJTklUSUFMX0JBTkRXSURUSDo0MTk0MzA0LEJBTkRXSURUSF9WQVJJQU5DRToxLjIsQlVGRkVSX0xPV19XQVRFUl9MSU5FOjAsTUFYX0JVRkZFUl9MT1dfV0FURVJfTElORTozMCxFWFBFUklNRU5UQUxfTUFYX0JVRkZFUl9MT1dfV0FURVJfTElORToxNixCVUZGRVJfTE9XX1dBVEVSX0xJTkVfUkFURToxLEJVRkZFUl9ISUdIX1dBVEVSX0xJTkU6MzB9O2Z1bmN0aW9uIFlkKGUpe3JldHVybiBlLm9uPWUuYWRkRXZlbnRMaXN0ZW5lcixlLm9mZj1lLnJlbW92ZUV2ZW50TGlzdGVuZXIsZX1jb25zdCBRZD10PT57dmFyIGk9bmV3IFVpbnQ4QXJyYXkobmV3IEFycmF5QnVmZmVyKHQubGVuZ3RoKSk7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspaVtlXT10LmNoYXJDb2RlQXQoZSk7cmV0dXJuIGkuYnVmZmVyfTtmdW5jdGlvbiBKZChzKXtyZXR1cm4gZnVuY3Rpb24oKXtjb25zdCBlPWZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4gVVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihbdF0se3R5cGU6XCJhcHBsaWNhdGlvbi9qYXZhc2NyaXB0XCJ9KSl9Y2F0Y2goZSl7dmFyIGk9bmV3IEJsb2JCdWlsZGVyO3JldHVybiBpLmFwcGVuZCh0KSxVUkwuY3JlYXRlT2JqZWN0VVJMKGkuZ2V0QmxvYigpKX19KHMpO3ZhciB0PVlkKG5ldyBXb3JrZXIoZSkpO3Qub2JqVVJMPWU7Y29uc3QgaT10LnRlcm1pbmF0ZTtyZXR1cm4gdC5vbj10LmFkZEV2ZW50TGlzdGVuZXIsdC5vZmY9dC5yZW1vdmVFdmVudExpc3RlbmVyLHQudGVybWluYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIFVSTC5yZXZva2VPYmplY3RVUkwoZSksaS5jYWxsKHRoaXMpfSx0fX1mdW5jdGlvbiBaZChlKXtyZXR1cm5gdmFyIGJyb3dzZXJXb3JrZXJQb2x5RmlsbCA9ICR7WWQudG9TdHJpbmcoKX07XG5gK1wiYnJvd3NlcldvcmtlclBvbHlGaWxsKHNlbGYpO1xcblwiK2V9ZnVuY3Rpb24gZWgoZSl7cmV0dXJuIGUudG9TdHJpbmcoKS5yZXBsYWNlKC9eZnVuY3Rpb24uKz97LyxcIlwiKS5zbGljZSgwLC0xKX12YXIgdGg9SmQoWmQoZWgoZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5pbml0PWZ1bmN0aW9uKCl7dmFyIG49e307dGhpcy5vbj1mdW5jdGlvbihlLHQpe25bZV18fChuW2VdPVtdKSxuW2VdPW5bZV0uY29uY2F0KHQpfSx0aGlzLm9mZj1mdW5jdGlvbihlLHQpe3JldHVybiEhbltlXSYmKHQ9bltlXS5pbmRleE9mKHQpLG5bZV09bltlXS5zbGljZSgpLG5bZV0uc3BsaWNlKHQsMSksLTE8dCl9LHRoaXMudHJpZ2dlcj1mdW5jdGlvbihlKXt2YXIgdCxpLHMscj1uW2VdO2lmKHIpaWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpZm9yKGk9ci5sZW5ndGgsdD0wO3Q8aTsrK3Qpclt0XS5jYWxsKHRoaXMsYXJndW1lbnRzWzFdKTtlbHNle2ZvcihzPVtdLHQ9YXJndW1lbnRzLmxlbmd0aCx0PTE7dDxhcmd1bWVudHMubGVuZ3RoOysrdClzLnB1c2goYXJndW1lbnRzW3RdKTtmb3IoaT1yLmxlbmd0aCx0PTA7dDxpOysrdClyW3RdLmFwcGx5KHRoaXMscyl9fSx0aGlzLmRpc3Bvc2U9ZnVuY3Rpb24oKXtuPXt9fX19dmFyIGwsUixVLEIsRixqLEgscSxWLCQsVyxHLHosWCxLLFksUSxKLFosZWUsZCx0ZSxpZSxzZSxyZSxuZSxhZSxvZSx0LGxlLGRlLGhlLHVlLGNlLHBlLG1lLGdlLGZlPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjp7fSxpPShlLnByb3RvdHlwZS5waXBlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9uKFwiZGF0YVwiLGZ1bmN0aW9uKGUpe3QucHVzaChlKX0pLHRoaXMub24oXCJkb25lXCIsZnVuY3Rpb24oZSl7dC5mbHVzaChlKX0pLHRoaXMub24oXCJwYXJ0aWFsZG9uZVwiLGZ1bmN0aW9uKGUpe3QucGFydGlhbEZsdXNoKGUpfSksdGhpcy5vbihcImVuZGVkdGltZWxpbmVcIixmdW5jdGlvbihlKXt0LmVuZFRpbWVsaW5lKGUpfSksdGhpcy5vbihcInJlc2V0XCIsZnVuY3Rpb24oZSl7dC5yZXNldChlKX0pLHR9LGUucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oZSl7dGhpcy50cmlnZ2VyKFwiZGF0YVwiLGUpfSxlLnByb3RvdHlwZS5mbHVzaD1mdW5jdGlvbihlKXt0aGlzLnRyaWdnZXIoXCJkb25lXCIsZSl9LGUucHJvdG90eXBlLnBhcnRpYWxGbHVzaD1mdW5jdGlvbihlKXt0aGlzLnRyaWdnZXIoXCJwYXJ0aWFsZG9uZVwiLGUpfSxlLnByb3RvdHlwZS5lbmRUaW1lbGluZT1mdW5jdGlvbihlKXt0aGlzLnRyaWdnZXIoXCJlbmRlZHRpbWVsaW5lXCIsZSl9LGUucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKGUpe3RoaXMudHJpZ2dlcihcInJlc2V0XCIsZSl9LGUpLHllPU1hdGgucG93KDIsMzIpLF9lPXtnZXRVaW50NjQ6ZnVuY3Rpb24oZSl7dmFyIHQsZT1uZXcgRGF0YVZpZXcoZS5idWZmZXIsZS5ieXRlT2Zmc2V0LGUuYnl0ZUxlbmd0aCk7cmV0dXJuIGUuZ2V0QmlnVWludDY0Pyh0PWUuZ2V0QmlnVWludDY0KDApKTxOdW1iZXIuTUFYX1NBRkVfSU5URUdFUj9OdW1iZXIodCk6dDplLmdldFVpbnQzMigwKSp5ZStlLmdldFVpbnQzMig0KX0sTUFYX1VJTlQzMjp5ZX0sdmU9X2UuTUFYX1VJTlQzMjtpZihkPXthdmMxOltdLGF2Y0M6W10sYnRydDpbXSxkaW5mOltdLGRyZWY6W10sZXNkczpbXSxmdHlwOltdLGhkbHI6W10sbWRhdDpbXSxtZGhkOltdLG1kaWE6W10sbWZoZDpbXSxtaW5mOltdLG1vb2Y6W10sbW9vdjpbXSxtcDRhOltdLG12ZXg6W10sbXZoZDpbXSxwYXNwOltdLHNkdHA6W10sc21oZDpbXSxzdGJsOltdLHN0Y286W10sc3RzYzpbXSxzdHNkOltdLHN0c3o6W10sc3R0czpbXSxzdHlwOltdLHRmZHQ6W10sdGZoZDpbXSx0cmFmOltdLHRyYWs6W10sdHJ1bjpbXSx0cmV4OltdLHRraGQ6W10sdm1oZDpbXX0sXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFVpbnQ4QXJyYXkpe2Zvcih2YXIgcyBpbiBkKWQuaGFzT3duUHJvcGVydHkocykmJihkW3NdPVtzLmNoYXJDb2RlQXQoMCkscy5jaGFyQ29kZUF0KDEpLHMuY2hhckNvZGVBdCgyKSxzLmNoYXJDb2RlQXQoMyldKTt0ZT1uZXcgVWludDhBcnJheShbXCJpXCIuY2hhckNvZGVBdCgwKSxcInNcIi5jaGFyQ29kZUF0KDApLFwib1wiLmNoYXJDb2RlQXQoMCksXCJtXCIuY2hhckNvZGVBdCgwKV0pLHNlPW5ldyBVaW50OEFycmF5KFtcImFcIi5jaGFyQ29kZUF0KDApLFwidlwiLmNoYXJDb2RlQXQoMCksXCJjXCIuY2hhckNvZGVBdCgwKSxcIjFcIi5jaGFyQ29kZUF0KDApXSksaWU9bmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDFdKSxDZT1uZXcgVWludDhBcnJheShbMCwwLDAsMCwwLDAsMCwwLDExOCwxMDUsMTAwLDEwMSwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCw4NiwxMDUsMTAwLDEwMSwxMTEsNzIsOTcsMTEwLDEwMCwxMDgsMTAxLDExNCwwXSkseGU9bmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDAsMCwwLDAsMCwxMTUsMTExLDExNywxMTAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsODMsMTExLDExNywxMTAsMTAwLDcyLDk3LDExMCwxMDAsMTA4LDEwMSwxMTQsMF0pLHJlPXt2aWRlbzpDZSxhdWRpbzp4ZX0sb2U9bmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDAsMCwwLDAsMSwwLDAsMCwxMiwxMTcsMTE0LDEwOCwzMiwwLDAsMCwxXSksYWU9bmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDAsMCwwLDAsMF0pLHQ9bmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDAsMCwwLDAsMF0pLGxlPXQsZGU9bmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwXSksaGU9dCxuZT1uZXcgVWludDhBcnJheShbMCwwLDAsMSwwLDAsMCwwLDAsMCwwLDBdKX1sPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxpPVtdLHM9MCxyPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKylpLnB1c2goYXJndW1lbnRzW3JdKTtmb3Iocj1pLmxlbmd0aDtyLS07KXMrPWlbcl0uYnl0ZUxlbmd0aDtmb3IodD1uZXcgVWludDhBcnJheShzKzgpLG5ldyBEYXRhVmlldyh0LmJ1ZmZlcix0LmJ5dGVPZmZzZXQsdC5ieXRlTGVuZ3RoKS5zZXRVaW50MzIoMCx0LmJ5dGVMZW5ndGgpLHQuc2V0KGUsNCkscj0wLHM9ODtyPGkubGVuZ3RoO3IrKyl0LnNldChpW3JdLHMpLHMrPWlbcl0uYnl0ZUxlbmd0aDtyZXR1cm4gdH0sUj1mdW5jdGlvbigpe3JldHVybiBsKGQuZGluZixsKGQuZHJlZixvZSkpfSxVPWZ1bmN0aW9uKGUpe3JldHVybiBsKGQuZXNkcyxuZXcgVWludDhBcnJheShbMCwwLDAsMCwzLDI1LDAsMCwwLDQsMTcsNjQsMjEsMCw2LDAsMCwwLDIxOCwxOTIsMCwwLDIxOCwxOTIsNSwyLGUuYXVkaW9vYmplY3R0eXBlPDwzfGUuc2FtcGxpbmdmcmVxdWVuY3lpbmRleD4+PjEsZS5zYW1wbGluZ2ZyZXF1ZW5jeWluZGV4PDw3fGUuY2hhbm5lbGNvdW50PDwzLDYsMSwyXSkpfSxYPWZ1bmN0aW9uKGUpe3JldHVybiBsKGQuaGRscixyZVtlXSl9LHo9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDAsMCwwLDAsMiwwLDAsMCwzLDAsMSw5NSwxNDQsZS5kdXJhdGlvbj4+PjI0JjI1NSxlLmR1cmF0aW9uPj4+MTYmMjU1LGUuZHVyYXRpb24+Pj44JjI1NSwyNTUmZS5kdXJhdGlvbiw4NSwxOTYsMCwwXSk7cmV0dXJuIGUuc2FtcGxlcmF0ZSYmKHRbMTJdPWUuc2FtcGxlcmF0ZT4+PjI0JjI1NSx0WzEzXT1lLnNhbXBsZXJhdGU+Pj4xNiYyNTUsdFsxNF09ZS5zYW1wbGVyYXRlPj4+OCYyNTUsdFsxNV09MjU1JmUuc2FtcGxlcmF0ZSksbChkLm1kaGQsdCl9LEc9ZnVuY3Rpb24oZSl7cmV0dXJuIGwoZC5tZGlhLHooZSksWChlLnR5cGUpLGooZSkpfSxGPWZ1bmN0aW9uKGUpe3JldHVybiBsKGQubWZoZCxuZXcgVWludDhBcnJheShbMCwwLDAsMCwoNDI3ODE5MDA4MCZlKT4+MjQsKDE2NzExNjgwJmUpPj4xNiwoNjUyODAmZSk+PjgsMjU1JmVdKSl9LGo9ZnVuY3Rpb24oZSl7cmV0dXJuIGwoZC5taW5mLFwidmlkZW9cIj09PWUudHlwZT9sKGQudm1oZCxuZSk6bChkLnNtaGQsYWUpLFIoKSxZKGUpKX0scT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS5sZW5ndGgsaT1bXTt0LS07KWlbdF09WihlW3RdKTtyZXR1cm4gbC5hcHBseShudWxsLFtkLm12ZXhdLmNvbmNhdChpKSl9LFY9ZnVuY3Rpb24oZSl7ZT1uZXcgVWludDhBcnJheShbMCwwLDAsMCwwLDAsMCwxLDAsMCwwLDIsMCwxLDk1LDE0NCwoNDI3ODE5MDA4MCZlKT4+MjQsKDE2NzExNjgwJmUpPj4xNiwoNjUyODAmZSk+PjgsMjU1JmUsMCwxLDAsMCwxLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDEsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMSwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsNjQsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMjU1LDI1NSwyNTUsMjU1XSk7cmV0dXJuIGwoZC5tdmhkLGUpfSxLPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxpPWUuc2FtcGxlc3x8W10scz1uZXcgVWludDhBcnJheSg0K2kubGVuZ3RoKSxyPTA7cjxpLmxlbmd0aDtyKyspdD1pW3JdLmZsYWdzLHNbcis0XT10LmRlcGVuZHNPbjw8NHx0LmlzRGVwZW5kZWRPbjw8Mnx0Lmhhc1JlZHVuZGFuY3k7cmV0dXJuIGwoZC5zZHRwLHMpfSxZPWZ1bmN0aW9uKGUpe3JldHVybiBsKGQuc3RibCxRKGUpLGwoZC5zdHRzLGhlKSxsKGQuc3RzYyxsZSksbChkLnN0c3osZGUpLGwoZC5zdGNvLHQpKX0sUT1mdW5jdGlvbihlKXtyZXR1cm4gbChkLnN0c2QsbmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDAsMCwwLDAsMV0pLChcInZpZGVvXCI9PT1lLnR5cGU/dWU6Y2UpKGUpKX0sdWU9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LGkscz1lLnNwc3x8W10scj1lLnBwc3x8W10sbj1bXSxhPVtdLG89MDtvPHMubGVuZ3RoO28rKyluLnB1c2goKDY1MjgwJnNbb10uYnl0ZUxlbmd0aCk+Pj44KSxuLnB1c2goMjU1JnNbb10uYnl0ZUxlbmd0aCksbj1uLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChzW29dKSk7Zm9yKG89MDtvPHIubGVuZ3RoO28rKylhLnB1c2goKDY1MjgwJnJbb10uYnl0ZUxlbmd0aCk+Pj44KSxhLnB1c2goMjU1JnJbb10uYnl0ZUxlbmd0aCksYT1hLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChyW29dKSk7cmV0dXJuIHQ9W2QuYXZjMSxuZXcgVWludDhBcnJheShbMCwwLDAsMCwwLDAsMCwxLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsKDY1MjgwJmUud2lkdGgpPj44LDI1NSZlLndpZHRoLCg2NTI4MCZlLmhlaWdodCk+PjgsMjU1JmUuaGVpZ2h0LDAsNzIsMCwwLDAsNzIsMCwwLDAsMCwwLDAsMCwxLDE5LDExOCwxMDUsMTAwLDEwMSwxMTEsMTA2LDExNSw0NSw5OSwxMTEsMTEwLDExNiwxMTQsMTA1LDk4LDQ1LDEwNCwxMDgsMTE1LDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMjQsMTcsMTddKSxsKGQuYXZjQyxuZXcgVWludDhBcnJheShbMSxlLnByb2ZpbGVJZGMsZS5wcm9maWxlQ29tcGF0aWJpbGl0eSxlLmxldmVsSWRjLDI1NV0uY29uY2F0KFtzLmxlbmd0aF0sbixbci5sZW5ndGhdLGEpKSksbChkLmJ0cnQsbmV3IFVpbnQ4QXJyYXkoWzAsMjgsMTU2LDEyOCwwLDQ1LDE5OCwxOTIsMCw0NSwxOTgsMTkyXSkpXSxlLnNhclJhdGlvJiYoaT1lLnNhclJhdGlvWzBdLGU9ZS5zYXJSYXRpb1sxXSx0LnB1c2gobChkLnBhc3AsbmV3IFVpbnQ4QXJyYXkoWyg0Mjc4MTkwMDgwJmkpPj4yNCwoMTY3MTE2ODAmaSk+PjE2LCg2NTI4MCZpKT4+OCwyNTUmaSwoNDI3ODE5MDA4MCZlKT4+MjQsKDE2NzExNjgwJmUpPj4xNiwoNjUyODAmZSk+PjgsMjU1JmVdKSkpKSxsLmFwcGx5KG51bGwsdCl9LGNlPWZ1bmN0aW9uKGUpe3JldHVybiBsKGQubXA0YSxuZXcgVWludDhBcnJheShbMCwwLDAsMCwwLDAsMCwxLDAsMCwwLDAsMCwwLDAsMCwoNjUyODAmZS5jaGFubmVsY291bnQpPj44LDI1NSZlLmNoYW5uZWxjb3VudCwoNjUyODAmZS5zYW1wbGVzaXplKT4+OCwyNTUmZS5zYW1wbGVzaXplLDAsMCwwLDAsKDY1MjgwJmUuc2FtcGxlcmF0ZSk+PjgsMjU1JmUuc2FtcGxlcmF0ZSwwLDBdKSxVKGUpKX0sVz1mdW5jdGlvbihlKXtlPW5ldyBVaW50OEFycmF5KFswLDAsMCw3LDAsMCwwLDAsMCwwLDAsMCwoNDI3ODE5MDA4MCZlLmlkKT4+MjQsKDE2NzExNjgwJmUuaWQpPj4xNiwoNjUyODAmZS5pZCk+PjgsMjU1JmUuaWQsMCwwLDAsMCwoNDI3ODE5MDA4MCZlLmR1cmF0aW9uKT4+MjQsKDE2NzExNjgwJmUuZHVyYXRpb24pPj4xNiwoNjUyODAmZS5kdXJhdGlvbik+PjgsMjU1JmUuZHVyYXRpb24sMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMSwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsNjQsMCwwLDAsKDY1MjgwJmUud2lkdGgpPj44LDI1NSZlLndpZHRoLDAsMCwoNjUyODAmZS5oZWlnaHQpPj44LDI1NSZlLmhlaWdodCwwLDBdKTtyZXR1cm4gbChkLnRraGQsZSl9LEo9ZnVuY3Rpb24oZSl7dmFyIHQsaT1sKGQudGZoZCxuZXcgVWludDhBcnJheShbMCwwLDAsNTgsKDQyNzgxOTAwODAmZS5pZCk+PjI0LCgxNjcxMTY4MCZlLmlkKT4+MTYsKDY1MjgwJmUuaWQpPj44LDI1NSZlLmlkLDAsMCwwLDEsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDBdKSkscz1NYXRoLmZsb29yKGUuYmFzZU1lZGlhRGVjb2RlVGltZS92ZSkscj1NYXRoLmZsb29yKGUuYmFzZU1lZGlhRGVjb2RlVGltZSV2ZSkscz1sKGQudGZkdCxuZXcgVWludDhBcnJheShbMSwwLDAsMCxzPj4+MjQmMjU1LHM+Pj4xNiYyNTUscz4+PjgmMjU1LDI1NSZzLHI+Pj4yNCYyNTUscj4+PjE2JjI1NSxyPj4+OCYyNTUsMjU1JnJdKSk7cmV0dXJuXCJhdWRpb1wiPT09ZS50eXBlPyh0PWVlKGUsOTIpLGwoZC50cmFmLGkscyx0KSk6KHI9SyhlKSx0PWVlKGUsci5sZW5ndGgrOTIpLGwoZC50cmFmLGkscyx0LHIpKX0sJD1mdW5jdGlvbihlKXtyZXR1cm4gZS5kdXJhdGlvbj1lLmR1cmF0aW9ufHw0Mjk0OTY3Mjk1LGwoZC50cmFrLFcoZSksRyhlKSl9LFo9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDAsKDQyNzgxOTAwODAmZS5pZCk+PjI0LCgxNjcxMTY4MCZlLmlkKT4+MTYsKDY1MjgwJmUuaWQpPj44LDI1NSZlLmlkLDAsMCwwLDEsMCwwLDAsMCwwLDAsMCwwLDAsMSwwLDFdKTtyZXR1cm5cInZpZGVvXCIhPT1lLnR5cGUmJih0W3QubGVuZ3RoLTFdPTApLGwoZC50cmV4LHQpfSxwZT1mdW5jdGlvbihlLHQpe3ZhciBpPTAscz0wLHI9MCxuPTA7cmV0dXJuIGUubGVuZ3RoJiYodm9pZCAwIT09ZVswXS5kdXJhdGlvbiYmKGk9MSksdm9pZCAwIT09ZVswXS5zaXplJiYocz0yKSx2b2lkIDAhPT1lWzBdLmZsYWdzJiYocj00KSx2b2lkIDAhPT1lWzBdLmNvbXBvc2l0aW9uVGltZU9mZnNldCkmJihuPTgpLFswLDAsaXxzfHJ8biwxLCg0Mjc4MTkwMDgwJmUubGVuZ3RoKT4+PjI0LCgxNjcxMTY4MCZlLmxlbmd0aCk+Pj4xNiwoNjUyODAmZS5sZW5ndGgpPj4+OCwyNTUmZS5sZW5ndGgsKDQyNzgxOTAwODAmdCk+Pj4yNCwoMTY3MTE2ODAmdCk+Pj4xNiwoNjUyODAmdCk+Pj44LDI1NSZ0XX0sbWU9ZnVuY3Rpb24oZSx0KXt2YXIgaSxzLHIsbixhPWUuc2FtcGxlc3x8W107Zm9yKHQrPTIwKzE2KmEubGVuZ3RoLGU9cGUoYSx0KSwocz1uZXcgVWludDhBcnJheShlLmxlbmd0aCsxNiphLmxlbmd0aCkpLnNldChlKSxpPWUubGVuZ3RoLG49MDtuPGEubGVuZ3RoO24rKylyPWFbbl0sc1tpKytdPSg0Mjc4MTkwMDgwJnIuZHVyYXRpb24pPj4+MjQsc1tpKytdPSgxNjcxMTY4MCZyLmR1cmF0aW9uKT4+PjE2LHNbaSsrXT0oNjUyODAmci5kdXJhdGlvbik+Pj44LHNbaSsrXT0yNTUmci5kdXJhdGlvbixzW2krK109KDQyNzgxOTAwODAmci5zaXplKT4+PjI0LHNbaSsrXT0oMTY3MTE2ODAmci5zaXplKT4+PjE2LHNbaSsrXT0oNjUyODAmci5zaXplKT4+Pjgsc1tpKytdPTI1NSZyLnNpemUsc1tpKytdPXIuZmxhZ3MuaXNMZWFkaW5nPDwyfHIuZmxhZ3MuZGVwZW5kc09uLHNbaSsrXT1yLmZsYWdzLmlzRGVwZW5kZWRPbjw8NnxyLmZsYWdzLmhhc1JlZHVuZGFuY3k8PDR8ci5mbGFncy5wYWRkaW5nVmFsdWU8PDF8ci5mbGFncy5pc05vblN5bmNTYW1wbGUsc1tpKytdPTYxNDQwJnIuZmxhZ3MuZGVncmFkYXRpb25Qcmlvcml0eSxzW2krK109MTUmci5mbGFncy5kZWdyYWRhdGlvblByaW9yaXR5LHNbaSsrXT0oNDI3ODE5MDA4MCZyLmNvbXBvc2l0aW9uVGltZU9mZnNldCk+Pj4yNCxzW2krK109KDE2NzExNjgwJnIuY29tcG9zaXRpb25UaW1lT2Zmc2V0KT4+PjE2LHNbaSsrXT0oNjUyODAmci5jb21wb3NpdGlvblRpbWVPZmZzZXQpPj4+OCxzW2krK109MjU1JnIuY29tcG9zaXRpb25UaW1lT2Zmc2V0O3JldHVybiBsKGQudHJ1bixzKX0sZ2U9ZnVuY3Rpb24oZSx0KXt2YXIgaSxzLHIsbixhPWUuc2FtcGxlc3x8W107Zm9yKHQrPTIwKzgqYS5sZW5ndGgsZT1wZShhLHQpLChpPW5ldyBVaW50OEFycmF5KGUubGVuZ3RoKzgqYS5sZW5ndGgpKS5zZXQoZSkscz1lLmxlbmd0aCxuPTA7bjxhLmxlbmd0aDtuKyspcj1hW25dLGlbcysrXT0oNDI3ODE5MDA4MCZyLmR1cmF0aW9uKT4+PjI0LGlbcysrXT0oMTY3MTE2ODAmci5kdXJhdGlvbik+Pj4xNixpW3MrK109KDY1MjgwJnIuZHVyYXRpb24pPj4+OCxpW3MrK109MjU1JnIuZHVyYXRpb24saVtzKytdPSg0Mjc4MTkwMDgwJnIuc2l6ZSk+Pj4yNCxpW3MrK109KDE2NzExNjgwJnIuc2l6ZSk+Pj4xNixpW3MrK109KDY1MjgwJnIuc2l6ZSk+Pj44LGlbcysrXT0yNTUmci5zaXplO3JldHVybiBsKGQudHJ1bixpKX0sZWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4oXCJhdWRpb1wiPT09ZS50eXBlP2dlOm1lKShlLHQpfTtmdW5jdGlvbiBiZShlLHQpe3ZhciBpPUllKCk7cmV0dXJuIGkuZGF0YU9mZnNldD10LGkuY29tcG9zaXRpb25UaW1lT2Zmc2V0PWUucHRzLWUuZHRzLGkuZHVyYXRpb249ZS5kdXJhdGlvbixpLnNpemU9NCplLmxlbmd0aCxpLnNpemUrPWUuYnl0ZUxlbmd0aCxlLmtleUZyYW1lJiYoaS5mbGFncy5kZXBlbmRzT249MixpLmZsYWdzLmlzTm9uU3luY1NhbXBsZT0wKSxpfWZ1bmN0aW9uIHIoZSl7Zm9yKHZhciB0PVtdO2UtLTspdC5wdXNoKDApO3JldHVybiB0fWZ1bmN0aW9uIG4oZSl7ZT1lfHx7fSxuLnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyksdGhpcy5wYXJzZTcwOGNhcHRpb25zXz1cImJvb2xlYW5cIiE9dHlwZW9mIGUucGFyc2U3MDhjYXB0aW9uc3x8ZS5wYXJzZTcwOGNhcHRpb25zLHRoaXMuY2FwdGlvblBhY2tldHNfPVtdLHRoaXMuY2NTdHJlYW1zXz1bbmV3IGcoMCwwKSxuZXcgZygwLDEpLG5ldyBnKDEsMCksbmV3IGcoMSwxKV0sdGhpcy5wYXJzZTcwOGNhcHRpb25zXyYmKHRoaXMuY2M3MDhTdHJlYW1fPW5ldyBtKHtjYXB0aW9uU2VydmljZXM6ZS5jYXB0aW9uU2VydmljZXN9KSksdGhpcy5yZXNldCgpLHRoaXMuY2NTdHJlYW1zXy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2Uub24oXCJkYXRhXCIsdGhpcy50cmlnZ2VyLmJpbmQodGhpcyxcImRhdGFcIikpLGUub24oXCJwYXJ0aWFsZG9uZVwiLHRoaXMudHJpZ2dlci5iaW5kKHRoaXMsXCJwYXJ0aWFsZG9uZVwiKSksZS5vbihcImRvbmVcIix0aGlzLnRyaWdnZXIuYmluZCh0aGlzLFwiZG9uZVwiKSl9LHRoaXMpLHRoaXMucGFyc2U3MDhjYXB0aW9uc18mJih0aGlzLmNjNzA4U3RyZWFtXy5vbihcImRhdGFcIix0aGlzLnRyaWdnZXIuYmluZCh0aGlzLFwiZGF0YVwiKSksdGhpcy5jYzcwOFN0cmVhbV8ub24oXCJwYXJ0aWFsZG9uZVwiLHRoaXMudHJpZ2dlci5iaW5kKHRoaXMsXCJwYXJ0aWFsZG9uZVwiKSksdGhpcy5jYzcwOFN0cmVhbV8ub24oXCJkb25lXCIsdGhpcy50cmlnZ2VyLmJpbmQodGhpcyxcImRvbmVcIikpKX1mdW5jdGlvbiBvKGUpe3JldHVybiAzMjw9ZSYmZTw9MTI3fHwxNjA8PWUmJmU8PTI1NX1mdW5jdGlvbiBhKGUpe3RoaXMud2luZG93TnVtPWUsdGhpcy5yZXNldCgpfWZ1bmN0aW9uIFRlKGUsdCxpKXt0aGlzLnNlcnZpY2VOdW09ZSx0aGlzLnRleHQ9XCJcIix0aGlzLmN1cnJlbnRXaW5kb3c9bmV3IGEoLTEpLHRoaXMud2luZG93cz1bXSx0aGlzLnN0cmVhbT1pLFwic3RyaW5nXCI9PXR5cGVvZiB0JiZ0aGlzLmNyZWF0ZVRleHREZWNvZGVyKHQpfWZ1bmN0aW9uIFNlKGUpe3JldHVybiBudWxsPT09ZT9cIlwiOihlPUZlW2VdfHxlLFN0cmluZy5mcm9tQ2hhckNvZGUoZSkpfWZ1bmN0aW9uIGgoKXtmb3IodmFyIGU9W10sdD1qZSsxO3QtLTspZS5wdXNoKFwiXCIpO3JldHVybiBlfWZ1bmN0aW9uIHdlKGUsdCl7dmFyIGk9MTtmb3IodDxlJiYoaT0tMSk7TWF0aC5hYnModC1lKT5XZTspZSs9aSokZTtyZXR1cm4gZX1mdW5jdGlvbiBFZShlKXt2YXIgdCxpO0VlLnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyksdGhpcy50eXBlXz1lfHxcInNoYXJlZFwiLHRoaXMucHVzaD1mdW5jdGlvbihlKXtcInNoYXJlZFwiIT09dGhpcy50eXBlXyYmZS50eXBlIT09dGhpcy50eXBlX3x8KHZvaWQgMD09PWkmJihpPWUuZHRzKSxlLmR0cz13ZShlLmR0cyxpKSxlLnB0cz13ZShlLnB0cyxpKSx0PWUuZHRzLHRoaXMudHJpZ2dlcihcImRhdGFcIixlKSl9LHRoaXMuZmx1c2g9ZnVuY3Rpb24oKXtpPXQsdGhpcy50cmlnZ2VyKFwiZG9uZVwiKX0sdGhpcy5lbmRUaW1lbGluZT1mdW5jdGlvbigpe3RoaXMuZmx1c2goKSx0aGlzLnRyaWdnZXIoXCJlbmRlZHRpbWVsaW5lXCIpfSx0aGlzLmRpc2NvbnRpbnVpdHk9ZnVuY3Rpb24oKXt0PWk9dm9pZCAwfSx0aGlzLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5kaXNjb250aW51aXR5KCksdGhpcy50cmlnZ2VyKFwicmVzZXRcIil9fXZhciBrZSxDZT17ZnR5cDpCPWZ1bmN0aW9uKCl7cmV0dXJuIGwoZC5mdHlwLHRlLGllLHRlLHNlKX0sbWRhdDpmdW5jdGlvbihlKXtyZXR1cm4gbChkLm1kYXQsZSl9LG1vb2Y6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIGk9W10scz10Lmxlbmd0aDtzLS07KWlbc109Sih0W3NdKTtyZXR1cm4gbC5hcHBseShudWxsLFtkLm1vb2YsRihlKV0uY29uY2F0KGkpKX0sbW9vdjpIPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLmxlbmd0aCxpPVtdO3QtLTspaVt0XT0kKGVbdF0pO3JldHVybiBsLmFwcGx5KG51bGwsW2QubW9vdixWKDQyOTQ5NjcyOTUpXS5jb25jYXQoaSkuY29uY2F0KHEoZSkpKX0saW5pdFNlZ21lbnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9QigpLGU9SChlKSxpPW5ldyBVaW50OEFycmF5KHQuYnl0ZUxlbmd0aCtlLmJ5dGVMZW5ndGgpO3JldHVybiBpLnNldCh0KSxpLnNldChlLHQuYnl0ZUxlbmd0aCksaX19LEllPWZ1bmN0aW9uKCl7cmV0dXJue3NpemU6MCxmbGFnczp7aXNMZWFkaW5nOjAsZGVwZW5kc09uOjEsaXNEZXBlbmRlZE9uOjAsaGFzUmVkdW5kYW5jeTowLGRlZ3JhZGF0aW9uUHJpb3JpdHk6MCxpc05vblN5bmNTYW1wbGU6MX19fSx4ZT17Z3JvdXBOYWxzSW50b0ZyYW1lczpmdW5jdGlvbihlKXt2YXIgdCxpLHM9W10scj1bXTtmb3Ioci5ieXRlTGVuZ3RoPTAsci5uYWxDb3VudD0wLHQ9cy5ieXRlTGVuZ3RoPXIuZHVyYXRpb249MDt0PGUubGVuZ3RoO3QrKylcImFjY2Vzc191bml0X2RlbGltaXRlcl9yYnNwXCI9PT0oaT1lW3RdKS5uYWxVbml0VHlwZT8ocy5sZW5ndGgmJihzLmR1cmF0aW9uPWkuZHRzLXMuZHRzLHIuYnl0ZUxlbmd0aCs9cy5ieXRlTGVuZ3RoLHIubmFsQ291bnQrPXMubGVuZ3RoLHIuZHVyYXRpb24rPXMuZHVyYXRpb24sci5wdXNoKHMpKSwocz1baV0pLmJ5dGVMZW5ndGg9aS5kYXRhLmJ5dGVMZW5ndGgscy5wdHM9aS5wdHMscy5kdHM9aS5kdHMpOihcInNsaWNlX2xheWVyX3dpdGhvdXRfcGFydGl0aW9uaW5nX3Jic3BfaWRyXCI9PT1pLm5hbFVuaXRUeXBlJiYocy5rZXlGcmFtZT0hMCkscy5kdXJhdGlvbj1pLmR0cy1zLmR0cyxzLmJ5dGVMZW5ndGgrPWkuZGF0YS5ieXRlTGVuZ3RoLHMucHVzaChpKSk7cmV0dXJuIHIubGVuZ3RoJiYoIXMuZHVyYXRpb258fHMuZHVyYXRpb248PTApJiYocy5kdXJhdGlvbj1yW3IubGVuZ3RoLTFdLmR1cmF0aW9uKSxyLmJ5dGVMZW5ndGgrPXMuYnl0ZUxlbmd0aCxyLm5hbENvdW50Kz1zLmxlbmd0aCxyLmR1cmF0aW9uKz1zLmR1cmF0aW9uLHIucHVzaChzKSxyfSxncm91cEZyYW1lc0ludG9Hb3BzOmZ1bmN0aW9uKGUpe3ZhciB0LGkscz1bXSxyPVtdO2ZvcihzLmJ5dGVMZW5ndGg9MCxzLm5hbENvdW50PTAscy5kdXJhdGlvbj0wLHMucHRzPWVbMF0ucHRzLHMuZHRzPWVbMF0uZHRzLHIuYnl0ZUxlbmd0aD0wLHIubmFsQ291bnQ9MCxyLmR1cmF0aW9uPTAsci5wdHM9ZVswXS5wdHMsci5kdHM9ZVswXS5kdHMsdD0wO3Q8ZS5sZW5ndGg7dCsrKShpPWVbdF0pLmtleUZyYW1lPyhzLmxlbmd0aCYmKHIucHVzaChzKSxyLmJ5dGVMZW5ndGgrPXMuYnl0ZUxlbmd0aCxyLm5hbENvdW50Kz1zLm5hbENvdW50LHIuZHVyYXRpb24rPXMuZHVyYXRpb24pLChzPVtpXSkubmFsQ291bnQ9aS5sZW5ndGgscy5ieXRlTGVuZ3RoPWkuYnl0ZUxlbmd0aCxzLnB0cz1pLnB0cyxzLmR0cz1pLmR0cyxzLmR1cmF0aW9uPWkuZHVyYXRpb24pOihzLmR1cmF0aW9uKz1pLmR1cmF0aW9uLHMubmFsQ291bnQrPWkubGVuZ3RoLHMuYnl0ZUxlbmd0aCs9aS5ieXRlTGVuZ3RoLHMucHVzaChpKSk7cmV0dXJuIHIubGVuZ3RoJiZzLmR1cmF0aW9uPD0wJiYocy5kdXJhdGlvbj1yW3IubGVuZ3RoLTFdLmR1cmF0aW9uKSxyLmJ5dGVMZW5ndGgrPXMuYnl0ZUxlbmd0aCxyLm5hbENvdW50Kz1zLm5hbENvdW50LHIuZHVyYXRpb24rPXMuZHVyYXRpb24sci5wdXNoKHMpLHJ9LGV4dGVuZEZpcnN0S2V5RnJhbWU6ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIWVbMF1bMF0ua2V5RnJhbWUmJjE8ZS5sZW5ndGgmJih0PWUuc2hpZnQoKSxlLmJ5dGVMZW5ndGgtPXQuYnl0ZUxlbmd0aCxlLm5hbENvdW50LT10Lm5hbENvdW50LGVbMF1bMF0uZHRzPXQuZHRzLGVbMF1bMF0ucHRzPXQucHRzLGVbMF1bMF0uZHVyYXRpb24rPXQuZHVyYXRpb24pLGV9LGdlbmVyYXRlU2FtcGxlVGFibGU6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIGkscyxyLG49dHx8MCxhPVtdLG89MDtvPGUubGVuZ3RoO28rKylmb3Iocz1lW29dLGk9MDtpPHMubGVuZ3RoO2krKylyPXNbaV0sbis9KHI9YmUocixuKSkuc2l6ZSxhLnB1c2gocik7cmV0dXJuIGF9LGNvbmNhdGVuYXRlTmFsRGF0YTpmdW5jdGlvbihlKXtmb3IodmFyIHQsaSxzLHIsbixhPTAsbz1lLmJ5dGVMZW5ndGgsbD1lLm5hbENvdW50LGQ9bmV3IFVpbnQ4QXJyYXkobys0KmwpLGg9bmV3IERhdGFWaWV3KGQuYnVmZmVyKSx1PTA7dTxlLmxlbmd0aDt1KyspZm9yKHM9ZVt1XSx0PTA7dDxzLmxlbmd0aDt0KyspZm9yKHI9c1t0XSxpPTA7aTxyLmxlbmd0aDtpKyspbj1yW2ldLGguc2V0VWludDMyKGEsbi5kYXRhLmJ5dGVMZW5ndGgpLGQuc2V0KG4uZGF0YSxhKz00KSxhKz1uLmRhdGEuYnl0ZUxlbmd0aDtyZXR1cm4gZH0sZ2VuZXJhdGVTYW1wbGVUYWJsZUZvckZyYW1lOmZ1bmN0aW9uKGUsdCl7dmFyIGk9W10sZT1iZShlLHR8fDApO3JldHVybiBpLnB1c2goZSksaX0sY29uY2F0ZW5hdGVOYWxEYXRhRm9yRnJhbWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LGk9MCxzPWUuYnl0ZUxlbmd0aCxyPWUubGVuZ3RoLG49bmV3IFVpbnQ4QXJyYXkocys0KnIpLGE9bmV3IERhdGFWaWV3KG4uYnVmZmVyKSxvPTA7bzxlLmxlbmd0aDtvKyspdD1lW29dLGEuc2V0VWludDMyKGksdC5kYXRhLmJ5dGVMZW5ndGgpLG4uc2V0KHQuZGF0YSxpKz00KSxpKz10LmRhdGEuYnl0ZUxlbmd0aDtyZXR1cm4gbn19LHU9WzMzLDE2LDUsMzIsMTY0LDI3XSxBZT1bMzMsNjUsMTA4LDg0LDEsMiw0LDgsMTY4LDIsNCw4LDE3LDE5MSwyNTJdLFBlPWZ1bmN0aW9uKGUpe3JldHVybiA5ZTQqZX0sTGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSp0fSxPZT1mdW5jdGlvbihlKXtyZXR1cm4gZS85ZTR9LERlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUvdH0sYz17T05FX1NFQ09ORF9JTl9UUzo5ZTQsc2Vjb25kc1RvVmlkZW9UczpQZSxzZWNvbmRzVG9BdWRpb1RzOkxlLHZpZGVvVHNUb1NlY29uZHM6T2UsYXVkaW9Uc1RvU2Vjb25kczpEZSxhdWRpb1RzVG9WaWRlb1RzOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUvdCo5ZTR9LHZpZGVvVHNUb0F1ZGlvVHM6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS85ZTQqdH0sbWV0YWRhdGFUc1RvU2Vjb25kczpmdW5jdGlvbihlLHQsaSl7cmV0dXJuIE9lKGk/ZTplLXQpfX0sTmU9ZnVuY3Rpb24oKXt2YXIgZSxpO3JldHVybiBrZXx8KGU9ezk2ZTM6W3UsWzIyNyw2NF0scigxNTQpLFs1Nl1dLDg4MjAwOlt1LFsyMzFdLHIoMTcwKSxbNTZdXSw2NGUzOlt1LFsyNDgsMTkyXSxyKDI0MCksWzU2XV0sNDhlMzpbdSxbMjU1LDE5Ml0scigyNjgpLFs1NSwxNDgsMTI4XSxyKDU0KSxbMTEyXV0sNDQxMDA6W3UsWzI1NSwxOTJdLHIoMjY4KSxbNTUsMTYzLDEyOF0scig4NCksWzExMl1dLDMyZTM6W3UsWzI1NSwxOTJdLHIoMjY4KSxbNTUsMjM0XSxyKDIyNiksWzExMl1dLDI0ZTM6W3UsWzI1NSwxOTJdLHIoMjY4KSxbNTUsMjU1LDEyOF0scigyNjgpLFsxMTEsMTEyXSxyKDEyNiksWzIyNF1dLDE2ZTM6W3UsWzI1NSwxOTJdLHIoMjY4KSxbNTUsMjU1LDEyOF0scigyNjgpLFsxMTEsMjU1XSxyKDI2OSksWzIyMywxMDhdLHIoMTk1KSxbMSwxOTJdXSwxMmUzOltBZSxyKDI2OCksWzMsMTI3LDI0OF0scigyNjgpLFs2LDI1NSwyNDBdLHIoMjY4KSxbMTMsMjU1LDIyNF0scigyNjgpLFsyNywyNTMsMTI4XSxyKDI1OSksWzU2XV0sMTEwMjU6W0FlLHIoMjY4KSxbMywxMjcsMjQ4XSxyKDI2OCksWzYsMjU1LDI0MF0scigyNjgpLFsxMywyNTUsMjI0XSxyKDI2OCksWzI3LDI1NSwxOTJdLHIoMjY4KSxbNTUsMTc1LDEyOF0scigxMDgpLFsxMTJdXSw4ZTM6W0FlLHIoMjY4KSxbMywxMjEsMTZdLHIoNDcpLFs3XV19LGk9ZSxrZT1PYmplY3Qua2V5cyhpKS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVt0XT1uZXcgVWludDhBcnJheShpW3RdLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBlLmNvbmNhdCh0KX0sW10pKSxlfSx7fSkpLGtlfSxNZT1jLFBlPXtwcmVmaXhXaXRoU2lsZW5jZTpmdW5jdGlvbihlLHQsaSxzKXt2YXIgcixuLGEsbyxsLGQ9MCxoPTA7aWYodC5sZW5ndGgmJihuPU1lLmF1ZGlvVHNUb1ZpZGVvVHMoZS5iYXNlTWVkaWFEZWNvZGVUaW1lLGUuc2FtcGxlcmF0ZSkscj1NYXRoLmNlaWwoTWUuT05FX1NFQ09ORF9JTl9UUy8oZS5zYW1wbGVyYXRlLzEwMjQpKSxpJiZzJiYobj1uLU1hdGgubWF4KGkscyksaD0oZD1NYXRoLmZsb29yKG4vcikpKnIpLCEoZDwxfHxoPk1lLk9ORV9TRUNPTkRfSU5fVFMvMikpKXtmb3IoYT0oYT1OZSgpW2Uuc2FtcGxlcmF0ZV0pfHx0WzBdLmRhdGEsbz0wO288ZDtvKyspbD10WzBdLHQuc3BsaWNlKDAsMCx7ZGF0YTphLGR0czpsLmR0cy1yLHB0czpsLnB0cy1yfSk7cmV0dXJuIGUuYmFzZU1lZGlhRGVjb2RlVGltZS09TWF0aC5mbG9vcihNZS52aWRlb1RzVG9BdWRpb1RzKGgsZS5zYW1wbGVyYXRlKSksaH19LHRyaW1BZHRzRnJhbWVzQnlFYXJsaWVzdER0czpmdW5jdGlvbihlLHQsaSl7cmV0dXJuIHQubWluU2VnbWVudER0cz49aT9lOih0Lm1pblNlZ21lbnREdHM9MS8wLGUuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLmR0cz49aSYmKHQubWluU2VnbWVudER0cz1NYXRoLm1pbih0Lm1pblNlZ21lbnREdHMsZS5kdHMpLHQubWluU2VnbWVudFB0cz10Lm1pblNlZ21lbnREdHMsITApfSkpfSxnZW5lcmF0ZVNhbXBsZVRhYmxlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxpPVtdLHM9MDtzPGUubGVuZ3RoO3MrKyl0PWVbc10saS5wdXNoKHtzaXplOnQuZGF0YS5ieXRlTGVuZ3RoLGR1cmF0aW9uOjEwMjR9KTtyZXR1cm4gaX0sY29uY2F0ZW5hdGVGcmFtZURhdGE6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LGk9MCxzPW5ldyBVaW50OEFycmF5KGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLGk9MDtpPGUubGVuZ3RoO2krKyl0Kz1lW2ldLmRhdGEuYnl0ZUxlbmd0aDtyZXR1cm4gdH0oZSkpLHI9MDtyPGUubGVuZ3RoO3IrKyl0PWVbcl0scy5zZXQodC5kYXRhLGkpLGkrPXQuZGF0YS5ieXRlTGVuZ3RoO3JldHVybiBzfX0sUmU9Yy5PTkVfU0VDT05EX0lOX1RTLExlPXtjbGVhckR0c0luZm86ZnVuY3Rpb24oZSl7ZGVsZXRlIGUubWluU2VnbWVudER0cyxkZWxldGUgZS5tYXhTZWdtZW50RHRzLGRlbGV0ZSBlLm1pblNlZ21lbnRQdHMsZGVsZXRlIGUubWF4U2VnbWVudFB0c30sY2FsY3VsYXRlVHJhY2tCYXNlTWVkaWFEZWNvZGVUaW1lOmZ1bmN0aW9uKGUsdCl7dmFyIGk9ZS5taW5TZWdtZW50RHRzO3JldHVybiB0fHwoaS09ZS50aW1lbGluZVN0YXJ0SW5mby5kdHMpLHQ9ZS50aW1lbGluZVN0YXJ0SW5mby5iYXNlTWVkaWFEZWNvZGVUaW1lLHQrPWksdD1NYXRoLm1heCgwLHQpLFwiYXVkaW9cIj09PWUudHlwZSYmKHQqPWUuc2FtcGxlcmF0ZS9SZSx0PU1hdGguZmxvb3IodCkpLHR9LGNvbGxlY3REdHNJbmZvOmZ1bmN0aW9uKGUsdCl7XCJudW1iZXJcIj09dHlwZW9mIHQucHRzJiYodm9pZCAwPT09ZS50aW1lbGluZVN0YXJ0SW5mby5wdHMmJihlLnRpbWVsaW5lU3RhcnRJbmZvLnB0cz10LnB0cyksdm9pZCAwPT09ZS5taW5TZWdtZW50UHRzP2UubWluU2VnbWVudFB0cz10LnB0czplLm1pblNlZ21lbnRQdHM9TWF0aC5taW4oZS5taW5TZWdtZW50UHRzLHQucHRzKSx2b2lkIDA9PT1lLm1heFNlZ21lbnRQdHM/ZS5tYXhTZWdtZW50UHRzPXQucHRzOmUubWF4U2VnbWVudFB0cz1NYXRoLm1heChlLm1heFNlZ21lbnRQdHMsdC5wdHMpKSxcIm51bWJlclwiPT10eXBlb2YgdC5kdHMmJih2b2lkIDA9PT1lLnRpbWVsaW5lU3RhcnRJbmZvLmR0cyYmKGUudGltZWxpbmVTdGFydEluZm8uZHRzPXQuZHRzKSx2b2lkIDA9PT1lLm1pblNlZ21lbnREdHM/ZS5taW5TZWdtZW50RHRzPXQuZHRzOmUubWluU2VnbWVudER0cz1NYXRoLm1pbihlLm1pblNlZ21lbnREdHMsdC5kdHMpLHZvaWQgMD09PWUubWF4U2VnbWVudER0cz9lLm1heFNlZ21lbnREdHM9dC5kdHM6ZS5tYXhTZWdtZW50RHRzPU1hdGgubWF4KGUubWF4U2VnbWVudER0cyx0LmR0cykpfX0sRGU9e3BhcnNlU2VpOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLGk9e3BheWxvYWRUeXBlOi0xLHBheWxvYWRTaXplOjB9LHM9MCxyPTA7dDxlLmJ5dGVMZW5ndGgmJjEyOCE9PWVbdF07KXtmb3IoOzI1NT09PWVbdF07KXMrPTI1NSx0Kys7Zm9yKHMrPWVbdCsrXTsyNTU9PT1lW3RdOylyKz0yNTUsdCsrO2lmKHIrPWVbdCsrXSwhaS5wYXlsb2FkJiY0PT09cyl7aWYoXCJHQTk0XCI9PT1TdHJpbmcuZnJvbUNoYXJDb2RlKGVbdCszXSxlW3QrNF0sZVt0KzVdLGVbdCs2XSkpe2kucGF5bG9hZFR5cGU9cyxpLnBheWxvYWRTaXplPXIsaS5wYXlsb2FkPWUuc3ViYXJyYXkodCx0K3IpO2JyZWFrfWkucGF5bG9hZD12b2lkIDB9dCs9cixyPXM9MH1yZXR1cm4gaX0scGFyc2VVc2VyRGF0YTpmdW5jdGlvbihlKXtyZXR1cm4gMTgxIT09ZS5wYXlsb2FkWzBdfHw0OSE9KGUucGF5bG9hZFsxXTw8OHxlLnBheWxvYWRbMl0pfHxcIkdBOTRcIiE9PVN0cmluZy5mcm9tQ2hhckNvZGUoZS5wYXlsb2FkWzNdLGUucGF5bG9hZFs0XSxlLnBheWxvYWRbNV0sZS5wYXlsb2FkWzZdKXx8MyE9PWUucGF5bG9hZFs3XT9udWxsOmUucGF5bG9hZC5zdWJhcnJheSg4LGUucGF5bG9hZC5sZW5ndGgtMSl9LHBhcnNlQ2FwdGlvblBhY2tldHM6ZnVuY3Rpb24oZSx0KXt2YXIgaSxzLHIsbixhPVtdO2lmKDY0JnRbMF0pZm9yKHM9MzEmdFswXSxpPTA7aTxzO2krKyluPXt0eXBlOjMmdFsyKyhyPTMqaSldLHB0czplfSw0JnRbMityXSYmKG4uY2NEYXRhPXRbMytyXTw8OHx0WzQrcl0sYS5wdXNoKG4pKTtyZXR1cm4gYX0sZGlzY2FyZEVtdWxhdGlvblByZXZlbnRpb25CeXRlczpmdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS5ieXRlTGVuZ3RoLGk9W10scz0xO3M8dC0yOykwPT09ZVtzXSYmMD09PWVbcysxXSYmMz09PWVbcysyXT8oaS5wdXNoKHMrMikscys9Mik6cysrO2lmKDA9PT1pLmxlbmd0aClyZXR1cm4gZTtmb3IodmFyIHI9dC1pLmxlbmd0aCxuPW5ldyBVaW50OEFycmF5KHIpLGE9MCxzPTA7czxyO2ErKyxzKyspYT09PWlbMF0mJihhKyssaS5zaGlmdCgpKSxuW3NdPWVbYV07cmV0dXJuIG59LFVTRVJfREFUQV9SRUdJU1RFUkVEX0lUVV9UX1QzNTo0fSxwPWksVWU9RGUsQmU9KChuLnByb3RvdHlwZT1uZXcgcCkucHVzaD1mdW5jdGlvbihlKXt2YXIgdDtcInNlaV9yYnNwXCI9PT1lLm5hbFVuaXRUeXBlJiYodD1VZS5wYXJzZVNlaShlLmVzY2FwZWRSQlNQKSkucGF5bG9hZCYmdC5wYXlsb2FkVHlwZT09PVVlLlVTRVJfREFUQV9SRUdJU1RFUkVEX0lUVV9UX1QzNSYmKHQ9VWUucGFyc2VVc2VyRGF0YSh0KSkmJihlLmR0czx0aGlzLmxhdGVzdER0c18/dGhpcy5pZ25vcmVOZXh0RXF1YWxEdHNfPSEwOmUuZHRzPT09dGhpcy5sYXRlc3REdHNfJiZ0aGlzLmlnbm9yZU5leHRFcXVhbER0c18/KHRoaXMubnVtU2FtZUR0c18tLSx0aGlzLm51bVNhbWVEdHNffHwodGhpcy5pZ25vcmVOZXh0RXF1YWxEdHNfPSExKSk6KHQ9VWUucGFyc2VDYXB0aW9uUGFja2V0cyhlLnB0cyx0KSx0aGlzLmNhcHRpb25QYWNrZXRzXz10aGlzLmNhcHRpb25QYWNrZXRzXy5jb25jYXQodCksdGhpcy5sYXRlc3REdHNfIT09ZS5kdHMmJih0aGlzLm51bVNhbWVEdHNfPTApLHRoaXMubnVtU2FtZUR0c18rKyx0aGlzLmxhdGVzdER0c189ZS5kdHMpKX0sbi5wcm90b3R5cGUuZmx1c2hDQ1N0cmVhbXM9ZnVuY3Rpb24odCl7dGhpcy5jY1N0cmVhbXNfLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuXCJmbHVzaFwiPT09dD9lLmZsdXNoKCk6ZS5wYXJ0aWFsRmx1c2goKX0sdGhpcyl9LG4ucHJvdG90eXBlLmZsdXNoU3RyZWFtPWZ1bmN0aW9uKGUpe3RoaXMuY2FwdGlvblBhY2tldHNfLmxlbmd0aCYmKHRoaXMuY2FwdGlvblBhY2tldHNfLmZvckVhY2goZnVuY3Rpb24oZSx0KXtlLnByZXNvcnRJbmRleD10fSksdGhpcy5jYXB0aW9uUGFja2V0c18uc29ydChmdW5jdGlvbihlLHQpe3JldHVybiBlLnB0cz09PXQucHRzP2UucHJlc29ydEluZGV4LXQucHJlc29ydEluZGV4OmUucHRzLXQucHRzfSksdGhpcy5jYXB0aW9uUGFja2V0c18uZm9yRWFjaChmdW5jdGlvbihlKXtlLnR5cGU8Mj90aGlzLmRpc3BhdGNoQ2VhNjA4UGFja2V0KGUpOnRoaXMuZGlzcGF0Y2hDZWE3MDhQYWNrZXQoZSl9LHRoaXMpLHRoaXMuY2FwdGlvblBhY2tldHNfLmxlbmd0aD0wKSx0aGlzLmZsdXNoQ0NTdHJlYW1zKGUpfSxuLnByb3RvdHlwZS5mbHVzaD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZsdXNoU3RyZWFtKFwiZmx1c2hcIil9LG4ucHJvdG90eXBlLnBhcnRpYWxGbHVzaD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZsdXNoU3RyZWFtKFwicGFydGlhbEZsdXNoXCIpfSxuLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMubGF0ZXN0RHRzXz1udWxsLHRoaXMuaWdub3JlTmV4dEVxdWFsRHRzXz0hMSx0aGlzLm51bVNhbWVEdHNfPTAsdGhpcy5hY3RpdmVDZWE2MDhDaGFubmVsXz1bbnVsbCxudWxsXSx0aGlzLmNjU3RyZWFtc18uZm9yRWFjaChmdW5jdGlvbihlKXtlLnJlc2V0KCl9KX0sbi5wcm90b3R5cGUuZGlzcGF0Y2hDZWE2MDhQYWNrZXQ9ZnVuY3Rpb24oZSl7dGhpcy5zZXRzVGV4dE9yWERTQWN0aXZlKGUpP3RoaXMuYWN0aXZlQ2VhNjA4Q2hhbm5lbF9bZS50eXBlXT1udWxsOnRoaXMuc2V0c0NoYW5uZWwxQWN0aXZlKGUpP3RoaXMuYWN0aXZlQ2VhNjA4Q2hhbm5lbF9bZS50eXBlXT0wOnRoaXMuc2V0c0NoYW5uZWwyQWN0aXZlKGUpJiYodGhpcy5hY3RpdmVDZWE2MDhDaGFubmVsX1tlLnR5cGVdPTEpLG51bGwhPT10aGlzLmFjdGl2ZUNlYTYwOENoYW5uZWxfW2UudHlwZV0mJnRoaXMuY2NTdHJlYW1zX1soZS50eXBlPDwxKSt0aGlzLmFjdGl2ZUNlYTYwOENoYW5uZWxfW2UudHlwZV1dLnB1c2goZSl9LG4ucHJvdG90eXBlLnNldHNDaGFubmVsMUFjdGl2ZT1mdW5jdGlvbihlKXtyZXR1cm4gNDA5Nj09KDMwNzIwJmUuY2NEYXRhKX0sbi5wcm90b3R5cGUuc2V0c0NoYW5uZWwyQWN0aXZlPWZ1bmN0aW9uKGUpe3JldHVybiA2MTQ0PT0oMzA3MjAmZS5jY0RhdGEpfSxuLnByb3RvdHlwZS5zZXRzVGV4dE9yWERTQWN0aXZlPWZ1bmN0aW9uKGUpe3JldHVybiAyNTY9PSgyODkyOCZlLmNjRGF0YSl8fDQxMzg9PSgzMDk3NCZlLmNjRGF0YSl8fDYxODY9PSgzMDk3NCZlLmNjRGF0YSl9LG4ucHJvdG90eXBlLmRpc3BhdGNoQ2VhNzA4UGFja2V0PWZ1bmN0aW9uKGUpe3RoaXMucGFyc2U3MDhjYXB0aW9uc18mJnRoaXMuY2M3MDhTdHJlYW1fLnB1c2goZSl9LHsxMjc6OTgzNCw0MTI4OjMyLDQxMjk6MTYwLDQxMzM6ODIzMCw0MTM4OjM1Miw0MTQwOjMzOCw0MTQ0Ojk2MDgsNDE0NTo4MjE2LDQxNDY6ODIxNyw0MTQ3OjgyMjAsNDE0ODo4MjIxLDQxNDk6ODIyNiw0MTUzOjg0ODIsNDE1NDozNTMsNDE1NjozMzksNDE1Nzo4NDgwLDQxNTk6Mzc2LDQyMTQ6ODUzOSw0MjE1Ojg1NDAsNDIxNjo4NTQxLDQyMTc6ODU0Miw0MjE4OjkxNjgsNDIxOTo5MTI0LDQyMjA6OTEyMyw0MjIxOjkxMzUsNDIyMjo5MTI2LDQyMjM6OTEyMSw0MjU2OjEyNjAwfSksbT0oYS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLmNsZWFyVGV4dCgpLHRoaXMucGVuZGluZ05ld0xpbmU9ITEsdGhpcy53aW5BdHRyPXt9LHRoaXMucGVuQXR0cj17fSx0aGlzLnBlbkxvYz17fSx0aGlzLnBlbkNvbG9yPXt9LHRoaXMudmlzaWJsZT0wLHRoaXMucm93TG9jaz0wLHRoaXMuY29sdW1uTG9jaz0wLHRoaXMucHJpb3JpdHk9MCx0aGlzLnJlbGF0aXZlUG9zaXRpb25pbmc9MCx0aGlzLmFuY2hvclZlcnRpY2FsPTAsdGhpcy5hbmNob3JIb3Jpem9udGFsPTAsdGhpcy5hbmNob3JQb2ludD0wLHRoaXMucm93Q291bnQ9MSx0aGlzLnZpcnR1YWxSb3dDb3VudD10aGlzLnJvd0NvdW50KzEsdGhpcy5jb2x1bW5Db3VudD00MSx0aGlzLndpbmRvd1N0eWxlPTAsdGhpcy5wZW5TdHlsZT0wfSxhLnByb3RvdHlwZS5nZXRUZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucm93cy5qb2luKFwiXFxuXCIpfSxhLnByb3RvdHlwZS5jbGVhclRleHQ9ZnVuY3Rpb24oKXt0aGlzLnJvd3M9W1wiXCJdLHRoaXMucm93SWR4PTB9LGEucHJvdG90eXBlLm5ld0xpbmU9ZnVuY3Rpb24oZSl7Zm9yKHRoaXMucm93cy5sZW5ndGg+PXRoaXMudmlydHVhbFJvd0NvdW50JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLmJlZm9yZVJvd092ZXJmbG93JiZ0aGlzLmJlZm9yZVJvd092ZXJmbG93KGUpLDA8dGhpcy5yb3dzLmxlbmd0aCYmKHRoaXMucm93cy5wdXNoKFwiXCIpLHRoaXMucm93SWR4KyspO3RoaXMucm93cy5sZW5ndGg+dGhpcy52aXJ0dWFsUm93Q291bnQ7KXRoaXMucm93cy5zaGlmdCgpLHRoaXMucm93SWR4LS19LGEucHJvdG90eXBlLmlzRW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMucm93cy5sZW5ndGh8fDE9PT10aGlzLnJvd3MubGVuZ3RoJiZcIlwiPT09dGhpcy5yb3dzWzBdfSxhLnByb3RvdHlwZS5hZGRUZXh0PWZ1bmN0aW9uKGUpe3RoaXMucm93c1t0aGlzLnJvd0lkeF0rPWV9LGEucHJvdG90eXBlLmJhY2tzcGFjZT1mdW5jdGlvbigpe3ZhciBlO3RoaXMuaXNFbXB0eSgpfHwoZT10aGlzLnJvd3NbdGhpcy5yb3dJZHhdLHRoaXMucm93c1t0aGlzLnJvd0lkeF09ZS5zdWJzdHIoMCxlLmxlbmd0aC0xKSl9LFRlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGUsdCl7dGhpcy5zdGFydFB0cz1lO2Zvcih2YXIgaT0wO2k8ODtpKyspdGhpcy53aW5kb3dzW2ldPW5ldyBhKGkpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJih0aGlzLndpbmRvd3NbaV0uYmVmb3JlUm93T3ZlcmZsb3c9dCl9LFRlLnByb3RvdHlwZS5zZXRDdXJyZW50V2luZG93PWZ1bmN0aW9uKGUpe3RoaXMuY3VycmVudFdpbmRvdz10aGlzLndpbmRvd3NbZV19LFRlLnByb3RvdHlwZS5jcmVhdGVUZXh0RGVjb2Rlcj1mdW5jdGlvbih0KXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgVGV4dERlY29kZXIpdGhpcy5zdHJlYW0udHJpZ2dlcihcImxvZ1wiLHtsZXZlbDpcIndhcm5cIixtZXNzYWdlOlwiVGhlIGBlbmNvZGluZ2Agb3B0aW9uIGlzIHVuc3VwcG9ydGVkIHdpdGhvdXQgVGV4dERlY29kZXIgc3VwcG9ydFwifSk7ZWxzZSB0cnl7dGhpcy50ZXh0RGVjb2Rlcl89bmV3IFRleHREZWNvZGVyKHQpfWNhdGNoKGUpe3RoaXMuc3RyZWFtLnRyaWdnZXIoXCJsb2dcIix7bGV2ZWw6XCJ3YXJuXCIsbWVzc2FnZTpcIlRleHREZWNvZGVyIGNvdWxkIG5vdCBiZSBjcmVhdGVkIHdpdGggXCIrdCtcIiBlbmNvZGluZy4gXCIrZX0pfX0sZnVuY3Rpb24oZSl7ZT1lfHx7fSxtLnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyk7dmFyIHQsaT10aGlzLHM9ZS5jYXB0aW9uU2VydmljZXN8fHt9LHI9e307T2JqZWN0LmtleXMocykuZm9yRWFjaChlPT57dD1zW2VdLC9eU0VSVklDRS8udGVzdChlKSYmKHJbZV09dC5lbmNvZGluZyl9KSx0aGlzLnNlcnZpY2VFbmNvZGluZ3M9cix0aGlzLmN1cnJlbnQ3MDhQYWNrZXQ9bnVsbCx0aGlzLnNlcnZpY2VzPXt9LHRoaXMucHVzaD1mdW5jdGlvbihlKXsoMz09PWUudHlwZXx8bnVsbD09PWkuY3VycmVudDcwOFBhY2tldCkmJmkubmV3NzA4UGFja2V0KCksaS5hZGQ3MDhCeXRlcyhlKX19KSxGZT0obS5wcm90b3R5cGU9bmV3IHAsbS5wcm90b3R5cGUubmV3NzA4UGFja2V0PWZ1bmN0aW9uKCl7bnVsbCE9PXRoaXMuY3VycmVudDcwOFBhY2tldCYmdGhpcy5wdXNoNzA4UGFja2V0KCksdGhpcy5jdXJyZW50NzA4UGFja2V0PXtkYXRhOltdLHB0c1ZhbHM6W119fSxtLnByb3RvdHlwZS5hZGQ3MDhCeXRlcz1mdW5jdGlvbihlKXt2YXIgdD1lLmNjRGF0YSxpPXQ+Pj44LHQ9MjU1JnQ7dGhpcy5jdXJyZW50NzA4UGFja2V0LnB0c1ZhbHMucHVzaChlLnB0cyksdGhpcy5jdXJyZW50NzA4UGFja2V0LmRhdGEucHVzaChpKSx0aGlzLmN1cnJlbnQ3MDhQYWNrZXQuZGF0YS5wdXNoKHQpfSxtLnByb3RvdHlwZS5wdXNoNzA4UGFja2V0PWZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLmN1cnJlbnQ3MDhQYWNrZXQsaT10LmRhdGEscz1udWxsLHI9MCxuPWlbcisrXTtmb3IodC5zZXE9bj4+Nix0LnNpemVDb2RlPTYzJm47cjxpLmxlbmd0aDtyKyspZT0zMSYobj1pW3IrK10pLDc9PT0ocz1uPj41KSYmMDxlJiYocz1pW3IrK10pLHRoaXMucHVzaFNlcnZpY2VCbG9jayhzLHIsZSksMDxlJiYocis9ZS0xKX0sbS5wcm90b3R5cGUucHVzaFNlcnZpY2VCbG9jaz1mdW5jdGlvbihlLHQsaSl7Zm9yKHZhciBzLHI9dCxuPXRoaXMuY3VycmVudDcwOFBhY2tldC5kYXRhLGE9KGE9dGhpcy5zZXJ2aWNlc1tlXSl8fHRoaXMuaW5pdFNlcnZpY2UoZSxyKTtyPHQraSYmcjxuLmxlbmd0aDtyKyspcz1uW3JdLG8ocyk/cj10aGlzLmhhbmRsZVRleHQocixhKToyND09PXM/cj10aGlzLm11bHRpQnl0ZUNoYXJhY3RlcihyLGEpOjE2PT09cz9yPXRoaXMuZXh0ZW5kZWRDb21tYW5kcyhyLGEpOjEyODw9cyYmczw9MTM1P3I9dGhpcy5zZXRDdXJyZW50V2luZG93KHIsYSk6MTUyPD1zJiZzPD0xNTk/cj10aGlzLmRlZmluZVdpbmRvdyhyLGEpOjEzNj09PXM/cj10aGlzLmNsZWFyV2luZG93cyhyLGEpOjE0MD09PXM/cj10aGlzLmRlbGV0ZVdpbmRvd3MocixhKToxMzc9PT1zP3I9dGhpcy5kaXNwbGF5V2luZG93cyhyLGEpOjEzOD09PXM/cj10aGlzLmhpZGVXaW5kb3dzKHIsYSk6MTM5PT09cz9yPXRoaXMudG9nZ2xlV2luZG93cyhyLGEpOjE1MT09PXM/cj10aGlzLnNldFdpbmRvd0F0dHJpYnV0ZXMocixhKToxNDQ9PT1zP3I9dGhpcy5zZXRQZW5BdHRyaWJ1dGVzKHIsYSk6MTQ1PT09cz9yPXRoaXMuc2V0UGVuQ29sb3IocixhKToxNDY9PT1zP3I9dGhpcy5zZXRQZW5Mb2NhdGlvbihyLGEpOjE0Mz09PXM/YT10aGlzLnJlc2V0KHIsYSk6OD09PXM/YS5jdXJyZW50V2luZG93LmJhY2tzcGFjZSgpOjEyPT09cz9hLmN1cnJlbnRXaW5kb3cuY2xlYXJUZXh0KCk6MTM9PT1zP2EuY3VycmVudFdpbmRvdy5wZW5kaW5nTmV3TGluZT0hMDoxND09PXM/YS5jdXJyZW50V2luZG93LmNsZWFyVGV4dCgpOjE0MT09PXMmJnIrK30sbS5wcm90b3R5cGUuZXh0ZW5kZWRDb21tYW5kcz1mdW5jdGlvbihlLHQpe3ZhciBpPXRoaXMuY3VycmVudDcwOFBhY2tldC5kYXRhWysrZV07cmV0dXJuIGU9byhpKT90aGlzLmhhbmRsZVRleHQoZSx0LHtpc0V4dGVuZGVkOiEwfSk6ZX0sbS5wcm90b3R5cGUuZ2V0UHRzPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmN1cnJlbnQ3MDhQYWNrZXQucHRzVmFsc1tNYXRoLmZsb29yKGUvMildfSxtLnByb3RvdHlwZS5pbml0U2VydmljZT1mdW5jdGlvbih0LGUpe3ZhciBpLHM9XCJTRVJWSUNFXCIrdCxyPXRoaXM7cmV0dXJuIHMgaW4gdGhpcy5zZXJ2aWNlRW5jb2RpbmdzJiYoaT10aGlzLnNlcnZpY2VFbmNvZGluZ3Nbc10pLHRoaXMuc2VydmljZXNbdF09bmV3IFRlKHQsaSxyKSx0aGlzLnNlcnZpY2VzW3RdLmluaXQodGhpcy5nZXRQdHMoZSksZnVuY3Rpb24oZSl7ci5mbHVzaERpc3BsYXllZChlLHIuc2VydmljZXNbdF0pfSksdGhpcy5zZXJ2aWNlc1t0XX0sbS5wcm90b3R5cGUuaGFuZGxlVGV4dD1mdW5jdGlvbihlLHQsaSl7dmFyIHMscj1pJiZpLmlzRXh0ZW5kZWQsaT1pJiZpLmlzTXVsdGlCeXRlLG49dGhpcy5jdXJyZW50NzA4UGFja2V0LmRhdGEsYT1yPzQwOTY6MCxvPW5bZV0sbj1uW2UrMV0sbD10LmN1cnJlbnRXaW5kb3csbj10LnRleHREZWNvZGVyXyYmIXI/KGk/KHM9W28sbl0sZSsrKTpzPVtvXSx0LnRleHREZWNvZGVyXy5kZWNvZGUobmV3IFVpbnQ4QXJyYXkocykpKTooaT1CZVtyPWF8b118fHIsNDA5NiZyJiZyPT09aT9cIlwiOlN0cmluZy5mcm9tQ2hhckNvZGUoaSkpO3JldHVybiBsLnBlbmRpbmdOZXdMaW5lJiYhbC5pc0VtcHR5KCkmJmwubmV3TGluZSh0aGlzLmdldFB0cyhlKSksbC5wZW5kaW5nTmV3TGluZT0hMSxsLmFkZFRleHQobiksZX0sbS5wcm90b3R5cGUubXVsdGlCeXRlQ2hhcmFjdGVyPWZ1bmN0aW9uKGUsdCl7dmFyIGk9dGhpcy5jdXJyZW50NzA4UGFja2V0LmRhdGEscz1pW2UrMV0saT1pW2UrMl07cmV0dXJuIGU9byhzKSYmbyhpKT90aGlzLmhhbmRsZVRleHQoKytlLHQse2lzTXVsdGlCeXRlOiEwfSk6ZX0sbS5wcm90b3R5cGUuc2V0Q3VycmVudFdpbmRvdz1mdW5jdGlvbihlLHQpe3ZhciBpPXRoaXMuY3VycmVudDcwOFBhY2tldC5kYXRhW2VdO3JldHVybiB0LnNldEN1cnJlbnRXaW5kb3coNyZpKSxlfSxtLnByb3RvdHlwZS5kZWZpbmVXaW5kb3c9ZnVuY3Rpb24oZSx0KXt2YXIgaT10aGlzLmN1cnJlbnQ3MDhQYWNrZXQuZGF0YSxzPWlbZV0sdD0odC5zZXRDdXJyZW50V2luZG93KDcmcyksdC5jdXJyZW50V2luZG93KSxzPWlbKytlXTtyZXR1cm4gdC52aXNpYmxlPSgzMiZzKT4+NSx0LnJvd0xvY2s9KDE2JnMpPj40LHQuY29sdW1uTG9jaz0oOCZzKT4+Myx0LnByaW9yaXR5PTcmcyxzPWlbKytlXSx0LnJlbGF0aXZlUG9zaXRpb25pbmc9KDEyOCZzKT4+Nyx0LmFuY2hvclZlcnRpY2FsPTEyNyZzLHM9aVsrK2VdLHQuYW5jaG9ySG9yaXpvbnRhbD1zLHM9aVsrK2VdLHQuYW5jaG9yUG9pbnQ9KDI0MCZzKT4+NCx0LnJvd0NvdW50PTE1JnMscz1pWysrZV0sdC5jb2x1bW5Db3VudD02MyZzLHM9aVsrK2VdLHQud2luZG93U3R5bGU9KDU2JnMpPj4zLHQucGVuU3R5bGU9NyZzLHQudmlydHVhbFJvd0NvdW50PXQucm93Q291bnQrMSxlfSxtLnByb3RvdHlwZS5zZXRXaW5kb3dBdHRyaWJ1dGVzPWZ1bmN0aW9uKGUsdCl7dmFyIGk9dGhpcy5jdXJyZW50NzA4UGFja2V0LmRhdGEsdD0oaVtlXSx0LmN1cnJlbnRXaW5kb3cud2luQXR0cikscz1pWysrZV07cmV0dXJuIHQuZmlsbE9wYWNpdHk9KDE5MiZzKT4+Nix0LmZpbGxSZWQ9KDQ4JnMpPj40LHQuZmlsbEdyZWVuPSgxMiZzKT4+Mix0LmZpbGxCbHVlPTMmcyxzPWlbKytlXSx0LmJvcmRlclR5cGU9KDE5MiZzKT4+Nix0LmJvcmRlclJlZD0oNDgmcyk+PjQsdC5ib3JkZXJHcmVlbj0oMTImcyk+PjIsdC5ib3JkZXJCbHVlPTMmcyxzPWlbKytlXSx0LmJvcmRlclR5cGUrPSgxMjgmcyk+PjUsdC53b3JkV3JhcD0oNjQmcyk+PjYsdC5wcmludERpcmVjdGlvbj0oNDgmcyk+PjQsdC5zY3JvbGxEaXJlY3Rpb249KDEyJnMpPj4yLHQuanVzdGlmeT0zJnMscz1pWysrZV0sdC5lZmZlY3RTcGVlZD0oMjQwJnMpPj40LHQuZWZmZWN0RGlyZWN0aW9uPSgxMiZzKT4+Mix0LmRpc3BsYXlFZmZlY3Q9MyZzLGV9LG0ucHJvdG90eXBlLmZsdXNoRGlzcGxheWVkPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBpPVtdLHM9MDtzPDg7cysrKXQud2luZG93c1tzXS52aXNpYmxlJiYhdC53aW5kb3dzW3NdLmlzRW1wdHkoKSYmaS5wdXNoKHQud2luZG93c1tzXS5nZXRUZXh0KCkpO3QuZW5kUHRzPWUsdC50ZXh0PWkuam9pbihcIlxcblxcblwiKSx0aGlzLnB1c2hDYXB0aW9uKHQpLHQuc3RhcnRQdHM9ZX0sbS5wcm90b3R5cGUucHVzaENhcHRpb249ZnVuY3Rpb24oZSl7XCJcIiE9PWUudGV4dCYmKHRoaXMudHJpZ2dlcihcImRhdGFcIix7c3RhcnRQdHM6ZS5zdGFydFB0cyxlbmRQdHM6ZS5lbmRQdHMsdGV4dDplLnRleHQsc3RyZWFtOlwiY2M3MDhfXCIrZS5zZXJ2aWNlTnVtfSksZS50ZXh0PVwiXCIsZS5zdGFydFB0cz1lLmVuZFB0cyl9LG0ucHJvdG90eXBlLmRpc3BsYXlXaW5kb3dzPWZ1bmN0aW9uKGUsdCl7dmFyIGk9dGhpcy5jdXJyZW50NzA4UGFja2V0LmRhdGFbKytlXSxzPXRoaXMuZ2V0UHRzKGUpO3RoaXMuZmx1c2hEaXNwbGF5ZWQocyx0KTtmb3IodmFyIHI9MDtyPDg7cisrKWkmMTw8ciYmKHQud2luZG93c1tyXS52aXNpYmxlPTEpO3JldHVybiBlfSxtLnByb3RvdHlwZS5oaWRlV2luZG93cz1mdW5jdGlvbihlLHQpe3ZhciBpPXRoaXMuY3VycmVudDcwOFBhY2tldC5kYXRhWysrZV0scz10aGlzLmdldFB0cyhlKTt0aGlzLmZsdXNoRGlzcGxheWVkKHMsdCk7Zm9yKHZhciByPTA7cjw4O3IrKylpJjE8PHImJih0LndpbmRvd3Nbcl0udmlzaWJsZT0wKTtyZXR1cm4gZX0sbS5wcm90b3R5cGUudG9nZ2xlV2luZG93cz1mdW5jdGlvbihlLHQpe3ZhciBpPXRoaXMuY3VycmVudDcwOFBhY2tldC5kYXRhWysrZV0scz10aGlzLmdldFB0cyhlKTt0aGlzLmZsdXNoRGlzcGxheWVkKHMsdCk7Zm9yKHZhciByPTA7cjw4O3IrKylpJjE8PHImJih0LndpbmRvd3Nbcl0udmlzaWJsZV49MSk7cmV0dXJuIGV9LG0ucHJvdG90eXBlLmNsZWFyV2luZG93cz1mdW5jdGlvbihlLHQpe3ZhciBpPXRoaXMuY3VycmVudDcwOFBhY2tldC5kYXRhWysrZV0scz10aGlzLmdldFB0cyhlKTt0aGlzLmZsdXNoRGlzcGxheWVkKHMsdCk7Zm9yKHZhciByPTA7cjw4O3IrKylpJjE8PHImJnQud2luZG93c1tyXS5jbGVhclRleHQoKTtyZXR1cm4gZX0sbS5wcm90b3R5cGUuZGVsZXRlV2luZG93cz1mdW5jdGlvbihlLHQpe3ZhciBpPXRoaXMuY3VycmVudDcwOFBhY2tldC5kYXRhWysrZV0scz10aGlzLmdldFB0cyhlKTt0aGlzLmZsdXNoRGlzcGxheWVkKHMsdCk7Zm9yKHZhciByPTA7cjw4O3IrKylpJjE8PHImJnQud2luZG93c1tyXS5yZXNldCgpO3JldHVybiBlfSxtLnByb3RvdHlwZS5zZXRQZW5BdHRyaWJ1dGVzPWZ1bmN0aW9uKGUsdCl7dmFyIGk9dGhpcy5jdXJyZW50NzA4UGFja2V0LmRhdGEsdD0oaVtlXSx0LmN1cnJlbnRXaW5kb3cucGVuQXR0cikscz1pWysrZV07cmV0dXJuIHQudGV4dFRhZz0oMjQwJnMpPj40LHQub2Zmc2V0PSgxMiZzKT4+Mix0LnBlblNpemU9MyZzLHM9aVsrK2VdLHQuaXRhbGljcz0oMTI4JnMpPj43LHQudW5kZXJsaW5lPSg2NCZzKT4+Nix0LmVkZ2VUeXBlPSg1NiZzKT4+Myx0LmZvbnRTdHlsZT03JnMsZX0sbS5wcm90b3R5cGUuc2V0UGVuQ29sb3I9ZnVuY3Rpb24oZSx0KXt2YXIgaT10aGlzLmN1cnJlbnQ3MDhQYWNrZXQuZGF0YSx0PShpW2VdLHQuY3VycmVudFdpbmRvdy5wZW5Db2xvcikscz1pWysrZV07cmV0dXJuIHQuZmdPcGFjaXR5PSgxOTImcyk+PjYsdC5mZ1JlZD0oNDgmcyk+PjQsdC5mZ0dyZWVuPSgxMiZzKT4+Mix0LmZnQmx1ZT0zJnMscz1pWysrZV0sdC5iZ09wYWNpdHk9KDE5MiZzKT4+Nix0LmJnUmVkPSg0OCZzKT4+NCx0LmJnR3JlZW49KDEyJnMpPj4yLHQuYmdCbHVlPTMmcyxzPWlbKytlXSx0LmVkZ2VSZWQ9KDQ4JnMpPj40LHQuZWRnZUdyZWVuPSgxMiZzKT4+Mix0LmVkZ2VCbHVlPTMmcyxlfSxtLnByb3RvdHlwZS5zZXRQZW5Mb2NhdGlvbj1mdW5jdGlvbihlLHQpe3ZhciBpPXRoaXMuY3VycmVudDcwOFBhY2tldC5kYXRhLHM9KGlbZV0sdC5jdXJyZW50V2luZG93LnBlbkxvYyk7cmV0dXJuIHQuY3VycmVudFdpbmRvdy5wZW5kaW5nTmV3TGluZT0hMCx0PWlbKytlXSxzLnJvdz0xNSZ0LHQ9aVsrK2VdLHMuY29sdW1uPTYzJnQsZX0sbS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oZSx0KXt2YXIgaT10aGlzLmdldFB0cyhlKTtyZXR1cm4gdGhpcy5mbHVzaERpc3BsYXllZChpLHQpLHRoaXMuaW5pdFNlcnZpY2UodC5zZXJ2aWNlTnVtLGUpfSx7NDI6MjI1LDkyOjIzMyw5NDoyMzcsOTU6MjQzLDk2OjI1MCwxMjM6MjMxLDEyNDoyNDcsMTI1OjIwOSwxMjY6MjQxLDEyNzo5NjA4LDMwNDoxNzQsMzA1OjE3NiwzMDY6MTg5LDMwNzoxOTEsMzA4Ojg0ODIsMzA5OjE2MiwzMTA6MTYzLDMxMTo5ODM0LDMxMjoyMjQsMzEzOjE2MCwzMTQ6MjMyLDMxNToyMjYsMzE2OjIzNCwzMTc6MjM4LDMxODoyNDQsMzE5OjI1MSw1NDQ6MTkzLDU0NToyMDEsNTQ2OjIxMSw1NDc6MjE4LDU0ODoyMjAsNTQ5OjI1Miw1NTA6ODIxNiw1NTE6MTYxLDU1Mjo0Miw1NTM6MzksNTU0OjgyMTIsNTU1OjE2OSw1NTY6ODQ4MCw1NTc6ODIyNiw1NTg6ODIyMCw1NTk6ODIyMSw1NjA6MTkyLDU2MToxOTQsNTYyOjE5OSw1NjM6MjAwLDU2NDoyMDIsNTY1OjIwMyw1NjY6MjM1LDU2NzoyMDYsNTY4OjIwNyw1Njk6MjM5LDU3MDoyMTIsNTcxOjIxNyw1NzI6MjQ5LDU3MzoyMTksNTc0OjE3MSw1NzU6MTg3LDgwMDoxOTUsODAxOjIyNyw4MDI6MjA1LDgwMzoyMDQsODA0OjIzNiw4MDU6MjEwLDgwNjoyNDIsODA3OjIxMyw4MDg6MjQ1LDgwOToxMjMsODEwOjEyNSw4MTE6OTIsODEyOjk0LDgxMzo5NSw4MTQ6MTI0LDgxNToxMjYsODE2OjE5Niw4MTc6MjI4LDgxODoyMTQsODE5OjI0Niw4MjA6MjIzLDgyMToxNjUsODIyOjE2NCw4MjM6OTQ3NCw4MjQ6MTk3LDgyNToyMjksODI2OjIxNiw4Mjc6MjQ4LDgyODo5NDg0LDgyOTo5NDg4LDgzMDo5NDkyLDgzMTo5NDk2fSksamU9MTQsSGU9WzQzNTIsNDM4NCw0NjA4LDQ2NDAsNTM3Niw1NDA4LDU2MzIsNTY2NCw1ODg4LDU5MjAsNDA5Niw0ODY0LDQ4OTYsNTEyMCw1MTUyXSxnPWZ1bmN0aW9uKGUsdCl7Zy5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMpLHRoaXMuZmllbGRfPWV8fDAsdGhpcy5kYXRhQ2hhbm5lbF89dHx8MCx0aGlzLm5hbWVfPVwiQ0NcIisoMSsodGhpcy5maWVsZF88PDF8dGhpcy5kYXRhQ2hhbm5lbF8pKSx0aGlzLnNldENvbnN0YW50cygpLHRoaXMucmVzZXQoKSx0aGlzLnB1c2g9ZnVuY3Rpb24oZSl7dmFyIHQsaSxzLHIsbj0zMjYzOSZlLmNjRGF0YTtuPT09dGhpcy5sYXN0Q29udHJvbENvZGVfP3RoaXMubGFzdENvbnRyb2xDb2RlXz1udWxsOig0MDk2PT0oNjE0NDAmbik/dGhpcy5sYXN0Q29udHJvbENvZGVfPW46biE9PXRoaXMuUEFERElOR18mJih0aGlzLmxhc3RDb250cm9sQ29kZV89bnVsbCksdD1uPj4+OCxpPTI1NSZuLG4hPT10aGlzLlBBRERJTkdfJiYobj09PXRoaXMuUkVTVU1FX0NBUFRJT05fTE9BRElOR18/dGhpcy5tb2RlXz1cInBvcE9uXCI6bj09PXRoaXMuRU5EX09GX0NBUFRJT05fPyh0aGlzLm1vZGVfPVwicG9wT25cIix0aGlzLmNsZWFyRm9ybWF0dGluZyhlLnB0cyksdGhpcy5mbHVzaERpc3BsYXllZChlLnB0cykscj10aGlzLmRpc3BsYXllZF8sdGhpcy5kaXNwbGF5ZWRfPXRoaXMubm9uRGlzcGxheWVkXyx0aGlzLm5vbkRpc3BsYXllZF89cix0aGlzLnN0YXJ0UHRzXz1lLnB0cyk6bj09PXRoaXMuUk9MTF9VUF8yX1JPV1NfPyh0aGlzLnJvbGxVcFJvd3NfPTIsdGhpcy5zZXRSb2xsVXAoZS5wdHMpKTpuPT09dGhpcy5ST0xMX1VQXzNfUk9XU18/KHRoaXMucm9sbFVwUm93c189Myx0aGlzLnNldFJvbGxVcChlLnB0cykpOm49PT10aGlzLlJPTExfVVBfNF9ST1dTXz8odGhpcy5yb2xsVXBSb3dzXz00LHRoaXMuc2V0Um9sbFVwKGUucHRzKSk6bj09PXRoaXMuQ0FSUklBR0VfUkVUVVJOXz8odGhpcy5jbGVhckZvcm1hdHRpbmcoZS5wdHMpLHRoaXMuZmx1c2hEaXNwbGF5ZWQoZS5wdHMpLHRoaXMuc2hpZnRSb3dzVXBfKCksdGhpcy5zdGFydFB0c189ZS5wdHMpOm49PT10aGlzLkJBQ0tTUEFDRV8/XCJwb3BPblwiPT09dGhpcy5tb2RlXz90aGlzLm5vbkRpc3BsYXllZF9bdGhpcy5yb3dfXT10aGlzLm5vbkRpc3BsYXllZF9bdGhpcy5yb3dfXS5zbGljZSgwLC0xKTp0aGlzLmRpc3BsYXllZF9bdGhpcy5yb3dfXT10aGlzLmRpc3BsYXllZF9bdGhpcy5yb3dfXS5zbGljZSgwLC0xKTpuPT09dGhpcy5FUkFTRV9ESVNQTEFZRURfTUVNT1JZXz8odGhpcy5mbHVzaERpc3BsYXllZChlLnB0cyksdGhpcy5kaXNwbGF5ZWRfPWgoKSk6bj09PXRoaXMuRVJBU0VfTk9OX0RJU1BMQVlFRF9NRU1PUllfP3RoaXMubm9uRGlzcGxheWVkXz1oKCk6bj09PXRoaXMuUkVTVU1FX0RJUkVDVF9DQVBUSU9OSU5HXz8oXCJwYWludE9uXCIhPT10aGlzLm1vZGVfJiYodGhpcy5mbHVzaERpc3BsYXllZChlLnB0cyksdGhpcy5kaXNwbGF5ZWRfPWgoKSksdGhpcy5tb2RlXz1cInBhaW50T25cIix0aGlzLnN0YXJ0UHRzXz1lLnB0cyk6dGhpcy5pc1NwZWNpYWxDaGFyYWN0ZXIodCxpKT8ocz1TZSgodD0oMyZ0KTw8OCl8aSksdGhpc1t0aGlzLm1vZGVfXShlLnB0cyxzKSx0aGlzLmNvbHVtbl8rKyk6dGhpcy5pc0V4dENoYXJhY3Rlcih0LGkpPyhcInBvcE9uXCI9PT10aGlzLm1vZGVfP3RoaXMubm9uRGlzcGxheWVkX1t0aGlzLnJvd19dPXRoaXMubm9uRGlzcGxheWVkX1t0aGlzLnJvd19dLnNsaWNlKDAsLTEpOnRoaXMuZGlzcGxheWVkX1t0aGlzLnJvd19dPXRoaXMuZGlzcGxheWVkX1t0aGlzLnJvd19dLnNsaWNlKDAsLTEpLHM9U2UoKHQ9KDMmdCk8PDgpfGkpLHRoaXNbdGhpcy5tb2RlX10oZS5wdHMscyksdGhpcy5jb2x1bW5fKyspOnRoaXMuaXNNaWRSb3dDb2RlKHQsaSk/KHRoaXMuY2xlYXJGb3JtYXR0aW5nKGUucHRzKSx0aGlzW3RoaXMubW9kZV9dKGUucHRzLFwiIFwiKSx0aGlzLmNvbHVtbl8rKywxND09KDE0JmkpJiZ0aGlzLmFkZEZvcm1hdHRpbmcoZS5wdHMsW1wiaVwiXSksMT09KDEmaSkmJnRoaXMuYWRkRm9ybWF0dGluZyhlLnB0cyxbXCJ1XCJdKSk6dGhpcy5pc09mZnNldENvbnRyb2xDb2RlKHQsaSk/dGhpcy5jb2x1bW5fKz0zJmk6dGhpcy5pc1BBQyh0LGkpPyhyPUhlLmluZGV4T2YoNzk2OCZuKSxcInJvbGxVcFwiPT09dGhpcy5tb2RlXyYmKHItdGhpcy5yb2xsVXBSb3dzXysxPDAmJihyPXRoaXMucm9sbFVwUm93c18tMSksdGhpcy5zZXRSb2xsVXAoZS5wdHMscikpLHIhPT10aGlzLnJvd18mJih0aGlzLmNsZWFyRm9ybWF0dGluZyhlLnB0cyksdGhpcy5yb3dfPXIpLDEmaSYmLTE9PT10aGlzLmZvcm1hdHRpbmdfLmluZGV4T2YoXCJ1XCIpJiZ0aGlzLmFkZEZvcm1hdHRpbmcoZS5wdHMsW1widVwiXSksMTY9PSgxNiZuKSYmKHRoaXMuY29sdW1uXz00KigoMTQmbik+PjEpKSx0aGlzLmlzQ29sb3JQQUMoaSkmJjE0PT0oMTQmaSkmJnRoaXMuYWRkRm9ybWF0dGluZyhlLnB0cyxbXCJpXCJdKSk6dGhpcy5pc05vcm1hbENoYXIodCkmJigwPT09aSYmKGk9bnVsbCkscz1TZSh0KSxzKz1TZShpKSx0aGlzW3RoaXMubW9kZV9dKGUucHRzLHMpLHRoaXMuY29sdW1uXys9cy5sZW5ndGgpKSl9fSxwPShnLnByb3RvdHlwZT1uZXcgcCxnLnByb3RvdHlwZS5mbHVzaERpc3BsYXllZD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmRpc3BsYXllZF8ubWFwKGZ1bmN0aW9uKGUsdCl7dHJ5e3JldHVybiBlLnRyaW0oKX1jYXRjaChlKXtyZXR1cm4gdGhpcy50cmlnZ2VyKFwibG9nXCIse2xldmVsOlwid2FyblwiLG1lc3NhZ2U6XCJTa2lwcGluZyBhIG1hbGZvcm1lZCA2MDggY2FwdGlvbiBhdCBpbmRleCBcIit0K1wiLlwifSksXCJcIn19LHRoaXMpLmpvaW4oXCJcXG5cIikucmVwbGFjZSgvXlxcbit8XFxuKyQvZyxcIlwiKTt0Lmxlbmd0aCYmdGhpcy50cmlnZ2VyKFwiZGF0YVwiLHtzdGFydFB0czp0aGlzLnN0YXJ0UHRzXyxlbmRQdHM6ZSx0ZXh0OnQsc3RyZWFtOnRoaXMubmFtZV99KX0sZy5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLm1vZGVfPVwicG9wT25cIix0aGlzLnRvcFJvd189MCx0aGlzLnN0YXJ0UHRzXz0wLHRoaXMuZGlzcGxheWVkXz1oKCksdGhpcy5ub25EaXNwbGF5ZWRfPWgoKSx0aGlzLmxhc3RDb250cm9sQ29kZV89bnVsbCx0aGlzLmNvbHVtbl89MCx0aGlzLnJvd189amUsdGhpcy5yb2xsVXBSb3dzXz0yLHRoaXMuZm9ybWF0dGluZ189W119LGcucHJvdG90eXBlLnNldENvbnN0YW50cz1mdW5jdGlvbigpezA9PT10aGlzLmRhdGFDaGFubmVsXz8odGhpcy5CQVNFXz0xNix0aGlzLkVYVF89MTcsdGhpcy5DT05UUk9MXz0oMjB8dGhpcy5maWVsZF8pPDw4LHRoaXMuT0ZGU0VUXz0yMyk6MT09PXRoaXMuZGF0YUNoYW5uZWxfJiYodGhpcy5CQVNFXz0yNCx0aGlzLkVYVF89MjUsdGhpcy5DT05UUk9MXz0oMjh8dGhpcy5maWVsZF8pPDw4LHRoaXMuT0ZGU0VUXz0zMSksdGhpcy5QQURESU5HXz0wLHRoaXMuUkVTVU1FX0NBUFRJT05fTE9BRElOR189MzJ8dGhpcy5DT05UUk9MXyx0aGlzLkVORF9PRl9DQVBUSU9OXz00N3x0aGlzLkNPTlRST0xfLHRoaXMuUk9MTF9VUF8yX1JPV1NfPTM3fHRoaXMuQ09OVFJPTF8sdGhpcy5ST0xMX1VQXzNfUk9XU189Mzh8dGhpcy5DT05UUk9MXyx0aGlzLlJPTExfVVBfNF9ST1dTXz0zOXx0aGlzLkNPTlRST0xfLHRoaXMuQ0FSUklBR0VfUkVUVVJOXz00NXx0aGlzLkNPTlRST0xfLHRoaXMuUkVTVU1FX0RJUkVDVF9DQVBUSU9OSU5HXz00MXx0aGlzLkNPTlRST0xfLHRoaXMuQkFDS1NQQUNFXz0zM3x0aGlzLkNPTlRST0xfLHRoaXMuRVJBU0VfRElTUExBWUVEX01FTU9SWV89NDR8dGhpcy5DT05UUk9MXyx0aGlzLkVSQVNFX05PTl9ESVNQTEFZRURfTUVNT1JZXz00Nnx0aGlzLkNPTlRST0xffSxnLnByb3RvdHlwZS5pc1NwZWNpYWxDaGFyYWN0ZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXRoaXMuRVhUXyYmNDg8PXQmJnQ8PTYzfSxnLnByb3RvdHlwZS5pc0V4dENoYXJhY3Rlcj1mdW5jdGlvbihlLHQpe3JldHVybihlPT09dGhpcy5FWFRfKzF8fGU9PT10aGlzLkVYVF8rMikmJjMyPD10JiZ0PD02M30sZy5wcm90b3R5cGUuaXNNaWRSb3dDb2RlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PT10aGlzLkVYVF8mJjMyPD10JiZ0PD00N30sZy5wcm90b3R5cGUuaXNPZmZzZXRDb250cm9sQ29kZT1mdW5jdGlvbihlLHQpe3JldHVybiBlPT09dGhpcy5PRkZTRVRfJiYzMzw9dCYmdDw9MzV9LGcucHJvdG90eXBlLmlzUEFDPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU+PXRoaXMuQkFTRV8mJmU8dGhpcy5CQVNFXys4JiY2NDw9dCYmdDw9MTI3fSxnLnByb3RvdHlwZS5pc0NvbG9yUEFDPWZ1bmN0aW9uKGUpe3JldHVybiA2NDw9ZSYmZTw9Nzl8fDk2PD1lJiZlPD0xMjd9LGcucHJvdG90eXBlLmlzTm9ybWFsQ2hhcj1mdW5jdGlvbihlKXtyZXR1cm4gMzI8PWUmJmU8PTEyN30sZy5wcm90b3R5cGUuc2V0Um9sbFVwPWZ1bmN0aW9uKGUsdCl7aWYoXCJyb2xsVXBcIiE9PXRoaXMubW9kZV8mJih0aGlzLnJvd189amUsdGhpcy5tb2RlXz1cInJvbGxVcFwiLHRoaXMuZmx1c2hEaXNwbGF5ZWQoZSksdGhpcy5ub25EaXNwbGF5ZWRfPWgoKSx0aGlzLmRpc3BsYXllZF89aCgpKSx2b2lkIDAhPT10JiZ0IT09dGhpcy5yb3dfKWZvcih2YXIgaT0wO2k8dGhpcy5yb2xsVXBSb3dzXztpKyspdGhpcy5kaXNwbGF5ZWRfW3QtaV09dGhpcy5kaXNwbGF5ZWRfW3RoaXMucm93Xy1pXSx0aGlzLmRpc3BsYXllZF9bdGhpcy5yb3dfLWldPVwiXCI7dm9pZCAwPT09dCYmKHQ9dGhpcy5yb3dfKSx0aGlzLnRvcFJvd189dC10aGlzLnJvbGxVcFJvd3NfKzF9LGcucHJvdG90eXBlLmFkZEZvcm1hdHRpbmc9ZnVuY3Rpb24oZSx0KXt0aGlzLmZvcm1hdHRpbmdfPXRoaXMuZm9ybWF0dGluZ18uY29uY2F0KHQpO3Q9dC5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZStcIjxcIit0K1wiPlwifSxcIlwiKTt0aGlzW3RoaXMubW9kZV9dKGUsdCl9LGcucHJvdG90eXBlLmNsZWFyRm9ybWF0dGluZz1mdW5jdGlvbihlKXt2YXIgdDt0aGlzLmZvcm1hdHRpbmdfLmxlbmd0aCYmKHQ9dGhpcy5mb3JtYXR0aW5nXy5yZXZlcnNlKCkucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUrXCI8L1wiK3QrXCI+XCJ9LFwiXCIpLHRoaXMuZm9ybWF0dGluZ189W10sdGhpc1t0aGlzLm1vZGVfXShlLHQpKX0sZy5wcm90b3R5cGUucG9wT249ZnVuY3Rpb24oZSx0KXt2YXIgaT10aGlzLm5vbkRpc3BsYXllZF9bdGhpcy5yb3dfXTt0aGlzLm5vbkRpc3BsYXllZF9bdGhpcy5yb3dfXT1pKz10fSxnLnByb3RvdHlwZS5yb2xsVXA9ZnVuY3Rpb24oZSx0KXt2YXIgaT10aGlzLmRpc3BsYXllZF9bdGhpcy5yb3dfXTt0aGlzLmRpc3BsYXllZF9bdGhpcy5yb3dfXT1pKz10fSxnLnByb3RvdHlwZS5zaGlmdFJvd3NVcF89ZnVuY3Rpb24oKXtmb3IodmFyIGU9MDtlPHRoaXMudG9wUm93XztlKyspdGhpcy5kaXNwbGF5ZWRfW2VdPVwiXCI7Zm9yKGU9dGhpcy5yb3dfKzE7ZTxqZSsxO2UrKyl0aGlzLmRpc3BsYXllZF9bZV09XCJcIjtmb3IoZT10aGlzLnRvcFJvd187ZTx0aGlzLnJvd187ZSsrKXRoaXMuZGlzcGxheWVkX1tlXT10aGlzLmRpc3BsYXllZF9bZSsxXTt0aGlzLmRpc3BsYXllZF9bdGhpcy5yb3dfXT1cIlwifSxnLnByb3RvdHlwZS5wYWludE9uPWZ1bmN0aW9uKGUsdCl7dmFyIGk9dGhpcy5kaXNwbGF5ZWRfW3RoaXMucm93X107dGhpcy5kaXNwbGF5ZWRfW3RoaXMucm93X109aSs9dH0se0NhcHRpb25TdHJlYW06bixDZWE2MDhTdHJlYW06ZyxDZWE3MDhTdHJlYW06bX0pLHFlPXtIMjY0X1NUUkVBTV9UWVBFOjI3LEFEVFNfU1RSRUFNX1RZUEU6MTUsTUVUQURBVEFfU1RSRUFNX1RZUEU6MjF9LFZlPWksJGU9ODU4OTkzNDU5MixXZT00Mjk0OTY3Mjk2O0VlLnByb3RvdHlwZT1uZXcgVmU7ZnVuY3Rpb24gR2UoZSx0LGkpe2Zvcih2YXIgcz1cIlwiLHI9dDtyPGk7cisrKXMrPVwiJVwiKyhcIjAwXCIrZVtyXS50b1N0cmluZygxNikpLnNsaWNlKC0yKTtyZXR1cm4gc31mdW5jdGlvbiBmKGUsdCxpKXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KEdlKGUsdCxpKSl9ZnVuY3Rpb24geShlLHQsaSl7cmV0dXJuIHVuZXNjYXBlKEdlKGUsdCxpKSl9ZnVuY3Rpb24gXyhlKXtyZXR1cm4gZVswXTw8MjF8ZVsxXTw8MTR8ZVsyXTw8N3xlWzNdfXZhciB6ZSxYZSxLZSxWZT1FZSxZZT13ZSxRZT0oZSx0LGkpPT57aWYoZSlmb3IodmFyIHM9aTtzPGUubGVuZ3RoO3MrKylpZihlW3NdPT09dClyZXR1cm4gcztyZXR1cm4tMX0sSmU9Myx2PXtBUElDOmZ1bmN0aW9uKGUpe3ZhciB0LGk9MTtlLmRhdGFbMF0hPT1KZXx8KHQ9UWUoZS5kYXRhLDAsMSkpPDB8fChlLm1pbWVUeXBlPXkoZS5kYXRhLDEsdCksZS5waWN0dXJlVHlwZT1lLmRhdGFbaT10KzFdLCh0PVFlKGUuZGF0YSwwLCsraSkpPDApfHwoZS5kZXNjcmlwdGlvbj1mKGUuZGF0YSxpLHQpLGk9dCsxLFwiLS1cXHgzZVwiPT09ZS5taW1lVHlwZT9lLnVybD15KGUuZGF0YSxpLGUuZGF0YS5sZW5ndGgpOmUucGljdHVyZURhdGE9ZS5kYXRhLnN1YmFycmF5KGksZS5kYXRhLmxlbmd0aCkpfSxcIlQqXCI6ZnVuY3Rpb24oZSl7ZS5kYXRhWzBdPT09SmUmJihlLnZhbHVlPWYoZS5kYXRhLDEsZS5kYXRhLmxlbmd0aCkucmVwbGFjZSgvXFwwKiQvLFwiXCIpLGUudmFsdWVzPWUudmFsdWUuc3BsaXQoXCJcXDBcIikpfSxUWFhYOmZ1bmN0aW9uKGUpe3ZhciB0O2UuZGF0YVswXT09PUplJiYtMSE9PSh0PVFlKGUuZGF0YSwwLDEpKSYmKGUuZGVzY3JpcHRpb249ZihlLmRhdGEsMSx0KSxlLnZhbHVlPWYoZS5kYXRhLHQrMSxlLmRhdGEubGVuZ3RoKS5yZXBsYWNlKC9cXDAqJC8sXCJcIiksZS5kYXRhPWUudmFsdWUpfSxcIlcqXCI6ZnVuY3Rpb24oZSl7ZS51cmw9eShlLmRhdGEsMCxlLmRhdGEubGVuZ3RoKS5yZXBsYWNlKC9cXDAuKiQvLFwiXCIpfSxXWFhYOmZ1bmN0aW9uKGUpe3ZhciB0O2UuZGF0YVswXT09PUplJiYtMSE9PSh0PVFlKGUuZGF0YSwwLDEpKSYmKGUuZGVzY3JpcHRpb249ZihlLmRhdGEsMSx0KSxlLnVybD15KGUuZGF0YSx0KzEsZS5kYXRhLmxlbmd0aCkucmVwbGFjZSgvXFwwLiokLyxcIlwiKSl9LFBSSVY6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDxlLmRhdGEubGVuZ3RoO3QrKylpZigwPT09ZS5kYXRhW3RdKXtlLm93bmVyPXkoZS5kYXRhLDAsdCk7YnJlYWt9ZS5wcml2YXRlRGF0YT1lLmRhdGEuc3ViYXJyYXkodCsxKSxlLmRhdGE9ZS5wcml2YXRlRGF0YX19LGI9e3BhcnNlSWQzRnJhbWVzOmZ1bmN0aW9uKGUpe3ZhciB0LGk9MTAscz0wLHI9W107aWYoIShlLmxlbmd0aDwxMHx8ZVswXSE9PVwiSVwiLmNoYXJDb2RlQXQoMCl8fGVbMV0hPT1cIkRcIi5jaGFyQ29kZUF0KDApfHxlWzJdIT09XCIzXCIuY2hhckNvZGVBdCgwKSkpe3M9XyhlLnN1YmFycmF5KDYsMTApKTtzKz0xMCw2NCZlWzVdJiYoaT0oaSs9NCkrXyhlLnN1YmFycmF5KDEwLDE0KSkscy09XyhlLnN1YmFycmF5KDE2LDIwKSkpO2Rve2lmKCh0PV8oZS5zdWJhcnJheShpKzQsaSs4KSkpPDEpYnJlYWs7dmFyIG49e2lkOlN0cmluZy5mcm9tQ2hhckNvZGUoZVtpXSxlW2krMV0sZVtpKzJdLGVbaSszXSksZGF0YTplLnN1YmFycmF5KGkrMTAsaSt0KzEwKX19d2hpbGUobi5rZXk9bi5pZCx2W24uaWRdP3Zbbi5pZF0obik6XCJUXCI9PT1uLmlkWzBdP3ZbXCJUKlwiXShuKTpcIldcIj09PW4uaWRbMF0mJnZbXCJXKlwiXShuKSxyLnB1c2gobiksKGk9aSsxMCt0KTxzKTtyZXR1cm4gcn19LHBhcnNlU3luY1NhZmVJbnRlZ2VyOl8sZnJhbWVQYXJzZXJzOnZ9LFQ9aSxaZT1xZSxTPWIsZXQ9ZnVuY3Rpb24oZSl7dmFyIHQsaT17ZGVzY3JpcHRvcjplJiZlLmRlc2NyaXB0b3J9LGw9MCxkPVtdLGg9MDtpZihldC5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMpLHRoaXMuZGlzcGF0Y2hUeXBlPVplLk1FVEFEQVRBX1NUUkVBTV9UWVBFLnRvU3RyaW5nKDE2KSxpLmRlc2NyaXB0b3IpZm9yKHQ9MDt0PGkuZGVzY3JpcHRvci5sZW5ndGg7dCsrKXRoaXMuZGlzcGF0Y2hUeXBlKz0oXCIwMFwiK2kuZGVzY3JpcHRvclt0XS50b1N0cmluZygxNikpLnNsaWNlKC0yKTt0aGlzLnB1c2g9ZnVuY3Rpb24oZSl7dmFyIHQsaSxzLHIsbixhLG87aWYoXCJ0aW1lZC1tZXRhZGF0YVwiPT09ZS50eXBlKWlmKGUuZGF0YUFsaWdubWVudEluZGljYXRvciYmKGg9MCxkLmxlbmd0aD0wKSwwPT09ZC5sZW5ndGgmJihlLmRhdGEubGVuZ3RoPDEwfHxlLmRhdGFbMF0hPT1cIklcIi5jaGFyQ29kZUF0KDApfHxlLmRhdGFbMV0hPT1cIkRcIi5jaGFyQ29kZUF0KDApfHxlLmRhdGFbMl0hPT1cIjNcIi5jaGFyQ29kZUF0KDApKSl0aGlzLnRyaWdnZXIoXCJsb2dcIix7bGV2ZWw6XCJ3YXJuXCIsbWVzc2FnZTpcIlNraXBwaW5nIHVucmVjb2duaXplZCBtZXRhZGF0YSBwYWNrZXRcIn0pO2Vsc2UgaWYoZC5wdXNoKGUpLGgrPWUuZGF0YS5ieXRlTGVuZ3RoLDE9PT1kLmxlbmd0aCYmKGw9Uy5wYXJzZVN5bmNTYWZlSW50ZWdlcihlLmRhdGEuc3ViYXJyYXkoNiwxMCkpLGwrPTEwKSwhKGg8bCkpe2Zvcih0PXtkYXRhOm5ldyBVaW50OEFycmF5KGwpLGZyYW1lczpbXSxwdHM6ZFswXS5wdHMsZHRzOmRbMF0uZHRzfSxyPTA7cjxsOyl0LmRhdGEuc2V0KGRbMF0uZGF0YS5zdWJhcnJheSgwLGwtcikscikscis9ZFswXS5kYXRhLmJ5dGVMZW5ndGgsaC09ZFswXS5kYXRhLmJ5dGVMZW5ndGgsZC5zaGlmdCgpO2k9MTAsNjQmdC5kYXRhWzVdJiYoaT0oaSs9NCkrUy5wYXJzZVN5bmNTYWZlSW50ZWdlcih0LmRhdGEuc3ViYXJyYXkoMTAsMTQpKSxsLT1TLnBhcnNlU3luY1NhZmVJbnRlZ2VyKHQuZGF0YS5zdWJhcnJheSgxNiwyMCkpKTtkb3tpZigocz1TLnBhcnNlU3luY1NhZmVJbnRlZ2VyKHQuZGF0YS5zdWJhcnJheShpKzQsaSs4KSkpPDEpe3RoaXMudHJpZ2dlcihcImxvZ1wiLHtsZXZlbDpcIndhcm5cIixtZXNzYWdlOlwiTWFsZm9ybWVkIElEMyBmcmFtZSBlbmNvdW50ZXJlZC4gU2tpcHBpbmcgcmVtYWluaW5nIG1ldGFkYXRhIHBhcnNpbmcuXCJ9KTticmVha319d2hpbGUoKG89e2lkOlN0cmluZy5mcm9tQ2hhckNvZGUodC5kYXRhW2ldLHQuZGF0YVtpKzFdLHQuZGF0YVtpKzJdLHQuZGF0YVtpKzNdKSxkYXRhOnQuZGF0YS5zdWJhcnJheShpKzEwLGkrcysxMCl9KS5rZXk9by5pZCxTLmZyYW1lUGFyc2Vyc1tvLmlkXT9TLmZyYW1lUGFyc2Vyc1tvLmlkXShvKTpcIlRcIj09PW8uaWRbMF0/Uy5mcmFtZVBhcnNlcnNbXCJUKlwiXShvKTpcIldcIj09PW8uaWRbMF0mJlMuZnJhbWVQYXJzZXJzW1wiVypcIl0obyksXCJjb20uYXBwbGUuc3RyZWFtaW5nLnRyYW5zcG9ydFN0cmVhbVRpbWVzdGFtcFwiPT09by5vd25lciYmKGE9KDEmKG49by5kYXRhKVszXSk8PDMwfG5bNF08PDIyfG5bNV08PDE0fG5bNl08PDZ8bls3XT4+PjIsYT0oYSo9NCkrKDMmbls3XSksby50aW1lU3RhbXA9YSx2b2lkIDA9PT10LnB0cyYmdm9pZCAwPT09dC5kdHMmJih0LnB0cz1vLnRpbWVTdGFtcCx0LmR0cz1vLnRpbWVTdGFtcCksdGhpcy50cmlnZ2VyKFwidGltZXN0YW1wXCIsbykpLHQuZnJhbWVzLnB1c2gobyksKGk9aSsxMCtzKTxsKTt0aGlzLnRyaWdnZXIoXCJkYXRhXCIsdCl9fX0sYj0oZXQucHJvdG90eXBlPW5ldyBULGV0KSxUPWksdHQ9cCx3PXFlLGl0PWZ1bmN0aW9uKCl7dmFyIHI9bmV3IFVpbnQ4QXJyYXkoMTg4KSxuPTA7aXQucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzKSx0aGlzLnB1c2g9ZnVuY3Rpb24oZSl7dmFyIHQsaT0wLHM9MTg4O2ZvcihuPygodD1uZXcgVWludDhBcnJheShlLmJ5dGVMZW5ndGgrbikpLnNldChyLnN1YmFycmF5KDAsbikpLHQuc2V0KGUsbiksbj0wKTp0PWU7czx0LmJ5dGVMZW5ndGg7KTcxPT09dFtpXSYmNzE9PT10W3NdPyh0aGlzLnRyaWdnZXIoXCJkYXRhXCIsdC5zdWJhcnJheShpLHMpKSxpKz0xODgscys9MTg4KTooaSsrLHMrKyk7aTx0LmJ5dGVMZW5ndGgmJihyLnNldCh0LnN1YmFycmF5KGkpLDApLG49dC5ieXRlTGVuZ3RoLWkpfSx0aGlzLmZsdXNoPWZ1bmN0aW9uKCl7MTg4PT09biYmNzE9PT1yWzBdJiYodGhpcy50cmlnZ2VyKFwiZGF0YVwiLHIpLG49MCksdGhpcy50cmlnZ2VyKFwiZG9uZVwiKX0sdGhpcy5lbmRUaW1lbGluZT1mdW5jdGlvbigpe3RoaXMuZmx1c2goKSx0aGlzLnRyaWdnZXIoXCJlbmRlZHRpbWVsaW5lXCIpfSx0aGlzLnJlc2V0PWZ1bmN0aW9uKCl7bj0wLHRoaXMudHJpZ2dlcihcInJlc2V0XCIpfX0sc3Q9KGl0LnByb3RvdHlwZT1uZXcgVCwoemU9ZnVuY3Rpb24oKXt2YXIgcyxyLG4sYTt6ZS5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMpLChhPXRoaXMpLnBhY2tldHNXYWl0aW5nRm9yUG10PVtdLHRoaXMucHJvZ3JhbU1hcFRhYmxlPXZvaWQgMCxzPWZ1bmN0aW9uKGUsdCl7dmFyIGk9MDt0LnBheWxvYWRVbml0U3RhcnRJbmRpY2F0b3ImJihpKz1lW2ldKzEpLChcInBhdFwiPT09dC50eXBlP3I6bikoZS5zdWJhcnJheShpKSx0KX0scj1mdW5jdGlvbihlLHQpe3Quc2VjdGlvbl9udW1iZXI9ZVs3XSx0Lmxhc3Rfc2VjdGlvbl9udW1iZXI9ZVs4XSxhLnBtdFBpZD0oMzEmZVsxMF0pPDw4fGVbMTFdLHQucG10UGlkPWEucG10UGlkfSxuPWZ1bmN0aW9uKGUsdCl7dmFyIGkscztpZigxJmVbNV0pe2ZvcihhLnByb2dyYW1NYXBUYWJsZT17dmlkZW86bnVsbCxhdWRpbzpudWxsLFwidGltZWQtbWV0YWRhdGFcIjp7fX0saT0zKygoMTUmZVsxXSk8PDh8ZVsyXSktNCxzPTEyKygoMTUmZVsxMF0pPDw4fGVbMTFdKTtzPGk7KXt2YXIgcj1lW3NdLG49KDMxJmVbcysxXSk8PDh8ZVtzKzJdO3I9PT13LkgyNjRfU1RSRUFNX1RZUEUmJm51bGw9PT1hLnByb2dyYW1NYXBUYWJsZS52aWRlbz9hLnByb2dyYW1NYXBUYWJsZS52aWRlbz1uOnI9PT13LkFEVFNfU1RSRUFNX1RZUEUmJm51bGw9PT1hLnByb2dyYW1NYXBUYWJsZS5hdWRpbz9hLnByb2dyYW1NYXBUYWJsZS5hdWRpbz1uOnI9PT13Lk1FVEFEQVRBX1NUUkVBTV9UWVBFJiYoYS5wcm9ncmFtTWFwVGFibGVbXCJ0aW1lZC1tZXRhZGF0YVwiXVtuXT1yKSxzKz01KygoMTUmZVtzKzNdKTw8OHxlW3MrNF0pfXQucHJvZ3JhbU1hcFRhYmxlPWEucHJvZ3JhbU1hcFRhYmxlfX0sdGhpcy5wdXNoPWZ1bmN0aW9uKGUpe3ZhciB0PXt9LGk9NDtpZih0LnBheWxvYWRVbml0U3RhcnRJbmRpY2F0b3I9ISEoNjQmZVsxXSksdC5waWQ9MzEmZVsxXSx0LnBpZDw8PTgsdC5waWR8PWVbMl0sMTwoNDgmZVszXSk+Pj40JiYoaSs9ZVtpXSsxKSwwPT09dC5waWQpdC50eXBlPVwicGF0XCIscyhlLnN1YmFycmF5KGkpLHQpLHRoaXMudHJpZ2dlcihcImRhdGFcIix0KTtlbHNlIGlmKHQucGlkPT09dGhpcy5wbXRQaWQpZm9yKHQudHlwZT1cInBtdFwiLHMoZS5zdWJhcnJheShpKSx0KSx0aGlzLnRyaWdnZXIoXCJkYXRhXCIsdCk7dGhpcy5wYWNrZXRzV2FpdGluZ0ZvclBtdC5sZW5ndGg7KXRoaXMucHJvY2Vzc1Blc18uYXBwbHkodGhpcyx0aGlzLnBhY2tldHNXYWl0aW5nRm9yUG10LnNoaWZ0KCkpO2Vsc2Ugdm9pZCAwPT09dGhpcy5wcm9ncmFtTWFwVGFibGU/dGhpcy5wYWNrZXRzV2FpdGluZ0ZvclBtdC5wdXNoKFtlLGksdF0pOnRoaXMucHJvY2Vzc1Blc18oZSxpLHQpfSx0aGlzLnByb2Nlc3NQZXNfPWZ1bmN0aW9uKGUsdCxpKXtpLnBpZD09PXRoaXMucHJvZ3JhbU1hcFRhYmxlLnZpZGVvP2kuc3RyZWFtVHlwZT13LkgyNjRfU1RSRUFNX1RZUEU6aS5waWQ9PT10aGlzLnByb2dyYW1NYXBUYWJsZS5hdWRpbz9pLnN0cmVhbVR5cGU9dy5BRFRTX1NUUkVBTV9UWVBFOmkuc3RyZWFtVHlwZT10aGlzLnByb2dyYW1NYXBUYWJsZVtcInRpbWVkLW1ldGFkYXRhXCJdW2kucGlkXSxpLnR5cGU9XCJwZXNcIixpLmRhdGE9ZS5zdWJhcnJheSh0KSx0aGlzLnRyaWdnZXIoXCJkYXRhXCIsaSl9fSkucHJvdG90eXBlPW5ldyBULHplLlNUUkVBTV9UWVBFUz17aDI2NDoyNyxhZHRzOjE1fSwoWGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBzKGUsdCxpKXt2YXIgcyxyPW5ldyBVaW50OEFycmF5KGUuc2l6ZSksbj17dHlwZTp0fSxhPTAsbz0wO2lmKGUuZGF0YS5sZW5ndGgmJiEoZS5zaXplPDkpKXtmb3Iobi50cmFja0lkPWUuZGF0YVswXS5waWQsYT0wO2E8ZS5kYXRhLmxlbmd0aDthKyspcz1lLmRhdGFbYV0sci5zZXQocy5kYXRhLG8pLG8rPXMuZGF0YS5ieXRlTGVuZ3RoO2QocixuKSx0PVwidmlkZW9cIj09PXR8fG4ucGFja2V0TGVuZ3RoPD1lLnNpemUsKGl8fHQpJiYoZS5zaXplPTAsZS5kYXRhLmxlbmd0aD0wKSx0JiZsLnRyaWdnZXIoXCJkYXRhXCIsbil9fXZhciB0LGw9dGhpcyxyPSExLG49e2RhdGE6W10sc2l6ZTowfSxhPXtkYXRhOltdLHNpemU6MH0sbz17ZGF0YTpbXSxzaXplOjB9LGQ9ZnVuY3Rpb24oZSx0KXt2YXIgaT1lWzBdPDwxNnxlWzFdPDw4fGVbMl07dC5kYXRhPW5ldyBVaW50OEFycmF5LDE9PWkmJih0LnBhY2tldExlbmd0aD02KyhlWzRdPDw4fGVbNV0pLHQuZGF0YUFsaWdubWVudEluZGljYXRvcj0wIT0oNCZlWzZdKSwxOTImKGk9ZVs3XSkmJih0LnB0cz0oMTQmZVs5XSk8PDI3fCgyNTUmZVsxMF0pPDwyMHwoMjU0JmVbMTFdKTw8MTJ8KDI1NSZlWzEyXSk8PDV8KDI1NCZlWzEzXSk+Pj4zLHQucHRzKj00LHQucHRzKz0oNiZlWzEzXSk+Pj4xLHQuZHRzPXQucHRzLDY0JmkpJiYodC5kdHM9KDE0JmVbMTRdKTw8Mjd8KDI1NSZlWzE1XSk8PDIwfCgyNTQmZVsxNl0pPDwxMnwoMjU1JmVbMTddKTw8NXwoMjU0JmVbMThdKT4+PjMsdC5kdHMqPTQsdC5kdHMrPSg2JmVbMThdKT4+PjEpLHQuZGF0YT1lLnN1YmFycmF5KDkrZVs4XSkpfTtYZS5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMpLHRoaXMucHVzaD1mdW5jdGlvbihpKXsoe3BhdDpmdW5jdGlvbigpe30scGVzOmZ1bmN0aW9uKCl7dmFyIGUsdDtzd2l0Y2goaS5zdHJlYW1UeXBlKXtjYXNlIHcuSDI2NF9TVFJFQU1fVFlQRTplPW4sdD1cInZpZGVvXCI7YnJlYWs7Y2FzZSB3LkFEVFNfU1RSRUFNX1RZUEU6ZT1hLHQ9XCJhdWRpb1wiO2JyZWFrO2Nhc2Ugdy5NRVRBREFUQV9TVFJFQU1fVFlQRTplPW8sdD1cInRpbWVkLW1ldGFkYXRhXCI7YnJlYWs7ZGVmYXVsdDpyZXR1cm59aS5wYXlsb2FkVW5pdFN0YXJ0SW5kaWNhdG9yJiZzKGUsdCwhMCksZS5kYXRhLnB1c2goaSksZS5zaXplKz1pLmRhdGEuYnl0ZUxlbmd0aH0scG10OmZ1bmN0aW9uKCl7dmFyIGU9e3R5cGU6XCJtZXRhZGF0YVwiLHRyYWNrczpbXX07bnVsbCE9PSh0PWkucHJvZ3JhbU1hcFRhYmxlKS52aWRlbyYmZS50cmFja3MucHVzaCh7dGltZWxpbmVTdGFydEluZm86e2Jhc2VNZWRpYURlY29kZVRpbWU6MH0saWQ6K3QudmlkZW8sY29kZWM6XCJhdmNcIix0eXBlOlwidmlkZW9cIn0pLG51bGwhPT10LmF1ZGlvJiZlLnRyYWNrcy5wdXNoKHt0aW1lbGluZVN0YXJ0SW5mbzp7YmFzZU1lZGlhRGVjb2RlVGltZTowfSxpZDordC5hdWRpbyxjb2RlYzpcImFkdHNcIix0eXBlOlwiYXVkaW9cIn0pLHI9ITAsbC50cmlnZ2VyKFwiZGF0YVwiLGUpfX0pW2kudHlwZV0oKX0sdGhpcy5yZXNldD1mdW5jdGlvbigpe24uc2l6ZT0wLG4uZGF0YS5sZW5ndGg9MCxhLnNpemU9MCxhLmRhdGEubGVuZ3RoPTAsdGhpcy50cmlnZ2VyKFwicmVzZXRcIil9LHRoaXMuZmx1c2hTdHJlYW1zXz1mdW5jdGlvbigpe3MobixcInZpZGVvXCIpLHMoYSxcImF1ZGlvXCIpLHMobyxcInRpbWVkLW1ldGFkYXRhXCIpfSx0aGlzLmZsdXNoPWZ1bmN0aW9uKCl7dmFyIGU7IXImJnQmJihlPXt0eXBlOlwibWV0YWRhdGFcIix0cmFja3M6W119LG51bGwhPT10LnZpZGVvJiZlLnRyYWNrcy5wdXNoKHt0aW1lbGluZVN0YXJ0SW5mbzp7YmFzZU1lZGlhRGVjb2RlVGltZTowfSxpZDordC52aWRlbyxjb2RlYzpcImF2Y1wiLHR5cGU6XCJ2aWRlb1wifSksbnVsbCE9PXQuYXVkaW8mJmUudHJhY2tzLnB1c2goe3RpbWVsaW5lU3RhcnRJbmZvOntiYXNlTWVkaWFEZWNvZGVUaW1lOjB9LGlkOit0LmF1ZGlvLGNvZGVjOlwiYWR0c1wiLHR5cGU6XCJhdWRpb1wifSksbC50cmlnZ2VyKFwiZGF0YVwiLGUpKSxyPSExLHRoaXMuZmx1c2hTdHJlYW1zXygpLHRoaXMudHJpZ2dlcihcImRvbmVcIil9fSkucHJvdG90eXBlPW5ldyBULHtQQVRfUElEOjAsTVAyVF9QQUNLRVRfTEVOR1RIOjE4OCxUcmFuc3BvcnRQYWNrZXRTdHJlYW06aXQsVHJhbnNwb3J0UGFyc2VTdHJlYW06emUsRWxlbWVudGFyeVN0cmVhbTpYZSxUaW1lc3RhbXBSb2xsb3ZlclN0cmVhbTpWZSxDYXB0aW9uU3RyZWFtOnR0LkNhcHRpb25TdHJlYW0sQ2VhNjA4U3RyZWFtOnR0LkNlYTYwOFN0cmVhbSxDZWE3MDhTdHJlYW06dHQuQ2VhNzA4U3RyZWFtLE1ldGFkYXRhU3RyZWFtOmJ9KTtmb3IoS2UgaW4gdyl3Lmhhc093blByb3BlcnR5KEtlKSYmKHN0W0tlXT13W0tlXSk7dmFyIHJ0LG50LFQ9c3QsVmU9aSxhdD1jLk9ORV9TRUNPTkRfSU5fVFMsb3Q9Wzk2ZTMsODgyMDAsNjRlMyw0OGUzLDQ0MTAwLDMyZTMsMjRlMywyMjA1MCwxNmUzLDEyZTMsMTEwMjUsOGUzLDczNTBdLGx0PWZ1bmN0aW9uKGwpe3ZhciBkLGg9MDtsdC5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMpLHRoaXMuc2tpcFdhcm5fPWZ1bmN0aW9uKGUsdCl7dGhpcy50cmlnZ2VyKFwibG9nXCIse2xldmVsOlwid2FyblwiLG1lc3NhZ2U6YGFkdHMgc2tpcGluZyBieXRlcyAke2V9IHRvICR7dH0gaW4gZnJhbWUgJHtofSBvdXRzaWRlIHN5bmN3b3JkYH0pfSx0aGlzLnB1c2g9ZnVuY3Rpb24oZSl7dmFyIHQsaSxzLHIsbixhLG89MDtpZihsfHwoaD0wKSxcImF1ZGlvXCI9PT1lLnR5cGUpe2ZvcihkJiZkLmxlbmd0aD8ocz1kLChkPW5ldyBVaW50OEFycmF5KHMuYnl0ZUxlbmd0aCtlLmRhdGEuYnl0ZUxlbmd0aCkpLnNldChzKSxkLnNldChlLmRhdGEscy5ieXRlTGVuZ3RoKSk6ZD1lLmRhdGE7bys3PGQubGVuZ3RoOylpZigyNTUhPT1kW29dfHwyNDAhPSgyNDYmZFtvKzFdKSlcIm51bWJlclwiIT10eXBlb2YgYSYmKGE9byksbysrO2Vsc2V7aWYoXCJudW1iZXJcIj09dHlwZW9mIGEmJih0aGlzLnNraXBXYXJuXyhhLG8pLGE9bnVsbCksaT0yKigxJn5kW28rMV0pLHQ9KDMmZFtvKzNdKTw8MTF8ZFtvKzRdPDwzfCgyMjQmZFtvKzVdKT4+NSxuPShyPTEwMjQqKDErKDMmZFtvKzZdKSkpKmF0L290Wyg2MCZkW28rMl0pPj4+Ml0sZC5ieXRlTGVuZ3RoLW88dClicmVhazt0aGlzLnRyaWdnZXIoXCJkYXRhXCIse3B0czplLnB0cytoKm4sZHRzOmUuZHRzK2gqbixzYW1wbGVDb3VudDpyLGF1ZGlvb2JqZWN0dHlwZToxKyhkW28rMl0+Pj42JjMpLGNoYW5uZWxjb3VudDooMSZkW28rMl0pPDwyfCgxOTImZFtvKzNdKT4+PjYsc2FtcGxlcmF0ZTpvdFsoNjAmZFtvKzJdKT4+PjJdLHNhbXBsaW5nZnJlcXVlbmN5aW5kZXg6KDYwJmRbbysyXSk+Pj4yLHNhbXBsZXNpemU6MTYsZGF0YTpkLnN1YmFycmF5KG8rNytpLG8rdCl9KSxoKyssbys9dH1cIm51bWJlclwiPT10eXBlb2YgYSYmKHRoaXMuc2tpcFdhcm5fKGEsbyksYT1udWxsKSxkPWQuc3ViYXJyYXkobyl9fSx0aGlzLmZsdXNoPWZ1bmN0aW9uKCl7aD0wLHRoaXMudHJpZ2dlcihcImRvbmVcIil9LHRoaXMucmVzZXQ9ZnVuY3Rpb24oKXtkPXZvaWQgMCx0aGlzLnRyaWdnZXIoXCJyZXNldFwiKX0sdGhpcy5lbmRUaW1lbGluZT1mdW5jdGlvbigpe2Q9dm9pZCAwLHRoaXMudHJpZ2dlcihcImVuZGVkdGltZWxpbmVcIil9fSx0dD0obHQucHJvdG90eXBlPW5ldyBWZSxsdCksYj1pLGR0PWZ1bmN0aW9uKHMpe3ZhciByPXMuYnl0ZUxlbmd0aCxuPTAsYT0wO3RoaXMubGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIDgqcn0sdGhpcy5iaXRzQXZhaWxhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIDgqcithfSx0aGlzLmxvYWRXb3JkPWZ1bmN0aW9uKCl7dmFyIGU9cy5ieXRlTGVuZ3RoLXIsdD1uZXcgVWludDhBcnJheSg0KSxpPU1hdGgubWluKDQscik7aWYoMD09PWkpdGhyb3cgbmV3IEVycm9yKFwibm8gYnl0ZXMgYXZhaWxhYmxlXCIpO3Quc2V0KHMuc3ViYXJyYXkoZSxlK2kpKSxuPW5ldyBEYXRhVmlldyh0LmJ1ZmZlcikuZ2V0VWludDMyKDApLGE9OCppLHItPWl9LHRoaXMuc2tpcEJpdHM9ZnVuY3Rpb24oZSl7dmFyIHQ7ZTxhfHwoZT0oZS09YSktOCoodD1NYXRoLmZsb29yKGUvOCkpLHItPXQsdGhpcy5sb2FkV29yZCgpKSxuPDw9ZSxhLT1lfSx0aGlzLnJlYWRCaXRzPWZ1bmN0aW9uKGUpe3ZhciB0PU1hdGgubWluKGEsZSksaT1uPj4+MzItdDtyZXR1cm4gMDwoYS09dCk/bjw8PXQ6MDxyJiZ0aGlzLmxvYWRXb3JkKCksMDwodD1lLXQpP2k8PHR8dGhpcy5yZWFkQml0cyh0KTppfSx0aGlzLnNraXBMZWFkaW5nWmVyb3M9ZnVuY3Rpb24oKXtmb3IodmFyIGU9MDtlPGE7KytlKWlmKDAhPShuJjIxNDc0ODM2NDg+Pj5lKSlyZXR1cm4gbjw8PWUsYS09ZSxlO3JldHVybiB0aGlzLmxvYWRXb3JkKCksZSt0aGlzLnNraXBMZWFkaW5nWmVyb3MoKX0sdGhpcy5za2lwVW5zaWduZWRFeHBHb2xvbWI9ZnVuY3Rpb24oKXt0aGlzLnNraXBCaXRzKDErdGhpcy5za2lwTGVhZGluZ1plcm9zKCkpfSx0aGlzLnNraXBFeHBHb2xvbWI9ZnVuY3Rpb24oKXt0aGlzLnNraXBCaXRzKDErdGhpcy5za2lwTGVhZGluZ1plcm9zKCkpfSx0aGlzLnJlYWRVbnNpZ25lZEV4cEdvbG9tYj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuc2tpcExlYWRpbmdaZXJvcygpO3JldHVybiB0aGlzLnJlYWRCaXRzKGUrMSktMX0sdGhpcy5yZWFkRXhwR29sb21iPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5yZWFkVW5zaWduZWRFeHBHb2xvbWIoKTtyZXR1cm4gMSZlPzErZT4+PjE6LTEqKGU+Pj4xKX0sdGhpcy5yZWFkQm9vbGVhbj1mdW5jdGlvbigpe3JldHVybiAxPT09dGhpcy5yZWFkQml0cygxKX0sdGhpcy5yZWFkVW5zaWduZWRCeXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVhZEJpdHMoOCl9LHRoaXMubG9hZFdvcmQoKX0saHQ9ZnVuY3Rpb24oKXt2YXIgcyxyLG49MDtodC5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMpLHRoaXMucHVzaD1mdW5jdGlvbihlKXtmb3IodmFyIHQsaT0ocj1yPygodD1uZXcgVWludDhBcnJheShyLmJ5dGVMZW5ndGgrZS5kYXRhLmJ5dGVMZW5ndGgpKS5zZXQociksdC5zZXQoZS5kYXRhLHIuYnl0ZUxlbmd0aCksdCk6ZS5kYXRhKS5ieXRlTGVuZ3RoO248aS0zO24rKylpZigxPT09cltuKzJdKXtzPW4rNTticmVha31mb3IoO3M8aTspc3dpdGNoKHJbc10pe2Nhc2UgMDppZigwIT09cltzLTFdKXMrPTI7ZWxzZSBpZigwIT09cltzLTJdKXMrKztlbHNle2ZvcihuKzMhPT1zLTImJnRoaXMudHJpZ2dlcihcImRhdGFcIixyLnN1YmFycmF5KG4rMyxzLTIpKTsxIT09clsrK3NdJiZzPGk7KTtuPXMtMixzKz0zfWJyZWFrO2Nhc2UgMTowIT09cltzLTFdfHwwIT09cltzLTJdP3MrPTM6KHRoaXMudHJpZ2dlcihcImRhdGFcIixyLnN1YmFycmF5KG4rMyxzLTIpKSxuPXMtMixzKz0zKTticmVhaztkZWZhdWx0OnMrPTN9cj1yLnN1YmFycmF5KG4pLHMtPW4sbj0wfSx0aGlzLnJlc2V0PWZ1bmN0aW9uKCl7cj1udWxsLG49MCx0aGlzLnRyaWdnZXIoXCJyZXNldFwiKX0sdGhpcy5mbHVzaD1mdW5jdGlvbigpe3ImJjM8ci5ieXRlTGVuZ3RoJiZ0aGlzLnRyaWdnZXIoXCJkYXRhXCIsci5zdWJhcnJheShuKzMpKSxyPW51bGwsbj0wLHRoaXMudHJpZ2dlcihcImRvbmVcIil9LHRoaXMuZW5kVGltZWxpbmU9ZnVuY3Rpb24oKXt0aGlzLmZsdXNoKCksdGhpcy50cmlnZ2VyKFwiZW5kZWR0aW1lbGluZVwiKX19O2h0LnByb3RvdHlwZT1uZXcgYixudD17MTAwOiEwLDExMDohMCwxMjI6ITAsMjQ0OiEwLDQ0OiEwLDgzOiEwLDg2OiEwLDExODohMCwxMjg6ITAsMTM4OiEwLDEzOTohMCwxMzQ6ITB9LChydD1mdW5jdGlvbigpe3ZhciBpLHMscixuLGEsbyxnLHQ9bmV3IGh0O3J0LnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyksKGk9dGhpcykucHVzaD1mdW5jdGlvbihlKXtcInZpZGVvXCI9PT1lLnR5cGUmJihzPWUudHJhY2tJZCxyPWUucHRzLG49ZS5kdHMsdC5wdXNoKGUpKX0sdC5vbihcImRhdGFcIixmdW5jdGlvbihlKXt2YXIgdD17dHJhY2tJZDpzLHB0czpyLGR0czpuLGRhdGE6ZSxuYWxVbml0VHlwZUNvZGU6MzEmZVswXX07c3dpdGNoKHQubmFsVW5pdFR5cGVDb2RlKXtjYXNlIDU6dC5uYWxVbml0VHlwZT1cInNsaWNlX2xheWVyX3dpdGhvdXRfcGFydGl0aW9uaW5nX3Jic3BfaWRyXCI7YnJlYWs7Y2FzZSA2OnQubmFsVW5pdFR5cGU9XCJzZWlfcmJzcFwiLHQuZXNjYXBlZFJCU1A9YShlLnN1YmFycmF5KDEpKTticmVhaztjYXNlIDc6dC5uYWxVbml0VHlwZT1cInNlcV9wYXJhbWV0ZXJfc2V0X3Jic3BcIix0LmVzY2FwZWRSQlNQPWEoZS5zdWJhcnJheSgxKSksdC5jb25maWc9byh0LmVzY2FwZWRSQlNQKTticmVhaztjYXNlIDg6dC5uYWxVbml0VHlwZT1cInBpY19wYXJhbWV0ZXJfc2V0X3Jic3BcIjticmVhaztjYXNlIDk6dC5uYWxVbml0VHlwZT1cImFjY2Vzc191bml0X2RlbGltaXRlcl9yYnNwXCJ9aS50cmlnZ2VyKFwiZGF0YVwiLHQpfSksdC5vbihcImRvbmVcIixmdW5jdGlvbigpe2kudHJpZ2dlcihcImRvbmVcIil9KSx0Lm9uKFwicGFydGlhbGRvbmVcIixmdW5jdGlvbigpe2kudHJpZ2dlcihcInBhcnRpYWxkb25lXCIpfSksdC5vbihcInJlc2V0XCIsZnVuY3Rpb24oKXtpLnRyaWdnZXIoXCJyZXNldFwiKX0pLHQub24oXCJlbmRlZHRpbWVsaW5lXCIsZnVuY3Rpb24oKXtpLnRyaWdnZXIoXCJlbmRlZHRpbWVsaW5lXCIpfSksdGhpcy5mbHVzaD1mdW5jdGlvbigpe3QuZmx1c2goKX0sdGhpcy5wYXJ0aWFsRmx1c2g9ZnVuY3Rpb24oKXt0LnBhcnRpYWxGbHVzaCgpfSx0aGlzLnJlc2V0PWZ1bmN0aW9uKCl7dC5yZXNldCgpfSx0aGlzLmVuZFRpbWVsaW5lPWZ1bmN0aW9uKCl7dC5lbmRUaW1lbGluZSgpfSxnPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBpPTgscz04LHI9MDtyPGU7cisrKWk9MD09PShzPTAhPT1zPyhpK3QucmVhZEV4cEdvbG9tYigpKzI1NiklMjU2OnMpP2k6c30sYT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS5ieXRlTGVuZ3RoLGk9W10scz0xO3M8dC0yOykwPT09ZVtzXSYmMD09PWVbcysxXSYmMz09PWVbcysyXT8oaS5wdXNoKHMrMikscys9Mik6cysrO2lmKDA9PT1pLmxlbmd0aClyZXR1cm4gZTtmb3IodmFyIHI9dC1pLmxlbmd0aCxuPW5ldyBVaW50OEFycmF5KHIpLGE9MCxzPTA7czxyO2ErKyxzKyspYT09PWlbMF0mJihhKyssaS5zaGlmdCgpKSxuW3NdPWVbYV07cmV0dXJuIG59LG89ZnVuY3Rpb24oZSl7dmFyIHQsaSxzLHIsbixhLG89MCxsPTAsZD0wLGg9MCx1PVsxLDFdLGM9bmV3IGR0KGUpLGU9Yy5yZWFkVW5zaWduZWRCeXRlKCkscD1jLnJlYWRVbnNpZ25lZEJ5dGUoKSxtPWMucmVhZFVuc2lnbmVkQnl0ZSgpO2lmKGMuc2tpcFVuc2lnbmVkRXhwR29sb21iKCksbnRbZV0mJigzPT09KGk9Yy5yZWFkVW5zaWduZWRFeHBHb2xvbWIoKSkmJmMuc2tpcEJpdHMoMSksYy5za2lwVW5zaWduZWRFeHBHb2xvbWIoKSxjLnNraXBVbnNpZ25lZEV4cEdvbG9tYigpLGMuc2tpcEJpdHMoMSksYy5yZWFkQm9vbGVhbigpKSlmb3Iobj0zIT09aT84OjEyLGE9MDthPG47YSsrKWMucmVhZEJvb2xlYW4oKSYmZyhhPDY/MTY6NjQsYyk7aWYoYy5za2lwVW5zaWduZWRFeHBHb2xvbWIoKSwwPT09KGk9Yy5yZWFkVW5zaWduZWRFeHBHb2xvbWIoKSkpYy5yZWFkVW5zaWduZWRFeHBHb2xvbWIoKTtlbHNlIGlmKDE9PT1pKWZvcihjLnNraXBCaXRzKDEpLGMuc2tpcEV4cEdvbG9tYigpLGMuc2tpcEV4cEdvbG9tYigpLHQ9Yy5yZWFkVW5zaWduZWRFeHBHb2xvbWIoKSxhPTA7YTx0O2ErKyljLnNraXBFeHBHb2xvbWIoKTtpZihjLnNraXBVbnNpZ25lZEV4cEdvbG9tYigpLGMuc2tpcEJpdHMoMSksaT1jLnJlYWRVbnNpZ25lZEV4cEdvbG9tYigpLHM9Yy5yZWFkVW5zaWduZWRFeHBHb2xvbWIoKSwwPT09KHI9Yy5yZWFkQml0cygxKSkmJmMuc2tpcEJpdHMoMSksYy5za2lwQml0cygxKSxjLnJlYWRCb29sZWFuKCkmJihvPWMucmVhZFVuc2lnbmVkRXhwR29sb21iKCksbD1jLnJlYWRVbnNpZ25lZEV4cEdvbG9tYigpLGQ9Yy5yZWFkVW5zaWduZWRFeHBHb2xvbWIoKSxoPWMucmVhZFVuc2lnbmVkRXhwR29sb21iKCkpLGMucmVhZEJvb2xlYW4oKSYmYy5yZWFkQm9vbGVhbigpKXtzd2l0Y2goYy5yZWFkVW5zaWduZWRCeXRlKCkpe2Nhc2UgMTp1PVsxLDFdO2JyZWFrO2Nhc2UgMjp1PVsxMiwxMV07YnJlYWs7Y2FzZSAzOnU9WzEwLDExXTticmVhaztjYXNlIDQ6dT1bMTYsMTFdO2JyZWFrO2Nhc2UgNTp1PVs0MCwzM107YnJlYWs7Y2FzZSA2OnU9WzI0LDExXTticmVhaztjYXNlIDc6dT1bMjAsMTFdO2JyZWFrO2Nhc2UgODp1PVszMiwxMV07YnJlYWs7Y2FzZSA5OnU9WzgwLDMzXTticmVhaztjYXNlIDEwOnU9WzE4LDExXTticmVhaztjYXNlIDExOnU9WzE1LDExXTticmVhaztjYXNlIDEyOnU9WzY0LDMzXTticmVhaztjYXNlIDEzOnU9WzE2MCw5OV07YnJlYWs7Y2FzZSAxNDp1PVs0LDNdO2JyZWFrO2Nhc2UgMTU6dT1bMywyXTticmVhaztjYXNlIDE2OnU9WzIsMV07YnJlYWs7Y2FzZSAyNTU6dT1bYy5yZWFkVW5zaWduZWRCeXRlKCk8PDh8Yy5yZWFkVW5zaWduZWRCeXRlKCksYy5yZWFkVW5zaWduZWRCeXRlKCk8PDh8Yy5yZWFkVW5zaWduZWRCeXRlKCldfXUmJih1WzBdLHVbMV0pfXJldHVybntwcm9maWxlSWRjOmUsbGV2ZWxJZGM6bSxwcm9maWxlQ29tcGF0aWJpbGl0eTpwLHdpZHRoOjE2KihpKzEpLTIqby0yKmwsaGVpZ2h0OigyLXIpKihzKzEpKjE2LTIqZC0yKmgsc2FyUmF0aW86dX19fSkucHJvdG90eXBlPW5ldyBiO2Z1bmN0aW9uIHV0KGUpe3JldHVybiBlWzBdPDwyMXxlWzFdPDwxNHxlWzJdPDw3fGVbM119dmFyIFZlPXJ0LGN0PVs5NmUzLDg4MjAwLDY0ZTMsNDhlMyw0NDEwMCwzMmUzLDI0ZTMsMjIwNTAsMTZlMywxMmUzLDExMDI1LDhlMyw3MzUwXSxwdD1mdW5jdGlvbihlLHQpe3ZhciBpPTA8PShpPWVbdCs2XTw8MjF8ZVt0KzddPDwxNHxlW3QrOF08PDd8ZVt0KzldKT9pOjA7cmV0dXJuKDE2JmVbdCs1XSk+PjQ/MjAraToxMCtpfSxtdD1mdW5jdGlvbihlLHQpe3JldHVybiBlLmxlbmd0aC10PDEwfHxlW3RdIT09XCJJXCIuY2hhckNvZGVBdCgwKXx8ZVt0KzFdIT09XCJEXCIuY2hhckNvZGVBdCgwKXx8ZVt0KzJdIT09XCIzXCIuY2hhckNvZGVBdCgwKT90Oih0Kz1wdChlLHQpLG10KGUsdCkpfSxndD1mdW5jdGlvbihlLHQsaSl7Zm9yKHZhciBzPVwiXCIscj10O3I8aTtyKyspcys9XCIlXCIrKFwiMDBcIitlW3JdLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpO3JldHVybiBzfSxiPXtpc0xpa2VseUFhY0RhdGE6ZnVuY3Rpb24oZSl7dmFyIHQ9bXQoZSwwKTtyZXR1cm4gZS5sZW5ndGg+PXQrMiYmMjU1PT0oMjU1JmVbdF0pJiYyNDA9PSgyNDAmZVt0KzFdKSYmMTY9PSgyMiZlW3QrMV0pfSxwYXJzZUlkM1RhZ1NpemU6cHQscGFyc2VBZHRzU2l6ZTpmdW5jdGlvbihlLHQpe3ZhciBpPSgyMjQmZVt0KzVdKT4+NSxzPWVbdCs0XTw8MztyZXR1cm4gNjE0NCZlW3QrM118c3xpfSxwYXJzZVR5cGU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVt0XT09PVwiSVwiLmNoYXJDb2RlQXQoMCkmJmVbdCsxXT09PVwiRFwiLmNoYXJDb2RlQXQoMCkmJmVbdCsyXT09PVwiM1wiLmNoYXJDb2RlQXQoMCk/XCJ0aW1lZC1tZXRhZGF0YVwiOiEwJmVbdF0mJjI0MD09KDI0MCZlW3QrMV0pP1wiYXVkaW9cIjpudWxsfSxwYXJzZVNhbXBsZVJhdGU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dCs1PGUubGVuZ3RoOyl7aWYoMjU1PT09ZVt0XSYmMjQwPT0oMjQ2JmVbdCsxXSkpcmV0dXJuIGN0Wyg2MCZlW3QrMl0pPj4+Ml07dCsrfXJldHVybiBudWxsfSxwYXJzZUFhY1RpbWVzdGFtcDpmdW5jdGlvbihlKXt2YXIgdCxpPTEwOzY0JmVbNV0mJihpPShpKz00KSt1dChlLnN1YmFycmF5KDEwLDE0KSkpO2Rve2lmKCh0PXV0KGUuc3ViYXJyYXkoaSs0LGkrOCkpKTwxKXJldHVybiBudWxsO2lmKFwiUFJJVlwiPT09U3RyaW5nLmZyb21DaGFyQ29kZShlW2ldLGVbaSsxXSxlW2krMl0sZVtpKzNdKSlmb3IodmFyIHMscixuPWUuc3ViYXJyYXkoaSsxMCxpK3QrMTApLGE9MDthPG4uYnl0ZUxlbmd0aDthKyspaWYoMD09PW5bYV0pe2lmKFwiY29tLmFwcGxlLnN0cmVhbWluZy50cmFuc3BvcnRTdHJlYW1UaW1lc3RhbXBcIj09PXVuZXNjYXBlKGd0KG4sMCxhKSkpcmV0dXJuIHI9KDEmKHM9bi5zdWJhcnJheShhKzEpKVszXSk8PDMwfHNbNF08PDIyfHNbNV08PDE0fHNbNl08PDZ8c1s3XT4+PjIsKHIqPTQpKygzJnNbN10pO2JyZWFrfX13aGlsZSgoaT1pKzEwK3QpPGUuYnl0ZUxlbmd0aCk7cmV0dXJuIG51bGx9fSxFPWksZnQ9Yix5dD1mdW5jdGlvbigpe3ZhciBuPW5ldyBVaW50OEFycmF5LGE9MDt5dC5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMpLHRoaXMuc2V0VGltZXN0YW1wPWZ1bmN0aW9uKGUpe2E9ZX0sdGhpcy5wdXNoPWZ1bmN0aW9uKGUpe3ZhciB0LGkscz0wLHI9MDtmb3Iobi5sZW5ndGg/KGk9bi5sZW5ndGgsKG49bmV3IFVpbnQ4QXJyYXkoZS5ieXRlTGVuZ3RoK2kpKS5zZXQobi5zdWJhcnJheSgwLGkpKSxuLnNldChlLGkpKTpuPWU7Mzw9bi5sZW5ndGgtcjspaWYobltyXT09PVwiSVwiLmNoYXJDb2RlQXQoMCkmJm5bcisxXT09PVwiRFwiLmNoYXJDb2RlQXQoMCkmJm5bcisyXT09PVwiM1wiLmNoYXJDb2RlQXQoMCkpe2lmKG4ubGVuZ3RoLXI8MTApYnJlYWs7aWYocisocz1mdC5wYXJzZUlkM1RhZ1NpemUobixyKSk+bi5sZW5ndGgpYnJlYWs7dD17dHlwZTpcInRpbWVkLW1ldGFkYXRhXCIsZGF0YTpuLnN1YmFycmF5KHIscitzKX0sdGhpcy50cmlnZ2VyKFwiZGF0YVwiLHQpLHIrPXN9ZWxzZSBpZigyNTU9PSgyNTUmbltyXSkmJjI0MD09KDI0MCZuW3IrMV0pKXtpZihuLmxlbmd0aC1yPDcpYnJlYWs7aWYocisocz1mdC5wYXJzZUFkdHNTaXplKG4scikpPm4ubGVuZ3RoKWJyZWFrO3Q9e3R5cGU6XCJhdWRpb1wiLGRhdGE6bi5zdWJhcnJheShyLHIrcykscHRzOmEsZHRzOmF9LHRoaXMudHJpZ2dlcihcImRhdGFcIix0KSxyKz1zfWVsc2UgcisrO2k9bi5sZW5ndGgtcixuPTA8aT9uLnN1YmFycmF5KHIpOm5ldyBVaW50OEFycmF5fSx0aGlzLnJlc2V0PWZ1bmN0aW9uKCl7bj1uZXcgVWludDhBcnJheSx0aGlzLnRyaWdnZXIoXCJyZXNldFwiKX0sdGhpcy5lbmRUaW1lbGluZT1mdW5jdGlvbigpe249bmV3IFVpbnQ4QXJyYXksdGhpcy50cmlnZ2VyKFwiZW5kZWR0aW1lbGluZVwiKX19O3l0LnByb3RvdHlwZT1uZXcgRTtmdW5jdGlvbiBfdChlLHQpe2Zvcih2YXIgaT1PYmplY3Qua2V5cyh0KSxzPTA7czxpLmxlbmd0aDtzKyspe3ZhciByPWlbc107XCJoZWFkT2ZQaXBlbGluZVwiIT09ciYmdFtyXS5vbiYmdFtyXS5vbihcImxvZ1wiLE90LmJpbmQoZSxyKSl9fWZ1bmN0aW9uIHZ0KGUsdCl7dmFyIGk7aWYoZS5sZW5ndGg9PT10Lmxlbmd0aCl7Zm9yKGk9MDtpPGUubGVuZ3RoO2krKylpZihlW2ldIT09dFtpXSlyZXR1cm47cmV0dXJuIDF9fWZ1bmN0aW9uIGJ0KGUsdCxpLHMscixuKXtyZXR1cm57c3RhcnQ6e2R0czplLHB0czplKyhpLXQpfSxlbmQ6e2R0czplKyhzLXQpLHB0czplKyhyLWkpfSxwcmVwZW5kZWRDb250ZW50RHVyYXRpb246bixiYXNlTWVkaWFEZWNvZGVUaW1lOmV9fXZhciBUdCxTdCxrLEU9aSxDPUNlLEk9eGUsd3Q9UGUseD1MZSxBPVQsRXQ9YyxrdD10dCxDdD1WZSxJdD15dCx4dD1iLmlzTGlrZWx5QWFjRGF0YSxBdD1jLk9ORV9TRUNPTkRfSU5fVFMsUHQ9W1wiYXVkaW9vYmplY3R0eXBlXCIsXCJjaGFubmVsY291bnRcIixcInNhbXBsZXJhdGVcIixcInNhbXBsaW5nZnJlcXVlbmN5aW5kZXhcIixcInNhbXBsZXNpemVcIl0sTHQ9W1wid2lkdGhcIixcImhlaWdodFwiLFwicHJvZmlsZUlkY1wiLFwibGV2ZWxJZGNcIixcInByb2ZpbGVDb21wYXRpYmlsaXR5XCIsXCJzYXJSYXRpb1wiXSxPdD1mdW5jdGlvbihlLHQpe3Quc3RyZWFtPWUsdGhpcy50cmlnZ2VyKFwibG9nXCIsdCl9LER0PWZ1bmN0aW9uKG4sYSl7dmFyIG89W10sbD0wLGQ9MCxoPTEvMCx1PShhPWF8fHt9KS5maXJzdFNlcXVlbmNlTnVtYmVyfHwwO0R0LnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyksdGhpcy5wdXNoPWZ1bmN0aW9uKHQpe3guY29sbGVjdER0c0luZm8obix0KSxuJiZQdC5mb3JFYWNoKGZ1bmN0aW9uKGUpe25bZV09dFtlXX0pLG8ucHVzaCh0KX0sdGhpcy5zZXRFYXJsaWVzdER0cz1mdW5jdGlvbihlKXtsPWV9LHRoaXMuc2V0VmlkZW9CYXNlTWVkaWFEZWNvZGVUaW1lPWZ1bmN0aW9uKGUpe2g9ZX0sdGhpcy5zZXRBdWRpb0FwcGVuZFN0YXJ0PWZ1bmN0aW9uKGUpe2Q9ZX0sdGhpcy5mbHVzaD1mdW5jdGlvbigpe3ZhciBlLHQsaSxzLHI7MCE9PW8ubGVuZ3RoJiYoZT13dC50cmltQWR0c0ZyYW1lc0J5RWFybGllc3REdHMobyxuLGwpLG4uYmFzZU1lZGlhRGVjb2RlVGltZT14LmNhbGN1bGF0ZVRyYWNrQmFzZU1lZGlhRGVjb2RlVGltZShuLGEua2VlcE9yaWdpbmFsVGltZXN0YW1wcykscj13dC5wcmVmaXhXaXRoU2lsZW5jZShuLGUsZCxoKSxuLnNhbXBsZXM9d3QuZ2VuZXJhdGVTYW1wbGVUYWJsZShlKSxpPUMubWRhdCh3dC5jb25jYXRlbmF0ZUZyYW1lRGF0YShlKSksbz1bXSxzPUMubW9vZih1LFtuXSksdD1uZXcgVWludDhBcnJheShzLmJ5dGVMZW5ndGgraS5ieXRlTGVuZ3RoKSx1KyssdC5zZXQocyksdC5zZXQoaSxzLmJ5dGVMZW5ndGgpLHguY2xlYXJEdHNJbmZvKG4pLGk9TWF0aC5jZWlsKDEwMjQqQXQvbi5zYW1wbGVyYXRlKSxlLmxlbmd0aCYmKHM9ZS5sZW5ndGgqaSx0aGlzLnRyaWdnZXIoXCJzZWdtZW50VGltaW5nSW5mb1wiLGJ0KEV0LmF1ZGlvVHNUb1ZpZGVvVHMobi5iYXNlTWVkaWFEZWNvZGVUaW1lLG4uc2FtcGxlcmF0ZSksZVswXS5kdHMsZVswXS5wdHMsZVswXS5kdHMrcyxlWzBdLnB0cytzLHJ8fDApKSx0aGlzLnRyaWdnZXIoXCJ0aW1pbmdJbmZvXCIse3N0YXJ0OmVbMF0ucHRzLGVuZDplWzBdLnB0cytzfSkpLHRoaXMudHJpZ2dlcihcImRhdGFcIix7dHJhY2s6bixib3hlczp0fSkpLHRoaXMudHJpZ2dlcihcImRvbmVcIixcIkF1ZGlvU2VnbWVudFN0cmVhbVwiKX0sdGhpcy5yZXNldD1mdW5jdGlvbigpe3guY2xlYXJEdHNJbmZvKG4pLG89W10sdGhpcy50cmlnZ2VyKFwicmVzZXRcIil9fTtEdC5wcm90b3R5cGU9bmV3IEUsKFR0PWZ1bmN0aW9uKGEsbil7dmFyIHQsaSxvPVtdLGQ9W10sbD0obj1ufHx7fSkuZmlyc3RTZXF1ZW5jZU51bWJlcnx8MDtUdC5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMpLGRlbGV0ZSBhLm1pblBUUyx0aGlzLmdvcENhY2hlXz1bXSx0aGlzLnB1c2g9ZnVuY3Rpb24oZSl7eC5jb2xsZWN0RHRzSW5mbyhhLGUpLFwic2VxX3BhcmFtZXRlcl9zZXRfcmJzcFwiIT09ZS5uYWxVbml0VHlwZXx8dHx8KHQ9ZS5jb25maWcsYS5zcHM9W2UuZGF0YV0sTHQuZm9yRWFjaChmdW5jdGlvbihlKXthW2VdPXRbZV19LHRoaXMpKSxcInBpY19wYXJhbWV0ZXJfc2V0X3Jic3BcIiE9PWUubmFsVW5pdFR5cGV8fGl8fChpPWUuZGF0YSxhLnBwcz1bZS5kYXRhXSksby5wdXNoKGUpfSx0aGlzLmZsdXNoPWZ1bmN0aW9uKCl7Zm9yKHZhciBlLHQsaSxzPTA7by5sZW5ndGgmJlwiYWNjZXNzX3VuaXRfZGVsaW1pdGVyX3Jic3BcIiE9PW9bMF0ubmFsVW5pdFR5cGU7KW8uc2hpZnQoKTtpZigwIT09by5sZW5ndGgpe2lmKGU9SS5ncm91cE5hbHNJbnRvRnJhbWVzKG8pLChlPUkuZ3JvdXBGcmFtZXNJbnRvR29wcyhlKSlbMF1bMF0ua2V5RnJhbWV8fCgocj10aGlzLmdldEdvcEZvckZ1c2lvbl8ob1swXSxhKSk/KHM9ci5kdXJhdGlvbixlLnVuc2hpZnQociksZS5ieXRlTGVuZ3RoKz1yLmJ5dGVMZW5ndGgsZS5uYWxDb3VudCs9ci5uYWxDb3VudCxlLnB0cz1yLnB0cyxlLmR0cz1yLmR0cyxlLmR1cmF0aW9uKz1yLmR1cmF0aW9uKTplPUkuZXh0ZW5kRmlyc3RLZXlGcmFtZShlKSksZC5sZW5ndGgpe3ZhciByPW4uYWxpZ25Hb3BzQXRFbmQ/dGhpcy5hbGlnbkdvcHNBdEVuZF8oZSk6dGhpcy5hbGlnbkdvcHNBdFN0YXJ0XyhlKTtpZighcilyZXR1cm4gdGhpcy5nb3BDYWNoZV8udW5zaGlmdCh7Z29wOmUucG9wKCkscHBzOmEucHBzLHNwczphLnNwc30pLHRoaXMuZ29wQ2FjaGVfLmxlbmd0aD1NYXRoLm1pbig2LHRoaXMuZ29wQ2FjaGVfLmxlbmd0aCksbz1bXSx0aGlzLnJlc2V0U3RyZWFtXygpLHZvaWQgdGhpcy50cmlnZ2VyKFwiZG9uZVwiLFwiVmlkZW9TZWdtZW50U3RyZWFtXCIpO3guY2xlYXJEdHNJbmZvKGEpLGU9cn14LmNvbGxlY3REdHNJbmZvKGEsZSksYS5zYW1wbGVzPUkuZ2VuZXJhdGVTYW1wbGVUYWJsZShlKSxyPUMubWRhdChJLmNvbmNhdGVuYXRlTmFsRGF0YShlKSksYS5iYXNlTWVkaWFEZWNvZGVUaW1lPXguY2FsY3VsYXRlVHJhY2tCYXNlTWVkaWFEZWNvZGVUaW1lKGEsbi5rZWVwT3JpZ2luYWxUaW1lc3RhbXBzKSx0aGlzLnRyaWdnZXIoXCJwcm9jZXNzZWRHb3BzSW5mb1wiLGUubWFwKGZ1bmN0aW9uKGUpe3JldHVybntwdHM6ZS5wdHMsZHRzOmUuZHRzLGJ5dGVMZW5ndGg6ZS5ieXRlTGVuZ3RofX0pKSx0PWVbMF0saT1lW2UubGVuZ3RoLTFdLHRoaXMudHJpZ2dlcihcInNlZ21lbnRUaW1pbmdJbmZvXCIsYnQoYS5iYXNlTWVkaWFEZWNvZGVUaW1lLHQuZHRzLHQucHRzLGkuZHRzK2kuZHVyYXRpb24saS5wdHMraS5kdXJhdGlvbixzKSksdGhpcy50cmlnZ2VyKFwidGltaW5nSW5mb1wiLHtzdGFydDplWzBdLnB0cyxlbmQ6ZVtlLmxlbmd0aC0xXS5wdHMrZVtlLmxlbmd0aC0xXS5kdXJhdGlvbn0pLHRoaXMuZ29wQ2FjaGVfLnVuc2hpZnQoe2dvcDplLnBvcCgpLHBwczphLnBwcyxzcHM6YS5zcHN9KSx0aGlzLmdvcENhY2hlXy5sZW5ndGg9TWF0aC5taW4oNix0aGlzLmdvcENhY2hlXy5sZW5ndGgpLG89W10sdGhpcy50cmlnZ2VyKFwiYmFzZU1lZGlhRGVjb2RlVGltZVwiLGEuYmFzZU1lZGlhRGVjb2RlVGltZSksdGhpcy50cmlnZ2VyKFwidGltZWxpbmVTdGFydEluZm9cIixhLnRpbWVsaW5lU3RhcnRJbmZvKSx0PUMubW9vZihsLFthXSksaT1uZXcgVWludDhBcnJheSh0LmJ5dGVMZW5ndGgrci5ieXRlTGVuZ3RoKSxsKyssaS5zZXQodCksaS5zZXQocix0LmJ5dGVMZW5ndGgpLHRoaXMudHJpZ2dlcihcImRhdGFcIix7dHJhY2s6YSxib3hlczppfSl9dGhpcy5yZXNldFN0cmVhbV8oKSx0aGlzLnRyaWdnZXIoXCJkb25lXCIsXCJWaWRlb1NlZ21lbnRTdHJlYW1cIil9LHRoaXMucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLnJlc2V0U3RyZWFtXygpLG89W10sdGhpcy5nb3BDYWNoZV8ubGVuZ3RoPTAsZC5sZW5ndGg9MCx0aGlzLnRyaWdnZXIoXCJyZXNldFwiKX0sdGhpcy5yZXNldFN0cmVhbV89ZnVuY3Rpb24oKXt4LmNsZWFyRHRzSW5mbyhhKSxpPXQ9dm9pZCAwfSx0aGlzLmdldEdvcEZvckZ1c2lvbl89ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LGkscyxyPTEvMCxuPTA7bjx0aGlzLmdvcENhY2hlXy5sZW5ndGg7bisrKWk9KHM9dGhpcy5nb3BDYWNoZV9bbl0pLmdvcCxhLnBwcyYmdnQoYS5wcHNbMF0scy5wcHNbMF0pJiZhLnNwcyYmdnQoYS5zcHNbMF0scy5zcHNbMF0pJiYoaS5kdHM8YS50aW1lbGluZVN0YXJ0SW5mby5kdHN8fC0xZTQ8PShpPWUuZHRzLWkuZHRzLWkuZHVyYXRpb24pJiZpPD00NWUzJiYoIXR8fGk8cikmJih0PXMscj1pKSk7cmV0dXJuIHQ/dC5nb3A6bnVsbH0sdGhpcy5hbGlnbkdvcHNBdFN0YXJ0Xz1mdW5jdGlvbihlKXtmb3IodmFyIHQsaSxzLHIsbj1lLmJ5dGVMZW5ndGgsYT1lLm5hbENvdW50LG89ZS5kdXJhdGlvbixsPXQ9MDtsPGQubGVuZ3RoJiZ0PGUubGVuZ3RoJiYoaT1kW2xdLHM9ZVt0XSxpLnB0cyE9PXMucHRzKTspcy5wdHM+aS5wdHM/bCsrOih0Kyssbi09cy5ieXRlTGVuZ3RoLGEtPXMubmFsQ291bnQsby09cy5kdXJhdGlvbik7cmV0dXJuIDA9PT10P2U6dD09PWUubGVuZ3RoP251bGw6KChyPWUuc2xpY2UodCkpLmJ5dGVMZW5ndGg9bixyLmR1cmF0aW9uPW8sci5uYWxDb3VudD1hLHIucHRzPXJbMF0ucHRzLHIuZHRzPXJbMF0uZHRzLHIpfSx0aGlzLmFsaWduR29wc0F0RW5kXz1mdW5jdGlvbihlKXtmb3IodmFyIHQsaSxzLHIsbj1kLmxlbmd0aC0xLGE9ZS5sZW5ndGgtMSxvPW51bGwsbD0hMTswPD1uJiYwPD1hOyl7aWYodD1kW25dLGk9ZVthXSx0LnB0cz09PWkucHRzKXtsPSEwO2JyZWFrfXQucHRzPmkucHRzP24tLToobj09PWQubGVuZ3RoLTEmJihvPWEpLGEtLSl9cmV0dXJuIGx8fG51bGwhPT1vPzA9PT0ocz1sP2E6byk/ZToocj0ocz1lLnNsaWNlKHMpKS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5ieXRlTGVuZ3RoKz10LmJ5dGVMZW5ndGgsZS5kdXJhdGlvbis9dC5kdXJhdGlvbixlLm5hbENvdW50Kz10Lm5hbENvdW50LGV9LHtieXRlTGVuZ3RoOjAsZHVyYXRpb246MCxuYWxDb3VudDowfSkscy5ieXRlTGVuZ3RoPXIuYnl0ZUxlbmd0aCxzLmR1cmF0aW9uPXIuZHVyYXRpb24scy5uYWxDb3VudD1yLm5hbENvdW50LHMucHRzPXNbMF0ucHRzLHMuZHRzPXNbMF0uZHRzLHMpOm51bGx9LHRoaXMuYWxpZ25Hb3BzV2l0aD1mdW5jdGlvbihlKXtkPWV9fSkucHJvdG90eXBlPW5ldyBFLCgoaz1mdW5jdGlvbihlLHQpe3RoaXMubnVtYmVyT2ZUcmFja3M9MCx0aGlzLm1ldGFkYXRhU3RyZWFtPXQsXCJ1bmRlZmluZWRcIiE9dHlwZW9mKGU9ZXx8e30pLnJlbXV4P3RoaXMucmVtdXhUcmFja3M9ISFlLnJlbXV4OnRoaXMucmVtdXhUcmFja3M9ITAsXCJib29sZWFuXCI9PXR5cGVvZiBlLmtlZXBPcmlnaW5hbFRpbWVzdGFtcHM/dGhpcy5rZWVwT3JpZ2luYWxUaW1lc3RhbXBzPWUua2VlcE9yaWdpbmFsVGltZXN0YW1wczp0aGlzLmtlZXBPcmlnaW5hbFRpbWVzdGFtcHM9ITEsdGhpcy5wZW5kaW5nVHJhY2tzPVtdLHRoaXMudmlkZW9UcmFjaz1udWxsLHRoaXMucGVuZGluZ0JveGVzPVtdLHRoaXMucGVuZGluZ0NhcHRpb25zPVtdLHRoaXMucGVuZGluZ01ldGFkYXRhPVtdLHRoaXMucGVuZGluZ0J5dGVzPTAsdGhpcy5lbWl0dGVkVHJhY2tzPTAsay5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMpLHRoaXMucHVzaD1mdW5jdGlvbihlKXtyZXR1cm4gZS50ZXh0P3RoaXMucGVuZGluZ0NhcHRpb25zLnB1c2goZSk6ZS5mcmFtZXM/dGhpcy5wZW5kaW5nTWV0YWRhdGEucHVzaChlKToodGhpcy5wZW5kaW5nVHJhY2tzLnB1c2goZS50cmFjayksdGhpcy5wZW5kaW5nQnl0ZXMrPWUuYm94ZXMuYnl0ZUxlbmd0aCxcInZpZGVvXCI9PT1lLnRyYWNrLnR5cGUmJih0aGlzLnZpZGVvVHJhY2s9ZS50cmFjayx0aGlzLnBlbmRpbmdCb3hlcy5wdXNoKGUuYm94ZXMpKSx2b2lkKFwiYXVkaW9cIj09PWUudHJhY2sudHlwZSYmKHRoaXMuYXVkaW9UcmFjaz1lLnRyYWNrLHRoaXMucGVuZGluZ0JveGVzLnVuc2hpZnQoZS5ib3hlcykpKSl9fSkucHJvdG90eXBlPW5ldyBFKS5mbHVzaD1mdW5jdGlvbihlKXt2YXIgdCxpLHMscj0wLG49e2NhcHRpb25zOltdLGNhcHRpb25TdHJlYW1zOnt9LG1ldGFkYXRhOltdLGluZm86e319LGE9MDtpZih0aGlzLnBlbmRpbmdUcmFja3MubGVuZ3RoPHRoaXMubnVtYmVyT2ZUcmFja3Mpe2lmKFwiVmlkZW9TZWdtZW50U3RyZWFtXCIhPT1lJiZcIkF1ZGlvU2VnbWVudFN0cmVhbVwiIT09ZSlyZXR1cm47aWYodGhpcy5yZW11eFRyYWNrcylyZXR1cm47aWYoMD09PXRoaXMucGVuZGluZ1RyYWNrcy5sZW5ndGgpcmV0dXJuIHRoaXMuZW1pdHRlZFRyYWNrcysrLHZvaWQodGhpcy5lbWl0dGVkVHJhY2tzPj10aGlzLm51bWJlck9mVHJhY2tzJiYodGhpcy50cmlnZ2VyKFwiZG9uZVwiKSx0aGlzLmVtaXR0ZWRUcmFja3M9MCkpfWlmKHRoaXMudmlkZW9UcmFjaz8oYT10aGlzLnZpZGVvVHJhY2sudGltZWxpbmVTdGFydEluZm8ucHRzLEx0LmZvckVhY2goZnVuY3Rpb24oZSl7bi5pbmZvW2VdPXRoaXMudmlkZW9UcmFja1tlXX0sdGhpcykpOnRoaXMuYXVkaW9UcmFjayYmKGE9dGhpcy5hdWRpb1RyYWNrLnRpbWVsaW5lU3RhcnRJbmZvLnB0cyxQdC5mb3JFYWNoKGZ1bmN0aW9uKGUpe24uaW5mb1tlXT10aGlzLmF1ZGlvVHJhY2tbZV19LHRoaXMpKSx0aGlzLnZpZGVvVHJhY2t8fHRoaXMuYXVkaW9UcmFjayl7Zm9yKDE9PT10aGlzLnBlbmRpbmdUcmFja3MubGVuZ3RoP24udHlwZT10aGlzLnBlbmRpbmdUcmFja3NbMF0udHlwZTpuLnR5cGU9XCJjb21iaW5lZFwiLHRoaXMuZW1pdHRlZFRyYWNrcys9dGhpcy5wZW5kaW5nVHJhY2tzLmxlbmd0aCxlPUMuaW5pdFNlZ21lbnQodGhpcy5wZW5kaW5nVHJhY2tzKSxuLmluaXRTZWdtZW50PW5ldyBVaW50OEFycmF5KGUuYnl0ZUxlbmd0aCksbi5pbml0U2VnbWVudC5zZXQoZSksbi5kYXRhPW5ldyBVaW50OEFycmF5KHRoaXMucGVuZGluZ0J5dGVzKSxzPTA7czx0aGlzLnBlbmRpbmdCb3hlcy5sZW5ndGg7cysrKW4uZGF0YS5zZXQodGhpcy5wZW5kaW5nQm94ZXNbc10scikscis9dGhpcy5wZW5kaW5nQm94ZXNbc10uYnl0ZUxlbmd0aDtmb3Iocz0wO3M8dGhpcy5wZW5kaW5nQ2FwdGlvbnMubGVuZ3RoO3MrKykodD10aGlzLnBlbmRpbmdDYXB0aW9uc1tzXSkuc3RhcnRUaW1lPUV0Lm1ldGFkYXRhVHNUb1NlY29uZHModC5zdGFydFB0cyxhLHRoaXMua2VlcE9yaWdpbmFsVGltZXN0YW1wcyksdC5lbmRUaW1lPUV0Lm1ldGFkYXRhVHNUb1NlY29uZHModC5lbmRQdHMsYSx0aGlzLmtlZXBPcmlnaW5hbFRpbWVzdGFtcHMpLG4uY2FwdGlvblN0cmVhbXNbdC5zdHJlYW1dPSEwLG4uY2FwdGlvbnMucHVzaCh0KTtmb3Iocz0wO3M8dGhpcy5wZW5kaW5nTWV0YWRhdGEubGVuZ3RoO3MrKykoaT10aGlzLnBlbmRpbmdNZXRhZGF0YVtzXSkuY3VlVGltZT1FdC5tZXRhZGF0YVRzVG9TZWNvbmRzKGkucHRzLGEsdGhpcy5rZWVwT3JpZ2luYWxUaW1lc3RhbXBzKSxuLm1ldGFkYXRhLnB1c2goaSk7Zm9yKG4ubWV0YWRhdGEuZGlzcGF0Y2hUeXBlPXRoaXMubWV0YWRhdGFTdHJlYW0uZGlzcGF0Y2hUeXBlLHRoaXMucGVuZGluZ1RyYWNrcy5sZW5ndGg9MCx0aGlzLnZpZGVvVHJhY2s9bnVsbCx0aGlzLnBlbmRpbmdCb3hlcy5sZW5ndGg9MCx0aGlzLnBlbmRpbmdDYXB0aW9ucy5sZW5ndGg9MCx0aGlzLnBlbmRpbmdCeXRlcz0wLHRoaXMucGVuZGluZ01ldGFkYXRhLmxlbmd0aD0wLHRoaXMudHJpZ2dlcihcImRhdGFcIixuKSxzPTA7czxuLmNhcHRpb25zLmxlbmd0aDtzKyspdD1uLmNhcHRpb25zW3NdLHRoaXMudHJpZ2dlcihcImNhcHRpb25cIix0KTtmb3Iocz0wO3M8bi5tZXRhZGF0YS5sZW5ndGg7cysrKWk9bi5tZXRhZGF0YVtzXSx0aGlzLnRyaWdnZXIoXCJpZDNGcmFtZVwiLGkpfXRoaXMuZW1pdHRlZFRyYWNrcz49dGhpcy5udW1iZXJPZlRyYWNrcyYmKHRoaXMudHJpZ2dlcihcImRvbmVcIiksdGhpcy5lbWl0dGVkVHJhY2tzPTApfSxrLnByb3RvdHlwZS5zZXRSZW11eD1mdW5jdGlvbihlKXt0aGlzLnJlbXV4VHJhY2tzPWV9LChTdD1mdW5jdGlvbihzKXt2YXIgcixuLGE9dGhpcyxpPSEwO1N0LnByb3RvdHlwZS5pbml0LmNhbGwodGhpcykscz1zfHx7fSx0aGlzLmJhc2VNZWRpYURlY29kZVRpbWU9cy5iYXNlTWVkaWFEZWNvZGVUaW1lfHwwLHRoaXMudHJhbnNtdXhQaXBlbGluZV89e30sdGhpcy5zZXR1cEFhY1BpcGVsaW5lPWZ1bmN0aW9uKCl7dmFyIHQ9e307KHRoaXMudHJhbnNtdXhQaXBlbGluZV89dCkudHlwZT1cImFhY1wiLHQubWV0YWRhdGFTdHJlYW09bmV3IEEuTWV0YWRhdGFTdHJlYW0sdC5hYWNTdHJlYW09bmV3IEl0LHQuYXVkaW9UaW1lc3RhbXBSb2xsb3ZlclN0cmVhbT1uZXcgQS5UaW1lc3RhbXBSb2xsb3ZlclN0cmVhbShcImF1ZGlvXCIpLHQudGltZWRNZXRhZGF0YVRpbWVzdGFtcFJvbGxvdmVyU3RyZWFtPW5ldyBBLlRpbWVzdGFtcFJvbGxvdmVyU3RyZWFtKFwidGltZWQtbWV0YWRhdGFcIiksdC5hZHRzU3RyZWFtPW5ldyBrdCx0LmNvYWxlc2NlU3RyZWFtPW5ldyBrKHMsdC5tZXRhZGF0YVN0cmVhbSksdC5oZWFkT2ZQaXBlbGluZT10LmFhY1N0cmVhbSx0LmFhY1N0cmVhbS5waXBlKHQuYXVkaW9UaW1lc3RhbXBSb2xsb3ZlclN0cmVhbSkucGlwZSh0LmFkdHNTdHJlYW0pLHQuYWFjU3RyZWFtLnBpcGUodC50aW1lZE1ldGFkYXRhVGltZXN0YW1wUm9sbG92ZXJTdHJlYW0pLnBpcGUodC5tZXRhZGF0YVN0cmVhbSkucGlwZSh0LmNvYWxlc2NlU3RyZWFtKSx0Lm1ldGFkYXRhU3RyZWFtLm9uKFwidGltZXN0YW1wXCIsZnVuY3Rpb24oZSl7dC5hYWNTdHJlYW0uc2V0VGltZXN0YW1wKGUudGltZVN0YW1wKX0pLHQuYWFjU3RyZWFtLm9uKFwiZGF0YVwiLGZ1bmN0aW9uKGUpe1widGltZWQtbWV0YWRhdGFcIiE9PWUudHlwZSYmXCJhdWRpb1wiIT09ZS50eXBlfHx0LmF1ZGlvU2VnbWVudFN0cmVhbXx8KG49bnx8e3RpbWVsaW5lU3RhcnRJbmZvOntiYXNlTWVkaWFEZWNvZGVUaW1lOmEuYmFzZU1lZGlhRGVjb2RlVGltZX0sY29kZWM6XCJhZHRzXCIsdHlwZTpcImF1ZGlvXCJ9LHQuY29hbGVzY2VTdHJlYW0ubnVtYmVyT2ZUcmFja3MrKyx0LmF1ZGlvU2VnbWVudFN0cmVhbT1uZXcgRHQobixzKSx0LmF1ZGlvU2VnbWVudFN0cmVhbS5vbihcImxvZ1wiLGEuZ2V0TG9nVHJpZ2dlcl8oXCJhdWRpb1NlZ21lbnRTdHJlYW1cIikpLHQuYXVkaW9TZWdtZW50U3RyZWFtLm9uKFwidGltaW5nSW5mb1wiLGEudHJpZ2dlci5iaW5kKGEsXCJhdWRpb1RpbWluZ0luZm9cIikpLHQuYWR0c1N0cmVhbS5waXBlKHQuYXVkaW9TZWdtZW50U3RyZWFtKS5waXBlKHQuY29hbGVzY2VTdHJlYW0pLGEudHJpZ2dlcihcInRyYWNraW5mb1wiLHtoYXNBdWRpbzohIW4saGFzVmlkZW86ISFyfSkpfSksdC5jb2FsZXNjZVN0cmVhbS5vbihcImRhdGFcIix0aGlzLnRyaWdnZXIuYmluZCh0aGlzLFwiZGF0YVwiKSksdC5jb2FsZXNjZVN0cmVhbS5vbihcImRvbmVcIix0aGlzLnRyaWdnZXIuYmluZCh0aGlzLFwiZG9uZVwiKSksX3QodGhpcyx0KX0sdGhpcy5zZXR1cFRzUGlwZWxpbmU9ZnVuY3Rpb24oKXt2YXIgaT17fTsodGhpcy50cmFuc211eFBpcGVsaW5lXz1pKS50eXBlPVwidHNcIixpLm1ldGFkYXRhU3RyZWFtPW5ldyBBLk1ldGFkYXRhU3RyZWFtLGkucGFja2V0U3RyZWFtPW5ldyBBLlRyYW5zcG9ydFBhY2tldFN0cmVhbSxpLnBhcnNlU3RyZWFtPW5ldyBBLlRyYW5zcG9ydFBhcnNlU3RyZWFtLGkuZWxlbWVudGFyeVN0cmVhbT1uZXcgQS5FbGVtZW50YXJ5U3RyZWFtLGkudGltZXN0YW1wUm9sbG92ZXJTdHJlYW09bmV3IEEuVGltZXN0YW1wUm9sbG92ZXJTdHJlYW0saS5hZHRzU3RyZWFtPW5ldyBrdCxpLmgyNjRTdHJlYW09bmV3IEN0LGkuY2FwdGlvblN0cmVhbT1uZXcgQS5DYXB0aW9uU3RyZWFtKHMpLGkuY29hbGVzY2VTdHJlYW09bmV3IGsocyxpLm1ldGFkYXRhU3RyZWFtKSxpLmhlYWRPZlBpcGVsaW5lPWkucGFja2V0U3RyZWFtLGkucGFja2V0U3RyZWFtLnBpcGUoaS5wYXJzZVN0cmVhbSkucGlwZShpLmVsZW1lbnRhcnlTdHJlYW0pLnBpcGUoaS50aW1lc3RhbXBSb2xsb3ZlclN0cmVhbSksaS50aW1lc3RhbXBSb2xsb3ZlclN0cmVhbS5waXBlKGkuaDI2NFN0cmVhbSksaS50aW1lc3RhbXBSb2xsb3ZlclN0cmVhbS5waXBlKGkuYWR0c1N0cmVhbSksaS50aW1lc3RhbXBSb2xsb3ZlclN0cmVhbS5waXBlKGkubWV0YWRhdGFTdHJlYW0pLnBpcGUoaS5jb2FsZXNjZVN0cmVhbSksaS5oMjY0U3RyZWFtLnBpcGUoaS5jYXB0aW9uU3RyZWFtKS5waXBlKGkuY29hbGVzY2VTdHJlYW0pLGkuZWxlbWVudGFyeVN0cmVhbS5vbihcImRhdGFcIixmdW5jdGlvbihlKXt2YXIgdDtpZihcIm1ldGFkYXRhXCI9PT1lLnR5cGUpe2Zvcih0PWUudHJhY2tzLmxlbmd0aDt0LS07KXJ8fFwidmlkZW9cIiE9PWUudHJhY2tzW3RdLnR5cGU/bnx8XCJhdWRpb1wiIT09ZS50cmFja3NbdF0udHlwZXx8KChuPWUudHJhY2tzW3RdKS50aW1lbGluZVN0YXJ0SW5mby5iYXNlTWVkaWFEZWNvZGVUaW1lPWEuYmFzZU1lZGlhRGVjb2RlVGltZSk6KHI9ZS50cmFja3NbdF0pLnRpbWVsaW5lU3RhcnRJbmZvLmJhc2VNZWRpYURlY29kZVRpbWU9YS5iYXNlTWVkaWFEZWNvZGVUaW1lO3ImJiFpLnZpZGVvU2VnbWVudFN0cmVhbSYmKGkuY29hbGVzY2VTdHJlYW0ubnVtYmVyT2ZUcmFja3MrKyxpLnZpZGVvU2VnbWVudFN0cmVhbT1uZXcgVHQocixzKSxpLnZpZGVvU2VnbWVudFN0cmVhbS5vbihcImxvZ1wiLGEuZ2V0TG9nVHJpZ2dlcl8oXCJ2aWRlb1NlZ21lbnRTdHJlYW1cIikpLGkudmlkZW9TZWdtZW50U3RyZWFtLm9uKFwidGltZWxpbmVTdGFydEluZm9cIixmdW5jdGlvbihlKXtuJiYhcy5rZWVwT3JpZ2luYWxUaW1lc3RhbXBzJiYobi50aW1lbGluZVN0YXJ0SW5mbz1lLGkuYXVkaW9TZWdtZW50U3RyZWFtLnNldEVhcmxpZXN0RHRzKGUuZHRzLWEuYmFzZU1lZGlhRGVjb2RlVGltZSkpfSksaS52aWRlb1NlZ21lbnRTdHJlYW0ub24oXCJwcm9jZXNzZWRHb3BzSW5mb1wiLGEudHJpZ2dlci5iaW5kKGEsXCJnb3BJbmZvXCIpKSxpLnZpZGVvU2VnbWVudFN0cmVhbS5vbihcInNlZ21lbnRUaW1pbmdJbmZvXCIsYS50cmlnZ2VyLmJpbmQoYSxcInZpZGVvU2VnbWVudFRpbWluZ0luZm9cIikpLGkudmlkZW9TZWdtZW50U3RyZWFtLm9uKFwiYmFzZU1lZGlhRGVjb2RlVGltZVwiLGZ1bmN0aW9uKGUpe24mJmkuYXVkaW9TZWdtZW50U3RyZWFtLnNldFZpZGVvQmFzZU1lZGlhRGVjb2RlVGltZShlKX0pLGkudmlkZW9TZWdtZW50U3RyZWFtLm9uKFwidGltaW5nSW5mb1wiLGEudHJpZ2dlci5iaW5kKGEsXCJ2aWRlb1RpbWluZ0luZm9cIikpLGkuaDI2NFN0cmVhbS5waXBlKGkudmlkZW9TZWdtZW50U3RyZWFtKS5waXBlKGkuY29hbGVzY2VTdHJlYW0pKSxuJiYhaS5hdWRpb1NlZ21lbnRTdHJlYW0mJihpLmNvYWxlc2NlU3RyZWFtLm51bWJlck9mVHJhY2tzKyssaS5hdWRpb1NlZ21lbnRTdHJlYW09bmV3IER0KG4scyksaS5hdWRpb1NlZ21lbnRTdHJlYW0ub24oXCJsb2dcIixhLmdldExvZ1RyaWdnZXJfKFwiYXVkaW9TZWdtZW50U3RyZWFtXCIpKSxpLmF1ZGlvU2VnbWVudFN0cmVhbS5vbihcInRpbWluZ0luZm9cIixhLnRyaWdnZXIuYmluZChhLFwiYXVkaW9UaW1pbmdJbmZvXCIpKSxpLmF1ZGlvU2VnbWVudFN0cmVhbS5vbihcInNlZ21lbnRUaW1pbmdJbmZvXCIsYS50cmlnZ2VyLmJpbmQoYSxcImF1ZGlvU2VnbWVudFRpbWluZ0luZm9cIikpLGkuYWR0c1N0cmVhbS5waXBlKGkuYXVkaW9TZWdtZW50U3RyZWFtKS5waXBlKGkuY29hbGVzY2VTdHJlYW0pKSxhLnRyaWdnZXIoXCJ0cmFja2luZm9cIix7aGFzQXVkaW86ISFuLGhhc1ZpZGVvOiEhcn0pfX0pLGkuY29hbGVzY2VTdHJlYW0ub24oXCJkYXRhXCIsdGhpcy50cmlnZ2VyLmJpbmQodGhpcyxcImRhdGFcIikpLGkuY29hbGVzY2VTdHJlYW0ub24oXCJpZDNGcmFtZVwiLGZ1bmN0aW9uKGUpe2UuZGlzcGF0Y2hUeXBlPWkubWV0YWRhdGFTdHJlYW0uZGlzcGF0Y2hUeXBlLGEudHJpZ2dlcihcImlkM0ZyYW1lXCIsZSl9KSxpLmNvYWxlc2NlU3RyZWFtLm9uKFwiY2FwdGlvblwiLHRoaXMudHJpZ2dlci5iaW5kKHRoaXMsXCJjYXB0aW9uXCIpKSxpLmNvYWxlc2NlU3RyZWFtLm9uKFwiZG9uZVwiLHRoaXMudHJpZ2dlci5iaW5kKHRoaXMsXCJkb25lXCIpKSxfdCh0aGlzLGkpfSx0aGlzLnNldEJhc2VNZWRpYURlY29kZVRpbWU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy50cmFuc211eFBpcGVsaW5lXztzLmtlZXBPcmlnaW5hbFRpbWVzdGFtcHN8fCh0aGlzLmJhc2VNZWRpYURlY29kZVRpbWU9ZSksbiYmKG4udGltZWxpbmVTdGFydEluZm8uZHRzPXZvaWQgMCxuLnRpbWVsaW5lU3RhcnRJbmZvLnB0cz12b2lkIDAseC5jbGVhckR0c0luZm8obiksdC5hdWRpb1RpbWVzdGFtcFJvbGxvdmVyU3RyZWFtKSYmdC5hdWRpb1RpbWVzdGFtcFJvbGxvdmVyU3RyZWFtLmRpc2NvbnRpbnVpdHkoKSxyJiYodC52aWRlb1NlZ21lbnRTdHJlYW0mJih0LnZpZGVvU2VnbWVudFN0cmVhbS5nb3BDYWNoZV89W10pLHIudGltZWxpbmVTdGFydEluZm8uZHRzPXZvaWQgMCxyLnRpbWVsaW5lU3RhcnRJbmZvLnB0cz12b2lkIDAseC5jbGVhckR0c0luZm8ociksdC5jYXB0aW9uU3RyZWFtLnJlc2V0KCkpLHQudGltZXN0YW1wUm9sbG92ZXJTdHJlYW0mJnQudGltZXN0YW1wUm9sbG92ZXJTdHJlYW0uZGlzY29udGludWl0eSgpfSx0aGlzLnNldEF1ZGlvQXBwZW5kU3RhcnQ9ZnVuY3Rpb24oZSl7biYmdGhpcy50cmFuc211eFBpcGVsaW5lXy5hdWRpb1NlZ21lbnRTdHJlYW0uc2V0QXVkaW9BcHBlbmRTdGFydChlKX0sdGhpcy5zZXRSZW11eD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnRyYW5zbXV4UGlwZWxpbmVfO3MucmVtdXg9ZSx0JiZ0LmNvYWxlc2NlU3RyZWFtJiZ0LmNvYWxlc2NlU3RyZWFtLnNldFJlbXV4KGUpfSx0aGlzLmFsaWduR29wc1dpdGg9ZnVuY3Rpb24oZSl7ciYmdGhpcy50cmFuc211eFBpcGVsaW5lXy52aWRlb1NlZ21lbnRTdHJlYW0mJnRoaXMudHJhbnNtdXhQaXBlbGluZV8udmlkZW9TZWdtZW50U3RyZWFtLmFsaWduR29wc1dpdGgoZSl9LHRoaXMuZ2V0TG9nVHJpZ2dlcl89ZnVuY3Rpb24odCl7dmFyIGk9dGhpcztyZXR1cm4gZnVuY3Rpb24oZSl7ZS5zdHJlYW09dCxpLnRyaWdnZXIoXCJsb2dcIixlKX19LHRoaXMucHVzaD1mdW5jdGlvbihlKXt2YXIgdDtpJiYoKHQ9eHQoZSkpJiZcImFhY1wiIT09dGhpcy50cmFuc211eFBpcGVsaW5lXy50eXBlP3RoaXMuc2V0dXBBYWNQaXBlbGluZSgpOnR8fFwidHNcIj09PXRoaXMudHJhbnNtdXhQaXBlbGluZV8udHlwZXx8dGhpcy5zZXR1cFRzUGlwZWxpbmUoKSxpPSExKSx0aGlzLnRyYW5zbXV4UGlwZWxpbmVfLmhlYWRPZlBpcGVsaW5lLnB1c2goZSl9LHRoaXMuZmx1c2g9ZnVuY3Rpb24oKXtpPSEwLHRoaXMudHJhbnNtdXhQaXBlbGluZV8uaGVhZE9mUGlwZWxpbmUuZmx1c2goKX0sdGhpcy5lbmRUaW1lbGluZT1mdW5jdGlvbigpe3RoaXMudHJhbnNtdXhQaXBlbGluZV8uaGVhZE9mUGlwZWxpbmUuZW5kVGltZWxpbmUoKX0sdGhpcy5yZXNldD1mdW5jdGlvbigpe3RoaXMudHJhbnNtdXhQaXBlbGluZV8uaGVhZE9mUGlwZWxpbmUmJnRoaXMudHJhbnNtdXhQaXBlbGluZV8uaGVhZE9mUGlwZWxpbmUucmVzZXQoKX0sdGhpcy5yZXNldENhcHRpb25zPWZ1bmN0aW9uKCl7dGhpcy50cmFuc211eFBpcGVsaW5lXy5jYXB0aW9uU3RyZWFtJiZ0aGlzLnRyYW5zbXV4UGlwZWxpbmVfLmNhcHRpb25TdHJlYW0ucmVzZXQoKX19KS5wcm90b3R5cGU9bmV3IEU7ZnVuY3Rpb24gTnQoZSl7dmFyIHQ9XCJcIjtyZXR1cm4odCs9U3RyaW5nLmZyb21DaGFyQ29kZShlWzBdKSkrU3RyaW5nLmZyb21DaGFyQ29kZShlWzFdKStTdHJpbmcuZnJvbUNoYXJDb2RlKGVbMl0pK1N0cmluZy5mcm9tQ2hhckNvZGUoZVszXSl9ZnVuY3Rpb24gTXQoZSx0KXt2YXIgaSxzLHIsbj1bXTtpZighdC5sZW5ndGgpcmV0dXJuIG51bGw7Zm9yKGk9MDtpPGUuYnl0ZUxlbmd0aDspcz0kdChlW2ldPDwyNHxlW2krMV08PDE2fGVbaSsyXTw8OHxlW2krM10pLHI9V3QoZS5zdWJhcnJheShpKzQsaSs4KSkscz0xPHM/aStzOmUuYnl0ZUxlbmd0aCxyPT09dFswXSYmKDE9PT10Lmxlbmd0aD9uLnB1c2goZS5zdWJhcnJheShpKzgscykpOihyPU10KGUuc3ViYXJyYXkoaSs4LHMpLHQuc2xpY2UoMSkpKS5sZW5ndGgmJihuPW4uY29uY2F0KHIpKSksaT1zO3JldHVybiBufWZ1bmN0aW9uIFJ0KGUpe3ZhciB0PXt2ZXJzaW9uOmVbMF0sZmxhZ3M6bmV3IFVpbnQ4QXJyYXkoZS5zdWJhcnJheSgxLDQpKX07cmV0dXJuIHQuYmFzZU1lZGlhRGVjb2RlVGltZT0xPT09dC52ZXJzaW9uP3p0KGUuc3ViYXJyYXkoNCkpOkd0KGVbNF08PDI0fGVbNV08PDE2fGVbNl08PDh8ZVs3XSksdH1mdW5jdGlvbiBVdChlKXt2YXIgdCxpPXt2ZXJzaW9uOmVbMF0sZmxhZ3M6bmV3IFVpbnQ4QXJyYXkoZS5zdWJhcnJheSgxLDQpKSxzYW1wbGVzOltdfSxzPW5ldyBEYXRhVmlldyhlLmJ1ZmZlcixlLmJ5dGVPZmZzZXQsZS5ieXRlTGVuZ3RoKSxyPTEmaS5mbGFnc1syXSxuPTQmaS5mbGFnc1syXSxhPTEmaS5mbGFnc1sxXSxvPTImaS5mbGFnc1sxXSxsPTQmaS5mbGFnc1sxXSxkPTgmaS5mbGFnc1sxXSxoPXMuZ2V0VWludDMyKDQpLHU9ODtmb3IociYmKGkuZGF0YU9mZnNldD1zLmdldEludDMyKHUpLHUrPTQpLG4mJmgmJih0PXtmbGFnczpYdChlLnN1YmFycmF5KHUsdSs0KSl9LHUrPTQsYSYmKHQuZHVyYXRpb249cy5nZXRVaW50MzIodSksdSs9NCksbyYmKHQuc2l6ZT1zLmdldFVpbnQzMih1KSx1Kz00KSxkJiYodC5jb21wb3NpdGlvblRpbWVPZmZzZXQ9MT09PWkudmVyc2lvbj9zLmdldEludDMyKHUpOnMuZ2V0VWludDMyKHUpLHUrPTQpLGkuc2FtcGxlcy5wdXNoKHQpLGgtLSk7aC0tOyl0PXt9LGEmJih0LmR1cmF0aW9uPXMuZ2V0VWludDMyKHUpLHUrPTQpLG8mJih0LnNpemU9cy5nZXRVaW50MzIodSksdSs9NCksbCYmKHQuZmxhZ3M9WHQoZS5zdWJhcnJheSh1LHUrNCkpLHUrPTQpLGQmJih0LmNvbXBvc2l0aW9uVGltZU9mZnNldD0xPT09aS52ZXJzaW9uP3MuZ2V0SW50MzIodSk6cy5nZXRVaW50MzIodSksdSs9NCksaS5zYW1wbGVzLnB1c2godCk7cmV0dXJuIGl9ZnVuY3Rpb24gQnQoZSl7dmFyIHQ9bmV3IERhdGFWaWV3KGUuYnVmZmVyLGUuYnl0ZU9mZnNldCxlLmJ5dGVMZW5ndGgpLGk9MSYoZT17dmVyc2lvbjplWzBdLGZsYWdzOm5ldyBVaW50OEFycmF5KGUuc3ViYXJyYXkoMSw0KSksdHJhY2tJZDp0LmdldFVpbnQzMig0KX0pLmZsYWdzWzJdLHM9MiZlLmZsYWdzWzJdLHI9OCZlLmZsYWdzWzJdLG49MTYmZS5mbGFnc1syXSxhPTMyJmUuZmxhZ3NbMl0sbz02NTUzNiZlLmZsYWdzWzBdLGw9MTMxMDcyJmUuZmxhZ3NbMF0sZD04O3JldHVybiBpJiYoZCs9NCxlLmJhc2VEYXRhT2Zmc2V0PXQuZ2V0VWludDMyKDEyKSxkKz00KSxzJiYoZS5zYW1wbGVEZXNjcmlwdGlvbkluZGV4PXQuZ2V0VWludDMyKGQpLGQrPTQpLHImJihlLmRlZmF1bHRTYW1wbGVEdXJhdGlvbj10LmdldFVpbnQzMihkKSxkKz00KSxuJiYoZS5kZWZhdWx0U2FtcGxlU2l6ZT10LmdldFVpbnQzMihkKSxkKz00KSxhJiYoZS5kZWZhdWx0U2FtcGxlRmxhZ3M9dC5nZXRVaW50MzIoZCkpLG8mJihlLmR1cmF0aW9uSXNFbXB0eT0hMCksIWkmJmwmJihlLmJhc2VEYXRhT2Zmc2V0SXNNb29mPSEwKSxlfWZ1bmN0aW9uIEZ0KGUpe3ZhciB0PTMxJmVbMV07cmV0dXJuIHQ8PDh8ZVsyXX1mdW5jdGlvbiBqdChlKXtyZXR1cm4hISg2NCZlWzFdKX1mdW5jdGlvbiBIdChlKXt2YXIgdD0wO3JldHVybiAxPCg0OCZlWzNdKT4+PjQmJih0Kz1lWzRdKzEpLHR9ZnVuY3Rpb24gcXQoZSl7c3dpdGNoKGUpe2Nhc2UgNTpyZXR1cm5cInNsaWNlX2xheWVyX3dpdGhvdXRfcGFydGl0aW9uaW5nX3Jic3BfaWRyXCI7Y2FzZSA2OnJldHVyblwic2VpX3Jic3BcIjtjYXNlIDc6cmV0dXJuXCJzZXFfcGFyYW1ldGVyX3NldF9yYnNwXCI7Y2FzZSA4OnJldHVyblwicGljX3BhcmFtZXRlcl9zZXRfcmJzcFwiO2Nhc2UgOTpyZXR1cm5cImFjY2Vzc191bml0X2RlbGltaXRlcl9yYnNwXCI7ZGVmYXVsdDpyZXR1cm4gbnVsbH19dmFyIFZ0PVN0LGk9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+Pj4wfSxQZT1mdW5jdGlvbihlKXtyZXR1cm4oXCIwMFwiK2UudG9TdHJpbmcoMTYpKS5zbGljZSgtMil9LCR0PWksV3Q9TnQsR3Q9aSx6dD1fZS5nZXRVaW50NjQsWHQ9ZnVuY3Rpb24oZSl7cmV0dXJue2lzTGVhZGluZzooMTImZVswXSk+Pj4yLGRlcGVuZHNPbjozJmVbMF0saXNEZXBlbmRlZE9uOigxOTImZVsxXSk+Pj42LGhhc1JlZHVuZGFuY3k6KDQ4JmVbMV0pPj4+NCxwYWRkaW5nVmFsdWU6KDE0JmVbMV0pPj4+MSxpc05vblN5bmNTYW1wbGU6MSZlWzFdLGRlZ3JhZGF0aW9uUHJpb3JpdHk6ZVsyXTw8OHxlWzNdfX0sTGU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGZlP2ZlOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6e30sVD1MZSxLdD1EZS5kaXNjYXJkRW11bGF0aW9uUHJldmVudGlvbkJ5dGVzLFl0PXAuQ2FwdGlvblN0cmVhbSxQPU10LFF0PVJ0LEp0PVV0LFp0PUJ0LGVpPVQsdGk9ZnVuY3Rpb24oZSxoKXt2YXIgaT1QKGUsW1wibW9vZlwiLFwidHJhZlwiXSksZT1QKGUsW1wibWRhdFwiXSksdT17fSxzPVtdO3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24oZSx0KXt0PWlbdF07cy5wdXNoKHttZGF0OmUsdHJhZjp0fSl9KSxzLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQsaSxzLHIsbixhPWUubWRhdCxlPWUudHJhZixvPVAoZSxbXCJ0ZmhkXCJdKSxvPVp0KG9bMF0pLGw9by50cmFja0lkLGQ9UChlLFtcInRmZHRcIl0pLGQ9MDxkLmxlbmd0aD9RdChkWzBdKS5iYXNlTWVkaWFEZWNvZGVUaW1lOjAsZT1QKGUsW1widHJ1blwiXSk7aD09PWwmJjA8ZS5sZW5ndGgmJih0PWQsaT1vLmRlZmF1bHRTYW1wbGVEdXJhdGlvbnx8MCxzPW8uZGVmYXVsdFNhbXBsZVNpemV8fDAscj1vLnRyYWNrSWQsbj1bXSxlLmZvckVhY2goZnVuY3Rpb24oZSl7ZT1KdChlKS5zYW1wbGVzO2UuZm9yRWFjaChmdW5jdGlvbihlKXt2b2lkIDA9PT1lLmR1cmF0aW9uJiYoZS5kdXJhdGlvbj1pKSx2b2lkIDA9PT1lLnNpemUmJihlLnNpemU9cyksZS50cmFja0lkPXIsZS5kdHM9dCx2b2lkIDA9PT1lLmNvbXBvc2l0aW9uVGltZU9mZnNldCYmKGUuY29tcG9zaXRpb25UaW1lT2Zmc2V0PTApLFwiYmlnaW50XCI9PXR5cGVvZiB0PyhlLnB0cz10K2VpLkJpZ0ludChlLmNvbXBvc2l0aW9uVGltZU9mZnNldCksdCs9ZWkuQmlnSW50KGUuZHVyYXRpb24pKTooZS5wdHM9dCtlLmNvbXBvc2l0aW9uVGltZU9mZnNldCx0Kz1lLmR1cmF0aW9uKX0pLG49bi5jb25jYXQoZSl9KSxkPWZ1bmN0aW9uKGUsdCxpKXtmb3IodmFyIHMscixuPW5ldyBEYXRhVmlldyhlLmJ1ZmZlcixlLmJ5dGVPZmZzZXQsZS5ieXRlTGVuZ3RoKSxhPXtsb2dzOltdLHNlaU5hbHM6W119LG89MDtvKzQ8ZS5sZW5ndGg7bys9cylpZihzPW4uZ2V0VWludDMyKG8pLG8rPTQsIShzPD0wKSlzd2l0Y2goMzEmZVtvXSl7Y2FzZSA2OnZhciBsPWUuc3ViYXJyYXkobysxLG8rMStzKSxkPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBpPWUscz0wO3M8dC5sZW5ndGg7cysrKXt2YXIgcj10W3NdO2lmKGk8ci5zaXplKXJldHVybiByO2ktPXIuc2l6ZX1yZXR1cm4gbnVsbH0obyx0KSxsPXtuYWxVbml0VHlwZTpcInNlaV9yYnNwXCIsc2l6ZTpzLGRhdGE6bCxlc2NhcGVkUkJTUDpLdChsKSx0cmFja0lkOml9O2lmKGQpbC5wdHM9ZC5wdHMsbC5kdHM9ZC5kdHMscj1kO2Vsc2V7aWYoIXIpe2EubG9ncy5wdXNoKHtsZXZlbDpcIndhcm5cIixtZXNzYWdlOlwiV2UndmUgZW5jb3VudGVyZWQgYSBuYWwgdW5pdCB3aXRob3V0IGRhdGEgYXQgXCIrbytcIiBmb3IgdHJhY2tJZCBcIitpK1wiLiBTZWUgbXV4LmpzIzIyMy5cIn0pO2JyZWFrfWwucHRzPXIucHRzLGwuZHRzPXIuZHRzfWEuc2VpTmFscy5wdXNoKGwpfXJldHVybiBhfShhLG4sbCksdVtsXXx8KHVbbF09e3NlaU5hbHM6W10sbG9nczpbXX0pLHVbbF0uc2VpTmFscz11W2xdLnNlaU5hbHMuY29uY2F0KGQuc2VpTmFscyksdVtsXS5sb2dzPXVbbF0ubG9ncy5jb25jYXQoZC5sb2dzKSl9KSx1fSxpaT1mdW5jdGlvbigpe3ZhciB0LGEsbyxsLGQsaSxzPSExO3RoaXMuaXNJbml0aWFsaXplZD1mdW5jdGlvbigpe3JldHVybiBzfSx0aGlzLmluaXQ9ZnVuY3Rpb24oZSl7dD1uZXcgWXQscz0hMCxpPSEhZSYmZS5pc1BhcnRpYWwsdC5vbihcImRhdGFcIixmdW5jdGlvbihlKXtlLnN0YXJ0VGltZT1lLnN0YXJ0UHRzL2wsZS5lbmRUaW1lPWUuZW5kUHRzL2wsZC5jYXB0aW9ucy5wdXNoKGUpLGQuY2FwdGlvblN0cmVhbXNbZS5zdHJlYW1dPSEwfSksdC5vbihcImxvZ1wiLGZ1bmN0aW9uKGUpe2QubG9ncy5wdXNoKGUpfSl9LHRoaXMuaXNOZXdJbml0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIShlJiYwPT09ZS5sZW5ndGh8fHQmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiYwPT09T2JqZWN0LmtleXModCkubGVuZ3RofHxvPT09ZVswXSYmbD09PXRbb10pfSx0aGlzLnBhcnNlPWZ1bmN0aW9uKGUsdCxpKXt2YXIgcyxyO2lmKCF0aGlzLmlzSW5pdGlhbGl6ZWQoKSlyZXR1cm4gbnVsbDtpZighdHx8IWkpcmV0dXJuIG51bGw7aWYodGhpcy5pc05ld0luaXQodCxpKSlvPXRbMF0sbD1pW29dO2Vsc2UgaWYobnVsbD09PW98fCFsKXJldHVybiBhLnB1c2goZSksbnVsbDtmb3IoOzA8YS5sZW5ndGg7KXt2YXIgbj1hLnNoaWZ0KCk7dGhpcy5wYXJzZShuLHQsaSl9cmV0dXJuIGU9ZSxyPWwsKHM9bnVsbD09PShzPW8pP251bGw6e3NlaU5hbHM6KGU9dGkoZSxzKVtzXXx8e30pLnNlaU5hbHMsbG9nczplLmxvZ3MsdGltZXNjYWxlOnJ9KSYmcy5sb2dzJiYoZC5sb2dzPWQubG9ncy5jb25jYXQocy5sb2dzKSksbnVsbCE9PXMmJnMuc2VpTmFscz8odGhpcy5wdXNoTmFscyhzLnNlaU5hbHMpLHRoaXMuZmx1c2hTdHJlYW0oKSxkKTpkLmxvZ3MubGVuZ3RoP3tsb2dzOmQubG9ncyxjYXB0aW9uczpbXSxjYXB0aW9uU3RyZWFtczpbXX06bnVsbH0sdGhpcy5wdXNoTmFscz1mdW5jdGlvbihlKXtpZighdGhpcy5pc0luaXRpYWxpemVkKCl8fCFlfHwwPT09ZS5sZW5ndGgpcmV0dXJuIG51bGw7ZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QucHVzaChlKX0pfSx0aGlzLmZsdXNoU3RyZWFtPWZ1bmN0aW9uKCl7aWYoIXRoaXMuaXNJbml0aWFsaXplZCgpKXJldHVybiBudWxsO2k/dC5wYXJ0aWFsRmx1c2goKTp0LmZsdXNoKCl9LHRoaXMuY2xlYXJQYXJzZWRDYXB0aW9ucz1mdW5jdGlvbigpe2QuY2FwdGlvbnM9W10sZC5jYXB0aW9uU3RyZWFtcz17fSxkLmxvZ3M9W119LHRoaXMucmVzZXRDYXB0aW9uU3RyZWFtPWZ1bmN0aW9uKCl7aWYoIXRoaXMuaXNJbml0aWFsaXplZCgpKXJldHVybiBudWxsO3QucmVzZXQoKX0sdGhpcy5jbGVhckFsbENhcHRpb25zPWZ1bmN0aW9uKCl7dGhpcy5jbGVhclBhcnNlZENhcHRpb25zKCksdGhpcy5yZXNldENhcHRpb25TdHJlYW0oKX0sdGhpcy5yZXNldD1mdW5jdGlvbigpe2E9W10sbD1vPW51bGwsZD90aGlzLmNsZWFyUGFyc2VkQ2FwdGlvbnMoKTpkPXtjYXB0aW9uczpbXSxjYXB0aW9uU3RyZWFtczp7fSxsb2dzOltdfSx0aGlzLnJlc2V0Q2FwdGlvblN0cmVhbSgpfSx0aGlzLnJlc2V0KCl9LHNpPWksTD1QZSxPPU10LHJpPU50LG5pPV9lLmdldFVpbnQ2NCxhaT1ULG9pPWZ1bmN0aW9uKGUpe3ZhciB0PTA9PT1lWzBdPzEyOjIwO3JldHVybiBzaShlW3RdPDwyNHxlWzErdF08PDE2fGVbMit0XTw8OHxlWzMrdF0pfSxsaT1mdW5jdGlvbihuLGUpe2U9TyhlLFtcIm1vb2ZcIixcInRyYWZcIl0pLnJlZHVjZShmdW5jdGlvbihlLHQpe3ZhciBpPU8odCxbXCJ0ZmhkXCJdKVswXSxpPXNpKGlbNF08PDI0fGlbNV08PDE2fGlbNl08PDh8aVs3XSksaT1uW2ldfHw5ZTQsdD1PKHQsW1widGZkdFwiXSlbMF0scz1uZXcgRGF0YVZpZXcodC5idWZmZXIsdC5ieXRlT2Zmc2V0LHQuYnl0ZUxlbmd0aCksdD0xPT09dFswXT9uaSh0LnN1YmFycmF5KDQsMTIpKTpzLmdldFVpbnQzMig0KTtsZXQgcjtyZXR1cm5cImJpZ2ludFwiPT10eXBlb2YgdD9yPXQvYWkuQmlnSW50KGkpOlwibnVtYmVyXCIhPXR5cGVvZiB0fHxpc05hTih0KXx8KHI9dC9pKSxlPShyPXI8TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI/TnVtYmVyKHIpOnIpPGU/cjplfSwxLzApO3JldHVyblwiYmlnaW50XCI9PXR5cGVvZiBlfHxpc0Zpbml0ZShlKT9lOjB9LGRpPWZ1bmN0aW9uKGUpe3ZhciBlPU8oZSxbXCJtb292XCIsXCJ0cmFrXCJdKSxuPVtdO3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQsaT17fSxzPU8oZSxbXCJ0a2hkXCJdKVswXSxyPShzJiYocj0ocz1uZXcgRGF0YVZpZXcocy5idWZmZXIscy5ieXRlT2Zmc2V0LHMuYnl0ZUxlbmd0aCkpLmdldFVpbnQ4KDApLGkuaWQ9MD09PXI/cy5nZXRVaW50MzIoMTIpOnMuZ2V0VWludDMyKDIwKSksTyhlLFtcIm1kaWFcIixcImhkbHJcIl0pWzBdKSxyPShyJiYocz1yaShyLnN1YmFycmF5KDgsMTIpKSxpLnR5cGU9XCJ2aWRlXCI9PT1zP1widmlkZW9cIjpcInNvdW5cIj09PXM/XCJhdWRpb1wiOnMpLE8oZSxbXCJtZGlhXCIsXCJtaW5mXCIsXCJzdGJsXCIsXCJzdHNkXCJdKVswXSkscz0ociYmKHM9ci5zdWJhcnJheSg4KSxpLmNvZGVjPXJpKHMuc3ViYXJyYXkoNCw4KSkscj1PKHMsW2kuY29kZWNdKVswXSkmJigvXlthc21ddmNbMS05XSQvaS50ZXN0KGkuY29kZWMpPyh0PXIuc3ViYXJyYXkoNzgpLFwiYXZjQ1wiPT09cmkodC5zdWJhcnJheSg0LDgpKSYmMTE8dC5sZW5ndGg/KGkuY29kZWMrPVwiLlwiLGkuY29kZWMrPUwodFs5XSksaS5jb2RlYys9TCh0WzEwXSksaS5jb2RlYys9TCh0WzExXSkpOmkuY29kZWM9XCJhdmMxLjRkNDAwZFwiKTovXm1wNFthLHZdJC9pLnRlc3QoaS5jb2RlYyk/KHQ9ci5zdWJhcnJheSgyOCksXCJlc2RzXCI9PT1yaSh0LnN1YmFycmF5KDQsOCkpJiYyMDx0Lmxlbmd0aCYmMCE9PXRbMTldPyhpLmNvZGVjKz1cIi5cIitMKHRbMTldKSxpLmNvZGVjKz1cIi5cIitMKHRbMjBdPj4+MiY2MykucmVwbGFjZSgvXjAvLFwiXCIpKTppLmNvZGVjPVwibXA0YS40MC4yXCIpOmkuY29kZWM9aS5jb2RlYy50b0xvd2VyQ2FzZSgpKSxPKGUsW1wibWRpYVwiLFwibWRoZFwiXSlbMF0pO3MmJihpLnRpbWVzY2FsZT1vaShzKSksbi5wdXNoKGkpfSksbn0saGk9cWUsdWk9cWUsRD1ZZSxOPXt9LE09KE4udHM9e3BhcnNlVHlwZTpmdW5jdGlvbihlLHQpe2U9RnQoZSk7cmV0dXJuIDA9PT1lP1wicGF0XCI6ZT09PXQ/XCJwbXRcIjp0P1wicGVzXCI6bnVsbH0scGFyc2VQYXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9anQoZSksaT00K0h0KGUpO3JldHVybiB0JiYoaSs9ZVtpXSsxKSwoMzEmZVtpKzEwXSk8PDh8ZVtpKzExXX0scGFyc2VQbXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9e30saT1qdChlKSxzPTQrSHQoZSk7aWYoaSYmKHMrPWVbc10rMSksMSZlW3MrNV0pe2Zvcih2YXIgcj0zKygoMTUmZVtzKzFdKTw8OHxlW3MrMl0pLTQsbj0xMisoKDE1JmVbcysxMF0pPDw4fGVbcysxMV0pO248cjspe3ZhciBhPXMrbjt0WygzMSZlW2ErMV0pPDw4fGVbYSsyXV09ZVthXSxuKz01KygoMTUmZVthKzNdKTw8OHxlW2ErNF0pfXJldHVybiB0fX0scGFyc2VQYXlsb2FkVW5pdFN0YXJ0SW5kaWNhdG9yOmp0LHBhcnNlUGVzVHlwZTpmdW5jdGlvbihlLHQpe3N3aXRjaCh0W0Z0KGUpXSl7Y2FzZSBoaS5IMjY0X1NUUkVBTV9UWVBFOnJldHVyblwidmlkZW9cIjtjYXNlIGhpLkFEVFNfU1RSRUFNX1RZUEU6cmV0dXJuXCJhdWRpb1wiO2Nhc2UgaGkuTUVUQURBVEFfU1RSRUFNX1RZUEU6cmV0dXJuXCJ0aW1lZC1tZXRhZGF0YVwiO2RlZmF1bHQ6cmV0dXJuIG51bGx9fSxwYXJzZVBlc1RpbWU6ZnVuY3Rpb24oZSl7dmFyIHQsaSxzO3JldHVybiFqdChlKXx8KHQ9NCtIdChlKSk+PWUuYnl0ZUxlbmd0aD9udWxsOihpPW51bGwsMTkyJihzPWVbdCs3XSkmJigoaT17fSkucHRzPSgxNCZlW3QrOV0pPDwyN3woMjU1JmVbdCsxMF0pPDwyMHwoMjU0JmVbdCsxMV0pPDwxMnwoMjU1JmVbdCsxMl0pPDw1fCgyNTQmZVt0KzEzXSk+Pj4zLGkucHRzKj00LGkucHRzKz0oNiZlW3QrMTNdKT4+PjEsaS5kdHM9aS5wdHMsNjQmcykmJihpLmR0cz0oMTQmZVt0KzE0XSk8PDI3fCgyNTUmZVt0KzE1XSk8PDIwfCgyNTQmZVt0KzE2XSk8PDEyfCgyNTUmZVt0KzE3XSk8PDV8KDI1NCZlW3QrMThdKT4+PjMsaS5kdHMqPTQsaS5kdHMrPSg2JmVbdCsxOF0pPj4+MSksaSl9LHZpZGVvUGFja2V0Q29udGFpbnNLZXlGcmFtZTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9NCtIdChlKSxpPWUuc3ViYXJyYXkodCkscz0wLHI9MCxuPSExO3I8aS5ieXRlTGVuZ3RoLTM7cisrKWlmKDE9PT1pW3IrMl0pe3M9cis1O2JyZWFrfWZvcig7czxpLmJ5dGVMZW5ndGg7KXN3aXRjaChpW3NdKXtjYXNlIDA6aWYoMCE9PWlbcy0xXSlzKz0yO2Vsc2UgaWYoMCE9PWlbcy0yXSlzKys7ZWxzZXtmb3IociszIT09cy0yJiZcInNsaWNlX2xheWVyX3dpdGhvdXRfcGFydGl0aW9uaW5nX3Jic3BfaWRyXCI9PT1xdCgzMSZpW3IrM10pJiYobj0hMCk7MSE9PWlbKytzXSYmczxpLmxlbmd0aDspO3I9cy0yLHMrPTN9YnJlYWs7Y2FzZSAxOjAhPT1pW3MtMV18fDAhPT1pW3MtMl0/cys9MzooXCJzbGljZV9sYXllcl93aXRob3V0X3BhcnRpdGlvbmluZ19yYnNwX2lkclwiPT09cXQoMzEmaVtyKzNdKSYmKG49ITApLHI9cy0yLHMrPTMpO2JyZWFrO2RlZmF1bHQ6cys9M31yZXR1cm4gaT1pLnN1YmFycmF5KHIpLHMtPXIscj0wLG49aSYmMzxpLmJ5dGVMZW5ndGgmJlwic2xpY2VfbGF5ZXJfd2l0aG91dF9wYXJ0aXRpb25pbmdfcmJzcF9pZHJcIj09PXF0KDMxJmlbciszXSk/ITA6bn19LE4uYWFjPWIsYy5PTkVfU0VDT05EX0lOX1RTKSxjaT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgaSxzPTAscj0xODg7cjxlLmJ5dGVMZW5ndGg7KWlmKDcxPT09ZVtzXSYmNzE9PT1lW3JdKXtzd2l0Y2goaT1lLnN1YmFycmF5KHMsciksTi50cy5wYXJzZVR5cGUoaSx0LnBpZCkpe2Nhc2VcInBhdFwiOnQucGlkPU4udHMucGFyc2VQYXQoaSk7YnJlYWs7Y2FzZVwicG10XCI6dmFyIG49Ti50cy5wYXJzZVBtdChpKTt0LnRhYmxlPXQudGFibGV8fHt9LE9iamVjdC5rZXlzKG4pLmZvckVhY2goZnVuY3Rpb24oZSl7dC50YWJsZVtlXT1uW2VdfSl9cys9MTg4LHIrPTE4OH1lbHNlIHMrKyxyKyt9LHBpPWZ1bmN0aW9uKGUsdCxpKXtmb3IodmFyIHMscixuLGEsbz0wLGw9MTg4LGQ9ITE7bDw9ZS5ieXRlTGVuZ3RoOylpZig3MSE9PWVbb118fDcxIT09ZVtsXSYmbCE9PWUuYnl0ZUxlbmd0aClvKyssbCsrO2Vsc2V7aWYocz1lLnN1YmFycmF5KG8sbCksXCJwZXNcIj09PU4udHMucGFyc2VUeXBlKHMsdC5waWQpJiYocj1OLnRzLnBhcnNlUGVzVHlwZShzLHQudGFibGUpLG49Ti50cy5wYXJzZVBheWxvYWRVbml0U3RhcnRJbmRpY2F0b3IocyksXCJhdWRpb1wiPT09cikmJm4mJihhPU4udHMucGFyc2VQZXNUaW1lKHMpKSYmKGEudHlwZT1cImF1ZGlvXCIsaS5hdWRpby5wdXNoKGEpLGQ9ITApLGQpYnJlYWs7bys9MTg4LGwrPTE4OH1mb3Iobz0obD1lLmJ5dGVMZW5ndGgpLTE4OCxkPSExOzA8PW87KWlmKDcxIT09ZVtvXXx8NzEhPT1lW2xdJiZsIT09ZS5ieXRlTGVuZ3RoKW8tLSxsLS07ZWxzZXtpZihzPWUuc3ViYXJyYXkobyxsKSxcInBlc1wiPT09Ti50cy5wYXJzZVR5cGUocyx0LnBpZCkmJihyPU4udHMucGFyc2VQZXNUeXBlKHMsdC50YWJsZSksbj1OLnRzLnBhcnNlUGF5bG9hZFVuaXRTdGFydEluZGljYXRvcihzKSxcImF1ZGlvXCI9PT1yKSYmbiYmKGE9Ti50cy5wYXJzZVBlc1RpbWUocykpJiYoYS50eXBlPVwiYXVkaW9cIixpLmF1ZGlvLnB1c2goYSksZD0hMCksZClicmVhaztvLT0xODgsbC09MTg4fX0sbWk9ZnVuY3Rpb24oZSx0LGkpe2Zvcih2YXIgcyxyLG4sYSxvLGwsZCxoLHU9MCxjPTE4OCxwPSExLG09e2RhdGE6W10sc2l6ZTowfTtjPGUuYnl0ZUxlbmd0aDspaWYoNzE9PT1lW3VdJiY3MT09PWVbY10pe2lmKHM9ZS5zdWJhcnJheSh1LGMpLFwicGVzXCI9PT1OLnRzLnBhcnNlVHlwZShzLHQucGlkKSlpZihyPU4udHMucGFyc2VQZXNUeXBlKHMsdC50YWJsZSksbj1OLnRzLnBhcnNlUGF5bG9hZFVuaXRTdGFydEluZGljYXRvcihzKSxcInZpZGVvXCI9PT1yJiYobiYmIXAmJihhPU4udHMucGFyc2VQZXNUaW1lKHMpKSYmKGEudHlwZT1cInZpZGVvXCIsaS52aWRlby5wdXNoKGEpLHA9ITApLCFpLmZpcnN0S2V5RnJhbWUpKXtpZihuJiYwIT09bS5zaXplKXtmb3Iobz1uZXcgVWludDhBcnJheShtLnNpemUpLGw9MDttLmRhdGEubGVuZ3RoOylkPW0uZGF0YS5zaGlmdCgpLG8uc2V0KGQsbCksbCs9ZC5ieXRlTGVuZ3RoO04udHMudmlkZW9QYWNrZXRDb250YWluc0tleUZyYW1lKG8pJiYoaD1OLnRzLnBhcnNlUGVzVGltZShvKSkmJihpLmZpcnN0S2V5RnJhbWU9aCxpLmZpcnN0S2V5RnJhbWUudHlwZT1cInZpZGVvXCIpLG0uc2l6ZT0wfW0uZGF0YS5wdXNoKHMpLG0uc2l6ZSs9cy5ieXRlTGVuZ3RofWlmKHAmJmkuZmlyc3RLZXlGcmFtZSlicmVhazt1Kz0xODgsYys9MTg4fWVsc2UgdSsrLGMrKztmb3IodT0oYz1lLmJ5dGVMZW5ndGgpLTE4OCxwPSExOzA8PXU7KWlmKDcxPT09ZVt1XSYmNzE9PT1lW2NdKXtpZihzPWUuc3ViYXJyYXkodSxjKSxcInBlc1wiPT09Ti50cy5wYXJzZVR5cGUocyx0LnBpZCkmJihyPU4udHMucGFyc2VQZXNUeXBlKHMsdC50YWJsZSksbj1OLnRzLnBhcnNlUGF5bG9hZFVuaXRTdGFydEluZGljYXRvcihzKSxcInZpZGVvXCI9PT1yKSYmbiYmKGE9Ti50cy5wYXJzZVBlc1RpbWUocykpJiYoYS50eXBlPVwidmlkZW9cIixpLnZpZGVvLnB1c2goYSkscD0hMCkscClicmVhazt1LT0xODgsYy09MTg4fWVsc2UgdS0tLGMtLX0sZ2k9ZnVuY3Rpb24oZSx0KXt2YXIgaSxzLHIsZT0oTi5hYWMuaXNMaWtlbHlBYWNEYXRhKGUpP2Z1bmN0aW9uKGUpe2Zvcih2YXIgdCxpLHM9ITEscj0wLG49bnVsbCxhPW51bGwsbz0wLGw9MDszPD1lLmxlbmd0aC1sOyl7c3dpdGNoKE4uYWFjLnBhcnNlVHlwZShlLGwpKXtjYXNlXCJ0aW1lZC1tZXRhZGF0YVwiOmUubGVuZ3RoLWw8MTA/cz0hMDoobz1OLmFhYy5wYXJzZUlkM1RhZ1NpemUoZSxsKSk+ZS5sZW5ndGg/cz0hMDoobnVsbD09PWEmJih0PWUuc3ViYXJyYXkobCxsK28pLGE9Ti5hYWMucGFyc2VBYWNUaW1lc3RhbXAodCkpLGwrPW8pO2JyZWFrO2Nhc2VcImF1ZGlvXCI6ZS5sZW5ndGgtbDw3P3M9ITA6KG89Ti5hYWMucGFyc2VBZHRzU2l6ZShlLGwpKT5lLmxlbmd0aD9zPSEwOihudWxsPT09biYmKHQ9ZS5zdWJhcnJheShsLGwrbyksbj1OLmFhYy5wYXJzZVNhbXBsZVJhdGUodCkpLHIrKyxsKz1vKTticmVhaztkZWZhdWx0OmwrK31pZihzKXJldHVybiBudWxsfXJldHVybiBudWxsPT09bnx8bnVsbD09PWE/bnVsbDp7YXVkaW86W3t0eXBlOlwiYXVkaW9cIixkdHM6YSxwdHM6YX0se3R5cGU6XCJhdWRpb1wiLGR0czphKzEwMjQqciooaT1NL24pLHB0czphKzEwMjQqcippfV19fTpmdW5jdGlvbihlKXt2YXIgdCxpPXtwaWQ6bnVsbCx0YWJsZTpudWxsfSxzPXt9O2Zvcih0IGluIGNpKGUsaSksaS50YWJsZSlpZihpLnRhYmxlLmhhc093blByb3BlcnR5KHQpKXN3aXRjaChpLnRhYmxlW3RdKXtjYXNlIHVpLkgyNjRfU1RSRUFNX1RZUEU6cy52aWRlbz1bXSxtaShlLGkscyksMD09PXMudmlkZW8ubGVuZ3RoJiZkZWxldGUgcy52aWRlbzticmVhaztjYXNlIHVpLkFEVFNfU1RSRUFNX1RZUEU6cy5hdWRpbz1bXSxwaShlLGkscyksMD09PXMuYXVkaW8ubGVuZ3RoJiZkZWxldGUgcy5hdWRpb31yZXR1cm4gc30pKGUpO3JldHVybiBlJiYoZS5hdWRpb3x8ZS52aWRlbyk/KHQ9dCwoaT1lKS5hdWRpbyYmaS5hdWRpby5sZW5ndGgmJihcInVuZGVmaW5lZFwiIT10eXBlb2Yocz10KSYmIWlzTmFOKHMpfHwocz1pLmF1ZGlvWzBdLmR0cyksaS5hdWRpby5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UuZHRzPUQoZS5kdHMscyksZS5wdHM9RChlLnB0cyxzKSxlLmR0c1RpbWU9ZS5kdHMvTSxlLnB0c1RpbWU9ZS5wdHMvTX0pKSxpLnZpZGVvJiZpLnZpZGVvLmxlbmd0aCYmKFwidW5kZWZpbmVkXCIhPXR5cGVvZihyPXQpJiYhaXNOYU4ocil8fChyPWkudmlkZW9bMF0uZHRzKSxpLnZpZGVvLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5kdHM9RChlLmR0cyxyKSxlLnB0cz1EKGUucHRzLHIpLGUuZHRzVGltZT1lLmR0cy9NLGUucHRzVGltZT1lLnB0cy9NfSksaS5maXJzdEtleUZyYW1lKSYmKCh0PWkuZmlyc3RLZXlGcmFtZSkuZHRzPUQodC5kdHMsciksdC5wdHM9RCh0LnB0cyxyKSx0LmR0c1RpbWU9dC5kdHMvTSx0LnB0c1RpbWU9dC5wdHMvTSksZSk6bnVsbH07Y2xhc3MgZml7Y29uc3RydWN0b3IoZSx0KXt0aGlzLm9wdGlvbnM9dHx8e30sdGhpcy5zZWxmPWUsdGhpcy5pbml0KCl9aW5pdCgpe3ZhciBpLGU7dGhpcy50cmFuc211eGVyJiZ0aGlzLnRyYW5zbXV4ZXIuZGlzcG9zZSgpLHRoaXMudHJhbnNtdXhlcj1uZXcgVnQodGhpcy5vcHRpb25zKSxpPXRoaXMuc2VsZiwoZT10aGlzLnRyYW5zbXV4ZXIpLm9uKFwiZGF0YVwiLGZ1bmN0aW9uKGUpe3ZhciB0PWUuaW5pdFNlZ21lbnQsdD0oZS5pbml0U2VnbWVudD17ZGF0YTp0LmJ1ZmZlcixieXRlT2Zmc2V0OnQuYnl0ZU9mZnNldCxieXRlTGVuZ3RoOnQuYnl0ZUxlbmd0aH0sZS5kYXRhKTtlLmRhdGE9dC5idWZmZXIsaS5wb3N0TWVzc2FnZSh7YWN0aW9uOlwiZGF0YVwiLHNlZ21lbnQ6ZSxieXRlT2Zmc2V0OnQuYnl0ZU9mZnNldCxieXRlTGVuZ3RoOnQuYnl0ZUxlbmd0aH0sW2UuZGF0YV0pfSksZS5vbihcImRvbmVcIixmdW5jdGlvbihlKXtpLnBvc3RNZXNzYWdlKHthY3Rpb246XCJkb25lXCJ9KX0pLGUub24oXCJnb3BJbmZvXCIsZnVuY3Rpb24oZSl7aS5wb3N0TWVzc2FnZSh7YWN0aW9uOlwiZ29wSW5mb1wiLGdvcEluZm86ZX0pfSksZS5vbihcInZpZGVvU2VnbWVudFRpbWluZ0luZm9cIixmdW5jdGlvbihlKXt2YXIgdD17c3RhcnQ6e2RlY29kZTpjLnZpZGVvVHNUb1NlY29uZHMoZS5zdGFydC5kdHMpLHByZXNlbnRhdGlvbjpjLnZpZGVvVHNUb1NlY29uZHMoZS5zdGFydC5wdHMpfSxlbmQ6e2RlY29kZTpjLnZpZGVvVHNUb1NlY29uZHMoZS5lbmQuZHRzKSxwcmVzZW50YXRpb246Yy52aWRlb1RzVG9TZWNvbmRzKGUuZW5kLnB0cyl9LGJhc2VNZWRpYURlY29kZVRpbWU6Yy52aWRlb1RzVG9TZWNvbmRzKGUuYmFzZU1lZGlhRGVjb2RlVGltZSl9O2UucHJlcGVuZGVkQ29udGVudER1cmF0aW9uJiYodC5wcmVwZW5kZWRDb250ZW50RHVyYXRpb249Yy52aWRlb1RzVG9TZWNvbmRzKGUucHJlcGVuZGVkQ29udGVudER1cmF0aW9uKSksaS5wb3N0TWVzc2FnZSh7YWN0aW9uOlwidmlkZW9TZWdtZW50VGltaW5nSW5mb1wiLHZpZGVvU2VnbWVudFRpbWluZ0luZm86dH0pfSksZS5vbihcImF1ZGlvU2VnbWVudFRpbWluZ0luZm9cIixmdW5jdGlvbihlKXt2YXIgdD17c3RhcnQ6e2RlY29kZTpjLnZpZGVvVHNUb1NlY29uZHMoZS5zdGFydC5kdHMpLHByZXNlbnRhdGlvbjpjLnZpZGVvVHNUb1NlY29uZHMoZS5zdGFydC5wdHMpfSxlbmQ6e2RlY29kZTpjLnZpZGVvVHNUb1NlY29uZHMoZS5lbmQuZHRzKSxwcmVzZW50YXRpb246Yy52aWRlb1RzVG9TZWNvbmRzKGUuZW5kLnB0cyl9LGJhc2VNZWRpYURlY29kZVRpbWU6Yy52aWRlb1RzVG9TZWNvbmRzKGUuYmFzZU1lZGlhRGVjb2RlVGltZSl9O2UucHJlcGVuZGVkQ29udGVudER1cmF0aW9uJiYodC5wcmVwZW5kZWRDb250ZW50RHVyYXRpb249Yy52aWRlb1RzVG9TZWNvbmRzKGUucHJlcGVuZGVkQ29udGVudER1cmF0aW9uKSksaS5wb3N0TWVzc2FnZSh7YWN0aW9uOlwiYXVkaW9TZWdtZW50VGltaW5nSW5mb1wiLGF1ZGlvU2VnbWVudFRpbWluZ0luZm86dH0pfSksZS5vbihcImlkM0ZyYW1lXCIsZnVuY3Rpb24oZSl7aS5wb3N0TWVzc2FnZSh7YWN0aW9uOlwiaWQzRnJhbWVcIixpZDNGcmFtZTplfSl9KSxlLm9uKFwiY2FwdGlvblwiLGZ1bmN0aW9uKGUpe2kucG9zdE1lc3NhZ2Uoe2FjdGlvbjpcImNhcHRpb25cIixjYXB0aW9uOmV9KX0pLGUub24oXCJ0cmFja2luZm9cIixmdW5jdGlvbihlKXtpLnBvc3RNZXNzYWdlKHthY3Rpb246XCJ0cmFja2luZm9cIix0cmFja0luZm86ZX0pfSksZS5vbihcImF1ZGlvVGltaW5nSW5mb1wiLGZ1bmN0aW9uKGUpe2kucG9zdE1lc3NhZ2Uoe2FjdGlvbjpcImF1ZGlvVGltaW5nSW5mb1wiLGF1ZGlvVGltaW5nSW5mbzp7c3RhcnQ6Yy52aWRlb1RzVG9TZWNvbmRzKGUuc3RhcnQpLGVuZDpjLnZpZGVvVHNUb1NlY29uZHMoZS5lbmQpfX0pfSksZS5vbihcInZpZGVvVGltaW5nSW5mb1wiLGZ1bmN0aW9uKGUpe2kucG9zdE1lc3NhZ2Uoe2FjdGlvbjpcInZpZGVvVGltaW5nSW5mb1wiLHZpZGVvVGltaW5nSW5mbzp7c3RhcnQ6Yy52aWRlb1RzVG9TZWNvbmRzKGUuc3RhcnQpLGVuZDpjLnZpZGVvVHNUb1NlY29uZHMoZS5lbmQpfX0pfSksZS5vbihcImxvZ1wiLGZ1bmN0aW9uKGUpe2kucG9zdE1lc3NhZ2Uoe2FjdGlvbjpcImxvZ1wiLGxvZzplfSl9KX1wdXNoTXA0Q2FwdGlvbnMoZSl7dGhpcy5jYXB0aW9uUGFyc2VyfHwodGhpcy5jYXB0aW9uUGFyc2VyPW5ldyBpaSx0aGlzLmNhcHRpb25QYXJzZXIuaW5pdCgpKTt2YXIgdD1uZXcgVWludDhBcnJheShlLmRhdGEsZS5ieXRlT2Zmc2V0LGUuYnl0ZUxlbmd0aCksZT10aGlzLmNhcHRpb25QYXJzZXIucGFyc2UodCxlLnRyYWNrSWRzLGUudGltZXNjYWxlcyk7dGhpcy5zZWxmLnBvc3RNZXNzYWdlKHthY3Rpb246XCJtcDRDYXB0aW9uc1wiLGNhcHRpb25zOmUmJmUuY2FwdGlvbnN8fFtdLGxvZ3M6ZSYmZS5sb2dzfHxbXSxkYXRhOnQuYnVmZmVyfSxbdC5idWZmZXJdKX1wcm9iZU1wNFN0YXJ0VGltZSh7dGltZXNjYWxlczplLGRhdGE6dH0pe2U9bGkoZSx0KTt0aGlzLnNlbGYucG9zdE1lc3NhZ2Uoe2FjdGlvbjpcInByb2JlTXA0U3RhcnRUaW1lXCIsc3RhcnRUaW1lOmUsZGF0YTp0fSxbdC5idWZmZXJdKX1wcm9iZU1wNFRyYWNrcyh7ZGF0YTplfSl7dmFyIHQ9ZGkoZSk7dGhpcy5zZWxmLnBvc3RNZXNzYWdlKHthY3Rpb246XCJwcm9iZU1wNFRyYWNrc1wiLHRyYWNrczp0LGRhdGE6ZX0sW2UuYnVmZmVyXSl9cHJvYmVUcyh7ZGF0YTplLGJhc2VTdGFydFRpbWU6dH0pe3Q9XCJudW1iZXJcIiE9dHlwZW9mIHR8fGlzTmFOKHQpP3ZvaWQgMDp0KmMuT05FX1NFQ09ORF9JTl9UUyx0PWdpKGUsdCk7bGV0IGk9bnVsbDt0JiYoKGk9e2hhc1ZpZGVvOnQudmlkZW8mJjI9PT10LnZpZGVvLmxlbmd0aHx8ITEsaGFzQXVkaW86dC5hdWRpbyYmMj09PXQuYXVkaW8ubGVuZ3RofHwhMX0pLmhhc1ZpZGVvJiYoaS52aWRlb1N0YXJ0PXQudmlkZW9bMF0ucHRzVGltZSksaS5oYXNBdWRpbykmJihpLmF1ZGlvU3RhcnQ9dC5hdWRpb1swXS5wdHNUaW1lKSx0aGlzLnNlbGYucG9zdE1lc3NhZ2Uoe2FjdGlvbjpcInByb2JlVHNcIixyZXN1bHQ6aSxkYXRhOmV9LFtlLmJ1ZmZlcl0pfWNsZWFyQWxsTXA0Q2FwdGlvbnMoKXt0aGlzLmNhcHRpb25QYXJzZXImJnRoaXMuY2FwdGlvblBhcnNlci5jbGVhckFsbENhcHRpb25zKCl9Y2xlYXJQYXJzZWRNcDRDYXB0aW9ucygpe3RoaXMuY2FwdGlvblBhcnNlciYmdGhpcy5jYXB0aW9uUGFyc2VyLmNsZWFyUGFyc2VkQ2FwdGlvbnMoKX1wdXNoKGUpe2U9bmV3IFVpbnQ4QXJyYXkoZS5kYXRhLGUuYnl0ZU9mZnNldCxlLmJ5dGVMZW5ndGgpO3RoaXMudHJhbnNtdXhlci5wdXNoKGUpfXJlc2V0KCl7dGhpcy50cmFuc211eGVyLnJlc2V0KCl9c2V0VGltZXN0YW1wT2Zmc2V0KGUpe2U9ZS50aW1lc3RhbXBPZmZzZXR8fDA7dGhpcy50cmFuc211eGVyLnNldEJhc2VNZWRpYURlY29kZVRpbWUoTWF0aC5yb3VuZChjLnNlY29uZHNUb1ZpZGVvVHMoZSkpKX1zZXRBdWRpb0FwcGVuZFN0YXJ0KGUpe3RoaXMudHJhbnNtdXhlci5zZXRBdWRpb0FwcGVuZFN0YXJ0KE1hdGguY2VpbChjLnNlY29uZHNUb1ZpZGVvVHMoZS5hcHBlbmRTdGFydCkpKX1zZXRSZW11eChlKXt0aGlzLnRyYW5zbXV4ZXIuc2V0UmVtdXgoZS5yZW11eCl9Zmx1c2goZSl7dGhpcy50cmFuc211eGVyLmZsdXNoKCksc2VsZi5wb3N0TWVzc2FnZSh7YWN0aW9uOlwiZG9uZVwiLHR5cGU6XCJ0cmFuc211eGVkXCJ9KX1lbmRUaW1lbGluZSgpe3RoaXMudHJhbnNtdXhlci5lbmRUaW1lbGluZSgpLHNlbGYucG9zdE1lc3NhZ2Uoe2FjdGlvbjpcImVuZGVkdGltZWxpbmVcIix0eXBlOlwidHJhbnNtdXhlZFwifSl9YWxpZ25Hb3BzV2l0aChlKXt0aGlzLnRyYW5zbXV4ZXIuYWxpZ25Hb3BzV2l0aChlLmdvcHNUb0FsaWduV2l0aC5zbGljZSgpKX19c2VsZi5vbm1lc3NhZ2U9ZnVuY3Rpb24oZSl7XCJpbml0XCI9PT1lLmRhdGEuYWN0aW9uJiZlLmRhdGEub3B0aW9ucz90aGlzLm1lc3NhZ2VIYW5kbGVycz1uZXcgZmkoc2VsZixlLmRhdGEub3B0aW9ucyk6KHRoaXMubWVzc2FnZUhhbmRsZXJzfHwodGhpcy5tZXNzYWdlSGFuZGxlcnM9bmV3IGZpKHNlbGYpKSxlLmRhdGEmJmUuZGF0YS5hY3Rpb24mJlwiaW5pdFwiIT09ZS5kYXRhLmFjdGlvbiYmdGhpcy5tZXNzYWdlSGFuZGxlcnNbZS5kYXRhLmFjdGlvbl0mJnRoaXMubWVzc2FnZUhhbmRsZXJzW2UuZGF0YS5hY3Rpb25dKGUuZGF0YSkpfX0pKSk7Y29uc3QgaWg9KGUsdCxpKT0+e3Zhcnt0eXBlOnMsaW5pdFNlZ21lbnQ6cixjYXB0aW9uczpuLGNhcHRpb25TdHJlYW1zOmEsbWV0YWRhdGE6byx2aWRlb0ZyYW1lRHRzVGltZTpsLHZpZGVvRnJhbWVQdHNUaW1lOmR9PWUuZGF0YS5zZWdtZW50LHQ9KHQuYnVmZmVyLnB1c2goe2NhcHRpb25zOm4sY2FwdGlvblN0cmVhbXM6YSxtZXRhZGF0YTpvfSksZS5kYXRhLnNlZ21lbnQuYm94ZXN8fHtkYXRhOmUuZGF0YS5zZWdtZW50LmRhdGF9KSxuPXt0eXBlOnMsZGF0YTpuZXcgVWludDhBcnJheSh0LmRhdGEsdC5kYXRhLmJ5dGVPZmZzZXQsdC5kYXRhLmJ5dGVMZW5ndGgpLGluaXRTZWdtZW50Om5ldyBVaW50OEFycmF5KHIuZGF0YSxyLmJ5dGVPZmZzZXQsci5ieXRlTGVuZ3RoKX07XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGwmJihuLnZpZGVvRnJhbWVEdHNUaW1lPWwpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBkJiYobi52aWRlb0ZyYW1lUHRzVGltZT1kKSxpKG4pfSxzaD0oe3RyYW5zbXV4ZWREYXRhOmUsY2FsbGJhY2s6dH0pPT57ZS5idWZmZXI9W10sdChlKX0scmg9KGUsdCk9Pnt0LmdvcEluZm89ZS5kYXRhLmdvcEluZm99LG5oPXQ9Pntjb25zdHt0cmFuc211eGVyOmksYnl0ZXM6ZSxhdWRpb0FwcGVuZFN0YXJ0OnMsZ29wc1RvQWxpZ25XaXRoOnIscmVtdXg6bixvbkRhdGE6YSxvblRyYWNrSW5mbzpvLG9uQXVkaW9UaW1pbmdJbmZvOmwsb25WaWRlb1RpbWluZ0luZm86ZCxvblZpZGVvU2VnbWVudFRpbWluZ0luZm86aCxvbkF1ZGlvU2VnbWVudFRpbWluZ0luZm86dSxvbklkMzpjLG9uQ2FwdGlvbnM6cCxvbkRvbmU6bSxvbkVuZGVkVGltZWxpbmU6ZyxvblRyYW5zbXV4ZXJMb2c6Zixpc0VuZE9mVGltZWxpbmU6eX09dCxfPXtidWZmZXI6W119O2xldCB2PXk7dmFyIGIsVDtpLm9ubWVzc2FnZT1lPT57aS5jdXJyZW50VHJhbnNtdXghPT10fHwoXCJkYXRhXCI9PT1lLmRhdGEuYWN0aW9uJiZpaChlLF8sYSksXCJ0cmFja2luZm9cIj09PWUuZGF0YS5hY3Rpb24mJm8oZS5kYXRhLnRyYWNrSW5mbyksXCJnb3BJbmZvXCI9PT1lLmRhdGEuYWN0aW9uJiZyaChlLF8pLFwiYXVkaW9UaW1pbmdJbmZvXCI9PT1lLmRhdGEuYWN0aW9uJiZsKGUuZGF0YS5hdWRpb1RpbWluZ0luZm8pLFwidmlkZW9UaW1pbmdJbmZvXCI9PT1lLmRhdGEuYWN0aW9uJiZkKGUuZGF0YS52aWRlb1RpbWluZ0luZm8pLFwidmlkZW9TZWdtZW50VGltaW5nSW5mb1wiPT09ZS5kYXRhLmFjdGlvbiYmaChlLmRhdGEudmlkZW9TZWdtZW50VGltaW5nSW5mbyksXCJhdWRpb1NlZ21lbnRUaW1pbmdJbmZvXCI9PT1lLmRhdGEuYWN0aW9uJiZ1KGUuZGF0YS5hdWRpb1NlZ21lbnRUaW1pbmdJbmZvKSxcImlkM0ZyYW1lXCI9PT1lLmRhdGEuYWN0aW9uJiZjKFtlLmRhdGEuaWQzRnJhbWVdLGUuZGF0YS5pZDNGcmFtZS5kaXNwYXRjaFR5cGUpLFwiY2FwdGlvblwiPT09ZS5kYXRhLmFjdGlvbiYmcChlLmRhdGEuY2FwdGlvbiksXCJlbmRlZHRpbWVsaW5lXCI9PT1lLmRhdGEuYWN0aW9uJiYodj0hMSxnKCkpLFwibG9nXCI9PT1lLmRhdGEuYWN0aW9uJiZmKGUuZGF0YS5sb2cpLFwidHJhbnNtdXhlZFwiIT09ZS5kYXRhLnR5cGUpfHx2fHwoaS5vbm1lc3NhZ2U9bnVsbCxzaCh7dHJhbnNtdXhlZERhdGE6XyxjYWxsYmFjazptfSksYWgoaSkpfSxzJiZpLnBvc3RNZXNzYWdlKHthY3Rpb246XCJzZXRBdWRpb0FwcGVuZFN0YXJ0XCIsYXBwZW5kU3RhcnQ6c30pLEFycmF5LmlzQXJyYXkocikmJmkucG9zdE1lc3NhZ2Uoe2FjdGlvbjpcImFsaWduR29wc1dpdGhcIixnb3BzVG9BbGlnbldpdGg6cn0pLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBuJiZpLnBvc3RNZXNzYWdlKHthY3Rpb246XCJzZXRSZW11eFwiLHJlbXV4Om59KSxlLmJ5dGVMZW5ndGgmJihiPWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9lOmUuYnVmZmVyLFQ9ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyPzA6ZS5ieXRlT2Zmc2V0LGkucG9zdE1lc3NhZ2Uoe2FjdGlvbjpcInB1c2hcIixkYXRhOmIsYnl0ZU9mZnNldDpULGJ5dGVMZW5ndGg6ZS5ieXRlTGVuZ3RofSxbYl0pKSx5JiZpLnBvc3RNZXNzYWdlKHthY3Rpb246XCJlbmRUaW1lbGluZVwifSksaS5wb3N0TWVzc2FnZSh7YWN0aW9uOlwiZmx1c2hcIn0pfSxhaD1lPT57ZS5jdXJyZW50VHJhbnNtdXg9bnVsbCxlLnRyYW5zbXV4UXVldWUubGVuZ3RoJiYoZS5jdXJyZW50VHJhbnNtdXg9ZS50cmFuc211eFF1ZXVlLnNoaWZ0KCksXCJmdW5jdGlvblwiPT10eXBlb2YgZS5jdXJyZW50VHJhbnNtdXg/ZS5jdXJyZW50VHJhbnNtdXgoKTpuaChlLmN1cnJlbnRUcmFuc211eCkpfSxvaD0oZSx0KT0+e2UucG9zdE1lc3NhZ2Uoe2FjdGlvbjp0fSksYWgoZSl9LGxoPShlLHQpPT57dC5jdXJyZW50VHJhbnNtdXg/dC50cmFuc211eFF1ZXVlLnB1c2gob2guYmluZChudWxsLHQsZSkpOih0LmN1cnJlbnRUcmFuc211eD1lLG9oKHQsZSkpfTtjb25zdCBkaD1lPT57ZS50cmFuc211eGVyLmN1cnJlbnRUcmFuc211eD9lLnRyYW5zbXV4ZXIudHJhbnNtdXhRdWV1ZS5wdXNoKGUpOihlLnRyYW5zbXV4ZXIuY3VycmVudFRyYW5zbXV4PWUsbmgoZSkpfTt2YXIgaGg9ZT0+e2xoKFwicmVzZXRcIixlKX0sdWg9KGRoLGU9Pntjb25zdCB0PW5ldyB0aCxpPSh0LmN1cnJlbnRUcmFuc211eD1udWxsLHQudHJhbnNtdXhRdWV1ZT1bXSx0LnRlcm1pbmF0ZSk7cmV0dXJuIHQudGVybWluYXRlPSgpPT4odC5jdXJyZW50VHJhbnNtdXg9bnVsbCx0LnRyYW5zbXV4UXVldWUubGVuZ3RoPTAsaS5jYWxsKHQpKSx0LnBvc3RNZXNzYWdlKHthY3Rpb246XCJpbml0XCIsb3B0aW9uczplfSksdH0pO2Z1bmN0aW9uIGNoKHQpe2NvbnN0IGk9dC50cmFuc211eGVyLHM9dC5lbmRBY3Rpb258fHQuYWN0aW9uLHI9dC5jYWxsYmFjazt2YXIgZSxuPWZpKHt9LHQse2VuZEFjdGlvbjpudWxsLHRyYW5zbXV4ZXI6bnVsbCxjYWxsYmFjazpudWxsfSk7Y29uc3QgYT1lPT57ZS5kYXRhLmFjdGlvbj09PXMmJihpLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsYSksZS5kYXRhLmRhdGEmJihlLmRhdGEuZGF0YT1uZXcgVWludDhBcnJheShlLmRhdGEuZGF0YSx0LmJ5dGVPZmZzZXR8fDAsdC5ieXRlTGVuZ3RofHxlLmRhdGEuZGF0YS5ieXRlTGVuZ3RoKSx0LmRhdGEpJiYodC5kYXRhPWUuZGF0YS5kYXRhKSxyKGUuZGF0YSkpfTtpLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsYSksdC5kYXRhPyhlPXQuZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyLG4uYnl0ZU9mZnNldD1lPzA6dC5kYXRhLmJ5dGVPZmZzZXQsbi5ieXRlTGVuZ3RoPXQuZGF0YS5ieXRlTGVuZ3RoLGU9W2U/dC5kYXRhOnQuZGF0YS5idWZmZXJdLGkucG9zdE1lc3NhZ2UobixlKSk6aS5wb3N0TWVzc2FnZShuKX1mdW5jdGlvbiBwaChlKXtsZXQgdD0wO3JldHVybiBlLmF1ZGlvJiZ0KyssZS52aWRlbyYmdCsrLHR9ZnVuY3Rpb24gbWgoZSx0KXt2YXIgaT10LmF0dHJpYnV0ZXN8fHt9LHM9TGgoZnVuY3Rpb24oZSl7ZT1lLmF0dHJpYnV0ZXN8fHt9O2lmKGUuQ09ERUNTKXJldHVybiBVbihlLkNPREVDUyl9KHQpfHxbXSk7cmV0dXJuIVBoKGUsdCl8fHMuYXVkaW98fCgoZSx0KT0+e2lmKCFQaChlLHQpKXJldHVybiEwO3ZhciB0PXQuYXR0cmlidXRlc3x8e30saT1lLm1lZGlhR3JvdXBzLkFVRElPW3QuQVVESU9dO2Zvcihjb25zdCBzIGluIGkpaWYoIWlbc10udXJpJiYhaVtzXS5wbGF5bGlzdHMpcmV0dXJuITA7cmV0dXJuITF9KShlLHQpfHwodD1MaChmdW5jdGlvbihlLHQpe2lmKGUubWVkaWFHcm91cHMuQVVESU8mJnQpe3ZhciBpPWUubWVkaWFHcm91cHMuQVVESU9bdF07aWYoaSlmb3IodmFyIHMgaW4gaSl7cz1pW3NdO2lmKHMuZGVmYXVsdCYmcy5wbGF5bGlzdHMpcmV0dXJuIFVuKHMucGxheWxpc3RzWzBdLmF0dHJpYnV0ZXMuQ09ERUNTKX19cmV0dXJuIG51bGx9KGUsaS5BVURJTyl8fFtdKSkuYXVkaW8mJihzLmF1ZGlvPXQuYXVkaW8pLHN9ZnVuY3Rpb24gZ2goZSx0KXtyZXR1cm4oZT1lJiZ3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlKSk/ZVt0XTpcIlwifWZ1bmN0aW9uIGZoKGUsdCl7bGV0IGkscztyZXR1cm4gaT0oaT1lLmF0dHJpYnV0ZXMuQkFORFdJRFRIP2UuYXR0cmlidXRlcy5CQU5EV0lEVEg6aSl8fHdpbmRvdy5OdW1iZXIuTUFYX1ZBTFVFLHM9KHM9dC5hdHRyaWJ1dGVzLkJBTkRXSURUSD90LmF0dHJpYnV0ZXMuQkFORFdJRFRIOnMpfHx3aW5kb3cuTnVtYmVyLk1BWF9WQUxVRSxpLXN9Y29uc3QgeWg9e0ZBSUxVUkU6MixUSU1FT1VUOi0xMDEsQUJPUlRFRDotMTAyfSxfaD1lPT57ZS5mb3JFYWNoKGU9PntlLmFib3J0KCl9KX0sdmg9ZT0+KHtiYW5kd2lkdGg6ZS5iYW5kd2lkdGgsYnl0ZXNSZWNlaXZlZDplLmJ5dGVzUmVjZWl2ZWR8fDAscm91bmRUcmlwVGltZTplLnJvdW5kVHJpcFRpbWV8fDB9KSxiaD1lPT57dmFyIHQ9ZS50YXJnZXQsdD17YmFuZHdpZHRoOjEvMCxieXRlc1JlY2VpdmVkOjAscm91bmRUcmlwVGltZTpEYXRlLm5vdygpLXQucmVxdWVzdFRpbWV8fDB9O3JldHVybiB0LmJ5dGVzUmVjZWl2ZWQ9ZS5sb2FkZWQsdC5iYW5kd2lkdGg9TWF0aC5mbG9vcih0LmJ5dGVzUmVjZWl2ZWQvdC5yb3VuZFRyaXBUaW1lKjgqMWUzKSx0fSxUaD0oZSx0KT0+dC50aW1lZG91dD97c3RhdHVzOnQuc3RhdHVzLG1lc3NhZ2U6XCJITFMgcmVxdWVzdCB0aW1lZC1vdXQgYXQgVVJMOiBcIit0LnVyaSxjb2RlOnloLlRJTUVPVVQseGhyOnR9OnQuYWJvcnRlZD97c3RhdHVzOnQuc3RhdHVzLG1lc3NhZ2U6XCJITFMgcmVxdWVzdCBhYm9ydGVkIGF0IFVSTDogXCIrdC51cmksY29kZTp5aC5BQk9SVEVELHhocjp0fTplP3tzdGF0dXM6dC5zdGF0dXMsbWVzc2FnZTpcIkhMUyByZXF1ZXN0IGVycm9yZWQgYXQgVVJMOiBcIit0LnVyaSxjb2RlOnloLkZBSUxVUkUseGhyOnR9OlwiYXJyYXlidWZmZXJcIj09PXQucmVzcG9uc2VUeXBlJiYwPT09dC5yZXNwb25zZS5ieXRlTGVuZ3RoP3tzdGF0dXM6dC5zdGF0dXMsbWVzc2FnZTpcIkVtcHR5IEhMUyByZXNwb25zZSBhdCBVUkw6IFwiK3QudXJpLGNvZGU6eWguRkFJTFVSRSx4aHI6dH06bnVsbCxTaD0ocixuLGEpPT4oZSx0KT0+e3ZhciBpPXQucmVzcG9uc2UsZT1UaChlLHQpO2lmKGUpcmV0dXJuIGEoZSxyKTtpZigxNiE9PWkuYnl0ZUxlbmd0aClyZXR1cm4gYSh7c3RhdHVzOnQuc3RhdHVzLG1lc3NhZ2U6XCJJbnZhbGlkIEhMUyBrZXkgYXQgVVJMOiBcIit0LnVyaSxjb2RlOnloLkZBSUxVUkUseGhyOnR9LHIpO3ZhciBlPW5ldyBEYXRhVmlldyhpKSxzPW5ldyBVaW50MzJBcnJheShbZS5nZXRVaW50MzIoMCksZS5nZXRVaW50MzIoNCksZS5nZXRVaW50MzIoOCksZS5nZXRVaW50MzIoMTIpXSk7Zm9yKGxldCBlPTA7ZTxuLmxlbmd0aDtlKyspbltlXS5ieXRlcz1zO3JldHVybiBhKG51bGwscil9LHdoPShpLHMpPT57dmFyIGUsdD1fbChpLm1hcC5ieXRlcyk7aWYoXCJtcDRcIiE9PXQpcmV0dXJuIGU9aS5tYXAucmVzb2x2ZWRVcml8fGkubWFwLnVyaSxzKHtpbnRlcm5hbDohMCxtZXNzYWdlOmBGb3VuZCB1bnN1cHBvcnRlZCAke3R8fFwidW5rbm93blwifSBjb250YWluZXIgZm9yIGluaXRpYWxpemF0aW9uIHNlZ21lbnQgYXQgVVJMOiBgK2UsY29kZTp5aC5GQUlMVVJFfSk7Y2goe2FjdGlvbjpcInByb2JlTXA0VHJhY2tzXCIsZGF0YTppLm1hcC5ieXRlcyx0cmFuc211eGVyOmkudHJhbnNtdXhlcixjYWxsYmFjazooe3RyYWNrczplLGRhdGE6dH0pPT4oaS5tYXAuYnl0ZXM9dCxlLmZvckVhY2goZnVuY3Rpb24oZSl7aS5tYXAudHJhY2tzPWkubWFwLnRyYWNrc3x8e30saS5tYXAudHJhY2tzW2UudHlwZV18fFwibnVtYmVyXCI9PXR5cGVvZihpLm1hcC50cmFja3NbZS50eXBlXT1lKS5pZCYmZS50aW1lc2NhbGUmJihpLm1hcC50aW1lc2NhbGVzPWkubWFwLnRpbWVzY2FsZXN8fHt9LGkubWFwLnRpbWVzY2FsZXNbZS5pZF09ZS50aW1lc2NhbGUpfSkscyhudWxsKSl9KX0sRWg9KHtzZWdtZW50OmksYnl0ZXM6dCx0cmFja0luZm9GbjpzLHRpbWluZ0luZm9GbjplLHZpZGVvU2VnbWVudFRpbWluZ0luZm9GbjpyLGF1ZGlvU2VnbWVudFRpbWluZ0luZm9GbjpuLGlkM0ZuOmEsY2FwdGlvbnNGbjpvLGlzRW5kT2ZUaW1lbGluZTpsLGVuZGVkVGltZWxpbmVGbjpkLGRhdGFGbjpoLGRvbmVGbjp1LG9uVHJhbnNtdXhlckxvZzpjfSk9Pnt2YXIgcD1pLm1hcCYmaS5tYXAudHJhY2tzfHx7fTtjb25zdCBtPUJvb2xlYW4ocC5hdWRpbyYmcC52aWRlbyk7bGV0IGc9ZS5iaW5kKG51bGwsaSxcImF1ZGlvXCIsXCJzdGFydFwiKTtjb25zdCBmPWUuYmluZChudWxsLGksXCJhdWRpb1wiLFwiZW5kXCIpO2xldCB5PWUuYmluZChudWxsLGksXCJ2aWRlb1wiLFwic3RhcnRcIik7Y29uc3QgXz1lLmJpbmQobnVsbCxpLFwidmlkZW9cIixcImVuZFwiKTtjaCh7YWN0aW9uOlwicHJvYmVUc1wiLHRyYW5zbXV4ZXI6aS50cmFuc211eGVyLGRhdGE6dCxiYXNlU3RhcnRUaW1lOmkuYmFzZVN0YXJ0VGltZSxjYWxsYmFjazplPT57aS5ieXRlcz10PWUuZGF0YTtlPWUucmVzdWx0O2UmJihzKGkse2hhc0F1ZGlvOmUuaGFzQXVkaW8saGFzVmlkZW86ZS5oYXNWaWRlbyxpc011eGVkOm19KSxzPW51bGwsZS5oYXNBdWRpbyYmIW0mJmcoZS5hdWRpb1N0YXJ0KSxlLmhhc1ZpZGVvJiZ5KGUudmlkZW9TdGFydCksZz1udWxsLHk9bnVsbCksZGgoe2J5dGVzOnQsdHJhbnNtdXhlcjppLnRyYW5zbXV4ZXIsYXVkaW9BcHBlbmRTdGFydDppLmF1ZGlvQXBwZW5kU3RhcnQsZ29wc1RvQWxpZ25XaXRoOmkuZ29wc1RvQWxpZ25XaXRoLHJlbXV4Om0sb25EYXRhOmU9PntlLnR5cGU9XCJjb21iaW5lZFwiPT09ZS50eXBlP1widmlkZW9cIjplLnR5cGUsaChpLGUpfSxvblRyYWNrSW5mbzplPT57cyYmKG0mJihlLmlzTXV4ZWQ9ITApLHMoaSxlKSl9LG9uQXVkaW9UaW1pbmdJbmZvOmU9PntnJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgZS5zdGFydCYmKGcoZS5zdGFydCksZz1udWxsKSxmJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgZS5lbmQmJmYoZS5lbmQpfSxvblZpZGVvVGltaW5nSW5mbzplPT57eSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGUuc3RhcnQmJih5KGUuc3RhcnQpLHk9bnVsbCksXyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGUuZW5kJiZfKGUuZW5kKX0sb25WaWRlb1NlZ21lbnRUaW1pbmdJbmZvOmU9PntyKGUpfSxvbkF1ZGlvU2VnbWVudFRpbWluZ0luZm86ZT0+e24oZSl9LG9uSWQzOihlLHQpPT57YShpLGUsdCl9LG9uQ2FwdGlvbnM6ZT0+e28oaSxbZV0pfSxpc0VuZE9mVGltZWxpbmU6bCxvbkVuZGVkVGltZWxpbmU6KCk9PntkKCl9LG9uVHJhbnNtdXhlckxvZzpjLG9uRG9uZTplPT57dSYmKGUudHlwZT1cImNvbWJpbmVkXCI9PT1lLnR5cGU/XCJ2aWRlb1wiOmUudHlwZSx1KG51bGwsaSxlKSl9fSl9fSl9LGtoPSh7c2VnbWVudDppLGJ5dGVzOnMsdHJhY2tJbmZvRm46ZSx0aW1pbmdJbmZvRm46cix2aWRlb1NlZ21lbnRUaW1pbmdJbmZvRm46dCxhdWRpb1NlZ21lbnRUaW1pbmdJbmZvRm46bixpZDNGbjphLGNhcHRpb25zRm46byxpc0VuZE9mVGltZWxpbmU6bCxlbmRlZFRpbWVsaW5lRm46ZCxkYXRhRm46aCxkb25lRm46dSxvblRyYW5zbXV4ZXJMb2c6Y30pPT57bGV0IHA9bmV3IFVpbnQ4QXJyYXkocyk7aWYobT1wLDA8bWwobSxbXCJtb29mXCJdKS5sZW5ndGgpe2kuaXNGbXA0PSEwO2NvbnN0IGc9aS5tYXBbXCJ0cmFja3NcIl0sZj17aXNGbXA0OiEwLGhhc1ZpZGVvOiEhZy52aWRlbyxoYXNBdWRpbzohIWcuYXVkaW99LHk9KGcuYXVkaW8mJmcuYXVkaW8uY29kZWMmJlwiZW5jYVwiIT09Zy5hdWRpby5jb2RlYyYmKGYuYXVkaW9Db2RlYz1nLmF1ZGlvLmNvZGVjKSxnLnZpZGVvJiZnLnZpZGVvLmNvZGVjJiZcImVuY3ZcIiE9PWcudmlkZW8uY29kZWMmJihmLnZpZGVvQ29kZWM9Zy52aWRlby5jb2RlYyksZy52aWRlbyYmZy5hdWRpbyYmKGYuaXNNdXhlZD0hMCksZShpLGYpLGU9PntoKGkse2RhdGE6cCx0eXBlOmYuaGFzQXVkaW8mJiFmLmlzTXV4ZWQ/XCJhdWRpb1wiOlwidmlkZW9cIn0pLGUmJmUubGVuZ3RoJiZvKGksZSksdShudWxsLGkse30pfSk7dm9pZCBjaCh7YWN0aW9uOlwicHJvYmVNcDRTdGFydFRpbWVcIix0aW1lc2NhbGVzOmkubWFwLnRpbWVzY2FsZXMsZGF0YTpwLHRyYW5zbXV4ZXI6aS50cmFuc211eGVyLGNhbGxiYWNrOih7ZGF0YTplLHN0YXJ0VGltZTp0fSk9PntzPWUuYnVmZmVyLGkuYnl0ZXM9cD1lLGYuaGFzQXVkaW8mJiFmLmlzTXV4ZWQmJnIoaSxcImF1ZGlvXCIsXCJzdGFydFwiLHQpLGYuaGFzVmlkZW8mJnIoaSxcInZpZGVvXCIsXCJzdGFydFwiLHQpLGcudmlkZW8mJmUuYnl0ZUxlbmd0aCYmaS50cmFuc211eGVyP2NoKHthY3Rpb246XCJwdXNoTXA0Q2FwdGlvbnNcIixlbmRBY3Rpb246XCJtcDRDYXB0aW9uc1wiLHRyYW5zbXV4ZXI6aS50cmFuc211eGVyLGRhdGE6cCx0aW1lc2NhbGVzOmkubWFwLnRpbWVzY2FsZXMsdHJhY2tJZHM6W2cudmlkZW8uaWRdLGNhbGxiYWNrOmU9PntzPWUuZGF0YS5idWZmZXIsaS5ieXRlcz1wPWUuZGF0YSxlLmxvZ3MuZm9yRWFjaChmdW5jdGlvbihlKXtjKE8oZSx7c3RyZWFtOlwibXA0Q2FwdGlvblBhcnNlclwifSkpfSkseShlLmNhcHRpb25zKX19KTp5KCl9fSl9ZWxzZXt2YXIgbTtpLnRyYW5zbXV4ZXI/KFwidW5kZWZpbmVkXCI9PXR5cGVvZiBpLmNvbnRhaW5lciYmKGkuY29udGFpbmVyPV9sKHApKSxcInRzXCIhPT1pLmNvbnRhaW5lciYmXCJhYWNcIiE9PWkuY29udGFpbmVyPyhlKGkse2hhc0F1ZGlvOiExLGhhc1ZpZGVvOiExfSksdShudWxsLGkse30pKTpFaCh7c2VnbWVudDppLGJ5dGVzOnMsdHJhY2tJbmZvRm46ZSx0aW1pbmdJbmZvRm46cix2aWRlb1NlZ21lbnRUaW1pbmdJbmZvRm46dCxhdWRpb1NlZ21lbnRUaW1pbmdJbmZvRm46bixpZDNGbjphLGNhcHRpb25zRm46byxpc0VuZE9mVGltZWxpbmU6bCxlbmRlZFRpbWVsaW5lRm46ZCxkYXRhRm46aCxkb25lRm46dSxvblRyYW5zbXV4ZXJMb2c6Y30pKTp1KG51bGwsaSx7fSl9fSxDaD1mdW5jdGlvbih7aWQ6dCxrZXk6ZSxlbmNyeXB0ZWRCeXRlczppLGRlY3J5cHRpb25Xb3JrZXI6c30scil7Y29uc3Qgbj1lPT57ZS5kYXRhLnNvdXJjZT09PXQmJihzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsbiksZT1lLmRhdGEuZGVjcnlwdGVkLHIobmV3IFVpbnQ4QXJyYXkoZS5ieXRlcyxlLmJ5dGVPZmZzZXQsZS5ieXRlTGVuZ3RoKSkpfTtzLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsbik7bGV0IGE7YT1lLmJ5dGVzLnNsaWNlP2UuYnl0ZXMuc2xpY2UoKTpuZXcgVWludDMyQXJyYXkoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZS5ieXRlcykpLHMucG9zdE1lc3NhZ2UoT2Qoe3NvdXJjZTp0LGVuY3J5cHRlZDppLGtleTphLGl2OmUuaXZ9KSxbaS5idWZmZXIsYS5idWZmZXJdKX0sSWg9KHtkZWNyeXB0aW9uV29ya2VyOmUsc2VnbWVudDp0LHRyYWNrSW5mb0ZuOmksdGltaW5nSW5mb0ZuOnMsdmlkZW9TZWdtZW50VGltaW5nSW5mb0ZuOnIsYXVkaW9TZWdtZW50VGltaW5nSW5mb0ZuOm4saWQzRm46YSxjYXB0aW9uc0ZuOm8saXNFbmRPZlRpbWVsaW5lOmwsZW5kZWRUaW1lbGluZUZuOmQsZGF0YUZuOmgsZG9uZUZuOnUsb25UcmFuc211eGVyTG9nOmN9KT0+e0NoKHtpZDp0LnJlcXVlc3RJZCxrZXk6dC5rZXksZW5jcnlwdGVkQnl0ZXM6dC5lbmNyeXB0ZWRCeXRlcyxkZWNyeXB0aW9uV29ya2VyOmV9LGU9Pnt0LmJ5dGVzPWUsa2goe3NlZ21lbnQ6dCxieXRlczp0LmJ5dGVzLHRyYWNrSW5mb0ZuOmksdGltaW5nSW5mb0ZuOnMsdmlkZW9TZWdtZW50VGltaW5nSW5mb0ZuOnIsYXVkaW9TZWdtZW50VGltaW5nSW5mb0ZuOm4saWQzRm46YSxjYXB0aW9uc0ZuOm8saXNFbmRPZlRpbWVsaW5lOmwsZW5kZWRUaW1lbGluZUZuOmQsZGF0YUZuOmgsZG9uZUZuOnUsb25UcmFuc211eGVyTG9nOmN9KX0pfSx4aD0oe3hocjplLHhock9wdGlvbnM6dCxkZWNyeXB0aW9uV29ya2VyOmksc2VnbWVudDpzLGFib3J0Rm46cixwcm9ncmVzc0ZuOm4sdHJhY2tJbmZvRm46YSx0aW1pbmdJbmZvRm46byx2aWRlb1NlZ21lbnRUaW1pbmdJbmZvRm46bCxhdWRpb1NlZ21lbnRUaW1pbmdJbmZvRm46ZCxpZDNGbjpoLGNhcHRpb25zRm46dSxpc0VuZE9mVGltZWxpbmU6YyxlbmRlZFRpbWVsaW5lRm46cCxkYXRhRm46bSxkb25lRm46ZyxvblRyYW5zbXV4ZXJMb2c6Zn0pPT57Y29uc3QgeT1bXTt2YXIgXyx2LGk9KCh7YWN0aXZlWGhyczpzLGRlY3J5cHRpb25Xb3JrZXI6cix0cmFja0luZm9GbjpuLHRpbWluZ0luZm9GbjphLHZpZGVvU2VnbWVudFRpbWluZ0luZm9GbjpvLGF1ZGlvU2VnbWVudFRpbWluZ0luZm9GbjpsLGlkM0ZuOmQsY2FwdGlvbnNGbjpoLGlzRW5kT2ZUaW1lbGluZTp1LGVuZGVkVGltZWxpbmVGbjpjLGRhdGFGbjpwLGRvbmVGbjptLG9uVHJhbnNtdXhlckxvZzpnfSk9PntsZXQgZj0wLHk9ITE7cmV0dXJuKGUsdCk9PntpZigheSl7aWYoZSlyZXR1cm4geT0hMCxfaChzKSxtKGUsdCk7aWYoKGYrPTEpPT09cy5sZW5ndGgpe2NvbnN0IGk9ZnVuY3Rpb24oKXtpZih0LmVuY3J5cHRlZEJ5dGVzKXJldHVybiBJaCh7ZGVjcnlwdGlvbldvcmtlcjpyLHNlZ21lbnQ6dCx0cmFja0luZm9GbjpuLHRpbWluZ0luZm9GbjphLHZpZGVvU2VnbWVudFRpbWluZ0luZm9GbjpvLGF1ZGlvU2VnbWVudFRpbWluZ0luZm9GbjpsLGlkM0ZuOmQsY2FwdGlvbnNGbjpoLGlzRW5kT2ZUaW1lbGluZTp1LGVuZGVkVGltZWxpbmVGbjpjLGRhdGFGbjpwLGRvbmVGbjptLG9uVHJhbnNtdXhlckxvZzpnfSk7a2goe3NlZ21lbnQ6dCxieXRlczp0LmJ5dGVzLHRyYWNrSW5mb0ZuOm4sdGltaW5nSW5mb0ZuOmEsdmlkZW9TZWdtZW50VGltaW5nSW5mb0ZuOm8sYXVkaW9TZWdtZW50VGltaW5nSW5mb0ZuOmwsaWQzRm46ZCxjYXB0aW9uc0ZuOmgsaXNFbmRPZlRpbWVsaW5lOnUsZW5kZWRUaW1lbGluZUZuOmMsZGF0YUZuOnAsZG9uZUZuOm0sb25UcmFuc211eGVyTG9nOmd9KX07aWYodC5lbmRPZkFsbFJlcXVlc3RzPURhdGUubm93KCksdC5tYXAmJnQubWFwLmVuY3J5cHRlZEJ5dGVzJiYhdC5tYXAuYnl0ZXMpcmV0dXJuIENoKHtkZWNyeXB0aW9uV29ya2VyOnIsaWQ6dC5yZXF1ZXN0SWQrXCItaW5pdFwiLGVuY3J5cHRlZEJ5dGVzOnQubWFwLmVuY3J5cHRlZEJ5dGVzLGtleTp0Lm1hcC5rZXl9LGU9Pnt0Lm1hcC5ieXRlcz1lLHdoKHQsZT0+e2lmKGUpcmV0dXJuIF9oKHMpLG0oZSx0KTtpKCl9KX0pO2koKX19fX0pKHthY3RpdmVYaHJzOnksZGVjcnlwdGlvbldvcmtlcjppLHRyYWNrSW5mb0ZuOmEsdGltaW5nSW5mb0ZuOm8sdmlkZW9TZWdtZW50VGltaW5nSW5mb0ZuOmwsYXVkaW9TZWdtZW50VGltaW5nSW5mb0ZuOmQsaWQzRm46aCxjYXB0aW9uc0ZuOnUsaXNFbmRPZlRpbWVsaW5lOmMsZW5kZWRUaW1lbGluZUZuOnAsZGF0YUZuOm0sZG9uZUZuOmcsb25UcmFuc211eGVyTG9nOmZ9KSx1PShzLmtleSYmIXMua2V5LmJ5dGVzJiYoYT1bcy5rZXldLHMubWFwJiYhcy5tYXAuYnl0ZXMmJnMubWFwLmtleSYmcy5tYXAua2V5LnJlc29sdmVkVXJpPT09cy5rZXkucmVzb2x2ZWRVcmkmJmEucHVzaChzLm1hcC5rZXkpLG89ZShPKHQse3VyaTpzLmtleS5yZXNvbHZlZFVyaSxyZXNwb25zZVR5cGU6XCJhcnJheWJ1ZmZlclwifSksU2gocyxhLGkpKSx5LnB1c2gobykpLHMubWFwJiYhcy5tYXAuYnl0ZXMmJighcy5tYXAua2V5fHxzLmtleSYmcy5rZXkucmVzb2x2ZWRVcmk9PT1zLm1hcC5rZXkucmVzb2x2ZWRVcml8fChsPWUoTyh0LHt1cmk6cy5tYXAua2V5LnJlc29sdmVkVXJpLHJlc3BvbnNlVHlwZTpcImFycmF5YnVmZmVyXCJ9KSxTaChzLFtzLm1hcC5rZXldLGkpKSx5LnB1c2gobCkpLGQ9Tyh0LHt1cmk6cy5tYXAucmVzb2x2ZWRVcmkscmVzcG9uc2VUeXBlOlwiYXJyYXlidWZmZXJcIixoZWFkZXJzOkFkKHMubWFwKX0pLHtzZWdtZW50Ol8sZmluaXNoUHJvY2Vzc2luZ0ZuOnZ9PVt7c2VnbWVudDpzLGZpbmlzaFByb2Nlc3NpbmdGbjppfV1bMF0saD1lKGQsKGUsdCk9Pnt2YXIgZT1UaChlLHQpO3JldHVybiBlP3YoZSxfKTooZT1uZXcgVWludDhBcnJheSh0LnJlc3BvbnNlKSxfLm1hcC5rZXk/KF8ubWFwLmVuY3J5cHRlZEJ5dGVzPWUsdihudWxsLF8pKTooXy5tYXAuYnl0ZXM9ZSx2b2lkIHdoKF8sZnVuY3Rpb24oZSl7aWYoZSlyZXR1cm4gZS54aHI9dCxlLnN0YXR1cz10LnN0YXR1cyx2KGUsXyk7dihudWxsLF8pfSkpKX0pLHkucHVzaChoKSksTyh0LHt1cmk6cy5wYXJ0JiZzLnBhcnQucmVzb2x2ZWRVcml8fHMucmVzb2x2ZWRVcmkscmVzcG9uc2VUeXBlOlwiYXJyYXlidWZmZXJcIixoZWFkZXJzOkFkKHMpfSkpOyh7c2VnbWVudDpiLGZpbmlzaFByb2Nlc3NpbmdGbjpULHJlc3BvbnNlVHlwZTpTfT17c2VnbWVudDpzLGZpbmlzaFByb2Nlc3NpbmdGbjppLHJlc3BvbnNlVHlwZTp1LnJlc3BvbnNlVHlwZX0pO3ZhciBiLFQsUyx3LEUsYz1lKHUsKGUsdCk9Pnt2YXIgZT1UaChlLHQpO3JldHVybiBlP1QoZSxiKTooZT1cImFycmF5YnVmZmVyXCIhPT1TJiZ0LnJlc3BvbnNlVGV4dD9RZCh0LnJlc3BvbnNlVGV4dC5zdWJzdHJpbmcoYi5sYXN0UmVhY2hlZENoYXJ8fDApKTp0LnJlc3BvbnNlLGIuc3RhdHM9dmgodCksYi5rZXk/Yi5lbmNyeXB0ZWRCeXRlcz1uZXcgVWludDhBcnJheShlKTpiLmJ5dGVzPW5ldyBVaW50OEFycmF5KGUpLFQobnVsbCxiKSl9KTtjLmFkZEV2ZW50TGlzdGVuZXIoXCJwcm9ncmVzc1wiLCh7c2VnbWVudDp3LHByb2dyZXNzRm46RX09W3tzZWdtZW50OnMscHJvZ3Jlc3NGbjpufV1bMF0sZT0+e3ZhciB0PWUudGFyZ2V0O2lmKCF0LmFib3J0ZWQpcmV0dXJuIHcuc3RhdHM9Tyh3LnN0YXRzLGJoKGUpKSwhdy5zdGF0cy5maXJzdEJ5dGVzUmVjZWl2ZWRBdCYmdy5zdGF0cy5ieXRlc1JlY2VpdmVkJiYody5zdGF0cy5maXJzdEJ5dGVzUmVjZWl2ZWRBdD1EYXRlLm5vdygpKSxFKGUsdyl9KSkseS5wdXNoKGMpO2NvbnN0IGs9e307cmV0dXJuIHkuZm9yRWFjaChlPT57dmFyIHQsaTtlLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkZW5kXCIsKHtsb2FkZW5kU3RhdGU6dCxhYm9ydEZuOml9PVt7bG9hZGVuZFN0YXRlOmssYWJvcnRGbjpyfV1bMF0sZT0+e2UudGFyZ2V0LmFib3J0ZWQmJmkmJiF0LmNhbGxlZEFib3J0Rm4mJihpKCksdC5jYWxsZWRBYm9ydEZuPSEwKX0pKX0pLCgpPT5faCh5KX0sQWg9QmwoXCJDb2RlY1V0aWxzXCIpLFBoPShlLHQpPT57dD10LmF0dHJpYnV0ZXN8fHt9O3JldHVybiBlJiZlLm1lZGlhR3JvdXBzJiZlLm1lZGlhR3JvdXBzLkFVRElPJiZ0LkFVRElPJiZlLm1lZGlhR3JvdXBzLkFVRElPW3QuQVVESU9dfSxMaD1mdW5jdGlvbihlKXtjb25zdCBzPXt9O3JldHVybiBlLmZvckVhY2goKHttZWRpYVR5cGU6ZSx0eXBlOnQsZGV0YWlsczppfSk9PntzW2VdPXNbZV18fFtdLHNbZV0ucHVzaChSbihcIlwiK3QraSkpfSksT2JqZWN0LmtleXMocykuZm9yRWFjaChmdW5jdGlvbihlKXsxPHNbZV0ubGVuZ3RoPyhBaChgbXVsdGlwbGUgJHtlfSBjb2RlY3MgZm91bmQgYXMgYXR0cmlidXRlczogJHtzW2VdLmpvaW4oXCIsIFwiKX0uIFNldHRpbmcgcGxheWxpc3QgY29kZWNzIHRvIG51bGwgc28gdGhhdCB3ZSB3YWl0IGZvciBtdXguanMgdG8gcHJvYmUgc2VnbWVudHMgZm9yIHJlYWwgY29kZWNzLmApLHNbZV09bnVsbCk6c1tlXT1zW2VdWzBdfSksc30sT2g9QmwoXCJQbGF5bGlzdFNlbGVjdG9yXCIpLERoPWZ1bmN0aW9uKGUpe3ZhciB0O2lmKGUmJmUucGxheWxpc3QpcmV0dXJuIHQ9ZS5wbGF5bGlzdCxKU09OLnN0cmluZ2lmeSh7aWQ6dC5pZCxiYW5kd2lkdGg6ZS5iYW5kd2lkdGgsd2lkdGg6ZS53aWR0aCxoZWlnaHQ6ZS5oZWlnaHQsY29kZWNzOnQuYXR0cmlidXRlcyYmdC5hdHRyaWJ1dGVzLkNPREVDU3x8XCJcIn0pfSxOaD1mdW5jdGlvbihlLHMpe2NvbnN0IHI9ZS5zbGljZSgpO2Uuc29ydChmdW5jdGlvbihlLHQpe3ZhciBpPXMoZSx0KTtyZXR1cm4gMD09PWk/ci5pbmRleE9mKGUpLXIuaW5kZXhPZih0KTppfSl9O2Z1bmN0aW9uIE1oKG8sdCxsLGQsaCx1KXtpZihvKXt2YXIgYz17YmFuZHdpZHRoOnQsd2lkdGg6bCxoZWlnaHQ6ZCxsaW1pdFJlbmRpdGlvbkJ5UGxheWVyRGltZW5zaW9uczpofTtsZXQgZT1vLnBsYXlsaXN0cyxyPShtZC5pc0F1ZGlvT25seShvKSYmKGU9dS5nZXRBdWRpb1RyYWNrUGxheWxpc3RzXygpLGMuYXVkaW9Pbmx5PSEwKSxlLm1hcChlPT57dmFyIHQ9ZS5hdHRyaWJ1dGVzJiZlLmF0dHJpYnV0ZXMuUkVTT0xVVElPTiYmZS5hdHRyaWJ1dGVzLlJFU09MVVRJT04ud2lkdGgsaT1lLmF0dHJpYnV0ZXMmJmUuYXR0cmlidXRlcy5SRVNPTFVUSU9OJiZlLmF0dHJpYnV0ZXMuUkVTT0xVVElPTi5oZWlnaHQscz1lLmF0dHJpYnV0ZXMmJmUuYXR0cmlidXRlcy5CQU5EV0lEVEg7cmV0dXJue2JhbmR3aWR0aDpzfHx3aW5kb3cuTnVtYmVyLk1BWF9WQUxVRSx3aWR0aDp0LGhlaWdodDppLHBsYXlsaXN0OmV9fSkpLG49KE5oKHIsKGUsdCk9PmUuYmFuZHdpZHRoLXQuYmFuZHdpZHRoKSwocj1yLmZpbHRlcihlPT4hbWQuaXNJbmNvbXBhdGlibGUoZS5wbGF5bGlzdCkpKS5maWx0ZXIoZT0+bWQuaXNFbmFibGVkKGUucGxheWxpc3QpKSk7bz0obj1uLmxlbmd0aD9uOnIuZmlsdGVyKGU9PiFtZC5pc0Rpc2FibGVkKGUucGxheWxpc3QpKSkuZmlsdGVyKGU9PmUuYmFuZHdpZHRoKkQuQkFORFdJRFRIX1ZBUklBTkNFPHQpO2xldCBhPW9bby5sZW5ndGgtMV07dmFyIHA9by5maWx0ZXIoZT0+ZS5iYW5kd2lkdGg9PT1hLmJhbmR3aWR0aClbMF07aWYoITE9PT1oKXtjb25zdCBnPXB8fG5bMF18fHJbMF07aWYoZyYmZy5wbGF5bGlzdCl7bGV0IGU9cD9cImJhbmR3aWR0aEJlc3RSZXBcIjpcInNvcnRlZFBsYXlsaXN0UmVwc1wiO3JldHVybiBuWzBdJiYoZT1cImVuYWJsZWRQbGF5bGlzdFJlcHNcIiksT2goYGNob29zaW5nICR7RGgoZyl9IHVzaW5nICR7ZX0gd2l0aCBvcHRpb25zYCxjKSxnLnBsYXlsaXN0fX1lbHNle3ZhciBtLGg9by5maWx0ZXIoZT0+ZS53aWR0aCYmZS5oZWlnaHQpLG89KE5oKGgsKGUsdCk9PmUud2lkdGgtdC53aWR0aCksaC5maWx0ZXIoZT0+ZS53aWR0aD09PWwmJmUuaGVpZ2h0PT09ZCkpLG89KGE9b1tvLmxlbmd0aC0xXSxvLmZpbHRlcihlPT5lLmJhbmR3aWR0aD09PWEuYmFuZHdpZHRoKVswXSk7bGV0IHQsaTtvfHwobT0odD1oLmZpbHRlcihlPT5lLndpZHRoPmx8fGUuaGVpZ2h0PmQpKS5maWx0ZXIoZT0+ZS53aWR0aD09PXRbMF0ud2lkdGgmJmUuaGVpZ2h0PT09dFswXS5oZWlnaHQpLGE9bVttLmxlbmd0aC0xXSxpPW0uZmlsdGVyKGU9PmUuYmFuZHdpZHRoPT09YS5iYW5kd2lkdGgpWzBdKTtsZXQgczt1LmxlYXN0UGl4ZWxEaWZmU2VsZWN0b3ImJihtPWgubWFwKGU9PihlLnBpeGVsRGlmZj1NYXRoLmFicyhlLndpZHRoLWwpK01hdGguYWJzKGUuaGVpZ2h0LWQpLGUpKSxOaChtLChlLHQpPT5lLnBpeGVsRGlmZj09PXQucGl4ZWxEaWZmP3QuYmFuZHdpZHRoLWUuYmFuZHdpZHRoOmUucGl4ZWxEaWZmLXQucGl4ZWxEaWZmKSxzPW1bMF0pO2NvbnN0IGc9c3x8aXx8b3x8cHx8blswXXx8clswXTtpZihnJiZnLnBsYXlsaXN0KXtsZXQgZT1cInNvcnRlZFBsYXlsaXN0UmVwc1wiO3JldHVybiBzP2U9XCJsZWFzdFBpeGVsRGlmZlJlcFwiOmk/ZT1cInJlc29sdXRpb25QbHVzT25lUmVwXCI6bz9lPVwicmVzb2x1dGlvbkJlc3RSZXBcIjpwP2U9XCJiYW5kd2lkdGhCZXN0UmVwXCI6blswXSYmKGU9XCJlbmFibGVkUGxheWxpc3RSZXBzXCIpLE9oKGBjaG9vc2luZyAke0RoKGcpfSB1c2luZyAke2V9IHdpdGggb3B0aW9uc2AsYyksZy5wbGF5bGlzdH19cmV0dXJuIE9oKFwiY291bGQgbm90IGNob29zZSBhIHBsYXlsaXN0IHdpdGggb3B0aW9uc1wiLGMpLG51bGx9fWZ1bmN0aW9uIFJoKCl7dmFyIGU9dGhpcy51c2VEZXZpY2VQaXhlbFJhdGlvJiZ3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb3x8MTtyZXR1cm4gTWgodGhpcy5wbGF5bGlzdHMubWFpbix0aGlzLnN5c3RlbUJhbmR3aWR0aCxwYXJzZUludChnaCh0aGlzLnRlY2hfLmVsKCksXCJ3aWR0aFwiKSwxMCkqZSxwYXJzZUludChnaCh0aGlzLnRlY2hfLmVsKCksXCJoZWlnaHRcIiksMTApKmUsdGhpcy5saW1pdFJlbmRpdGlvbkJ5UGxheWVyRGltZW5zaW9ucyx0aGlzLnBsYXlsaXN0Q29udHJvbGxlcl8pfWZ1bmN0aW9uIFVoKGUsdCxpKXtsZXQgczt2YXIgcjtpZihpJiZpLmN1ZXMpZm9yKHM9aS5jdWVzLmxlbmd0aDtzLS07KShyPWkuY3Vlc1tzXSkuc3RhcnRUaW1lPj1lJiZyLmVuZFRpbWU8PXQmJmkucmVtb3ZlQ3VlKHIpfWNvbnN0IEJoPSh7aW5iYW5kVGV4dFRyYWNrczplLG1ldGFkYXRhQXJyYXk6dCx0aW1lc3RhbXBPZmZzZXQ6aSx2aWRlb0R1cmF0aW9uOnN9KT0+e2lmKHQpe2NvbnN0IGE9d2luZG93LldlYktpdERhdGFDdWV8fHdpbmRvdy5WVFRDdWUsbz1lLm1ldGFkYXRhVHJhY2tfO2lmKG8mJih0LmZvckVhY2goZT0+e2NvbnN0IHM9ZS5jdWVUaW1lK2k7IShcIm51bWJlclwiIT10eXBlb2Ygc3x8d2luZG93LmlzTmFOKHMpfHxzPDApJiZzPDEvMCYmZS5mcmFtZXMuZm9yRWFjaChlPT57dmFyIHQsaT1uZXcgYShzLHMsZS52YWx1ZXx8ZS51cmx8fGUuZGF0YXx8XCJcIik7aS5mcmFtZT1lLGkudmFsdWU9ZSx0PWksT2JqZWN0LmRlZmluZVByb3BlcnRpZXModC5mcmFtZSx7aWQ6e2dldCgpe3JldHVybiBULmxvZy53YXJuKFwiY3VlLmZyYW1lLmlkIGlzIGRlcHJlY2F0ZWQuIFVzZSBjdWUudmFsdWUua2V5IGluc3RlYWQuXCIpLHQudmFsdWUua2V5fX0sdmFsdWU6e2dldCgpe3JldHVybiBULmxvZy53YXJuKFwiY3VlLmZyYW1lLnZhbHVlIGlzIGRlcHJlY2F0ZWQuIFVzZSBjdWUudmFsdWUuZGF0YSBpbnN0ZWFkLlwiKSx0LnZhbHVlLmRhdGF9fSxwcml2YXRlRGF0YTp7Z2V0KCl7cmV0dXJuIFQubG9nLndhcm4oXCJjdWUuZnJhbWUucHJpdmF0ZURhdGEgaXMgZGVwcmVjYXRlZC4gVXNlIGN1ZS52YWx1ZS5kYXRhIGluc3RlYWQuXCIpLHQudmFsdWUuZGF0YX19fSksby5hZGRDdWUoaSl9KX0pLG8uY3VlcykmJm8uY3Vlcy5sZW5ndGgpe3ZhciByPW8uY3VlcyxuPVtdO2ZvcihsZXQgZT0wO2U8ci5sZW5ndGg7ZSsrKXJbZV0mJm4ucHVzaChyW2VdKTtjb25zdCBsPW4ucmVkdWNlKChlLHQpPT57dmFyIGk9ZVt0LnN0YXJ0VGltZV18fFtdO3JldHVybiBpLnB1c2godCksZVt0LnN0YXJ0VGltZV09aSxlfSx7fSksZD1PYmplY3Qua2V5cyhsKS5zb3J0KChlLHQpPT5OdW1iZXIoZSktTnVtYmVyKHQpKTtkLmZvckVhY2goKGUsdCk9PntlPWxbZV07Y29uc3QgaT1OdW1iZXIoZFt0KzFdKXx8cztlLmZvckVhY2goZT0+e2UuZW5kVGltZT1pfSl9KX19fSxGaD1lPT5cIm51bWJlclwiPT10eXBlb2YgZSYmaXNGaW5pdGUoZSksamg9ZT0+e3ZhcntzdGFydE9mU2VnbWVudDp0LGR1cmF0aW9uOmksc2VnbWVudDpzLHBhcnQ6cixwbGF5bGlzdDp7bWVkaWFTZXF1ZW5jZTpuLGlkOmEsc2VnbWVudHM6bz1bXX0sbWVkaWFJbmRleDpsLHBhcnRJbmRleDpkLHRpbWVsaW5lOmh9PWUsbz1vLmxlbmd0aC0xO2xldCB1PVwibWVkaWFJbmRleC9wYXJ0SW5kZXggaW5jcmVtZW50XCI7ZS5nZXRNZWRpYUluZm9Gb3JUaW1lP3U9YGdldE1lZGlhSW5mb0ZvclRpbWUgKCR7ZS5nZXRNZWRpYUluZm9Gb3JUaW1lfSlgOmUuaXNTeW5jUmVxdWVzdCYmKHU9XCJnZXRTeW5jU2VnbWVudENhbmRpZGF0ZSAoaXNTeW5jUmVxdWVzdClcIiksZS5pbmRlcGVuZGVudCYmKHUrPVwiIHdpdGggaW5kZXBlbmRlbnQgXCIrZS5pbmRlcGVuZGVudCk7dmFyIGM9XCJudW1iZXJcIj09dHlwZW9mIGQsZT1lLnNlZ21lbnQudXJpP1wic2VnbWVudFwiOlwicHJlLXNlZ21lbnRcIixwPWM/ZWQoe3ByZWxvYWRTZWdtZW50OnN9KS0xOjA7cmV0dXJuIGUrYCBbJHtuK2x9LyR7bitvfV1gKyhjP2AgcGFydCBbJHtkfS8ke3B9XWA6XCJcIikrYCBzZWdtZW50IHN0YXJ0L2VuZCBbJHtzLnN0YXJ0fSA9PiAke3MuZW5kfV1gKyhjP2AgcGFydCBzdGFydC9lbmQgWyR7ci5zdGFydH0gPT4gJHtyLmVuZH1dYDpcIlwiKStgIHN0YXJ0T2ZTZWdtZW50IFske3R9XWArYCBkdXJhdGlvbiBbJHtpfV1gK2AgdGltZWxpbmUgWyR7aH1dYCtgIHNlbGVjdGVkIGJ5IFske3V9XWArYCBwbGF5bGlzdCBbJHthfV1gfSxIaD1lPT5lK1wiVGltaW5nSW5mb1wiLHFoPSh7dGltZWxpbmVDaGFuZ2VDb250cm9sbGVyOmUsY3VycmVudFRpbWVsaW5lOnQsc2VnbWVudFRpbWVsaW5lOmksbG9hZGVyVHlwZTpzLGF1ZGlvRGlzYWJsZWQ6cn0pPT57cmV0dXJuISh0PT09aXx8KFwiYXVkaW9cIj09PXM/KHQ9ZS5sYXN0VGltZWxpbmVDaGFuZ2Uoe3R5cGU6XCJtYWluXCJ9KSkmJnQudG89PT1pOlwibWFpblwiIT09c3x8IXJ8fCh0PWUucGVuZGluZ1RpbWVsaW5lQ2hhbmdlKHt0eXBlOlwiYXVkaW9cIn0pKSYmdC50bz09PWkpKX0sVmg9KHtzZWdtZW50RHVyYXRpb246ZSxtYXhEdXJhdGlvbjp0fSk9PiEhZSYmTWF0aC5yb3VuZChlKT50K0dsLCRoPShlLHQpPT57dmFyIGkscyxyO3JldHVyblwiaGxzXCI9PT10JiYodD0oZT0+e2xldCBzPTA7cmV0dXJuW1widmlkZW9cIixcImF1ZGlvXCJdLmZvckVhY2goZnVuY3Rpb24odCl7dD1lW3QrXCJUaW1pbmdJbmZvXCJdO2lmKHQpe3ZhcntzdGFydDp0LGVuZDppfT10O2xldCBlO1wiYmlnaW50XCI9PXR5cGVvZiB0fHxcImJpZ2ludFwiPT10eXBlb2YgaT9lPXdpbmRvdy5CaWdJbnQoaSktd2luZG93LkJpZ0ludCh0KTpcIm51bWJlclwiPT10eXBlb2YgdCYmXCJudW1iZXJcIj09dHlwZW9mIGkmJihlPWktdCksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGUmJmU+cyYmKHM9ZSl9fSkscz1cImJpZ2ludFwiPT10eXBlb2YgcyYmczxOdW1iZXIuTUFYX1NBRkVfSU5URUdFUj9OdW1iZXIocyk6c30pKHthdWRpb1RpbWluZ0luZm86ZS5hdWRpb1RpbWluZ0luZm8sdmlkZW9UaW1pbmdJbmZvOmUudmlkZW9UaW1pbmdJbmZvfSkpJiYoaT1lLnBsYXlsaXN0LnRhcmdldER1cmF0aW9uLHM9Vmgoe3NlZ21lbnREdXJhdGlvbjp0LG1heER1cmF0aW9uOjIqaX0pLHI9Vmgoe3NlZ21lbnREdXJhdGlvbjp0LG1heER1cmF0aW9uOml9KSx0PWBTZWdtZW50IHdpdGggaW5kZXggJHtlLm1lZGlhSW5kZXh9IGArYGZyb20gcGxheWxpc3QgJHtlLnBsYXlsaXN0LmlkfSBgK2BoYXMgYSBkdXJhdGlvbiBvZiAke3R9IGArYHdoZW4gdGhlIHJlcG9ydGVkIGR1cmF0aW9uIGlzICR7ZS5kdXJhdGlvbn0gYCtgYW5kIHRoZSB0YXJnZXQgZHVyYXRpb24gaXMgJHtpfS4gYCtcIkZvciBITFMgY29udGVudCwgYSBkdXJhdGlvbiBpbiBleGNlc3Mgb2YgdGhlIHRhcmdldCBkdXJhdGlvbiBtYXkgcmVzdWx0IGluIHBsYXliYWNrIGlzc3Vlcy4gU2VlIHRoZSBITFMgc3BlY2lmaWNhdGlvbiBzZWN0aW9uIG9uIEVYVC1YLVRBUkdFVERVUkFUSU9OIGZvciBtb3JlIGRldGFpbHM6IGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9kcmFmdC1wYW50b3MtaHR0cC1saXZlLXN0cmVhbWluZy0yMyNzZWN0aW9uLTQuMy4zLjFcIixzfHxyKT97c2V2ZXJpdHk6cz9cIndhcm5cIjpcImluZm9cIixtZXNzYWdlOnR9Om51bGx9O2NsYXNzIFdoIGV4dGVuZHMgVC5FdmVudFRhcmdldHtjb25zdHJ1Y3RvcihlLHQ9MCl7aWYoc3VwZXIoKSwhZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW5pdGlhbGl6YXRpb24gc2V0dGluZ3MgYXJlIHJlcXVpcmVkXCIpO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUuY3VycmVudFRpbWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIk5vIGN1cnJlbnRUaW1lIGdldHRlciBzcGVjaWZpZWRcIik7aWYoIWUubWVkaWFTb3VyY2UpdGhyb3cgbmV3IFR5cGVFcnJvcihcIk5vIE1lZGlhU291cmNlIHNwZWNpZmllZFwiKTt0aGlzLmJhbmR3aWR0aD1lLmJhbmR3aWR0aCx0aGlzLnRocm91Z2hwdXQ9e3JhdGU6MCxjb3VudDowfSx0aGlzLnJvdW5kVHJpcD1OYU4sdGhpcy5yZXNldFN0YXRzXygpLHRoaXMubWVkaWFJbmRleD1udWxsLHRoaXMucGFydEluZGV4PW51bGwsdGhpcy5oYXNQbGF5ZWRfPWUuaGFzUGxheWVkLHRoaXMuY3VycmVudFRpbWVfPWUuY3VycmVudFRpbWUsdGhpcy5zZWVrYWJsZV89ZS5zZWVrYWJsZSx0aGlzLnNlZWtpbmdfPWUuc2Vla2luZyx0aGlzLmR1cmF0aW9uXz1lLmR1cmF0aW9uLHRoaXMubWVkaWFTb3VyY2VfPWUubWVkaWFTb3VyY2UsdGhpcy52aHNfPWUudmhzLHRoaXMubG9hZGVyVHlwZV89ZS5sb2FkZXJUeXBlLHRoaXMuY3VycmVudE1lZGlhSW5mb189dm9pZCAwLHRoaXMuc3RhcnRpbmdNZWRpYUluZm9fPXZvaWQgMCx0aGlzLnNlZ21lbnRNZXRhZGF0YVRyYWNrXz1lLnNlZ21lbnRNZXRhZGF0YVRyYWNrLHRoaXMuZ29hbEJ1ZmZlckxlbmd0aF89ZS5nb2FsQnVmZmVyTGVuZ3RoLHRoaXMuc291cmNlVHlwZV89ZS5zb3VyY2VUeXBlLHRoaXMuc291cmNlVXBkYXRlcl89ZS5zb3VyY2VVcGRhdGVyLHRoaXMuaW5iYW5kVGV4dFRyYWNrc189ZS5pbmJhbmRUZXh0VHJhY2tzLHRoaXMuc3RhdGVfPVwiSU5JVFwiLHRoaXMudGltZWxpbmVDaGFuZ2VDb250cm9sbGVyXz1lLnRpbWVsaW5lQ2hhbmdlQ29udHJvbGxlcix0aGlzLnNob3VsZFNhdmVTZWdtZW50VGltaW5nSW5mb189ITAsdGhpcy5wYXJzZTcwOGNhcHRpb25zXz1lLnBhcnNlNzA4Y2FwdGlvbnMsdGhpcy51c2VEdHNGb3JUaW1lc3RhbXBPZmZzZXRfPWUudXNlRHRzRm9yVGltZXN0YW1wT2Zmc2V0LHRoaXMuY2FwdGlvblNlcnZpY2VzXz1lLmNhcHRpb25TZXJ2aWNlcyx0aGlzLmV4YWN0TWFuaWZlc3RUaW1pbmdzPWUuZXhhY3RNYW5pZmVzdFRpbWluZ3MsdGhpcy5jaGVja0J1ZmZlclRpbWVvdXRfPW51bGwsdGhpcy5lcnJvcl89dm9pZCAwLHRoaXMuY3VycmVudFRpbWVsaW5lXz0tMSx0aGlzLnBlbmRpbmdTZWdtZW50Xz1udWxsLHRoaXMueGhyT3B0aW9uc189bnVsbCx0aGlzLnBlbmRpbmdTZWdtZW50c189W10sdGhpcy5hdWRpb0Rpc2FibGVkXz0hMSx0aGlzLmlzUGVuZGluZ1RpbWVzdGFtcE9mZnNldF89ITEsdGhpcy5nb3BCdWZmZXJfPVtdLHRoaXMudGltZU1hcHBpbmdfPTAsdGhpcy5zYWZlQXBwZW5kXz0xMTw9VC5icm93c2VyLklFX1ZFUlNJT04sdGhpcy5hcHBlbmRJbml0U2VnbWVudF89e2F1ZGlvOiEwLHZpZGVvOiEwfSx0aGlzLnBsYXlsaXN0T2ZMYXN0SW5pdFNlZ21lbnRfPXthdWRpbzpudWxsLHZpZGVvOm51bGx9LHRoaXMuY2FsbFF1ZXVlXz1bXSx0aGlzLmxvYWRRdWV1ZV89W10sdGhpcy5tZXRhZGF0YVF1ZXVlXz17aWQzOltdLGNhcHRpb246W119LHRoaXMud2FpdGluZ09uUmVtb3ZlXz0hMSx0aGlzLnF1b3RhRXhjZWVkZWRFcnJvclJldHJ5VGltZW91dF89bnVsbCx0aGlzLmFjdGl2ZUluaXRTZWdtZW50SWRfPW51bGwsdGhpcy5pbml0U2VnbWVudHNfPXt9LHRoaXMuY2FjaGVFbmNyeXB0aW9uS2V5c189ZS5jYWNoZUVuY3J5cHRpb25LZXlzLHRoaXMua2V5Q2FjaGVfPXt9LHRoaXMuZGVjcnlwdGVyXz1lLmRlY3J5cHRlcix0aGlzLnN5bmNDb250cm9sbGVyXz1lLnN5bmNDb250cm9sbGVyLHRoaXMuc3luY1BvaW50Xz17c2VnbWVudEluZGV4OjAsdGltZTowfSx0aGlzLnRyYW5zbXV4ZXJfPXRoaXMuY3JlYXRlVHJhbnNtdXhlcl8oKSx0aGlzLnRyaWdnZXJTeW5jSW5mb1VwZGF0ZV89KCk9PnRoaXMudHJpZ2dlcihcInN5bmNpbmZvdXBkYXRlXCIpLHRoaXMuc3luY0NvbnRyb2xsZXJfLm9uKFwic3luY2luZm91cGRhdGVcIix0aGlzLnRyaWdnZXJTeW5jSW5mb1VwZGF0ZV8pLHRoaXMubWVkaWFTb3VyY2VfLmFkZEV2ZW50TGlzdGVuZXIoXCJzb3VyY2VvcGVuXCIsKCk9Pnt0aGlzLmlzRW5kT2ZTdHJlYW1fKCl8fCh0aGlzLmVuZGVkXz0hMSl9KSx0aGlzLmZldGNoQXRCdWZmZXJfPSExLHRoaXMubG9nZ2VyXz1CbChgU2VnbWVudExvYWRlclske3RoaXMubG9hZGVyVHlwZV99XWApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwic3RhdGVcIix7Z2V0KCl7cmV0dXJuIHRoaXMuc3RhdGVffSxzZXQoZSl7ZSE9PXRoaXMuc3RhdGVfJiYodGhpcy5sb2dnZXJfKHRoaXMuc3RhdGVfK1wiIC0+IFwiK2UpLHRoaXMuc3RhdGVfPWUsdGhpcy50cmlnZ2VyKFwic3RhdGVjaGFuZ2VcIikpfX0pLHRoaXMuc291cmNlVXBkYXRlcl8ub24oXCJyZWFkeVwiLCgpPT57dGhpcy5oYXNFbm91Z2hJbmZvVG9BcHBlbmRfKCkmJnRoaXMucHJvY2Vzc0NhbGxRdWV1ZV8oKX0pLFwibWFpblwiPT09dGhpcy5sb2FkZXJUeXBlXyYmdGhpcy50aW1lbGluZUNoYW5nZUNvbnRyb2xsZXJfLm9uKFwicGVuZGluZ3RpbWVsaW5lY2hhbmdlXCIsKCk9Pnt0aGlzLmhhc0Vub3VnaEluZm9Ub0FwcGVuZF8oKSYmdGhpcy5wcm9jZXNzQ2FsbFF1ZXVlXygpfSksXCJhdWRpb1wiPT09dGhpcy5sb2FkZXJUeXBlXyYmdGhpcy50aW1lbGluZUNoYW5nZUNvbnRyb2xsZXJfLm9uKFwidGltZWxpbmVjaGFuZ2VcIiwoKT0+e3RoaXMuaGFzRW5vdWdoSW5mb1RvTG9hZF8oKSYmdGhpcy5wcm9jZXNzTG9hZFF1ZXVlXygpLHRoaXMuaGFzRW5vdWdoSW5mb1RvQXBwZW5kXygpJiZ0aGlzLnByb2Nlc3NDYWxsUXVldWVfKCl9KX1jcmVhdGVUcmFuc211eGVyXygpe3JldHVybiB1aCh7cmVtdXg6ITEsYWxpZ25Hb3BzQXRFbmQ6dGhpcy5zYWZlQXBwZW5kXyxrZWVwT3JpZ2luYWxUaW1lc3RhbXBzOiEwLHBhcnNlNzA4Y2FwdGlvbnM6dGhpcy5wYXJzZTcwOGNhcHRpb25zXyxjYXB0aW9uU2VydmljZXM6dGhpcy5jYXB0aW9uU2VydmljZXNffSl9cmVzZXRTdGF0c18oKXt0aGlzLm1lZGlhQnl0ZXNUcmFuc2ZlcnJlZD0wLHRoaXMubWVkaWFSZXF1ZXN0cz0wLHRoaXMubWVkaWFSZXF1ZXN0c0Fib3J0ZWQ9MCx0aGlzLm1lZGlhUmVxdWVzdHNUaW1lZG91dD0wLHRoaXMubWVkaWFSZXF1ZXN0c0Vycm9yZWQ9MCx0aGlzLm1lZGlhVHJhbnNmZXJEdXJhdGlvbj0wLHRoaXMubWVkaWFTZWNvbmRzTG9hZGVkPTAsdGhpcy5tZWRpYUFwcGVuZHM9MH1kaXNwb3NlKCl7dGhpcy50cmlnZ2VyKFwiZGlzcG9zZVwiKSx0aGlzLnN0YXRlPVwiRElTUE9TRURcIix0aGlzLnBhdXNlKCksdGhpcy5hYm9ydF8oKSx0aGlzLnRyYW5zbXV4ZXJfJiZ0aGlzLnRyYW5zbXV4ZXJfLnRlcm1pbmF0ZSgpLHRoaXMucmVzZXRTdGF0c18oKSx0aGlzLmNoZWNrQnVmZmVyVGltZW91dF8mJndpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5jaGVja0J1ZmZlclRpbWVvdXRfKSx0aGlzLnN5bmNDb250cm9sbGVyXyYmdGhpcy50cmlnZ2VyU3luY0luZm9VcGRhdGVfJiZ0aGlzLnN5bmNDb250cm9sbGVyXy5vZmYoXCJzeW5jaW5mb3VwZGF0ZVwiLHRoaXMudHJpZ2dlclN5bmNJbmZvVXBkYXRlXyksdGhpcy5vZmYoKX1zZXRBdWRpbyhlKXt0aGlzLmF1ZGlvRGlzYWJsZWRfPSFlLGU/dGhpcy5hcHBlbmRJbml0U2VnbWVudF8uYXVkaW89ITA6dGhpcy5zb3VyY2VVcGRhdGVyXy5yZW1vdmVBdWRpbygwLHRoaXMuZHVyYXRpb25fKCkpfWFib3J0KCl7XCJXQUlUSU5HXCIhPT10aGlzLnN0YXRlP3RoaXMucGVuZGluZ1NlZ21lbnRfJiYodGhpcy5wZW5kaW5nU2VnbWVudF89bnVsbCk6KHRoaXMuYWJvcnRfKCksdGhpcy5zdGF0ZT1cIlJFQURZXCIsdGhpcy5wYXVzZWQoKXx8dGhpcy5tb25pdG9yQnVmZmVyXygpKX1hYm9ydF8oKXt0aGlzLnBlbmRpbmdTZWdtZW50XyYmdGhpcy5wZW5kaW5nU2VnbWVudF8uYWJvcnRSZXF1ZXN0cyYmdGhpcy5wZW5kaW5nU2VnbWVudF8uYWJvcnRSZXF1ZXN0cygpLHRoaXMucGVuZGluZ1NlZ21lbnRfPW51bGwsdGhpcy5jYWxsUXVldWVfPVtdLHRoaXMubG9hZFF1ZXVlXz1bXSx0aGlzLm1ldGFkYXRhUXVldWVfLmlkMz1bXSx0aGlzLm1ldGFkYXRhUXVldWVfLmNhcHRpb249W10sdGhpcy50aW1lbGluZUNoYW5nZUNvbnRyb2xsZXJfLmNsZWFyUGVuZGluZ1RpbWVsaW5lQ2hhbmdlKHRoaXMubG9hZGVyVHlwZV8pLHRoaXMud2FpdGluZ09uUmVtb3ZlXz0hMSx3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMucXVvdGFFeGNlZWRlZEVycm9yUmV0cnlUaW1lb3V0XyksdGhpcy5xdW90YUV4Y2VlZGVkRXJyb3JSZXRyeVRpbWVvdXRfPW51bGx9Y2hlY2tGb3JBYm9ydF8oZSl7cmV0dXJuXCJBUFBFTkRJTkdcIiE9PXRoaXMuc3RhdGV8fHRoaXMucGVuZGluZ1NlZ21lbnRfPyF0aGlzLnBlbmRpbmdTZWdtZW50X3x8dGhpcy5wZW5kaW5nU2VnbWVudF8ucmVxdWVzdElkIT09ZToodGhpcy5zdGF0ZT1cIlJFQURZXCIsITApfWVycm9yKGUpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBlJiYodGhpcy5sb2dnZXJfKFwiZXJyb3Igb2NjdXJyZWQ6XCIsZSksdGhpcy5lcnJvcl89ZSksdGhpcy5wZW5kaW5nU2VnbWVudF89bnVsbCx0aGlzLmVycm9yX31lbmRPZlN0cmVhbSgpe3RoaXMuZW5kZWRfPSEwLHRoaXMudHJhbnNtdXhlcl8mJmhoKHRoaXMudHJhbnNtdXhlcl8pLHRoaXMuZ29wQnVmZmVyXy5sZW5ndGg9MCx0aGlzLnBhdXNlKCksdGhpcy50cmlnZ2VyKFwiZW5kZWRcIil9YnVmZmVyZWRfKCl7dmFyIGU9dGhpcy5nZXRNZWRpYUluZm9fKCk7aWYoIXRoaXMuc291cmNlVXBkYXRlcl98fCFlKXJldHVybiBGbCgpO2lmKFwibWFpblwiPT09dGhpcy5sb2FkZXJUeXBlXyl7dmFye2hhc0F1ZGlvOmUsaGFzVmlkZW86dCxpc011eGVkOml9PWU7aWYodCYmZSYmIXRoaXMuYXVkaW9EaXNhYmxlZF8mJiFpKXJldHVybiB0aGlzLnNvdXJjZVVwZGF0ZXJfLmJ1ZmZlcmVkKCk7aWYodClyZXR1cm4gdGhpcy5zb3VyY2VVcGRhdGVyXy52aWRlb0J1ZmZlcmVkKCl9cmV0dXJuIHRoaXMuc291cmNlVXBkYXRlcl8uYXVkaW9CdWZmZXJlZCgpfWluaXRTZWdtZW50Rm9yTWFwKGUsdD0hMSl7aWYoIWUpcmV0dXJuIG51bGw7dmFyIGk9RGQoZSk7bGV0IHM9dGhpcy5pbml0U2VnbWVudHNfW2ldO3JldHVybiB0JiYhcyYmZS5ieXRlcyYmKHRoaXMuaW5pdFNlZ21lbnRzX1tpXT1zPXtyZXNvbHZlZFVyaTplLnJlc29sdmVkVXJpLGJ5dGVyYW5nZTplLmJ5dGVyYW5nZSxieXRlczplLmJ5dGVzLHRyYWNrczplLnRyYWNrcyx0aW1lc2NhbGVzOmUudGltZXNjYWxlc30pLHN8fGV9c2VnbWVudEtleShlLHQ9ITEpe2lmKCFlKXJldHVybiBudWxsO3ZhciBpPU5kKGUpO2xldCBzPXRoaXMua2V5Q2FjaGVfW2ldO3RoaXMuY2FjaGVFbmNyeXB0aW9uS2V5c18mJnQmJiFzJiZlLmJ5dGVzJiYodGhpcy5rZXlDYWNoZV9baV09cz17cmVzb2x2ZWRVcmk6ZS5yZXNvbHZlZFVyaSxieXRlczplLmJ5dGVzfSk7dD17cmVzb2x2ZWRVcmk6KHN8fGUpLnJlc29sdmVkVXJpfTtyZXR1cm4gcyYmKHQuYnl0ZXM9cy5ieXRlcyksdH1jb3VsZEJlZ2luTG9hZGluZ18oKXtyZXR1cm4gdGhpcy5wbGF5bGlzdF8mJiF0aGlzLnBhdXNlZCgpfWxvYWQoKXtpZih0aGlzLm1vbml0b3JCdWZmZXJfKCksdGhpcy5wbGF5bGlzdF8pcmV0dXJuXCJJTklUXCI9PT10aGlzLnN0YXRlJiZ0aGlzLmNvdWxkQmVnaW5Mb2FkaW5nXygpP3RoaXMuaW5pdF8oKTp2b2lkKCF0aGlzLmNvdWxkQmVnaW5Mb2FkaW5nXygpfHxcIlJFQURZXCIhPT10aGlzLnN0YXRlJiZcIklOSVRcIiE9PXRoaXMuc3RhdGV8fCh0aGlzLnN0YXRlPVwiUkVBRFlcIikpfWluaXRfKCl7cmV0dXJuIHRoaXMuc3RhdGU9XCJSRUFEWVwiLHRoaXMucmVzZXRFdmVyeXRoaW5nKCksdGhpcy5tb25pdG9yQnVmZmVyXygpfXBsYXlsaXN0KHQsaT17fSl7aWYodCl7dmFyIHMscj10aGlzLnBsYXlsaXN0XyxuPXRoaXMucGVuZGluZ1NlZ21lbnRfO3RoaXMucGxheWxpc3RfPXQsdGhpcy54aHJPcHRpb25zXz1pLFwiSU5JVFwiPT09dGhpcy5zdGF0ZSYmKHQuc3luY0luZm89e21lZGlhU2VxdWVuY2U6dC5tZWRpYVNlcXVlbmNlLHRpbWU6MH0sXCJtYWluXCI9PT10aGlzLmxvYWRlclR5cGVfKSYmdGhpcy5zeW5jQ29udHJvbGxlcl8uc2V0RGF0ZVRpbWVNYXBwaW5nRm9yU3RhcnQodCk7bGV0IGU9bnVsbDtpZihyJiYoci5pZD9lPXIuaWQ6ci51cmkmJihlPXIudXJpKSksdGhpcy5sb2dnZXJfKGBwbGF5bGlzdCB1cGRhdGUgWyR7ZX0gPT4gJHt0LmlkfHx0LnVyaX1dYCksdGhpcy50cmlnZ2VyKFwic3luY2luZm91cGRhdGVcIiksXCJJTklUXCI9PT10aGlzLnN0YXRlJiZ0aGlzLmNvdWxkQmVnaW5Mb2FkaW5nXygpKXJldHVybiB0aGlzLmluaXRfKCk7ciYmci51cmk9PT10LnVyaT8oaT10Lm1lZGlhU2VxdWVuY2Utci5tZWRpYVNlcXVlbmNlLHRoaXMubG9nZ2VyXyhgbGl2ZSB3aW5kb3cgc2hpZnQgWyR7aX1dYCksbnVsbCE9PXRoaXMubWVkaWFJbmRleCYmKHRoaXMubWVkaWFJbmRleC09aSx0aGlzLm1lZGlhSW5kZXg8MD8odGhpcy5tZWRpYUluZGV4PW51bGwsdGhpcy5wYXJ0SW5kZXg9bnVsbCk6KHM9dGhpcy5wbGF5bGlzdF8uc2VnbWVudHNbdGhpcy5tZWRpYUluZGV4XSwhdGhpcy5wYXJ0SW5kZXh8fHMucGFydHMmJnMucGFydHMubGVuZ3RoJiZzLnBhcnRzW3RoaXMucGFydEluZGV4XXx8KHM9dGhpcy5tZWRpYUluZGV4LHRoaXMubG9nZ2VyXyhgY3VycmVudGx5IHByb2Nlc3NpbmcgcGFydCAoaW5kZXggJHt0aGlzLnBhcnRJbmRleH0pIG5vIGxvbmdlciBleGlzdHMuYCksdGhpcy5yZXNldExvYWRlcigpLHRoaXMubWVkaWFJbmRleD1zKSkpLG4mJihuLm1lZGlhSW5kZXgtPWksbi5tZWRpYUluZGV4PDA/KG4ubWVkaWFJbmRleD1udWxsLG4ucGFydEluZGV4PW51bGwpOigwPD1uLm1lZGlhSW5kZXgmJihuLnNlZ21lbnQ9dC5zZWdtZW50c1tuLm1lZGlhSW5kZXhdKSwwPD1uLnBhcnRJbmRleCYmbi5zZWdtZW50LnBhcnRzJiYobi5wYXJ0PW4uc2VnbWVudC5wYXJ0c1tuLnBhcnRJbmRleF0pKSksdGhpcy5zeW5jQ29udHJvbGxlcl8uc2F2ZUV4cGlyZWRTZWdtZW50SW5mbyhyLHQpKToobnVsbCE9PXRoaXMubWVkaWFJbmRleCYmKHQuZW5kTGlzdD90aGlzLnJlc3luY0xvYWRlcigpOnRoaXMucmVzZXRMb2FkZXIoKSksdGhpcy5jdXJyZW50TWVkaWFJbmZvXz12b2lkIDAsdGhpcy50cmlnZ2VyKFwicGxheWxpc3R1cGRhdGVcIikpfX1wYXVzZSgpe3RoaXMuY2hlY2tCdWZmZXJUaW1lb3V0XyYmKHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5jaGVja0J1ZmZlclRpbWVvdXRfKSx0aGlzLmNoZWNrQnVmZmVyVGltZW91dF89bnVsbCl9cGF1c2VkKCl7cmV0dXJuIG51bGw9PT10aGlzLmNoZWNrQnVmZmVyVGltZW91dF99cmVzZXRFdmVyeXRoaW5nKGUpe3RoaXMuZW5kZWRfPSExLHRoaXMuYWN0aXZlSW5pdFNlZ21lbnRJZF89bnVsbCx0aGlzLmFwcGVuZEluaXRTZWdtZW50Xz17YXVkaW86ITAsdmlkZW86ITB9LHRoaXMucmVzZXRMb2FkZXIoKSx0aGlzLnJlbW92ZSgwLDEvMCxlKSx0aGlzLnRyYW5zbXV4ZXJfJiYodGhpcy50cmFuc211eGVyXy5wb3N0TWVzc2FnZSh7YWN0aW9uOlwiY2xlYXJBbGxNcDRDYXB0aW9uc1wifSksdGhpcy50cmFuc211eGVyXy5wb3N0TWVzc2FnZSh7YWN0aW9uOlwicmVzZXRcIn0pKX1yZXNldExvYWRlcigpe3RoaXMuZmV0Y2hBdEJ1ZmZlcl89ITEsdGhpcy5yZXN5bmNMb2FkZXIoKX1yZXN5bmNMb2FkZXIoKXt0aGlzLnRyYW5zbXV4ZXJfJiZoaCh0aGlzLnRyYW5zbXV4ZXJfKSx0aGlzLm1lZGlhSW5kZXg9bnVsbCx0aGlzLnBhcnRJbmRleD1udWxsLHRoaXMuc3luY1BvaW50Xz1udWxsLHRoaXMuaXNQZW5kaW5nVGltZXN0YW1wT2Zmc2V0Xz0hMSx0aGlzLmNhbGxRdWV1ZV89W10sdGhpcy5sb2FkUXVldWVfPVtdLHRoaXMubWV0YWRhdGFRdWV1ZV8uaWQzPVtdLHRoaXMubWV0YWRhdGFRdWV1ZV8uY2FwdGlvbj1bXSx0aGlzLmFib3J0KCksdGhpcy50cmFuc211eGVyXyYmdGhpcy50cmFuc211eGVyXy5wb3N0TWVzc2FnZSh7YWN0aW9uOlwiY2xlYXJQYXJzZWRNcDRDYXB0aW9uc1wifSl9cmVtb3ZlKHQsaSxzPSgpPT57fSxyPSExKXtpZigoaT1pPT09MS8wP3RoaXMuZHVyYXRpb25fKCk6aSk8PXQpdGhpcy5sb2dnZXJfKFwic2tpcHBpbmcgcmVtb3ZlIGJlY2F1c2UgZW5kICR7ZW5kfSBpcyA8PSBzdGFydCAke3N0YXJ0fVwiKTtlbHNlIGlmKHRoaXMuc291cmNlVXBkYXRlcl8mJnRoaXMuZ2V0TWVkaWFJbmZvXygpKXtsZXQgZT0xO3ZhciBuPSgpPT57MD09PS0tZSYmcygpfTshciYmdGhpcy5hdWRpb0Rpc2FibGVkX3x8KGUrKyx0aGlzLnNvdXJjZVVwZGF0ZXJfLnJlbW92ZUF1ZGlvKHQsaSxuKSksIXImJlwibWFpblwiIT09dGhpcy5sb2FkZXJUeXBlX3x8KHRoaXMuZ29wQnVmZmVyXz0oKHQsaSxlLHMpPT57dmFyIHI9TWF0aC5jZWlsKChpLXMpKk1sKSxuPU1hdGguY2VpbCgoZS1zKSpNbCksaT10LnNsaWNlKCk7bGV0IGE9dC5sZW5ndGg7Zm9yKDthLS0mJiEodFthXS5wdHM8PW4pOyk7aWYoLTEhPT1hKXtsZXQgZT1hKzE7Zm9yKDtlLS0mJiEodFtlXS5wdHM8PXIpOyk7ZT1NYXRoLm1heChlLDApLGkuc3BsaWNlKGUsYS1lKzEpfXJldHVybiBpfSkodGhpcy5nb3BCdWZmZXJfLHQsaSx0aGlzLnRpbWVNYXBwaW5nXyksZSsrLHRoaXMuc291cmNlVXBkYXRlcl8ucmVtb3ZlVmlkZW8odCxpLG4pKTtmb3IoY29uc3QgYSBpbiB0aGlzLmluYmFuZFRleHRUcmFja3NfKVVoKHQsaSx0aGlzLmluYmFuZFRleHRUcmFja3NfW2FdKTtVaCh0LGksdGhpcy5zZWdtZW50TWV0YWRhdGFUcmFja18pLG4oKX1lbHNlIHRoaXMubG9nZ2VyXyhcInNraXBwaW5nIHJlbW92ZSBiZWNhdXNlIG5vIHNvdXJjZSB1cGRhdGVyIG9yIHN0YXJ0aW5nIG1lZGlhIGluZm9cIil9bW9uaXRvckJ1ZmZlcl8oKXt0aGlzLmNoZWNrQnVmZmVyVGltZW91dF8mJndpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5jaGVja0J1ZmZlclRpbWVvdXRfKSx0aGlzLmNoZWNrQnVmZmVyVGltZW91dF89d2luZG93LnNldFRpbWVvdXQodGhpcy5tb25pdG9yQnVmZmVyVGlja18uYmluZCh0aGlzKSwxKX1tb25pdG9yQnVmZmVyVGlja18oKXtcIlJFQURZXCI9PT10aGlzLnN0YXRlJiZ0aGlzLmZpbGxCdWZmZXJfKCksdGhpcy5jaGVja0J1ZmZlclRpbWVvdXRfJiZ3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuY2hlY2tCdWZmZXJUaW1lb3V0XyksdGhpcy5jaGVja0J1ZmZlclRpbWVvdXRfPXdpbmRvdy5zZXRUaW1lb3V0KHRoaXMubW9uaXRvckJ1ZmZlclRpY2tfLmJpbmQodGhpcyksNTAwKX1maWxsQnVmZmVyXygpe3ZhciBlO3RoaXMuc291cmNlVXBkYXRlcl8udXBkYXRpbmcoKXx8KGU9dGhpcy5jaG9vc2VOZXh0UmVxdWVzdF8oKSkmJihcIm51bWJlclwiPT10eXBlb2YgZS50aW1lc3RhbXBPZmZzZXQmJih0aGlzLmlzUGVuZGluZ1RpbWVzdGFtcE9mZnNldF89ITEsdGhpcy50aW1lbGluZUNoYW5nZUNvbnRyb2xsZXJfLnBlbmRpbmdUaW1lbGluZUNoYW5nZSh7dHlwZTp0aGlzLmxvYWRlclR5cGVfLGZyb206dGhpcy5jdXJyZW50VGltZWxpbmVfLHRvOmUudGltZWxpbmV9KSksdGhpcy5sb2FkU2VnbWVudF8oZSkpfWlzRW5kT2ZTdHJlYW1fKGU9dGhpcy5tZWRpYUluZGV4LHQ9dGhpcy5wbGF5bGlzdF8saT10aGlzLnBhcnRJbmRleCl7dmFyIHM7cmV0dXJuISghdHx8IXRoaXMubWVkaWFTb3VyY2VfKSYmKHM9XCJudW1iZXJcIj09dHlwZW9mIGUmJnQuc2VnbWVudHNbZV0sZT1lKzE9PT10LnNlZ21lbnRzLmxlbmd0aCxpPSFzfHwhcy5wYXJ0c3x8aSsxPT09cy5wYXJ0cy5sZW5ndGgsdC5lbmRMaXN0KSYmXCJvcGVuXCI9PT10aGlzLm1lZGlhU291cmNlXy5yZWFkeVN0YXRlJiZlJiZpfWNob29zZU5leHRSZXF1ZXN0Xygpe3ZhciBlPXRoaXMuYnVmZmVyZWRfKCksdD1xbChlKXx8MCxlPVZsKGUsdGhpcy5jdXJyZW50VGltZV8oKSksaT0hdGhpcy5oYXNQbGF5ZWRfKCkmJjE8PWUscz1lPj10aGlzLmdvYWxCdWZmZXJMZW5ndGhfKCkscj10aGlzLnBsYXlsaXN0Xy5zZWdtZW50cztpZighci5sZW5ndGh8fGl8fHMpcmV0dXJuIG51bGw7dGhpcy5zeW5jUG9pbnRfPXRoaXMuc3luY1BvaW50X3x8dGhpcy5zeW5jQ29udHJvbGxlcl8uZ2V0U3luY1BvaW50KHRoaXMucGxheWxpc3RfLHRoaXMuZHVyYXRpb25fKCksdGhpcy5jdXJyZW50VGltZWxpbmVfLHRoaXMuY3VycmVudFRpbWVfKCkpO3ZhciBuLGk9e3BhcnRJbmRleDpudWxsLG1lZGlhSW5kZXg6bnVsbCxzdGFydE9mU2VnbWVudDpudWxsLHBsYXlsaXN0OnRoaXMucGxheWxpc3RfLGlzU3luY1JlcXVlc3Q6Qm9vbGVhbighdGhpcy5zeW5jUG9pbnRfKX0sdD0oaS5pc1N5bmNSZXF1ZXN0P2kubWVkaWFJbmRleD1mdW5jdGlvbih0LGkscyl7aT1pfHxbXTt2YXIgcj1bXTtsZXQgbj0wO2ZvcihsZXQgZT0wO2U8aS5sZW5ndGg7ZSsrKXt2YXIgYT1pW2VdO2lmKHQ9PT1hLnRpbWVsaW5lJiYoci5wdXNoKGUpLChuKz1hLmR1cmF0aW9uKT5zKSlyZXR1cm4gZX1yZXR1cm4gMD09PXIubGVuZ3RoPzA6cltyLmxlbmd0aC0xXX0odGhpcy5jdXJyZW50VGltZWxpbmVfLHIsdCk6bnVsbCE9PXRoaXMubWVkaWFJbmRleD8ocz1yW3RoaXMubWVkaWFJbmRleF0sbj1cIm51bWJlclwiPT10eXBlb2YgdGhpcy5wYXJ0SW5kZXg/dGhpcy5wYXJ0SW5kZXg6LTEsaS5zdGFydE9mU2VnbWVudD1zLmVuZHx8dCxzLnBhcnRzJiZzLnBhcnRzW24rMV0/KGkubWVkaWFJbmRleD10aGlzLm1lZGlhSW5kZXgsaS5wYXJ0SW5kZXg9bisxKTppLm1lZGlhSW5kZXg9dGhpcy5tZWRpYUluZGV4KzEpOih7c2VnbWVudEluZGV4OnMsc3RhcnRUaW1lOm4scGFydEluZGV4Om99PW1kLmdldE1lZGlhSW5mb0ZvclRpbWUoe2V4YWN0TWFuaWZlc3RUaW1pbmdzOnRoaXMuZXhhY3RNYW5pZmVzdFRpbWluZ3MscGxheWxpc3Q6dGhpcy5wbGF5bGlzdF8sY3VycmVudFRpbWU6dGhpcy5mZXRjaEF0QnVmZmVyXz90OnRoaXMuY3VycmVudFRpbWVfKCksc3RhcnRpbmdQYXJ0SW5kZXg6dGhpcy5zeW5jUG9pbnRfLnBhcnRJbmRleCxzdGFydGluZ1NlZ21lbnRJbmRleDp0aGlzLnN5bmNQb2ludF8uc2VnbWVudEluZGV4LHN0YXJ0VGltZTp0aGlzLnN5bmNQb2ludF8udGltZX0pLGkuZ2V0TWVkaWFJbmZvRm9yVGltZT10aGlzLmZldGNoQXRCdWZmZXJfP1wiYnVmZmVyZWRFbmQgXCIrdDpcImN1cnJlbnRUaW1lIFwiK3RoaXMuY3VycmVudFRpbWVfKCksaS5tZWRpYUluZGV4PXMsaS5zdGFydE9mU2VnbWVudD1uLGkucGFydEluZGV4PW8pLHJbaS5tZWRpYUluZGV4XSk7bGV0IGE9dCYmXCJudW1iZXJcIj09dHlwZW9mIGkucGFydEluZGV4JiZ0LnBhcnRzJiZ0LnBhcnRzW2kucGFydEluZGV4XTtpZighdHx8XCJudW1iZXJcIj09dHlwZW9mIGkucGFydEluZGV4JiYhYSlyZXR1cm4gbnVsbDtcIm51bWJlclwiIT10eXBlb2YgaS5wYXJ0SW5kZXgmJnQucGFydHMmJihpLnBhcnRJbmRleD0wLGE9dC5wYXJ0c1swXSksZXx8IWF8fGEuaW5kZXBlbmRlbnR8fCgwPT09aS5wYXJ0SW5kZXg/KG49KHM9cltpLm1lZGlhSW5kZXgtMV0pLnBhcnRzJiZzLnBhcnRzLmxlbmd0aCYmcy5wYXJ0c1tzLnBhcnRzLmxlbmd0aC0xXSkmJm4uaW5kZXBlbmRlbnQmJigtLWkubWVkaWFJbmRleCxpLnBhcnRJbmRleD1zLnBhcnRzLmxlbmd0aC0xLGkuaW5kZXBlbmRlbnQ9XCJwcmV2aW91cyBzZWdtZW50XCIpOnQucGFydHNbaS5wYXJ0SW5kZXgtMV0uaW5kZXBlbmRlbnQmJigtLWkucGFydEluZGV4LGkuaW5kZXBlbmRlbnQ9XCJwcmV2aW91cyBwYXJ0XCIpKTt2YXIgbz10aGlzLm1lZGlhU291cmNlXyYmXCJlbmRlZFwiPT09dGhpcy5tZWRpYVNvdXJjZV8ucmVhZHlTdGF0ZTtyZXR1cm4gaS5tZWRpYUluZGV4Pj1yLmxlbmd0aC0xJiZvJiYhdGhpcy5zZWVraW5nXygpP251bGw6dGhpcy5nZW5lcmF0ZVNlZ21lbnRJbmZvXyhpKX1nZW5lcmF0ZVNlZ21lbnRJbmZvXyhlKXt2YXJ7aW5kZXBlbmRlbnQ6ZSxwbGF5bGlzdDp0LG1lZGlhSW5kZXg6aSxzdGFydE9mU2VnbWVudDpzLGlzU3luY1JlcXVlc3Q6cixwYXJ0SW5kZXg6bixmb3JjZVRpbWVzdGFtcE9mZnNldDphLGdldE1lZGlhSW5mb0ZvclRpbWU6b309ZSxsPXQuc2VnbWVudHNbaV0sZD1cIm51bWJlclwiPT10eXBlb2YgbiYmbC5wYXJ0c1tuXSxpPXtyZXF1ZXN0SWQ6XCJzZWdtZW50LWxvYWRlci1cIitNYXRoLnJhbmRvbSgpLHVyaTpkJiZkLnJlc29sdmVkVXJpfHxsLnJlc29sdmVkVXJpLG1lZGlhSW5kZXg6aSxwYXJ0SW5kZXg6ZD9uOm51bGwsaXNTeW5jUmVxdWVzdDpyLHN0YXJ0T2ZTZWdtZW50OnMscGxheWxpc3Q6dCxieXRlczpudWxsLGVuY3J5cHRlZEJ5dGVzOm51bGwsdGltZXN0YW1wT2Zmc2V0Om51bGwsdGltZWxpbmU6bC50aW1lbGluZSxkdXJhdGlvbjpkJiZkLmR1cmF0aW9ufHxsLmR1cmF0aW9uLHNlZ21lbnQ6bCxwYXJ0OmQsYnl0ZUxlbmd0aDowLHRyYW5zbXV4ZXI6dGhpcy50cmFuc211eGVyXyxnZXRNZWRpYUluZm9Gb3JUaW1lOm8saW5kZXBlbmRlbnQ6ZX0sbj1cInVuZGVmaW5lZFwiIT10eXBlb2YgYT9hOnRoaXMuaXNQZW5kaW5nVGltZXN0YW1wT2Zmc2V0XyxyPShpLnRpbWVzdGFtcE9mZnNldD10aGlzLnRpbWVzdGFtcE9mZnNldEZvclNlZ21lbnRfKHtzZWdtZW50VGltZWxpbmU6bC50aW1lbGluZSxjdXJyZW50VGltZWxpbmU6dGhpcy5jdXJyZW50VGltZWxpbmVfLHN0YXJ0T2ZTZWdtZW50OnMsYnVmZmVyZWQ6dGhpcy5idWZmZXJlZF8oKSxvdmVycmlkZUNoZWNrOm59KSxxbCh0aGlzLnNvdXJjZVVwZGF0ZXJfLmF1ZGlvQnVmZmVyZWQoKSkpO3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiByJiYoaS5hdWRpb0FwcGVuZFN0YXJ0PXItdGhpcy5zb3VyY2VVcGRhdGVyXy5hdWRpb1RpbWVzdGFtcE9mZnNldCgpKSx0aGlzLnNvdXJjZVVwZGF0ZXJfLnZpZGVvQnVmZmVyZWQoKS5sZW5ndGgmJihpLmdvcHNUb0FsaWduV2l0aD0oKGUsdCxpKT0+e2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiB0fHxudWxsPT09dHx8IWUubGVuZ3RoKXJldHVybltdO3ZhciBzPU1hdGguY2VpbCgodC1pKzMpKk1sKTtsZXQgcjtmb3Iocj0wO3I8ZS5sZW5ndGgmJiEoZVtyXS5wdHM+cyk7cisrKTtyZXR1cm4gZS5zbGljZShyKX0pKHRoaXMuZ29wQnVmZmVyXyx0aGlzLmN1cnJlbnRUaW1lXygpLXRoaXMuc291cmNlVXBkYXRlcl8udmlkZW9UaW1lc3RhbXBPZmZzZXQoKSx0aGlzLnRpbWVNYXBwaW5nXykpLGl9dGltZXN0YW1wT2Zmc2V0Rm9yU2VnbWVudF8oZSl7cmV0dXJue3NlZ21lbnRUaW1lbGluZTplLGN1cnJlbnRUaW1lbGluZTp0LHN0YXJ0T2ZTZWdtZW50OmksYnVmZmVyZWQ6cyxvdmVycmlkZUNoZWNrOnJ9PVtlXVswXSxyfHxlIT09dD8hKGU8dCkmJnMubGVuZ3RoP3MuZW5kKHMubGVuZ3RoLTEpOmk6bnVsbDt2YXIgdCxpLHMscn1lYXJseUFib3J0V2hlbk5lZWRlZF8odCl7aWYoIXRoaXMudmhzXy50ZWNoXy5wYXVzZWQoKSYmdGhpcy54aHJPcHRpb25zXy50aW1lb3V0JiZ0aGlzLnBsYXlsaXN0Xy5hdHRyaWJ1dGVzLkJBTkRXSURUSCYmIShEYXRlLm5vdygpLSh0LmZpcnN0Qnl0ZXNSZWNlaXZlZEF0fHxEYXRlLm5vdygpKTwxZTMpKXt2YXIgZT10aGlzLmN1cnJlbnRUaW1lXygpLGk9dC5iYW5kd2lkdGgscz10aGlzLnBlbmRpbmdTZWdtZW50Xy5kdXJhdGlvbix0PW1kLmVzdGltYXRlU2VnbWVudFJlcXVlc3RUaW1lKHMsaSx0aGlzLnBsYXlsaXN0Xyx0LmJ5dGVzUmVjZWl2ZWQpLHI9KFtyLG4sYT0xXT1bdGhpcy5idWZmZXJlZF8oKSxlLHRoaXMudmhzXy50ZWNoXy5wbGF5YmFja1JhdGUoKV0sKChyLmxlbmd0aD9yLmVuZChyLmxlbmd0aC0xKTowKS1uKS9hLTEpO2lmKCEodDw9cikpe3ZhciBuPWZ1bmN0aW9uKGUpe2NvbnN0e21haW46dCxjdXJyZW50VGltZTppLGJhbmR3aWR0aDpzLGR1cmF0aW9uOnIsc2VnbWVudER1cmF0aW9uOm4sdGltZVVudGlsUmVidWZmZXI6YSxjdXJyZW50VGltZWxpbmU6byxzeW5jQ29udHJvbGxlcjpsfT1lO2U9dC5wbGF5bGlzdHMuZmlsdGVyKGU9PiFtZC5pc0luY29tcGF0aWJsZShlKSk7bGV0IGQ9ZS5maWx0ZXIobWQuaXNFbmFibGVkKTt2YXIgZT0oZD1kLmxlbmd0aD9kOmUuZmlsdGVyKGU9PiFtZC5pc0Rpc2FibGVkKGUpKSkuZmlsdGVyKG1kLmhhc0F0dHJpYnV0ZS5iaW5kKG51bGwsXCJCQU5EV0lEVEhcIikpLm1hcChlPT57dmFyIHQ9bC5nZXRTeW5jUG9pbnQoZSxyLG8saSk/MToyO3JldHVybntwbGF5bGlzdDplLHJlYnVmZmVyaW5nSW1wYWN0Om1kLmVzdGltYXRlU2VnbWVudFJlcXVlc3RUaW1lKG4scyxlKSp0LWF9fSksaD1lLmZpbHRlcihlPT5lLnJlYnVmZmVyaW5nSW1wYWN0PD0wKTtyZXR1cm4gTmgoaCwoZSx0KT0+ZmgodC5wbGF5bGlzdCxlLnBsYXlsaXN0KSksaC5sZW5ndGg/aFswXTooTmgoZSwoZSx0KT0+ZS5yZWJ1ZmZlcmluZ0ltcGFjdC10LnJlYnVmZmVyaW5nSW1wYWN0KSxlWzBdfHxudWxsKX0oe21haW46dGhpcy52aHNfLnBsYXlsaXN0cy5tYWluLGN1cnJlbnRUaW1lOmUsYmFuZHdpZHRoOmksZHVyYXRpb246dGhpcy5kdXJhdGlvbl8oKSxzZWdtZW50RHVyYXRpb246cyx0aW1lVW50aWxSZWJ1ZmZlcjpyLGN1cnJlbnRUaW1lbGluZTp0aGlzLmN1cnJlbnRUaW1lbGluZV8sc3luY0NvbnRyb2xsZXI6dGhpcy5zeW5jQ29udHJvbGxlcl99KTtpZihuKXt2YXIgYT10LXItbi5yZWJ1ZmZlcmluZ0ltcGFjdDtsZXQgZT0uNTtyPD1HbCYmKGU9MSksIW4ucGxheWxpc3R8fG4ucGxheWxpc3QudXJpPT09dGhpcy5wbGF5bGlzdF8udXJpfHxhPGV8fCh0aGlzLmJhbmR3aWR0aD1uLnBsYXlsaXN0LmF0dHJpYnV0ZXMuQkFORFdJRFRIKkQuQkFORFdJRFRIX1ZBUklBTkNFKzEsdGhpcy50cmlnZ2VyKFwiZWFybHlhYm9ydFwiKSl9fX19aGFuZGxlQWJvcnRfKGUpe3RoaXMubG9nZ2VyXyhcIkFib3J0aW5nIFwiK2poKGUpKSx0aGlzLm1lZGlhUmVxdWVzdHNBYm9ydGVkKz0xfWhhbmRsZVByb2dyZXNzXyhlLHQpe3RoaXMuZWFybHlBYm9ydFdoZW5OZWVkZWRfKHQuc3RhdHMpLHRoaXMuY2hlY2tGb3JBYm9ydF8odC5yZXF1ZXN0SWQpfHx0aGlzLnRyaWdnZXIoXCJwcm9ncmVzc1wiKX1oYW5kbGVUcmFja0luZm9fKGUsdCl7dGhpcy5lYXJseUFib3J0V2hlbk5lZWRlZF8oZS5zdGF0cyksdGhpcy5jaGVja0ZvckFib3J0XyhlLnJlcXVlc3RJZCl8fHRoaXMuY2hlY2tGb3JJbGxlZ2FsTWVkaWFTd2l0Y2godCl8fChmdW5jdGlvbih0LGkpe2lmKCF0JiYhaXx8IXQmJml8fHQmJiFpKXJldHVybiExO2lmKHQhPT1pKXt2YXIgcz1PYmplY3Qua2V5cyh0KS5zb3J0KCkscj1PYmplY3Qua2V5cyhpKS5zb3J0KCk7aWYocy5sZW5ndGghPT1yLmxlbmd0aClyZXR1cm4hMTtmb3IobGV0IGU9MDtlPHMubGVuZ3RoO2UrKyl7dmFyIG49c1tlXTtpZihuIT09cltlXSlyZXR1cm4hMTtpZih0W25dIT09aVtuXSlyZXR1cm4hMX19cmV0dXJuITB9KHRoaXMuY3VycmVudE1lZGlhSW5mb18sdD10fHx7fSl8fCh0aGlzLmFwcGVuZEluaXRTZWdtZW50Xz17YXVkaW86ITAsdmlkZW86ITB9LHRoaXMuc3RhcnRpbmdNZWRpYUluZm9fPXQsdGhpcy5jdXJyZW50TWVkaWFJbmZvXz10LHRoaXMubG9nZ2VyXyhcInRyYWNraW5mbyB1cGRhdGVcIix0KSx0aGlzLnRyaWdnZXIoXCJ0cmFja2luZm9cIikpLHRoaXMuY2hlY2tGb3JBYm9ydF8oZS5yZXF1ZXN0SWQpKXx8KHRoaXMucGVuZGluZ1NlZ21lbnRfLnRyYWNrSW5mbz10LHRoaXMuaGFzRW5vdWdoSW5mb1RvQXBwZW5kXygpJiZ0aGlzLnByb2Nlc3NDYWxsUXVldWVfKCkpfWhhbmRsZVRpbWluZ0luZm9fKGUsdCxpLHMpe3ZhciByO3RoaXMuZWFybHlBYm9ydFdoZW5OZWVkZWRfKGUuc3RhdHMpLHRoaXMuY2hlY2tGb3JBYm9ydF8oZS5yZXF1ZXN0SWQpfHwoKGU9dGhpcy5wZW5kaW5nU2VnbWVudF8pW3I9SGgodCldPWVbcl18fHt9LGVbcl1baV09cyx0aGlzLmxvZ2dlcl8oYHRpbWluZ2luZm86ICR7dH0gLSAke2l9IC0gYCtzKSx0aGlzLmhhc0Vub3VnaEluZm9Ub0FwcGVuZF8oKSYmdGhpcy5wcm9jZXNzQ2FsbFF1ZXVlXygpKX1oYW5kbGVDYXB0aW9uc18oZSx0KXtpZih0aGlzLmVhcmx5QWJvcnRXaGVuTmVlZGVkXyhlLnN0YXRzKSwhdGhpcy5jaGVja0ZvckFib3J0XyhlLnJlcXVlc3RJZCkpaWYoMD09PXQubGVuZ3RoKXRoaXMubG9nZ2VyXyhcIlNlZ21lbnRMb2FkZXIgcmVjZWl2ZWQgbm8gY2FwdGlvbnMgZnJvbSBhIGNhcHRpb24gZXZlbnRcIik7ZWxzZSBpZih0aGlzLnBlbmRpbmdTZWdtZW50Xy5oYXNBcHBlbmRlZERhdGFfKXtjb25zdCBjPW51bGw9PT10aGlzLnNvdXJjZVVwZGF0ZXJfLnZpZGVvVGltZXN0YW1wT2Zmc2V0KCk/dGhpcy5zb3VyY2VVcGRhdGVyXy5hdWRpb1RpbWVzdGFtcE9mZnNldCgpOnRoaXMuc291cmNlVXBkYXRlcl8udmlkZW9UaW1lc3RhbXBPZmZzZXQoKSxwPXt9O3QuZm9yRWFjaChlPT57cFtlLnN0cmVhbV09cFtlLnN0cmVhbV18fHtzdGFydFRpbWU6MS8wLGNhcHRpb25zOltdLGVuZFRpbWU6MH07dmFyIHQ9cFtlLnN0cmVhbV07dC5zdGFydFRpbWU9TWF0aC5taW4odC5zdGFydFRpbWUsZS5zdGFydFRpbWUrYyksdC5lbmRUaW1lPU1hdGgubWF4KHQuZW5kVGltZSxlLmVuZFRpbWUrYyksdC5jYXB0aW9ucy5wdXNoKGUpfSksT2JqZWN0LmtleXMocCkuZm9yRWFjaChlPT57dmFye3N0YXJ0VGltZTp0LGVuZFRpbWU6aSxjYXB0aW9uczpzfT1wW2VdLHI9dGhpcy5pbmJhbmRUZXh0VHJhY2tzXyxuPSh0aGlzLmxvZ2dlcl8oYGFkZGluZyBjdWVzIGZyb20gJHt0fSAtPiAke2l9IGZvciBgK2UpLHIpLGE9dGhpcy52aHNfLnRlY2hfLG89ZTtpZighbltvXSl7YS50cmlnZ2VyKHt0eXBlOlwidXNhZ2VcIixuYW1lOlwidmhzLTYwOFwifSk7bGV0IHM9bzsvXmNjNzA4Xy8udGVzdChvKSYmKHM9XCJTRVJWSUNFXCIrby5zcGxpdChcIl9cIilbMV0pO3ZhciBsPWEudGV4dFRyYWNrcygpLmdldFRyYWNrQnlJZChzKTtpZihsKW5bb109bDtlbHNle2xldCBlPW8sdD1vLGk9ITE7bD0oYS5vcHRpb25zXy52aHMmJmEub3B0aW9uc18udmhzLmNhcHRpb25TZXJ2aWNlc3x8e30pW3NdO2wmJihlPWwubGFiZWwsdD1sLmxhbmd1YWdlLGk9bC5kZWZhdWx0KSxuW29dPWEuYWRkUmVtb3RlVGV4dFRyYWNrKHtraW5kOlwiY2FwdGlvbnNcIixpZDpzLGRlZmF1bHQ6aSxsYWJlbDplLGxhbmd1YWdlOnR9LCExKS50cmFja319VWgodCxpLHJbZV0pO3ZhcntpbmJhbmRUZXh0VHJhY2tzOmQsY2FwdGlvbkFycmF5OmwsdGltZXN0YW1wT2Zmc2V0Omh9PXtjYXB0aW9uQXJyYXk6cyxpbmJhbmRUZXh0VHJhY2tzOnIsdGltZXN0YW1wT2Zmc2V0OmN9O2lmKGwpe2NvbnN0IHU9d2luZG93LldlYktpdERhdGFDdWV8fHdpbmRvdy5WVFRDdWU7bC5mb3JFYWNoKGU9Pnt2YXIgdD1lLnN0cmVhbTtkW3RdLmFkZEN1ZShuZXcgdShlLnN0YXJ0VGltZStoLGUuZW5kVGltZStoLGUudGV4dCkpfSl9fSksdGhpcy50cmFuc211eGVyXyYmdGhpcy50cmFuc211eGVyXy5wb3N0TWVzc2FnZSh7YWN0aW9uOlwiY2xlYXJQYXJzZWRNcDRDYXB0aW9uc1wifSl9ZWxzZSB0aGlzLm1ldGFkYXRhUXVldWVfLmNhcHRpb24ucHVzaCh0aGlzLmhhbmRsZUNhcHRpb25zXy5iaW5kKHRoaXMsZSx0KSl9aGFuZGxlSWQzXyhlLHQsaSl7dmFyIHMscixuLGE7dGhpcy5lYXJseUFib3J0V2hlbk5lZWRlZF8oZS5zdGF0cyksdGhpcy5jaGVja0ZvckFib3J0XyhlLnJlcXVlc3RJZCl8fCh0aGlzLnBlbmRpbmdTZWdtZW50Xy5oYXNBcHBlbmRlZERhdGFfPyhzPW51bGw9PT10aGlzLnNvdXJjZVVwZGF0ZXJfLnZpZGVvVGltZXN0YW1wT2Zmc2V0KCk/dGhpcy5zb3VyY2VVcGRhdGVyXy5hdWRpb1RpbWVzdGFtcE9mZnNldCgpOnRoaXMuc291cmNlVXBkYXRlcl8udmlkZW9UaW1lc3RhbXBPZmZzZXQoKSxyPXRoaXMuaW5iYW5kVGV4dFRyYWNrc18sbj1pLGE9dGhpcy52aHNfLnRlY2hfLHIubWV0YWRhdGFUcmFja198fChyLm1ldGFkYXRhVHJhY2tfPWEuYWRkUmVtb3RlVGV4dFRyYWNrKHtraW5kOlwibWV0YWRhdGFcIixsYWJlbDpcIlRpbWVkIE1ldGFkYXRhXCJ9LCExKS50cmFjayxyLm1ldGFkYXRhVHJhY2tfLmluQmFuZE1ldGFkYXRhVHJhY2tEaXNwYXRjaFR5cGU9biksQmgoe2luYmFuZFRleHRUcmFja3M6dGhpcy5pbmJhbmRUZXh0VHJhY2tzXyxtZXRhZGF0YUFycmF5OnQsdGltZXN0YW1wT2Zmc2V0OnMsdmlkZW9EdXJhdGlvbjp0aGlzLmR1cmF0aW9uXygpfSkpOnRoaXMubWV0YWRhdGFRdWV1ZV8uaWQzLnB1c2godGhpcy5oYW5kbGVJZDNfLmJpbmQodGhpcyxlLHQsaSkpKX1wcm9jZXNzTWV0YWRhdGFRdWV1ZV8oKXt0aGlzLm1ldGFkYXRhUXVldWVfLmlkMy5mb3JFYWNoKGU9PmUoKSksdGhpcy5tZXRhZGF0YVF1ZXVlXy5jYXB0aW9uLmZvckVhY2goZT0+ZSgpKSx0aGlzLm1ldGFkYXRhUXVldWVfLmlkMz1bXSx0aGlzLm1ldGFkYXRhUXVldWVfLmNhcHRpb249W119cHJvY2Vzc0NhbGxRdWV1ZV8oKXt2YXIgZT10aGlzLmNhbGxRdWV1ZV87dGhpcy5jYWxsUXVldWVfPVtdLGUuZm9yRWFjaChlPT5lKCkpfXByb2Nlc3NMb2FkUXVldWVfKCl7dmFyIGU9dGhpcy5sb2FkUXVldWVfO3RoaXMubG9hZFF1ZXVlXz1bXSxlLmZvckVhY2goZT0+ZSgpKX1oYXNFbm91Z2hJbmZvVG9Mb2FkXygpe3ZhciBlO3JldHVyblwiYXVkaW9cIiE9PXRoaXMubG9hZGVyVHlwZV98fCEoIShlPXRoaXMucGVuZGluZ1NlZ21lbnRfKXx8dGhpcy5nZXRDdXJyZW50TWVkaWFJbmZvXygpJiZxaCh7dGltZWxpbmVDaGFuZ2VDb250cm9sbGVyOnRoaXMudGltZWxpbmVDaGFuZ2VDb250cm9sbGVyXyxjdXJyZW50VGltZWxpbmU6dGhpcy5jdXJyZW50VGltZWxpbmVfLHNlZ21lbnRUaW1lbGluZTplLnRpbWVsaW5lLGxvYWRlclR5cGU6dGhpcy5sb2FkZXJUeXBlXyxhdWRpb0Rpc2FibGVkOnRoaXMuYXVkaW9EaXNhYmxlZF99KSl9Z2V0Q3VycmVudE1lZGlhSW5mb18oZT10aGlzLnBlbmRpbmdTZWdtZW50Xyl7cmV0dXJuIGUmJmUudHJhY2tJbmZvfHx0aGlzLmN1cnJlbnRNZWRpYUluZm9ffWdldE1lZGlhSW5mb18oZT10aGlzLnBlbmRpbmdTZWdtZW50Xyl7cmV0dXJuIHRoaXMuZ2V0Q3VycmVudE1lZGlhSW5mb18oZSl8fHRoaXMuc3RhcnRpbmdNZWRpYUluZm9ffWdldFBlbmRpbmdTZWdtZW50UGxheWxpc3QoKXtyZXR1cm4gdGhpcy5wZW5kaW5nU2VnbWVudF8/dGhpcy5wZW5kaW5nU2VnbWVudF8ucGxheWxpc3Q6bnVsbH1oYXNFbm91Z2hJbmZvVG9BcHBlbmRfKCl7dmFyIGUsdCxpLHM7cmV0dXJuISF0aGlzLnNvdXJjZVVwZGF0ZXJfLnJlYWR5KCkmJiEodGhpcy53YWl0aW5nT25SZW1vdmVffHx0aGlzLnF1b3RhRXhjZWVkZWRFcnJvclJldHJ5VGltZW91dF98fChlPXRoaXMucGVuZGluZ1NlZ21lbnRfLHQ9dGhpcy5nZXRDdXJyZW50TWVkaWFJbmZvXygpLCFlKXx8IXR8fCh7aGFzQXVkaW86dCxoYXNWaWRlbzppLGlzTXV4ZWQ6c309dCxpJiYhZS52aWRlb1RpbWluZ0luZm8pfHx0JiYhdGhpcy5hdWRpb0Rpc2FibGVkXyYmIXMmJiFlLmF1ZGlvVGltaW5nSW5mb3x8cWgoe3RpbWVsaW5lQ2hhbmdlQ29udHJvbGxlcjp0aGlzLnRpbWVsaW5lQ2hhbmdlQ29udHJvbGxlcl8sY3VycmVudFRpbWVsaW5lOnRoaXMuY3VycmVudFRpbWVsaW5lXyxzZWdtZW50VGltZWxpbmU6ZS50aW1lbGluZSxsb2FkZXJUeXBlOnRoaXMubG9hZGVyVHlwZV8sYXVkaW9EaXNhYmxlZDp0aGlzLmF1ZGlvRGlzYWJsZWRffSkpfWhhbmRsZURhdGFfKHQsZSl7aWYodGhpcy5lYXJseUFib3J0V2hlbk5lZWRlZF8odC5zdGF0cyksIXRoaXMuY2hlY2tGb3JBYm9ydF8odC5yZXF1ZXN0SWQpKWlmKHRoaXMuY2FsbFF1ZXVlXy5sZW5ndGh8fCF0aGlzLmhhc0Vub3VnaEluZm9Ub0FwcGVuZF8oKSl0aGlzLmNhbGxRdWV1ZV8ucHVzaCh0aGlzLmhhbmRsZURhdGFfLmJpbmQodGhpcyx0LGUpKTtlbHNle3ZhciBpPXRoaXMucGVuZGluZ1NlZ21lbnRfO2lmKHRoaXMuc2V0VGltZU1hcHBpbmdfKGkudGltZWxpbmUpLHRoaXMudXBkYXRlTWVkaWFTZWNvbmRzTG9hZGVkXyhpLnBhcnR8fGkuc2VnbWVudCksXCJjbG9zZWRcIiE9PXRoaXMubWVkaWFTb3VyY2VfLnJlYWR5U3RhdGUpe2lmKHQubWFwJiYodC5tYXA9dGhpcy5pbml0U2VnbWVudEZvck1hcCh0Lm1hcCwhMCksaS5zZWdtZW50Lm1hcD10Lm1hcCksdC5rZXkmJnRoaXMuc2VnbWVudEtleSh0LmtleSwhMCksaS5pc0ZtcDQ9dC5pc0ZtcDQsaS50aW1pbmdJbmZvPWkudGltaW5nSW5mb3x8e30saS5pc0ZtcDQpdGhpcy50cmlnZ2VyKFwiZm1wNFwiKSxpLnRpbWluZ0luZm8uc3RhcnQ9aVtIaChlLnR5cGUpXS5zdGFydDtlbHNle3Q9dGhpcy5nZXRDdXJyZW50TWVkaWFJbmZvXygpLHQ9XCJtYWluXCI9PT10aGlzLmxvYWRlclR5cGVfJiZ0JiZ0Lmhhc1ZpZGVvO2xldCBlO3QmJihlPWkudmlkZW9UaW1pbmdJbmZvLnN0YXJ0KSxpLnRpbWluZ0luZm8uc3RhcnQ9dGhpcy50cnVlU2VnbWVudFN0YXJ0Xyh7Y3VycmVudFN0YXJ0OmkudGltaW5nSW5mby5zdGFydCxwbGF5bGlzdDppLnBsYXlsaXN0LG1lZGlhSW5kZXg6aS5tZWRpYUluZGV4LGN1cnJlbnRWaWRlb1RpbWVzdGFtcE9mZnNldDp0aGlzLnNvdXJjZVVwZGF0ZXJfLnZpZGVvVGltZXN0YW1wT2Zmc2V0KCksdXNlVmlkZW9UaW1pbmdJbmZvOnQsZmlyc3RWaWRlb0ZyYW1lVGltZUZvckRhdGE6ZSx2aWRlb1RpbWluZ0luZm86aS52aWRlb1RpbWluZ0luZm8sYXVkaW9UaW1pbmdJbmZvOmkuYXVkaW9UaW1pbmdJbmZvfSl9aWYodGhpcy51cGRhdGVBcHBlbmRJbml0U2VnbWVudFN0YXR1cyhpLGUudHlwZSksdGhpcy51cGRhdGVTb3VyY2VCdWZmZXJUaW1lc3RhbXBPZmZzZXRfKGkpLGkuaXNTeW5jUmVxdWVzdCl7dGhpcy51cGRhdGVUaW1pbmdJbmZvRW5kXyhpKSx0aGlzLnN5bmNDb250cm9sbGVyXy5zYXZlU2VnbWVudFRpbWluZ0luZm8oe3NlZ21lbnRJbmZvOmksc2hvdWxkU2F2ZVRpbWVsaW5lTWFwcGluZzpcIm1haW5cIj09PXRoaXMubG9hZGVyVHlwZV99KTt0PXRoaXMuY2hvb3NlTmV4dFJlcXVlc3RfKCk7aWYodC5tZWRpYUluZGV4IT09aS5tZWRpYUluZGV4fHx0LnBhcnRJbmRleCE9PWkucGFydEluZGV4KXJldHVybiB2b2lkIHRoaXMubG9nZ2VyXyhcInN5bmMgc2VnbWVudCB3YXMgaW5jb3JyZWN0LCBub3QgYXBwZW5kaW5nXCIpO3RoaXMubG9nZ2VyXyhcInN5bmMgc2VnbWVudCB3YXMgY29ycmVjdCwgYXBwZW5kaW5nXCIpfWkuaGFzQXBwZW5kZWREYXRhXz0hMCx0aGlzLnByb2Nlc3NNZXRhZGF0YVF1ZXVlXygpLHRoaXMuYXBwZW5kRGF0YV8oaSxlKX19fXVwZGF0ZUFwcGVuZEluaXRTZWdtZW50U3RhdHVzKGUsdCl7XCJtYWluXCIhPT10aGlzLmxvYWRlclR5cGVffHxcIm51bWJlclwiIT10eXBlb2YgZS50aW1lc3RhbXBPZmZzZXR8fGUuY2hhbmdlZFRpbWVzdGFtcE9mZnNldHx8KHRoaXMuYXBwZW5kSW5pdFNlZ21lbnRfPXthdWRpbzohMCx2aWRlbzohMH0pLHRoaXMucGxheWxpc3RPZkxhc3RJbml0U2VnbWVudF9bdF0hPT1lLnBsYXlsaXN0JiYodGhpcy5hcHBlbmRJbml0U2VnbWVudF9bdF09ITApfWdldEluaXRTZWdtZW50QW5kVXBkYXRlU3RhdGVfKHt0eXBlOmUsaW5pdFNlZ21lbnQ6dCxtYXA6aSxwbGF5bGlzdDpzfSl7aWYoaSl7dmFyIHI9RGQoaSk7aWYodGhpcy5hY3RpdmVJbml0U2VnbWVudElkXz09PXIpcmV0dXJuIG51bGw7dD10aGlzLmluaXRTZWdtZW50Rm9yTWFwKGksITApLmJ5dGVzLHRoaXMuYWN0aXZlSW5pdFNlZ21lbnRJZF89cn1yZXR1cm4gdCYmdGhpcy5hcHBlbmRJbml0U2VnbWVudF9bZV0/KHRoaXMucGxheWxpc3RPZkxhc3RJbml0U2VnbWVudF9bZV09cyx0aGlzLmFwcGVuZEluaXRTZWdtZW50X1tlXT0hMSx0aGlzLmFjdGl2ZUluaXRTZWdtZW50SWRfPW51bGwsdCk6bnVsbH1oYW5kbGVRdW90YUV4Y2VlZGVkRXJyb3JfKHtzZWdtZW50SW5mbzplLHR5cGU6dCxieXRlczppfSxzKXt2YXIgcj10aGlzLnNvdXJjZVVwZGF0ZXJfLmF1ZGlvQnVmZmVyZWQoKSxuPXRoaXMuc291cmNlVXBkYXRlcl8udmlkZW9CdWZmZXJlZCgpLGE9KDE8ci5sZW5ndGgmJnRoaXMubG9nZ2VyXyhcIk9uIFFVT1RBX0VYQ0VFREVEX0VSUiwgZm91bmQgZ2FwcyBpbiB0aGUgYXVkaW8gYnVmZmVyOiBcIitZbChyKS5qb2luKFwiLCBcIikpLDE8bi5sZW5ndGgmJnRoaXMubG9nZ2VyXyhcIk9uIFFVT1RBX0VYQ0VFREVEX0VSUiwgZm91bmQgZ2FwcyBpbiB0aGUgdmlkZW8gYnVmZmVyOiBcIitZbChuKS5qb2luKFwiLCBcIikpLHIubGVuZ3RoP3Iuc3RhcnQoMCk6MCksbz1yLmxlbmd0aD9yLmVuZChyLmxlbmd0aC0xKTowLGw9bi5sZW5ndGg/bi5zdGFydCgwKTowLGQ9bi5sZW5ndGg/bi5lbmQobi5sZW5ndGgtMSk6MDtvLWE8PTEmJmQtbDw9MT8odGhpcy5sb2dnZXJfKFwiT24gUVVPVEFfRVhDRUVERURfRVJSLCBzaW5nbGUgc2VnbWVudCB0b28gbGFyZ2UgdG8gYXBwZW5kIHRvIGJ1ZmZlciwgdHJpZ2dlcmluZyBhbiBlcnJvci4gXCIrYEFwcGVuZGVkIGJ5dGUgbGVuZ3RoOiAke2kuYnl0ZUxlbmd0aH0sIGArYGF1ZGlvIGJ1ZmZlcjogJHtZbChyKS5qb2luKFwiLCBcIil9LCBgK2B2aWRlbyBidWZmZXI6ICR7WWwobikuam9pbihcIiwgXCIpfSwgYCksdGhpcy5lcnJvcih7bWVzc2FnZTpcIlF1b3RhIGV4Y2VlZGVkIGVycm9yIHdpdGggYXBwZW5kIG9mIGEgc2luZ2xlIHNlZ21lbnQgb2YgY29udGVudFwiLGV4Y2x1ZGVVbnRpbDoxLzB9KSx0aGlzLnRyaWdnZXIoXCJlcnJvclwiKSk6KHRoaXMud2FpdGluZ09uUmVtb3ZlXz0hMCx0aGlzLmNhbGxRdWV1ZV8ucHVzaCh0aGlzLmFwcGVuZFRvU291cmNlQnVmZmVyXy5iaW5kKHRoaXMse3NlZ21lbnRJbmZvOmUsdHlwZTp0LGJ5dGVzOml9KSksbz10aGlzLmN1cnJlbnRUaW1lXygpLTEsdGhpcy5sb2dnZXJfKFwiT24gUVVPVEFfRVhDRUVERURfRVJSLCByZW1vdmluZyBhdWRpby92aWRlbyBmcm9tIDAgdG8gXCIrbyksdGhpcy5yZW1vdmUoMCxvLCgpPT57dGhpcy5sb2dnZXJfKFwiT24gUVVPVEFfRVhDRUVERURfRVJSLCByZXRyeWluZyBhcHBlbmQgaW4gMXNcIiksdGhpcy53YWl0aW5nT25SZW1vdmVfPSExLHRoaXMucXVvdGFFeGNlZWRlZEVycm9yUmV0cnlUaW1lb3V0Xz13aW5kb3cuc2V0VGltZW91dCgoKT0+e3RoaXMubG9nZ2VyXyhcIk9uIFFVT1RBX0VYQ0VFREVEX0VSUiwgcmUtcHJvY2Vzc2luZyBjYWxsIHF1ZXVlXCIpLHRoaXMucXVvdGFFeGNlZWRlZEVycm9yUmV0cnlUaW1lb3V0Xz1udWxsLHRoaXMucHJvY2Vzc0NhbGxRdWV1ZV8oKX0sMWUzKX0sITApKX1oYW5kbGVBcHBlbmRFcnJvcl8oe3NlZ21lbnRJbmZvOmUsdHlwZTp0LGJ5dGVzOml9LHMpe3MmJigyMj09PXMuY29kZT90aGlzLmhhbmRsZVF1b3RhRXhjZWVkZWRFcnJvcl8oe3NlZ21lbnRJbmZvOmUsdHlwZTp0LGJ5dGVzOml9KToodGhpcy5sb2dnZXJfKFwiUmVjZWl2ZWQgbm9uIFFVT1RBX0VYQ0VFREVEX0VSUiBvbiBhcHBlbmRcIixzKSx0aGlzLmVycm9yKGAke3R9IGFwcGVuZCBvZiAke2kubGVuZ3RofWIgZmFpbGVkIGZvciBzZWdtZW50IGArYCMke2UubWVkaWFJbmRleH0gaW4gcGxheWxpc3QgYCtlLnBsYXlsaXN0LmlkKSx0aGlzLnRyaWdnZXIoXCJhcHBlbmRlcnJvclwiKSkpfWFwcGVuZFRvU291cmNlQnVmZmVyXyh7c2VnbWVudEluZm86ZSx0eXBlOnQsaW5pdFNlZ21lbnQ6aSxkYXRhOnMsYnl0ZXM6cn0pe2lmKCFyKXt2YXIgbj1bc107bGV0IGU9cy5ieXRlTGVuZ3RoO2kmJihuLnVuc2hpZnQoaSksZSs9aS5ieXRlTGVuZ3RoKSxyPShlPT57bGV0IHQ9MCxpO3JldHVybiBlLmJ5dGVzJiYoaT1uZXcgVWludDhBcnJheShlLmJ5dGVzKSxlLnNlZ21lbnRzLmZvckVhY2goZT0+e2kuc2V0KGUsdCksdCs9ZS5ieXRlTGVuZ3RofSkpLGl9KSh7Ynl0ZXM6ZSxzZWdtZW50czpufSl9dGhpcy5zb3VyY2VVcGRhdGVyXy5hcHBlbmRCdWZmZXIoe3NlZ21lbnRJbmZvOmUsdHlwZTp0LGJ5dGVzOnJ9LHRoaXMuaGFuZGxlQXBwZW5kRXJyb3JfLmJpbmQodGhpcyx7c2VnbWVudEluZm86ZSx0eXBlOnQsYnl0ZXM6cn0pKX1oYW5kbGVTZWdtZW50VGltaW5nSW5mb18oZSx0LGkpe3RoaXMucGVuZGluZ1NlZ21lbnRfJiZ0PT09dGhpcy5wZW5kaW5nU2VnbWVudF8ucmVxdWVzdElkJiYoKHQ9dGhpcy5wZW5kaW5nU2VnbWVudF8uc2VnbWVudClbZT1lK1wiVGltaW5nSW5mb1wiXXx8KHRbZV09e30pLHRbZV0udHJhbnNtdXhlclByZXBlbmRlZFNlY29uZHM9aS5wcmVwZW5kZWRDb250ZW50RHVyYXRpb258fDAsdFtlXS50cmFuc211eGVkUHJlc2VudGF0aW9uU3RhcnQ9aS5zdGFydC5wcmVzZW50YXRpb24sdFtlXS50cmFuc211eGVkRGVjb2RlU3RhcnQ9aS5zdGFydC5kZWNvZGUsdFtlXS50cmFuc211eGVkUHJlc2VudGF0aW9uRW5kPWkuZW5kLnByZXNlbnRhdGlvbix0W2VdLnRyYW5zbXV4ZWREZWNvZGVFbmQ9aS5lbmQuZGVjb2RlLHRbZV0uYmFzZU1lZGlhRGVjb2RlVGltZT1pLmJhc2VNZWRpYURlY29kZVRpbWUpfWFwcGVuZERhdGFfKGUsdCl7dmFye3R5cGU6aSxkYXRhOnN9PXQ7cyYmcy5ieXRlTGVuZ3RoJiYoXCJhdWRpb1wiPT09aSYmdGhpcy5hdWRpb0Rpc2FibGVkX3x8KHQ9dGhpcy5nZXRJbml0U2VnbWVudEFuZFVwZGF0ZVN0YXRlXyh7dHlwZTppLGluaXRTZWdtZW50OnQuaW5pdFNlZ21lbnQscGxheWxpc3Q6ZS5wbGF5bGlzdCxtYXA6ZS5pc0ZtcDQ/ZS5zZWdtZW50Lm1hcDpudWxsfSksdGhpcy5hcHBlbmRUb1NvdXJjZUJ1ZmZlcl8oe3NlZ21lbnRJbmZvOmUsdHlwZTppLGluaXRTZWdtZW50OnQsZGF0YTpzfSkpKX1sb2FkU2VnbWVudF8odCl7dGhpcy5zdGF0ZT1cIldBSVRJTkdcIix0aGlzLnBlbmRpbmdTZWdtZW50Xz10LHRoaXMudHJpbUJhY2tCdWZmZXJfKHQpLFwibnVtYmVyXCI9PXR5cGVvZiB0LnRpbWVzdGFtcE9mZnNldCYmdGhpcy50cmFuc211eGVyXyYmdGhpcy50cmFuc211eGVyXy5wb3N0TWVzc2FnZSh7YWN0aW9uOlwiY2xlYXJBbGxNcDRDYXB0aW9uc1wifSksdGhpcy5oYXNFbm91Z2hJbmZvVG9Mb2FkXygpP3RoaXMudXBkYXRlVHJhbnNtdXhlckFuZFJlcXVlc3RTZWdtZW50Xyh0KTp0aGlzLmxvYWRRdWV1ZV8ucHVzaCgoKT0+e3ZhciBlPWZpKHt9LHQse2ZvcmNlVGltZXN0YW1wT2Zmc2V0OiEwfSk7ZmkodCx0aGlzLmdlbmVyYXRlU2VnbWVudEluZm9fKGUpKSx0aGlzLmlzUGVuZGluZ1RpbWVzdGFtcE9mZnNldF89ITEsdGhpcy51cGRhdGVUcmFuc211eGVyQW5kUmVxdWVzdFNlZ21lbnRfKHQpfSl9dXBkYXRlVHJhbnNtdXhlckFuZFJlcXVlc3RTZWdtZW50XyhzKXt0aGlzLnNob3VsZFVwZGF0ZVRyYW5zbXV4ZXJUaW1lc3RhbXBPZmZzZXRfKHMudGltZXN0YW1wT2Zmc2V0KSYmKHRoaXMuZ29wQnVmZmVyXy5sZW5ndGg9MCxzLmdvcHNUb0FsaWduV2l0aD1bXSx0aGlzLnRpbWVNYXBwaW5nXz0wLHRoaXMudHJhbnNtdXhlcl8ucG9zdE1lc3NhZ2Uoe2FjdGlvbjpcInJlc2V0XCJ9KSx0aGlzLnRyYW5zbXV4ZXJfLnBvc3RNZXNzYWdlKHthY3Rpb246XCJzZXRUaW1lc3RhbXBPZmZzZXRcIix0aW1lc3RhbXBPZmZzZXQ6cy50aW1lc3RhbXBPZmZzZXR9KSk7dmFyIGU9dGhpcy5jcmVhdGVTaW1wbGlmaWVkU2VnbWVudE9ial8ocyksdD10aGlzLmlzRW5kT2ZTdHJlYW1fKHMubWVkaWFJbmRleCxzLnBsYXlsaXN0LHMucGFydEluZGV4KSxpPW51bGwhPT10aGlzLm1lZGlhSW5kZXgscj1zLnRpbWVsaW5lIT09dGhpcy5jdXJyZW50VGltZWxpbmVfJiYwPHMudGltZWxpbmUsdD10fHxpJiZyO3RoaXMubG9nZ2VyXyhcIlJlcXVlc3RpbmcgXCIramgocykpLGUubWFwJiYhZS5tYXAuYnl0ZXMmJih0aGlzLmxvZ2dlcl8oXCJnb2luZyB0byByZXF1ZXN0IGluaXQgc2VnbWVudC5cIiksdGhpcy5hcHBlbmRJbml0U2VnbWVudF89e3ZpZGVvOiEwLGF1ZGlvOiEwfSkscy5hYm9ydFJlcXVlc3RzPXhoKHt4aHI6dGhpcy52aHNfLnhocix4aHJPcHRpb25zOnRoaXMueGhyT3B0aW9uc18sZGVjcnlwdGlvbldvcmtlcjp0aGlzLmRlY3J5cHRlcl8sc2VnbWVudDplLGFib3J0Rm46dGhpcy5oYW5kbGVBYm9ydF8uYmluZCh0aGlzLHMpLHByb2dyZXNzRm46dGhpcy5oYW5kbGVQcm9ncmVzc18uYmluZCh0aGlzKSx0cmFja0luZm9Gbjp0aGlzLmhhbmRsZVRyYWNrSW5mb18uYmluZCh0aGlzKSx0aW1pbmdJbmZvRm46dGhpcy5oYW5kbGVUaW1pbmdJbmZvXy5iaW5kKHRoaXMpLHZpZGVvU2VnbWVudFRpbWluZ0luZm9Gbjp0aGlzLmhhbmRsZVNlZ21lbnRUaW1pbmdJbmZvXy5iaW5kKHRoaXMsXCJ2aWRlb1wiLHMucmVxdWVzdElkKSxhdWRpb1NlZ21lbnRUaW1pbmdJbmZvRm46dGhpcy5oYW5kbGVTZWdtZW50VGltaW5nSW5mb18uYmluZCh0aGlzLFwiYXVkaW9cIixzLnJlcXVlc3RJZCksY2FwdGlvbnNGbjp0aGlzLmhhbmRsZUNhcHRpb25zXy5iaW5kKHRoaXMpLGlzRW5kT2ZUaW1lbGluZTp0LGVuZGVkVGltZWxpbmVGbjooKT0+e3RoaXMubG9nZ2VyXyhcInJlY2VpdmVkIGVuZGVkdGltZWxpbmUgY2FsbGJhY2tcIil9LGlkM0ZuOnRoaXMuaGFuZGxlSWQzXy5iaW5kKHRoaXMpLGRhdGFGbjp0aGlzLmhhbmRsZURhdGFfLmJpbmQodGhpcyksZG9uZUZuOnRoaXMuc2VnbWVudFJlcXVlc3RGaW5pc2hlZF8uYmluZCh0aGlzKSxvblRyYW5zbXV4ZXJMb2c6KHttZXNzYWdlOmUsbGV2ZWw6dCxzdHJlYW06aX0pPT57dGhpcy5sb2dnZXJfKGpoKHMpK2AgbG9nZ2VkIGZyb20gdHJhbnNtdXhlciBzdHJlYW0gJHtpfSBhcyBhICR7dH06IGArZSl9fSl9dHJpbUJhY2tCdWZmZXJfKGUpe3ZhciB0PSgoZSx0LGkpPT57bGV0IHM9dC1ELkJBQ0tfQlVGRkVSX0xFTkdUSDtyZXR1cm4gZS5sZW5ndGgmJihzPU1hdGgubWF4KHMsZS5zdGFydCgwKSkpLE1hdGgubWluKHQtaSxzKX0pKHRoaXMuc2Vla2FibGVfKCksdGhpcy5jdXJyZW50VGltZV8oKSx0aGlzLnBsYXlsaXN0Xy50YXJnZXREdXJhdGlvbnx8MTApOzA8dCYmdGhpcy5yZW1vdmUoMCx0KX1jcmVhdGVTaW1wbGlmaWVkU2VnbWVudE9ial8oZSl7dmFyIHQ9ZS5zZWdtZW50LGk9ZS5wYXJ0LGk9e3Jlc29sdmVkVXJpOihpfHx0KS5yZXNvbHZlZFVyaSxieXRlcmFuZ2U6KGl8fHQpLmJ5dGVyYW5nZSxyZXF1ZXN0SWQ6ZS5yZXF1ZXN0SWQsdHJhbnNtdXhlcjplLnRyYW5zbXV4ZXIsYXVkaW9BcHBlbmRTdGFydDplLmF1ZGlvQXBwZW5kU3RhcnQsZ29wc1RvQWxpZ25XaXRoOmUuZ29wc1RvQWxpZ25XaXRoLHBhcnQ6ZS5wYXJ0fSxzPWUucGxheWxpc3Quc2VnbWVudHNbZS5tZWRpYUluZGV4LTFdO3JldHVybiBzJiZzLnRpbWVsaW5lPT09dC50aW1lbGluZSYmKHMudmlkZW9UaW1pbmdJbmZvP2kuYmFzZVN0YXJ0VGltZT1zLnZpZGVvVGltaW5nSW5mby50cmFuc211eGVkRGVjb2RlRW5kOnMuYXVkaW9UaW1pbmdJbmZvJiYoaS5iYXNlU3RhcnRUaW1lPXMuYXVkaW9UaW1pbmdJbmZvLnRyYW5zbXV4ZWREZWNvZGVFbmQpKSx0LmtleSYmKHM9dC5rZXkuaXZ8fG5ldyBVaW50MzJBcnJheShbMCwwLDAsZS5tZWRpYUluZGV4K2UucGxheWxpc3QubWVkaWFTZXF1ZW5jZV0pLGkua2V5PXRoaXMuc2VnbWVudEtleSh0LmtleSksaS5rZXkuaXY9cyksdC5tYXAmJihpLm1hcD10aGlzLmluaXRTZWdtZW50Rm9yTWFwKHQubWFwKSksaX1zYXZlVHJhbnNmZXJTdGF0c18oZSl7dGhpcy5tZWRpYVJlcXVlc3RzKz0xLGUmJih0aGlzLm1lZGlhQnl0ZXNUcmFuc2ZlcnJlZCs9ZS5ieXRlc1JlY2VpdmVkLHRoaXMubWVkaWFUcmFuc2ZlckR1cmF0aW9uKz1lLnJvdW5kVHJpcFRpbWUpfXNhdmVCYW5kd2lkdGhSZWxhdGVkU3RhdHNfKGUsdCl7dGhpcy5wZW5kaW5nU2VnbWVudF8uYnl0ZUxlbmd0aD10LmJ5dGVzUmVjZWl2ZWQsZTwxLzYwP3RoaXMubG9nZ2VyXyhcIklnbm9yaW5nIHNlZ21lbnQncyBiYW5kd2lkdGggYmVjYXVzZSBpdHMgZHVyYXRpb24gb2YgXCIrZStcIiBpcyBsZXNzIHRoYW4gdGhlIG1pbiB0byByZWNvcmQgXCIrMS82MCk6KHRoaXMuYmFuZHdpZHRoPXQuYmFuZHdpZHRoLHRoaXMucm91bmRUcmlwPXQucm91bmRUcmlwVGltZSl9aGFuZGxlVGltZW91dF8oKXt0aGlzLm1lZGlhUmVxdWVzdHNUaW1lZG91dCs9MSx0aGlzLmJhbmR3aWR0aD0xLHRoaXMucm91bmRUcmlwPU5hTix0aGlzLnRyaWdnZXIoXCJiYW5kd2lkdGh1cGRhdGVcIiksdGhpcy50cmlnZ2VyKFwidGltZW91dFwiKX1zZWdtZW50UmVxdWVzdEZpbmlzaGVkXyhlLHQsaSl7aWYodGhpcy5jYWxsUXVldWVfLmxlbmd0aCl0aGlzLmNhbGxRdWV1ZV8ucHVzaCh0aGlzLnNlZ21lbnRSZXF1ZXN0RmluaXNoZWRfLmJpbmQodGhpcyxlLHQsaSkpO2Vsc2UgaWYodGhpcy5zYXZlVHJhbnNmZXJTdGF0c18odC5zdGF0cyksdGhpcy5wZW5kaW5nU2VnbWVudF8mJnQucmVxdWVzdElkPT09dGhpcy5wZW5kaW5nU2VnbWVudF8ucmVxdWVzdElkKXtpZihlKXJldHVybiB0aGlzLnBlbmRpbmdTZWdtZW50Xz1udWxsLHRoaXMuc3RhdGU9XCJSRUFEWVwiLGUuY29kZT09PXloLkFCT1JURUQ/dm9pZCAwOih0aGlzLnBhdXNlKCksZS5jb2RlPT09eWguVElNRU9VVD92b2lkIHRoaXMuaGFuZGxlVGltZW91dF8oKToodGhpcy5tZWRpYVJlcXVlc3RzRXJyb3JlZCs9MSx0aGlzLmVycm9yKGUpLHZvaWQgdGhpcy50cmlnZ2VyKFwiZXJyb3JcIikpKTtlPXRoaXMucGVuZGluZ1NlZ21lbnRfO3RoaXMuc2F2ZUJhbmR3aWR0aFJlbGF0ZWRTdGF0c18oZS5kdXJhdGlvbix0LnN0YXRzKSxlLmVuZE9mQWxsUmVxdWVzdHM9dC5lbmRPZkFsbFJlcXVlc3RzLGkuZ29wSW5mbyYmKHRoaXMuZ29wQnVmZmVyXz0oKGUsdCxpKT0+e2lmKCF0Lmxlbmd0aClyZXR1cm4gZTtpZihpKXJldHVybiB0LnNsaWNlKCk7dmFyIHM9dFswXS5wdHM7bGV0IHI9MDtmb3IocjtyPGUubGVuZ3RoJiYhKGVbcl0ucHRzPj1zKTtyKyspO3JldHVybiBlLnNsaWNlKDAscikuY29uY2F0KHQpfSkodGhpcy5nb3BCdWZmZXJfLGkuZ29wSW5mbyx0aGlzLnNhZmVBcHBlbmRfKSksdGhpcy5zdGF0ZT1cIkFQUEVORElOR1wiLHRoaXMudHJpZ2dlcihcImFwcGVuZGluZ1wiKSx0aGlzLndhaXRGb3JBcHBlbmRzVG9Db21wbGV0ZV8oZSl9fXNldFRpbWVNYXBwaW5nXyhlKXtlPXRoaXMuc3luY0NvbnRyb2xsZXJfLm1hcHBpbmdGb3JUaW1lbGluZShlKTtudWxsIT09ZSYmKHRoaXMudGltZU1hcHBpbmdfPWUpfXVwZGF0ZU1lZGlhU2Vjb25kc0xvYWRlZF8oZSl7XCJudW1iZXJcIj09dHlwZW9mIGUuc3RhcnQmJlwibnVtYmVyXCI9PXR5cGVvZiBlLmVuZD90aGlzLm1lZGlhU2Vjb25kc0xvYWRlZCs9ZS5lbmQtZS5zdGFydDp0aGlzLm1lZGlhU2Vjb25kc0xvYWRlZCs9ZS5kdXJhdGlvbn1zaG91bGRVcGRhdGVUcmFuc211eGVyVGltZXN0YW1wT2Zmc2V0XyhlKXtyZXR1cm4gbnVsbCE9PWUmJihcIm1haW5cIj09PXRoaXMubG9hZGVyVHlwZV8mJmUhPT10aGlzLnNvdXJjZVVwZGF0ZXJfLnZpZGVvVGltZXN0YW1wT2Zmc2V0KCl8fCF0aGlzLmF1ZGlvRGlzYWJsZWRfJiZlIT09dGhpcy5zb3VyY2VVcGRhdGVyXy5hdWRpb1RpbWVzdGFtcE9mZnNldCgpKX10cnVlU2VnbWVudFN0YXJ0Xyh7Y3VycmVudFN0YXJ0OmUscGxheWxpc3Q6dCxtZWRpYUluZGV4OmksZmlyc3RWaWRlb0ZyYW1lVGltZUZvckRhdGE6cyxjdXJyZW50VmlkZW9UaW1lc3RhbXBPZmZzZXQ6cix1c2VWaWRlb1RpbWluZ0luZm86bix2aWRlb1RpbWluZ0luZm86YSxhdWRpb1RpbWluZ0luZm86b30pe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBlP2U6bj8oZT10LnNlZ21lbnRzW2ktMV0sMCE9PWkmJmUmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBlLnN0YXJ0JiZlLmVuZD09PXMrcj9hLnN0YXJ0OnMpOm8uc3RhcnR9d2FpdEZvckFwcGVuZHNUb0NvbXBsZXRlXyhlKXt2YXIgdCxpLHM9dGhpcy5nZXRDdXJyZW50TWVkaWFJbmZvXyhlKTtzPyh7aGFzQXVkaW86cyxoYXNWaWRlbzppLGlzTXV4ZWQ6dH09cyxpPVwibWFpblwiPT09dGhpcy5sb2FkZXJUeXBlXyYmaSxzPSF0aGlzLmF1ZGlvRGlzYWJsZWRfJiZzJiYhdCxlLndhaXRpbmdPbkFwcGVuZHM9MCxlLmhhc0FwcGVuZGVkRGF0YV8/KGkmJmUud2FpdGluZ09uQXBwZW5kcysrLHMmJmUud2FpdGluZ09uQXBwZW5kcysrLGkmJnRoaXMuc291cmNlVXBkYXRlcl8udmlkZW9RdWV1ZUNhbGxiYWNrKHRoaXMuY2hlY2tBcHBlbmRzRG9uZV8uYmluZCh0aGlzLGUpKSxzJiZ0aGlzLnNvdXJjZVVwZGF0ZXJfLmF1ZGlvUXVldWVDYWxsYmFjayh0aGlzLmNoZWNrQXBwZW5kc0RvbmVfLmJpbmQodGhpcyxlKSkpOihlLnRpbWluZ0luZm98fFwibnVtYmVyXCIhPXR5cGVvZiBlLnRpbWVzdGFtcE9mZnNldHx8KHRoaXMuaXNQZW5kaW5nVGltZXN0YW1wT2Zmc2V0Xz0hMCksZS50aW1pbmdJbmZvPXtzdGFydDowfSxlLndhaXRpbmdPbkFwcGVuZHMrKyx0aGlzLmlzUGVuZGluZ1RpbWVzdGFtcE9mZnNldF98fCh0aGlzLnVwZGF0ZVNvdXJjZUJ1ZmZlclRpbWVzdGFtcE9mZnNldF8oZSksdGhpcy5wcm9jZXNzTWV0YWRhdGFRdWV1ZV8oKSksdGhpcy5jaGVja0FwcGVuZHNEb25lXyhlKSkpOih0aGlzLmVycm9yKHttZXNzYWdlOlwiTm8gc3RhcnRpbmcgbWVkaWEgcmV0dXJuZWQsIGxpa2VseSBkdWUgdG8gYW4gdW5zdXBwb3J0ZWQgbWVkaWEgZm9ybWF0LlwiLHBsYXlsaXN0RXhjbHVzaW9uRHVyYXRpb246MS8wfSksdGhpcy50cmlnZ2VyKFwiZXJyb3JcIikpfWNoZWNrQXBwZW5kc0RvbmVfKGUpe3RoaXMuY2hlY2tGb3JBYm9ydF8oZS5yZXF1ZXN0SWQpfHwoZS53YWl0aW5nT25BcHBlbmRzLS0sMD09PWUud2FpdGluZ09uQXBwZW5kcyYmdGhpcy5oYW5kbGVBcHBlbmRzRG9uZV8oKSl9Y2hlY2tGb3JJbGxlZ2FsTWVkaWFTd2l0Y2goZSl7aT10aGlzLmxvYWRlclR5cGVfLHQ9dGhpcy5nZXRDdXJyZW50TWVkaWFJbmZvXygpLGU9ZTt2YXIgdCxpPVwibWFpblwiPT09aSYmdCYmZT9lLmhhc0F1ZGlvfHxlLmhhc1ZpZGVvP3QuaGFzVmlkZW8mJiFlLmhhc1ZpZGVvP1wiT25seSBhdWRpbyBmb3VuZCBpbiBzZWdtZW50IHdoZW4gd2UgZXhwZWN0ZWQgdmlkZW8uIFdlIGNhbid0IHN3aXRjaCB0byBhdWRpbyBvbmx5IGZyb20gYSBzdHJlYW0gdGhhdCBoYWQgdmlkZW8uIFRvIGdldCByaWQgb2YgdGhpcyBtZXNzYWdlLCBwbGVhc2UgYWRkIGNvZGVjIGluZm9ybWF0aW9uIHRvIHRoZSBtYW5pZmVzdC5cIjohdC5oYXNWaWRlbyYmZS5oYXNWaWRlbz9cIlZpZGVvIGZvdW5kIGluIHNlZ21lbnQgd2hlbiB3ZSBleHBlY3RlZCBvbmx5IGF1ZGlvLiBXZSBjYW4ndCBzd2l0Y2ggdG8gYSBzdHJlYW0gd2l0aCB2aWRlbyBmcm9tIGFuIGF1ZGlvIG9ubHkgc3RyZWFtLiBUbyBnZXQgcmlkIG9mIHRoaXMgbWVzc2FnZSwgcGxlYXNlIGFkZCBjb2RlYyBpbmZvcm1hdGlvbiB0byB0aGUgbWFuaWZlc3QuXCI6bnVsbDpcIk5laXRoZXIgYXVkaW8gbm9yIHZpZGVvIGZvdW5kIGluIHNlZ21lbnQuXCI6bnVsbDtyZXR1cm4hIWkmJih0aGlzLmVycm9yKHttZXNzYWdlOmkscGxheWxpc3RFeGNsdXNpb25EdXJhdGlvbjoxLzB9KSx0aGlzLnRyaWdnZXIoXCJlcnJvclwiKSwhMCl9dXBkYXRlU291cmNlQnVmZmVyVGltZXN0YW1wT2Zmc2V0Xyh0KXtpZihudWxsIT09dC50aW1lc3RhbXBPZmZzZXQmJlwibnVtYmVyXCI9PXR5cGVvZiB0LnRpbWluZ0luZm8uc3RhcnQmJiF0LmNoYW5nZWRUaW1lc3RhbXBPZmZzZXQmJlwibWFpblwiPT09dGhpcy5sb2FkZXJUeXBlXyl7bGV0IGU9ITE7dC50aW1lc3RhbXBPZmZzZXQtPXRoaXMuZ2V0U2VnbWVudFN0YXJ0VGltZUZvclRpbWVzdGFtcE9mZnNldENhbGN1bGF0aW9uXyh7dmlkZW9UaW1pbmdJbmZvOnQuc2VnbWVudC52aWRlb1RpbWluZ0luZm8sYXVkaW9UaW1pbmdJbmZvOnQuc2VnbWVudC5hdWRpb1RpbWluZ0luZm8sdGltaW5nSW5mbzp0LnRpbWluZ0luZm99KSx0LmNoYW5nZWRUaW1lc3RhbXBPZmZzZXQ9ITAsdC50aW1lc3RhbXBPZmZzZXQhPT10aGlzLnNvdXJjZVVwZGF0ZXJfLnZpZGVvVGltZXN0YW1wT2Zmc2V0KCkmJih0aGlzLnNvdXJjZVVwZGF0ZXJfLnZpZGVvVGltZXN0YW1wT2Zmc2V0KHQudGltZXN0YW1wT2Zmc2V0KSxlPSEwKSx0LnRpbWVzdGFtcE9mZnNldCE9PXRoaXMuc291cmNlVXBkYXRlcl8uYXVkaW9UaW1lc3RhbXBPZmZzZXQoKSYmKHRoaXMuc291cmNlVXBkYXRlcl8uYXVkaW9UaW1lc3RhbXBPZmZzZXQodC50aW1lc3RhbXBPZmZzZXQpLGU9ITApLGUmJnRoaXMudHJpZ2dlcihcInRpbWVzdGFtcG9mZnNldFwiKX19Z2V0U2VnbWVudFN0YXJ0VGltZUZvclRpbWVzdGFtcE9mZnNldENhbGN1bGF0aW9uXyh7dmlkZW9UaW1pbmdJbmZvOmUsYXVkaW9UaW1pbmdJbmZvOnQsdGltaW5nSW5mbzppfSl7cmV0dXJuIHRoaXMudXNlRHRzRm9yVGltZXN0YW1wT2Zmc2V0Xz9lJiZcIm51bWJlclwiPT10eXBlb2YgZS50cmFuc211eGVkRGVjb2RlU3RhcnQ/ZS50cmFuc211eGVkRGVjb2RlU3RhcnQ6dCYmXCJudW1iZXJcIj09dHlwZW9mIHQudHJhbnNtdXhlZERlY29kZVN0YXJ0P3QudHJhbnNtdXhlZERlY29kZVN0YXJ0Omkuc3RhcnQ6aS5zdGFydH11cGRhdGVUaW1pbmdJbmZvRW5kXyhlKXtlLnRpbWluZ0luZm89ZS50aW1pbmdJbmZvfHx7fTt2YXIgdD10aGlzLmdldE1lZGlhSW5mb18oKSx0PVwibWFpblwiPT09dGhpcy5sb2FkZXJUeXBlXyYmdCYmdC5oYXNWaWRlbyYmZS52aWRlb1RpbWluZ0luZm8/ZS52aWRlb1RpbWluZ0luZm86ZS5hdWRpb1RpbWluZ0luZm87dCYmKGUudGltaW5nSW5mby5lbmQ9XCJudW1iZXJcIj09dHlwZW9mIHQuZW5kP3QuZW5kOnQuc3RhcnQrZS5kdXJhdGlvbil9aGFuZGxlQXBwZW5kc0RvbmVfKCl7dmFyIGUsdCxpO3RoaXMucGVuZGluZ1NlZ21lbnRfJiZ0aGlzLnRyaWdnZXIoXCJhcHBlbmRzZG9uZVwiKSx0aGlzLnBlbmRpbmdTZWdtZW50Xz8oZT10aGlzLnBlbmRpbmdTZWdtZW50Xyx0aGlzLnVwZGF0ZVRpbWluZ0luZm9FbmRfKGUpLHRoaXMuc2hvdWxkU2F2ZVNlZ21lbnRUaW1pbmdJbmZvXyYmdGhpcy5zeW5jQ29udHJvbGxlcl8uc2F2ZVNlZ21lbnRUaW1pbmdJbmZvKHtzZWdtZW50SW5mbzplLHNob3VsZFNhdmVUaW1lbGluZU1hcHBpbmc6XCJtYWluXCI9PT10aGlzLmxvYWRlclR5cGVffSksKHQ9JGgoZSx0aGlzLnNvdXJjZVR5cGVfKSkmJihcIndhcm5cIj09PXQuc2V2ZXJpdHk/VC5sb2cud2Fybih0Lm1lc3NhZ2UpOnRoaXMubG9nZ2VyXyh0Lm1lc3NhZ2UpKSx0aGlzLnJlY29yZFRocm91Z2hwdXRfKGUpLHRoaXMucGVuZGluZ1NlZ21lbnRfPW51bGwsdGhpcy5zdGF0ZT1cIlJFQURZXCIsZS5pc1N5bmNSZXF1ZXN0JiYodGhpcy50cmlnZ2VyKFwic3luY2luZm91cGRhdGVcIiksIWUuaGFzQXBwZW5kZWREYXRhXyk/dGhpcy5sb2dnZXJfKFwiVGhyb3dpbmcgYXdheSB1bi1hcHBlbmRlZCBzeW5jIHJlcXVlc3QgXCIramgoZSkpOih0aGlzLmxvZ2dlcl8oXCJBcHBlbmRlZCBcIitqaChlKSksdGhpcy5hZGRTZWdtZW50TWV0YWRhdGFDdWVfKGUpLHRoaXMuZmV0Y2hBdEJ1ZmZlcl89ITAsdGhpcy5jdXJyZW50VGltZWxpbmVfIT09ZS50aW1lbGluZSYmKHRoaXMudGltZWxpbmVDaGFuZ2VDb250cm9sbGVyXy5sYXN0VGltZWxpbmVDaGFuZ2Uoe3R5cGU6dGhpcy5sb2FkZXJUeXBlXyxmcm9tOnRoaXMuY3VycmVudFRpbWVsaW5lXyx0bzplLnRpbWVsaW5lfSksXCJtYWluXCIhPT10aGlzLmxvYWRlclR5cGVffHx0aGlzLmF1ZGlvRGlzYWJsZWRffHx0aGlzLnRpbWVsaW5lQ2hhbmdlQ29udHJvbGxlcl8ubGFzdFRpbWVsaW5lQ2hhbmdlKHt0eXBlOlwiYXVkaW9cIixmcm9tOnRoaXMuY3VycmVudFRpbWVsaW5lXyx0bzplLnRpbWVsaW5lfSkpLHRoaXMuY3VycmVudFRpbWVsaW5lXz1lLnRpbWVsaW5lLHRoaXMudHJpZ2dlcihcInN5bmNpbmZvdXBkYXRlXCIpLHQ9ZS5zZWdtZW50LGk9ZS5wYXJ0LHQ9dC5lbmQmJnRoaXMuY3VycmVudFRpbWVfKCktdC5lbmQ+MyplLnBsYXlsaXN0LnRhcmdldER1cmF0aW9uLGk9aSYmaS5lbmQmJnRoaXMuY3VycmVudFRpbWVfKCktaS5lbmQ+MyplLnBsYXlsaXN0LnBhcnRUYXJnZXREdXJhdGlvbix0fHxpPyh0aGlzLmxvZ2dlcl8oYGJhZCAke3Q/XCJzZWdtZW50XCI6XCJwYXJ0XCJ9IGAramgoZSkpLHRoaXMucmVzZXRFdmVyeXRoaW5nKCkpOihudWxsIT09dGhpcy5tZWRpYUluZGV4JiZ0aGlzLnRyaWdnZXIoXCJiYW5kd2lkdGh1cGRhdGVcIiksdGhpcy50cmlnZ2VyKFwicHJvZ3Jlc3NcIiksdGhpcy5tZWRpYUluZGV4PWUubWVkaWFJbmRleCx0aGlzLnBhcnRJbmRleD1lLnBhcnRJbmRleCx0aGlzLmlzRW5kT2ZTdHJlYW1fKGUubWVkaWFJbmRleCxlLnBsYXlsaXN0LGUucGFydEluZGV4KSYmdGhpcy5lbmRPZlN0cmVhbSgpLHRoaXMudHJpZ2dlcihcImFwcGVuZGVkXCIpLGUuaGFzQXBwZW5kZWREYXRhXyYmdGhpcy5tZWRpYUFwcGVuZHMrKyx0aGlzLnBhdXNlZCgpfHx0aGlzLm1vbml0b3JCdWZmZXJfKCkpKSk6KHRoaXMuc3RhdGU9XCJSRUFEWVwiLHRoaXMucGF1c2VkKCl8fHRoaXMubW9uaXRvckJ1ZmZlcl8oKSl9cmVjb3JkVGhyb3VnaHB1dF8oZSl7dmFyIHQsaTtlLmR1cmF0aW9uPDEvNjA/dGhpcy5sb2dnZXJfKFwiSWdub3Jpbmcgc2VnbWVudCdzIHRocm91Z2hwdXQgYmVjYXVzZSBpdHMgZHVyYXRpb24gb2YgXCIrZS5kdXJhdGlvbitcIiBpcyBsZXNzIHRoYW4gdGhlIG1pbiB0byByZWNvcmQgXCIrMS82MCk6KHQ9dGhpcy50aHJvdWdocHV0LnJhdGUsaT1EYXRlLm5vdygpLWUuZW5kT2ZBbGxSZXF1ZXN0cysxLGU9TWF0aC5mbG9vcihlLmJ5dGVMZW5ndGgvaSo4KjFlMyksdGhpcy50aHJvdWdocHV0LnJhdGUrPShlLXQpLysrdGhpcy50aHJvdWdocHV0LmNvdW50KX1hZGRTZWdtZW50TWV0YWRhdGFDdWVfKGUpe3ZhciB0LGkscyxyO3RoaXMuc2VnbWVudE1ldGFkYXRhVHJhY2tfJiYodD0ocj1lLnNlZ21lbnQpLnN0YXJ0LGk9ci5lbmQsRmgodCkpJiZGaChpKSYmKFVoKHQsaSx0aGlzLnNlZ21lbnRNZXRhZGF0YVRyYWNrXykscz13aW5kb3cuV2ViS2l0RGF0YUN1ZXx8d2luZG93LlZUVEN1ZSxyPXtjdXN0b206ci5jdXN0b20sZGF0ZVRpbWVPYmplY3Q6ci5kYXRlVGltZU9iamVjdCxkYXRlVGltZVN0cmluZzpyLmRhdGVUaW1lU3RyaW5nLGJhbmR3aWR0aDplLnBsYXlsaXN0LmF0dHJpYnV0ZXMuQkFORFdJRFRILHJlc29sdXRpb246ZS5wbGF5bGlzdC5hdHRyaWJ1dGVzLlJFU09MVVRJT04sY29kZWNzOmUucGxheWxpc3QuYXR0cmlidXRlcy5DT0RFQ1MsYnl0ZUxlbmd0aDplLmJ5dGVMZW5ndGgsdXJpOmUudXJpLHRpbWVsaW5lOmUudGltZWxpbmUscGxheWxpc3Q6ZS5wbGF5bGlzdC5pZCxzdGFydDp0LGVuZDppfSwoZT1uZXcgcyh0LGksSlNPTi5zdHJpbmdpZnkocikpKS52YWx1ZT1yLHRoaXMuc2VnbWVudE1ldGFkYXRhVHJhY2tfLmFkZEN1ZShlKSl9fWZ1bmN0aW9uIEdoKCl7fWZ1bmN0aW9uIHpoKGUpe3JldHVyblwic3RyaW5nXCIhPXR5cGVvZiBlP2U6ZS5yZXBsYWNlKC8uLyxlPT5lLnRvVXBwZXJDYXNlKCkpfWNvbnN0IFhoPVtcInZpZGVvXCIsXCJhdWRpb1wiXSxLaD0oZSx0KT0+e3ZhciBpPXRbZStcIkJ1ZmZlclwiXTtyZXR1cm4gaSYmaS51cGRhdGluZ3x8dC5xdWV1ZVBlbmRpbmdbZV19LFloPShpLHMpPT57aWYoMCE9PXMucXVldWUubGVuZ3RoKXtsZXQgZT0wLHQ9cy5xdWV1ZVtlXTtpZihcIm1lZGlhU291cmNlXCI9PT10LnR5cGUpcy51cGRhdGluZygpfHxcImNsb3NlZFwiPT09cy5tZWRpYVNvdXJjZS5yZWFkeVN0YXRlfHwocy5xdWV1ZS5zaGlmdCgpLHQuYWN0aW9uKHMpLHQuZG9uZUZuJiZ0LmRvbmVGbigpLFloKFwiYXVkaW9cIixzKSxZaChcInZpZGVvXCIscykpO2Vsc2UgaWYoXCJtZWRpYVNvdXJjZVwiIT09aSYmcy5yZWFkeSgpJiZcImNsb3NlZFwiIT09cy5tZWRpYVNvdXJjZS5yZWFkeVN0YXRlJiYhS2goaSxzKSl7aWYodC50eXBlIT09aSl7aWYobnVsbD09PShlPSgodCxpKT0+e2ZvcihsZXQgZT0wO2U8aS5sZW5ndGg7ZSsrKXt2YXIgcz1pW2VdO2lmKFwibWVkaWFTb3VyY2VcIj09PXMudHlwZSlyZXR1cm4gbnVsbDtpZihzLnR5cGU9PT10KXJldHVybiBlfXJldHVybiBudWxsfSkoaSxzLnF1ZXVlKSkpcmV0dXJuO3Q9cy5xdWV1ZVtlXX1zLnF1ZXVlLnNwbGljZShlLDEpLChzLnF1ZXVlUGVuZGluZ1tpXT10KS5hY3Rpb24oaSxzKSx0LmRvbmVGbnx8KHMucXVldWVQZW5kaW5nW2ldPW51bGwsWWgoaSxzKSl9fX0sUWg9KGUsdCk9Pnt2YXIgaT10W2UrXCJCdWZmZXJcIl0scz16aChlKTtpJiYoaS5yZW1vdmVFdmVudExpc3RlbmVyKFwidXBkYXRlZW5kXCIsdFtgb24ke3N9VXBkYXRlRW5kX2BdKSxpLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLHRbYG9uJHtzfUVycm9yX2BdKSx0LmNvZGVjc1tlXT1udWxsLHRbZStcIkJ1ZmZlclwiXT1udWxsKX0sSmg9KGUsdCk9PmUmJnQmJi0xIT09QXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChlLnNvdXJjZUJ1ZmZlcnMsdCksWmg9e2FwcGVuZEJ1ZmZlcjoocyxyLG4pPT4odCxpKT0+e3ZhciBlPWlbdCtcIkJ1ZmZlclwiXTtpZihKaChpLm1lZGlhU291cmNlLGUpKXtpLmxvZ2dlcl8oYEFwcGVuZGluZyBzZWdtZW50ICR7ci5tZWRpYUluZGV4fSdzICR7cy5sZW5ndGh9IGJ5dGVzIHRvICR7dH1CdWZmZXJgKTt0cnl7ZS5hcHBlbmRCdWZmZXIocyl9Y2F0Y2goZSl7aS5sb2dnZXJfKGBFcnJvciB3aXRoIGNvZGUgJHtlLmNvZGV9IGArKDIyPT09ZS5jb2RlP1wiKFFVT1RBX0VYQ0VFREVEX0VSUikgXCI6XCJcIikrYHdoZW4gYXBwZW5kaW5nIHNlZ21lbnQgJHtyLm1lZGlhSW5kZXh9IHRvICR7dH1CdWZmZXJgKSxpLnF1ZXVlUGVuZGluZ1t0XT1udWxsLG4oZSl9fX0scmVtb3ZlOihzLHIpPT4odCxpKT0+e3ZhciBlPWlbdCtcIkJ1ZmZlclwiXTtpZihKaChpLm1lZGlhU291cmNlLGUpKXtpLmxvZ2dlcl8oYFJlbW92aW5nICR7c30gdG8gJHtyfSBmcm9tICR7dH1CdWZmZXJgKTt0cnl7ZS5yZW1vdmUocyxyKX1jYXRjaChlKXtpLmxvZ2dlcl8oYFJlbW92ZSAke3N9IHRvICR7cn0gZnJvbSAke3R9QnVmZmVyIGZhaWxlZGApfX19LHRpbWVzdGFtcE9mZnNldDpzPT4oZSx0KT0+e3ZhciBpPXRbZStcIkJ1ZmZlclwiXTtKaCh0Lm1lZGlhU291cmNlLGkpJiYodC5sb2dnZXJfKGBTZXR0aW5nICR7ZX10aW1lc3RhbXBPZmZzZXQgdG8gYCtzKSxpLnRpbWVzdGFtcE9mZnNldD1zKX0sY2FsbGJhY2s6aT0+KGUsdCk9PntpKCl9LGVuZE9mU3RyZWFtOnQ9PmU9PntpZihcIm9wZW5cIj09PWUubWVkaWFTb3VyY2UucmVhZHlTdGF0ZSl7ZS5sb2dnZXJfKGBDYWxsaW5nIG1lZGlhU291cmNlIGVuZE9mU3RyZWFtKCR7dHx8XCJcIn0pYCk7dHJ5e2UubWVkaWFTb3VyY2UuZW5kT2ZTdHJlYW0odCl9Y2F0Y2goZSl7VC5sb2cud2FybihcIkZhaWxlZCB0byBjYWxsIG1lZGlhIHNvdXJjZSBlbmRPZlN0cmVhbVwiLGUpfX19LGR1cmF0aW9uOnQ9PmU9PntlLmxvZ2dlcl8oXCJTZXR0aW5nIG1lZGlhU291cmNlIGR1cmF0aW9uIHRvIFwiK3QpO3RyeXtlLm1lZGlhU291cmNlLmR1cmF0aW9uPXR9Y2F0Y2goZSl7VC5sb2cud2FybihcIkZhaWxlZCB0byBzZXQgbWVkaWEgc291cmNlIGR1cmF0aW9uXCIsZSl9fSxhYm9ydDooKT0+KHQsZSk9PntpZihcIm9wZW5cIj09PWUubWVkaWFTb3VyY2UucmVhZHlTdGF0ZSl7dmFyIGk9ZVt0K1wiQnVmZmVyXCJdO2lmKEpoKGUubWVkaWFTb3VyY2UsaSkpe2UubG9nZ2VyXyhgY2FsbGluZyBhYm9ydCBvbiAke3R9QnVmZmVyYCk7dHJ5e2kuYWJvcnQoKX1jYXRjaChlKXtULmxvZy53YXJuKGBGYWlsZWQgdG8gYWJvcnQgb24gJHt0fUJ1ZmZlcmAsZSl9fX19LGFkZFNvdXJjZUJ1ZmZlcjoocyxyKT0+ZT0+e3ZhciB0PXpoKHMpLGk9Qm4ociksaT0oZS5sb2dnZXJfKGBBZGRpbmcgJHtzfUJ1ZmZlciB3aXRoIGNvZGVjICR7cn0gdG8gbWVkaWFTb3VyY2VgKSxlLm1lZGlhU291cmNlLmFkZFNvdXJjZUJ1ZmZlcihpKSk7aS5hZGRFdmVudExpc3RlbmVyKFwidXBkYXRlZW5kXCIsZVtgb24ke3R9VXBkYXRlRW5kX2BdKSxpLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLGVbYG9uJHt0fUVycm9yX2BdKSxlLmNvZGVjc1tzXT1yLGVbcytcIkJ1ZmZlclwiXT1pfSxyZW1vdmVTb3VyY2VCdWZmZXI6aT0+ZT0+e3ZhciB0PWVbaStcIkJ1ZmZlclwiXTtpZihRaChpLGUpLEpoKGUubWVkaWFTb3VyY2UsdCkpe2UubG9nZ2VyXyhgUmVtb3ZpbmcgJHtpfUJ1ZmZlciB3aXRoIGNvZGVjICR7ZS5jb2RlY3NbaV19IGZyb20gbWVkaWFTb3VyY2VgKTt0cnl7ZS5tZWRpYVNvdXJjZS5yZW1vdmVTb3VyY2VCdWZmZXIodCl9Y2F0Y2goZSl7VC5sb2cud2FybihgRmFpbGVkIHRvIHJlbW92ZVNvdXJjZUJ1ZmZlciAke2l9QnVmZmVyYCxlKX19fSxjaGFuZ2VUeXBlOnI9PihlLHQpPT57dmFyIGk9dFtlK1wiQnVmZmVyXCJdLHM9Qm4ocik7SmgodC5tZWRpYVNvdXJjZSxpKSYmdC5jb2RlY3NbZV0hPT1yJiYodC5sb2dnZXJfKGBjaGFuZ2luZyAke2V9QnVmZmVyIGNvZGVjIGZyb20gJHt0LmNvZGVjc1tlXX0gdG8gYCtyKSxpLmNoYW5nZVR5cGUocyksdC5jb2RlY3NbZV09cil9fSxldT0oe3R5cGU6ZSxzb3VyY2VVcGRhdGVyOnQsYWN0aW9uOmksZG9uZUZuOnMsbmFtZTpyfSk9Pnt0LnF1ZXVlLnB1c2goe3R5cGU6ZSxhY3Rpb246aSxkb25lRm46cyxuYW1lOnJ9KSxZaChlLHQpfSx0dT0oaSxzKT0+ZT0+e3ZhciB0O3MucXVldWVQZW5kaW5nW2ldJiYodD1zLnF1ZXVlUGVuZGluZ1tpXS5kb25lRm4scy5xdWV1ZVBlbmRpbmdbaV09bnVsbCx0KSYmdChzW2krXCJFcnJvcl9cIl0pLFloKGkscyl9O2NsYXNzIGl1IGV4dGVuZHMgVC5FdmVudFRhcmdldHtjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHRoaXMubWVkaWFTb3VyY2U9ZSx0aGlzLnNvdXJjZW9wZW5MaXN0ZW5lcl89KCk9PlloKFwibWVkaWFTb3VyY2VcIix0aGlzKSx0aGlzLm1lZGlhU291cmNlLmFkZEV2ZW50TGlzdGVuZXIoXCJzb3VyY2VvcGVuXCIsdGhpcy5zb3VyY2VvcGVuTGlzdGVuZXJfKSx0aGlzLmxvZ2dlcl89QmwoXCJTb3VyY2VVcGRhdGVyXCIpLHRoaXMuYXVkaW9UaW1lc3RhbXBPZmZzZXRfPTAsdGhpcy52aWRlb1RpbWVzdGFtcE9mZnNldF89MCx0aGlzLnF1ZXVlPVtdLHRoaXMucXVldWVQZW5kaW5nPXthdWRpbzpudWxsLHZpZGVvOm51bGx9LHRoaXMuZGVsYXllZEF1ZGlvQXBwZW5kUXVldWVfPVtdLHRoaXMudmlkZW9BcHBlbmRRdWV1ZWRfPSExLHRoaXMuY29kZWNzPXt9LHRoaXMub25WaWRlb1VwZGF0ZUVuZF89dHUoXCJ2aWRlb1wiLHRoaXMpLHRoaXMub25BdWRpb1VwZGF0ZUVuZF89dHUoXCJhdWRpb1wiLHRoaXMpLHRoaXMub25WaWRlb0Vycm9yXz1lPT57dGhpcy52aWRlb0Vycm9yXz1lfSx0aGlzLm9uQXVkaW9FcnJvcl89ZT0+e3RoaXMuYXVkaW9FcnJvcl89ZX0sdGhpcy5jcmVhdGVkU291cmNlQnVmZmVyc189ITEsdGhpcy5pbml0aWFsaXplZEVtZV89ITEsdGhpcy50cmlnZ2VyZWRSZWFkeV89ITF9aW5pdGlhbGl6ZWRFbWUoKXt0aGlzLmluaXRpYWxpemVkRW1lXz0hMCx0aGlzLnRyaWdnZXJSZWFkeSgpfWhhc0NyZWF0ZWRTb3VyY2VCdWZmZXJzKCl7cmV0dXJuIHRoaXMuY3JlYXRlZFNvdXJjZUJ1ZmZlcnNffWhhc0luaXRpYWxpemVkQW55RW1lKCl7cmV0dXJuIHRoaXMuaW5pdGlhbGl6ZWRFbWVffXJlYWR5KCl7cmV0dXJuIHRoaXMuaGFzQ3JlYXRlZFNvdXJjZUJ1ZmZlcnMoKSYmdGhpcy5oYXNJbml0aWFsaXplZEFueUVtZSgpfWNyZWF0ZVNvdXJjZUJ1ZmZlcnMoZSl7dGhpcy5oYXNDcmVhdGVkU291cmNlQnVmZmVycygpfHwodGhpcy5hZGRPckNoYW5nZVNvdXJjZUJ1ZmZlcnMoZSksdGhpcy5jcmVhdGVkU291cmNlQnVmZmVyc189ITAsdGhpcy50cmlnZ2VyKFwiY3JlYXRlZHNvdXJjZWJ1ZmZlcnNcIiksdGhpcy50cmlnZ2VyUmVhZHkoKSl9dHJpZ2dlclJlYWR5KCl7dGhpcy5yZWFkeSgpJiYhdGhpcy50cmlnZ2VyZWRSZWFkeV8mJih0aGlzLnRyaWdnZXJlZFJlYWR5Xz0hMCx0aGlzLnRyaWdnZXIoXCJyZWFkeVwiKSl9YWRkU291cmNlQnVmZmVyKGUsdCl7ZXUoe3R5cGU6XCJtZWRpYVNvdXJjZVwiLHNvdXJjZVVwZGF0ZXI6dGhpcyxhY3Rpb246WmguYWRkU291cmNlQnVmZmVyKGUsdCksbmFtZTpcImFkZFNvdXJjZUJ1ZmZlclwifSl9YWJvcnQoZSl7ZXUoe3R5cGU6ZSxzb3VyY2VVcGRhdGVyOnRoaXMsYWN0aW9uOlpoLmFib3J0KGUpLG5hbWU6XCJhYm9ydFwifSl9cmVtb3ZlU291cmNlQnVmZmVyKGUpe3RoaXMuY2FuUmVtb3ZlU291cmNlQnVmZmVyKCk/ZXUoe3R5cGU6XCJtZWRpYVNvdXJjZVwiLHNvdXJjZVVwZGF0ZXI6dGhpcyxhY3Rpb246WmgucmVtb3ZlU291cmNlQnVmZmVyKGUpLG5hbWU6XCJyZW1vdmVTb3VyY2VCdWZmZXJcIn0pOlQubG9nLmVycm9yKFwicmVtb3ZlU291cmNlQnVmZmVyIGlzIG5vdCBzdXBwb3J0ZWQhXCIpfWNhblJlbW92ZVNvdXJjZUJ1ZmZlcigpe3JldHVybiFULmJyb3dzZXIuSUVfVkVSU0lPTiYmIVQuYnJvd3Nlci5JU19GSVJFRk9YJiZ3aW5kb3cuTWVkaWFTb3VyY2UmJndpbmRvdy5NZWRpYVNvdXJjZS5wcm90b3R5cGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHdpbmRvdy5NZWRpYVNvdXJjZS5wcm90b3R5cGUucmVtb3ZlU291cmNlQnVmZmVyfXN0YXRpYyBjYW5DaGFuZ2VUeXBlKCl7cmV0dXJuIHdpbmRvdy5Tb3VyY2VCdWZmZXImJndpbmRvdy5Tb3VyY2VCdWZmZXIucHJvdG90eXBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB3aW5kb3cuU291cmNlQnVmZmVyLnByb3RvdHlwZS5jaGFuZ2VUeXBlfWNhbkNoYW5nZVR5cGUoKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5jYW5DaGFuZ2VUeXBlKCl9Y2hhbmdlVHlwZShlLHQpe3RoaXMuY2FuQ2hhbmdlVHlwZSgpP2V1KHt0eXBlOmUsc291cmNlVXBkYXRlcjp0aGlzLGFjdGlvbjpaaC5jaGFuZ2VUeXBlKHQpLG5hbWU6XCJjaGFuZ2VUeXBlXCJ9KTpULmxvZy5lcnJvcihcImNoYW5nZVR5cGUgaXMgbm90IHN1cHBvcnRlZCFcIil9YWRkT3JDaGFuZ2VTb3VyY2VCdWZmZXJzKGkpe2lmKCFpfHxcIm9iamVjdFwiIT10eXBlb2YgaXx8MD09PU9iamVjdC5rZXlzKGkpLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgYWRkT3JDaGFuZ2VTb3VyY2VCdWZmZXJzIHRvIHVuZGVmaW5lZCBjb2RlY3NcIik7T2JqZWN0LmtleXMoaSkuZm9yRWFjaChlPT57dmFyIHQ9aVtlXTtpZighdGhpcy5oYXNDcmVhdGVkU291cmNlQnVmZmVycygpKXJldHVybiB0aGlzLmFkZFNvdXJjZUJ1ZmZlcihlLHQpO3RoaXMuY2FuQ2hhbmdlVHlwZSgpJiZ0aGlzLmNoYW5nZVR5cGUoZSx0KX0pfWFwcGVuZEJ1ZmZlcihlLHQpe3ZhcntzZWdtZW50SW5mbzppLHR5cGU6cyxieXRlczpyfT1lO3RoaXMucHJvY2Vzc2VkQXBwZW5kXz0hMCxcImF1ZGlvXCI9PT1zJiZ0aGlzLnZpZGVvQnVmZmVyJiYhdGhpcy52aWRlb0FwcGVuZFF1ZXVlZF8/KHRoaXMuZGVsYXllZEF1ZGlvQXBwZW5kUXVldWVfLnB1c2goW2UsdF0pLHRoaXMubG9nZ2VyXyhgZGVsYXllZCBhdWRpbyBhcHBlbmQgb2YgJHtyLmxlbmd0aH0gdW50aWwgdmlkZW8gYXBwZW5kYCkpOihlPXQsZXUoe3R5cGU6cyxzb3VyY2VVcGRhdGVyOnRoaXMsYWN0aW9uOlpoLmFwcGVuZEJ1ZmZlcihyLGl8fHttZWRpYUluZGV4Oi0xfSxlKSxkb25lRm46dCxuYW1lOlwiYXBwZW5kQnVmZmVyXCJ9KSxcInZpZGVvXCI9PT1zJiYodGhpcy52aWRlb0FwcGVuZFF1ZXVlZF89ITAsdGhpcy5kZWxheWVkQXVkaW9BcHBlbmRRdWV1ZV8ubGVuZ3RoKSYmKHI9dGhpcy5kZWxheWVkQXVkaW9BcHBlbmRRdWV1ZV8uc2xpY2UoKSx0aGlzLmxvZ2dlcl8oYHF1ZXVpbmcgZGVsYXllZCBhdWRpbyAke3IubGVuZ3RofSBhcHBlbmRCdWZmZXJzYCksdGhpcy5kZWxheWVkQXVkaW9BcHBlbmRRdWV1ZV8ubGVuZ3RoPTAsci5mb3JFYWNoKGU9Pnt0aGlzLmFwcGVuZEJ1ZmZlci5hcHBseSh0aGlzLGUpfSkpKX1hdWRpb0J1ZmZlcmVkKCl7cmV0dXJuIEpoKHRoaXMubWVkaWFTb3VyY2UsdGhpcy5hdWRpb0J1ZmZlcikmJnRoaXMuYXVkaW9CdWZmZXIuYnVmZmVyZWR8fEZsKCl9dmlkZW9CdWZmZXJlZCgpe3JldHVybiBKaCh0aGlzLm1lZGlhU291cmNlLHRoaXMudmlkZW9CdWZmZXIpJiZ0aGlzLnZpZGVvQnVmZmVyLmJ1ZmZlcmVkfHxGbCgpfWJ1ZmZlcmVkKCl7dmFyIGU9SmgodGhpcy5tZWRpYVNvdXJjZSx0aGlzLnZpZGVvQnVmZmVyKT90aGlzLnZpZGVvQnVmZmVyOm51bGwsdD1KaCh0aGlzLm1lZGlhU291cmNlLHRoaXMuYXVkaW9CdWZmZXIpP3RoaXMuYXVkaW9CdWZmZXI6bnVsbDtpZih0JiYhZSlyZXR1cm4gdGhpcy5hdWRpb0J1ZmZlcmVkKCk7aWYoZSYmIXQpcmV0dXJuIHRoaXMudmlkZW9CdWZmZXJlZCgpO3t2YXIgcj10aGlzLmF1ZGlvQnVmZmVyZWQoKTt2YXIgbj10aGlzLnZpZGVvQnVmZmVyZWQoKTtsZXQgZT1udWxsLHQ9bnVsbCxpPTA7dmFyIGE9W10sbz1bXTtpZighKHImJnIubGVuZ3RoJiZuJiZuLmxlbmd0aCkpcmV0dXJuIEZsKCk7bGV0IHM9ci5sZW5ndGg7Zm9yKDtzLS07KWEucHVzaCh7dGltZTpyLnN0YXJ0KHMpLHR5cGU6XCJzdGFydFwifSksYS5wdXNoKHt0aW1lOnIuZW5kKHMpLHR5cGU6XCJlbmRcIn0pO2ZvcihzPW4ubGVuZ3RoO3MtLTspYS5wdXNoKHt0aW1lOm4uc3RhcnQocyksdHlwZTpcInN0YXJ0XCJ9KSxhLnB1c2goe3RpbWU6bi5lbmQocyksdHlwZTpcImVuZFwifSk7Zm9yKGEuc29ydChmdW5jdGlvbihlLHQpe3JldHVybiBlLnRpbWUtdC50aW1lfSkscz0wO3M8YS5sZW5ndGg7cysrKVwic3RhcnRcIj09PWFbc10udHlwZT8yPT09KytpJiYoZT1hW3NdLnRpbWUpOlwiZW5kXCI9PT1hW3NdLnR5cGUmJjE9PT0tLWkmJih0PWFbc10udGltZSksbnVsbCE9PWUmJm51bGwhPT10JiYoby5wdXNoKFtlLHRdKSxlPW51bGwsdD1udWxsKTtyZXR1cm4gRmwobyk7cmV0dXJufX1zZXREdXJhdGlvbihlLHQ9R2gpe2V1KHt0eXBlOlwibWVkaWFTb3VyY2VcIixzb3VyY2VVcGRhdGVyOnRoaXMsYWN0aW9uOlpoLmR1cmF0aW9uKGUpLG5hbWU6XCJkdXJhdGlvblwiLGRvbmVGbjp0fSl9ZW5kT2ZTdHJlYW0oZT1udWxsLHQ9R2gpe1wic3RyaW5nXCIhPXR5cGVvZiBlJiYoZT12b2lkIDApLGV1KHt0eXBlOlwibWVkaWFTb3VyY2VcIixzb3VyY2VVcGRhdGVyOnRoaXMsYWN0aW9uOlpoLmVuZE9mU3RyZWFtKGUpLG5hbWU6XCJlbmRPZlN0cmVhbVwiLGRvbmVGbjp0fSl9cmVtb3ZlQXVkaW8oZSx0LGk9R2gpe3RoaXMuYXVkaW9CdWZmZXJlZCgpLmxlbmd0aCYmMCE9PXRoaXMuYXVkaW9CdWZmZXJlZCgpLmVuZCgwKT9ldSh7dHlwZTpcImF1ZGlvXCIsc291cmNlVXBkYXRlcjp0aGlzLGFjdGlvbjpaaC5yZW1vdmUoZSx0KSxkb25lRm46aSxuYW1lOlwicmVtb3ZlXCJ9KTppKCl9cmVtb3ZlVmlkZW8oZSx0LGk9R2gpe3RoaXMudmlkZW9CdWZmZXJlZCgpLmxlbmd0aCYmMCE9PXRoaXMudmlkZW9CdWZmZXJlZCgpLmVuZCgwKT9ldSh7dHlwZTpcInZpZGVvXCIsc291cmNlVXBkYXRlcjp0aGlzLGFjdGlvbjpaaC5yZW1vdmUoZSx0KSxkb25lRm46aSxuYW1lOlwicmVtb3ZlXCJ9KTppKCl9dXBkYXRpbmcoKXtyZXR1cm4hKCFLaChcImF1ZGlvXCIsdGhpcykmJiFLaChcInZpZGVvXCIsdGhpcykpfWF1ZGlvVGltZXN0YW1wT2Zmc2V0KGUpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBlJiZ0aGlzLmF1ZGlvQnVmZmVyJiZ0aGlzLmF1ZGlvVGltZXN0YW1wT2Zmc2V0XyE9PWUmJihldSh7dHlwZTpcImF1ZGlvXCIsc291cmNlVXBkYXRlcjp0aGlzLGFjdGlvbjpaaC50aW1lc3RhbXBPZmZzZXQoZSksbmFtZTpcInRpbWVzdGFtcE9mZnNldFwifSksdGhpcy5hdWRpb1RpbWVzdGFtcE9mZnNldF89ZSksdGhpcy5hdWRpb1RpbWVzdGFtcE9mZnNldF99dmlkZW9UaW1lc3RhbXBPZmZzZXQoZSl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGUmJnRoaXMudmlkZW9CdWZmZXImJnRoaXMudmlkZW9UaW1lc3RhbXBPZmZzZXQhPT1lJiYoZXUoe3R5cGU6XCJ2aWRlb1wiLHNvdXJjZVVwZGF0ZXI6dGhpcyxhY3Rpb246WmgudGltZXN0YW1wT2Zmc2V0KGUpLG5hbWU6XCJ0aW1lc3RhbXBPZmZzZXRcIn0pLHRoaXMudmlkZW9UaW1lc3RhbXBPZmZzZXRfPWUpLHRoaXMudmlkZW9UaW1lc3RhbXBPZmZzZXRffWF1ZGlvUXVldWVDYWxsYmFjayhlKXt0aGlzLmF1ZGlvQnVmZmVyJiZldSh7dHlwZTpcImF1ZGlvXCIsc291cmNlVXBkYXRlcjp0aGlzLGFjdGlvbjpaaC5jYWxsYmFjayhlKSxuYW1lOlwiY2FsbGJhY2tcIn0pfXZpZGVvUXVldWVDYWxsYmFjayhlKXt0aGlzLnZpZGVvQnVmZmVyJiZldSh7dHlwZTpcInZpZGVvXCIsc291cmNlVXBkYXRlcjp0aGlzLGFjdGlvbjpaaC5jYWxsYmFjayhlKSxuYW1lOlwiY2FsbGJhY2tcIn0pfWRpc3Bvc2UoKXt0aGlzLnRyaWdnZXIoXCJkaXNwb3NlXCIpLFhoLmZvckVhY2goZT0+e3RoaXMuYWJvcnQoZSksdGhpcy5jYW5SZW1vdmVTb3VyY2VCdWZmZXIoKT90aGlzLnJlbW92ZVNvdXJjZUJ1ZmZlcihlKTp0aGlzW2UrXCJRdWV1ZUNhbGxiYWNrXCJdKCgpPT5RaChlLHRoaXMpKX0pLHRoaXMudmlkZW9BcHBlbmRRdWV1ZWRfPSExLHRoaXMuZGVsYXllZEF1ZGlvQXBwZW5kUXVldWVfLmxlbmd0aD0wLHRoaXMuc291cmNlb3Blbkxpc3RlbmVyXyYmdGhpcy5tZWRpYVNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKFwic291cmNlb3BlblwiLHRoaXMuc291cmNlb3Blbkxpc3RlbmVyXyksdGhpcy5vZmYoKX19Y29uc3Qgc3U9ZT0+ZGVjb2RlVVJJQ29tcG9uZW50KGVzY2FwZShTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsZSkpKSxydT1uZXcgVWludDhBcnJheShcIlxcblxcblwiLnNwbGl0KFwiXCIpLm1hcChlPT5lLmNoYXJDb2RlQXQoMCkpKTtjbGFzcyBudSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKCl7c3VwZXIoXCJUcnlpbmcgdG8gcGFyc2UgcmVjZWl2ZWQgVlRUIGN1ZXMsIGJ1dCB0aGVyZSBpcyBubyBXZWJWVFQuIE1ha2Ugc3VyZSB2dHQuanMgaXMgbG9hZGVkLlwiKX19Y2xhc3MgYXUgZXh0ZW5kcyBXaHtjb25zdHJ1Y3RvcihlLHQ9e30pe3N1cGVyKGUsdCksdGhpcy5tZWRpYVNvdXJjZV89bnVsbCx0aGlzLnN1YnRpdGxlc1RyYWNrXz1udWxsLHRoaXMubG9hZGVyVHlwZV89XCJzdWJ0aXRsZVwiLHRoaXMuZmVhdHVyZXNOYXRpdmVUZXh0VHJhY2tzXz1lLmZlYXR1cmVzTmF0aXZlVGV4dFRyYWNrcyx0aGlzLmxvYWRWdHRKcz1lLmxvYWRWdHRKcyx0aGlzLnNob3VsZFNhdmVTZWdtZW50VGltaW5nSW5mb189ITF9Y3JlYXRlVHJhbnNtdXhlcl8oKXtyZXR1cm4gbnVsbH1idWZmZXJlZF8oKXt2YXIgZTtyZXR1cm4gdGhpcy5zdWJ0aXRsZXNUcmFja18mJnRoaXMuc3VidGl0bGVzVHJhY2tfLmN1ZXMmJnRoaXMuc3VidGl0bGVzVHJhY2tfLmN1ZXMubGVuZ3RoP0ZsKFtbKGU9dGhpcy5zdWJ0aXRsZXNUcmFja18uY3VlcylbMF0uc3RhcnRUaW1lLGVbZS5sZW5ndGgtMV0uc3RhcnRUaW1lXV0pOkZsKCl9aW5pdFNlZ21lbnRGb3JNYXAoZSx0PSExKXtpZighZSlyZXR1cm4gbnVsbDt2YXIgaT1EZChlKTtsZXQgcz10aGlzLmluaXRTZWdtZW50c19baV07cmV0dXJuIHQmJiFzJiZlLmJ5dGVzJiYodD1ydS5ieXRlTGVuZ3RoK2UuYnl0ZXMuYnl0ZUxlbmd0aCwodD1uZXcgVWludDhBcnJheSh0KSkuc2V0KGUuYnl0ZXMpLHQuc2V0KHJ1LGUuYnl0ZXMuYnl0ZUxlbmd0aCksdGhpcy5pbml0U2VnbWVudHNfW2ldPXM9e3Jlc29sdmVkVXJpOmUucmVzb2x2ZWRVcmksYnl0ZXJhbmdlOmUuYnl0ZXJhbmdlLGJ5dGVzOnR9KSxzfHxlfWNvdWxkQmVnaW5Mb2FkaW5nXygpe3JldHVybiB0aGlzLnBsYXlsaXN0XyYmdGhpcy5zdWJ0aXRsZXNUcmFja18mJiF0aGlzLnBhdXNlZCgpfWluaXRfKCl7cmV0dXJuIHRoaXMuc3RhdGU9XCJSRUFEWVwiLHRoaXMucmVzZXRFdmVyeXRoaW5nKCksdGhpcy5tb25pdG9yQnVmZmVyXygpfXRyYWNrKGUpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBlJiYodGhpcy5zdWJ0aXRsZXNUcmFja189ZSxcIklOSVRcIj09PXRoaXMuc3RhdGUmJnRoaXMuY291bGRCZWdpbkxvYWRpbmdfKCkpJiZ0aGlzLmluaXRfKCksdGhpcy5zdWJ0aXRsZXNUcmFja199cmVtb3ZlKGUsdCl7VWgoZSx0LHRoaXMuc3VidGl0bGVzVHJhY2tfKX1maWxsQnVmZmVyXygpe3ZhciBlPXRoaXMuY2hvb3NlTmV4dFJlcXVlc3RfKCk7ZSYmKG51bGw9PT10aGlzLnN5bmNDb250cm9sbGVyXy50aW1lc3RhbXBPZmZzZXRGb3JUaW1lbGluZShlLnRpbWVsaW5lKT8odGhpcy5zeW5jQ29udHJvbGxlcl8ub25lKFwidGltZXN0YW1wb2Zmc2V0XCIsKCk9Pnt0aGlzLnN0YXRlPVwiUkVBRFlcIix0aGlzLnBhdXNlZCgpfHx0aGlzLm1vbml0b3JCdWZmZXJfKCl9KSx0aGlzLnN0YXRlPVwiV0FJVElOR19PTl9USU1FTElORVwiKTp0aGlzLmxvYWRTZWdtZW50XyhlKSl9dGltZXN0YW1wT2Zmc2V0Rm9yU2VnbWVudF8oKXtyZXR1cm4gbnVsbH1jaG9vc2VOZXh0UmVxdWVzdF8oKXtyZXR1cm4gdGhpcy5za2lwRW1wdHlTZWdtZW50c18oc3VwZXIuY2hvb3NlTmV4dFJlcXVlc3RfKCkpfXNraXBFbXB0eVNlZ21lbnRzXyhlKXtmb3IoO2UmJmUuc2VnbWVudC5lbXB0eTspe2lmKGUubWVkaWFJbmRleCsxPj1lLnBsYXlsaXN0LnNlZ21lbnRzLmxlbmd0aCl7ZT1udWxsO2JyZWFrfWU9dGhpcy5nZW5lcmF0ZVNlZ21lbnRJbmZvXyh7cGxheWxpc3Q6ZS5wbGF5bGlzdCxtZWRpYUluZGV4OmUubWVkaWFJbmRleCsxLHN0YXJ0T2ZTZWdtZW50OmUuc3RhcnRPZlNlZ21lbnQrZS5kdXJhdGlvbixpc1N5bmNSZXF1ZXN0OmUuaXNTeW5jUmVxdWVzdH0pfXJldHVybiBlfXN0b3BGb3JFcnJvcihlKXt0aGlzLmVycm9yKGUpLHRoaXMuc3RhdGU9XCJSRUFEWVwiLHRoaXMucGF1c2UoKSx0aGlzLnRyaWdnZXIoXCJlcnJvclwiKX1zZWdtZW50UmVxdWVzdEZpbmlzaGVkXyhlLHQsaSl7aWYodGhpcy5zdWJ0aXRsZXNUcmFja18paWYodGhpcy5zYXZlVHJhbnNmZXJTdGF0c18odC5zdGF0cyksdGhpcy5wZW5kaW5nU2VnbWVudF8paWYoZSllLmNvZGU9PT15aC5USU1FT1VUJiZ0aGlzLmhhbmRsZVRpbWVvdXRfKCksZS5jb2RlPT09eWguQUJPUlRFRD90aGlzLm1lZGlhUmVxdWVzdHNBYm9ydGVkKz0xOnRoaXMubWVkaWFSZXF1ZXN0c0Vycm9yZWQrPTEsdGhpcy5zdG9wRm9yRXJyb3IoZSk7ZWxzZXt2YXIgcz10aGlzLnBlbmRpbmdTZWdtZW50XyxyPSh0aGlzLnNhdmVCYW5kd2lkdGhSZWxhdGVkU3RhdHNfKHMuZHVyYXRpb24sdC5zdGF0cyksdC5rZXkmJnRoaXMuc2VnbWVudEtleSh0LmtleSwhMCksdGhpcy5zdGF0ZT1cIkFQUEVORElOR1wiLHRoaXMudHJpZ2dlcihcImFwcGVuZGluZ1wiKSxzLnNlZ21lbnQpO2lmKHIubWFwJiYoci5tYXAuYnl0ZXM9dC5tYXAuYnl0ZXMpLHMuYnl0ZXM9dC5ieXRlcyxcImZ1bmN0aW9uXCIhPXR5cGVvZiB3aW5kb3cuV2ViVlRUJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLmxvYWRWdHRKcyl0aGlzLnN0YXRlPVwiV0FJVElOR19PTl9WVFRKU1wiLHRoaXMubG9hZFZ0dEpzKCkudGhlbigoKT0+dGhpcy5zZWdtZW50UmVxdWVzdEZpbmlzaGVkXyhlLHQsaSksKCk9PnRoaXMuc3RvcEZvckVycm9yKHttZXNzYWdlOlwiRXJyb3IgbG9hZGluZyB2dHQuanNcIn0pKTtlbHNle3IucmVxdWVzdGVkPSEwO3RyeXt0aGlzLnBhcnNlVlRUQ3Vlc18ocyl9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgdGhpcy5zdG9wRm9yRXJyb3Ioe21lc3NhZ2U6ZS5tZXNzYWdlfSl9aWYodGhpcy51cGRhdGVUaW1lTWFwcGluZ18ocyx0aGlzLnN5bmNDb250cm9sbGVyXy50aW1lbGluZXNbcy50aW1lbGluZV0sdGhpcy5wbGF5bGlzdF8pLHMuY3Vlcy5sZW5ndGg/cy50aW1pbmdJbmZvPXtzdGFydDpzLmN1ZXNbMF0uc3RhcnRUaW1lLGVuZDpzLmN1ZXNbcy5jdWVzLmxlbmd0aC0xXS5lbmRUaW1lfTpzLnRpbWluZ0luZm89e3N0YXJ0OnMuc3RhcnRPZlNlZ21lbnQsZW5kOnMuc3RhcnRPZlNlZ21lbnQrcy5kdXJhdGlvbn0scy5pc1N5bmNSZXF1ZXN0KXRoaXMudHJpZ2dlcihcInN5bmNpbmZvdXBkYXRlXCIpLHRoaXMucGVuZGluZ1NlZ21lbnRfPW51bGwsdGhpcy5zdGF0ZT1cIlJFQURZXCI7ZWxzZXtzLmJ5dGVMZW5ndGg9cy5ieXRlcy5ieXRlTGVuZ3RoLHRoaXMubWVkaWFTZWNvbmRzTG9hZGVkKz1yLmR1cmF0aW9uLHMuY3Vlcy5mb3JFYWNoKGU9Pnt0aGlzLnN1YnRpdGxlc1RyYWNrXy5hZGRDdWUodGhpcy5mZWF0dXJlc05hdGl2ZVRleHRUcmFja3NfP25ldyB3aW5kb3cuVlRUQ3VlKGUuc3RhcnRUaW1lLGUuZW5kVGltZSxlLnRleHQpOmUpfSk7dmFyIG49dGhpcy5zdWJ0aXRsZXNUcmFja18sYT1uLmN1ZXM7aWYoYSlmb3IobGV0IGk9MDtpPGEubGVuZ3RoO2krKyl7dmFyIG89W107bGV0IHQ9MDtmb3IobGV0IGU9MDtlPGEubGVuZ3RoO2UrKylhW2ldLnN0YXJ0VGltZT09PWFbZV0uc3RhcnRUaW1lJiZhW2ldLmVuZFRpbWU9PT1hW2VdLmVuZFRpbWUmJmFbaV0udGV4dD09PWFbZV0udGV4dCYmMTwrK3QmJm8ucHVzaChhW2VdKTtvLmxlbmd0aCYmby5mb3JFYWNoKGU9Pm4ucmVtb3ZlQ3VlKGUpKX10aGlzLmhhbmRsZUFwcGVuZHNEb25lXygpfX19ZWxzZSB0aGlzLnN0YXRlPVwiUkVBRFlcIix0aGlzLm1lZGlhUmVxdWVzdHNBYm9ydGVkKz0xO2Vsc2UgdGhpcy5zdGF0ZT1cIlJFQURZXCJ9aGFuZGxlRGF0YV8oKXt9dXBkYXRlVGltaW5nSW5mb0VuZF8oKXt9cGFyc2VWVFRDdWVzXyh0KXtsZXQgZSxpPSExO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHdpbmRvdy5XZWJWVFQpdGhyb3cgbmV3IG51O1wiZnVuY3Rpb25cIj09dHlwZW9mIHdpbmRvdy5UZXh0RGVjb2Rlcj9lPW5ldyB3aW5kb3cuVGV4dERlY29kZXIoXCJ1dGY4XCIpOihlPXdpbmRvdy5XZWJWVFQuU3RyaW5nRGVjb2RlcigpLGk9ITApO3ZhciBzPW5ldyB3aW5kb3cuV2ViVlRULlBhcnNlcih3aW5kb3csd2luZG93LnZ0dGpzLGUpO2lmKHQuY3Vlcz1bXSx0LnRpbWVzdGFtcG1hcD17TVBFR1RTOjAsTE9DQUw6MH0scy5vbmN1ZT10LmN1ZXMucHVzaC5iaW5kKHQuY3Vlcykscy5vbnRpbWVzdGFtcG1hcD1lPT57dC50aW1lc3RhbXBtYXA9ZX0scy5vbnBhcnNpbmdlcnJvcj1lPT57VC5sb2cud2FybihcIkVycm9yIGVuY291bnRlcmVkIHdoZW4gcGFyc2luZyBjdWVzOiBcIitlLm1lc3NhZ2UpfSx0LnNlZ21lbnQubWFwKXtsZXQgZT10LnNlZ21lbnQubWFwLmJ5dGVzO2kmJihlPXN1KGUpKSxzLnBhcnNlKGUpfWxldCByPXQuYnl0ZXM7aSYmKHI9c3UocikpLHMucGFyc2Uocikscy5mbHVzaCgpfXVwZGF0ZVRpbWVNYXBwaW5nXyhlLHQsaSl7dmFyIHM9ZS5zZWdtZW50O2lmKHQpaWYoZS5jdWVzLmxlbmd0aCl7dmFyIHI9ZS50aW1lc3RhbXBtYXA7Y29uc3Qgbj1yLk1QRUdUUy9NbC1yLkxPQ0FMK3QubWFwcGluZztlLmN1ZXMuZm9yRWFjaChlPT57ZS5zdGFydFRpbWUrPW4sZS5lbmRUaW1lKz1ufSksaS5zeW5jSW5mb3x8KHI9ZS5jdWVzWzBdLnN0YXJ0VGltZSx0PWUuY3Vlc1tlLmN1ZXMubGVuZ3RoLTFdLnN0YXJ0VGltZSxpLnN5bmNJbmZvPXttZWRpYVNlcXVlbmNlOmkubWVkaWFTZXF1ZW5jZStlLm1lZGlhSW5kZXgsdGltZTpNYXRoLm1pbihyLHQtcy5kdXJhdGlvbil9KX1lbHNlIHMuZW1wdHk9ITB9fWNvbnN0IG91PVt7bmFtZTpcIlZPRFwiLHJ1bjooZSx0LGkscyxyKT0+e3JldHVybiBpIT09MS8wP3t0aW1lOjAsc2VnbWVudEluZGV4OjAscGFydEluZGV4Om51bGx9Om51bGx9fSx7bmFtZTpcIlByb2dyYW1EYXRlVGltZVwiLHJ1bjoodCxpLGUscyxyKT0+e2lmKCFPYmplY3Qua2V5cyh0LnRpbWVsaW5lVG9EYXRldGltZU1hcHBpbmdzKS5sZW5ndGgpcmV0dXJuIG51bGw7bGV0IG49bnVsbCxhPW51bGw7dmFyIG89SmwoaSk7cj1yfHwwO2ZvcihsZXQgZT0wO2U8by5sZW5ndGg7ZSsrKXt2YXIgbD1vW2kuZW5kTGlzdHx8MD09PXI/ZTpvLmxlbmd0aC0oZSsxKV0sZD1sLnNlZ21lbnQsaD10LnRpbWVsaW5lVG9EYXRldGltZU1hcHBpbmdzW2QudGltZWxpbmVdO2lmKGgmJmQuZGF0ZVRpbWVPYmplY3Qpe2xldCB0PWQuZGF0ZVRpbWVPYmplY3QuZ2V0VGltZSgpLzFlMytoO2lmKGQucGFydHMmJlwibnVtYmVyXCI9PXR5cGVvZiBsLnBhcnRJbmRleClmb3IobGV0IGU9MDtlPGwucGFydEluZGV4O2UrKyl0Kz1kLnBhcnRzW2VdLmR1cmF0aW9uO2g9TWF0aC5hYnMoci10KTtpZihudWxsIT09YSYmKDA9PT1ofHxhPGgpKWJyZWFrO2E9aCxuPXt0aW1lOnQsc2VnbWVudEluZGV4Omwuc2VnbWVudEluZGV4LHBhcnRJbmRleDpsLnBhcnRJbmRleH19fXJldHVybiBufX0se25hbWU6XCJTZWdtZW50XCIscnVuOihlLHQsaSxzLHIpPT57bGV0IG49bnVsbCxhPW51bGw7cj1yfHwwO3ZhciBvPUpsKHQpO2ZvcihsZXQgZT0wO2U8by5sZW5ndGg7ZSsrKXt2YXIgbD1vW3QuZW5kTGlzdHx8MD09PXI/ZTpvLmxlbmd0aC0oZSsxKV0sZD1sLnNlZ21lbnQsaD1sLnBhcnQmJmwucGFydC5zdGFydHx8ZCYmZC5zdGFydDtpZihkLnRpbWVsaW5lPT09cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGgpe2Q9TWF0aC5hYnMoci1oKTtpZihudWxsIT09YSYmYTxkKWJyZWFrOyghbnx8bnVsbD09PWF8fGE+PWQpJiYoYT1kLG49e3RpbWU6aCxzZWdtZW50SW5kZXg6bC5zZWdtZW50SW5kZXgscGFydEluZGV4OmwucGFydEluZGV4fSl9fXJldHVybiBufX0se25hbWU6XCJEaXNjb250aW51aXR5XCIscnVuOihpLHMsZSx0LHIpPT57bGV0IG49bnVsbDtpZihyPXJ8fDAscy5kaXNjb250aW51aXR5U3RhcnRzJiZzLmRpc2NvbnRpbnVpdHlTdGFydHMubGVuZ3RoKXtsZXQgdD1udWxsO2ZvcihsZXQgZT0wO2U8cy5kaXNjb250aW51aXR5U3RhcnRzLmxlbmd0aDtlKyspe3ZhciBhPXMuZGlzY29udGludWl0eVN0YXJ0c1tlXSxvPXMuZGlzY29udGludWl0eVNlcXVlbmNlK2UrMSxvPWkuZGlzY29udGludWl0aWVzW29dO2lmKG8pe3ZhciBsPU1hdGguYWJzKHItby50aW1lKTtpZihudWxsIT09dCYmdDxsKWJyZWFrOyghbnx8bnVsbD09PXR8fHQ+PWwpJiYodD1sLG49e3RpbWU6by50aW1lLHNlZ21lbnRJbmRleDphLHBhcnRJbmRleDpudWxsfSl9fX1yZXR1cm4gbn19LHtuYW1lOlwiUGxheWxpc3RcIixydW46KGUsdCxpLHMscik9PntyZXR1cm4gdC5zeW5jSW5mbz97dGltZTp0LnN5bmNJbmZvLnRpbWUsc2VnbWVudEluZGV4OnQuc3luY0luZm8ubWVkaWFTZXF1ZW5jZS10Lm1lZGlhU2VxdWVuY2UscGFydEluZGV4Om51bGx9Om51bGx9fV07Y2xhc3MgbHUgZXh0ZW5kcyBULkV2ZW50VGFyZ2V0e2NvbnN0cnVjdG9yKGU9MCl7c3VwZXIoKSx0aGlzLnRpbWVsaW5lcz1bXSx0aGlzLmRpc2NvbnRpbnVpdGllcz1bXSx0aGlzLnRpbWVsaW5lVG9EYXRldGltZU1hcHBpbmdzPXt9LHRoaXMubG9nZ2VyXz1CbChcIlN5bmNDb250cm9sbGVyXCIpfWdldFN5bmNQb2ludChlLHQsaSxzKXtlPXRoaXMucnVuU3RyYXRlZ2llc18oZSx0LGkscyk7cmV0dXJuIGUubGVuZ3RoP3RoaXMuc2VsZWN0U3luY1BvaW50XyhlLHtrZXk6XCJ0aW1lXCIsdmFsdWU6c30pOm51bGx9Z2V0RXhwaXJlZFRpbWUoZSx0KXtyZXR1cm4gZSYmZS5zZWdtZW50cyYmKHQ9dGhpcy5ydW5TdHJhdGVnaWVzXyhlLHQsZS5kaXNjb250aW51aXR5U2VxdWVuY2UsMCkpLmxlbmd0aD8oMDwodD10aGlzLnNlbGVjdFN5bmNQb2ludF8odCx7a2V5Olwic2VnbWVudEluZGV4XCIsdmFsdWU6MH0pKS5zZWdtZW50SW5kZXgmJih0LnRpbWUqPS0xKSxNYXRoLmFicyh0LnRpbWUrJGwoe2RlZmF1bHREdXJhdGlvbjplLnRhcmdldER1cmF0aW9uLGR1cmF0aW9uTGlzdDplLnNlZ21lbnRzLHN0YXJ0SW5kZXg6dC5zZWdtZW50SW5kZXgsZW5kSW5kZXg6MH0pKSk6bnVsbH1ydW5TdHJhdGVnaWVzXyh0LGkscyxyKXt2YXIgbj1bXTtmb3IobGV0IGU9MDtlPG91Lmxlbmd0aDtlKyspe3ZhciBhPW91W2VdLG89YS5ydW4odGhpcyx0LGkscyxyKTtvJiYoby5zdHJhdGVneT1hLm5hbWUsbi5wdXNoKHtzdHJhdGVneTphLm5hbWUsc3luY1BvaW50Om99KSl9cmV0dXJuIG59c2VsZWN0U3luY1BvaW50Xyh0LGkpe2xldCBzPXRbMF0uc3luY1BvaW50LHI9TWF0aC5hYnModFswXS5zeW5jUG9pbnRbaS5rZXldLWkudmFsdWUpLG49dFswXS5zdHJhdGVneTtmb3IobGV0IGU9MTtlPHQubGVuZ3RoO2UrKyl7dmFyIGE9TWF0aC5hYnModFtlXS5zeW5jUG9pbnRbaS5rZXldLWkudmFsdWUpO2E8ciYmKHI9YSxzPXRbZV0uc3luY1BvaW50LG49dFtlXS5zdHJhdGVneSl9cmV0dXJuIHRoaXMubG9nZ2VyXyhgc3luY1BvaW50IGZvciBbJHtpLmtleX06ICR7aS52YWx1ZX1dIGNob3NlbiB3aXRoIHN0cmF0ZWd5YCtgIFske259XTogW3RpbWU6JHtzLnRpbWV9LGArXCIgc2VnbWVudEluZGV4OlwiK3Muc2VnbWVudEluZGV4KyhcIm51bWJlclwiPT10eXBlb2Ygcy5wYXJ0SW5kZXg/XCIscGFydEluZGV4OlwiK3MucGFydEluZGV4OlwiXCIpK1wiXVwiKSxzfXNhdmVFeHBpcmVkU2VnbWVudEluZm8odCxpKXt2YXIgcz1pLm1lZGlhU2VxdWVuY2UtdC5tZWRpYVNlcXVlbmNlO2lmKDg2NDAwPHMpVC5sb2cud2FybihgTm90IHNhdmluZyBleHBpcmVkIHNlZ21lbnQgaW5mby4gTWVkaWEgc2VxdWVuY2UgZ2FwICR7c30gaXMgdG9vIGxhcmdlLmApO2Vsc2UgZm9yKGxldCBlPXMtMTswPD1lO2UtLSl7dmFyIHI9dC5zZWdtZW50c1tlXTtpZihyJiZcInVuZGVmaW5lZFwiIT10eXBlb2Ygci5zdGFydCl7aS5zeW5jSW5mbz17bWVkaWFTZXF1ZW5jZTp0Lm1lZGlhU2VxdWVuY2UrZSx0aW1lOnIuc3RhcnR9LHRoaXMubG9nZ2VyXyhgcGxheWxpc3QgcmVmcmVzaCBzeW5jOiBbdGltZToke2kuc3luY0luZm8udGltZX0sYCtgIG1lZGlhU2VxdWVuY2U6ICR7aS5zeW5jSW5mby5tZWRpYVNlcXVlbmNlfV1gKSx0aGlzLnRyaWdnZXIoXCJzeW5jaW5mb3VwZGF0ZVwiKTticmVha319fXNldERhdGVUaW1lTWFwcGluZ0ZvclN0YXJ0KGUpe3ZhciB0O3RoaXMudGltZWxpbmVUb0RhdGV0aW1lTWFwcGluZ3M9e30sZS5zZWdtZW50cyYmZS5zZWdtZW50cy5sZW5ndGgmJmUuc2VnbWVudHNbMF0uZGF0ZVRpbWVPYmplY3QmJih0PShlPWUuc2VnbWVudHNbMF0pLmRhdGVUaW1lT2JqZWN0LmdldFRpbWUoKS8xZTMsdGhpcy50aW1lbGluZVRvRGF0ZXRpbWVNYXBwaW5nc1tlLnRpbWVsaW5lXT0tdCl9c2F2ZVNlZ21lbnRUaW1pbmdJbmZvKHtzZWdtZW50SW5mbzplLHNob3VsZFNhdmVUaW1lbGluZU1hcHBpbmc6dH0pe3ZhciBpPXRoaXMuY2FsY3VsYXRlU2VnbWVudFRpbWVNYXBwaW5nXyhlLGUudGltaW5nSW5mbyx0KSxzPWUuc2VnbWVudCxpPShpJiYodGhpcy5zYXZlRGlzY29udGludWl0eVN5bmNJbmZvXyhlKSxlLnBsYXlsaXN0LnN5bmNJbmZvfHwoZS5wbGF5bGlzdC5zeW5jSW5mbz17bWVkaWFTZXF1ZW5jZTplLnBsYXlsaXN0Lm1lZGlhU2VxdWVuY2UrZS5tZWRpYUluZGV4LHRpbWU6cy5zdGFydH0pKSxzLmRhdGVUaW1lT2JqZWN0KTtzLmRpc2NvbnRpbnVpdHkmJnQmJmkmJih0aGlzLnRpbWVsaW5lVG9EYXRldGltZU1hcHBpbmdzW3MudGltZWxpbmVdPS1pLmdldFRpbWUoKS8xZTMpfXRpbWVzdGFtcE9mZnNldEZvclRpbWVsaW5lKGUpe3JldHVyblwidW5kZWZpbmVkXCI9PXR5cGVvZiB0aGlzLnRpbWVsaW5lc1tlXT9udWxsOnRoaXMudGltZWxpbmVzW2VdLnRpbWV9bWFwcGluZ0ZvclRpbWVsaW5lKGUpe3JldHVyblwidW5kZWZpbmVkXCI9PXR5cGVvZiB0aGlzLnRpbWVsaW5lc1tlXT9udWxsOnRoaXMudGltZWxpbmVzW2VdLm1hcHBpbmd9Y2FsY3VsYXRlU2VnbWVudFRpbWVNYXBwaW5nXyhlLHQsaSl7dmFyIHM9ZS5zZWdtZW50LHI9ZS5wYXJ0O2xldCBuPXRoaXMudGltZWxpbmVzW2UudGltZWxpbmVdLGEsbztpZihcIm51bWJlclwiPT10eXBlb2YgZS50aW1lc3RhbXBPZmZzZXQpbj17dGltZTplLnN0YXJ0T2ZTZWdtZW50LG1hcHBpbmc6ZS5zdGFydE9mU2VnbWVudC10LnN0YXJ0fSxpJiYodGhpcy50aW1lbGluZXNbZS50aW1lbGluZV09bix0aGlzLnRyaWdnZXIoXCJ0aW1lc3RhbXBvZmZzZXRcIiksdGhpcy5sb2dnZXJfKGB0aW1lIG1hcHBpbmcgZm9yIHRpbWVsaW5lICR7ZS50aW1lbGluZX06IGArYFt0aW1lOiAke24udGltZX1dIFttYXBwaW5nOiAke24ubWFwcGluZ31dYCkpLGE9ZS5zdGFydE9mU2VnbWVudDtlbHNle2lmKCFuKXJldHVybiExO2E9dC5zdGFydCtuLm1hcHBpbmd9cmV0dXJuIG89dC5lbmQrbi5tYXBwaW5nLHImJihyLnN0YXJ0PWEsci5lbmQ9byksKCFzLnN0YXJ0fHxhPHMuc3RhcnQpJiYocy5zdGFydD1hKSxzLmVuZD1vLCEwfXNhdmVEaXNjb250aW51aXR5U3luY0luZm9fKHQpe3ZhciBpPXQucGxheWxpc3Qscz10LnNlZ21lbnQ7aWYocy5kaXNjb250aW51aXR5KXRoaXMuZGlzY29udGludWl0aWVzW3MudGltZWxpbmVdPXt0aW1lOnMuc3RhcnQsYWNjdXJhY3k6MH07ZWxzZSBpZihpLmRpc2NvbnRpbnVpdHlTdGFydHMmJmkuZGlzY29udGludWl0eVN0YXJ0cy5sZW5ndGgpZm9yKGxldCBlPTA7ZTxpLmRpc2NvbnRpbnVpdHlTdGFydHMubGVuZ3RoO2UrKyl7dmFyIHI9aS5kaXNjb250aW51aXR5U3RhcnRzW2VdLG49aS5kaXNjb250aW51aXR5U2VxdWVuY2UrZSsxLGE9ci10Lm1lZGlhSW5kZXgsbz1NYXRoLmFicyhhKTtpZighdGhpcy5kaXNjb250aW51aXRpZXNbbl18fHRoaXMuZGlzY29udGludWl0aWVzW25dLmFjY3VyYWN5Pm8pe2xldCBlO2U9YTwwP3Muc3RhcnQtJGwoe2RlZmF1bHREdXJhdGlvbjppLnRhcmdldER1cmF0aW9uLGR1cmF0aW9uTGlzdDppLnNlZ21lbnRzLHN0YXJ0SW5kZXg6dC5tZWRpYUluZGV4LGVuZEluZGV4OnJ9KTpzLmVuZCskbCh7ZGVmYXVsdER1cmF0aW9uOmkudGFyZ2V0RHVyYXRpb24sZHVyYXRpb25MaXN0Omkuc2VnbWVudHMsc3RhcnRJbmRleDp0Lm1lZGlhSW5kZXgrMSxlbmRJbmRleDpyfSksdGhpcy5kaXNjb250aW51aXRpZXNbbl09e3RpbWU6ZSxhY2N1cmFjeTpvfX19fWRpc3Bvc2UoKXt0aGlzLnRyaWdnZXIoXCJkaXNwb3NlXCIpLHRoaXMub2ZmKCl9fWNsYXNzIGR1IGV4dGVuZHMgVC5FdmVudFRhcmdldHtjb25zdHJ1Y3Rvcigpe3N1cGVyKCksdGhpcy5wZW5kaW5nVGltZWxpbmVDaGFuZ2VzXz17fSx0aGlzLmxhc3RUaW1lbGluZUNoYW5nZXNfPXt9fWNsZWFyUGVuZGluZ1RpbWVsaW5lQ2hhbmdlKGUpe3RoaXMucGVuZGluZ1RpbWVsaW5lQ2hhbmdlc19bZV09bnVsbCx0aGlzLnRyaWdnZXIoXCJwZW5kaW5ndGltZWxpbmVjaGFuZ2VcIil9cGVuZGluZ1RpbWVsaW5lQ2hhbmdlKHt0eXBlOmUsZnJvbTp0LHRvOml9KXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgdCYmXCJudW1iZXJcIj09dHlwZW9mIGkmJih0aGlzLnBlbmRpbmdUaW1lbGluZUNoYW5nZXNfW2VdPXt0eXBlOmUsZnJvbTp0LHRvOml9LHRoaXMudHJpZ2dlcihcInBlbmRpbmd0aW1lbGluZWNoYW5nZVwiKSksdGhpcy5wZW5kaW5nVGltZWxpbmVDaGFuZ2VzX1tlXX1sYXN0VGltZWxpbmVDaGFuZ2Uoe3R5cGU6ZSxmcm9tOnQsdG86aX0pe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiB0JiZcIm51bWJlclwiPT10eXBlb2YgaSYmKHRoaXMubGFzdFRpbWVsaW5lQ2hhbmdlc19bZV09e3R5cGU6ZSxmcm9tOnQsdG86aX0sZGVsZXRlIHRoaXMucGVuZGluZ1RpbWVsaW5lQ2hhbmdlc19bZV0sdGhpcy50cmlnZ2VyKFwidGltZWxpbmVjaGFuZ2VcIikpLHRoaXMubGFzdFRpbWVsaW5lQ2hhbmdlc19bZV19ZGlzcG9zZSgpe3RoaXMudHJpZ2dlcihcImRpc3Bvc2VcIiksdGhpcy5wZW5kaW5nVGltZWxpbmVDaGFuZ2VzXz17fSx0aGlzLmxhc3RUaW1lbGluZUNoYW5nZXNfPXt9LHRoaXMub2ZmKCl9fXZhciBodT1KZChaZChlaChmdW5jdGlvbigpe3ZhciBlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMubGlzdGVuZXJzPXt9fXZhciB0PWUucHJvdG90eXBlO3JldHVybiB0Lm9uPWZ1bmN0aW9uKGUsdCl7dGhpcy5saXN0ZW5lcnNbZV18fCh0aGlzLmxpc3RlbmVyc1tlXT1bXSksdGhpcy5saXN0ZW5lcnNbZV0ucHVzaCh0KX0sdC5vZmY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4hIXRoaXMubGlzdGVuZXJzW2VdJiYodD10aGlzLmxpc3RlbmVyc1tlXS5pbmRleE9mKHQpLHRoaXMubGlzdGVuZXJzW2VdPXRoaXMubGlzdGVuZXJzW2VdLnNsaWNlKDApLHRoaXMubGlzdGVuZXJzW2VdLnNwbGljZSh0LDEpLC0xPHQpfSx0LnRyaWdnZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5saXN0ZW5lcnNbZV07aWYodClpZigyPT09YXJndW1lbnRzLmxlbmd0aClmb3IodmFyIGk9dC5sZW5ndGgscz0wO3M8aTsrK3MpdFtzXS5jYWxsKHRoaXMsYXJndW1lbnRzWzFdKTtlbHNlIGZvcih2YXIgcj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSksbj10Lmxlbmd0aCxhPTA7YTxuOysrYSl0W2FdLmFwcGx5KHRoaXMscil9LHQuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMubGlzdGVuZXJzPXt9fSx0LnBpcGU9ZnVuY3Rpb24odCl7dGhpcy5vbihcImRhdGFcIixmdW5jdGlvbihlKXt0LnB1c2goZSl9KX0sZX0oKTtcbi8qISBAbmFtZSBwa2NzNyBAdmVyc2lvbiAxLjAuNCBAbGljZW5zZSBBcGFjaGUtMi4wICovbGV0IGg9bnVsbDtjbGFzcyBne2NvbnN0cnVjdG9yKGUpe2g9aHx8ZnVuY3Rpb24oKXt2YXIgZT1bW1tdLFtdLFtdLFtdLFtdXSxbW10sW10sW10sW10sW11dXSx0PWVbMF0saT1lWzFdLHM9dFs0XSxyPWlbNF07bGV0IG4sYSxvO3ZhciBsLGQsaCx1LGM9W10scD1bXTtsZXQgbSxnO2ZvcihuPTA7bjwyNTY7bisrKXBbKGNbbl09bjw8MV4yODMqKG4+PjcpKV5uXT1uO2ZvcihhPW89MDshc1thXTthXj1sfHwxLG89cFtvXXx8MSlmb3IodT0odT1vXm88PDFebzw8Ml5vPDwzXm88PDQpPj44XjI1NSZ1Xjk5LGg9Y1tkPWNbbD1jW3Jbc1thXT11XT1hXV1dLGc9MTY4NDMwMDkqaF42NTUzNypkXjI1NypsXjE2ODQzMDA4KmEsbT0yNTcqY1t1XV4xNjg0MzAwOCp1LG49MDtuPDQ7bisrKXRbbl1bYV09bT1tPDwyNF5tPj4+OCxpW25dW3VdPWc9Zzw8MjReZz4+Pjg7Zm9yKG49MDtuPDU7bisrKXRbbl09dFtuXS5zbGljZSgwKSxpW25dPWlbbl0uc2xpY2UoMCk7cmV0dXJuIGV9KCksdGhpcy5fdGFibGVzPVtbaFswXVswXS5zbGljZSgpLGhbMF1bMV0uc2xpY2UoKSxoWzBdWzJdLnNsaWNlKCksaFswXVszXS5zbGljZSgpLGhbMF1bNF0uc2xpY2UoKV0sW2hbMV1bMF0uc2xpY2UoKSxoWzFdWzFdLnNsaWNlKCksaFsxXVsyXS5zbGljZSgpLGhbMV1bM10uc2xpY2UoKSxoWzFdWzRdLnNsaWNlKCldXTtsZXQgdCxpLHM7dmFyIHI9dGhpcy5fdGFibGVzWzBdWzRdLG49dGhpcy5fdGFibGVzWzFdLGE9ZS5sZW5ndGg7bGV0IG89MTtpZig0IT09YSYmNiE9PWEmJjghPT1hKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYWVzIGtleSBzaXplXCIpO3ZhciBsPWUuc2xpY2UoMCksZD1bXTtmb3IodGhpcy5fa2V5PVtsLGRdLHQ9YTt0PDQqYSsyODt0Kyspcz1sW3QtMV0sKHQlYT09MHx8OD09PWEmJnQlYT09NCkmJihzPXJbcz4+PjI0XTw8MjRecltzPj4xNiYyNTVdPDwxNl5yW3M+PjgmMjU1XTw8OF5yWzI1NSZzXSx0JWE9PTApJiYocz1zPDw4XnM+Pj4yNF5vPDwyNCxvPW88PDFeMjgzKihvPj43KSksbFt0XT1sW3QtYV1ecztmb3IoaT0wO3Q7aSsrLHQtLSlzPWxbMyZpP3Q6dC00XSx0PD00fHxpPDQ/ZFtpXT1zOmRbaV09blswXVtyW3M+Pj4yNF1dXm5bMV1bcltzPj4xNiYyNTVdXV5uWzJdW3Jbcz4+OCYyNTVdXV5uWzNdW3JbMjU1JnNdXX1kZWNyeXB0KGUsdCxpLHMscixuKXt2YXIgYSxvLGw9dGhpcy5fa2V5WzFdO2xldCBkPWVebFswXSxoPXNebFsxXSx1PWlebFsyXSxjPXRebFszXSxwO3ZhciBtPWwubGVuZ3RoLzQtMjtsZXQgZyxmPTQ7dmFyIGU9dGhpcy5fdGFibGVzWzFdLHk9ZVswXSxfPWVbMV0sdj1lWzJdLGI9ZVszXSxUPWVbNF07Zm9yKGc9MDtnPG07ZysrKXA9eVtkPj4+MjRdXl9baD4+MTYmMjU1XV52W3U+PjgmMjU1XV5iWzI1NSZjXV5sW2ZdLGE9eVtoPj4+MjRdXl9bdT4+MTYmMjU1XV52W2M+PjgmMjU1XV5iWzI1NSZkXV5sW2YrMV0sbz15W3U+Pj4yNF1eX1tjPj4xNiYyNTVdXnZbZD4+OCYyNTVdXmJbMjU1JmhdXmxbZisyXSxjPXlbYz4+PjI0XV5fW2Q+PjE2JjI1NV1edltoPj44JjI1NV1eYlsyNTUmdV1ebFtmKzNdLGYrPTQsZD1wLGg9YSx1PW87Zm9yKGc9MDtnPDQ7ZysrKXJbKDMmLWcpK25dPVRbZD4+PjI0XTw8MjReVFtoPj4xNiYyNTVdPDwxNl5UW3U+PjgmMjU1XTw8OF5UWzI1NSZjXV5sW2YrK10scD1kLGQ9aCxoPXUsdT1jLGM9cH19Y2xhc3MgbCBleHRlbmRzIGV7Y29uc3RydWN0b3IoKXtzdXBlcihlKSx0aGlzLmpvYnM9W10sdGhpcy5kZWxheT0xLHRoaXMudGltZW91dF89bnVsbH1wcm9jZXNzSm9iXygpe3RoaXMuam9icy5zaGlmdCgpKCksdGhpcy5qb2JzLmxlbmd0aD90aGlzLnRpbWVvdXRfPXNldFRpbWVvdXQodGhpcy5wcm9jZXNzSm9iXy5iaW5kKHRoaXMpLHRoaXMuZGVsYXkpOnRoaXMudGltZW91dF89bnVsbH1wdXNoKGUpe3RoaXMuam9icy5wdXNoKGUpLHRoaXMudGltZW91dF98fCh0aGlzLnRpbWVvdXRfPXNldFRpbWVvdXQodGhpcy5wcm9jZXNzSm9iXy5iaW5kKHRoaXMpLHRoaXMuZGVsYXkpKX19ZnVuY3Rpb24gZihlKXtyZXR1cm4gZTw8MjR8KDY1MjgwJmUpPDw4fCgxNjcxMTY4MCZlKT4+OHxlPj4+MjR9Y2xhc3MgZHtjb25zdHJ1Y3RvcihlLHQsaSxzKXt2YXIgcj1kLlNURVAsbj1uZXcgSW50MzJBcnJheShlLmJ1ZmZlcik7Y29uc3QgYT1uZXcgVWludDhBcnJheShlLmJ5dGVMZW5ndGgpO2xldCBvPTA7Zm9yKHRoaXMuYXN5bmNTdHJlYW1fPW5ldyBsLHRoaXMuYXN5bmNTdHJlYW1fLnB1c2godGhpcy5kZWNyeXB0Q2h1bmtfKG4uc3ViYXJyYXkobyxvK3IpLHQsaSxhKSksbz1yO288bi5sZW5ndGg7bys9cilpPW5ldyBVaW50MzJBcnJheShbZihuW28tNF0pLGYobltvLTNdKSxmKG5bby0yXSksZihuW28tMV0pXSksdGhpcy5hc3luY1N0cmVhbV8ucHVzaCh0aGlzLmRlY3J5cHRDaHVua18obi5zdWJhcnJheShvLG8rciksdCxpLGEpKTt0aGlzLmFzeW5jU3RyZWFtXy5wdXNoKGZ1bmN0aW9uKCl7dmFyIGU7XG4vKiEgQG5hbWUgYWVzLWRlY3J5cHRlciBAdmVyc2lvbiA0LjAuMSBAbGljZW5zZSBBcGFjaGUtMi4wICovcyhudWxsLChlPWEpLnN1YmFycmF5KDAsZS5ieXRlTGVuZ3RoLWVbZS5ieXRlTGVuZ3RoLTFdKSl9KX1zdGF0aWMgZ2V0IFNURVAoKXtyZXR1cm4gMzJlM31kZWNyeXB0Q2h1bmtfKHQsaSxzLHIpe3JldHVybiBmdW5jdGlvbigpe3ZhciBlPWZ1bmN0aW9uKGUsdCxpKXt2YXIgcyxyLG4sYSxvPW5ldyBJbnQzMkFycmF5KGUuYnVmZmVyLGUuYnl0ZU9mZnNldCxlLmJ5dGVMZW5ndGg+PjIpLGw9bmV3IGcoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodCkpLHQ9bmV3IFVpbnQ4QXJyYXkoZS5ieXRlTGVuZ3RoKSxkPW5ldyBJbnQzMkFycmF5KHQuYnVmZmVyKTtsZXQgaCx1LGMscCxtO2ZvcihoPWlbMF0sdT1pWzFdLGM9aVsyXSxwPWlbM10sbT0wO208by5sZW5ndGg7bSs9NClzPWYob1ttXSkscj1mKG9bbSsxXSksbj1mKG9bbSsyXSksYT1mKG9bbSszXSksbC5kZWNyeXB0KHMscixuLGEsZCxtKSxkW21dPWYoZFttXV5oKSxkW20rMV09ZihkW20rMV1edSksZFttKzJdPWYoZFttKzJdXmMpLGRbbSszXT1mKGRbbSszXV5wKSxoPXMsdT1yLGM9bixwPWE7cmV0dXJuIHR9KHQsaSxzKTtyLnNldChlLHQuYnl0ZU9mZnNldCl9fX12YXIgdD1cInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsVGhpcz9nbG9iYWxUaGlzOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6e30sdD1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzpcInVuZGVmaW5lZFwiIT10eXBlb2YgdD90OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6e30sdD10LkJpZ0ludHx8TnVtYmVyO3QoXCIweDFcIiksdChcIjB4MTAwXCIpLHQoXCIweDEwMDAwXCIpLHQoXCIweDEwMDAwMDBcIiksdChcIjB4MTAwMDAwMDAwXCIpLHQoXCIweDEwMDAwMDAwMDAwXCIpLHQoXCIweDEwMDAwMDAwMDAwMDBcIiksdChcIjB4MTAwMDAwMDAwMDAwMDAwXCIpLHQoXCIweDEwMDAwMDAwMDAwMDAwMDAwXCIpLHQ9bmV3IFVpbnQxNkFycmF5KFs2NTQ4NF0pLDI1NSE9PSh0PW5ldyBVaW50OEFycmF5KHQuYnVmZmVyLHQuYnl0ZU9mZnNldCx0LmJ5dGVMZW5ndGgpKVswXSYmdFswXTtmdW5jdGlvbiByKHMpe2NvbnN0IHI9e307cmV0dXJuIE9iamVjdC5rZXlzKHMpLmZvckVhY2goZT0+e3ZhciB0LGk9c1tlXTt0PWksKFwiZnVuY3Rpb25cIj09PUFycmF5QnVmZmVyLmlzVmlldz9BcnJheUJ1ZmZlci5pc1ZpZXcodCk6dCYmdC5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcik/cltlXT17Ynl0ZXM6aS5idWZmZXIsYnl0ZU9mZnNldDppLmJ5dGVPZmZzZXQsYnl0ZUxlbmd0aDppLmJ5dGVMZW5ndGh9OnJbZV09aX0pLHJ9c2VsZi5vbm1lc3NhZ2U9ZnVuY3Rpb24oZSl7Y29uc3QgaT1lLmRhdGE7dmFyIGU9bmV3IFVpbnQ4QXJyYXkoaS5lbmNyeXB0ZWQuYnl0ZXMsaS5lbmNyeXB0ZWQuYnl0ZU9mZnNldCxpLmVuY3J5cHRlZC5ieXRlTGVuZ3RoKSx0PW5ldyBVaW50MzJBcnJheShpLmtleS5ieXRlcyxpLmtleS5ieXRlT2Zmc2V0LGkua2V5LmJ5dGVMZW5ndGgvNCkscz1uZXcgVWludDMyQXJyYXkoaS5pdi5ieXRlcyxpLml2LmJ5dGVPZmZzZXQsaS5pdi5ieXRlTGVuZ3RoLzQpO25ldyBkKGUsdCxzLGZ1bmN0aW9uKGUsdCl7c2VsZi5wb3N0TWVzc2FnZShyKHtzb3VyY2U6aS5zb3VyY2UsZGVjcnlwdGVkOnR9KSxbdC5idWZmZXJdKX0pfX0pKSk7Y29uc3QgdXU9KGUsdCk9PntlLmFib3J0KCksZS5wYXVzZSgpLHQmJnQuYWN0aXZlUGxheWxpc3RMb2FkZXImJih0LmFjdGl2ZVBsYXlsaXN0TG9hZGVyLnBhdXNlKCksdC5hY3RpdmVQbGF5bGlzdExvYWRlcj1udWxsKX0sY3U9KGUsdCk9PnsodC5hY3RpdmVQbGF5bGlzdExvYWRlcj1lKS5sb2FkKCl9LHB1PXtBVURJTzooYSxvKT0+KCk9Pnt2YXJ7c2VnbWVudExvYWRlcnM6e1thXTplfSxtZWRpYVR5cGVzOntbYV06dH0sZXhjbHVkZVBsYXlsaXN0Oml9PW8sZT0odXUoZSx0KSx0LmFjdGl2ZVRyYWNrKCkpLHM9dC5hY3RpdmVHcm91cCgpLHM9KHMuZmlsdGVyKGU9PmUuZGVmYXVsdClbMF18fHNbMF0pLmlkLHI9dC50cmFja3Nbc107aWYoZT09PXIpaSh7ZXJyb3I6e21lc3NhZ2U6XCJQcm9ibGVtIGVuY291bnRlcmVkIGxvYWRpbmcgdGhlIGRlZmF1bHQgYXVkaW8gdHJhY2suXCJ9fSk7ZWxzZXtULmxvZy53YXJuKFwiUHJvYmxlbSBlbmNvdW50ZXJlZCBsb2FkaW5nIHRoZSBhbHRlcm5hdGUgYXVkaW8gdHJhY2suU3dpdGNoaW5nIGJhY2sgdG8gZGVmYXVsdC5cIik7Zm9yKGNvbnN0IG4gaW4gdC50cmFja3MpdC50cmFja3Nbbl0uZW5hYmxlZD10LnRyYWNrc1tuXT09PXI7dC5vblRyYWNrQ2hhbmdlZCgpfX0sU1VCVElUTEVTOihpLHMpPT4oKT0+e3ZhcntzZWdtZW50TG9hZGVyczp7W2ldOmV9LG1lZGlhVHlwZXM6e1tpXTp0fX09cyxlPShULmxvZy53YXJuKFwiUHJvYmxlbSBlbmNvdW50ZXJlZCBsb2FkaW5nIHRoZSBzdWJ0aXRsZSB0cmFjay5EaXNhYmxpbmcgc3VidGl0bGUgdHJhY2suXCIpLHV1KGUsdCksdC5hY3RpdmVUcmFjaygpKTtlJiYoZS5tb2RlPVwiZGlzYWJsZWRcIiksdC5vblRyYWNrQ2hhbmdlZCgpfX0sbXU9e0FVRElPOihlLHQsaSk9PntpZighdClyZXR1cm47Y29uc3R7dGVjaDpzLHJlcXVlc3RPcHRpb25zOnIsc2VnbWVudExvYWRlcnM6e1tlXTpufX09aTt0Lm9uKFwibG9hZGVkbWV0YWRhdGFcIiwoKT0+e3ZhciBlPXQubWVkaWEoKTtuLnBsYXlsaXN0KGUsciksKCFzLnBhdXNlZCgpfHxlLmVuZExpc3QmJlwibm9uZVwiIT09cy5wcmVsb2FkKCkpJiZuLmxvYWQoKX0pLHQub24oXCJsb2FkZWRwbGF5bGlzdFwiLCgpPT57bi5wbGF5bGlzdCh0Lm1lZGlhKCkscikscy5wYXVzZWQoKXx8bi5sb2FkKCl9KSx0Lm9uKFwiZXJyb3JcIixwdVtlXShlLGkpKX0sU1VCVElUTEVTOihlLHQsaSk9Pntjb25zdHt0ZWNoOnMscmVxdWVzdE9wdGlvbnM6cixzZWdtZW50TG9hZGVyczp7W2VdOm59LG1lZGlhVHlwZXM6e1tlXTphfX09aTt0Lm9uKFwibG9hZGVkbWV0YWRhdGFcIiwoKT0+e3ZhciBlPXQubWVkaWEoKTtuLnBsYXlsaXN0KGUsciksbi50cmFjayhhLmFjdGl2ZVRyYWNrKCkpLCghcy5wYXVzZWQoKXx8ZS5lbmRMaXN0JiZcIm5vbmVcIiE9PXMucHJlbG9hZCgpKSYmbi5sb2FkKCl9KSx0Lm9uKFwibG9hZGVkcGxheWxpc3RcIiwoKT0+e24ucGxheWxpc3QodC5tZWRpYSgpLHIpLHMucGF1c2VkKCl8fG4ubG9hZCgpfSksdC5vbihcImVycm9yXCIscHVbZV0oZSxpKSl9fSxndT17QVVESU86KGkscyk9Pnt2YXIgcix7dmhzOm4sc291cmNlVHlwZTphLHNlZ21lbnRMb2FkZXJzOntbaV06ZX0scmVxdWVzdE9wdGlvbnM6byxtYWluOnttZWRpYUdyb3VwczpsfSxtZWRpYVR5cGVzOntbaV06e2dyb3VwczpkLHRyYWNrczpoLGxvZ2dlcl86dX19LG1haW5QbGF5bGlzdExvYWRlcjpjfT1zLHA9cGQoYy5tYWluKTtsW2ldJiYwIT09T2JqZWN0LmtleXMobFtpXSkubGVuZ3RofHwobFtpXT17bWFpbjp7ZGVmYXVsdDp7ZGVmYXVsdDohMH19fSxwJiYobFtpXS5tYWluLmRlZmF1bHQucGxheWxpc3RzPWMubWFpbi5wbGF5bGlzdHMpKTtmb3IoY29uc3QgbSBpbiBsW2ldKXtkW21dfHwoZFttXT1bXSk7Zm9yKGNvbnN0IGcgaW4gbFtpXVttXSl7bGV0IGU9bFtpXVttXVtnXSx0O3Q9cD8odShgQVVESU8gZ3JvdXAgJyR7bX0nIGxhYmVsICcke2d9JyBpcyBhIG1haW4gcGxheWxpc3RgKSxlLmlzTWFpblBsYXlsaXN0PSEwLG51bGwpOlwidmhzLWpzb25cIj09PWEmJmUucGxheWxpc3RzP25ldyBDZChlLnBsYXlsaXN0c1swXSxuLG8pOmUucmVzb2x2ZWRVcmk/bmV3IENkKGUucmVzb2x2ZWRVcmksbixvKTplLnBsYXlsaXN0cyYmXCJkYXNoXCI9PT1hP25ldyBLZChlLnBsYXlsaXN0c1swXSxuLG8sYyk6bnVsbCxlPU8oe2lkOmcscGxheWxpc3RMb2FkZXI6dH0sZSksbXVbaV0oaSxlLnBsYXlsaXN0TG9hZGVyLHMpLGRbbV0ucHVzaChlKSxcInVuZGVmaW5lZFwiPT10eXBlb2YgaFtnXSYmKHI9bmV3IFQuQXVkaW9UcmFjayh7aWQ6ZyxraW5kOihlPT57bGV0IHQ9ZS5kZWZhdWx0P1wibWFpblwiOlwiYWx0ZXJuYXRpdmVcIjtyZXR1cm4gdD1lLmNoYXJhY3RlcmlzdGljcyYmMDw9ZS5jaGFyYWN0ZXJpc3RpY3MuaW5kZXhPZihcInB1YmxpYy5hY2Nlc3NpYmlsaXR5LmRlc2NyaWJlcy12aWRlb1wiKT9cIm1haW4tZGVzY1wiOnR9KShlKSxlbmFibGVkOiExLGxhbmd1YWdlOmUubGFuZ3VhZ2UsZGVmYXVsdDplLmRlZmF1bHQsbGFiZWw6Z30pLGhbZ109cil9fWUub24oXCJlcnJvclwiLHB1W2ldKGkscykpfSxTVUJUSVRMRVM6KGkscyk9Pnt2YXIgcix7dGVjaDpuLHZoczphLHNvdXJjZVR5cGU6byxzZWdtZW50TG9hZGVyczp7W2ldOmV9LHJlcXVlc3RPcHRpb25zOmwsbWFpbjp7bWVkaWFHcm91cHM6ZH0sbWVkaWFUeXBlczp7W2ldOntncm91cHM6aCx0cmFja3M6dX19LG1haW5QbGF5bGlzdExvYWRlcjpjfT1zO2Zvcihjb25zdCBwIGluIGRbaV0pe2hbcF18fChoW3BdPVtdKTtmb3IoY29uc3QgbSBpbiBkW2ldW3BdKWlmKCFkW2ldW3BdW21dLmZvcmNlZCl7bGV0IGU9ZFtpXVtwXVttXSx0O2lmKFwiaGxzXCI9PT1vKXQ9bmV3IENkKGUucmVzb2x2ZWRVcmksYSxsKTtlbHNlIGlmKFwiZGFzaFwiPT09byl7aWYoIWUucGxheWxpc3RzLmZpbHRlcihlPT5lLmV4Y2x1ZGVVbnRpbCE9PTEvMCkubGVuZ3RoKXJldHVybjt0PW5ldyBLZChlLnBsYXlsaXN0c1swXSxhLGwsYyl9ZWxzZVwidmhzLWpzb25cIj09PW8mJih0PW5ldyBDZChlLnBsYXlsaXN0cz9lLnBsYXlsaXN0c1swXTplLnJlc29sdmVkVXJpLGEsbCkpO2U9Tyh7aWQ6bSxwbGF5bGlzdExvYWRlcjp0fSxlKSxtdVtpXShpLGUucGxheWxpc3RMb2FkZXIscyksaFtwXS5wdXNoKGUpLFwidW5kZWZpbmVkXCI9PXR5cGVvZiB1W21dJiYocj1uLmFkZFJlbW90ZVRleHRUcmFjayh7aWQ6bSxraW5kOlwic3VidGl0bGVzXCIsZGVmYXVsdDplLmRlZmF1bHQmJmUuYXV0b3NlbGVjdCxsYW5ndWFnZTplLmxhbmd1YWdlLGxhYmVsOm19LCExKS50cmFjayx1W21dPXIpfX1lLm9uKFwiZXJyb3JcIixwdVtpXShpLHMpKX0sXCJDTE9TRUQtQ0FQVElPTlNcIjooZSx0KT0+e3Zhcnt0ZWNoOmksbWFpbjp7bWVkaWFHcm91cHM6c30sbWVkaWFUeXBlczp7W2VdOntncm91cHM6cix0cmFja3M6bn19fT10O2Zvcihjb25zdCBsIGluIHNbZV0pe3JbbF18fChyW2xdPVtdKTtmb3IoY29uc3QgZCBpbiBzW2VdW2xdKXt2YXIgYT1zW2VdW2xdW2RdO2lmKC9eKD86Q0N8U0VSVklDRSkvLnRlc3QoYS5pbnN0cmVhbUlkKSl7dmFyIG89aS5vcHRpb25zXy52aHMmJmkub3B0aW9uc18udmhzLmNhcHRpb25TZXJ2aWNlc3x8e307bGV0IGU9e2xhYmVsOmQsbGFuZ3VhZ2U6YS5sYW5ndWFnZSxpbnN0cmVhbUlkOmEuaW5zdHJlYW1JZCxkZWZhdWx0OmEuZGVmYXVsdCYmYS5hdXRvc2VsZWN0fTt2b2lkIDA9PT0oZT1vW2UuaW5zdHJlYW1JZF0/TyhlLG9bZS5pbnN0cmVhbUlkXSk6ZSkuZGVmYXVsdCYmZGVsZXRlIGUuZGVmYXVsdCxyW2xdLnB1c2goTyh7aWQ6ZH0sYSkpLFwidW5kZWZpbmVkXCI9PXR5cGVvZiBuW2RdJiYobz1pLmFkZFJlbW90ZVRleHRUcmFjayh7aWQ6ZS5pbnN0cmVhbUlkLGtpbmQ6XCJjYXB0aW9uc1wiLGRlZmF1bHQ6ZS5kZWZhdWx0LGxhbmd1YWdlOmUubGFuZ3VhZ2UsbGFiZWw6ZS5sYWJlbH0sITEpLnRyYWNrLG5bZF09byl9fX19fSxmdT0odCxpKT0+e2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKXtpZihjZChpLHRbZV0pKXJldHVybiEwO2lmKHRbZV0ucGxheWxpc3RzJiZmdSh0W2VdLnBsYXlsaXN0cyxpKSlyZXR1cm4hMH1yZXR1cm4hMX0seXU9e0FVRElPOihpLHMpPT4oKT0+e3ZhcntbaV06e3RyYWNrczplfX09c1tcIm1lZGlhVHlwZXNcIl07Zm9yKGNvbnN0IHQgaW4gZSlpZihlW3RdLmVuYWJsZWQpcmV0dXJuIGVbdF07cmV0dXJuIG51bGx9LFNVQlRJVExFUzooaSxzKT0+KCk9Pnt2YXJ7W2ldOnt0cmFja3M6ZX19PXNbXCJtZWRpYVR5cGVzXCJdO2Zvcihjb25zdCB0IGluIGUpaWYoXCJzaG93aW5nXCI9PT1lW3RdLm1vZGV8fFwiaGlkZGVuXCI9PT1lW3RdLm1vZGUpcmV0dXJuIGVbdF07cmV0dXJuIG51bGx9fSxfdT1uPT57W1wiQVVESU9cIixcIlNVQlRJVExFU1wiLFwiQ0xPU0VELUNBUFRJT05TXCJdLmZvckVhY2goZT0+e2d1W2VdKGUsbil9KTtjb25zdHttZWRpYVR5cGVzOmEsbWFpblBsYXlsaXN0TG9hZGVyOmUsdGVjaDp0LHZoczppLHNlZ21lbnRMb2FkZXJzOntBVURJTzpzLG1haW46cn19PW47W1wiQVVESU9cIixcIlNVQlRJVExFU1wiXS5mb3JFYWNoKGU9Pnt2YXIgbyxsLGQsaCxpLHMsdSxjLHQscjthW2VdLmFjdGl2ZUdyb3VwPShvPWUsbD1uLHQ9Pnt2YXJ7bWFpblBsYXlsaXN0TG9hZGVyOmUsbWVkaWFUeXBlczp7W29dOntncm91cHM6aX19fT1sLHM9ZS5tZWRpYSgpO2lmKCFzKXJldHVybiBudWxsO2xldCByPW51bGw7cy5hdHRyaWJ1dGVzW29dJiYocj1pW3MuYXR0cmlidXRlc1tvXV0pO3ZhciBuPU9iamVjdC5rZXlzKGkpO2lmKCFyKWlmKFwiQVVESU9cIj09PW8mJjE8bi5sZW5ndGgmJnBkKGwubWFpbikpZm9yKGxldCBlPTA7ZTxuLmxlbmd0aDtlKyspe3ZhciBhPWlbbltlXV07aWYoZnUoYSxzKSl7cj1hO2JyZWFrfX1lbHNlIGkubWFpbj9yPWkubWFpbjoxPT09bi5sZW5ndGgmJihyPWlbblswXV0pO3JldHVyblwidW5kZWZpbmVkXCI9PXR5cGVvZiB0P3I6bnVsbCE9PXQmJnImJnIuZmlsdGVyKGU9PmUuaWQ9PT10LmlkKVswXXx8bnVsbH0pLGFbZV0uYWN0aXZlVHJhY2s9eXVbZV0oZSxuKSxhW2VdLm9uR3JvdXBDaGFuZ2VkPShkPWUsaD1uLCgpPT57dmFye3NlZ21lbnRMb2FkZXJzOntbZF06ZSxtYWluOnR9LG1lZGlhVHlwZXM6e1tkXTppfX09aCxzPWkuYWN0aXZlVHJhY2soKSxyPWkuZ2V0QWN0aXZlR3JvdXAoKSxuPWkuYWN0aXZlUGxheWxpc3RMb2FkZXIsYT1pLmxhc3RHcm91cF87ciYmYSYmci5pZD09PWEuaWR8fChpLmxhc3RHcm91cF89cixpLmxhc3RUcmFja189cyx1dShlLGkpLHImJiFyLmlzTWFpblBsYXlsaXN0JiYoci5wbGF5bGlzdExvYWRlcj8oZS5yZXN5bmNMb2FkZXIoKSxjdShyLnBsYXlsaXN0TG9hZGVyLGkpKTpuJiZ0LnJlc2V0RXZlcnl0aGluZygpKSl9KSxhW2VdLm9uR3JvdXBDaGFuZ2luZz0oaT1lLHM9biwoKT0+e3ZhcntzZWdtZW50TG9hZGVyczp7W2ldOmV9LG1lZGlhVHlwZXM6e1tpXTp0fX09czt0Lmxhc3RHcm91cF89bnVsbCxlLmFib3J0KCksZS5wYXVzZSgpfSksYVtlXS5vblRyYWNrQ2hhbmdlZD0odT1lLGM9biwoKT0+e3ZhciBlLHQse21haW5QbGF5bGlzdExvYWRlcjppLHNlZ21lbnRMb2FkZXJzOntbdV06cyxtYWluOnJ9LG1lZGlhVHlwZXM6e1t1XTpufX09YyxhPW4uYWN0aXZlVHJhY2soKSxvPW4uZ2V0QWN0aXZlR3JvdXAoKSxsPW4uYWN0aXZlUGxheWxpc3RMb2FkZXIsZD1uLmxhc3RUcmFja187aWYoKCFkfHwhYXx8ZC5pZCE9PWEuaWQpJiYobi5sYXN0R3JvdXBfPW8sbi5sYXN0VHJhY2tfPWEsdXUocyxuKSxvKSl7aWYoby5pc01haW5QbGF5bGlzdClyZXR1cm4hYXx8IWR8fGEuaWQ9PT1kLmlkfHwodD0oZT1jLnZocy5wbGF5bGlzdENvbnRyb2xsZXJfKS5zZWxlY3RQbGF5bGlzdCgpLGUubWVkaWEoKT09PXQpP3ZvaWQgMDoobi5sb2dnZXJfKGB0cmFjayBjaGFuZ2UuIFN3aXRjaGluZyBtYWluIGF1ZGlvIGZyb20gJHtkLmlkfSB0byBgK2EuaWQpLGkucGF1c2UoKSxyLnJlc2V0RXZlcnl0aGluZygpLHZvaWQgZS5mYXN0UXVhbGl0eUNoYW5nZV8odCkpO2lmKFwiQVVESU9cIj09PXUpe2lmKCFvLnBsYXlsaXN0TG9hZGVyKXJldHVybiByLnNldEF1ZGlvKCEwKSx2b2lkIHIucmVzZXRFdmVyeXRoaW5nKCk7cy5zZXRBdWRpbyghMCksci5zZXRBdWRpbyghMSl9bD09PW8ucGxheWxpc3RMb2FkZXJ8fChzLnRyYWNrJiZzLnRyYWNrKGEpLHMucmVzZXRFdmVyeXRoaW5nKCkpLGN1KG8ucGxheWxpc3RMb2FkZXIsbil9fSksYVtlXS5nZXRBY3RpdmVHcm91cD0oW3Qscl09W2UsbltcIm1lZGlhVHlwZXNcIl1dLCgpPT57dmFyIGU9clt0XS5hY3RpdmVUcmFjaygpO3JldHVybiBlP3JbdF0uYWN0aXZlR3JvdXAoZSk6bnVsbH0pfSk7dmFyIG89YS5BVURJTy5hY3RpdmVHcm91cCgpO28mJihvPShvLmZpbHRlcihlPT5lLmRlZmF1bHQpWzBdfHxvWzBdKS5pZCxhLkFVRElPLnRyYWNrc1tvXS5lbmFibGVkPSEwLGEuQVVESU8ub25Hcm91cENoYW5nZWQoKSxhLkFVRElPLm9uVHJhY2tDaGFuZ2VkKCksKGEuQVVESU8uZ2V0QWN0aXZlR3JvdXAoKS5wbGF5bGlzdExvYWRlcj8oci5zZXRBdWRpbyghMSkscyk6cikuc2V0QXVkaW8oITApKSxlLm9uKFwibWVkaWFjaGFuZ2VcIiwoKT0+e1tcIkFVRElPXCIsXCJTVUJUSVRMRVNcIl0uZm9yRWFjaChlPT5hW2VdLm9uR3JvdXBDaGFuZ2VkKCkpfSksZS5vbihcIm1lZGlhY2hhbmdpbmdcIiwoKT0+e1tcIkFVRElPXCIsXCJTVUJUSVRMRVNcIl0uZm9yRWFjaChlPT5hW2VdLm9uR3JvdXBDaGFuZ2luZygpKX0pO2NvbnN0IGw9KCk9PnthLkFVRElPLm9uVHJhY2tDaGFuZ2VkKCksdC50cmlnZ2VyKHt0eXBlOlwidXNhZ2VcIixuYW1lOlwidmhzLWF1ZGlvLWNoYW5nZVwifSl9O3QuYXVkaW9UcmFja3MoKS5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsbCksdC5yZW1vdGVUZXh0VHJhY2tzKCkuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLGEuU1VCVElUTEVTLm9uVHJhY2tDaGFuZ2VkKSxpLm9uKFwiZGlzcG9zZVwiLCgpPT57dC5hdWRpb1RyYWNrcygpLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIixsKSx0LnJlbW90ZVRleHRUcmFja3MoKS5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsYS5TVUJUSVRMRVMub25UcmFja0NoYW5nZWQpfSksdC5jbGVhclRyYWNrcyhcImF1ZGlvXCIpO2Zvcihjb25zdCBkIGluIGEuQVVESU8udHJhY2tzKXQuYXVkaW9UcmFja3MoKS5hZGRUcmFjayhhLkFVRElPLnRyYWNrc1tkXSl9O2xldCB2dTtjb25zdCBidT1bXCJtZWRpYVJlcXVlc3RzXCIsXCJtZWRpYVJlcXVlc3RzQWJvcnRlZFwiLFwibWVkaWFSZXF1ZXN0c1RpbWVkb3V0XCIsXCJtZWRpYVJlcXVlc3RzRXJyb3JlZFwiLFwibWVkaWFUcmFuc2ZlckR1cmF0aW9uXCIsXCJtZWRpYUJ5dGVzVHJhbnNmZXJyZWRcIixcIm1lZGlhQXBwZW5kc1wiXTtjbGFzcyBUdSBleHRlbmRzIFQuRXZlbnRUYXJnZXR7Y29uc3RydWN0b3IoZSl7c3VwZXIoKTtjb25zdHtzcmM6dCx3aXRoQ3JlZGVudGlhbHM6aSx0ZWNoOnIsYmFuZHdpZHRoOnMsZXh0ZXJuVmhzOm4sdXNlQ3VlVGFnczphLHBsYXlsaXN0RXhjbHVzaW9uRHVyYXRpb246byxlbmFibGVMb3dJbml0aWFsUGxheWxpc3Q6bCxzb3VyY2VUeXBlOmQsY2FjaGVFbmNyeXB0aW9uS2V5czpoLGJ1ZmZlckJhc2VkQUJSOnUsbGVhc3RQaXhlbERpZmZTZWxlY3RvcjpjLGNhcHRpb25TZXJ2aWNlczpwfT1lO2lmKCF0KXRocm93IG5ldyBFcnJvcihcIkEgbm9uLWVtcHR5IHBsYXlsaXN0IFVSTCBvciBKU09OIG1hbmlmZXN0IHN0cmluZyBpcyByZXF1aXJlZFwiKTtsZXQgbT1lW1wibWF4UGxheWxpc3RSZXRyaWVzXCJdO251bGwhPT1tJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgbXx8KG09MS8wKSx2dT1uLHRoaXMuYnVmZmVyQmFzZWRBQlI9Qm9vbGVhbih1KSx0aGlzLmxlYXN0UGl4ZWxEaWZmU2VsZWN0b3I9Qm9vbGVhbihjKSx0aGlzLndpdGhDcmVkZW50aWFscz1pLHRoaXMudGVjaF89cix0aGlzLnZoc189ci52aHMsdGhpcy5zb3VyY2VUeXBlXz1kLHRoaXMudXNlQ3VlVGFnc189YSx0aGlzLnBsYXlsaXN0RXhjbHVzaW9uRHVyYXRpb249byx0aGlzLm1heFBsYXlsaXN0UmV0cmllcz1tLHRoaXMuZW5hYmxlTG93SW5pdGlhbFBsYXlsaXN0PWwsdGhpcy51c2VDdWVUYWdzXyYmKHRoaXMuY3VlVGFnc1RyYWNrXz10aGlzLnRlY2hfLmFkZFRleHRUcmFjayhcIm1ldGFkYXRhXCIsXCJhZC1jdWVzXCIpLHRoaXMuY3VlVGFnc1RyYWNrXy5pbkJhbmRNZXRhZGF0YVRyYWNrRGlzcGF0Y2hUeXBlPVwiXCIpLHRoaXMucmVxdWVzdE9wdGlvbnNfPXt3aXRoQ3JlZGVudGlhbHM6aSxtYXhQbGF5bGlzdFJldHJpZXM6bSx0aW1lb3V0Om51bGx9LHRoaXMub24oXCJlcnJvclwiLHRoaXMucGF1c2VMb2FkaW5nKSx0aGlzLm1lZGlhVHlwZXNfPSgoKT0+e2NvbnN0IHQ9e307cmV0dXJuW1wiQVVESU9cIixcIlNVQlRJVExFU1wiLFwiQ0xPU0VELUNBUFRJT05TXCJdLmZvckVhY2goZT0+e3RbZV09e2dyb3Vwczp7fSx0cmFja3M6e30sYWN0aXZlUGxheWxpc3RMb2FkZXI6bnVsbCxhY3RpdmVHcm91cDpHaCxhY3RpdmVUcmFjazpHaCxnZXRBY3RpdmVHcm91cDpHaCxvbkdyb3VwQ2hhbmdlZDpHaCxvblRyYWNrQ2hhbmdlZDpHaCxsYXN0VHJhY2tfOm51bGwsbG9nZ2VyXzpCbChgTWVkaWFHcm91cHNbJHtlfV1gKX19KSx0fSkoKSx0aGlzLm1lZGlhU291cmNlPW5ldyB3aW5kb3cuTWVkaWFTb3VyY2UsdGhpcy5oYW5kbGVEdXJhdGlvbkNoYW5nZV89dGhpcy5oYW5kbGVEdXJhdGlvbkNoYW5nZV8uYmluZCh0aGlzKSx0aGlzLmhhbmRsZVNvdXJjZU9wZW5fPXRoaXMuaGFuZGxlU291cmNlT3Blbl8uYmluZCh0aGlzKSx0aGlzLmhhbmRsZVNvdXJjZUVuZGVkXz10aGlzLmhhbmRsZVNvdXJjZUVuZGVkXy5iaW5kKHRoaXMpLHRoaXMubWVkaWFTb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcihcImR1cmF0aW9uY2hhbmdlXCIsdGhpcy5oYW5kbGVEdXJhdGlvbkNoYW5nZV8pLHRoaXMubWVkaWFTb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcihcInNvdXJjZW9wZW5cIix0aGlzLmhhbmRsZVNvdXJjZU9wZW5fKSx0aGlzLm1lZGlhU291cmNlLmFkZEV2ZW50TGlzdGVuZXIoXCJzb3VyY2VlbmRlZFwiLHRoaXMuaGFuZGxlU291cmNlRW5kZWRfKSx0aGlzLnNlZWthYmxlXz1GbCgpLHRoaXMuaGFzUGxheWVkXz0hMSx0aGlzLnN5bmNDb250cm9sbGVyXz1uZXcgbHUoZSksdGhpcy5zZWdtZW50TWV0YWRhdGFUcmFja189ci5hZGRSZW1vdGVUZXh0VHJhY2soe2tpbmQ6XCJtZXRhZGF0YVwiLGxhYmVsOlwic2VnbWVudC1tZXRhZGF0YVwifSwhMSkudHJhY2ssdGhpcy5kZWNyeXB0ZXJfPW5ldyBodSx0aGlzLnNvdXJjZVVwZGF0ZXJfPW5ldyBpdSh0aGlzLm1lZGlhU291cmNlKSx0aGlzLmluYmFuZFRleHRUcmFja3NfPXt9LHRoaXMudGltZWxpbmVDaGFuZ2VDb250cm9sbGVyXz1uZXcgZHU7dmFyIGc9e3Zoczp0aGlzLnZoc18scGFyc2U3MDhjYXB0aW9uczplLnBhcnNlNzA4Y2FwdGlvbnMsdXNlRHRzRm9yVGltZXN0YW1wT2Zmc2V0OmUudXNlRHRzRm9yVGltZXN0YW1wT2Zmc2V0LGNhcHRpb25TZXJ2aWNlczpwLG1lZGlhU291cmNlOnRoaXMubWVkaWFTb3VyY2UsY3VycmVudFRpbWU6dGhpcy50ZWNoXy5jdXJyZW50VGltZS5iaW5kKHRoaXMudGVjaF8pLHNlZWthYmxlOigpPT50aGlzLnNlZWthYmxlKCksc2Vla2luZzooKT0+dGhpcy50ZWNoXy5zZWVraW5nKCksZHVyYXRpb246KCk9PnRoaXMuZHVyYXRpb24oKSxoYXNQbGF5ZWQ6KCk9PnRoaXMuaGFzUGxheWVkXyxnb2FsQnVmZmVyTGVuZ3RoOigpPT50aGlzLmdvYWxCdWZmZXJMZW5ndGgoKSxiYW5kd2lkdGg6cyxzeW5jQ29udHJvbGxlcjp0aGlzLnN5bmNDb250cm9sbGVyXyxkZWNyeXB0ZXI6dGhpcy5kZWNyeXB0ZXJfLHNvdXJjZVR5cGU6dGhpcy5zb3VyY2VUeXBlXyxpbmJhbmRUZXh0VHJhY2tzOnRoaXMuaW5iYW5kVGV4dFRyYWNrc18sY2FjaGVFbmNyeXB0aW9uS2V5czpoLHNvdXJjZVVwZGF0ZXI6dGhpcy5zb3VyY2VVcGRhdGVyXyx0aW1lbGluZUNoYW5nZUNvbnRyb2xsZXI6dGhpcy50aW1lbGluZUNoYW5nZUNvbnRyb2xsZXJfLGV4YWN0TWFuaWZlc3RUaW1pbmdzOmUuZXhhY3RNYW5pZmVzdFRpbWluZ3N9LGc9KHRoaXMubWFpblBsYXlsaXN0TG9hZGVyXz1uZXcoXCJkYXNoXCI9PT10aGlzLnNvdXJjZVR5cGVfP0tkOkNkKSh0LHRoaXMudmhzXyx0aGlzLnJlcXVlc3RPcHRpb25zXyksdGhpcy5zZXR1cE1haW5QbGF5bGlzdExvYWRlckxpc3RlbmVyc18oKSx0aGlzLm1haW5TZWdtZW50TG9hZGVyXz1uZXcgV2goTyhnLHtzZWdtZW50TWV0YWRhdGFUcmFjazp0aGlzLnNlZ21lbnRNZXRhZGF0YVRyYWNrXyxsb2FkZXJUeXBlOlwibWFpblwifSksZSksdGhpcy5hdWRpb1NlZ21lbnRMb2FkZXJfPW5ldyBXaChPKGcse2xvYWRlclR5cGU6XCJhdWRpb1wifSksZSksdGhpcy5zdWJ0aXRsZVNlZ21lbnRMb2FkZXJfPW5ldyBhdShPKGcse2xvYWRlclR5cGU6XCJ2dHRcIixmZWF0dXJlc05hdGl2ZVRleHRUcmFja3M6dGhpcy50ZWNoXy5mZWF0dXJlc05hdGl2ZVRleHRUcmFja3MsbG9hZFZ0dEpzOigpPT5uZXcgUHJvbWlzZSgoZSx0KT0+e2Z1bmN0aW9uIGkoKXtyLm9mZihcInZ0dGpzZXJyb3JcIixzKSxlKCl9ZnVuY3Rpb24gcygpe3Iub2ZmKFwidnR0anNsb2FkZWRcIixpKSx0KCl9ci5vbmUoXCJ2dHRqc2xvYWRlZFwiLGkpLHIub25lKFwidnR0anNlcnJvclwiLHMpLHIuYWRkV2ViVnR0U2NyaXB0XygpfSl9KSxlKSx0aGlzLnNldHVwU2VnbWVudExvYWRlckxpc3RlbmVyc18oKSx0aGlzLmJ1ZmZlckJhc2VkQUJSJiYodGhpcy5tYWluUGxheWxpc3RMb2FkZXJfLm9uZShcImxvYWRlZHBsYXlsaXN0XCIsKCk9PnRoaXMuc3RhcnRBQlJUaW1lcl8oKSksdGhpcy50ZWNoXy5vbihcInBhdXNlXCIsKCk9PnRoaXMuc3RvcEFCUlRpbWVyXygpKSx0aGlzLnRlY2hfLm9uKFwicGxheVwiLCgpPT50aGlzLnN0YXJ0QUJSVGltZXJfKCkpKSxidS5mb3JFYWNoKGU9Pnt0aGlzW2UrXCJfXCJdPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmF1ZGlvU2VnbWVudExvYWRlcl9bZV0rdGhpcy5tYWluU2VnbWVudExvYWRlcl9bZV19LmJpbmQodGhpcyxlKX0pLHRoaXMubG9nZ2VyXz1CbChcInBjXCIpLHRoaXMudHJpZ2dlcmVkRm1wNFVzYWdlPSExLFwibm9uZVwiPT09dGhpcy50ZWNoXy5wcmVsb2FkKCk/KHRoaXMubG9hZE9uUGxheV89KCk9Pnt0aGlzLmxvYWRPblBsYXlfPW51bGwsdGhpcy5tYWluUGxheWxpc3RMb2FkZXJfLmxvYWQoKX0sdGhpcy50ZWNoXy5vbmUoXCJwbGF5XCIsdGhpcy5sb2FkT25QbGF5XykpOnRoaXMubWFpblBsYXlsaXN0TG9hZGVyXy5sb2FkKCksdGhpcy50aW1lVG9Mb2FkZWREYXRhX189LTEsdGhpcy5tYWluQXBwZW5kc1RvTG9hZGVkRGF0YV9fPS0xLHRoaXMuYXVkaW9BcHBlbmRzVG9Mb2FkZWREYXRhX189LTEsXCJub25lXCI9PT10aGlzLnRlY2hfLnByZWxvYWQoKT9cInBsYXlcIjpcImxvYWRzdGFydFwiKTt0aGlzLnRlY2hfLm9uZShnLCgpPT57Y29uc3QgZT1EYXRlLm5vdygpO3RoaXMudGVjaF8ub25lKFwibG9hZGVkZGF0YVwiLCgpPT57dGhpcy50aW1lVG9Mb2FkZWREYXRhX189RGF0ZS5ub3coKS1lLHRoaXMubWFpbkFwcGVuZHNUb0xvYWRlZERhdGFfXz10aGlzLm1haW5TZWdtZW50TG9hZGVyXy5tZWRpYUFwcGVuZHMsdGhpcy5hdWRpb0FwcGVuZHNUb0xvYWRlZERhdGFfXz10aGlzLmF1ZGlvU2VnbWVudExvYWRlcl8ubWVkaWFBcHBlbmRzfSl9KX1tYWluQXBwZW5kc1RvTG9hZGVkRGF0YV8oKXtyZXR1cm4gdGhpcy5tYWluQXBwZW5kc1RvTG9hZGVkRGF0YV9ffWF1ZGlvQXBwZW5kc1RvTG9hZGVkRGF0YV8oKXtyZXR1cm4gdGhpcy5hdWRpb0FwcGVuZHNUb0xvYWRlZERhdGFfX31hcHBlbmRzVG9Mb2FkZWREYXRhXygpe3ZhciBlPXRoaXMubWFpbkFwcGVuZHNUb0xvYWRlZERhdGFfKCksdD10aGlzLmF1ZGlvQXBwZW5kc1RvTG9hZGVkRGF0YV8oKTtyZXR1cm4tMT09PWV8fC0xPT09dD8tMTplK3R9dGltZVRvTG9hZGVkRGF0YV8oKXtyZXR1cm4gdGhpcy50aW1lVG9Mb2FkZWREYXRhX199Y2hlY2tBQlJfKGU9XCJhYnJcIil7dmFyIHQ9dGhpcy5zZWxlY3RQbGF5bGlzdCgpO3QmJnRoaXMuc2hvdWxkU3dpdGNoVG9NZWRpYV8odCkmJnRoaXMuc3dpdGNoTWVkaWFfKHQsZSl9c3dpdGNoTWVkaWFfKGUsdCxpKXt2YXIgcz10aGlzLm1lZGlhKCkscz1zJiYocy5pZHx8cy51cmkpLHI9ZS5pZHx8ZS51cmk7cyYmcyE9PXImJih0aGlzLmxvZ2dlcl8oYHN3aXRjaCBtZWRpYSAke3N9IC0+ICR7cn0gZnJvbSBgK3QpLHRoaXMudGVjaF8udHJpZ2dlcih7dHlwZTpcInVzYWdlXCIsbmFtZTpcInZocy1yZW5kaXRpb24tY2hhbmdlLVwiK3R9KSksdGhpcy5tYWluUGxheWxpc3RMb2FkZXJfLm1lZGlhKGUsaSl9c3RhcnRBQlJUaW1lcl8oKXt0aGlzLnN0b3BBQlJUaW1lcl8oKSx0aGlzLmFiclRpbWVyXz13aW5kb3cuc2V0SW50ZXJ2YWwoKCk9PnRoaXMuY2hlY2tBQlJfKCksMjUwKX1zdG9wQUJSVGltZXJfKCl7dGhpcy50ZWNoXy5zY3J1YmJpbmcmJnRoaXMudGVjaF8uc2NydWJiaW5nKCl8fCh3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLmFiclRpbWVyXyksdGhpcy5hYnJUaW1lcl89bnVsbCl9Z2V0QXVkaW9UcmFja1BsYXlsaXN0c18oKXt2YXIgdD10aGlzLm1haW4oKSxlPXQmJnQucGxheWxpc3RzfHxbXTtpZighdHx8IXQubWVkaWFHcm91cHN8fCF0Lm1lZGlhR3JvdXBzLkFVRElPKXJldHVybiBlO3ZhciBpPXQubWVkaWFHcm91cHMuQVVESU8scz1PYmplY3Qua2V5cyhpKTtsZXQgcjtpZihPYmplY3Qua2V5cyh0aGlzLm1lZGlhVHlwZXNfLkFVRElPLmdyb3VwcykubGVuZ3RoKXI9dGhpcy5tZWRpYVR5cGVzXy5BVURJTy5hY3RpdmVUcmFjaygpO2Vsc2V7dmFyIG49aS5tYWlufHxzLmxlbmd0aCYmaVtzWzBdXTtmb3IoY29uc3QgZCBpbiBuKWlmKG5bZF0uZGVmYXVsdCl7cj17bGFiZWw6ZH07YnJlYWt9fWlmKCFyKXJldHVybiBlO3ZhciBhPVtdO2Zvcihjb25zdCBoIGluIGkpaWYoaVtoXVtyLmxhYmVsXSl7dmFyIG89aVtoXVtyLmxhYmVsXTtpZihvLnBsYXlsaXN0cyYmby5wbGF5bGlzdHMubGVuZ3RoKWEucHVzaC5hcHBseShhLG8ucGxheWxpc3RzKTtlbHNlIGlmKG8udXJpKWEucHVzaChvKTtlbHNlIGlmKHQucGxheWxpc3RzLmxlbmd0aClmb3IobGV0IGU9MDtlPHQucGxheWxpc3RzLmxlbmd0aDtlKyspe3ZhciBsPXQucGxheWxpc3RzW2VdO2wuYXR0cmlidXRlcyYmbC5hdHRyaWJ1dGVzLkFVRElPJiZsLmF0dHJpYnV0ZXMuQVVESU89PT1oJiZhLnB1c2gobCl9fXJldHVybiBhLmxlbmd0aD9hOmV9c2V0dXBNYWluUGxheWxpc3RMb2FkZXJMaXN0ZW5lcnNfKCl7dGhpcy5tYWluUGxheWxpc3RMb2FkZXJfLm9uKFwibG9hZGVkbWV0YWRhdGFcIiwoKT0+e3ZhciBlPXRoaXMubWFpblBsYXlsaXN0TG9hZGVyXy5tZWRpYSgpLHQ9MS41KmUudGFyZ2V0RHVyYXRpb24qMWUzO3VkKHRoaXMubWFpblBsYXlsaXN0TG9hZGVyXy5tYWluLHRoaXMubWFpblBsYXlsaXN0TG9hZGVyXy5tZWRpYSgpKT90aGlzLnJlcXVlc3RPcHRpb25zXy50aW1lb3V0PTA6dGhpcy5yZXF1ZXN0T3B0aW9uc18udGltZW91dD10LGUuZW5kTGlzdCYmXCJub25lXCIhPT10aGlzLnRlY2hfLnByZWxvYWQoKSYmKHRoaXMubWFpblNlZ21lbnRMb2FkZXJfLnBsYXlsaXN0KGUsdGhpcy5yZXF1ZXN0T3B0aW9uc18pLHRoaXMubWFpblNlZ21lbnRMb2FkZXJfLmxvYWQoKSksX3Uoe3NvdXJjZVR5cGU6dGhpcy5zb3VyY2VUeXBlXyxzZWdtZW50TG9hZGVyczp7QVVESU86dGhpcy5hdWRpb1NlZ21lbnRMb2FkZXJfLFNVQlRJVExFUzp0aGlzLnN1YnRpdGxlU2VnbWVudExvYWRlcl8sbWFpbjp0aGlzLm1haW5TZWdtZW50TG9hZGVyX30sdGVjaDp0aGlzLnRlY2hfLHJlcXVlc3RPcHRpb25zOnRoaXMucmVxdWVzdE9wdGlvbnNfLG1haW5QbGF5bGlzdExvYWRlcjp0aGlzLm1haW5QbGF5bGlzdExvYWRlcl8sdmhzOnRoaXMudmhzXyxtYWluOnRoaXMubWFpbigpLG1lZGlhVHlwZXM6dGhpcy5tZWRpYVR5cGVzXyxleGNsdWRlUGxheWxpc3Q6dGhpcy5leGNsdWRlUGxheWxpc3QuYmluZCh0aGlzKX0pLHRoaXMudHJpZ2dlclByZXNlbmNlVXNhZ2VfKHRoaXMubWFpbigpLGUpLHRoaXMuc2V0dXBGaXJzdFBsYXkoKSwhdGhpcy5tZWRpYVR5cGVzXy5BVURJTy5hY3RpdmVQbGF5bGlzdExvYWRlcnx8dGhpcy5tZWRpYVR5cGVzXy5BVURJTy5hY3RpdmVQbGF5bGlzdExvYWRlci5tZWRpYSgpP3RoaXMudHJpZ2dlcihcInNlbGVjdGVkaW5pdGlhbG1lZGlhXCIpOnRoaXMubWVkaWFUeXBlc18uQVVESU8uYWN0aXZlUGxheWxpc3RMb2FkZXIub25lKFwibG9hZGVkbWV0YWRhdGFcIiwoKT0+e3RoaXMudHJpZ2dlcihcInNlbGVjdGVkaW5pdGlhbG1lZGlhXCIpfSl9KSx0aGlzLm1haW5QbGF5bGlzdExvYWRlcl8ub24oXCJsb2FkZWRwbGF5bGlzdFwiLCgpPT57dGhpcy5sb2FkT25QbGF5XyYmdGhpcy50ZWNoXy5vZmYoXCJwbGF5XCIsdGhpcy5sb2FkT25QbGF5Xyk7bGV0IHQ9dGhpcy5tYWluUGxheWxpc3RMb2FkZXJfLm1lZGlhKCk7aWYoIXQpe3RoaXMuZXhjbHVkZVVuc3VwcG9ydGVkVmFyaWFudHNfKCk7bGV0IGU7aWYoIShlPShlPXRoaXMuZW5hYmxlTG93SW5pdGlhbFBsYXlsaXN0P3RoaXMuc2VsZWN0SW5pdGlhbFBsYXlsaXN0KCk6ZSl8fHRoaXMuc2VsZWN0UGxheWxpc3QoKSl8fCF0aGlzLnNob3VsZFN3aXRjaFRvTWVkaWFfKGUpKXJldHVybjtpZih0aGlzLmluaXRpYWxNZWRpYV89ZSx0aGlzLnN3aXRjaE1lZGlhXyh0aGlzLmluaXRpYWxNZWRpYV8sXCJpbml0aWFsXCIpLCEoXCJ2aHMtanNvblwiPT09dGhpcy5zb3VyY2VUeXBlXyYmdGhpcy5pbml0aWFsTWVkaWFfLnNlZ21lbnRzKSlyZXR1cm47dD10aGlzLmluaXRpYWxNZWRpYV99dGhpcy5oYW5kbGVVcGRhdGVkTWVkaWFQbGF5bGlzdCh0KX0pLHRoaXMubWFpblBsYXlsaXN0TG9hZGVyXy5vbihcImVycm9yXCIsKCk9Pnt2YXIgZT10aGlzLm1haW5QbGF5bGlzdExvYWRlcl8uZXJyb3I7dGhpcy5leGNsdWRlUGxheWxpc3Qoe3BsYXlsaXN0VG9FeGNsdWRlOmUucGxheWxpc3QsZXJyb3I6ZX0pfSksdGhpcy5tYWluUGxheWxpc3RMb2FkZXJfLm9uKFwibWVkaWFjaGFuZ2luZ1wiLCgpPT57dGhpcy5tYWluU2VnbWVudExvYWRlcl8uYWJvcnQoKSx0aGlzLm1haW5TZWdtZW50TG9hZGVyXy5wYXVzZSgpfSksdGhpcy5tYWluUGxheWxpc3RMb2FkZXJfLm9uKFwibWVkaWFjaGFuZ2VcIiwoKT0+e3ZhciBlPXRoaXMubWFpblBsYXlsaXN0TG9hZGVyXy5tZWRpYSgpLHQ9MS41KmUudGFyZ2V0RHVyYXRpb24qMWUzO3VkKHRoaXMubWFpblBsYXlsaXN0TG9hZGVyXy5tYWluLHRoaXMubWFpblBsYXlsaXN0TG9hZGVyXy5tZWRpYSgpKT90aGlzLnJlcXVlc3RPcHRpb25zXy50aW1lb3V0PTA6dGhpcy5yZXF1ZXN0T3B0aW9uc18udGltZW91dD10LHRoaXMubWFpblBsYXlsaXN0TG9hZGVyXy5sb2FkKCksdGhpcy5tYWluU2VnbWVudExvYWRlcl8ucGxheWxpc3QoZSx0aGlzLnJlcXVlc3RPcHRpb25zXyksdGhpcy5tYWluU2VnbWVudExvYWRlcl8ubG9hZCgpLHRoaXMudGVjaF8udHJpZ2dlcih7dHlwZTpcIm1lZGlhY2hhbmdlXCIsYnViYmxlczohMH0pfSksdGhpcy5tYWluUGxheWxpc3RMb2FkZXJfLm9uKFwicGxheWxpc3R1bmNoYW5nZWRcIiwoKT0+e3ZhciBlPXRoaXMubWFpblBsYXlsaXN0TG9hZGVyXy5tZWRpYSgpO1wicGxheWxpc3QtdW5jaGFuZ2VkXCIhPT1lLmxhc3RFeGNsdWRlUmVhc29uXyYmdGhpcy5zdHVja0F0UGxheWxpc3RFbmRfKGUpJiYodGhpcy5leGNsdWRlUGxheWxpc3Qoe2Vycm9yOnttZXNzYWdlOlwiUGxheWxpc3Qgbm8gbG9uZ2VyIHVwZGF0aW5nLlwiLHJlYXNvbjpcInBsYXlsaXN0LXVuY2hhbmdlZFwifX0pLHRoaXMudGVjaF8udHJpZ2dlcihcInBsYXlsaXN0c3R1Y2tcIikpfSksdGhpcy5tYWluUGxheWxpc3RMb2FkZXJfLm9uKFwicmVuZGl0aW9uZGlzYWJsZWRcIiwoKT0+e3RoaXMudGVjaF8udHJpZ2dlcih7dHlwZTpcInVzYWdlXCIsbmFtZTpcInZocy1yZW5kaXRpb24tZGlzYWJsZWRcIn0pfSksdGhpcy5tYWluUGxheWxpc3RMb2FkZXJfLm9uKFwicmVuZGl0aW9uZW5hYmxlZFwiLCgpPT57dGhpcy50ZWNoXy50cmlnZ2VyKHt0eXBlOlwidXNhZ2VcIixuYW1lOlwidmhzLXJlbmRpdGlvbi1lbmFibGVkXCJ9KX0pfWhhbmRsZVVwZGF0ZWRNZWRpYVBsYXlsaXN0KGUpe3RoaXMudXNlQ3VlVGFnc18mJnRoaXMudXBkYXRlQWRDdWVzXyhlKSx0aGlzLm1haW5TZWdtZW50TG9hZGVyXy5wbGF5bGlzdChlLHRoaXMucmVxdWVzdE9wdGlvbnNfKSx0aGlzLnVwZGF0ZUR1cmF0aW9uKCFlLmVuZExpc3QpLHRoaXMudGVjaF8ucGF1c2VkKCl8fCh0aGlzLm1haW5TZWdtZW50TG9hZGVyXy5sb2FkKCksdGhpcy5hdWRpb1NlZ21lbnRMb2FkZXJfJiZ0aGlzLmF1ZGlvU2VnbWVudExvYWRlcl8ubG9hZCgpKX10cmlnZ2VyUHJlc2VuY2VVc2FnZV8oZSx0KXt2YXIgaT1lLm1lZGlhR3JvdXBzfHx7fTtsZXQgcz0hMDtlPU9iamVjdC5rZXlzKGkuQVVESU8pO2Zvcihjb25zdCByIGluIGkuQVVESU8pZm9yKGNvbnN0IG4gaW4gaS5BVURJT1tyXSlpLkFVRElPW3JdW25dLnVyaXx8KHM9ITEpO3MmJnRoaXMudGVjaF8udHJpZ2dlcih7dHlwZTpcInVzYWdlXCIsbmFtZTpcInZocy1kZW11eGVkXCJ9KSxPYmplY3Qua2V5cyhpLlNVQlRJVExFUykubGVuZ3RoJiZ0aGlzLnRlY2hfLnRyaWdnZXIoe3R5cGU6XCJ1c2FnZVwiLG5hbWU6XCJ2aHMtd2VidnR0XCJ9KSx2dS5QbGF5bGlzdC5pc0Flcyh0KSYmdGhpcy50ZWNoXy50cmlnZ2VyKHt0eXBlOlwidXNhZ2VcIixuYW1lOlwidmhzLWFlc1wifSksZS5sZW5ndGgmJjE8T2JqZWN0LmtleXMoaS5BVURJT1tlWzBdXSkubGVuZ3RoJiZ0aGlzLnRlY2hfLnRyaWdnZXIoe3R5cGU6XCJ1c2FnZVwiLG5hbWU6XCJ2aHMtYWx0ZXJuYXRlLWF1ZGlvXCJ9KSx0aGlzLnVzZUN1ZVRhZ3NfJiZ0aGlzLnRlY2hfLnRyaWdnZXIoe3R5cGU6XCJ1c2FnZVwiLG5hbWU6XCJ2aHMtcGxheWxpc3QtY3VlLXRhZ3NcIn0pfXNob3VsZFN3aXRjaFRvTWVkaWFfKHQpe3ZhciBlPXRoaXMubWFpblBsYXlsaXN0TG9hZGVyXy5tZWRpYSgpfHx0aGlzLm1haW5QbGF5bGlzdExvYWRlcl8ucGVuZGluZ01lZGlhXyxpPXRoaXMudGVjaF8uY3VycmVudFRpbWUoKSxzPXRoaXMuYnVmZmVyTG93V2F0ZXJMaW5lKCkscj10aGlzLmJ1ZmZlckhpZ2hXYXRlckxpbmUoKSx7Y3VycmVudFBsYXlsaXN0OmksYnVmZmVyZWQ6ZSxjdXJyZW50VGltZTp0LG5leHRQbGF5bGlzdDpzLGJ1ZmZlckxvd1dhdGVyTGluZTpyLGJ1ZmZlckhpZ2hXYXRlckxpbmU6bixkdXJhdGlvbjphLGJ1ZmZlckJhc2VkQUJSOm8sbG9nOmx9PVt7YnVmZmVyZWQ6dGhpcy50ZWNoXy5idWZmZXJlZCgpLGN1cnJlbnRUaW1lOmksY3VycmVudFBsYXlsaXN0OmUsbmV4dFBsYXlsaXN0OnQsYnVmZmVyTG93V2F0ZXJMaW5lOnMsYnVmZmVySGlnaFdhdGVyTGluZTpyLGR1cmF0aW9uOnRoaXMuZHVyYXRpb24oKSxidWZmZXJCYXNlZEFCUjp0aGlzLmJ1ZmZlckJhc2VkQUJSLGxvZzp0aGlzLmxvZ2dlcl99XVswXTtpZihzKXt2YXIgZD1gYWxsb3dpbmcgc3dpdGNoICR7aSYmaS5pZHx8XCJudWxsXCJ9IC0+IGArcy5pZDtpZighaSlyZXR1cm4gbChkK1wiIGFzIGN1cnJlbnQgcGxheWxpc3QgaXMgbm90IHNldFwiKSwhMDtpZihzLmlkIT09aS5pZCl7dmFyIGg9Qm9vbGVhbihqbChlLHQpLmxlbmd0aCk7aWYoIWkuZW5kTGlzdClyZXR1cm4gaHx8XCJudW1iZXJcIiE9dHlwZW9mIGkucGFydFRhcmdldER1cmF0aW9uPyhsKGQrXCIgYXMgY3VycmVudCBwbGF5bGlzdCBpcyBsaXZlXCIpLCEwKToobChgbm90ICR7ZH0gYXMgY3VycmVudCBwbGF5bGlzdCBpcyBsaXZlIGxsaGxzLCBidXQgY3VycmVudFRpbWUgaXNuJ3QgaW4gYnVmZmVyZWQuYCksITEpO2g9VmwoZSx0KSxlPW8/RC5FWFBFUklNRU5UQUxfTUFYX0JVRkZFUl9MT1dfV0FURVJfTElORTpELk1BWF9CVUZGRVJfTE9XX1dBVEVSX0xJTkU7aWYoYTxlKXJldHVybiBsKGQrYCBhcyBkdXJhdGlvbiA8IG1heCBsb3cgd2F0ZXIgbGluZSAoJHthfSA8ICR7ZX0pYCksITA7dD1zLmF0dHJpYnV0ZXMuQkFORFdJRFRILGE9aS5hdHRyaWJ1dGVzLkJBTkRXSURUSDtpZih0PGEmJighb3x8aDxuKSl7bGV0IGU9ZCtgIGFzIG5leHQgYmFuZHdpZHRoIDwgY3VycmVudCBiYW5kd2lkdGggKCR7dH0gPCAke2F9KWA7cmV0dXJuIG8mJihlKz1gIGFuZCBmb3J3YXJkQnVmZmVyIDwgYnVmZmVySGlnaFdhdGVyTGluZSAoJHtofSA8ICR7bn0pYCksbChlKSwhMH1pZigoIW98fGE8dCkmJnI8PWgpe2xldCBlPWQrYCBhcyBmb3J3YXJkQnVmZmVyID49IGJ1ZmZlckxvd1dhdGVyTGluZSAoJHtofSA+PSAke3J9KWA7cmV0dXJuIG8mJihlKz1gIGFuZCBuZXh0IGJhbmR3aWR0aCA+IGN1cnJlbnQgYmFuZHdpZHRoICgke3R9ID4gJHthfSlgKSxsKGUpLCEwfWwoYG5vdCAke2R9IGFzIG5vIHN3aXRjaGluZyBjcml0ZXJpYSBtZXRgKX19ZWxzZSBULmxvZy53YXJuKFwiV2UgcmVjZWl2ZWQgbm8gcGxheWxpc3QgdG8gc3dpdGNoIHRvLiBQbGVhc2UgY2hlY2sgeW91ciBzdHJlYW0uXCIpO3JldHVybiExfXNldHVwU2VnbWVudExvYWRlckxpc3RlbmVyc18oKXt0aGlzLm1haW5TZWdtZW50TG9hZGVyXy5vbihcImJhbmR3aWR0aHVwZGF0ZVwiLCgpPT57dGhpcy5jaGVja0FCUl8oXCJiYW5kd2lkdGh1cGRhdGVcIiksdGhpcy50ZWNoXy50cmlnZ2VyKFwiYmFuZHdpZHRodXBkYXRlXCIpfSksdGhpcy5tYWluU2VnbWVudExvYWRlcl8ub24oXCJ0aW1lb3V0XCIsKCk9Pnt0aGlzLmJ1ZmZlckJhc2VkQUJSJiZ0aGlzLm1haW5TZWdtZW50TG9hZGVyXy5sb2FkKCl9KSx0aGlzLmJ1ZmZlckJhc2VkQUJSfHx0aGlzLm1haW5TZWdtZW50TG9hZGVyXy5vbihcInByb2dyZXNzXCIsKCk9Pnt0aGlzLnRyaWdnZXIoXCJwcm9ncmVzc1wiKX0pLHRoaXMubWFpblNlZ21lbnRMb2FkZXJfLm9uKFwiZXJyb3JcIiwoKT0+e3ZhciBlPXRoaXMubWFpblNlZ21lbnRMb2FkZXJfLmVycm9yKCk7dGhpcy5leGNsdWRlUGxheWxpc3Qoe3BsYXlsaXN0VG9FeGNsdWRlOmUucGxheWxpc3QsZXJyb3I6ZX0pfSksdGhpcy5tYWluU2VnbWVudExvYWRlcl8ub24oXCJhcHBlbmRlcnJvclwiLCgpPT57dGhpcy5lcnJvcj10aGlzLm1haW5TZWdtZW50TG9hZGVyXy5lcnJvcl8sdGhpcy50cmlnZ2VyKFwiZXJyb3JcIil9KSx0aGlzLm1haW5TZWdtZW50TG9hZGVyXy5vbihcInN5bmNpbmZvdXBkYXRlXCIsKCk9Pnt0aGlzLm9uU3luY0luZm9VcGRhdGVfKCl9KSx0aGlzLm1haW5TZWdtZW50TG9hZGVyXy5vbihcInRpbWVzdGFtcG9mZnNldFwiLCgpPT57dGhpcy50ZWNoXy50cmlnZ2VyKHt0eXBlOlwidXNhZ2VcIixuYW1lOlwidmhzLXRpbWVzdGFtcC1vZmZzZXRcIn0pfSksdGhpcy5hdWRpb1NlZ21lbnRMb2FkZXJfLm9uKFwic3luY2luZm91cGRhdGVcIiwoKT0+e3RoaXMub25TeW5jSW5mb1VwZGF0ZV8oKX0pLHRoaXMuYXVkaW9TZWdtZW50TG9hZGVyXy5vbihcImFwcGVuZGVycm9yXCIsKCk9Pnt0aGlzLmVycm9yPXRoaXMuYXVkaW9TZWdtZW50TG9hZGVyXy5lcnJvcl8sdGhpcy50cmlnZ2VyKFwiZXJyb3JcIil9KSx0aGlzLm1haW5TZWdtZW50TG9hZGVyXy5vbihcImVuZGVkXCIsKCk9Pnt0aGlzLmxvZ2dlcl8oXCJtYWluIHNlZ21lbnQgbG9hZGVyIGVuZGVkXCIpLHRoaXMub25FbmRPZlN0cmVhbSgpfSksdGhpcy5tYWluU2VnbWVudExvYWRlcl8ub24oXCJlYXJseWFib3J0XCIsZT0+e3RoaXMuYnVmZmVyQmFzZWRBQlJ8fCh0aGlzLmRlbGVnYXRlTG9hZGVyc18oXCJhbGxcIixbXCJhYm9ydFwiXSksdGhpcy5leGNsdWRlUGxheWxpc3Qoe2Vycm9yOnttZXNzYWdlOlwiQWJvcnRlZCBlYXJseSBiZWNhdXNlIHRoZXJlIGlzbid0IGVub3VnaCBiYW5kd2lkdGggdG8gY29tcGxldGUgdGhlIHJlcXVlc3Qgd2l0aG91dCByZWJ1ZmZlcmluZy5cIn0scGxheWxpc3RFeGNsdXNpb25EdXJhdGlvbjoxMjB9KSl9KTt2YXIgZT0oKT0+e2lmKCF0aGlzLnNvdXJjZVVwZGF0ZXJfLmhhc0NyZWF0ZWRTb3VyY2VCdWZmZXJzKCkpcmV0dXJuIHRoaXMudHJ5VG9DcmVhdGVTb3VyY2VCdWZmZXJzXygpO3ZhciBlPXRoaXMuZ2V0Q29kZWNzT3JFeGNsdWRlXygpO2UmJnRoaXMuc291cmNlVXBkYXRlcl8uYWRkT3JDaGFuZ2VTb3VyY2VCdWZmZXJzKGUpfTt0aGlzLm1haW5TZWdtZW50TG9hZGVyXy5vbihcInRyYWNraW5mb1wiLGUpLHRoaXMuYXVkaW9TZWdtZW50TG9hZGVyXy5vbihcInRyYWNraW5mb1wiLGUpLHRoaXMubWFpblNlZ21lbnRMb2FkZXJfLm9uKFwiZm1wNFwiLCgpPT57dGhpcy50cmlnZ2VyZWRGbXA0VXNhZ2V8fCh0aGlzLnRlY2hfLnRyaWdnZXIoe3R5cGU6XCJ1c2FnZVwiLG5hbWU6XCJ2aHMtZm1wNFwifSksdGhpcy50cmlnZ2VyZWRGbXA0VXNhZ2U9ITApfSksdGhpcy5hdWRpb1NlZ21lbnRMb2FkZXJfLm9uKFwiZm1wNFwiLCgpPT57dGhpcy50cmlnZ2VyZWRGbXA0VXNhZ2V8fCh0aGlzLnRlY2hfLnRyaWdnZXIoe3R5cGU6XCJ1c2FnZVwiLG5hbWU6XCJ2aHMtZm1wNFwifSksdGhpcy50cmlnZ2VyZWRGbXA0VXNhZ2U9ITApfSksdGhpcy5hdWRpb1NlZ21lbnRMb2FkZXJfLm9uKFwiZW5kZWRcIiwoKT0+e3RoaXMubG9nZ2VyXyhcImF1ZGlvU2VnbWVudExvYWRlciBlbmRlZFwiKSx0aGlzLm9uRW5kT2ZTdHJlYW0oKX0pfW1lZGlhU2Vjb25kc0xvYWRlZF8oKXtyZXR1cm4gTWF0aC5tYXgodGhpcy5hdWRpb1NlZ21lbnRMb2FkZXJfLm1lZGlhU2Vjb25kc0xvYWRlZCt0aGlzLm1haW5TZWdtZW50TG9hZGVyXy5tZWRpYVNlY29uZHNMb2FkZWQpfWxvYWQoKXt0aGlzLm1haW5TZWdtZW50TG9hZGVyXy5sb2FkKCksdGhpcy5tZWRpYVR5cGVzXy5BVURJTy5hY3RpdmVQbGF5bGlzdExvYWRlciYmdGhpcy5hdWRpb1NlZ21lbnRMb2FkZXJfLmxvYWQoKSx0aGlzLm1lZGlhVHlwZXNfLlNVQlRJVExFUy5hY3RpdmVQbGF5bGlzdExvYWRlciYmdGhpcy5zdWJ0aXRsZVNlZ21lbnRMb2FkZXJfLmxvYWQoKX1mYXN0UXVhbGl0eUNoYW5nZV8oZT10aGlzLnNlbGVjdFBsYXlsaXN0KCkpe2U9PT10aGlzLm1haW5QbGF5bGlzdExvYWRlcl8ubWVkaWEoKT90aGlzLmxvZ2dlcl8oXCJza2lwcGluZyBmYXN0UXVhbGl0eUNoYW5nZSBiZWNhdXNlIG5ldyBtZWRpYSBpcyBzYW1lIGFzIG9sZFwiKToodGhpcy5zd2l0Y2hNZWRpYV8oZSxcImZhc3QtcXVhbGl0eVwiKSx0aGlzLm1haW5TZWdtZW50TG9hZGVyXy5yZXNldEV2ZXJ5dGhpbmcoKCk9PntULmJyb3dzZXIuSUVfVkVSU0lPTnx8VC5icm93c2VyLklTX0VER0U/dGhpcy50ZWNoXy5zZXRDdXJyZW50VGltZSh0aGlzLnRlY2hfLmN1cnJlbnRUaW1lKCkrLjA0KTp0aGlzLnRlY2hfLnNldEN1cnJlbnRUaW1lKHRoaXMudGVjaF8uY3VycmVudFRpbWUoKSl9KSl9cGxheSgpe3ZhciBlO2lmKCF0aGlzLnNldHVwRmlyc3RQbGF5KCkpcmV0dXJuIHRoaXMudGVjaF8uZW5kZWQoKSYmdGhpcy50ZWNoXy5zZXRDdXJyZW50VGltZSgwKSx0aGlzLmhhc1BsYXllZF8mJnRoaXMubG9hZCgpLGU9dGhpcy50ZWNoXy5zZWVrYWJsZSgpLHRoaXMudGVjaF8uZHVyYXRpb24oKT09PTEvMCYmdGhpcy50ZWNoXy5jdXJyZW50VGltZSgpPGUuc3RhcnQoMCk/dGhpcy50ZWNoXy5zZXRDdXJyZW50VGltZShlLmVuZChlLmxlbmd0aC0xKSk6dm9pZCAwfXNldHVwRmlyc3RQbGF5KCl7dmFyIGU9dGhpcy5tYWluUGxheWxpc3RMb2FkZXJfLm1lZGlhKCk7aWYoIWV8fHRoaXMudGVjaF8ucGF1c2VkKCl8fHRoaXMuaGFzUGxheWVkXylyZXR1cm4hMTtpZighZS5lbmRMaXN0KXtjb25zdCB0PXRoaXMuc2Vla2FibGUoKTtpZighdC5sZW5ndGgpcmV0dXJuITE7aWYoVC5icm93c2VyLklFX1ZFUlNJT04mJjA9PT10aGlzLnRlY2hfLnJlYWR5U3RhdGUoKSlyZXR1cm4gdGhpcy50ZWNoXy5vbmUoXCJsb2FkZWRtZXRhZGF0YVwiLCgpPT57dGhpcy50cmlnZ2VyKFwiZmlyc3RwbGF5XCIpLHRoaXMudGVjaF8uc2V0Q3VycmVudFRpbWUodC5lbmQoMCkpLHRoaXMuaGFzUGxheWVkXz0hMH0pLCExO3RoaXMudHJpZ2dlcihcImZpcnN0cGxheVwiKSx0aGlzLnRlY2hfLnNldEN1cnJlbnRUaW1lKHQuZW5kKDApKX1yZXR1cm4gdGhpcy5oYXNQbGF5ZWRfPSEwLHRoaXMubG9hZCgpLCEwfWhhbmRsZVNvdXJjZU9wZW5fKCl7dmFyIGU7dGhpcy50cnlUb0NyZWF0ZVNvdXJjZUJ1ZmZlcnNfKCksdGhpcy50ZWNoXy5hdXRvcGxheSgpJiZcInVuZGVmaW5lZFwiIT10eXBlb2YoZT10aGlzLnRlY2hfLnBsYXkoKSkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUudGhlbiYmZS50aGVuKG51bGwsZT0+e30pLHRoaXMudHJpZ2dlcihcInNvdXJjZW9wZW5cIil9aGFuZGxlU291cmNlRW5kZWRfKCl7dmFyIGUsdDt0aGlzLmluYmFuZFRleHRUcmFja3NfLm1ldGFkYXRhVHJhY2tfJiYoZT10aGlzLmluYmFuZFRleHRUcmFja3NfLm1ldGFkYXRhVHJhY2tfLmN1ZXMpJiZlLmxlbmd0aCYmKHQ9dGhpcy5kdXJhdGlvbigpLGVbZS5sZW5ndGgtMV0uZW5kVGltZT1pc05hTih0KXx8TWF0aC5hYnModCk9PT0xLzA/TnVtYmVyLk1BWF9WQUxVRTp0KX1oYW5kbGVEdXJhdGlvbkNoYW5nZV8oKXt0aGlzLnRlY2hfLnRyaWdnZXIoXCJkdXJhdGlvbmNoYW5nZVwiKX1vbkVuZE9mU3RyZWFtKCl7bGV0IGU9dGhpcy5tYWluU2VnbWVudExvYWRlcl8uZW5kZWRfO3ZhciB0O3RoaXMubWVkaWFUeXBlc18uQVVESU8uYWN0aXZlUGxheWxpc3RMb2FkZXImJih0PXRoaXMubWFpblNlZ21lbnRMb2FkZXJfLmdldEN1cnJlbnRNZWRpYUluZm9fKCksZT0odCYmIXQuaGFzVmlkZW98fGUpJiZ0aGlzLmF1ZGlvU2VnbWVudExvYWRlcl8uZW5kZWRfKSxlJiYodGhpcy5zdG9wQUJSVGltZXJfKCksdGhpcy5zb3VyY2VVcGRhdGVyXy5lbmRPZlN0cmVhbSgpKX1zdHVja0F0UGxheWxpc3RFbmRfKGUpe3ZhciB0LGk7cmV0dXJuISF0aGlzLnNlZWthYmxlKCkubGVuZ3RoJiZudWxsIT09KHQ9dGhpcy5zeW5jQ29udHJvbGxlcl8uZ2V0RXhwaXJlZFRpbWUoZSx0aGlzLmR1cmF0aW9uKCkpKSYmKGU9dnUuUGxheWxpc3QucGxheWxpc3RFbmQoZSx0KSx0PXRoaXMudGVjaF8uY3VycmVudFRpbWUoKSwoaT10aGlzLnRlY2hfLmJ1ZmZlcmVkKCkpLmxlbmd0aD8oaT1pLmVuZChpLmxlbmd0aC0xKSktdDw9emwmJmUtaTw9emw6ZS10PD16bCl9ZXhjbHVkZVBsYXlsaXN0KHtwbGF5bGlzdFRvRXhjbHVkZTpzPXRoaXMubWFpblBsYXlsaXN0TG9hZGVyXy5tZWRpYSgpLGVycm9yOnQ9e30scGxheWxpc3RFeGNsdXNpb25EdXJhdGlvbjppfSl7aWYocz1zfHx0aGlzLm1haW5QbGF5bGlzdExvYWRlcl8ubWVkaWEoKSxpPWl8fHQucGxheWxpc3RFeGNsdXNpb25EdXJhdGlvbnx8dGhpcy5wbGF5bGlzdEV4Y2x1c2lvbkR1cmF0aW9uLHMpe3MucGxheWxpc3RFcnJvcnNfKys7dmFyIHI9dGhpcy5tYWluUGxheWxpc3RMb2FkZXJfLm1haW4ucGxheWxpc3RzLG49ci5maWx0ZXIobGQpLG49MT09PW4ubGVuZ3RoJiZuWzBdPT09cztpZigxPT09ci5sZW5ndGgmJmkhPT0xLzApcmV0dXJuIFQubG9nLndhcm4oYFByb2JsZW0gZW5jb3VudGVyZWQgd2l0aCBwbGF5bGlzdCAke3MuaWR9LiBgK1wiVHJ5aW5nIGFnYWluIHNpbmNlIGl0IGlzIHRoZSBvbmx5IHBsYXlsaXN0LlwiKSx0aGlzLnRlY2hfLnRyaWdnZXIoXCJyZXRyeXBsYXlsaXN0XCIpLHRoaXMubWFpblBsYXlsaXN0TG9hZGVyXy5sb2FkKG4pO2lmKG4pe2xldCBpPSExO3IuZm9yRWFjaChlPT57dmFyIHQ7ZSE9PXMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZih0PWUuZXhjbHVkZVVudGlsKSYmdCE9PTEvMCYmKGk9ITAsZGVsZXRlIGUuZXhjbHVkZVVudGlsKX0pLGkmJihULmxvZy53YXJuKFwiUmVtb3Zpbmcgb3RoZXIgcGxheWxpc3RzIGZyb20gdGhlIGV4Y2x1c2lvbiBsaXN0IGJlY2F1c2UgdGhlIGxhc3QgcmVuZGl0aW9uIGlzIGFib3V0IHRvIGJlIGV4Y2x1ZGVkLlwiKSx0aGlzLnRlY2hfLnRyaWdnZXIoXCJyZXRyeXBsYXlsaXN0XCIpKX1sZXQgZTtlPXMucGxheWxpc3RFcnJvcnNfPnRoaXMubWF4UGxheWxpc3RSZXRyaWVzPzEvMDpEYXRlLm5vdygpKzFlMyppLHMuZXhjbHVkZVVudGlsPWUsdC5yZWFzb24mJihzLmxhc3RFeGNsdWRlUmVhc29uXz10LnJlYXNvbiksdGhpcy50ZWNoXy50cmlnZ2VyKFwiZXhjbHVkZXBsYXlsaXN0XCIpLHRoaXMudGVjaF8udHJpZ2dlcih7dHlwZTpcInVzYWdlXCIsbmFtZTpcInZocy1yZW5kaXRpb24tZXhjbHVkZWRcIn0pO3ZhciBhLHI9dGhpcy5zZWxlY3RQbGF5bGlzdCgpO2lmKHIpcmV0dXJuIGk9dC5pbnRlcm5hbD90aGlzLmxvZ2dlcl86VC5sb2cud2FybixhPXQubWVzc2FnZT9cIiBcIit0Lm1lc3NhZ2U6XCJcIixpKGAke3QuaW50ZXJuYWw/XCJJbnRlcm5hbCBwcm9ibGVtXCI6XCJQcm9ibGVtXCJ9IGVuY291bnRlcmVkIHdpdGggcGxheWxpc3QgJHtzLmlkfS5gK2ErYCBTd2l0Y2hpbmcgdG8gcGxheWxpc3QgJHtyLmlkfS5gKSxyLmF0dHJpYnV0ZXMuQVVESU8hPT1zLmF0dHJpYnV0ZXMuQVVESU8mJnRoaXMuZGVsZWdhdGVMb2FkZXJzXyhcImF1ZGlvXCIsW1wiYWJvcnRcIixcInBhdXNlXCJdKSxyLmF0dHJpYnV0ZXMuU1VCVElUTEVTIT09cy5hdHRyaWJ1dGVzLlNVQlRJVExFUyYmdGhpcy5kZWxlZ2F0ZUxvYWRlcnNfKFwic3VidGl0bGVcIixbXCJhYm9ydFwiLFwicGF1c2VcIl0pLHRoaXMuZGVsZWdhdGVMb2FkZXJzXyhcIm1haW5cIixbXCJhYm9ydFwiLFwicGF1c2VcIl0pLGk9ci50YXJnZXREdXJhdGlvbi8yKjFlM3x8NWUzLGE9XCJudW1iZXJcIj09dHlwZW9mIHIubGFzdFJlcXVlc3QmJkRhdGUubm93KCktci5sYXN0UmVxdWVzdDw9aSx0aGlzLnN3aXRjaE1lZGlhXyhyLFwiZXhjbHVkZVwiLG58fGEpO3RoaXMuZXJyb3I9XCJQbGF5YmFjayBjYW5ub3QgY29udGludWUuIE5vIGF2YWlsYWJsZSB3b3JraW5nIG9yIHN1cHBvcnRlZCBwbGF5bGlzdHMuXCIsdGhpcy50cmlnZ2VyKFwiZXJyb3JcIil9ZWxzZSB0aGlzLmVycm9yPXQsXCJvcGVuXCIhPT10aGlzLm1lZGlhU291cmNlLnJlYWR5U3RhdGU/dGhpcy50cmlnZ2VyKFwiZXJyb3JcIik6dGhpcy5zb3VyY2VVcGRhdGVyXy5lbmRPZlN0cmVhbShcIm5ldHdvcmtcIil9cGF1c2VMb2FkaW5nKCl7dGhpcy5kZWxlZ2F0ZUxvYWRlcnNfKFwiYWxsXCIsW1wiYWJvcnRcIixcInBhdXNlXCJdKSx0aGlzLnN0b3BBQlJUaW1lcl8oKX1kZWxlZ2F0ZUxvYWRlcnNfKGksZSl7Y29uc3Qgcz1bXTt2YXIgdD1cImFsbFwiPT09aSxyPSghdCYmXCJtYWluXCIhPT1pfHxzLnB1c2godGhpcy5tYWluUGxheWxpc3RMb2FkZXJfKSxbXSk7IXQmJlwiYXVkaW9cIiE9PWl8fHIucHVzaChcIkFVRElPXCIpLCF0JiZcInN1YnRpdGxlXCIhPT1pfHwoci5wdXNoKFwiQ0xPU0VELUNBUFRJT05TXCIpLHIucHVzaChcIlNVQlRJVExFU1wiKSksci5mb3JFYWNoKGU9PntlPXRoaXMubWVkaWFUeXBlc19bZV0mJnRoaXMubWVkaWFUeXBlc19bZV0uYWN0aXZlUGxheWxpc3RMb2FkZXI7ZSYmcy5wdXNoKGUpfSksW1wibWFpblwiLFwiYXVkaW9cIixcInN1YnRpdGxlXCJdLmZvckVhY2goZT0+e3ZhciB0PXRoaXNbZStcIlNlZ21lbnRMb2FkZXJfXCJdOyF0fHxpIT09ZSYmXCJhbGxcIiE9PWl8fHMucHVzaCh0KX0pLHMuZm9yRWFjaCh0PT5lLmZvckVhY2goZT0+e1wiZnVuY3Rpb25cIj09dHlwZW9mIHRbZV0mJnRbZV0oKX0pKX1zZXRDdXJyZW50VGltZShlKXt2YXIgdD1qbCh0aGlzLnRlY2hfLmJ1ZmZlcmVkKCksZSk7cmV0dXJuIHRoaXMubWFpblBsYXlsaXN0TG9hZGVyXyYmdGhpcy5tYWluUGxheWxpc3RMb2FkZXJfLm1lZGlhKCkmJnRoaXMubWFpblBsYXlsaXN0TG9hZGVyXy5tZWRpYSgpLnNlZ21lbnRzP3QmJnQubGVuZ3RoP2U6KHRoaXMubWFpblNlZ21lbnRMb2FkZXJfLnJlc2V0RXZlcnl0aGluZygpLHRoaXMubWFpblNlZ21lbnRMb2FkZXJfLmFib3J0KCksdGhpcy5tZWRpYVR5cGVzXy5BVURJTy5hY3RpdmVQbGF5bGlzdExvYWRlciYmKHRoaXMuYXVkaW9TZWdtZW50TG9hZGVyXy5yZXNldEV2ZXJ5dGhpbmcoKSx0aGlzLmF1ZGlvU2VnbWVudExvYWRlcl8uYWJvcnQoKSksdGhpcy5tZWRpYVR5cGVzXy5TVUJUSVRMRVMuYWN0aXZlUGxheWxpc3RMb2FkZXImJih0aGlzLnN1YnRpdGxlU2VnbWVudExvYWRlcl8ucmVzZXRFdmVyeXRoaW5nKCksdGhpcy5zdWJ0aXRsZVNlZ21lbnRMb2FkZXJfLmFib3J0KCkpLHZvaWQgdGhpcy5sb2FkKCkpOjB9ZHVyYXRpb24oKXt2YXIgZTtyZXR1cm4gdGhpcy5tYWluUGxheWxpc3RMb2FkZXJfJiYoZT10aGlzLm1haW5QbGF5bGlzdExvYWRlcl8ubWVkaWEoKSk/ZS5lbmRMaXN0P3RoaXMubWVkaWFTb3VyY2U/dGhpcy5tZWRpYVNvdXJjZS5kdXJhdGlvbjp2dS5QbGF5bGlzdC5kdXJhdGlvbihlKToxLzA6MH1zZWVrYWJsZSgpe3JldHVybiB0aGlzLnNlZWthYmxlX31vblN5bmNJbmZvVXBkYXRlXygpe2xldCBpO2lmKHRoaXMubWFpblBsYXlsaXN0TG9hZGVyXyl7dmFyIHM9dGhpcy5tYWluUGxheWxpc3RMb2FkZXJfLm1lZGlhKCk7aWYocyl7dmFyIHI9dGhpcy5zeW5jQ29udHJvbGxlcl8uZ2V0RXhwaXJlZFRpbWUocyx0aGlzLmR1cmF0aW9uKCkpO2lmKG51bGwhPT1yKXt2YXIgbj10aGlzLm1haW5QbGF5bGlzdExvYWRlcl8ubWFpbixhPXZ1LlBsYXlsaXN0LnNlZWthYmxlKHMscix2dS5QbGF5bGlzdC5saXZlRWRnZURlbGF5KG4scykpO2lmKDAhPT1hLmxlbmd0aCl7aWYodGhpcy5tZWRpYVR5cGVzXy5BVURJTy5hY3RpdmVQbGF5bGlzdExvYWRlcil7aWYocz10aGlzLm1lZGlhVHlwZXNfLkFVRElPLmFjdGl2ZVBsYXlsaXN0TG9hZGVyLm1lZGlhKCksbnVsbD09PShyPXRoaXMuc3luY0NvbnRyb2xsZXJfLmdldEV4cGlyZWRUaW1lKHMsdGhpcy5kdXJhdGlvbigpKSkpcmV0dXJuO2lmKDA9PT0oaT12dS5QbGF5bGlzdC5zZWVrYWJsZShzLHIsdnUuUGxheWxpc3QubGl2ZUVkZ2VEZWxheShuLHMpKSkubGVuZ3RoKXJldHVybn1sZXQgZSx0O3RoaXMuc2Vla2FibGVfJiZ0aGlzLnNlZWthYmxlXy5sZW5ndGgmJihlPXRoaXMuc2Vla2FibGVfLmVuZCgwKSx0PXRoaXMuc2Vla2FibGVfLnN0YXJ0KDApKSwhaXx8aS5zdGFydCgwKT5hLmVuZCgwKXx8YS5zdGFydCgwKT5pLmVuZCgwKT90aGlzLnNlZWthYmxlXz1hOnRoaXMuc2Vla2FibGVfPUZsKFtbKGkuc3RhcnQoMCk+YS5zdGFydCgwKT9pOmEpLnN0YXJ0KDApLChpLmVuZCgwKTxhLmVuZCgwKT9pOmEpLmVuZCgwKV1dKSx0aGlzLnNlZWthYmxlXyYmdGhpcy5zZWVrYWJsZV8ubGVuZ3RoJiZ0aGlzLnNlZWthYmxlXy5lbmQoMCk9PT1lJiZ0aGlzLnNlZWthYmxlXy5zdGFydCgwKT09PXR8fCh0aGlzLmxvZ2dlcl8oYHNlZWthYmxlIHVwZGF0ZWQgWyR7S2wodGhpcy5zZWVrYWJsZV8pfV1gKSx0aGlzLnRlY2hfLnRyaWdnZXIoXCJzZWVrYWJsZWNoYW5nZWRcIikpfX19fX11cGRhdGVEdXJhdGlvbih0KXtpZih0aGlzLnVwZGF0ZUR1cmF0aW9uXyYmKHRoaXMubWVkaWFTb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNvdXJjZW9wZW5cIix0aGlzLnVwZGF0ZUR1cmF0aW9uXyksdGhpcy51cGRhdGVEdXJhdGlvbl89bnVsbCksXCJvcGVuXCIhPT10aGlzLm1lZGlhU291cmNlLnJlYWR5U3RhdGUpdGhpcy51cGRhdGVEdXJhdGlvbl89dGhpcy51cGRhdGVEdXJhdGlvbi5iaW5kKHRoaXMsdCksdGhpcy5tZWRpYVNvdXJjZS5hZGRFdmVudExpc3RlbmVyKFwic291cmNlb3BlblwiLHRoaXMudXBkYXRlRHVyYXRpb25fKTtlbHNle2lmKHQpcmV0dXJuKHQ9dGhpcy5zZWVrYWJsZSgpKS5sZW5ndGg/dm9pZCgoaXNOYU4odGhpcy5tZWRpYVNvdXJjZS5kdXJhdGlvbil8fHRoaXMubWVkaWFTb3VyY2UuZHVyYXRpb248dC5lbmQodC5sZW5ndGgtMSkpJiZ0aGlzLnNvdXJjZVVwZGF0ZXJfLnNldER1cmF0aW9uKHQuZW5kKHQubGVuZ3RoLTEpKSk6dm9pZCAwO3Q9dGhpcy50ZWNoXy5idWZmZXJlZCgpO2xldCBlPXZ1LlBsYXlsaXN0LmR1cmF0aW9uKHRoaXMubWFpblBsYXlsaXN0TG9hZGVyXy5tZWRpYSgpKTswPHQubGVuZ3RoJiYoZT1NYXRoLm1heChlLHQuZW5kKHQubGVuZ3RoLTEpKSksdGhpcy5tZWRpYVNvdXJjZS5kdXJhdGlvbiE9PWUmJnRoaXMuc291cmNlVXBkYXRlcl8uc2V0RHVyYXRpb24oZSl9fWRpc3Bvc2UoKXt0aGlzLnRyaWdnZXIoXCJkaXNwb3NlXCIpLHRoaXMuZGVjcnlwdGVyXy50ZXJtaW5hdGUoKSx0aGlzLm1haW5QbGF5bGlzdExvYWRlcl8uZGlzcG9zZSgpLHRoaXMubWFpblNlZ21lbnRMb2FkZXJfLmRpc3Bvc2UoKSx0aGlzLmxvYWRPblBsYXlfJiZ0aGlzLnRlY2hfLm9mZihcInBsYXlcIix0aGlzLmxvYWRPblBsYXlfKSxbXCJBVURJT1wiLFwiU1VCVElUTEVTXCJdLmZvckVhY2goZT0+e3ZhciB0PXRoaXMubWVkaWFUeXBlc19bZV0uZ3JvdXBzO2Zvcihjb25zdCBpIGluIHQpdFtpXS5mb3JFYWNoKGU9PntlLnBsYXlsaXN0TG9hZGVyJiZlLnBsYXlsaXN0TG9hZGVyLmRpc3Bvc2UoKX0pfSksdGhpcy5hdWRpb1NlZ21lbnRMb2FkZXJfLmRpc3Bvc2UoKSx0aGlzLnN1YnRpdGxlU2VnbWVudExvYWRlcl8uZGlzcG9zZSgpLHRoaXMuc291cmNlVXBkYXRlcl8uZGlzcG9zZSgpLHRoaXMudGltZWxpbmVDaGFuZ2VDb250cm9sbGVyXy5kaXNwb3NlKCksdGhpcy5zdG9wQUJSVGltZXJfKCksdGhpcy51cGRhdGVEdXJhdGlvbl8mJnRoaXMubWVkaWFTb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNvdXJjZW9wZW5cIix0aGlzLnVwZGF0ZUR1cmF0aW9uXyksdGhpcy5tZWRpYVNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKFwiZHVyYXRpb25jaGFuZ2VcIix0aGlzLmhhbmRsZUR1cmF0aW9uQ2hhbmdlXyksdGhpcy5tZWRpYVNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKFwic291cmNlb3BlblwiLHRoaXMuaGFuZGxlU291cmNlT3Blbl8pLHRoaXMubWVkaWFTb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNvdXJjZWVuZGVkXCIsdGhpcy5oYW5kbGVTb3VyY2VFbmRlZF8pLHRoaXMub2ZmKCl9bWFpbigpe3JldHVybiB0aGlzLm1haW5QbGF5bGlzdExvYWRlcl8ubWFpbn1tZWRpYSgpe3JldHVybiB0aGlzLm1haW5QbGF5bGlzdExvYWRlcl8ubWVkaWEoKXx8dGhpcy5pbml0aWFsTWVkaWFffWFyZU1lZGlhVHlwZXNLbm93bl8oKXt2YXIgZT0hIXRoaXMubWVkaWFUeXBlc18uQVVESU8uYWN0aXZlUGxheWxpc3RMb2FkZXIsdD0hIXRoaXMubWFpblNlZ21lbnRMb2FkZXJfLmdldEN1cnJlbnRNZWRpYUluZm9fKCksZT0hZXx8ISF0aGlzLmF1ZGlvU2VnbWVudExvYWRlcl8uZ2V0Q3VycmVudE1lZGlhSW5mb18oKTtyZXR1cm4gdCYmZX1nZXRDb2RlY3NPckV4Y2x1ZGVfKCl7Y29uc3Qgcj17bWFpbjp0aGlzLm1haW5TZWdtZW50TG9hZGVyXy5nZXRDdXJyZW50TWVkaWFJbmZvXygpfHx7fSxhdWRpbzp0aGlzLmF1ZGlvU2VnbWVudExvYWRlcl8uZ2V0Q3VycmVudE1lZGlhSW5mb18oKXx8e319LHQ9dGhpcy5tYWluU2VnbWVudExvYWRlcl8uZ2V0UGVuZGluZ1NlZ21lbnRQbGF5bGlzdCgpfHx0aGlzLm1lZGlhKCk7ci52aWRlbz1yLm1haW47dmFyIGU9bWgodGhpcy5tYWluKCksdCk7Y29uc3Qgbj17fTt2YXIgaT0hIXRoaXMubWVkaWFUeXBlc18uQVVESU8uYWN0aXZlUGxheWxpc3RMb2FkZXI7aWYoci5tYWluLmhhc1ZpZGVvJiYobi52aWRlbz1lLnZpZGVvfHxyLm1haW4udmlkZW9Db2RlY3x8XCJhdmMxLjRkNDAwZFwiKSxyLm1haW4uaXNNdXhlZCYmKG4udmlkZW8rPVwiLFwiKyhlLmF1ZGlvfHxyLm1haW4uYXVkaW9Db2RlY3x8Rm4pKSwoci5tYWluLmhhc0F1ZGlvJiYhci5tYWluLmlzTXV4ZWR8fHIuYXVkaW8uaGFzQXVkaW98fGkpJiYobi5hdWRpbz1lLmF1ZGlvfHxyLm1haW4uYXVkaW9Db2RlY3x8ci5hdWRpby5hdWRpb0NvZGVjfHxGbixyLmF1ZGlvLmlzRm1wND0oci5tYWluLmhhc0F1ZGlvJiYhci5tYWluLmlzTXV4ZWQ/ci5tYWluOnIuYXVkaW8pLmlzRm1wNCksbi5hdWRpb3x8bi52aWRlbyl7Y29uc3QgYT17fTtsZXQgcztpZihbXCJ2aWRlb1wiLFwiYXVkaW9cIl0uZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdCxpO24uaGFzT3duUHJvcGVydHkoZSkmJih0PXJbZV0uaXNGbXA0LGk9bltlXSwhKHQ/SW46eG4pKGkpKSYmKHQ9cltlXS5pc0ZtcDQ/XCJicm93c2VyXCI6XCJtdXhlclwiLGFbdF09YVt0XXx8W10sYVt0XS5wdXNoKG5bZV0pLFwiYXVkaW9cIj09PWUmJihzPXQpKX0pLGkmJnMmJnQuYXR0cmlidXRlcy5BVURJTyl7Y29uc3Qgbz10LmF0dHJpYnV0ZXMuQVVESU87dGhpcy5tYWluKCkucGxheWxpc3RzLmZvckVhY2goZT0+eyhlLmF0dHJpYnV0ZXMmJmUuYXR0cmlidXRlcy5BVURJTyk9PT1vJiZlIT09dCYmKGUuZXhjbHVkZVVudGlsPTEvMCl9KSx0aGlzLmxvZ2dlcl8oYGV4Y2x1ZGluZyBhdWRpbyBncm91cCAke299IGFzICR7c30gZG9lcyBub3Qgc3VwcG9ydCBjb2RlYyhzKTogXCIke24uYXVkaW99XCJgKX1pZighT2JqZWN0LmtleXMoYSkubGVuZ3RoKXtpZih0aGlzLnNvdXJjZVVwZGF0ZXJfLmhhc0NyZWF0ZWRTb3VyY2VCdWZmZXJzKCkmJiF0aGlzLnNvdXJjZVVwZGF0ZXJfLmNhbkNoYW5nZVR5cGUoKSl7Y29uc3QgbD1bXTtpZihbXCJ2aWRlb1wiLFwiYXVkaW9cIl0uZm9yRWFjaChlPT57dmFyIHQ9KFVuKHRoaXMuc291cmNlVXBkYXRlcl8uY29kZWNzW2VdfHxcIlwiKVswXXx8e30pLnR5cGUsaT0oVW4obltlXXx8XCJcIilbMF18fHt9KS50eXBlO3QmJmkmJnQudG9Mb3dlckNhc2UoKSE9PWkudG9Mb3dlckNhc2UoKSYmbC5wdXNoKGBcIiR7dGhpcy5zb3VyY2VVcGRhdGVyXy5jb2RlY3NbZV19XCIgLT4gXCIke25bZV19XCJgKX0pLGwubGVuZ3RoKXJldHVybiB2b2lkIHRoaXMuZXhjbHVkZVBsYXlsaXN0KHtwbGF5bGlzdFRvRXhjbHVkZTp0LGVycm9yOnttZXNzYWdlOmBDb2RlYyBzd2l0Y2hpbmcgbm90IHN1cHBvcnRlZDogJHtsLmpvaW4oXCIsIFwiKX0uYCxpbnRlcm5hbDohMH0scGxheWxpc3RFeGNsdXNpb25EdXJhdGlvbjoxLzB9KX1yZXR1cm4gbn1lPU9iamVjdC5rZXlzKGEpLnJlZHVjZSgoZSx0KT0+KGUmJihlKz1cIiwgXCIpLGUrPWAke3R9IGRvZXMgbm90IHN1cHBvcnQgY29kZWMocyk6IFwiJHthW3RdLmpvaW4oXCIsXCIpfVwiYCksXCJcIikrXCIuXCIsdGhpcy5leGNsdWRlUGxheWxpc3Qoe3BsYXlsaXN0VG9FeGNsdWRlOnQsZXJyb3I6e2ludGVybmFsOiEwLG1lc3NhZ2U6ZX0scGxheWxpc3RFeGNsdXNpb25EdXJhdGlvbjoxLzB9KX1lbHNlIHRoaXMuZXhjbHVkZVBsYXlsaXN0KHtwbGF5bGlzdFRvRXhjbHVkZTp0LGVycm9yOnttZXNzYWdlOlwiQ291bGQgbm90IGRldGVybWluZSBjb2RlY3MgZm9yIHBsYXlsaXN0LlwifSxwbGF5bGlzdEV4Y2x1c2lvbkR1cmF0aW9uOjEvMH0pfXRyeVRvQ3JlYXRlU291cmNlQnVmZmVyc18oKXt2YXIgZTtcIm9wZW5cIiE9PXRoaXMubWVkaWFTb3VyY2UucmVhZHlTdGF0ZXx8dGhpcy5zb3VyY2VVcGRhdGVyXy5oYXNDcmVhdGVkU291cmNlQnVmZmVycygpfHx0aGlzLmFyZU1lZGlhVHlwZXNLbm93bl8oKSYmKGU9dGhpcy5nZXRDb2RlY3NPckV4Y2x1ZGVfKCkpJiYodGhpcy5zb3VyY2VVcGRhdGVyXy5jcmVhdGVTb3VyY2VCdWZmZXJzKGUpLGU9W2UudmlkZW8sZS5hdWRpb10uZmlsdGVyKEJvb2xlYW4pLmpvaW4oXCIsXCIpLHRoaXMuZXhjbHVkZUluY29tcGF0aWJsZVZhcmlhbnRzXyhlKSl9ZXhjbHVkZVVuc3VwcG9ydGVkVmFyaWFudHNfKCl7Y29uc3Qgcz10aGlzLm1haW4oKS5wbGF5bGlzdHMscj1bXTtPYmplY3Qua2V5cyhzKS5mb3JFYWNoKGU9Pnt2YXIgdCxpLGU9c1tlXTstMT09PXIuaW5kZXhPZihlLmlkKSYmKHIucHVzaChlLmlkKSxpPVtdLCEodD1taCh0aGlzLm1haW4sZSkpLmF1ZGlvfHx4bih0LmF1ZGlvKXx8SW4odC5hdWRpbyl8fGkucHVzaChcImF1ZGlvIGNvZGVjIFwiK3QuYXVkaW8pLCF0LnZpZGVvfHx4bih0LnZpZGVvKXx8SW4odC52aWRlbyl8fGkucHVzaChcInZpZGVvIGNvZGVjIFwiK3QudmlkZW8pLHQudGV4dCYmXCJzdHBwLnR0bWwuaW0xdFwiPT09dC50ZXh0JiZpLnB1c2goXCJ0ZXh0IGNvZGVjIFwiK3QudGV4dCksaS5sZW5ndGgpJiYoZS5leGNsdWRlVW50aWw9MS8wLHRoaXMubG9nZ2VyXyhgZXhjbHVkaW5nICR7ZS5pZH0gZm9yIHVuc3VwcG9ydGVkOiBgK2kuam9pbihcIiwgXCIpKSl9KX1leGNsdWRlSW5jb21wYXRpYmxlVmFyaWFudHNfKGUpe2NvbnN0IHI9W10sbj10aGlzLm1haW4oKS5wbGF5bGlzdHM7ZT1MaChVbihlKSk7Y29uc3QgYT1waChlKSxvPWUudmlkZW8mJlVuKGUudmlkZW8pWzBdfHxudWxsLGw9ZS5hdWRpbyYmVW4oZS5hdWRpbylbMF18fG51bGw7T2JqZWN0LmtleXMobikuZm9yRWFjaChlPT57dmFyIHQsaSxzLGU9bltlXTstMT09PXIuaW5kZXhPZihlLmlkKSYmZS5leGNsdWRlVW50aWwhPT0xLzAmJihyLnB1c2goZS5pZCksdD1bXSxzPW1oKHRoaXMubWFpblBsYXlsaXN0TG9hZGVyXy5tYWluLGUpLGk9cGgocykscy5hdWRpb3x8cy52aWRlbykmJihpIT09YSYmdC5wdXNoKGBjb2RlYyBjb3VudCBcIiR7aX1cIiAhPT0gXCIke2F9XCJgKSx0aGlzLnNvdXJjZVVwZGF0ZXJfLmNhbkNoYW5nZVR5cGUoKXx8KGk9cy52aWRlbyYmVW4ocy52aWRlbylbMF18fG51bGwscz1zLmF1ZGlvJiZVbihzLmF1ZGlvKVswXXx8bnVsbCxpJiZvJiZpLnR5cGUudG9Mb3dlckNhc2UoKSE9PW8udHlwZS50b0xvd2VyQ2FzZSgpJiZ0LnB1c2goYHZpZGVvIGNvZGVjIFwiJHtpLnR5cGV9XCIgIT09IFwiJHtvLnR5cGV9XCJgKSxzJiZsJiZzLnR5cGUudG9Mb3dlckNhc2UoKSE9PWwudHlwZS50b0xvd2VyQ2FzZSgpJiZ0LnB1c2goYGF1ZGlvIGNvZGVjIFwiJHtzLnR5cGV9XCIgIT09IFwiJHtsLnR5cGV9XCJgKSksdC5sZW5ndGgpJiYoZS5leGNsdWRlVW50aWw9MS8wLHRoaXMubG9nZ2VyXyhgZXhjbHVkaW5nICR7ZS5pZH06IGArdC5qb2luKFwiICYmIFwiKSkpfSl9dXBkYXRlQWRDdWVzXyhlKXtsZXQgdD0wO3ZhciBzPXRoaXMuc2Vla2FibGUoKSxbcixuLHM9MF09KHMubGVuZ3RoJiYodD1zLnN0YXJ0KDApKSxbZSx0aGlzLmN1ZVRhZ3NUcmFja18sdF0pO2lmKHIuc2VnbWVudHMpe2xldCB0PXMsaTtmb3IobGV0IGU9MDtlPHIuc2VnbWVudHMubGVuZ3RoO2UrKyl7dmFyIGEsbyxsPXIuc2VnbWVudHNbZV07aWYoaT1pfHxmdW5jdGlvbihlLHQpe3ZhciBpPWUuY3Vlcztmb3IobGV0IGU9MDtlPGkubGVuZ3RoO2UrKyl7dmFyIHM9aVtlXTtpZih0Pj1zLmFkU3RhcnRUaW1lJiZ0PD1zLmFkRW5kVGltZSlyZXR1cm4gc31yZXR1cm4gbnVsbH0obix0K2wuZHVyYXRpb24vMikpe2lmKFwiY3VlSW5cImluIGwpe2kuZW5kVGltZT10LGkuYWRFbmRUaW1lPXQsdCs9bC5kdXJhdGlvbixpPW51bGw7Y29udGludWV9aWYodDxpLmVuZFRpbWUpe3QrPWwuZHVyYXRpb247Y29udGludWV9aS5lbmRUaW1lKz1sLmR1cmF0aW9ufWVsc2VcImN1ZU91dFwiaW4gbCYmKChpPW5ldyB3aW5kb3cuVlRUQ3VlKHQsdCtsLmR1cmF0aW9uLGwuY3VlT3V0KSkuYWRTdGFydFRpbWU9dCxpLmFkRW5kVGltZT10K3BhcnNlRmxvYXQobC5jdWVPdXQpLG4uYWRkQ3VlKGkpKSxcImN1ZU91dENvbnRcImluIGwmJihbYSxvXT1sLmN1ZU91dENvbnQuc3BsaXQoXCIvXCIpLm1hcChwYXJzZUZsb2F0KSwoaT1uZXcgd2luZG93LlZUVEN1ZSh0LHQrbC5kdXJhdGlvbixcIlwiKSkuYWRTdGFydFRpbWU9dC1hLGkuYWRFbmRUaW1lPWkuYWRTdGFydFRpbWUrbyxuLmFkZEN1ZShpKSk7dCs9bC5kdXJhdGlvbn19fWdvYWxCdWZmZXJMZW5ndGgoKXt2YXIgZT10aGlzLnRlY2hfLmN1cnJlbnRUaW1lKCksdD1ELkdPQUxfQlVGRkVSX0xFTkdUSCxpPUQuR09BTF9CVUZGRVJfTEVOR1RIX1JBVEUscz1NYXRoLm1heCh0LEQuTUFYX0dPQUxfQlVGRkVSX0xFTkdUSCk7cmV0dXJuIE1hdGgubWluKHQrZSppLHMpfWJ1ZmZlckxvd1dhdGVyTGluZSgpe3ZhciBlPXRoaXMudGVjaF8uY3VycmVudFRpbWUoKSx0PUQuQlVGRkVSX0xPV19XQVRFUl9MSU5FLGk9RC5CVUZGRVJfTE9XX1dBVEVSX0xJTkVfUkFURSxzPU1hdGgubWF4KHQsRC5NQVhfQlVGRkVSX0xPV19XQVRFUl9MSU5FKSxyPU1hdGgubWF4KHQsRC5FWFBFUklNRU5UQUxfTUFYX0JVRkZFUl9MT1dfV0FURVJfTElORSk7cmV0dXJuIE1hdGgubWluKHQrZSppLHRoaXMuYnVmZmVyQmFzZWRBQlI/cjpzKX1idWZmZXJIaWdoV2F0ZXJMaW5lKCl7cmV0dXJuIEQuQlVGRkVSX0hJR0hfV0FURVJfTElORX19Y2xhc3MgU3V7Y29uc3RydWN0b3IoZSx0LGkpe3ZhciBzLHIsbixhLG89ZVtcInBsYXlsaXN0Q29udHJvbGxlcl9cIl0sbD1vLmZhc3RRdWFsaXR5Q2hhbmdlXy5iaW5kKG8pO3QuYXR0cmlidXRlcyYmKHM9dC5hdHRyaWJ1dGVzLlJFU09MVVRJT04sdGhpcy53aWR0aD1zJiZzLndpZHRoLHRoaXMuaGVpZ2h0PXMmJnMuaGVpZ2h0LHRoaXMuYmFuZHdpZHRoPXQuYXR0cmlidXRlcy5CQU5EV0lEVEgsdGhpcy5mcmFtZVJhdGU9dC5hdHRyaWJ1dGVzW1wiRlJBTUUtUkFURVwiXSksdGhpcy5jb2RlY3M9bWgoby5tYWluKCksdCksdGhpcy5wbGF5bGlzdD10LHRoaXMuaWQ9aSx0aGlzLmVuYWJsZWQ9KHI9ZS5wbGF5bGlzdHMsbj10LmlkLGE9bCxlPT57dmFyIHQ9ci5tYWluLnBsYXlsaXN0c1tuXSxpPW9kKHQpLHM9bGQodCk7cmV0dXJuXCJ1bmRlZmluZWRcIj09dHlwZW9mIGU/czooZT9kZWxldGUgdC5kaXNhYmxlZDp0LmRpc2FibGVkPSEwLGU9PT1zfHxpfHwoYSgpLGU/ci50cmlnZ2VyKFwicmVuZGl0aW9uZW5hYmxlZFwiKTpyLnRyaWdnZXIoXCJyZW5kaXRpb25kaXNhYmxlZFwiKSksZSl9KX19Y29uc3Qgd3U9W1wic2Vla2luZ1wiLFwic2Vla2VkXCIsXCJwYXVzZVwiLFwicGxheWluZ1wiLFwiZXJyb3JcIl07Y2xhc3MgRXV7Y29uc3RydWN0b3IoZSl7dGhpcy5wbGF5bGlzdENvbnRyb2xsZXJfPWUucGxheWxpc3RDb250cm9sbGVyLHRoaXMudGVjaF89ZS50ZWNoLHRoaXMuc2Vla2FibGU9ZS5zZWVrYWJsZSx0aGlzLmFsbG93U2Vla3NXaXRoaW5VbnNhZmVMaXZlV2luZG93PWUuYWxsb3dTZWVrc1dpdGhpblVuc2FmZUxpdmVXaW5kb3csdGhpcy5saXZlUmFuZ2VTYWZlVGltZURlbHRhPWUubGl2ZVJhbmdlU2FmZVRpbWVEZWx0YSx0aGlzLm1lZGlhPWUubWVkaWEsdGhpcy5jb25zZWN1dGl2ZVVwZGF0ZXM9MCx0aGlzLmxhc3RSZWNvcmRlZFRpbWU9bnVsbCx0aGlzLmNoZWNrQ3VycmVudFRpbWVUaW1lb3V0Xz1udWxsLHRoaXMubG9nZ2VyXz1CbChcIlBsYXliYWNrV2F0Y2hlclwiKSx0aGlzLmxvZ2dlcl8oXCJpbml0aWFsaXplXCIpO2NvbnN0IHQ9KCk9PnRoaXMubW9uaXRvckN1cnJlbnRUaW1lXygpLGk9KCk9PnRoaXMubW9uaXRvckN1cnJlbnRUaW1lXygpLHM9KCk9PnRoaXMudGVjaFdhaXRpbmdfKCkscj0oKT0+dGhpcy5yZXNldFRpbWVVcGRhdGVfKCksbj10aGlzLnBsYXlsaXN0Q29udHJvbGxlcl8sYT1bXCJtYWluXCIsXCJzdWJ0aXRsZVwiLFwiYXVkaW9cIl0sbz17fSxsPShhLmZvckVhY2goZT0+e29bZV09e3Jlc2V0OigpPT50aGlzLnJlc2V0U2VnbWVudERvd25sb2Fkc18oZSksdXBkYXRlZW5kOigpPT50aGlzLmNoZWNrU2VnbWVudERvd25sb2Fkc18oZSl9LG5bZStcIlNlZ21lbnRMb2FkZXJfXCJdLm9uKFwiYXBwZW5kc2RvbmVcIixvW2VdLnVwZGF0ZWVuZCksbltlK1wiU2VnbWVudExvYWRlcl9cIl0ub24oXCJwbGF5bGlzdHVwZGF0ZVwiLG9bZV0ucmVzZXQpLHRoaXMudGVjaF8ub24oW1wic2Vla2VkXCIsXCJzZWVraW5nXCJdLG9bZV0ucmVzZXQpfSksdD0+e1tcIm1haW5cIixcImF1ZGlvXCJdLmZvckVhY2goZT0+e25bZStcIlNlZ21lbnRMb2FkZXJfXCJdW3RdKFwiYXBwZW5kZWRcIix0aGlzLnNlZWtpbmdBcHBlbmRDaGVja18pfSl9KTt0aGlzLnNlZWtpbmdBcHBlbmRDaGVja189KCk9Pnt0aGlzLmZpeGVzQmFkU2Vla3NfKCkmJih0aGlzLmNvbnNlY3V0aXZlVXBkYXRlcz0wLHRoaXMubGFzdFJlY29yZGVkVGltZT10aGlzLnRlY2hfLmN1cnJlbnRUaW1lKCksbChcIm9mZlwiKSl9LHRoaXMuY2xlYXJTZWVraW5nQXBwZW5kQ2hlY2tfPSgpPT5sKFwib2ZmXCIpLHRoaXMud2F0Y2hGb3JCYWRTZWVraW5nXz0oKT0+e3RoaXMuY2xlYXJTZWVraW5nQXBwZW5kQ2hlY2tfKCksbChcIm9uXCIpfSx0aGlzLnRlY2hfLm9uKFwic2Vla2VkXCIsdGhpcy5jbGVhclNlZWtpbmdBcHBlbmRDaGVja18pLHRoaXMudGVjaF8ub24oXCJzZWVraW5nXCIsdGhpcy53YXRjaEZvckJhZFNlZWtpbmdfKSx0aGlzLnRlY2hfLm9uKFwid2FpdGluZ1wiLHMpLHRoaXMudGVjaF8ub24od3UsciksdGhpcy50ZWNoXy5vbihcImNhbnBsYXlcIixpKSx0aGlzLnRlY2hfLm9uZShcInBsYXlcIix0KSx0aGlzLmRpc3Bvc2U9KCk9Pnt0aGlzLmNsZWFyU2Vla2luZ0FwcGVuZENoZWNrXygpLHRoaXMubG9nZ2VyXyhcImRpc3Bvc2VcIiksdGhpcy50ZWNoXy5vZmYoXCJ3YWl0aW5nXCIscyksdGhpcy50ZWNoXy5vZmYod3UsciksdGhpcy50ZWNoXy5vZmYoXCJjYW5wbGF5XCIsaSksdGhpcy50ZWNoXy5vZmYoXCJwbGF5XCIsdCksdGhpcy50ZWNoXy5vZmYoXCJzZWVraW5nXCIsdGhpcy53YXRjaEZvckJhZFNlZWtpbmdfKSx0aGlzLnRlY2hfLm9mZihcInNlZWtlZFwiLHRoaXMuY2xlYXJTZWVraW5nQXBwZW5kQ2hlY2tfKSxhLmZvckVhY2goZT0+e25bZStcIlNlZ21lbnRMb2FkZXJfXCJdLm9mZihcImFwcGVuZHNkb25lXCIsb1tlXS51cGRhdGVlbmQpLG5bZStcIlNlZ21lbnRMb2FkZXJfXCJdLm9mZihcInBsYXlsaXN0dXBkYXRlXCIsb1tlXS5yZXNldCksdGhpcy50ZWNoXy5vZmYoW1wic2Vla2VkXCIsXCJzZWVraW5nXCJdLG9bZV0ucmVzZXQpfSksdGhpcy5jaGVja0N1cnJlbnRUaW1lVGltZW91dF8mJndpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5jaGVja0N1cnJlbnRUaW1lVGltZW91dF8pLHRoaXMucmVzZXRUaW1lVXBkYXRlXygpfX1tb25pdG9yQ3VycmVudFRpbWVfKCl7dGhpcy5jaGVja0N1cnJlbnRUaW1lXygpLHRoaXMuY2hlY2tDdXJyZW50VGltZVRpbWVvdXRfJiZ3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuY2hlY2tDdXJyZW50VGltZVRpbWVvdXRfKSx0aGlzLmNoZWNrQ3VycmVudFRpbWVUaW1lb3V0Xz13aW5kb3cuc2V0VGltZW91dCh0aGlzLm1vbml0b3JDdXJyZW50VGltZV8uYmluZCh0aGlzKSwyNTApfXJlc2V0U2VnbWVudERvd25sb2Fkc18oZSl7dmFyIHQ9dGhpcy5wbGF5bGlzdENvbnRyb2xsZXJfW2UrXCJTZWdtZW50TG9hZGVyX1wiXTswPHRoaXNbZStcIlN0YWxsZWREb3dubG9hZHNfXCJdJiZ0aGlzLmxvZ2dlcl8oYHJlc2V0dGluZyBwb3NzaWJsZSBzdGFsbGVkIGRvd25sb2FkIGNvdW50IGZvciAke2V9IGxvYWRlcmApLHRoaXNbZStcIlN0YWxsZWREb3dubG9hZHNfXCJdPTAsdGhpc1tlK1wiQnVmZmVyZWRfXCJdPXQuYnVmZmVyZWRfKCl9Y2hlY2tTZWdtZW50RG93bmxvYWRzXyhlKXt2YXIgdD10aGlzLnBsYXlsaXN0Q29udHJvbGxlcl8saT10W2UrXCJTZWdtZW50TG9hZGVyX1wiXSxzPWkuYnVmZmVyZWRfKCkscj1mdW5jdGlvbih0LGkpe2lmKHQhPT1pKXtpZighdCYmaXx8IWkmJnQpcmV0dXJuITA7aWYodC5sZW5ndGghPT1pLmxlbmd0aClyZXR1cm4hMDtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKylpZih0LnN0YXJ0KGUpIT09aS5zdGFydChlKXx8dC5lbmQoZSkhPT1pLmVuZChlKSlyZXR1cm4hMH1yZXR1cm4hMX0odGhpc1tlK1wiQnVmZmVyZWRfXCJdLHMpO3RoaXNbZStcIkJ1ZmZlcmVkX1wiXT1zLHI/dGhpcy5yZXNldFNlZ21lbnREb3dubG9hZHNfKGUpOih0aGlzW2UrXCJTdGFsbGVkRG93bmxvYWRzX1wiXSsrLHRoaXMubG9nZ2VyXyhgZm91bmQgIyR7dGhpc1tlK1wiU3RhbGxlZERvd25sb2Fkc19cIl19ICR7ZX0gYXBwZW5kcyB0aGF0IGRpZCBub3QgaW5jcmVhc2UgYnVmZmVyIChwb3NzaWJsZSBzdGFsbGVkIGRvd25sb2FkKWAse3BsYXlsaXN0SWQ6aS5wbGF5bGlzdF8mJmkucGxheWxpc3RfLmlkLGJ1ZmZlcmVkOllsKHMpfSksdGhpc1tlK1wiU3RhbGxlZERvd25sb2Fkc19cIl08MTB8fCh0aGlzLmxvZ2dlcl8oZStcIiBsb2FkZXIgc3RhbGxlZCBkb3dubG9hZCBleGNsdXNpb25cIiksdGhpcy5yZXNldFNlZ21lbnREb3dubG9hZHNfKGUpLHRoaXMudGVjaF8udHJpZ2dlcih7dHlwZTpcInVzYWdlXCIsbmFtZTpgdmhzLSR7ZX0tZG93bmxvYWQtZXhjbHVzaW9uYH0pLFwic3VidGl0bGVcIiE9PWUmJnQuZXhjbHVkZVBsYXlsaXN0KHtlcnJvcjp7bWVzc2FnZTpgRXhjZXNzaXZlICR7ZX0gc2VnbWVudCBkb3dubG9hZGluZyBkZXRlY3RlZC5gfSxwbGF5bGlzdEV4Y2x1c2lvbkR1cmF0aW9uOjEvMH0pKSl9Y2hlY2tDdXJyZW50VGltZV8oKXt2YXIgZSx0O2lmKCF0aGlzLnRlY2hfLnBhdXNlZCgpJiYhdGhpcy50ZWNoXy5zZWVraW5nKCkpcmV0dXJuIGU9dGhpcy50ZWNoXy5jdXJyZW50VGltZSgpLHQ9dGhpcy50ZWNoXy5idWZmZXJlZCgpLHRoaXMubGFzdFJlY29yZGVkVGltZT09PWUmJighdC5sZW5ndGh8fGUremw+PXQuZW5kKHQubGVuZ3RoLTEpKT90aGlzLnRlY2hXYWl0aW5nXygpOnZvaWQoNTw9dGhpcy5jb25zZWN1dGl2ZVVwZGF0ZXMmJmU9PT10aGlzLmxhc3RSZWNvcmRlZFRpbWU/KHRoaXMuY29uc2VjdXRpdmVVcGRhdGVzKyssdGhpcy53YWl0aW5nXygpKTplPT09dGhpcy5sYXN0UmVjb3JkZWRUaW1lP3RoaXMuY29uc2VjdXRpdmVVcGRhdGVzKys6KHRoaXMuY29uc2VjdXRpdmVVcGRhdGVzPTAsdGhpcy5sYXN0UmVjb3JkZWRUaW1lPWUpKX1yZXNldFRpbWVVcGRhdGVfKCl7dGhpcy5jb25zZWN1dGl2ZVVwZGF0ZXM9MH1maXhlc0JhZFNlZWtzXygpe2lmKCF0aGlzLnRlY2hfLnNlZWtpbmcoKSlyZXR1cm4hMTt2YXIgZT10aGlzLnNlZWthYmxlKCksdD10aGlzLnRlY2hfLmN1cnJlbnRUaW1lKCk7bGV0IGk7aWYodGhpcy5hZnRlclNlZWthYmxlV2luZG93XyhlLHQsdGhpcy5tZWRpYSgpLHRoaXMuYWxsb3dTZWVrc1dpdGhpblVuc2FmZUxpdmVXaW5kb3cpJiYocz1lLmVuZChlLmxlbmd0aC0xKSxpPXMpLHRoaXMuYmVmb3JlU2Vla2FibGVXaW5kb3dfKGUsdCkmJihzPWUuc3RhcnQoMCksaT1zKyhzPT09ZS5lbmQoMCk/MDp6bCkpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBpKXRoaXMubG9nZ2VyXyhgVHJ5aW5nIHRvIHNlZWsgb3V0c2lkZSBvZiBzZWVrYWJsZSBhdCB0aW1lICR7dH0gd2l0aCBgK2BzZWVrYWJsZSByYW5nZSAke0tsKGUpfS4gU2Vla2luZyB0byBgK2krXCIuXCIpO2Vsc2V7dmFyIHM9dGhpcy5wbGF5bGlzdENvbnRyb2xsZXJfLnNvdXJjZVVwZGF0ZXJfLGU9dGhpcy50ZWNoXy5idWZmZXJlZCgpLHI9cy5hdWRpb0J1ZmZlcj9zLmF1ZGlvQnVmZmVyZWQoKTpudWxsLHM9cy52aWRlb0J1ZmZlcj9zLnZpZGVvQnVmZmVyZWQoKTpudWxsLG49dGhpcy5tZWRpYSgpLGE9bi5wYXJ0VGFyZ2V0RHVyYXRpb258fDIqKG4udGFyZ2V0RHVyYXRpb24tR2wpLG89W3Isc107Zm9yKGxldCBlPTA7ZTxvLmxlbmd0aDtlKyspaWYob1tlXSlpZihWbChvW2VdLHQpPGEpcmV0dXJuITE7aWYoMD09PShuPUhsKGUsdCkpLmxlbmd0aClyZXR1cm4hMTtpPW4uc3RhcnQoMCkremwsdGhpcy5sb2dnZXJfKGBCdWZmZXJlZCByZWdpb24gc3RhcnRzICgke24uc3RhcnQoMCl9KSBgK2AganVzdCBiZXlvbmQgc2VlayBwb2ludCAoJHt0fSkuIFNlZWtpbmcgdG8gJHtpfS5gKX1yZXR1cm4gdGhpcy50ZWNoXy5zZXRDdXJyZW50VGltZShpKSwhMH13YWl0aW5nXygpe3ZhciBlLHQ7dGhpcy50ZWNoV2FpdGluZ18oKXx8KGU9dGhpcy50ZWNoXy5jdXJyZW50VGltZSgpLHQ9dGhpcy50ZWNoXy5idWZmZXJlZCgpLCh0PWpsKHQsZSkpLmxlbmd0aCYmZSszPD10LmVuZCgwKSYmKHRoaXMucmVzZXRUaW1lVXBkYXRlXygpLHRoaXMudGVjaF8uc2V0Q3VycmVudFRpbWUoZSksdGhpcy5sb2dnZXJfKGBTdG9wcGVkIGF0ICR7ZX0gd2hpbGUgaW5zaWRlIGEgYnVmZmVyZWQgcmVnaW9uIGArYFske3Quc3RhcnQoMCl9IC0+ICR7dC5lbmQoMCl9XS4gQXR0ZW1wdGluZyB0byByZXN1bWUgYCtcInBsYXliYWNrIGJ5IHNlZWtpbmcgdG8gdGhlIGN1cnJlbnQgdGltZS5cIiksdGhpcy50ZWNoXy50cmlnZ2VyKHt0eXBlOlwidXNhZ2VcIixuYW1lOlwidmhzLXVua25vd24td2FpdGluZ1wifSkpKX10ZWNoV2FpdGluZ18oKXt2YXIgZSx0PXRoaXMuc2Vla2FibGUoKSxpPXRoaXMudGVjaF8uY3VycmVudFRpbWUoKTtyZXR1cm4hIXRoaXMudGVjaF8uc2Vla2luZygpfHwodGhpcy5iZWZvcmVTZWVrYWJsZVdpbmRvd18odCxpKT8odD10LmVuZCh0Lmxlbmd0aC0xKSx0aGlzLmxvZ2dlcl8oYEZlbGwgb3V0IG9mIGxpdmUgd2luZG93IGF0IHRpbWUgJHtpfS4gU2Vla2luZyB0byBgK1wibGl2ZSBwb2ludCAoc2Vla2FibGUgZW5kKSBcIit0KSx0aGlzLnJlc2V0VGltZVVwZGF0ZV8oKSx0aGlzLnRlY2hfLnNldEN1cnJlbnRUaW1lKHQpLHRoaXMudGVjaF8udHJpZ2dlcih7dHlwZTpcInVzYWdlXCIsbmFtZTpcInZocy1saXZlLXJlc3luY1wifSksITApOih0PXRoaXMudGVjaF8udmhzLnBsYXlsaXN0Q29udHJvbGxlcl8uc291cmNlVXBkYXRlcl8sZT10aGlzLnRlY2hfLmJ1ZmZlcmVkKCksdGhpcy52aWRlb1VuZGVyZmxvd18oe2F1ZGlvQnVmZmVyZWQ6dC5hdWRpb0J1ZmZlcmVkKCksdmlkZW9CdWZmZXJlZDp0LnZpZGVvQnVmZmVyZWQoKSxjdXJyZW50VGltZTppfSk/KHRoaXMucmVzZXRUaW1lVXBkYXRlXygpLHRoaXMudGVjaF8uc2V0Q3VycmVudFRpbWUoaSksdGhpcy50ZWNoXy50cmlnZ2VyKHt0eXBlOlwidXNhZ2VcIixuYW1lOlwidmhzLXZpZGVvLXVuZGVyZmxvd1wifSksITApOjA8KHQ9SGwoZSxpKSkubGVuZ3RoJiYodGhpcy5sb2dnZXJfKGBTdG9wcGVkIGF0ICR7aX0gYW5kIHNlZWtpbmcgdG8gYCt0LnN0YXJ0KDApKSx0aGlzLnJlc2V0VGltZVVwZGF0ZV8oKSx0aGlzLnNraXBUaGVHYXBfKGkpLCEwKSkpfWFmdGVyU2Vla2FibGVXaW5kb3dfKGUsdCxpLHM9ITEpe2lmKCFlLmxlbmd0aClyZXR1cm4hMTtsZXQgcj1lLmVuZChlLmxlbmd0aC0xKSt6bDt2YXIgbj0haS5lbmRMaXN0O3JldHVybiB0PihyPW4mJnM/ZS5lbmQoZS5sZW5ndGgtMSkrMyppLnRhcmdldER1cmF0aW9uOnIpfWJlZm9yZVNlZWthYmxlV2luZG93XyhlLHQpe3JldHVybiEhKGUubGVuZ3RoJiYwPGUuc3RhcnQoMCkmJnQ8ZS5zdGFydCgwKS10aGlzLmxpdmVSYW5nZVNhZmVUaW1lRGVsdGEpfXZpZGVvVW5kZXJmbG93Xyh7dmlkZW9CdWZmZXJlZDp0LGF1ZGlvQnVmZmVyZWQ6aSxjdXJyZW50VGltZTpzfSl7aWYodCl7bGV0IGU7dmFyIHIsbjtyZXR1cm4gdC5sZW5ndGgmJmkubGVuZ3RoPyhyPWpsKHQscy0zKSxuPWpsKHQscyksKGk9amwoaSxzKSkubGVuZ3RoJiYhbi5sZW5ndGgmJnIubGVuZ3RoJiYoZT17c3RhcnQ6ci5lbmQoMCksZW5kOmkuZW5kKDApfSkpOkhsKHQscykubGVuZ3RofHwoZT10aGlzLmdhcEZyb21WaWRlb1VuZGVyZmxvd18odCxzKSksISFlJiYodGhpcy5sb2dnZXJfKGBFbmNvdW50ZXJlZCBhIGdhcCBpbiB2aWRlbyBmcm9tICR7ZS5zdGFydH0gdG8gJHtlLmVuZH0uIGArXCJTZWVraW5nIHRvIGN1cnJlbnQgdGltZSBcIitzKSwhMCl9fXNraXBUaGVHYXBfKGUpe3ZhciB0PXRoaXMudGVjaF8uYnVmZmVyZWQoKSxpPXRoaXMudGVjaF8uY3VycmVudFRpbWUoKSx0PUhsKHQsaSk7dGhpcy5yZXNldFRpbWVVcGRhdGVfKCksMCE9PXQubGVuZ3RoJiZpPT09ZSYmKHRoaXMubG9nZ2VyXyhcInNraXBUaGVHYXBfOlwiLFwiY3VycmVudFRpbWU6XCIsaSxcInNjaGVkdWxlZCBjdXJyZW50VGltZTpcIixlLFwibmV4dFJhbmdlIHN0YXJ0OlwiLHQuc3RhcnQoMCkpLHRoaXMudGVjaF8uc2V0Q3VycmVudFRpbWUodC5zdGFydCgwKStHbCksdGhpcy50ZWNoXy50cmlnZ2VyKHt0eXBlOlwidXNhZ2VcIixuYW1lOlwidmhzLWdhcC1za2lwXCJ9KSl9Z2FwRnJvbVZpZGVvVW5kZXJmbG93XyhlLHQpe3ZhciBpPWZ1bmN0aW9uKHQpe2lmKHQubGVuZ3RoPDIpcmV0dXJuIEZsKCk7dmFyIGk9W107Zm9yKGxldCBlPTE7ZTx0Lmxlbmd0aDtlKyspe3ZhciBzPXQuZW5kKGUtMSkscj10LnN0YXJ0KGUpO2kucHVzaChbcyxyXSl9cmV0dXJuIEZsKGkpfShlKTtmb3IobGV0IGU9MDtlPGkubGVuZ3RoO2UrKyl7dmFyIHM9aS5zdGFydChlKSxyPWkuZW5kKGUpO2lmKHQtczw0JiYyPHQtcylyZXR1cm57c3RhcnQ6cyxlbmQ6cn19cmV0dXJuIG51bGx9fWNvbnN0IGt1PXtlcnJvckludGVydmFsOjMwLGdldFNvdXJjZShlKXtyZXR1cm4gZSh0aGlzLnRlY2goe0lXaWxsTm90VXNlVGhpc0luUGx1Z2luczohMH0pLmN1cnJlbnRTb3VyY2VffHx0aGlzLmN1cnJlbnRTb3VyY2UoKSl9fSxDdT1mdW5jdGlvbih0LGUpe2xldCBpPTAscz0wO2Z1bmN0aW9uIHIoZSl7bnVsbCE9ZSYmKHM9dC5kdXJhdGlvbigpIT09MS8wJiZ0LmN1cnJlbnRUaW1lKCl8fDAsdC5vbmUoXCJsb2FkZWRtZXRhZGF0YVwiLGwpLHQuc3JjKGUpLHQudHJpZ2dlcih7dHlwZTpcInVzYWdlXCIsbmFtZTpcInZocy1lcnJvci1yZWxvYWRcIn0pLHQucGxheSgpKX1mdW5jdGlvbiBuKCl7aWYoRGF0ZS5ub3coKS1pPDFlMypvLmVycm9ySW50ZXJ2YWwpdC50cmlnZ2VyKHt0eXBlOlwidXNhZ2VcIixuYW1lOlwidmhzLWVycm9yLXJlbG9hZC1jYW5jZWxlZFwifSk7ZWxzZXtpZihvLmdldFNvdXJjZSYmXCJmdW5jdGlvblwiPT10eXBlb2Ygby5nZXRTb3VyY2UpcmV0dXJuIGk9RGF0ZS5ub3coKSxvLmdldFNvdXJjZS5jYWxsKHQscik7VC5sb2cuZXJyb3IoXCJFUlJPUjogcmVsb2FkU291cmNlT25FcnJvciAtIFRoZSBvcHRpb24gZ2V0U291cmNlIG11c3QgYmUgYSBmdW5jdGlvbiFcIil9fWZ1bmN0aW9uIGEoKXt0Lm9mZihcImxvYWRlZG1ldGFkYXRhXCIsbCksdC5vZmYoXCJlcnJvclwiLG4pLHQub2ZmKFwiZGlzcG9zZVwiLGEpfWNvbnN0IG89TyhrdSxlKSxsPSh0LnJlYWR5KCgpPT57dC50cmlnZ2VyKHt0eXBlOlwidXNhZ2VcIixuYW1lOlwidmhzLWVycm9yLXJlbG9hZC1pbml0aWFsaXplZFwifSl9KSxmdW5jdGlvbigpe3MmJnQuY3VycmVudFRpbWUocyl9KTt0Lm9uKFwiZXJyb3JcIixuKSx0Lm9uKFwiZGlzcG9zZVwiLGEpLHQucmVsb2FkU291cmNlT25FcnJvcj1mdW5jdGlvbihlKXthKCksQ3UodCxlKX19O2Z1bmN0aW9uIEl1KHQsZSl7dmFyIGk9ZS5tZWRpYSgpO2xldCBzPS0xO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKWlmKHRbZV0uaWQ9PT1pLmlkKXtzPWU7YnJlYWt9dC5zZWxlY3RlZEluZGV4Xz1zLHQudHJpZ2dlcih7c2VsZWN0ZWRJbmRleDpzLHR5cGU6XCJjaGFuZ2VcIn0pfWNvbnN0IE49e1BsYXlsaXN0TG9hZGVyOkNkLFBsYXlsaXN0Om1kLHV0aWxzOk9yLFNUQU5EQVJEX1BMQVlMSVNUX1NFTEVDVE9SOlJoLElOSVRJQUxfUExBWUxJU1RfU0VMRUNUT1I6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnBsYXlsaXN0cy5tYWluLnBsYXlsaXN0cy5maWx0ZXIobWQuaXNFbmFibGVkKSxlPShOaChlLChlLHQpPT5maChlLHQpKSxlLmZpbHRlcihlPT4hIW1oKHRoaXMucGxheWxpc3RzLm1haW4sZSkudmlkZW8pKTtyZXR1cm4gZVswXXx8bnVsbH0sbGFzdEJhbmR3aWR0aFNlbGVjdG9yOlJoLG1vdmluZ0F2ZXJhZ2VCYW5kd2lkdGhTZWxlY3RvcjpmdW5jdGlvbih0KXtsZXQgaT0tMSxzPS0xO2lmKHQ8MHx8MTx0KXRocm93IG5ldyBFcnJvcihcIk1vdmluZyBhdmVyYWdlIGJhbmR3aWR0aCBkZWNheSBtdXN0IGJlIGJldHdlZW4gMCBhbmQgMS5cIik7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy51c2VEZXZpY2VQaXhlbFJhdGlvJiZ3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb3x8MTtyZXR1cm4gaTwwJiYoaT10aGlzLnN5c3RlbUJhbmR3aWR0aCxzPXRoaXMuc3lzdGVtQmFuZHdpZHRoKSwwPHRoaXMuc3lzdGVtQmFuZHdpZHRoJiZ0aGlzLnN5c3RlbUJhbmR3aWR0aCE9PXMmJihpPXQqdGhpcy5zeXN0ZW1CYW5kd2lkdGgrKDEtdCkqaSxzPXRoaXMuc3lzdGVtQmFuZHdpZHRoKSxNaCh0aGlzLnBsYXlsaXN0cy5tYWluLGkscGFyc2VJbnQoZ2godGhpcy50ZWNoXy5lbCgpLFwid2lkdGhcIiksMTApKmUscGFyc2VJbnQoZ2godGhpcy50ZWNoXy5lbCgpLFwiaGVpZ2h0XCIpLDEwKSplLHRoaXMubGltaXRSZW5kaXRpb25CeVBsYXllckRpbWVuc2lvbnMsdGhpcy5wbGF5bGlzdENvbnRyb2xsZXJfKX19LGNvbXBhcmVQbGF5bGlzdEJhbmR3aWR0aDpmaCxjb21wYXJlUGxheWxpc3RSZXNvbHV0aW9uOmZ1bmN0aW9uKGUsdCl7bGV0IGkscztyZXR1cm4gaT0oaT1lLmF0dHJpYnV0ZXMuUkVTT0xVVElPTiYmZS5hdHRyaWJ1dGVzLlJFU09MVVRJT04ud2lkdGg/ZS5hdHRyaWJ1dGVzLlJFU09MVVRJT04ud2lkdGg6aSl8fHdpbmRvdy5OdW1iZXIuTUFYX1ZBTFVFLHM9KHM9dC5hdHRyaWJ1dGVzLlJFU09MVVRJT04mJnQuYXR0cmlidXRlcy5SRVNPTFVUSU9OLndpZHRoP3QuYXR0cmlidXRlcy5SRVNPTFVUSU9OLndpZHRoOnMpfHx3aW5kb3cuTnVtYmVyLk1BWF9WQUxVRSxpPT09cyYmZS5hdHRyaWJ1dGVzLkJBTkRXSURUSCYmdC5hdHRyaWJ1dGVzLkJBTkRXSURUSD9lLmF0dHJpYnV0ZXMuQkFORFdJRFRILXQuYXR0cmlidXRlcy5CQU5EV0lEVEg6aS1zfSx4aHI6eGQoKX0seHU9KE9iamVjdC5rZXlzKEQpLmZvckVhY2godD0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShOLHQse2dldCgpe3JldHVybiBULmxvZy53YXJuKGB1c2luZyBWaHMuJHt0fSBpcyBVTlNBRkUgYmUgc3VyZSB5b3Uga25vdyB3aGF0IHlvdSBhcmUgZG9pbmdgKSxEW3RdfSxzZXQoZSl7VC5sb2cud2FybihgdXNpbmcgVmhzLiR7dH0gaXMgVU5TQUZFIGJlIHN1cmUgeW91IGtub3cgd2hhdCB5b3UgYXJlIGRvaW5nYCksXCJudW1iZXJcIiE9dHlwZW9mIGV8fGU8MD9ULmxvZy53YXJuKGB2YWx1ZSBvZiBWaHMuJHt0fSBtdXN0IGJlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byAwYCk6RFt0XT1lfX0pfSksXCJ2aWRlb2pzLXZoc1wiKSxBdT0oTi5jYW5QbGF5U291cmNlPWZ1bmN0aW9uKCl7cmV0dXJuIFQubG9nLndhcm4oXCJWSFMgaXMgbm8gbG9uZ2VyIGEgdGVjaC4gUGxlYXNlIHJlbW92ZSBpdCBmcm9tIHlvdXIgcGxheWVyJ3MgdGVjaE9yZGVyLlwiKX0sKHtwbGF5ZXI6cyxzb3VyY2VLZXlTeXN0ZW1zOmUsYXVkaW9NZWRpYTp0LG1haW5QbGF5bGlzdHM6aX0pPT57aWYoIXMuZW1lLmluaXRpYWxpemVNZWRpYUtleXMpcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO3ZhciByLHQ9dD9pLmNvbmNhdChbdF0pOmksdD0oaT10LHI9T2JqZWN0LmtleXMoZSksaS5yZWR1Y2UoKGUscyk9Pnt2YXIgdDtyZXR1cm4gcy5jb250ZW50UHJvdGVjdGlvbiYmKHQ9ci5yZWR1Y2UoKGUsdCk9Pnt2YXIgaT1zLmNvbnRlbnRQcm90ZWN0aW9uW3RdO3JldHVybiBpJiZpLnBzc2gmJihlW3RdPXtwc3NoOmkucHNzaH0pLGV9LHt9KSxPYmplY3Qua2V5cyh0KS5sZW5ndGgpJiZlLnB1c2godCksZX0sW10pKTtjb25zdCBuPVtdLGE9W107cmV0dXJuIHQuZm9yRWFjaChlPT57YS5wdXNoKG5ldyBQcm9taXNlKChlLHQpPT57cy50ZWNoXy5vbmUoXCJrZXlzZXNzaW9uY3JlYXRlZFwiLGUpfSkpLG4ucHVzaChuZXcgUHJvbWlzZSgodCxpKT0+e3MuZW1lLmluaXRpYWxpemVNZWRpYUtleXMoe2tleVN5c3RlbXM6ZX0sZT0+e2U/aShlKTp0KCl9KX0pKX0pLFByb21pc2UucmFjZShbUHJvbWlzZS5hbGwobiksUHJvbWlzZS5yYWNlKGEpXSl9KSxQdT0oe3BsYXllcjplLHNvdXJjZUtleVN5c3RlbXM6dCxtZWRpYTppLGF1ZGlvTWVkaWE6c30pPT57dD0oKGUsdCxpKT0+e2lmKCFlKXJldHVybiBlO2xldCBzPXt9O3QmJnQuYXR0cmlidXRlcyYmdC5hdHRyaWJ1dGVzLkNPREVDUyYmKHM9TGgoVW4odC5hdHRyaWJ1dGVzLkNPREVDUykpKSxpJiZpLmF0dHJpYnV0ZXMmJmkuYXR0cmlidXRlcy5DT0RFQ1MmJihzLmF1ZGlvPWkuYXR0cmlidXRlcy5DT0RFQ1MpO3ZhciByPUJuKHMudmlkZW8pLG49Qm4ocy5hdWRpbyksYT17fTtmb3IoY29uc3QgbyBpbiBlKWFbb109e30sbiYmKGFbb10uYXVkaW9Db250ZW50VHlwZT1uKSxyJiYoYVtvXS52aWRlb0NvbnRlbnRUeXBlPXIpLHQuY29udGVudFByb3RlY3Rpb24mJnQuY29udGVudFByb3RlY3Rpb25bb10mJnQuY29udGVudFByb3RlY3Rpb25bb10ucHNzaCYmKGFbb10ucHNzaD10LmNvbnRlbnRQcm90ZWN0aW9uW29dLnBzc2gpLFwic3RyaW5nXCI9PXR5cGVvZiBlW29dJiYoYVtvXS51cmw9ZVtvXSk7cmV0dXJuIE8oZSxhKX0pKHQsaSxzKTtyZXR1cm4hKCF0fHwoZS5jdXJyZW50U291cmNlKCkua2V5U3lzdGVtcz10KSYmIWUuZW1lJiYoVC5sb2cud2FybihcIkRSTSBlbmNyeXB0ZWQgc291cmNlIGNhbm5vdCBiZSBkZWNyeXB0ZWQgd2l0aG91dCBhIERSTSBwbHVnaW5cIiksMSkpfSxMdT0oKT0+e2lmKCF3aW5kb3cubG9jYWxTdG9yYWdlKXJldHVybiBudWxsO3ZhciBlPXdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSh4dSk7aWYoIWUpcmV0dXJuIG51bGw7dHJ5e3JldHVybiBKU09OLnBhcnNlKGUpfWNhdGNoKGUpe3JldHVybiBudWxsfX07Ti5zdXBwb3J0c05hdGl2ZUhscz1mdW5jdGlvbigpe2lmKCFkb2N1bWVudHx8IWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpcmV0dXJuITE7Y29uc3QgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidmlkZW9cIik7cmV0dXJuISFULmdldFRlY2goXCJIdG1sNVwiKS5pc1N1cHBvcnRlZCgpJiZbXCJhcHBsaWNhdGlvbi92bmQuYXBwbGUubXBlZ3VybFwiLFwiYXVkaW8vbXBlZ3VybFwiLFwiYXVkaW8veC1tcGVndXJsXCIsXCJhcHBsaWNhdGlvbi94LW1wZWd1cmxcIixcInZpZGVvL3gtbXBlZ3VybFwiLFwidmlkZW8vbXBlZ3VybFwiLFwiYXBwbGljYXRpb24vbXBlZ3VybFwiXS5zb21lKGZ1bmN0aW9uKGUpe3JldHVybi9tYXliZXxwcm9iYWJseS9pLnRlc3QodC5jYW5QbGF5VHlwZShlKSl9KX0oKSxOLnN1cHBvcnRzTmF0aXZlRGFzaD0hIShkb2N1bWVudCYmZG9jdW1lbnQuY3JlYXRlRWxlbWVudCYmVC5nZXRUZWNoKFwiSHRtbDVcIikuaXNTdXBwb3J0ZWQoKSkmJi9tYXliZXxwcm9iYWJseS9pLnRlc3QoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInZpZGVvXCIpLmNhblBsYXlUeXBlKFwiYXBwbGljYXRpb24vZGFzaCt4bWxcIikpLE4uc3VwcG9ydHNUeXBlTmF0aXZlbHk9ZT0+XCJobHNcIj09PWU/Ti5zdXBwb3J0c05hdGl2ZUhsczpcImRhc2hcIj09PWUmJk4uc3VwcG9ydHNOYXRpdmVEYXNoLE4uaXNTdXBwb3J0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gVC5sb2cud2FybihcIlZIUyBpcyBubyBsb25nZXIgYSB0ZWNoLiBQbGVhc2UgcmVtb3ZlIGl0IGZyb20geW91ciBwbGF5ZXIncyB0ZWNoT3JkZXIuXCIpfTtjbGFzcyBPdSBleHRlbmRzIFQuZ2V0Q29tcG9uZW50KFwiQ29tcG9uZW50XCIpe2NvbnN0cnVjdG9yKGUsdCxpKXtpZihzdXBlcih0LGkudmhzKSxcIm51bWJlclwiPT10eXBlb2YgaS5pbml0aWFsQmFuZHdpZHRoJiYodGhpcy5vcHRpb25zXy5iYW5kd2lkdGg9aS5pbml0aWFsQmFuZHdpZHRoKSx0aGlzLmxvZ2dlcl89QmwoXCJWaHNIYW5kbGVyXCIpLHQub3B0aW9uc18mJnQub3B0aW9uc18ucGxheWVySWQmJihpPVQuZ2V0UGxheWVyKHQub3B0aW9uc18ucGxheWVySWQpLHRoaXMucGxheWVyXz1pKSx0aGlzLnRlY2hfPXQsdGhpcy5zb3VyY2VfPWUsdGhpcy5zdGF0cz17fSx0aGlzLmlnbm9yZU5leHRTZWVraW5nRXZlbnRfPSExLHRoaXMuc2V0T3B0aW9uc18oKSx0aGlzLm9wdGlvbnNfLm92ZXJyaWRlTmF0aXZlJiZ0Lm92ZXJyaWRlTmF0aXZlQXVkaW9UcmFja3MmJnQub3ZlcnJpZGVOYXRpdmVWaWRlb1RyYWNrcyl0Lm92ZXJyaWRlTmF0aXZlQXVkaW9UcmFja3MoITApLHQub3ZlcnJpZGVOYXRpdmVWaWRlb1RyYWNrcyghMCk7ZWxzZSBpZih0aGlzLm9wdGlvbnNfLm92ZXJyaWRlTmF0aXZlJiYodC5mZWF0dXJlc05hdGl2ZVZpZGVvVHJhY2tzfHx0LmZlYXR1cmVzTmF0aXZlQXVkaW9UcmFja3MpKXRocm93IG5ldyBFcnJvcihcIk92ZXJyaWRpbmcgbmF0aXZlIFZIUyByZXF1aXJlcyBlbXVsYXRlZCB0cmFja3MuIFNlZSBodHRwczovL2dpdC5pby92TXBqQlwiKTt0aGlzLm9uKGRvY3VtZW50LFtcImZ1bGxzY3JlZW5jaGFuZ2VcIixcIndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2VcIixcIm1vemZ1bGxzY3JlZW5jaGFuZ2VcIixcIk1TRnVsbHNjcmVlbkNoYW5nZVwiXSxlPT57dmFyIHQ9ZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnR8fGRvY3VtZW50LndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50fHxkb2N1bWVudC5tb3pGdWxsU2NyZWVuRWxlbWVudHx8ZG9jdW1lbnQubXNGdWxsc2NyZWVuRWxlbWVudDt0JiZ0LmNvbnRhaW5zKHRoaXMudGVjaF8uZWwoKSk/dGhpcy5wbGF5bGlzdENvbnRyb2xsZXJfLmZhc3RRdWFsaXR5Q2hhbmdlXygpOnRoaXMucGxheWxpc3RDb250cm9sbGVyXy5jaGVja0FCUl8oKX0pLHRoaXMub24odGhpcy50ZWNoXyxcInNlZWtpbmdcIixmdW5jdGlvbigpe3RoaXMuaWdub3JlTmV4dFNlZWtpbmdFdmVudF8/dGhpcy5pZ25vcmVOZXh0U2Vla2luZ0V2ZW50Xz0hMTp0aGlzLnNldEN1cnJlbnRUaW1lKHRoaXMudGVjaF8uY3VycmVudFRpbWUoKSl9KSx0aGlzLm9uKHRoaXMudGVjaF8sXCJlcnJvclwiLGZ1bmN0aW9uKCl7dGhpcy50ZWNoXy5lcnJvcigpJiZ0aGlzLnBsYXlsaXN0Q29udHJvbGxlcl8mJnRoaXMucGxheWxpc3RDb250cm9sbGVyXy5wYXVzZUxvYWRpbmcoKX0pLHRoaXMub24odGhpcy50ZWNoXyxcInBsYXlcIix0aGlzLnBsYXkpfXNldE9wdGlvbnNfKCl7dmFyIGU7dGhpcy5vcHRpb25zXy53aXRoQ3JlZGVudGlhbHM9dGhpcy5vcHRpb25zXy53aXRoQ3JlZGVudGlhbHN8fCExLHRoaXMub3B0aW9uc18ubGltaXRSZW5kaXRpb25CeVBsYXllckRpbWVuc2lvbnM9ITEhPT10aGlzLm9wdGlvbnNfLmxpbWl0UmVuZGl0aW9uQnlQbGF5ZXJEaW1lbnNpb25zLHRoaXMub3B0aW9uc18udXNlRGV2aWNlUGl4ZWxSYXRpbz10aGlzLm9wdGlvbnNfLnVzZURldmljZVBpeGVsUmF0aW98fCExLHRoaXMub3B0aW9uc18udXNlQmFuZHdpZHRoRnJvbUxvY2FsU3RvcmFnZT1cInVuZGVmaW5lZFwiIT10eXBlb2YgdGhpcy5zb3VyY2VfLnVzZUJhbmR3aWR0aEZyb21Mb2NhbFN0b3JhZ2U/dGhpcy5zb3VyY2VfLnVzZUJhbmR3aWR0aEZyb21Mb2NhbFN0b3JhZ2U6dGhpcy5vcHRpb25zXy51c2VCYW5kd2lkdGhGcm9tTG9jYWxTdG9yYWdlfHwhMSx0aGlzLm9wdGlvbnNfLnVzZU5ldHdvcmtJbmZvcm1hdGlvbkFwaT10aGlzLm9wdGlvbnNfLnVzZU5ldHdvcmtJbmZvcm1hdGlvbkFwaXx8ITEsdGhpcy5vcHRpb25zXy51c2VEdHNGb3JUaW1lc3RhbXBPZmZzZXQ9dGhpcy5vcHRpb25zXy51c2VEdHNGb3JUaW1lc3RhbXBPZmZzZXR8fCExLHRoaXMub3B0aW9uc18uY3VzdG9tVGFnUGFyc2Vycz10aGlzLm9wdGlvbnNfLmN1c3RvbVRhZ1BhcnNlcnN8fFtdLHRoaXMub3B0aW9uc18uY3VzdG9tVGFnTWFwcGVycz10aGlzLm9wdGlvbnNfLmN1c3RvbVRhZ01hcHBlcnN8fFtdLHRoaXMub3B0aW9uc18uY2FjaGVFbmNyeXB0aW9uS2V5cz10aGlzLm9wdGlvbnNfLmNhY2hlRW5jcnlwdGlvbktleXN8fCExLHRoaXMub3B0aW9uc18ubGxobHM9ITEhPT10aGlzLm9wdGlvbnNfLmxsaGxzLHRoaXMub3B0aW9uc18uYnVmZmVyQmFzZWRBQlI9dGhpcy5vcHRpb25zXy5idWZmZXJCYXNlZEFCUnx8ITEsXCJudW1iZXJcIiE9dHlwZW9mIHRoaXMub3B0aW9uc18ucGxheWxpc3RFeGNsdXNpb25EdXJhdGlvbiYmKHRoaXMub3B0aW9uc18ucGxheWxpc3RFeGNsdXNpb25EdXJhdGlvbj0zMDApLFwibnVtYmVyXCIhPXR5cGVvZiB0aGlzLm9wdGlvbnNfLmJhbmR3aWR0aCYmdGhpcy5vcHRpb25zXy51c2VCYW5kd2lkdGhGcm9tTG9jYWxTdG9yYWdlJiYoKGU9THUoKSkmJmUuYmFuZHdpZHRoJiYodGhpcy5vcHRpb25zXy5iYW5kd2lkdGg9ZS5iYW5kd2lkdGgsdGhpcy50ZWNoXy50cmlnZ2VyKHt0eXBlOlwidXNhZ2VcIixuYW1lOlwidmhzLWJhbmR3aWR0aC1mcm9tLWxvY2FsLXN0b3JhZ2VcIn0pKSxlKSYmZS50aHJvdWdocHV0JiYodGhpcy5vcHRpb25zXy50aHJvdWdocHV0PWUudGhyb3VnaHB1dCx0aGlzLnRlY2hfLnRyaWdnZXIoe3R5cGU6XCJ1c2FnZVwiLG5hbWU6XCJ2aHMtdGhyb3VnaHB1dC1mcm9tLWxvY2FsLXN0b3JhZ2VcIn0pKSxcIm51bWJlclwiIT10eXBlb2YgdGhpcy5vcHRpb25zXy5iYW5kd2lkdGgmJih0aGlzLm9wdGlvbnNfLmJhbmR3aWR0aD1ELklOSVRJQUxfQkFORFdJRFRIKSx0aGlzLm9wdGlvbnNfLmVuYWJsZUxvd0luaXRpYWxQbGF5bGlzdD10aGlzLm9wdGlvbnNfLmVuYWJsZUxvd0luaXRpYWxQbGF5bGlzdCYmdGhpcy5vcHRpb25zXy5iYW5kd2lkdGg9PT1ELklOSVRJQUxfQkFORFdJRFRILFtcIndpdGhDcmVkZW50aWFsc1wiLFwidXNlRGV2aWNlUGl4ZWxSYXRpb1wiLFwibGltaXRSZW5kaXRpb25CeVBsYXllckRpbWVuc2lvbnNcIixcImJhbmR3aWR0aFwiLFwiY3VzdG9tVGFnUGFyc2Vyc1wiLFwiY3VzdG9tVGFnTWFwcGVyc1wiLFwiY2FjaGVFbmNyeXB0aW9uS2V5c1wiLFwicGxheWxpc3RTZWxlY3RvclwiLFwiaW5pdGlhbFBsYXlsaXN0U2VsZWN0b3JcIixcImJ1ZmZlckJhc2VkQUJSXCIsXCJsaXZlUmFuZ2VTYWZlVGltZURlbHRhXCIsXCJsbGhsc1wiLFwidXNlTmV0d29ya0luZm9ybWF0aW9uQXBpXCIsXCJ1c2VEdHNGb3JUaW1lc3RhbXBPZmZzZXRcIixcImV4YWN0TWFuaWZlc3RUaW1pbmdzXCIsXCJsZWFzdFBpeGVsRGlmZlNlbGVjdG9yXCJdLmZvckVhY2goZT0+e1widW5kZWZpbmVkXCIhPXR5cGVvZiB0aGlzLnNvdXJjZV9bZV0mJih0aGlzLm9wdGlvbnNfW2VdPXRoaXMuc291cmNlX1tlXSl9KSx0aGlzLmxpbWl0UmVuZGl0aW9uQnlQbGF5ZXJEaW1lbnNpb25zPXRoaXMub3B0aW9uc18ubGltaXRSZW5kaXRpb25CeVBsYXllckRpbWVuc2lvbnMsdGhpcy51c2VEZXZpY2VQaXhlbFJhdGlvPXRoaXMub3B0aW9uc18udXNlRGV2aWNlUGl4ZWxSYXRpb31zcmMoZSx0KXtlJiYodGhpcy5zZXRPcHRpb25zXygpLHRoaXMub3B0aW9uc18uc3JjPTA9PT0oZT10aGlzLnNvdXJjZV8uc3JjKS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJkYXRhOmFwcGxpY2F0aW9uL3ZuZC52aWRlb2pzLnZocytqc29uLFwiKT9KU09OLnBhcnNlKGUuc3Vic3RyaW5nKGUuaW5kZXhPZihcIixcIikrMSkpOmUsdGhpcy5vcHRpb25zXy50ZWNoPXRoaXMudGVjaF8sdGhpcy5vcHRpb25zXy5leHRlcm5WaHM9Tix0aGlzLm9wdGlvbnNfLnNvdXJjZVR5cGU9QW4odCksdGhpcy5vcHRpb25zXy5zZWVrVG89ZT0+e3RoaXMudGVjaF8uc2V0Q3VycmVudFRpbWUoZSl9LHRoaXMucGxheWxpc3RDb250cm9sbGVyXz1uZXcgVHUodGhpcy5vcHRpb25zXyksZT1PKHtsaXZlUmFuZ2VTYWZlVGltZURlbHRhOnpsfSx0aGlzLm9wdGlvbnNfLHtzZWVrYWJsZTooKT0+dGhpcy5zZWVrYWJsZSgpLG1lZGlhOigpPT50aGlzLnBsYXlsaXN0Q29udHJvbGxlcl8ubWVkaWEoKSxwbGF5bGlzdENvbnRyb2xsZXI6dGhpcy5wbGF5bGlzdENvbnRyb2xsZXJffSksdGhpcy5wbGF5YmFja1dhdGNoZXJfPW5ldyBFdShlKSx0aGlzLnBsYXlsaXN0Q29udHJvbGxlcl8ub24oXCJlcnJvclwiLCgpPT57dmFyIGU9VC5wbGF5ZXJzW3RoaXMudGVjaF8ub3B0aW9uc18ucGxheWVySWRdO2xldCB0PXRoaXMucGxheWxpc3RDb250cm9sbGVyXy5lcnJvcjtcIm9iamVjdFwiIT10eXBlb2YgdHx8dC5jb2RlP1wic3RyaW5nXCI9PXR5cGVvZiB0JiYodD17bWVzc2FnZTp0LGNvZGU6M30pOnQuY29kZT0zLGUuZXJyb3IodCl9KSx0PXRoaXMub3B0aW9uc18uYnVmZmVyQmFzZWRBQlI/Ti5tb3ZpbmdBdmVyYWdlQmFuZHdpZHRoU2VsZWN0b3IoLjU1KTpOLlNUQU5EQVJEX1BMQVlMSVNUX1NFTEVDVE9SLHRoaXMucGxheWxpc3RDb250cm9sbGVyXy5zZWxlY3RQbGF5bGlzdD0odGhpcy5zZWxlY3RQbGF5bGlzdHx8dCkuYmluZCh0aGlzKSx0aGlzLnBsYXlsaXN0Q29udHJvbGxlcl8uc2VsZWN0SW5pdGlhbFBsYXlsaXN0PU4uSU5JVElBTF9QTEFZTElTVF9TRUxFQ1RPUi5iaW5kKHRoaXMpLHRoaXMucGxheWxpc3RzPXRoaXMucGxheWxpc3RDb250cm9sbGVyXy5tYWluUGxheWxpc3RMb2FkZXJfLHRoaXMubWVkaWFTb3VyY2U9dGhpcy5wbGF5bGlzdENvbnRyb2xsZXJfLm1lZGlhU291cmNlLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMse3NlbGVjdFBsYXlsaXN0OntnZXQoKXtyZXR1cm4gdGhpcy5wbGF5bGlzdENvbnRyb2xsZXJfLnNlbGVjdFBsYXlsaXN0fSxzZXQoZSl7dGhpcy5wbGF5bGlzdENvbnRyb2xsZXJfLnNlbGVjdFBsYXlsaXN0PWUuYmluZCh0aGlzKX19LHRocm91Z2hwdXQ6e2dldCgpe3JldHVybiB0aGlzLnBsYXlsaXN0Q29udHJvbGxlcl8ubWFpblNlZ21lbnRMb2FkZXJfLnRocm91Z2hwdXQucmF0ZX0sc2V0KGUpe3RoaXMucGxheWxpc3RDb250cm9sbGVyXy5tYWluU2VnbWVudExvYWRlcl8udGhyb3VnaHB1dC5yYXRlPWUsdGhpcy5wbGF5bGlzdENvbnRyb2xsZXJfLm1haW5TZWdtZW50TG9hZGVyXy50aHJvdWdocHV0LmNvdW50PTF9fSxiYW5kd2lkdGg6e2dldCgpe2xldCBlPXRoaXMucGxheWxpc3RDb250cm9sbGVyXy5tYWluU2VnbWVudExvYWRlcl8uYmFuZHdpZHRoO3ZhciB0PXdpbmRvdy5uYXZpZ2F0b3IuY29ubmVjdGlvbnx8d2luZG93Lm5hdmlnYXRvci5tb3pDb25uZWN0aW9ufHx3aW5kb3cubmF2aWdhdG9yLndlYmtpdENvbm5lY3Rpb247cmV0dXJuIHRoaXMub3B0aW9uc18udXNlTmV0d29ya0luZm9ybWF0aW9uQXBpJiZ0JiYodD0xZTMqdC5kb3dubGluayoxZTMsZT0xZTc8PXQmJjFlNzw9ZT9NYXRoLm1heChlLHQpOnQpLGV9LHNldChlKXt0aGlzLnBsYXlsaXN0Q29udHJvbGxlcl8ubWFpblNlZ21lbnRMb2FkZXJfLmJhbmR3aWR0aD1lLHRoaXMucGxheWxpc3RDb250cm9sbGVyXy5tYWluU2VnbWVudExvYWRlcl8udGhyb3VnaHB1dD17cmF0ZTowLGNvdW50OjB9fX0sc3lzdGVtQmFuZHdpZHRoOntnZXQoKXt2YXIgZT0xLyh0aGlzLmJhbmR3aWR0aHx8MSk7bGV0IHQ7cmV0dXJuIHQ9MDx0aGlzLnRocm91Z2hwdXQ/MS90aGlzLnRocm91Z2hwdXQ6MCxNYXRoLmZsb29yKDEvKGUrdCkpfSxzZXQoKXtULmxvZy5lcnJvcignVGhlIFwic3lzdGVtQmFuZHdpZHRoXCIgcHJvcGVydHkgaXMgcmVhZC1vbmx5Jyl9fX0pLHRoaXMub3B0aW9uc18uYmFuZHdpZHRoJiYodGhpcy5iYW5kd2lkdGg9dGhpcy5vcHRpb25zXy5iYW5kd2lkdGgpLHRoaXMub3B0aW9uc18udGhyb3VnaHB1dCYmKHRoaXMudGhyb3VnaHB1dD10aGlzLm9wdGlvbnNfLnRocm91Z2hwdXQpLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMuc3RhdHMse2JhbmR3aWR0aDp7Z2V0OigpPT50aGlzLmJhbmR3aWR0aHx8MCxlbnVtZXJhYmxlOiEwfSxtZWRpYVJlcXVlc3RzOntnZXQ6KCk9PnRoaXMucGxheWxpc3RDb250cm9sbGVyXy5tZWRpYVJlcXVlc3RzXygpfHwwLGVudW1lcmFibGU6ITB9LG1lZGlhUmVxdWVzdHNBYm9ydGVkOntnZXQ6KCk9PnRoaXMucGxheWxpc3RDb250cm9sbGVyXy5tZWRpYVJlcXVlc3RzQWJvcnRlZF8oKXx8MCxlbnVtZXJhYmxlOiEwfSxtZWRpYVJlcXVlc3RzVGltZWRvdXQ6e2dldDooKT0+dGhpcy5wbGF5bGlzdENvbnRyb2xsZXJfLm1lZGlhUmVxdWVzdHNUaW1lZG91dF8oKXx8MCxlbnVtZXJhYmxlOiEwfSxtZWRpYVJlcXVlc3RzRXJyb3JlZDp7Z2V0OigpPT50aGlzLnBsYXlsaXN0Q29udHJvbGxlcl8ubWVkaWFSZXF1ZXN0c0Vycm9yZWRfKCl8fDAsZW51bWVyYWJsZTohMH0sbWVkaWFUcmFuc2ZlckR1cmF0aW9uOntnZXQ6KCk9PnRoaXMucGxheWxpc3RDb250cm9sbGVyXy5tZWRpYVRyYW5zZmVyRHVyYXRpb25fKCl8fDAsZW51bWVyYWJsZTohMH0sbWVkaWFCeXRlc1RyYW5zZmVycmVkOntnZXQ6KCk9PnRoaXMucGxheWxpc3RDb250cm9sbGVyXy5tZWRpYUJ5dGVzVHJhbnNmZXJyZWRfKCl8fDAsZW51bWVyYWJsZTohMH0sbWVkaWFTZWNvbmRzTG9hZGVkOntnZXQ6KCk9PnRoaXMucGxheWxpc3RDb250cm9sbGVyXy5tZWRpYVNlY29uZHNMb2FkZWRfKCl8fDAsZW51bWVyYWJsZTohMH0sbWVkaWFBcHBlbmRzOntnZXQ6KCk9PnRoaXMucGxheWxpc3RDb250cm9sbGVyXy5tZWRpYUFwcGVuZHNfKCl8fDAsZW51bWVyYWJsZTohMH0sbWFpbkFwcGVuZHNUb0xvYWRlZERhdGE6e2dldDooKT0+dGhpcy5wbGF5bGlzdENvbnRyb2xsZXJfLm1haW5BcHBlbmRzVG9Mb2FkZWREYXRhXygpfHwwLGVudW1lcmFibGU6ITB9LGF1ZGlvQXBwZW5kc1RvTG9hZGVkRGF0YTp7Z2V0OigpPT50aGlzLnBsYXlsaXN0Q29udHJvbGxlcl8uYXVkaW9BcHBlbmRzVG9Mb2FkZWREYXRhXygpfHwwLGVudW1lcmFibGU6ITB9LGFwcGVuZHNUb0xvYWRlZERhdGE6e2dldDooKT0+dGhpcy5wbGF5bGlzdENvbnRyb2xsZXJfLmFwcGVuZHNUb0xvYWRlZERhdGFfKCl8fDAsZW51bWVyYWJsZTohMH0sdGltZVRvTG9hZGVkRGF0YTp7Z2V0OigpPT50aGlzLnBsYXlsaXN0Q29udHJvbGxlcl8udGltZVRvTG9hZGVkRGF0YV8oKXx8MCxlbnVtZXJhYmxlOiEwfSxidWZmZXJlZDp7Z2V0OigpPT5ZbCh0aGlzLnRlY2hfLmJ1ZmZlcmVkKCkpLGVudW1lcmFibGU6ITB9LGN1cnJlbnRUaW1lOntnZXQ6KCk9PnRoaXMudGVjaF8uY3VycmVudFRpbWUoKSxlbnVtZXJhYmxlOiEwfSxjdXJyZW50U291cmNlOntnZXQ6KCk9PnRoaXMudGVjaF8uY3VycmVudFNvdXJjZV8sZW51bWVyYWJsZTohMH0sY3VycmVudFRlY2g6e2dldDooKT0+dGhpcy50ZWNoXy5uYW1lXyxlbnVtZXJhYmxlOiEwfSxkdXJhdGlvbjp7Z2V0OigpPT50aGlzLnRlY2hfLmR1cmF0aW9uKCksZW51bWVyYWJsZTohMH0sbWFpbjp7Z2V0OigpPT50aGlzLnBsYXlsaXN0cy5tYWluLGVudW1lcmFibGU6ITB9LHBsYXllckRpbWVuc2lvbnM6e2dldDooKT0+dGhpcy50ZWNoXy5jdXJyZW50RGltZW5zaW9ucygpLGVudW1lcmFibGU6ITB9LHNlZWthYmxlOntnZXQ6KCk9PllsKHRoaXMudGVjaF8uc2Vla2FibGUoKSksZW51bWVyYWJsZTohMH0sdGltZXN0YW1wOntnZXQ6KCk9PkRhdGUubm93KCksZW51bWVyYWJsZTohMH0sdmlkZW9QbGF5YmFja1F1YWxpdHk6e2dldDooKT0+dGhpcy50ZWNoXy5nZXRWaWRlb1BsYXliYWNrUXVhbGl0eSgpLGVudW1lcmFibGU6ITB9fSksdGhpcy50ZWNoXy5vbmUoXCJjYW5wbGF5XCIsdGhpcy5wbGF5bGlzdENvbnRyb2xsZXJfLnNldHVwRmlyc3RQbGF5LmJpbmQodGhpcy5wbGF5bGlzdENvbnRyb2xsZXJfKSksdGhpcy50ZWNoXy5vbihcImJhbmR3aWR0aHVwZGF0ZVwiLCgpPT57aWYodGhpcy5vcHRpb25zXy51c2VCYW5kd2lkdGhGcm9tTG9jYWxTdG9yYWdlKXt2YXIgZT17YmFuZHdpZHRoOnRoaXMuYmFuZHdpZHRoLHRocm91Z2hwdXQ6TWF0aC5yb3VuZCh0aGlzLnRocm91Z2hwdXQpfTtpZih3aW5kb3cubG9jYWxTdG9yYWdlKXt2YXIgdD0odD1MdSgpKT9PKHQsZSk6ZTt0cnl7d2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKHh1LEpTT04uc3RyaW5naWZ5KHQpKX1jYXRjaChlKXtyZXR1cm59fX19KSx0aGlzLnBsYXlsaXN0Q29udHJvbGxlcl8ub24oXCJzZWxlY3RlZGluaXRpYWxtZWRpYVwiLCgpPT57dmFyIGk7KGk9dGhpcykucmVwcmVzZW50YXRpb25zPSgpPT57dmFyIGU9aS5wbGF5bGlzdENvbnRyb2xsZXJfLm1haW4oKSxlPXBkKGUpP2kucGxheWxpc3RDb250cm9sbGVyXy5nZXRBdWRpb1RyYWNrUGxheWxpc3RzXygpOmUucGxheWxpc3RzO3JldHVybiBlP2UuZmlsdGVyKGU9PiFvZChlKSkubWFwKChlLHQpPT5uZXcgU3UoaSxlLGUuaWQpKTpbXX19KSx0aGlzLnBsYXlsaXN0Q29udHJvbGxlcl8uc291cmNlVXBkYXRlcl8ub24oXCJjcmVhdGVkc291cmNlYnVmZmVyc1wiLCgpPT57dGhpcy5zZXR1cEVtZV8oKX0pLHRoaXMub24odGhpcy5wbGF5bGlzdENvbnRyb2xsZXJfLFwicHJvZ3Jlc3NcIixmdW5jdGlvbigpe3RoaXMudGVjaF8udHJpZ2dlcihcInByb2dyZXNzXCIpfSksdGhpcy5vbih0aGlzLnBsYXlsaXN0Q29udHJvbGxlcl8sXCJmaXJzdHBsYXlcIixmdW5jdGlvbigpe3RoaXMuaWdub3JlTmV4dFNlZWtpbmdFdmVudF89ITB9KSx0aGlzLnNldHVwUXVhbGl0eUxldmVsc18oKSx0aGlzLnRlY2hfLmVsKCkpJiYodGhpcy5tZWRpYVNvdXJjZVVybF89d2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwodGhpcy5wbGF5bGlzdENvbnRyb2xsZXJfLm1lZGlhU291cmNlKSx0aGlzLnRlY2hfLnNyYyh0aGlzLm1lZGlhU291cmNlVXJsXykpfWNyZWF0ZUtleVNlc3Npb25zXygpe3ZhciBlPXRoaXMucGxheWxpc3RDb250cm9sbGVyXy5tZWRpYVR5cGVzXy5BVURJTy5hY3RpdmVQbGF5bGlzdExvYWRlcjt0aGlzLmxvZ2dlcl8oXCJ3YWl0aW5nIGZvciBFTUUga2V5IHNlc3Npb24gY3JlYXRpb25cIiksQXUoe3BsYXllcjp0aGlzLnBsYXllcl8sc291cmNlS2V5U3lzdGVtczp0aGlzLnNvdXJjZV8ua2V5U3lzdGVtcyxhdWRpb01lZGlhOmUmJmUubWVkaWEoKSxtYWluUGxheWxpc3RzOnRoaXMucGxheWxpc3RzLm1haW4ucGxheWxpc3RzfSkudGhlbigoKT0+e3RoaXMubG9nZ2VyXyhcImNyZWF0ZWQgRU1FIGtleSBzZXNzaW9uXCIpLHRoaXMucGxheWxpc3RDb250cm9sbGVyXy5zb3VyY2VVcGRhdGVyXy5pbml0aWFsaXplZEVtZSgpfSkuY2F0Y2goZT0+e3RoaXMubG9nZ2VyXyhcImVycm9yIHdoaWxlIGNyZWF0aW5nIEVNRSBrZXkgc2Vzc2lvblwiLGUpLHRoaXMucGxheWVyXy5lcnJvcih7bWVzc2FnZTpcIkZhaWxlZCB0byBpbml0aWFsaXplIG1lZGlhIGtleXMgZm9yIEVNRVwiLGNvZGU6M30pfSl9aGFuZGxlV2FpdGluZ0ZvcktleV8oKXt0aGlzLmxvZ2dlcl8oXCJ3YWl0aW5nZm9ya2V5IGZpcmVkLCBhdHRlbXB0aW5nIHRvIGNyZWF0ZSBhbnkgbmV3IGtleSBzZXNzaW9uc1wiKSx0aGlzLmNyZWF0ZUtleVNlc3Npb25zXygpfXNldHVwRW1lXygpe3ZhciBlPXRoaXMucGxheWxpc3RDb250cm9sbGVyXy5tZWRpYVR5cGVzXy5BVURJTy5hY3RpdmVQbGF5bGlzdExvYWRlcixlPVB1KHtwbGF5ZXI6dGhpcy5wbGF5ZXJfLHNvdXJjZUtleVN5c3RlbXM6dGhpcy5zb3VyY2VfLmtleVN5c3RlbXMsbWVkaWE6dGhpcy5wbGF5bGlzdHMubWVkaWEoKSxhdWRpb01lZGlhOmUmJmUubWVkaWEoKX0pO3RoaXMucGxheWVyXy50ZWNoXy5vbihcImtleXN0YXR1c2NoYW5nZVwiLGU9PntpZihcIm91dHB1dC1yZXN0cmljdGVkXCI9PT1lLnN0YXR1cyl7ZT10aGlzLnBsYXlsaXN0Q29udHJvbGxlcl8ubWFpbigpO2lmKGUmJmUucGxheWxpc3RzKXtjb25zdCB0PVtdO2UucGxheWxpc3RzLmZvckVhY2goZT0+e2UmJmUuYXR0cmlidXRlcyYmZS5hdHRyaWJ1dGVzLlJFU09MVVRJT04mJjcyMDw9ZS5hdHRyaWJ1dGVzLlJFU09MVVRJT04uaGVpZ2h0JiYoIWUuZXhjbHVkZVVudGlsfHxlLmV4Y2x1ZGVVbnRpbDwxLzApJiYoZS5leGNsdWRlVW50aWw9MS8wLHQucHVzaChlKSl9KSx0Lmxlbmd0aCYmKFQubG9nLndhcm4oJ0RSTSBrZXlzdGF0dXMgY2hhbmdlZCB0byBcIm91dHB1dC1yZXN0cmljdGVkLlwiIFJlbW92aW5nIHRoZSBmb2xsb3dpbmcgSEQgcGxheWxpc3RzIHRoYXQgd2lsbCBtb3N0IGxpa2VseSBmYWlsIHRvIHBsYXkgYW5kIGNsZWFyaW5nIHRoZSBidWZmZXIuIFRoaXMgbWF5IGJlIGR1ZSB0byBIRENQIHJlc3RyaWN0aW9ucyBvbiB0aGUgc3RyZWFtIGFuZCB0aGUgY2FwYWJpbGl0aWVzIG9mIHRoZSBjdXJyZW50IGRldmljZS4nLC4uLnQpLHRoaXMucGxheWxpc3RDb250cm9sbGVyXy5mYXN0UXVhbGl0eUNoYW5nZV8oKSl9fX0pLHRoaXMuaGFuZGxlV2FpdGluZ0ZvcktleV89dGhpcy5oYW5kbGVXYWl0aW5nRm9yS2V5Xy5iaW5kKHRoaXMpLHRoaXMucGxheWVyXy50ZWNoXy5vbihcIndhaXRpbmdmb3JrZXlcIix0aGlzLmhhbmRsZVdhaXRpbmdGb3JLZXlfKSwxMSE9PVQuYnJvd3Nlci5JRV9WRVJTSU9OJiZlP3RoaXMuY3JlYXRlS2V5U2Vzc2lvbnNfKCk6dGhpcy5wbGF5bGlzdENvbnRyb2xsZXJfLnNvdXJjZVVwZGF0ZXJfLmluaXRpYWxpemVkRW1lKCl9c2V0dXBRdWFsaXR5TGV2ZWxzXygpe3ZhciBlPVQucGxheWVyc1t0aGlzLnRlY2hfLm9wdGlvbnNfLnBsYXllcklkXTtlJiZlLnF1YWxpdHlMZXZlbHMmJiF0aGlzLnF1YWxpdHlMZXZlbHNfJiYodGhpcy5xdWFsaXR5TGV2ZWxzXz1lLnF1YWxpdHlMZXZlbHMoKSx0aGlzLnBsYXlsaXN0Q29udHJvbGxlcl8ub24oXCJzZWxlY3RlZGluaXRpYWxtZWRpYVwiLCgpPT57dmFyIHQsZTt0PXRoaXMucXVhbGl0eUxldmVsc18sKGU9dGhpcykucmVwcmVzZW50YXRpb25zKCkuZm9yRWFjaChlPT57dC5hZGRRdWFsaXR5TGV2ZWwoZSl9KSxJdSh0LGUucGxheWxpc3RzKX0pLHRoaXMucGxheWxpc3RzLm9uKFwibWVkaWFjaGFuZ2VcIiwoKT0+e0l1KHRoaXMucXVhbGl0eUxldmVsc18sdGhpcy5wbGF5bGlzdHMpfSkpfXN0YXRpYyB2ZXJzaW9uKCl7cmV0dXJue1wiQHZpZGVvanMvaHR0cC1zdHJlYW1pbmdcIjpcIjMuMC4yXCIsXCJtdXguanNcIjpcIjYuMy4wXCIsXCJtcGQtcGFyc2VyXCI6XCIxLjAuMVwiLFwibTN1OC1wYXJzZXJcIjpcIjYuMC4wXCIsXCJhZXMtZGVjcnlwdGVyXCI6XCI0LjAuMVwifX12ZXJzaW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IudmVyc2lvbigpfWNhbkNoYW5nZVR5cGUoKXtyZXR1cm4gaXUuY2FuQ2hhbmdlVHlwZSgpfXBsYXkoKXt0aGlzLnBsYXlsaXN0Q29udHJvbGxlcl8ucGxheSgpfXNldEN1cnJlbnRUaW1lKGUpe3RoaXMucGxheWxpc3RDb250cm9sbGVyXy5zZXRDdXJyZW50VGltZShlKX1kdXJhdGlvbigpe3JldHVybiB0aGlzLnBsYXlsaXN0Q29udHJvbGxlcl8uZHVyYXRpb24oKX1zZWVrYWJsZSgpe3JldHVybiB0aGlzLnBsYXlsaXN0Q29udHJvbGxlcl8uc2Vla2FibGUoKX1kaXNwb3NlKCl7dGhpcy5wbGF5YmFja1dhdGNoZXJfJiZ0aGlzLnBsYXliYWNrV2F0Y2hlcl8uZGlzcG9zZSgpLHRoaXMucGxheWxpc3RDb250cm9sbGVyXyYmdGhpcy5wbGF5bGlzdENvbnRyb2xsZXJfLmRpc3Bvc2UoKSx0aGlzLnF1YWxpdHlMZXZlbHNfJiZ0aGlzLnF1YWxpdHlMZXZlbHNfLmRpc3Bvc2UoKSx0aGlzLnRlY2hfJiZ0aGlzLnRlY2hfLnZocyYmZGVsZXRlIHRoaXMudGVjaF8udmhzLHRoaXMubWVkaWFTb3VyY2VVcmxfJiZ3aW5kb3cuVVJMLnJldm9rZU9iamVjdFVSTCYmKHdpbmRvdy5VUkwucmV2b2tlT2JqZWN0VVJMKHRoaXMubWVkaWFTb3VyY2VVcmxfKSx0aGlzLm1lZGlhU291cmNlVXJsXz1udWxsKSx0aGlzLnRlY2hfJiZ0aGlzLnRlY2hfLm9mZihcIndhaXRpbmdmb3JrZXlcIix0aGlzLmhhbmRsZVdhaXRpbmdGb3JLZXlfKSxzdXBlci5kaXNwb3NlKCl9Y29udmVydFRvUHJvZ3JhbVRpbWUoZSx0KXtyZXR1cm4gRmQoe3BsYXlsaXN0OnRoaXMucGxheWxpc3RDb250cm9sbGVyXy5tZWRpYSgpLHRpbWU6ZSxjYWxsYmFjazp0fSl9c2Vla1RvUHJvZ3JhbVRpbWUoZSx0LGk9ITAscz0yKXtyZXR1cm4gamQoe3Byb2dyYW1UaW1lOmUscGxheWxpc3Q6dGhpcy5wbGF5bGlzdENvbnRyb2xsZXJfLm1lZGlhKCkscmV0cnlDb3VudDpzLHBhdXNlQWZ0ZXJTZWVrOmksc2Vla1RvOnRoaXMub3B0aW9uc18uc2Vla1RvLHRlY2g6dGhpcy5vcHRpb25zXy50ZWNoLGNhbGxiYWNrOnR9KX19Y29uc3QgRHU9e25hbWU6XCJ2aWRlb2pzLWh0dHAtc3RyZWFtaW5nXCIsVkVSU0lPTjpcIjMuMC4yXCIsY2FuSGFuZGxlU291cmNlKGUsdD17fSl7dD1PKFQub3B0aW9ucyx0KTtyZXR1cm4gRHUuY2FuUGxheVR5cGUoZS50eXBlLHQpfSxoYW5kbGVTb3VyY2UoZSx0LGk9e30pe2k9TyhULm9wdGlvbnMsaSk7cmV0dXJuIHQudmhzPW5ldyBPdShlLHQsaSksdC52aHMueGhyPXhkKCksdC52aHMuc3JjKGUuc3JjLGUudHlwZSksdC52aHN9LGNhblBsYXlUeXBlKGUsdCl7ZT1BbihlKTtyZXR1cm4gZSYmKHQ9RHUuZ2V0T3ZlcnJpZGVOYXRpdmUodCksIU4uc3VwcG9ydHNUeXBlTmF0aXZlbHkoZSl8fHQpP1wibWF5YmVcIjpcIlwifSxnZXRPdmVycmlkZU5hdGl2ZShlPXt9KXt2YXJ7dmhzOmU9e319PWUsdD0hKFQuYnJvd3Nlci5JU19BTllfU0FGQVJJfHxULmJyb3dzZXIuSVNfSU9TKSx7b3ZlcnJpZGVOYXRpdmU6ZT10fT1lO3JldHVybiBlfX07cmV0dXJuIEluKFwiYXZjMS40ZDQwMGQsbXA0YS40MC4yXCIpJiZULmdldFRlY2goXCJIdG1sNVwiKS5yZWdpc3RlclNvdXJjZUhhbmRsZXIoRHUsMCksVC5WaHNIYW5kbGVyPU91LFQuVmhzU291cmNlSGFuZGxlcj1EdSxULlZocz1OLFQudXNlfHxULnJlZ2lzdGVyQ29tcG9uZW50KFwiVmhzXCIsTiksVC5vcHRpb25zLnZocz1ULm9wdGlvbnMudmhzfHx7fSxULmdldFBsdWdpbiYmVC5nZXRQbHVnaW4oXCJyZWxvYWRTb3VyY2VPbkVycm9yXCIpfHxULnJlZ2lzdGVyUGx1Z2luKFwicmVsb2FkU291cmNlT25FcnJvclwiLGZ1bmN0aW9uKGUpe0N1KHRoaXMsZSl9KSxUfSk7IiwidmlkZW9qcy5hZGRMYW5ndWFnZSgncnUnLCB7XG4gIFwiQXVkaW8gUGxheWVyXCI6IFwi0JDRg9C00LjQvtC/0LvQtdC10YBcIixcbiAgXCJWaWRlbyBQbGF5ZXJcIjogXCLQktC40LTQtdC+0L/Qu9C10LXRgFwiLFxuICBcIlBsYXlcIjogXCLQktC+0YHQv9GA0L7QuNC30LLQtdGB0YLQuFwiLFxuICBcIlBhdXNlXCI6IFwi0J/RgNC40L7RgdGC0LDQvdC+0LLQuNGC0YxcIixcbiAgXCJSZXBsYXlcIjogXCLQktC+0YHQv9GA0L7QuNC30LLQtdGB0YLQuCDRgdC90L7QstCwXCIsXG4gIFwiQ3VycmVudCBUaW1lXCI6IFwi0KLQtdC60YPRidC10LUg0LLRgNC10LzRj1wiLFxuICBcIkR1cmF0aW9uXCI6IFwi0J/RgNC+0LTQvtC70LbQuNGC0LXQu9GM0L3QvtGB0YLRjFwiLFxuICBcIlJlbWFpbmluZyBUaW1lXCI6IFwi0J7RgdGC0LDQstGI0LXQtdGB0Y8g0LLRgNC10LzRj1wiLFxuICBcIlN0cmVhbSBUeXBlXCI6IFwi0KLQuNC/INC/0L7RgtC+0LrQsFwiLFxuICBcIkxJVkVcIjogXCLQn9Cg0K/QnNCe0Jkg0K3QpNCY0KBcIixcbiAgXCJTZWVrIHRvIGxpdmUsIGN1cnJlbnRseSBiZWhpbmQgbGl2ZVwiOiBcItCf0LXRgNC10YXQvtC0INC6INC/0YDRj9C80L7QvNGDINGN0YTQuNGA0YMgKNCy0L7RgdC/0YDQvtC40LfQstC10LTQtdC90LjQtSDQuNC00ZHRgiDRgSDQvtGC0YHRgtCw0LLQsNC90LjQtdC8KVwiLFxuICBcIlNlZWsgdG8gbGl2ZSwgY3VycmVudGx5IHBsYXlpbmcgbGl2ZVwiOiBcItCf0LXRgNC10YXQvtC0INC6INC/0YDRj9C80L7QvNGDINGN0YTQuNGA0YMgKNCy0L7RgdC/0YDQvtC40LfQstC10LTQtdC90LjQtSDQuNC00ZHRgiDQsdC10Lcg0L7RgtGB0YLQsNCy0LDQvdC40Y8pXCIsXG4gIFwiTG9hZGVkXCI6IFwi0JfQsNCz0YDRg9C30LrQsFwiLFxuICBcIlByb2dyZXNzXCI6IFwi0J/RgNC+0LPRgNC10YHRgVwiLFxuICBcIlByb2dyZXNzIEJhclwiOiBcItCY0L3QtNC40LrQsNGC0L7RgCDQt9Cw0LPRgNGD0LfQutC4XCIsXG4gIFwicHJvZ3Jlc3MgYmFyIHRpbWluZzogY3VycmVudFRpbWU9ezF9IGR1cmF0aW9uPXsyfVwiOiBcInsxfSDQuNC3IHsyfVwiLFxuICBcIkZ1bGxzY3JlZW5cIjogXCLQn9C+0LvQvdC+0Y3QutGA0LDQvdC90YvQuSDRgNC10LbQuNC8XCIsXG4gIFwiRXhpdCBGdWxsc2NyZWVuXCI6IFwi0J3QtdC/0L7Qu9C90L7RjdC60YDQsNC90L3Ri9C5INGA0LXQttC40LxcIixcbiAgXCJNdXRlXCI6IFwi0JHQtdC3INC30LLRg9C60LBcIixcbiAgXCJVbm11dGVcIjogXCLQodC+INC30LLRg9C60L7QvFwiLFxuICBcIlBsYXliYWNrIFJhdGVcIjogXCLQodC60L7RgNC+0YHRgtGMINCy0L7RgdC/0YDQvtC40LfQstC10LTQtdC90LjRj1wiLFxuICBcIlN1YnRpdGxlc1wiOiBcItCh0YPQsdGC0LjRgtGA0YtcIixcbiAgXCJzdWJ0aXRsZXMgb2ZmXCI6IFwi0KHRg9Cx0YLQuNGC0YDRiyDQstGL0LrQuy5cIixcbiAgXCJDYXB0aW9uc1wiOiBcItCf0L7QtNC/0LjRgdC4XCIsXG4gIFwiY2FwdGlvbnMgb2ZmXCI6IFwi0J/QvtC00L/QuNGB0Lgg0LLRi9C60LsuXCIsXG4gIFwiQ2hhcHRlcnNcIjogXCLQk9C70LDQstGLXCIsXG4gIFwiRGVzY3JpcHRpb25zXCI6IFwi0J7Qv9C40YHQsNC90LjRj1wiLFxuICBcImRlc2NyaXB0aW9ucyBvZmZcIjogXCLQntGC0LrQu9GO0YfQuNGC0Ywg0L7Qv9C40YHQsNC90LjRj1wiLFxuICBcIkF1ZGlvIFRyYWNrXCI6IFwi0JfQstGD0LrQvtCy0LDRjyDQtNC+0YDQvtC20LrQsFwiLFxuICBcIlZvbHVtZSBMZXZlbFwiOiBcItCj0YDQvtCy0LXQvdGMINCz0YDQvtC80LrQvtGB0YLQuFwiLFxuICBcIllvdSBhYm9ydGVkIHRoZSBtZWRpYSBwbGF5YmFja1wiOiBcItCS0Ysg0L/RgNC10YDQstCw0LvQuCDQstC+0YHQv9GA0L7QuNC30LLQtdC00LXQvdC40LUg0LLQuNC00LXQvlwiLFxuICBcIkEgbmV0d29yayBlcnJvciBjYXVzZWQgdGhlIG1lZGlhIGRvd25sb2FkIHRvIGZhaWwgcGFydC13YXkuXCI6IFwi0J7RiNC40LHQutCwINGB0LXRgtC4INCy0YvQt9Cy0LDQu9CwINGB0LHQvtC5INCy0L4g0LLRgNC10LzRjyDQt9Cw0LPRgNGD0LfQutC4LlwiLFxuICBcIlRoZSBtZWRpYSBjb3VsZCBub3QgYmUgbG9hZGVkLCBlaXRoZXIgYmVjYXVzZSB0aGUgc2VydmVyIG9yIG5ldHdvcmsgZmFpbGVkIG9yIGJlY2F1c2UgdGhlIGZvcm1hdCBpcyBub3Qgc3VwcG9ydGVkLlwiOiBcItCd0LUg0YPQtNCw0LvQvtGB0Ywg0LfQsNCz0YDRg9C30LjRgtGMINCy0LjQtNC10L4g0LjQty3Qt9CwINGB0LXRgtC10LLQvtCz0L4g0LjQu9C4INGB0LXRgNCy0LXRgNC90L7Qs9C+INGB0LHQvtGPINC70LjQsdC+INC90LXQv9C+0LTQtNC10YDQttC40LLQsNC10LzQvtCz0L4g0YTQvtGA0LzQsNGC0LAg0LLQuNC00LXQvi5cIixcbiAgXCJUaGUgbWVkaWEgcGxheWJhY2sgd2FzIGFib3J0ZWQgZHVlIHRvIGEgY29ycnVwdGlvbiBwcm9ibGVtIG9yIGJlY2F1c2UgdGhlIG1lZGlhIHVzZWQgZmVhdHVyZXMgeW91ciBicm93c2VyIGRpZCBub3Qgc3VwcG9ydC5cIjogXCLQktC+0YHQv9GA0L7QuNC30LLQtdC00LXQvdC40LUg0L/RgNC10YDQstCw0L3QviDQuNC3LdC30LAg0L/QvtCy0YDQtdC20LTQtdC90LjRjyDQu9C40LHQviDQsiDRgdCy0Y/Qt9C4INGBINGC0LXQvCwg0YfRgtC+INCy0LjQtNC10L4g0LjRgdC/0L7Qu9GM0LfRg9C10YIg0YTRg9C90LrRhtC40LgsINC90LXQv9C+0LTQtNC10YDQttC40LLQsNC10LzRi9C1INCy0LDRiNC40Lwg0LHRgNCw0YPQt9C10YDQvtC8LlwiLFxuICBcIk5vIGNvbXBhdGlibGUgc291cmNlIHdhcyBmb3VuZCBmb3IgdGhpcyBtZWRpYS5cIjogXCLQodC+0LLQvNC10YHRgtC40LzRi9C1INC40YHRgtC+0YfQvdC40LrQuCDQtNC70Y8g0Y3RgtC+0LPQviDQstC40LTQtdC+INC+0YLRgdGD0YLRgdGC0LLRg9GO0YIuXCIsXG4gIFwiVGhlIG1lZGlhIGlzIGVuY3J5cHRlZCBhbmQgd2UgZG8gbm90IGhhdmUgdGhlIGtleXMgdG8gZGVjcnlwdCBpdC5cIjogXCLQktC40LTQtdC+INC30LDRiNC40YTRgNC+0LLQsNC90L4sINCwINGDINC90LDRgSDQvdC10YIg0LrQu9GO0YfQtdC5INC00LvRjyDQtdCz0L4g0YDQsNGB0YjQuNGE0YDQvtCy0LrQuC5cIixcbiAgXCJQbGF5IFZpZGVvXCI6IFwi0JLQvtGB0L/RgNC+0LjQt9Cy0LXRgdGC0Lgg0LLQuNC00LXQvlwiLFxuICBcIkNsb3NlXCI6IFwi0JfQsNC60YDRi9GC0YxcIixcbiAgXCJDbG9zZSBNb2RhbCBEaWFsb2dcIjogXCLQl9Cw0LrRgNGL0YLRjCDQvNC+0LTQsNC70YzQvdC+0LUg0L7QutC90L5cIixcbiAgXCJNb2RhbCBXaW5kb3dcIjogXCLQnNC+0LTQsNC70YzQvdC+0LUg0L7QutC90L5cIixcbiAgXCJUaGlzIGlzIGEgbW9kYWwgd2luZG93XCI6IFwi0K3RgtC+INC80L7QtNCw0LvRjNC90L7QtSDQvtC60L3QvlwiLFxuICBcIlRoaXMgbW9kYWwgY2FuIGJlIGNsb3NlZCBieSBwcmVzc2luZyB0aGUgRXNjYXBlIGtleSBvciBhY3RpdmF0aW5nIHRoZSBjbG9zZSBidXR0b24uXCI6IFwi0JzQvtC00LDQu9GM0L3QvtC1INC+0LrQvdC+INC80L7QttC90L4g0LfQsNC60YDRi9GC0Ywg0L3QsNC20LDQsiBFc2Mg0LjQu9C4INC60L3QvtC/0LrRgyDQt9Cw0LrRgNGL0YLQuNGPINC+0LrQvdCwLlwiLFxuICBcIiwgb3BlbnMgY2FwdGlvbnMgc2V0dGluZ3MgZGlhbG9nXCI6IFwiLCDQvtGC0LrRgNC+0LXRgtGB0Y8g0LTQuNCw0LvQvtCzINC90LDRgdGC0YDQvtC50LrQuCDQv9C+0LTQv9C40YHQtdC5XCIsXG4gIFwiLCBvcGVucyBzdWJ0aXRsZXMgc2V0dGluZ3MgZGlhbG9nXCI6IFwiLCDQvtGC0LrRgNC+0LXRgtGB0Y8g0LTQuNCw0LvQvtCzINC90LDRgdGC0YDQvtC50LrQuCDRgdGD0LHRgtC40YLRgNC+0LJcIixcbiAgXCIsIG9wZW5zIGRlc2NyaXB0aW9ucyBzZXR0aW5ncyBkaWFsb2dcIjogXCIsINC+0YLQutGA0L7QtdGC0YHRjyDQtNC40LDQu9C+0LMg0L3QsNGB0YLRgNC+0LnQutC4INC+0L/QuNGB0LDQvdC40LlcIixcbiAgXCIsIHNlbGVjdGVkXCI6IFwiLCDQstGL0LHRgNCw0L3QvlwiLFxuICBcImNhcHRpb25zIHNldHRpbmdzXCI6IFwi0L3QsNGB0YLRgNC+0LnQutC4INC/0L7QtNC/0LjRgdC10LlcIixcbiAgXCJzdWJ0aXRsZXMgc2V0dGluZ3NcIjogXCLQvdCw0YHRgtGA0L7QudC60Lgg0YHRg9Cx0YLQuNGC0YDQvtCyXCIsXG4gIFwiZGVzY3JpcHRpb25zIHNldHRpbmdzXCI6IFwi0L3QsNGB0YLRgNC+0LnQutC4INC+0L/QuNGB0LDQvdC40LlcIixcbiAgXCJUZXh0XCI6IFwi0KLQtdC60YHRglwiLFxuICBcIldoaXRlXCI6IFwi0JHQtdC70YvQuVwiLFxuICBcIkJsYWNrXCI6IFwi0KfQtdGA0L3Ri9C5XCIsXG4gIFwiUmVkXCI6IFwi0JrRgNCw0YHQvdGL0LlcIixcbiAgXCJHcmVlblwiOiBcItCX0LXQu9C10L3Ri9C5XCIsXG4gIFwiQmx1ZVwiOiBcItCh0LjQvdC40LlcIixcbiAgXCJZZWxsb3dcIjogXCLQltC10LvRgtGL0LlcIixcbiAgXCJNYWdlbnRhXCI6IFwi0J/Rg9GA0L/Rg9GA0L3Ri9C5XCIsXG4gIFwiQ3lhblwiOiBcItCT0L7Qu9GD0LHQvtC5XCIsXG4gIFwiQmFja2dyb3VuZFwiOiBcItCk0L7QvVwiLFxuICBcIldpbmRvd1wiOiBcItCe0LrQvdC+XCIsXG4gIFwiVHJhbnNwYXJlbnRcIjogXCLQn9GA0L7Qt9GA0LDRh9C90YvQuVwiLFxuICBcIlNlbWktVHJhbnNwYXJlbnRcIjogXCLQn9C+0LvRg9C/0YDQvtC30YDQsNGH0L3Ri9C5XCIsXG4gIFwiT3BhcXVlXCI6IFwi0J/RgNC+0LfRgNCw0YfQvdC+0YHRgtGMXCIsXG4gIFwiRm9udCBTaXplXCI6IFwi0KDQsNC30LzQtdGAINGI0YDQuNGE0YLQsFwiLFxuICBcIlRleHQgRWRnZSBTdHlsZVwiOiBcItCh0YLQuNC70Ywg0LrRgNCw0Y8g0YLQtdC60YHRgtCwXCIsXG4gIFwiTm9uZVwiOiBcItCd0LjRh9C10LPQvlwiLFxuICBcIlJhaXNlZFwiOiBcItCf0L7QtNC90Y/RgtGL0LlcIixcbiAgXCJEZXByZXNzZWRcIjogXCLQn9C+0L3QuNC20LXQvdC90YvQuVwiLFxuICBcIlVuaWZvcm1cIjogXCLQntC00LjQvdCw0LrQvtCy0YvQuVwiLFxuICBcIkRyb3BzaGFkb3dcIjogXCLQotC10L3RjFwiLFxuICBcIkZvbnQgRmFtaWx5XCI6IFwi0KjRgNC40YTRglwiLFxuICBcIlByb3BvcnRpb25hbCBTYW5zLVNlcmlmXCI6IFwi0J/RgNC+0L/QvtGA0YbQuNC+0L3QsNC70YzQvdGL0Lkg0LHQtdC3INC30LDRgdC10YfQtdC6XCIsXG4gIFwiTW9ub3NwYWNlIFNhbnMtU2VyaWZcIjogXCLQnNC+0L3QvtGI0LjRgNC40L3QvdGL0Lkg0LHQtdC3INC30LDRgdC10YfQtdC6XCIsXG4gIFwiUHJvcG9ydGlvbmFsIFNlcmlmXCI6IFwi0J/RgNC+0L/QvtGA0YbQuNC+0L3QsNC70YzQvdGL0Lkg0YEg0LfQsNGB0LXRh9C60LDQvNC4XCIsXG4gIFwiTW9ub3NwYWNlIFNlcmlmXCI6IFwi0JzQvtC90L7RiNC40YDQuNC90L3Ri9C5INGBINC30LDRgdC10YfQutCw0LzQuFwiLFxuICBcIkNhc3VhbFwiOiBcItCa0LDQt9GD0LDQu9GM0L3Ri9C5XCIsXG4gIFwiU2NyaXB0XCI6IFwi0KDRg9C60L7Qv9C40YHQvdGL0LlcIixcbiAgXCJTbWFsbCBDYXBzXCI6IFwi0JrQsNC/0LjRgtC10LvRjFwiLFxuICBcIlJlc2V0XCI6IFwi0KHQsdGA0L7RgdC40YLRjFwiLFxuICBcInJlc3RvcmUgYWxsIHNldHRpbmdzIHRvIHRoZSBkZWZhdWx0IHZhbHVlc1wiOiBcItGB0LHRgNC+0YHQuNGC0Ywg0LLRgdC1INC90LDRgdGC0YDQvtC50LrQuCDQvdCwINC30L3QsNGH0LXQvdC40Y8g0L/QviDRg9C80L7Qu9GH0LDQvdC40Y5cIixcbiAgXCJEb25lXCI6IFwi0JPQvtGC0L7QstC+XCIsXG4gIFwiQ2FwdGlvbiBTZXR0aW5ncyBEaWFsb2dcIjogXCLQlNC40LDQu9C+0LMg0L3QsNGB0YLRgNC+0LXQuiDQv9C+0LTQv9C40YHQuFwiLFxuICBcIkJlZ2lubmluZyBvZiBkaWFsb2cgd2luZG93LiBFc2NhcGUgd2lsbCBjYW5jZWwgYW5kIGNsb3NlIHRoZSB3aW5kb3cuXCI6IFwi0J3QsNGH0LDQu9C+INC00LjQsNC70L7Qs9C+0LLQvtCz0L4g0L7QutC90LAuINCd0LDQttC80LjRgtC1IEVzY2FwZSDQtNC70Y8g0L7RgtC80LXQvdGLINC4INC30LDQutGA0YvRgtC40Y8g0L7QutC90LBcIixcbiAgXCJFbmQgb2YgZGlhbG9nIHdpbmRvdy5cIjogXCLQmtC+0L3QtdGGINC00LjQsNC70L7Qs9C+0LLQvtCz0L4g0L7QutC90LAuXCIsXG4gIFwiezF9IGlzIGxvYWRpbmcuXCI6IFwiezF9INC30LDQs9GA0YPQttCw0LXRgtGB0Y8uXCIsXG4gIFwiRXhpdCBQaWN0dXJlLWluLVBpY3R1cmVcIjogXCLQl9Cw0LrRgNGL0YLRjCDQutCw0YDRgtC40L3QutGDINCyINC60LDRgNGC0LjQvdC60LVcIixcbiAgXCJQaWN0dXJlLWluLVBpY3R1cmVcIjogXCLQmtCw0YDRgtC40L3QutCwINCyINC60LDRgNGC0LjQvdC60LVcIixcbiAgXCJTa2lwIGZvcndhcmQgezF9IHNlY29uZHNcIjogXCLQndCwIHsxfSDRgdC10LrRg9C90LQg0LLQv9C10YDQtdC0XCIsXG4gIFwiU2tpcCBiYWNrd2FyZCB7MX0gc2Vjb25kc1wiOiBcItCd0LAgezF9INGB0LXQutGD0L3QtCDQvdCw0LfQsNC0XCJcbn0pOyIsIi8qIVxuICogQGZpbGVPdmVydmlldyBUb3VjaFN3aXBlIC0galF1ZXJ5IFBsdWdpblxuICogQHZlcnNpb24gMS42LjE4XG4gKlxuICogQGF1dGhvciBNYXR0IEJyeXNvbiBodHRwOi8vd3d3LmdpdGh1Yi5jb20vbWF0dGJyeXNvblxuICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vbWF0dGJyeXNvbi9Ub3VjaFN3aXBlLUpxdWVyeS1QbHVnaW5cbiAqIEBzZWUgaHR0cDovL2xhYnMucmFtcGludGVyYWN0aXZlLmNvLnVrL3RvdWNoU3dpcGUvXG4gKiBAc2VlIGh0dHA6Ly9wbHVnaW5zLmpxdWVyeS5jb20vcHJvamVjdC90b3VjaFN3aXBlXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDEwLTIwMTUgTWF0dCBCcnlzb25cbiAqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBvciBHUEwgVmVyc2lvbiAyIGxpY2Vuc2VzLlxuICpcbiAqL1xuIWZ1bmN0aW9uKGZhY3Rvcnkpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZCYmZGVmaW5lLmFtZC5qUXVlcnk/ZGVmaW5lKFtcImpxdWVyeVwiXSxmYWN0b3J5KTpmYWN0b3J5KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzP3JlcXVpcmUoXCJqcXVlcnlcIik6alF1ZXJ5KX0oZnVuY3Rpb24oJCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaW5pdChvcHRpb25zKXtyZXR1cm4hb3B0aW9uc3x8dm9pZCAwIT09b3B0aW9ucy5hbGxvd1BhZ2VTY3JvbGx8fHZvaWQgMD09PW9wdGlvbnMuc3dpcGUmJnZvaWQgMD09PW9wdGlvbnMuc3dpcGVTdGF0dXN8fChvcHRpb25zLmFsbG93UGFnZVNjcm9sbD1OT05FKSx2b2lkIDAhPT1vcHRpb25zLmNsaWNrJiZ2b2lkIDA9PT1vcHRpb25zLnRhcCYmKG9wdGlvbnMudGFwPW9wdGlvbnMuY2xpY2spLG9wdGlvbnN8fChvcHRpb25zPXt9KSxvcHRpb25zPSQuZXh0ZW5kKHt9LCQuZm4uc3dpcGUuZGVmYXVsdHMsb3B0aW9ucyksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyICR0aGlzPSQodGhpcykscGx1Z2luPSR0aGlzLmRhdGEoUExVR0lOX05TKTtwbHVnaW58fChwbHVnaW49bmV3IFRvdWNoU3dpcGUodGhpcyxvcHRpb25zKSwkdGhpcy5kYXRhKFBMVUdJTl9OUyxwbHVnaW4pKX0pfWZ1bmN0aW9uIFRvdWNoU3dpcGUoZWxlbWVudCxvcHRpb25zKXtmdW5jdGlvbiB0b3VjaFN0YXJ0KGpxRXZlbnQpe2lmKCEoZ2V0VG91Y2hJblByb2dyZXNzKCl8fCQoanFFdmVudC50YXJnZXQpLmNsb3Nlc3Qob3B0aW9ucy5leGNsdWRlZEVsZW1lbnRzLCRlbGVtZW50KS5sZW5ndGg+MCkpe3ZhciBldmVudD1qcUV2ZW50Lm9yaWdpbmFsRXZlbnQ/anFFdmVudC5vcmlnaW5hbEV2ZW50OmpxRXZlbnQ7aWYoIWV2ZW50LnBvaW50ZXJUeXBlfHxcIm1vdXNlXCIhPWV2ZW50LnBvaW50ZXJUeXBlfHwwIT1vcHRpb25zLmZhbGxiYWNrVG9Nb3VzZUV2ZW50cyl7dmFyIHJldCx0b3VjaGVzPWV2ZW50LnRvdWNoZXMsZXZ0PXRvdWNoZXM/dG91Y2hlc1swXTpldmVudDtyZXR1cm4gcGhhc2U9UEhBU0VfU1RBUlQsdG91Y2hlcz9maW5nZXJDb3VudD10b3VjaGVzLmxlbmd0aDpvcHRpb25zLnByZXZlbnREZWZhdWx0RXZlbnRzIT09ITEmJmpxRXZlbnQucHJldmVudERlZmF1bHQoKSxkaXN0YW5jZT0wLGRpcmVjdGlvbj1udWxsLGN1cnJlbnREaXJlY3Rpb249bnVsbCxwaW5jaERpcmVjdGlvbj1udWxsLGR1cmF0aW9uPTAsc3RhcnRUb3VjaGVzRGlzdGFuY2U9MCxlbmRUb3VjaGVzRGlzdGFuY2U9MCxwaW5jaFpvb209MSxwaW5jaERpc3RhbmNlPTAsbWF4aW11bXNNYXA9Y3JlYXRlTWF4aW11bXNEYXRhKCksY2FuY2VsTXVsdGlGaW5nZXJSZWxlYXNlKCksY3JlYXRlRmluZ2VyRGF0YSgwLGV2dCksIXRvdWNoZXN8fGZpbmdlckNvdW50PT09b3B0aW9ucy5maW5nZXJzfHxvcHRpb25zLmZpbmdlcnM9PT1BTExfRklOR0VSU3x8aGFzUGluY2hlcygpPyhzdGFydFRpbWU9Z2V0VGltZVN0YW1wKCksMj09ZmluZ2VyQ291bnQmJihjcmVhdGVGaW5nZXJEYXRhKDEsdG91Y2hlc1sxXSksc3RhcnRUb3VjaGVzRGlzdGFuY2U9ZW5kVG91Y2hlc0Rpc3RhbmNlPWNhbGN1bGF0ZVRvdWNoZXNEaXN0YW5jZShmaW5nZXJEYXRhWzBdLnN0YXJ0LGZpbmdlckRhdGFbMV0uc3RhcnQpKSwob3B0aW9ucy5zd2lwZVN0YXR1c3x8b3B0aW9ucy5waW5jaFN0YXR1cykmJihyZXQ9dHJpZ2dlckhhbmRsZXIoZXZlbnQscGhhc2UpKSk6cmV0PSExLHJldD09PSExPyhwaGFzZT1QSEFTRV9DQU5DRUwsdHJpZ2dlckhhbmRsZXIoZXZlbnQscGhhc2UpLHJldCk6KG9wdGlvbnMuaG9sZCYmKGhvbGRUaW1lb3V0PXNldFRpbWVvdXQoJC5wcm94eShmdW5jdGlvbigpeyRlbGVtZW50LnRyaWdnZXIoXCJob2xkXCIsW2V2ZW50LnRhcmdldF0pLG9wdGlvbnMuaG9sZCYmKHJldD1vcHRpb25zLmhvbGQuY2FsbCgkZWxlbWVudCxldmVudCxldmVudC50YXJnZXQpKX0sdGhpcyksb3B0aW9ucy5sb25nVGFwVGhyZXNob2xkKSksc2V0VG91Y2hJblByb2dyZXNzKCEwKSxudWxsKX19fWZ1bmN0aW9uIHRvdWNoTW92ZShqcUV2ZW50KXt2YXIgZXZlbnQ9anFFdmVudC5vcmlnaW5hbEV2ZW50P2pxRXZlbnQub3JpZ2luYWxFdmVudDpqcUV2ZW50O2lmKHBoYXNlIT09UEhBU0VfRU5EJiZwaGFzZSE9PVBIQVNFX0NBTkNFTCYmIWluTXVsdGlGaW5nZXJSZWxlYXNlKCkpe3ZhciByZXQsdG91Y2hlcz1ldmVudC50b3VjaGVzLGV2dD10b3VjaGVzP3RvdWNoZXNbMF06ZXZlbnQsY3VycmVudEZpbmdlcj11cGRhdGVGaW5nZXJEYXRhKGV2dCk7aWYoZW5kVGltZT1nZXRUaW1lU3RhbXAoKSx0b3VjaGVzJiYoZmluZ2VyQ291bnQ9dG91Y2hlcy5sZW5ndGgpLG9wdGlvbnMuaG9sZCYmY2xlYXJUaW1lb3V0KGhvbGRUaW1lb3V0KSxwaGFzZT1QSEFTRV9NT1ZFLDI9PWZpbmdlckNvdW50JiYoMD09c3RhcnRUb3VjaGVzRGlzdGFuY2U/KGNyZWF0ZUZpbmdlckRhdGEoMSx0b3VjaGVzWzFdKSxzdGFydFRvdWNoZXNEaXN0YW5jZT1lbmRUb3VjaGVzRGlzdGFuY2U9Y2FsY3VsYXRlVG91Y2hlc0Rpc3RhbmNlKGZpbmdlckRhdGFbMF0uc3RhcnQsZmluZ2VyRGF0YVsxXS5zdGFydCkpOih1cGRhdGVGaW5nZXJEYXRhKHRvdWNoZXNbMV0pLGVuZFRvdWNoZXNEaXN0YW5jZT1jYWxjdWxhdGVUb3VjaGVzRGlzdGFuY2UoZmluZ2VyRGF0YVswXS5lbmQsZmluZ2VyRGF0YVsxXS5lbmQpLHBpbmNoRGlyZWN0aW9uPWNhbGN1bGF0ZVBpbmNoRGlyZWN0aW9uKGZpbmdlckRhdGFbMF0uZW5kLGZpbmdlckRhdGFbMV0uZW5kKSkscGluY2hab29tPWNhbGN1bGF0ZVBpbmNoWm9vbShzdGFydFRvdWNoZXNEaXN0YW5jZSxlbmRUb3VjaGVzRGlzdGFuY2UpLHBpbmNoRGlzdGFuY2U9TWF0aC5hYnMoc3RhcnRUb3VjaGVzRGlzdGFuY2UtZW5kVG91Y2hlc0Rpc3RhbmNlKSksZmluZ2VyQ291bnQ9PT1vcHRpb25zLmZpbmdlcnN8fG9wdGlvbnMuZmluZ2Vycz09PUFMTF9GSU5HRVJTfHwhdG91Y2hlc3x8aGFzUGluY2hlcygpKXtpZihkaXJlY3Rpb249Y2FsY3VsYXRlRGlyZWN0aW9uKGN1cnJlbnRGaW5nZXIuc3RhcnQsY3VycmVudEZpbmdlci5lbmQpLGN1cnJlbnREaXJlY3Rpb249Y2FsY3VsYXRlRGlyZWN0aW9uKGN1cnJlbnRGaW5nZXIubGFzdCxjdXJyZW50RmluZ2VyLmVuZCksdmFsaWRhdGVEZWZhdWx0RXZlbnQoanFFdmVudCxjdXJyZW50RGlyZWN0aW9uKSxkaXN0YW5jZT1jYWxjdWxhdGVEaXN0YW5jZShjdXJyZW50RmluZ2VyLnN0YXJ0LGN1cnJlbnRGaW5nZXIuZW5kKSxkdXJhdGlvbj1jYWxjdWxhdGVEdXJhdGlvbigpLHNldE1heERpc3RhbmNlKGRpcmVjdGlvbixkaXN0YW5jZSkscmV0PXRyaWdnZXJIYW5kbGVyKGV2ZW50LHBoYXNlKSwhb3B0aW9ucy50cmlnZ2VyT25Ub3VjaEVuZHx8b3B0aW9ucy50cmlnZ2VyT25Ub3VjaExlYXZlKXt2YXIgaW5Cb3VuZHM9ITA7aWYob3B0aW9ucy50cmlnZ2VyT25Ub3VjaExlYXZlKXt2YXIgYm91bmRzPWdldGJvdW5kcyh0aGlzKTtpbkJvdW5kcz1pc0luQm91bmRzKGN1cnJlbnRGaW5nZXIuZW5kLGJvdW5kcyl9IW9wdGlvbnMudHJpZ2dlck9uVG91Y2hFbmQmJmluQm91bmRzP3BoYXNlPWdldE5leHRQaGFzZShQSEFTRV9NT1ZFKTpvcHRpb25zLnRyaWdnZXJPblRvdWNoTGVhdmUmJiFpbkJvdW5kcyYmKHBoYXNlPWdldE5leHRQaGFzZShQSEFTRV9FTkQpKSxwaGFzZSE9UEhBU0VfQ0FOQ0VMJiZwaGFzZSE9UEhBU0VfRU5EfHx0cmlnZ2VySGFuZGxlcihldmVudCxwaGFzZSl9fWVsc2UgcGhhc2U9UEhBU0VfQ0FOQ0VMLHRyaWdnZXJIYW5kbGVyKGV2ZW50LHBoYXNlKTtyZXQ9PT0hMSYmKHBoYXNlPVBIQVNFX0NBTkNFTCx0cmlnZ2VySGFuZGxlcihldmVudCxwaGFzZSkpfX1mdW5jdGlvbiB0b3VjaEVuZChqcUV2ZW50KXt2YXIgZXZlbnQ9anFFdmVudC5vcmlnaW5hbEV2ZW50P2pxRXZlbnQub3JpZ2luYWxFdmVudDpqcUV2ZW50LHRvdWNoZXM9ZXZlbnQudG91Y2hlcztpZih0b3VjaGVzKXtpZih0b3VjaGVzLmxlbmd0aCYmIWluTXVsdGlGaW5nZXJSZWxlYXNlKCkpcmV0dXJuIHN0YXJ0TXVsdGlGaW5nZXJSZWxlYXNlKGV2ZW50KSwhMDtpZih0b3VjaGVzLmxlbmd0aCYmaW5NdWx0aUZpbmdlclJlbGVhc2UoKSlyZXR1cm4hMH1yZXR1cm4gaW5NdWx0aUZpbmdlclJlbGVhc2UoKSYmKGZpbmdlckNvdW50PWZpbmdlckNvdW50QXRSZWxlYXNlKSxlbmRUaW1lPWdldFRpbWVTdGFtcCgpLGR1cmF0aW9uPWNhbGN1bGF0ZUR1cmF0aW9uKCksZGlkU3dpcGVCYWNrVG9DYW5jZWwoKXx8IXZhbGlkYXRlU3dpcGVEaXN0YW5jZSgpPyhwaGFzZT1QSEFTRV9DQU5DRUwsdHJpZ2dlckhhbmRsZXIoZXZlbnQscGhhc2UpKTpvcHRpb25zLnRyaWdnZXJPblRvdWNoRW5kfHxvcHRpb25zLnRyaWdnZXJPblRvdWNoRW5kPT09ITEmJnBoYXNlPT09UEhBU0VfTU9WRT8ob3B0aW9ucy5wcmV2ZW50RGVmYXVsdEV2ZW50cyE9PSExJiZqcUV2ZW50LmNhbmNlbGFibGUhPT0hMSYmanFFdmVudC5wcmV2ZW50RGVmYXVsdCgpLHBoYXNlPVBIQVNFX0VORCx0cmlnZ2VySGFuZGxlcihldmVudCxwaGFzZSkpOiFvcHRpb25zLnRyaWdnZXJPblRvdWNoRW5kJiZoYXNUYXAoKT8ocGhhc2U9UEhBU0VfRU5ELHRyaWdnZXJIYW5kbGVyRm9yR2VzdHVyZShldmVudCxwaGFzZSxUQVApKTpwaGFzZT09PVBIQVNFX01PVkUmJihwaGFzZT1QSEFTRV9DQU5DRUwsdHJpZ2dlckhhbmRsZXIoZXZlbnQscGhhc2UpKSxzZXRUb3VjaEluUHJvZ3Jlc3MoITEpLG51bGx9ZnVuY3Rpb24gdG91Y2hDYW5jZWwoKXtmaW5nZXJDb3VudD0wLGVuZFRpbWU9MCxzdGFydFRpbWU9MCxzdGFydFRvdWNoZXNEaXN0YW5jZT0wLGVuZFRvdWNoZXNEaXN0YW5jZT0wLHBpbmNoWm9vbT0xLGNhbmNlbE11bHRpRmluZ2VyUmVsZWFzZSgpLHNldFRvdWNoSW5Qcm9ncmVzcyghMSl9ZnVuY3Rpb24gdG91Y2hMZWF2ZShqcUV2ZW50KXt2YXIgZXZlbnQ9anFFdmVudC5vcmlnaW5hbEV2ZW50P2pxRXZlbnQub3JpZ2luYWxFdmVudDpqcUV2ZW50O29wdGlvbnMudHJpZ2dlck9uVG91Y2hMZWF2ZSYmKHBoYXNlPWdldE5leHRQaGFzZShQSEFTRV9FTkQpLHRyaWdnZXJIYW5kbGVyKGV2ZW50LHBoYXNlKSl9ZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXJzKCl7JGVsZW1lbnQub2ZmKFNUQVJUX0VWLHRvdWNoU3RhcnQpLCRlbGVtZW50Lm9mZihDQU5DRUxfRVYsdG91Y2hDYW5jZWwpLCRlbGVtZW50Lm9mZihNT1ZFX0VWLHRvdWNoTW92ZSksJGVsZW1lbnQub2ZmKEVORF9FVix0b3VjaEVuZCksTEVBVkVfRVYmJiRlbGVtZW50Lm9mZihMRUFWRV9FVix0b3VjaExlYXZlKSxzZXRUb3VjaEluUHJvZ3Jlc3MoITEpfWZ1bmN0aW9uIGdldE5leHRQaGFzZShjdXJyZW50UGhhc2Upe3ZhciBuZXh0UGhhc2U9Y3VycmVudFBoYXNlLHZhbGlkVGltZT12YWxpZGF0ZVN3aXBlVGltZSgpLHZhbGlkRGlzdGFuY2U9dmFsaWRhdGVTd2lwZURpc3RhbmNlKCksZGlkQ2FuY2VsPWRpZFN3aXBlQmFja1RvQ2FuY2VsKCk7cmV0dXJuIXZhbGlkVGltZXx8ZGlkQ2FuY2VsP25leHRQaGFzZT1QSEFTRV9DQU5DRUw6IXZhbGlkRGlzdGFuY2V8fGN1cnJlbnRQaGFzZSE9UEhBU0VfTU9WRXx8b3B0aW9ucy50cmlnZ2VyT25Ub3VjaEVuZCYmIW9wdGlvbnMudHJpZ2dlck9uVG91Y2hMZWF2ZT8hdmFsaWREaXN0YW5jZSYmY3VycmVudFBoYXNlPT1QSEFTRV9FTkQmJm9wdGlvbnMudHJpZ2dlck9uVG91Y2hMZWF2ZSYmKG5leHRQaGFzZT1QSEFTRV9DQU5DRUwpOm5leHRQaGFzZT1QSEFTRV9FTkQsbmV4dFBoYXNlfWZ1bmN0aW9uIHRyaWdnZXJIYW5kbGVyKGV2ZW50LHBoYXNlKXt2YXIgcmV0LHRvdWNoZXM9ZXZlbnQudG91Y2hlcztyZXR1cm4oZGlkU3dpcGUoKXx8aGFzU3dpcGVzKCkpJiYocmV0PXRyaWdnZXJIYW5kbGVyRm9yR2VzdHVyZShldmVudCxwaGFzZSxTV0lQRSkpLChkaWRQaW5jaCgpfHxoYXNQaW5jaGVzKCkpJiZyZXQhPT0hMSYmKHJldD10cmlnZ2VySGFuZGxlckZvckdlc3R1cmUoZXZlbnQscGhhc2UsUElOQ0gpKSxkaWREb3VibGVUYXAoKSYmcmV0IT09ITE/cmV0PXRyaWdnZXJIYW5kbGVyRm9yR2VzdHVyZShldmVudCxwaGFzZSxET1VCTEVfVEFQKTpkaWRMb25nVGFwKCkmJnJldCE9PSExP3JldD10cmlnZ2VySGFuZGxlckZvckdlc3R1cmUoZXZlbnQscGhhc2UsTE9OR19UQVApOmRpZFRhcCgpJiZyZXQhPT0hMSYmKHJldD10cmlnZ2VySGFuZGxlckZvckdlc3R1cmUoZXZlbnQscGhhc2UsVEFQKSkscGhhc2U9PT1QSEFTRV9DQU5DRUwmJnRvdWNoQ2FuY2VsKGV2ZW50KSxwaGFzZT09PVBIQVNFX0VORCYmKHRvdWNoZXM/dG91Y2hlcy5sZW5ndGh8fHRvdWNoQ2FuY2VsKGV2ZW50KTp0b3VjaENhbmNlbChldmVudCkpLHJldH1mdW5jdGlvbiB0cmlnZ2VySGFuZGxlckZvckdlc3R1cmUoZXZlbnQscGhhc2UsZ2VzdHVyZSl7dmFyIHJldDtpZihnZXN0dXJlPT1TV0lQRSl7aWYoJGVsZW1lbnQudHJpZ2dlcihcInN3aXBlU3RhdHVzXCIsW3BoYXNlLGRpcmVjdGlvbnx8bnVsbCxkaXN0YW5jZXx8MCxkdXJhdGlvbnx8MCxmaW5nZXJDb3VudCxmaW5nZXJEYXRhLGN1cnJlbnREaXJlY3Rpb25dKSxvcHRpb25zLnN3aXBlU3RhdHVzJiYocmV0PW9wdGlvbnMuc3dpcGVTdGF0dXMuY2FsbCgkZWxlbWVudCxldmVudCxwaGFzZSxkaXJlY3Rpb258fG51bGwsZGlzdGFuY2V8fDAsZHVyYXRpb258fDAsZmluZ2VyQ291bnQsZmluZ2VyRGF0YSxjdXJyZW50RGlyZWN0aW9uKSxyZXQ9PT0hMSkpcmV0dXJuITE7aWYocGhhc2U9PVBIQVNFX0VORCYmdmFsaWRhdGVTd2lwZSgpKXtpZihjbGVhclRpbWVvdXQoc2luZ2xlVGFwVGltZW91dCksY2xlYXJUaW1lb3V0KGhvbGRUaW1lb3V0KSwkZWxlbWVudC50cmlnZ2VyKFwic3dpcGVcIixbZGlyZWN0aW9uLGRpc3RhbmNlLGR1cmF0aW9uLGZpbmdlckNvdW50LGZpbmdlckRhdGEsY3VycmVudERpcmVjdGlvbl0pLG9wdGlvbnMuc3dpcGUmJihyZXQ9b3B0aW9ucy5zd2lwZS5jYWxsKCRlbGVtZW50LGV2ZW50LGRpcmVjdGlvbixkaXN0YW5jZSxkdXJhdGlvbixmaW5nZXJDb3VudCxmaW5nZXJEYXRhLGN1cnJlbnREaXJlY3Rpb24pLHJldD09PSExKSlyZXR1cm4hMTtzd2l0Y2goZGlyZWN0aW9uKXtjYXNlIExFRlQ6JGVsZW1lbnQudHJpZ2dlcihcInN3aXBlTGVmdFwiLFtkaXJlY3Rpb24sZGlzdGFuY2UsZHVyYXRpb24sZmluZ2VyQ291bnQsZmluZ2VyRGF0YSxjdXJyZW50RGlyZWN0aW9uXSksb3B0aW9ucy5zd2lwZUxlZnQmJihyZXQ9b3B0aW9ucy5zd2lwZUxlZnQuY2FsbCgkZWxlbWVudCxldmVudCxkaXJlY3Rpb24sZGlzdGFuY2UsZHVyYXRpb24sZmluZ2VyQ291bnQsZmluZ2VyRGF0YSxjdXJyZW50RGlyZWN0aW9uKSk7YnJlYWs7Y2FzZSBSSUdIVDokZWxlbWVudC50cmlnZ2VyKFwic3dpcGVSaWdodFwiLFtkaXJlY3Rpb24sZGlzdGFuY2UsZHVyYXRpb24sZmluZ2VyQ291bnQsZmluZ2VyRGF0YSxjdXJyZW50RGlyZWN0aW9uXSksb3B0aW9ucy5zd2lwZVJpZ2h0JiYocmV0PW9wdGlvbnMuc3dpcGVSaWdodC5jYWxsKCRlbGVtZW50LGV2ZW50LGRpcmVjdGlvbixkaXN0YW5jZSxkdXJhdGlvbixmaW5nZXJDb3VudCxmaW5nZXJEYXRhLGN1cnJlbnREaXJlY3Rpb24pKTticmVhaztjYXNlIFVQOiRlbGVtZW50LnRyaWdnZXIoXCJzd2lwZVVwXCIsW2RpcmVjdGlvbixkaXN0YW5jZSxkdXJhdGlvbixmaW5nZXJDb3VudCxmaW5nZXJEYXRhLGN1cnJlbnREaXJlY3Rpb25dKSxvcHRpb25zLnN3aXBlVXAmJihyZXQ9b3B0aW9ucy5zd2lwZVVwLmNhbGwoJGVsZW1lbnQsZXZlbnQsZGlyZWN0aW9uLGRpc3RhbmNlLGR1cmF0aW9uLGZpbmdlckNvdW50LGZpbmdlckRhdGEsY3VycmVudERpcmVjdGlvbikpO2JyZWFrO2Nhc2UgRE9XTjokZWxlbWVudC50cmlnZ2VyKFwic3dpcGVEb3duXCIsW2RpcmVjdGlvbixkaXN0YW5jZSxkdXJhdGlvbixmaW5nZXJDb3VudCxmaW5nZXJEYXRhLGN1cnJlbnREaXJlY3Rpb25dKSxvcHRpb25zLnN3aXBlRG93biYmKHJldD1vcHRpb25zLnN3aXBlRG93bi5jYWxsKCRlbGVtZW50LGV2ZW50LGRpcmVjdGlvbixkaXN0YW5jZSxkdXJhdGlvbixmaW5nZXJDb3VudCxmaW5nZXJEYXRhLGN1cnJlbnREaXJlY3Rpb24pKX19fWlmKGdlc3R1cmU9PVBJTkNIKXtpZigkZWxlbWVudC50cmlnZ2VyKFwicGluY2hTdGF0dXNcIixbcGhhc2UscGluY2hEaXJlY3Rpb258fG51bGwscGluY2hEaXN0YW5jZXx8MCxkdXJhdGlvbnx8MCxmaW5nZXJDb3VudCxwaW5jaFpvb20sZmluZ2VyRGF0YV0pLG9wdGlvbnMucGluY2hTdGF0dXMmJihyZXQ9b3B0aW9ucy5waW5jaFN0YXR1cy5jYWxsKCRlbGVtZW50LGV2ZW50LHBoYXNlLHBpbmNoRGlyZWN0aW9ufHxudWxsLHBpbmNoRGlzdGFuY2V8fDAsZHVyYXRpb258fDAsZmluZ2VyQ291bnQscGluY2hab29tLGZpbmdlckRhdGEpLHJldD09PSExKSlyZXR1cm4hMTtpZihwaGFzZT09UEhBU0VfRU5EJiZ2YWxpZGF0ZVBpbmNoKCkpc3dpdGNoKHBpbmNoRGlyZWN0aW9uKXtjYXNlIElOOiRlbGVtZW50LnRyaWdnZXIoXCJwaW5jaEluXCIsW3BpbmNoRGlyZWN0aW9ufHxudWxsLHBpbmNoRGlzdGFuY2V8fDAsZHVyYXRpb258fDAsZmluZ2VyQ291bnQscGluY2hab29tLGZpbmdlckRhdGFdKSxvcHRpb25zLnBpbmNoSW4mJihyZXQ9b3B0aW9ucy5waW5jaEluLmNhbGwoJGVsZW1lbnQsZXZlbnQscGluY2hEaXJlY3Rpb258fG51bGwscGluY2hEaXN0YW5jZXx8MCxkdXJhdGlvbnx8MCxmaW5nZXJDb3VudCxwaW5jaFpvb20sZmluZ2VyRGF0YSkpO2JyZWFrO2Nhc2UgT1VUOiRlbGVtZW50LnRyaWdnZXIoXCJwaW5jaE91dFwiLFtwaW5jaERpcmVjdGlvbnx8bnVsbCxwaW5jaERpc3RhbmNlfHwwLGR1cmF0aW9ufHwwLGZpbmdlckNvdW50LHBpbmNoWm9vbSxmaW5nZXJEYXRhXSksb3B0aW9ucy5waW5jaE91dCYmKHJldD1vcHRpb25zLnBpbmNoT3V0LmNhbGwoJGVsZW1lbnQsZXZlbnQscGluY2hEaXJlY3Rpb258fG51bGwscGluY2hEaXN0YW5jZXx8MCxkdXJhdGlvbnx8MCxmaW5nZXJDb3VudCxwaW5jaFpvb20sZmluZ2VyRGF0YSkpfX1yZXR1cm4gZ2VzdHVyZT09VEFQP3BoYXNlIT09UEhBU0VfQ0FOQ0VMJiZwaGFzZSE9PVBIQVNFX0VORHx8KGNsZWFyVGltZW91dChzaW5nbGVUYXBUaW1lb3V0KSxjbGVhclRpbWVvdXQoaG9sZFRpbWVvdXQpLGhhc0RvdWJsZVRhcCgpJiYhaW5Eb3VibGVUYXAoKT8oZG91YmxlVGFwU3RhcnRUaW1lPWdldFRpbWVTdGFtcCgpLHNpbmdsZVRhcFRpbWVvdXQ9c2V0VGltZW91dCgkLnByb3h5KGZ1bmN0aW9uKCl7ZG91YmxlVGFwU3RhcnRUaW1lPW51bGwsJGVsZW1lbnQudHJpZ2dlcihcInRhcFwiLFtldmVudC50YXJnZXRdKSxvcHRpb25zLnRhcCYmKHJldD1vcHRpb25zLnRhcC5jYWxsKCRlbGVtZW50LGV2ZW50LGV2ZW50LnRhcmdldCkpfSx0aGlzKSxvcHRpb25zLmRvdWJsZVRhcFRocmVzaG9sZCkpOihkb3VibGVUYXBTdGFydFRpbWU9bnVsbCwkZWxlbWVudC50cmlnZ2VyKFwidGFwXCIsW2V2ZW50LnRhcmdldF0pLG9wdGlvbnMudGFwJiYocmV0PW9wdGlvbnMudGFwLmNhbGwoJGVsZW1lbnQsZXZlbnQsZXZlbnQudGFyZ2V0KSkpKTpnZXN0dXJlPT1ET1VCTEVfVEFQP3BoYXNlIT09UEhBU0VfQ0FOQ0VMJiZwaGFzZSE9PVBIQVNFX0VORHx8KGNsZWFyVGltZW91dChzaW5nbGVUYXBUaW1lb3V0KSxjbGVhclRpbWVvdXQoaG9sZFRpbWVvdXQpLGRvdWJsZVRhcFN0YXJ0VGltZT1udWxsLCRlbGVtZW50LnRyaWdnZXIoXCJkb3VibGV0YXBcIixbZXZlbnQudGFyZ2V0XSksb3B0aW9ucy5kb3VibGVUYXAmJihyZXQ9b3B0aW9ucy5kb3VibGVUYXAuY2FsbCgkZWxlbWVudCxldmVudCxldmVudC50YXJnZXQpKSk6Z2VzdHVyZT09TE9OR19UQVAmJihwaGFzZSE9PVBIQVNFX0NBTkNFTCYmcGhhc2UhPT1QSEFTRV9FTkR8fChjbGVhclRpbWVvdXQoc2luZ2xlVGFwVGltZW91dCksZG91YmxlVGFwU3RhcnRUaW1lPW51bGwsJGVsZW1lbnQudHJpZ2dlcihcImxvbmd0YXBcIixbZXZlbnQudGFyZ2V0XSksb3B0aW9ucy5sb25nVGFwJiYocmV0PW9wdGlvbnMubG9uZ1RhcC5jYWxsKCRlbGVtZW50LGV2ZW50LGV2ZW50LnRhcmdldCkpKSkscmV0fWZ1bmN0aW9uIHZhbGlkYXRlU3dpcGVEaXN0YW5jZSgpe3ZhciB2YWxpZD0hMDtyZXR1cm4gbnVsbCE9PW9wdGlvbnMudGhyZXNob2xkJiYodmFsaWQ9ZGlzdGFuY2U+PW9wdGlvbnMudGhyZXNob2xkKSx2YWxpZH1mdW5jdGlvbiBkaWRTd2lwZUJhY2tUb0NhbmNlbCgpe3ZhciBjYW5jZWxsZWQ9ITE7cmV0dXJuIG51bGwhPT1vcHRpb25zLmNhbmNlbFRocmVzaG9sZCYmbnVsbCE9PWRpcmVjdGlvbiYmKGNhbmNlbGxlZD1nZXRNYXhEaXN0YW5jZShkaXJlY3Rpb24pLWRpc3RhbmNlPj1vcHRpb25zLmNhbmNlbFRocmVzaG9sZCksY2FuY2VsbGVkfWZ1bmN0aW9uIHZhbGlkYXRlUGluY2hEaXN0YW5jZSgpe3JldHVybiBudWxsIT09b3B0aW9ucy5waW5jaFRocmVzaG9sZD9waW5jaERpc3RhbmNlPj1vcHRpb25zLnBpbmNoVGhyZXNob2xkOiEwfWZ1bmN0aW9uIHZhbGlkYXRlU3dpcGVUaW1lKCl7dmFyIHJlc3VsdDtyZXR1cm4gcmVzdWx0PW9wdGlvbnMubWF4VGltZVRocmVzaG9sZD8hKGR1cmF0aW9uPj1vcHRpb25zLm1heFRpbWVUaHJlc2hvbGQpOiEwfWZ1bmN0aW9uIHZhbGlkYXRlRGVmYXVsdEV2ZW50KGpxRXZlbnQsZGlyZWN0aW9uKXtpZihvcHRpb25zLnByZXZlbnREZWZhdWx0RXZlbnRzIT09ITEpaWYob3B0aW9ucy5hbGxvd1BhZ2VTY3JvbGw9PT1OT05FKWpxRXZlbnQucHJldmVudERlZmF1bHQoKTtlbHNle3ZhciBhdXRvPW9wdGlvbnMuYWxsb3dQYWdlU2Nyb2xsPT09QVVUTztzd2l0Y2goZGlyZWN0aW9uKXtjYXNlIExFRlQ6KG9wdGlvbnMuc3dpcGVMZWZ0JiZhdXRvfHwhYXV0byYmb3B0aW9ucy5hbGxvd1BhZ2VTY3JvbGwhPUhPUklaT05UQUwpJiZqcUV2ZW50LnByZXZlbnREZWZhdWx0KCk7YnJlYWs7Y2FzZSBSSUdIVDoob3B0aW9ucy5zd2lwZVJpZ2h0JiZhdXRvfHwhYXV0byYmb3B0aW9ucy5hbGxvd1BhZ2VTY3JvbGwhPUhPUklaT05UQUwpJiZqcUV2ZW50LnByZXZlbnREZWZhdWx0KCk7YnJlYWs7Y2FzZSBVUDoob3B0aW9ucy5zd2lwZVVwJiZhdXRvfHwhYXV0byYmb3B0aW9ucy5hbGxvd1BhZ2VTY3JvbGwhPVZFUlRJQ0FMKSYmanFFdmVudC5wcmV2ZW50RGVmYXVsdCgpO2JyZWFrO2Nhc2UgRE9XTjoob3B0aW9ucy5zd2lwZURvd24mJmF1dG98fCFhdXRvJiZvcHRpb25zLmFsbG93UGFnZVNjcm9sbCE9VkVSVElDQUwpJiZqcUV2ZW50LnByZXZlbnREZWZhdWx0KCk7YnJlYWs7Y2FzZSBOT05FOn19fWZ1bmN0aW9uIHZhbGlkYXRlUGluY2goKXt2YXIgaGFzQ29ycmVjdEZpbmdlckNvdW50PXZhbGlkYXRlRmluZ2VycygpLGhhc0VuZFBvaW50PXZhbGlkYXRlRW5kUG9pbnQoKSxoYXNDb3JyZWN0RGlzdGFuY2U9dmFsaWRhdGVQaW5jaERpc3RhbmNlKCk7cmV0dXJuIGhhc0NvcnJlY3RGaW5nZXJDb3VudCYmaGFzRW5kUG9pbnQmJmhhc0NvcnJlY3REaXN0YW5jZX1mdW5jdGlvbiBoYXNQaW5jaGVzKCl7cmV0dXJuISEob3B0aW9ucy5waW5jaFN0YXR1c3x8b3B0aW9ucy5waW5jaElufHxvcHRpb25zLnBpbmNoT3V0KX1mdW5jdGlvbiBkaWRQaW5jaCgpe3JldHVybiEoIXZhbGlkYXRlUGluY2goKXx8IWhhc1BpbmNoZXMoKSl9ZnVuY3Rpb24gdmFsaWRhdGVTd2lwZSgpe3ZhciBoYXNWYWxpZFRpbWU9dmFsaWRhdGVTd2lwZVRpbWUoKSxoYXNWYWxpZERpc3RhbmNlPXZhbGlkYXRlU3dpcGVEaXN0YW5jZSgpLGhhc0NvcnJlY3RGaW5nZXJDb3VudD12YWxpZGF0ZUZpbmdlcnMoKSxoYXNFbmRQb2ludD12YWxpZGF0ZUVuZFBvaW50KCksZGlkQ2FuY2VsPWRpZFN3aXBlQmFja1RvQ2FuY2VsKCksdmFsaWQ9IWRpZENhbmNlbCYmaGFzRW5kUG9pbnQmJmhhc0NvcnJlY3RGaW5nZXJDb3VudCYmaGFzVmFsaWREaXN0YW5jZSYmaGFzVmFsaWRUaW1lO3JldHVybiB2YWxpZH1mdW5jdGlvbiBoYXNTd2lwZXMoKXtyZXR1cm4hIShvcHRpb25zLnN3aXBlfHxvcHRpb25zLnN3aXBlU3RhdHVzfHxvcHRpb25zLnN3aXBlTGVmdHx8b3B0aW9ucy5zd2lwZVJpZ2h0fHxvcHRpb25zLnN3aXBlVXB8fG9wdGlvbnMuc3dpcGVEb3duKX1mdW5jdGlvbiBkaWRTd2lwZSgpe3JldHVybiEoIXZhbGlkYXRlU3dpcGUoKXx8IWhhc1N3aXBlcygpKX1mdW5jdGlvbiB2YWxpZGF0ZUZpbmdlcnMoKXtyZXR1cm4gZmluZ2VyQ291bnQ9PT1vcHRpb25zLmZpbmdlcnN8fG9wdGlvbnMuZmluZ2Vycz09PUFMTF9GSU5HRVJTfHwhU1VQUE9SVFNfVE9VQ0h9ZnVuY3Rpb24gdmFsaWRhdGVFbmRQb2ludCgpe3JldHVybiAwIT09ZmluZ2VyRGF0YVswXS5lbmQueH1mdW5jdGlvbiBoYXNUYXAoKXtyZXR1cm4hIW9wdGlvbnMudGFwfWZ1bmN0aW9uIGhhc0RvdWJsZVRhcCgpe3JldHVybiEhb3B0aW9ucy5kb3VibGVUYXB9ZnVuY3Rpb24gaGFzTG9uZ1RhcCgpe3JldHVybiEhb3B0aW9ucy5sb25nVGFwfWZ1bmN0aW9uIHZhbGlkYXRlRG91YmxlVGFwKCl7aWYobnVsbD09ZG91YmxlVGFwU3RhcnRUaW1lKXJldHVybiExO3ZhciBub3c9Z2V0VGltZVN0YW1wKCk7cmV0dXJuIGhhc0RvdWJsZVRhcCgpJiZub3ctZG91YmxlVGFwU3RhcnRUaW1lPD1vcHRpb25zLmRvdWJsZVRhcFRocmVzaG9sZH1mdW5jdGlvbiBpbkRvdWJsZVRhcCgpe3JldHVybiB2YWxpZGF0ZURvdWJsZVRhcCgpfWZ1bmN0aW9uIHZhbGlkYXRlVGFwKCl7cmV0dXJuKDE9PT1maW5nZXJDb3VudHx8IVNVUFBPUlRTX1RPVUNIKSYmKGlzTmFOKGRpc3RhbmNlKXx8ZGlzdGFuY2U8b3B0aW9ucy50aHJlc2hvbGQpfWZ1bmN0aW9uIHZhbGlkYXRlTG9uZ1RhcCgpe3JldHVybiBkdXJhdGlvbj5vcHRpb25zLmxvbmdUYXBUaHJlc2hvbGQmJkRPVUJMRV9UQVBfVEhSRVNIT0xEPmRpc3RhbmNlfWZ1bmN0aW9uIGRpZFRhcCgpe3JldHVybiEoIXZhbGlkYXRlVGFwKCl8fCFoYXNUYXAoKSl9ZnVuY3Rpb24gZGlkRG91YmxlVGFwKCl7cmV0dXJuISghdmFsaWRhdGVEb3VibGVUYXAoKXx8IWhhc0RvdWJsZVRhcCgpKX1mdW5jdGlvbiBkaWRMb25nVGFwKCl7cmV0dXJuISghdmFsaWRhdGVMb25nVGFwKCl8fCFoYXNMb25nVGFwKCkpfWZ1bmN0aW9uIHN0YXJ0TXVsdGlGaW5nZXJSZWxlYXNlKGV2ZW50KXtwcmV2aW91c1RvdWNoRW5kVGltZT1nZXRUaW1lU3RhbXAoKSxmaW5nZXJDb3VudEF0UmVsZWFzZT1ldmVudC50b3VjaGVzLmxlbmd0aCsxfWZ1bmN0aW9uIGNhbmNlbE11bHRpRmluZ2VyUmVsZWFzZSgpe3ByZXZpb3VzVG91Y2hFbmRUaW1lPTAsZmluZ2VyQ291bnRBdFJlbGVhc2U9MH1mdW5jdGlvbiBpbk11bHRpRmluZ2VyUmVsZWFzZSgpe3ZhciB3aXRoaW5UaHJlc2hvbGQ9ITE7aWYocHJldmlvdXNUb3VjaEVuZFRpbWUpe3ZhciBkaWZmPWdldFRpbWVTdGFtcCgpLXByZXZpb3VzVG91Y2hFbmRUaW1lO2RpZmY8PW9wdGlvbnMuZmluZ2VyUmVsZWFzZVRocmVzaG9sZCYmKHdpdGhpblRocmVzaG9sZD0hMCl9cmV0dXJuIHdpdGhpblRocmVzaG9sZH1mdW5jdGlvbiBnZXRUb3VjaEluUHJvZ3Jlc3MoKXtyZXR1cm4hKCRlbGVtZW50LmRhdGEoUExVR0lOX05TK1wiX2ludG91Y2hcIikhPT0hMCl9ZnVuY3Rpb24gc2V0VG91Y2hJblByb2dyZXNzKHZhbCl7JGVsZW1lbnQmJih2YWw9PT0hMD8oJGVsZW1lbnQub24oTU9WRV9FVix0b3VjaE1vdmUpLCRlbGVtZW50Lm9uKEVORF9FVix0b3VjaEVuZCksTEVBVkVfRVYmJiRlbGVtZW50Lm9uKExFQVZFX0VWLHRvdWNoTGVhdmUpKTooJGVsZW1lbnQub2ZmKE1PVkVfRVYsdG91Y2hNb3ZlLCExKSwkZWxlbWVudC5vZmYoRU5EX0VWLHRvdWNoRW5kLCExKSxMRUFWRV9FViYmJGVsZW1lbnQub2ZmKExFQVZFX0VWLHRvdWNoTGVhdmUsITEpKSwkZWxlbWVudC5kYXRhKFBMVUdJTl9OUytcIl9pbnRvdWNoXCIsdmFsPT09ITApKX1mdW5jdGlvbiBjcmVhdGVGaW5nZXJEYXRhKGlkLGV2dCl7dmFyIGY9e3N0YXJ0Ont4OjAseTowfSxsYXN0Ont4OjAseTowfSxlbmQ6e3g6MCx5OjB9fTtyZXR1cm4gZi5zdGFydC54PWYubGFzdC54PWYuZW5kLng9ZXZ0LnBhZ2VYfHxldnQuY2xpZW50WCxmLnN0YXJ0Lnk9Zi5sYXN0Lnk9Zi5lbmQueT1ldnQucGFnZVl8fGV2dC5jbGllbnRZLGZpbmdlckRhdGFbaWRdPWYsZn1mdW5jdGlvbiB1cGRhdGVGaW5nZXJEYXRhKGV2dCl7dmFyIGlkPXZvaWQgMCE9PWV2dC5pZGVudGlmaWVyP2V2dC5pZGVudGlmaWVyOjAsZj1nZXRGaW5nZXJEYXRhKGlkKTtyZXR1cm4gbnVsbD09PWYmJihmPWNyZWF0ZUZpbmdlckRhdGEoaWQsZXZ0KSksZi5sYXN0Lng9Zi5lbmQueCxmLmxhc3QueT1mLmVuZC55LGYuZW5kLng9ZXZ0LnBhZ2VYfHxldnQuY2xpZW50WCxmLmVuZC55PWV2dC5wYWdlWXx8ZXZ0LmNsaWVudFksZn1mdW5jdGlvbiBnZXRGaW5nZXJEYXRhKGlkKXtyZXR1cm4gZmluZ2VyRGF0YVtpZF18fG51bGx9ZnVuY3Rpb24gc2V0TWF4RGlzdGFuY2UoZGlyZWN0aW9uLGRpc3RhbmNlKXtkaXJlY3Rpb24hPU5PTkUmJihkaXN0YW5jZT1NYXRoLm1heChkaXN0YW5jZSxnZXRNYXhEaXN0YW5jZShkaXJlY3Rpb24pKSxtYXhpbXVtc01hcFtkaXJlY3Rpb25dLmRpc3RhbmNlPWRpc3RhbmNlKX1mdW5jdGlvbiBnZXRNYXhEaXN0YW5jZShkaXJlY3Rpb24pe3JldHVybiBtYXhpbXVtc01hcFtkaXJlY3Rpb25dP21heGltdW1zTWFwW2RpcmVjdGlvbl0uZGlzdGFuY2U6dm9pZCAwfWZ1bmN0aW9uIGNyZWF0ZU1heGltdW1zRGF0YSgpe3ZhciBtYXhEYXRhPXt9O3JldHVybiBtYXhEYXRhW0xFRlRdPWNyZWF0ZU1heGltdW1WTyhMRUZUKSxtYXhEYXRhW1JJR0hUXT1jcmVhdGVNYXhpbXVtVk8oUklHSFQpLG1heERhdGFbVVBdPWNyZWF0ZU1heGltdW1WTyhVUCksbWF4RGF0YVtET1dOXT1jcmVhdGVNYXhpbXVtVk8oRE9XTiksbWF4RGF0YX1mdW5jdGlvbiBjcmVhdGVNYXhpbXVtVk8oZGlyKXtyZXR1cm57ZGlyZWN0aW9uOmRpcixkaXN0YW5jZTowfX1mdW5jdGlvbiBjYWxjdWxhdGVEdXJhdGlvbigpe3JldHVybiBlbmRUaW1lLXN0YXJ0VGltZX1mdW5jdGlvbiBjYWxjdWxhdGVUb3VjaGVzRGlzdGFuY2Uoc3RhcnRQb2ludCxlbmRQb2ludCl7dmFyIGRpZmZYPU1hdGguYWJzKHN0YXJ0UG9pbnQueC1lbmRQb2ludC54KSxkaWZmWT1NYXRoLmFicyhzdGFydFBvaW50LnktZW5kUG9pbnQueSk7cmV0dXJuIE1hdGgucm91bmQoTWF0aC5zcXJ0KGRpZmZYKmRpZmZYK2RpZmZZKmRpZmZZKSl9ZnVuY3Rpb24gY2FsY3VsYXRlUGluY2hab29tKHN0YXJ0RGlzdGFuY2UsZW5kRGlzdGFuY2Upe3ZhciBwZXJjZW50PWVuZERpc3RhbmNlL3N0YXJ0RGlzdGFuY2UqMTtyZXR1cm4gcGVyY2VudC50b0ZpeGVkKDIpfWZ1bmN0aW9uIGNhbGN1bGF0ZVBpbmNoRGlyZWN0aW9uKCl7cmV0dXJuIDE+cGluY2hab29tP09VVDpJTn1mdW5jdGlvbiBjYWxjdWxhdGVEaXN0YW5jZShzdGFydFBvaW50LGVuZFBvaW50KXtyZXR1cm4gTWF0aC5yb3VuZChNYXRoLnNxcnQoTWF0aC5wb3coZW5kUG9pbnQueC1zdGFydFBvaW50LngsMikrTWF0aC5wb3coZW5kUG9pbnQueS1zdGFydFBvaW50LnksMikpKX1mdW5jdGlvbiBjYWxjdWxhdGVBbmdsZShzdGFydFBvaW50LGVuZFBvaW50KXt2YXIgeD1zdGFydFBvaW50LngtZW5kUG9pbnQueCx5PWVuZFBvaW50Lnktc3RhcnRQb2ludC55LHI9TWF0aC5hdGFuMih5LHgpLGFuZ2xlPU1hdGgucm91bmQoMTgwKnIvTWF0aC5QSSk7cmV0dXJuIDA+YW5nbGUmJihhbmdsZT0zNjAtTWF0aC5hYnMoYW5nbGUpKSxhbmdsZX1mdW5jdGlvbiBjYWxjdWxhdGVEaXJlY3Rpb24oc3RhcnRQb2ludCxlbmRQb2ludCl7aWYoY29tcGFyZVBvaW50cyhzdGFydFBvaW50LGVuZFBvaW50KSlyZXR1cm4gTk9ORTt2YXIgYW5nbGU9Y2FsY3VsYXRlQW5nbGUoc3RhcnRQb2ludCxlbmRQb2ludCk7cmV0dXJuIDQ1Pj1hbmdsZSYmYW5nbGU+PTA/TEVGVDozNjA+PWFuZ2xlJiZhbmdsZT49MzE1P0xFRlQ6YW5nbGU+PTEzNSYmMjI1Pj1hbmdsZT9SSUdIVDphbmdsZT40NSYmMTM1PmFuZ2xlP0RPV046VVB9ZnVuY3Rpb24gZ2V0VGltZVN0YW1wKCl7dmFyIG5vdz1uZXcgRGF0ZTtyZXR1cm4gbm93LmdldFRpbWUoKX1mdW5jdGlvbiBnZXRib3VuZHMoZWwpe2VsPSQoZWwpO3ZhciBvZmZzZXQ9ZWwub2Zmc2V0KCksYm91bmRzPXtsZWZ0Om9mZnNldC5sZWZ0LHJpZ2h0Om9mZnNldC5sZWZ0K2VsLm91dGVyV2lkdGgoKSx0b3A6b2Zmc2V0LnRvcCxib3R0b206b2Zmc2V0LnRvcCtlbC5vdXRlckhlaWdodCgpfTtyZXR1cm4gYm91bmRzfWZ1bmN0aW9uIGlzSW5Cb3VuZHMocG9pbnQsYm91bmRzKXtyZXR1cm4gcG9pbnQueD5ib3VuZHMubGVmdCYmcG9pbnQueDxib3VuZHMucmlnaHQmJnBvaW50Lnk+Ym91bmRzLnRvcCYmcG9pbnQueTxib3VuZHMuYm90dG9tfWZ1bmN0aW9uIGNvbXBhcmVQb2ludHMocG9pbnRBLHBvaW50Qil7cmV0dXJuIHBvaW50QS54PT1wb2ludEIueCYmcG9pbnRBLnk9PXBvaW50Qi55fXZhciBvcHRpb25zPSQuZXh0ZW5kKHt9LG9wdGlvbnMpLHVzZVRvdWNoRXZlbnRzPVNVUFBPUlRTX1RPVUNIfHxTVVBQT1JUU19QT0lOVEVSfHwhb3B0aW9ucy5mYWxsYmFja1RvTW91c2VFdmVudHMsU1RBUlRfRVY9dXNlVG91Y2hFdmVudHM/U1VQUE9SVFNfUE9JTlRFUj9TVVBQT1JUU19QT0lOVEVSX0lFMTA/XCJNU1BvaW50ZXJEb3duXCI6XCJwb2ludGVyZG93blwiOlwidG91Y2hzdGFydFwiOlwibW91c2Vkb3duXCIsTU9WRV9FVj11c2VUb3VjaEV2ZW50cz9TVVBQT1JUU19QT0lOVEVSP1NVUFBPUlRTX1BPSU5URVJfSUUxMD9cIk1TUG9pbnRlck1vdmVcIjpcInBvaW50ZXJtb3ZlXCI6XCJ0b3VjaG1vdmVcIjpcIm1vdXNlbW92ZVwiLEVORF9FVj11c2VUb3VjaEV2ZW50cz9TVVBQT1JUU19QT0lOVEVSP1NVUFBPUlRTX1BPSU5URVJfSUUxMD9cIk1TUG9pbnRlclVwXCI6XCJwb2ludGVydXBcIjpcInRvdWNoZW5kXCI6XCJtb3VzZXVwXCIsTEVBVkVfRVY9dXNlVG91Y2hFdmVudHM/U1VQUE9SVFNfUE9JTlRFUj9cIm1vdXNlbGVhdmVcIjpudWxsOlwibW91c2VsZWF2ZVwiLENBTkNFTF9FVj1TVVBQT1JUU19QT0lOVEVSP1NVUFBPUlRTX1BPSU5URVJfSUUxMD9cIk1TUG9pbnRlckNhbmNlbFwiOlwicG9pbnRlcmNhbmNlbFwiOlwidG91Y2hjYW5jZWxcIixkaXN0YW5jZT0wLGRpcmVjdGlvbj1udWxsLGN1cnJlbnREaXJlY3Rpb249bnVsbCxkdXJhdGlvbj0wLHN0YXJ0VG91Y2hlc0Rpc3RhbmNlPTAsZW5kVG91Y2hlc0Rpc3RhbmNlPTAscGluY2hab29tPTEscGluY2hEaXN0YW5jZT0wLHBpbmNoRGlyZWN0aW9uPTAsbWF4aW11bXNNYXA9bnVsbCwkZWxlbWVudD0kKGVsZW1lbnQpLHBoYXNlPVwic3RhcnRcIixmaW5nZXJDb3VudD0wLGZpbmdlckRhdGE9e30sc3RhcnRUaW1lPTAsZW5kVGltZT0wLHByZXZpb3VzVG91Y2hFbmRUaW1lPTAsZmluZ2VyQ291bnRBdFJlbGVhc2U9MCxkb3VibGVUYXBTdGFydFRpbWU9MCxzaW5nbGVUYXBUaW1lb3V0PW51bGwsaG9sZFRpbWVvdXQ9bnVsbDt0cnl7JGVsZW1lbnQub24oU1RBUlRfRVYsdG91Y2hTdGFydCksJGVsZW1lbnQub24oQ0FOQ0VMX0VWLHRvdWNoQ2FuY2VsKX1jYXRjaChlKXskLmVycm9yKFwiZXZlbnRzIG5vdCBzdXBwb3J0ZWQgXCIrU1RBUlRfRVYrXCIsXCIrQ0FOQ0VMX0VWK1wiIG9uIGpRdWVyeS5zd2lwZVwiKX10aGlzLmVuYWJsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRpc2FibGUoKSwkZWxlbWVudC5vbihTVEFSVF9FVix0b3VjaFN0YXJ0KSwkZWxlbWVudC5vbihDQU5DRUxfRVYsdG91Y2hDYW5jZWwpLCRlbGVtZW50fSx0aGlzLmRpc2FibGU9ZnVuY3Rpb24oKXtyZXR1cm4gcmVtb3ZlTGlzdGVuZXJzKCksJGVsZW1lbnR9LHRoaXMuZGVzdHJveT1mdW5jdGlvbigpe3JlbW92ZUxpc3RlbmVycygpLCRlbGVtZW50LmRhdGEoUExVR0lOX05TLG51bGwpLCRlbGVtZW50PW51bGx9LHRoaXMub3B0aW9uPWZ1bmN0aW9uKHByb3BlcnR5LHZhbHVlKXtpZihcIm9iamVjdFwiPT10eXBlb2YgcHJvcGVydHkpb3B0aW9ucz0kLmV4dGVuZChvcHRpb25zLHByb3BlcnR5KTtlbHNlIGlmKHZvaWQgMCE9PW9wdGlvbnNbcHJvcGVydHldKXtpZih2b2lkIDA9PT12YWx1ZSlyZXR1cm4gb3B0aW9uc1twcm9wZXJ0eV07b3B0aW9uc1twcm9wZXJ0eV09dmFsdWV9ZWxzZXtpZighcHJvcGVydHkpcmV0dXJuIG9wdGlvbnM7JC5lcnJvcihcIk9wdGlvbiBcIitwcm9wZXJ0eStcIiBkb2VzIG5vdCBleGlzdCBvbiBqUXVlcnkuc3dpcGUub3B0aW9uc1wiKX1yZXR1cm4gbnVsbH19dmFyIFZFUlNJT049XCIxLjYuMThcIixMRUZUPVwibGVmdFwiLFJJR0hUPVwicmlnaHRcIixVUD1cInVwXCIsRE9XTj1cImRvd25cIixJTj1cImluXCIsT1VUPVwib3V0XCIsTk9ORT1cIm5vbmVcIixBVVRPPVwiYXV0b1wiLFNXSVBFPVwic3dpcGVcIixQSU5DSD1cInBpbmNoXCIsVEFQPVwidGFwXCIsRE9VQkxFX1RBUD1cImRvdWJsZXRhcFwiLExPTkdfVEFQPVwibG9uZ3RhcFwiLEhPUklaT05UQUw9XCJob3Jpem9udGFsXCIsVkVSVElDQUw9XCJ2ZXJ0aWNhbFwiLEFMTF9GSU5HRVJTPVwiYWxsXCIsRE9VQkxFX1RBUF9USFJFU0hPTEQ9MTAsUEhBU0VfU1RBUlQ9XCJzdGFydFwiLFBIQVNFX01PVkU9XCJtb3ZlXCIsUEhBU0VfRU5EPVwiZW5kXCIsUEhBU0VfQ0FOQ0VMPVwiY2FuY2VsXCIsU1VQUE9SVFNfVE9VQ0g9XCJvbnRvdWNoc3RhcnRcImluIHdpbmRvdyxTVVBQT1JUU19QT0lOVEVSX0lFMTA9d2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkJiYhd2luZG93LlBvaW50ZXJFdmVudCYmIVNVUFBPUlRTX1RPVUNILFNVUFBPUlRTX1BPSU5URVI9KHdpbmRvdy5Qb2ludGVyRXZlbnR8fHdpbmRvdy5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZCkmJiFTVVBQT1JUU19UT1VDSCxQTFVHSU5fTlM9XCJUb3VjaFN3aXBlXCIsZGVmYXVsdHM9e2ZpbmdlcnM6MSx0aHJlc2hvbGQ6NzUsY2FuY2VsVGhyZXNob2xkOm51bGwscGluY2hUaHJlc2hvbGQ6MjAsbWF4VGltZVRocmVzaG9sZDpudWxsLGZpbmdlclJlbGVhc2VUaHJlc2hvbGQ6MjUwLGxvbmdUYXBUaHJlc2hvbGQ6NTAwLGRvdWJsZVRhcFRocmVzaG9sZDoyMDAsc3dpcGU6bnVsbCxzd2lwZUxlZnQ6bnVsbCxzd2lwZVJpZ2h0Om51bGwsc3dpcGVVcDpudWxsLHN3aXBlRG93bjpudWxsLHN3aXBlU3RhdHVzOm51bGwscGluY2hJbjpudWxsLHBpbmNoT3V0Om51bGwscGluY2hTdGF0dXM6bnVsbCxjbGljazpudWxsLHRhcDpudWxsLGRvdWJsZVRhcDpudWxsLGxvbmdUYXA6bnVsbCxob2xkOm51bGwsdHJpZ2dlck9uVG91Y2hFbmQ6ITAsdHJpZ2dlck9uVG91Y2hMZWF2ZTohMSxhbGxvd1BhZ2VTY3JvbGw6XCJhdXRvXCIsZmFsbGJhY2tUb01vdXNlRXZlbnRzOiEwLGV4Y2x1ZGVkRWxlbWVudHM6XCIubm9Td2lwZVwiLHByZXZlbnREZWZhdWx0RXZlbnRzOiEwfTskLmZuLnN3aXBlPWZ1bmN0aW9uKG1ldGhvZCl7dmFyICR0aGlzPSQodGhpcykscGx1Z2luPSR0aGlzLmRhdGEoUExVR0lOX05TKTtpZihwbHVnaW4mJlwic3RyaW5nXCI9PXR5cGVvZiBtZXRob2Qpe2lmKHBsdWdpblttZXRob2RdKXJldHVybiBwbHVnaW5bbWV0aG9kXS5hcHBseShwbHVnaW4sQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpKTskLmVycm9yKFwiTWV0aG9kIFwiK21ldGhvZCtcIiBkb2VzIG5vdCBleGlzdCBvbiBqUXVlcnkuc3dpcGVcIil9ZWxzZSBpZihwbHVnaW4mJlwib2JqZWN0XCI9PXR5cGVvZiBtZXRob2QpcGx1Z2luLm9wdGlvbi5hcHBseShwbHVnaW4sYXJndW1lbnRzKTtlbHNlIGlmKCEocGx1Z2lufHxcIm9iamVjdFwiIT10eXBlb2YgbWV0aG9kJiZtZXRob2QpKXJldHVybiBpbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gJHRoaXN9LCQuZm4uc3dpcGUudmVyc2lvbj1WRVJTSU9OLCQuZm4uc3dpcGUuZGVmYXVsdHM9ZGVmYXVsdHMsJC5mbi5zd2lwZS5waGFzZXM9e1BIQVNFX1NUQVJUOlBIQVNFX1NUQVJULFBIQVNFX01PVkU6UEhBU0VfTU9WRSxQSEFTRV9FTkQ6UEhBU0VfRU5ELFBIQVNFX0NBTkNFTDpQSEFTRV9DQU5DRUx9LCQuZm4uc3dpcGUuZGlyZWN0aW9ucz17TEVGVDpMRUZULFJJR0hUOlJJR0hULFVQOlVQLERPV046RE9XTixJTjpJTixPVVQ6T1VUfSwkLmZuLnN3aXBlLnBhZ2VTY3JvbGw9e05PTkU6Tk9ORSxIT1JJWk9OVEFMOkhPUklaT05UQUwsVkVSVElDQUw6VkVSVElDQUwsQVVUTzpBVVRPfSwkLmZuLnN3aXBlLmZpbmdlcnM9e09ORToxLFRXTzoyLFRIUkVFOjMsRk9VUjo0LEZJVkU6NSxBTEw6QUxMX0ZJTkdFUlN9fSk7IiwiLyohQGxpY2Vuc2UgQ29weXJpZ2h0IDIwMTMsIEhlaW5yaWNoIEdvZWJsLCBMaWNlbnNlOiBNSVQsIHNlZSBodHRwczovL2dpdGh1Yi5jb20vaGdvZWJsL21vYmlsZS1kZXRlY3QuanMqL1xuIWZ1bmN0aW9uKGEsYil7YShmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGEoYSxiKXtyZXR1cm4gbnVsbCE9YSYmbnVsbCE9YiYmYS50b0xvd2VyQ2FzZSgpPT09Yi50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIGMoYSxiKXt2YXIgYyxkLGU9YS5sZW5ndGg7aWYoIWV8fCFiKXJldHVybiExO2ZvcihjPWIudG9Mb3dlckNhc2UoKSxkPTA7ZDxlOysrZClpZihjPT09YVtkXS50b0xvd2VyQ2FzZSgpKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIGQoYSl7Zm9yKHZhciBiIGluIGEpaS5jYWxsKGEsYikmJihhW2JdPW5ldyBSZWdFeHAoYVtiXSxcImlcIikpfWZ1bmN0aW9uIGUoYSl7cmV0dXJuKGF8fFwiXCIpLnN1YnN0cigwLDUwMCl9ZnVuY3Rpb24gZihhLGIpe3RoaXMudWE9ZShhKSx0aGlzLl9jYWNoZT17fSx0aGlzLm1heFBob25lV2lkdGg9Ynx8NjAwfXZhciBnPXt9O2cubW9iaWxlRGV0ZWN0UnVsZXM9e3Bob25lczp7aVBob25lOlwiXFxcXGJpUGhvbmVcXFxcYnxcXFxcYmlQb2RcXFxcYlwiLEJsYWNrQmVycnk6XCJCbGFja0JlcnJ5fFxcXFxiQkIxMFxcXFxifHJpbVswLTldK3xcXFxcYihCQkExMDB8QkJCMTAwfEJCRDEwMHxCQkUxMDB8QkJGMTAwfFNUSDEwMClcXFxcYi1bMC05XStcIixQaXhlbDpcIjsgXFxcXGJQaXhlbFxcXFxiXCIsSFRDOlwiSFRDfEhUQy4qKFNlbnNhdGlvbnxFdm98VmlzaW9ufEV4cGxvcmVyfDY4MDB8ODEwMHw4OTAwfEE3MjcyfFM1MTBlfEMxMTBlfExlZ2VuZHxEZXNpcmV8VDgyODIpfEFQWDUxNUNLVHxRdGVrOTA5MHxBUEE5MjkyS1R8SERfbWluaXxTZW5zYXRpb24uKlo3MTBlfFBHODYxMDB8WjcxNWV8RGVzaXJlLiooQTgxODF8SEQpfEFEUjYyMDB8QURSNjQwMEx8QURSNjQyNXwwMDFIVHxJbnNwaXJlIDRHfEFuZHJvaWQuKlxcXFxiRVZPXFxcXGJ8VC1Nb2JpbGUgRzF8WjUyMG18QW5kcm9pZCBbMC05Ll0rOyBQaXhlbFwiLE5leHVzOlwiTmV4dXMgT25lfE5leHVzIFN8R2FsYXh5LipOZXh1c3xBbmRyb2lkLipOZXh1cy4qTW9iaWxlfE5leHVzIDR8TmV4dXMgNXxOZXh1cyA1WHxOZXh1cyA2XCIsRGVsbDpcIkRlbGxbO10/IChTdHJlYWt8QWVyb3xWZW51ZXxWZW51ZSBQcm98Rmxhc2h8U21va2V8TWluaSAzaVgpfFhDRDI4fFhDRDM1fFxcXFxiMDAxRExcXFxcYnxcXFxcYjEwMURMXFxcXGJ8XFxcXGJHUzAxXFxcXGJcIixNb3Rvcm9sYTpcIk1vdG9yb2xhfERST0lEWHxEUk9JRCBCSU9OSUN8XFxcXGJEcm9pZFxcXFxiLipCdWlsZHxBbmRyb2lkLipYb29tfEhSSTM5fE1PVC18QTEyNjB8QTE2ODB8QTU1NXxBODUzfEE4NTV8QTk1M3xBOTU1fEE5NTZ8TW90b3JvbGEuKkVMRUNUUklGWXxNb3Rvcm9sYS4qaTF8aTg2N3xpOTQwfE1CMjAwfE1CMzAwfE1CNTAxfE1CNTAyfE1CNTA4fE1CNTExfE1CNTIwfE1CNTI1fE1CNTI2fE1CNjExfE1CNjEyfE1CNjMyfE1CODEwfE1CODU1fE1CODYwfE1CODYxfE1CODY1fE1CODcwfE1FNTAxfE1FNTAyfE1FNTExfE1FNTI1fE1FNjAwfE1FNjMyfE1FNzIyfE1FODExfE1FODYwfE1FODYzfE1FODY1fE1UNjIwfE1UNzEwfE1UNzE2fE1UNzIwfE1UODEwfE1UODcwfE1UOTE3fE1vdG9yb2xhLipUSVRBTklVTXxXWDQzNXxXWDQ0NXxYVDMwMHxYVDMwMXxYVDMxMXxYVDMxNnxYVDMxN3xYVDMxOXxYVDMyMHxYVDM5MHxYVDUwMnxYVDUzMHxYVDUzMXxYVDUzMnxYVDUzNXxYVDYwM3xYVDYxMHxYVDYxMXxYVDYxNXxYVDY4MXxYVDcwMXxYVDcwMnxYVDcxMXxYVDcyMHxYVDgwMHxYVDgwNnxYVDg2MHxYVDg2MnxYVDg3NXxYVDg4MnxYVDg4M3xYVDg5NHxYVDkwMXxYVDkwN3xYVDkwOXxYVDkxMHxYVDkxMnxYVDkyOHxYVDkyNnxYVDkxNXxYVDkxOXxYVDkyNXxYVDEwMjF8XFxcXGJNb3RvIEVcXFxcYnxYVDEwNjh8WFQxMDkyfFhUMTA1MlwiLFNhbXN1bmc6XCJcXFxcYlNhbXN1bmdcXFxcYnxTTS1HOTUwRnxTTS1HOTU1RnxTTS1HOTI1MHxHVC0xOTMwMHxTR0gtSTMzN3xCR1QtUzUyMzB8R1QtQjIxMDB8R1QtQjI3MDB8R1QtQjI3MTB8R1QtQjMyMTB8R1QtQjMzMTB8R1QtQjM0MTB8R1QtQjM3MzB8R1QtQjM3NDB8R1QtQjU1MTB8R1QtQjU1MTJ8R1QtQjU3MjJ8R1QtQjY1MjB8R1QtQjczMDB8R1QtQjczMjB8R1QtQjczMzB8R1QtQjczNTB8R1QtQjc1MTB8R1QtQjc3MjJ8R1QtQjc4MDB8R1QtQzMwMTB8R1QtQzMwMTF8R1QtQzMwNjB8R1QtQzMyMDB8R1QtQzMyMTJ8R1QtQzMyMTJJfEdULUMzMjYyfEdULUMzMjIyfEdULUMzMzAwfEdULUMzMzAwS3xHVC1DMzMwM3xHVC1DMzMwM0t8R1QtQzMzMTB8R1QtQzMzMjJ8R1QtQzMzMzB8R1QtQzMzNTB8R1QtQzM1MDB8R1QtQzM1MTB8R1QtQzM1MzB8R1QtQzM2MzB8R1QtQzM3ODB8R1QtQzUwMTB8R1QtQzUyMTJ8R1QtQzY2MjB8R1QtQzY2MjV8R1QtQzY3MTJ8R1QtRTEwNTB8R1QtRTEwNzB8R1QtRTEwNzV8R1QtRTEwODB8R1QtRTEwODF8R1QtRTEwODV8R1QtRTEwODd8R1QtRTExMDB8R1QtRTExMDd8R1QtRTExMTB8R1QtRTExMjB8R1QtRTExMjV8R1QtRTExMzB8R1QtRTExNjB8R1QtRTExNzB8R1QtRTExNzV8R1QtRTExODB8R1QtRTExODJ8R1QtRTEyMDB8R1QtRTEyMTB8R1QtRTEyMjV8R1QtRTEyMzB8R1QtRTEzOTB8R1QtRTIxMDB8R1QtRTIxMjB8R1QtRTIxMjF8R1QtRTIxNTJ8R1QtRTIyMjB8R1QtRTIyMjJ8R1QtRTIyMzB8R1QtRTIyMzJ8R1QtRTIyNTB8R1QtRTIzNzB8R1QtRTI1NTB8R1QtRTI2NTJ8R1QtRTMyMTB8R1QtRTMyMTN8R1QtSTU1MDB8R1QtSTU1MDN8R1QtSTU3MDB8R1QtSTU4MDB8R1QtSTU4MDF8R1QtSTY0MTB8R1QtSTY0MjB8R1QtSTcxMTB8R1QtSTc0MTB8R1QtSTc1MDB8R1QtSTgwMDB8R1QtSTgxNTB8R1QtSTgxNjB8R1QtSTgxOTB8R1QtSTgzMjB8R1QtSTgzMzB8R1QtSTgzNTB8R1QtSTg1MzB8R1QtSTg3MDB8R1QtSTg3MDN8R1QtSTg5MTB8R1QtSTkwMDB8R1QtSTkwMDF8R1QtSTkwMDN8R1QtSTkwMTB8R1QtSTkwMjB8R1QtSTkwMjN8R1QtSTkwNzB8R1QtSTkwODJ8R1QtSTkxMDB8R1QtSTkxMDN8R1QtSTkyMjB8R1QtSTkyNTB8R1QtSTkzMDB8R1QtSTkzMDV8R1QtSTk1MDB8R1QtSTk1MDV8R1QtTTM1MTB8R1QtTTU2NTB8R1QtTTc1MDB8R1QtTTc2MDB8R1QtTTc2MDN8R1QtTTg4MDB8R1QtTTg5MTB8R1QtTjcwMDB8R1QtUzMxMTB8R1QtUzMzMTB8R1QtUzMzNTB8R1QtUzMzNTN8R1QtUzMzNzB8R1QtUzM2NTB8R1QtUzM2NTN8R1QtUzM3NzB8R1QtUzM4NTB8R1QtUzUyMTB8R1QtUzUyMjB8R1QtUzUyMjl8R1QtUzUyMzB8R1QtUzUyMzN8R1QtUzUyNTB8R1QtUzUyNTN8R1QtUzUyNjB8R1QtUzUyNjN8R1QtUzUyNzB8R1QtUzUzMDB8R1QtUzUzMzB8R1QtUzUzNTB8R1QtUzUzNjB8R1QtUzUzNjN8R1QtUzUzNjl8R1QtUzUzODB8R1QtUzUzODBEfEdULVM1NTYwfEdULVM1NTcwfEdULVM1NjAwfEdULVM1NjAzfEdULVM1NjEwfEdULVM1NjIwfEdULVM1NjYwfEdULVM1NjcwfEdULVM1NjkwfEdULVM1NzUwfEdULVM1NzgwfEdULVM1ODMwfEdULVM1ODM5fEdULVM2MTAyfEdULVM2NTAwfEdULVM3MDcwfEdULVM3MjAwfEdULVM3MjIwfEdULVM3MjMwfEdULVM3MjMzfEdULVM3MjUwfEdULVM3NTAwfEdULVM3NTMwfEdULVM3NTUwfEdULVM3NTYyfEdULVM3NzEwfEdULVM4MDAwfEdULVM4MDAzfEdULVM4NTAwfEdULVM4NTMwfEdULVM4NjAwfFNDSC1BMzEwfFNDSC1BNTMwfFNDSC1BNTcwfFNDSC1BNjEwfFNDSC1BNjMwfFNDSC1BNjUwfFNDSC1BNzkwfFNDSC1BNzk1fFNDSC1BODUwfFNDSC1BODcwfFNDSC1BODkwfFNDSC1BOTMwfFNDSC1BOTUwfFNDSC1BOTcwfFNDSC1BOTkwfFNDSC1JMTAwfFNDSC1JMTEwfFNDSC1JNDAwfFNDSC1JNDA1fFNDSC1JNTAwfFNDSC1JNTEwfFNDSC1JNTE1fFNDSC1JNjAwfFNDSC1JNzMwfFNDSC1JNzYwfFNDSC1JNzcwfFNDSC1JODMwfFNDSC1JOTEwfFNDSC1JOTIwfFNDSC1JOTU5fFNDSC1MQzExfFNDSC1OMTUwfFNDSC1OMzAwfFNDSC1SMTAwfFNDSC1SMzAwfFNDSC1SMzUxfFNDSC1SNDAwfFNDSC1SNDEwfFNDSC1UMzAwfFNDSC1VMzEwfFNDSC1VMzIwfFNDSC1VMzUwfFNDSC1VMzYwfFNDSC1VMzY1fFNDSC1VMzcwfFNDSC1VMzgwfFNDSC1VNDEwfFNDSC1VNDMwfFNDSC1VNDUwfFNDSC1VNDYwfFNDSC1VNDcwfFNDSC1VNDkwfFNDSC1VNTQwfFNDSC1VNTUwfFNDSC1VNjIwfFNDSC1VNjQwfFNDSC1VNjUwfFNDSC1VNjYwfFNDSC1VNzAwfFNDSC1VNzQwfFNDSC1VNzUwfFNDSC1VODEwfFNDSC1VODIwfFNDSC1VOTAwfFNDSC1VOTQwfFNDSC1VOTYwfFNDUy0yNlVDfFNHSC1BMTA3fFNHSC1BMTE3fFNHSC1BMTI3fFNHSC1BMTM3fFNHSC1BMTU3fFNHSC1BMTY3fFNHSC1BMTc3fFNHSC1BMTg3fFNHSC1BMTk3fFNHSC1BMjI3fFNHSC1BMjM3fFNHSC1BMjU3fFNHSC1BNDM3fFNHSC1BNTE3fFNHSC1BNTk3fFNHSC1BNjM3fFNHSC1BNjU3fFNHSC1BNjY3fFNHSC1BNjg3fFNHSC1BNjk3fFNHSC1BNzA3fFNHSC1BNzE3fFNHSC1BNzI3fFNHSC1BNzM3fFNHSC1BNzQ3fFNHSC1BNzY3fFNHSC1BNzc3fFNHSC1BNzk3fFNHSC1BODE3fFNHSC1BODI3fFNHSC1BODM3fFNHSC1BODQ3fFNHSC1BODY3fFNHSC1BODc3fFNHSC1BODg3fFNHSC1BODk3fFNHSC1BOTI3fFNHSC1CMTAwfFNHSC1CMTMwfFNHSC1CMjAwfFNHSC1CMjIwfFNHSC1DMTAwfFNHSC1DMTEwfFNHSC1DMTIwfFNHSC1DMTMwfFNHSC1DMTQwfFNHSC1DMTYwfFNHSC1DMTcwfFNHSC1DMTgwfFNHSC1DMjAwfFNHSC1DMjA3fFNHSC1DMjEwfFNHSC1DMjI1fFNHSC1DMjMwfFNHSC1DNDE3fFNHSC1DNDUwfFNHSC1EMzA3fFNHSC1EMzQ3fFNHSC1EMzU3fFNHSC1ENDA3fFNHSC1ENDE1fFNHSC1ENzgwfFNHSC1EODA3fFNHSC1EOTgwfFNHSC1FMTA1fFNHSC1FMjAwfFNHSC1FMzE1fFNHSC1FMzE2fFNHSC1FMzE3fFNHSC1FMzM1fFNHSC1FNTkwfFNHSC1FNjM1fFNHSC1FNzE1fFNHSC1FODkwfFNHSC1GMzAwfFNHSC1GNDgwfFNHSC1JMjAwfFNHSC1JMzAwfFNHSC1JMzIwfFNHSC1JNTUwfFNHSC1JNTc3fFNHSC1JNjAwfFNHSC1JNjA3fFNHSC1JNjE3fFNHSC1JNjI3fFNHSC1JNjM3fFNHSC1JNjc3fFNHSC1JNzAwfFNHSC1JNzE3fFNHSC1JNzI3fFNHSC1pNzQ3TXxTR0gtSTc3N3xTR0gtSTc4MHxTR0gtSTgyN3xTR0gtSTg0N3xTR0gtSTg1N3xTR0gtSTg5NnxTR0gtSTg5N3xTR0gtSTkwMHxTR0gtSTkwN3xTR0gtSTkxN3xTR0gtSTkyN3xTR0gtSTkzN3xTR0gtSTk5N3xTR0gtSjE1MHxTR0gtSjIwMHxTR0gtTDE3MHxTR0gtTDcwMHxTR0gtTTExMHxTR0gtTTE1MHxTR0gtTTIwMHxTR0gtTjEwNXxTR0gtTjUwMHxTR0gtTjYwMHxTR0gtTjYyMHxTR0gtTjYyNXxTR0gtTjcwMHxTR0gtTjcxMHxTR0gtUDEwN3xTR0gtUDIwN3xTR0gtUDMwMHxTR0gtUDMxMHxTR0gtUDUyMHxTR0gtUDczNXxTR0gtUDc3N3xTR0gtUTEwNXxTR0gtUjIxMHxTR0gtUjIyMHxTR0gtUjIyNXxTR0gtUzEwNXxTR0gtUzMwN3xTR0gtVDEwOXxTR0gtVDExOXxTR0gtVDEzOXxTR0gtVDIwOXxTR0gtVDIxOXxTR0gtVDIyOXxTR0gtVDIzOXxTR0gtVDI0OXxTR0gtVDI1OXxTR0gtVDMwOXxTR0gtVDMxOXxTR0gtVDMyOXxTR0gtVDMzOXxTR0gtVDM0OXxTR0gtVDM1OXxTR0gtVDM2OXxTR0gtVDM3OXxTR0gtVDQwOXxTR0gtVDQyOXxTR0gtVDQzOXxTR0gtVDQ1OXxTR0gtVDQ2OXxTR0gtVDQ3OXxTR0gtVDQ5OXxTR0gtVDUwOXxTR0gtVDUxOXxTR0gtVDUzOXxTR0gtVDU1OXxTR0gtVDU4OXxTR0gtVDYwOXxTR0gtVDYxOXxTR0gtVDYyOXxTR0gtVDYzOXxTR0gtVDY1OXxTR0gtVDY2OXxTR0gtVDY3OXxTR0gtVDcwOXxTR0gtVDcxOXxTR0gtVDcyOXxTR0gtVDczOXxTR0gtVDc0NnxTR0gtVDc0OXxTR0gtVDc1OXxTR0gtVDc2OXxTR0gtVDgwOXxTR0gtVDgxOXxTR0gtVDgzOXxTR0gtVDkxOXxTR0gtVDkyOXxTR0gtVDkzOXxTR0gtVDk1OXxTR0gtVDk4OXxTR0gtVTEwMHxTR0gtVTIwMHxTR0gtVTgwMHxTR0gtVjIwNXxTR0gtVjIwNnxTR0gtWDEwMHxTR0gtWDEwNXxTR0gtWDEyMHxTR0gtWDE0MHxTR0gtWDQyNnxTR0gtWDQyN3xTR0gtWDQ3NXxTR0gtWDQ5NXxTR0gtWDQ5N3xTR0gtWDUwN3xTR0gtWDYwMHxTR0gtWDYxMHxTR0gtWDYyMHxTR0gtWDYzMHxTR0gtWDcwMHxTR0gtWDgyMHxTR0gtWDg5MHxTR0gtWjEzMHxTR0gtWjE1MHxTR0gtWjE3MHxTR0gtWlgxMHxTR0gtWlgyMHxTSFctTTExMHxTUEgtQTEyMHxTUEgtQTQwMHxTUEgtQTQyMHxTUEgtQTQ2MHxTUEgtQTUwMHxTUEgtQTU2MHxTUEgtQTYwMHxTUEgtQTYyMHxTUEgtQTY2MHxTUEgtQTcwMHxTUEgtQTc0MHxTUEgtQTc2MHxTUEgtQTc5MHxTUEgtQTgwMHxTUEgtQTgyMHxTUEgtQTg0MHxTUEgtQTg4MHxTUEgtQTkwMHxTUEgtQTk0MHxTUEgtQTk2MHxTUEgtRDYwMHxTUEgtRDcwMHxTUEgtRDcxMHxTUEgtRDcyMHxTUEgtSTMwMHxTUEgtSTMyNXxTUEgtSTMzMHxTUEgtSTM1MHxTUEgtSTUwMHxTUEgtSTYwMHxTUEgtSTcwMHxTUEgtTDcwMHxTUEgtTTEwMHxTUEgtTTIyMHxTUEgtTTI0MHxTUEgtTTMwMHxTUEgtTTMwNXxTUEgtTTMyMHxTUEgtTTMzMHxTUEgtTTM1MHxTUEgtTTM2MHxTUEgtTTM3MHxTUEgtTTM4MHxTUEgtTTUxMHxTUEgtTTU0MHxTUEgtTTU1MHxTUEgtTTU2MHxTUEgtTTU3MHxTUEgtTTU4MHxTUEgtTTYxMHxTUEgtTTYyMHxTUEgtTTYzMHxTUEgtTTgwMHxTUEgtTTgxMHxTUEgtTTg1MHxTUEgtTTkwMHxTUEgtTTkxMHxTUEgtTTkyMHxTUEgtTTkzMHxTUEgtTjEwMHxTUEgtTjIwMHxTUEgtTjI0MHxTUEgtTjMwMHxTUEgtTjQwMHxTUEgtWjQwMHxTV0MtRTEwMHxTQ0gtaTkwOXxHVC1ONzEwMHxHVC1ONzEwNXxTQ0gtSTUzNXxTTS1OOTAwQXxTR0gtSTMxN3xTR0gtVDk5OUx8R1QtUzUzNjBCfEdULUk4MjYyfEdULVM2ODAyfEdULVM2MzEyfEdULVM2MzEwfEdULVM1MzEyfEdULVM1MzEwfEdULUk5MTA1fEdULUk4NTEwfEdULVM2NzkwTnxTTS1HNzEwNXxTTS1OOTAwNXxHVC1TNTMwMXxHVC1JOTI5NXxHVC1JOTE5NXxTTS1DMTAxfEdULVM3MzkyfEdULVM3NTYwfEdULUI3NjEwfEdULUk1NTEwfEdULVM3NTgyfEdULVM3NTMwRXxHVC1JODc1MHxTTS1HOTAwNlZ8U00tRzkwMDhWfFNNLUc5MDA5RHxTTS1HOTAwQXxTTS1HOTAwRHxTTS1HOTAwRnxTTS1HOTAwSHxTTS1HOTAwSXxTTS1HOTAwSnxTTS1HOTAwS3xTTS1HOTAwTHxTTS1HOTAwTXxTTS1HOTAwUHxTTS1HOTAwUjR8U00tRzkwMFN8U00tRzkwMFR8U00tRzkwMFZ8U00tRzkwMFc4fFNIVi1FMTYwS3xTQ0gtUDcwOXxTQ0gtUDcyOXxTTS1UMjU1OHxHVC1JOTIwNXxTTS1HOTM1MHxTTS1KMTIwRnxTTS1HOTIwRnxTTS1HOTIwVnxTTS1HOTMwRnxTTS1OOTEwQ3xTTS1BMzEwRnxHVC1JOTE5MHxTTS1KNTAwRk58U00tRzkwM0Z8U00tSjMzMEZ8U00tRzYxMEZ8U00tRzk4MUJ8U00tRzg5MkF8U00tQTUzMEZcIixMRzpcIlxcXFxiTEdcXFxcYjt8TEdbLSBdPyhDODAwfEM5MDB8RTQwMHxFNjEwfEU5MDB8RS05MDB8RjE2MHxGMTgwS3xGMTgwTHxGMTgwU3w3MzB8ODU1fEwxNjB8TFM3NDB8TFM4NDB8TFM5NzB8TFU2MjAwfE1TNjkwfE1TNjk1fE1TNzcwfE1TODQwfE1TODcwfE1TOTEwfFA1MDB8UDcwMHxQNzA1fFZNNjk2fEFTNjgwfEFTNjk1fEFYODQwfEM3Mjl8RTk3MHxHUzUwNXwyNzJ8QzM5NXxFNzM5Qkt8RTk2MHxMNTVDfEw3NUN8TFM2OTZ8TFM4NjB8UDc2OUJLfFAzNTB8UDUwMHxQNTA5fFA4NzB8VU4yNzJ8VVM3MzB8VlM4NDB8VlM5NTB8TE4yNzJ8TE41MTB8TFM2NzB8TFM4NTV8TFc2OTB8TU4yNzB8TU41MTB8UDUwOXxQNzY5fFA5MzB8VU4yMDB8VU4yNzB8VU41MTB8VU42MTB8VVM2NzB8VVM3NDB8VVM3NjB8VVgyNjV8VVg4NDB8Vk4yNzF8Vk41MzB8VlM2NjB8VlM3MDB8VlM3NDB8VlM3NTB8VlM5MTB8VlM5MjB8VlM5MzB8Vlg5MjAwfFZYMTEwMDB8QVg4NDBBfExXNzcwfFA1MDZ8UDkyNXxQOTk5fEU2MTJ8RDk1NXxEODAyfE1TMzIzfE0yNTcpfExNLUc3MTBcIixTb255OlwiU29ueVNUfFNvbnlMVHxTb255RXJpY3Nzb258U29ueUVyaWNzc29uTFQxNWl2fExUMThpfEUxMGl8TFQyOGh8TFQyNnd8U29ueUVyaWNzc29uTVQyN2l8QzUzMDN8QzY5MDJ8QzY5MDN8QzY5MDZ8QzY5NDN8RDI1MzN8U09WMzR8NjAxU098RjgzMzJcIixBc3VzOlwiQXN1cy4qR2FsYXh5fFBhZEZvbmUuKk1vYmlsZVwiLFhpYW9taTpcIl4oPyEuKlxcXFxieDExXFxcXGIpLip4aWFvbWkuKiR8UE9DT1BIT05FIEYxfE1JIDh8UmVkbWkgTm90ZSA5U3xSZWRtaSBOb3RlIDVBIFByaW1lfE4yRzQ3SHxNMjAwMUoyR3xNMjAwMUoySXxNMTgwNUUxMEF8TTIwMDRKMTFHfE0xOTAyRjFHfE0yMDAySjlHfE0yMDA0SjE5R3xNMjAwM0o2QTFHXCIsTm9raWFMdW1pYTpcIkx1bWlhIFswLTldezMsNH1cIixNaWNyb21heDpcIk1pY3JvbWF4LipcXFxcYihBMjEwfEE5MnxBODh8QTcyfEExMTF8QTExMFF8QTExNXxBMTE2fEExMTB8QTkwU3xBMjZ8QTUxfEEzNXxBNTR8QTI1fEEyN3xBODl8QTY4fEE2NXxBNTd8QTkwKVxcXFxiXCIsUGFsbTpcIlBhbG1Tb3VyY2V8UGFsbVwiLFZlcnR1OlwiVmVydHV8VmVydHUuKkx0ZHxWZXJ0dS4qQXNjZW50fFZlcnR1LipBeXh0YXxWZXJ0dS4qQ29uc3RlbGxhdGlvbihGfFF1ZXN0KT98VmVydHUuKk1vbmlrYXxWZXJ0dS4qU2lnbmF0dXJlXCIsUGFudGVjaDpcIlBBTlRFQ0h8SU0tQTg1MFN8SU0tQTg0MFN8SU0tQTgzMEx8SU0tQTgzMEt8SU0tQTgzMFN8SU0tQTgyMEx8SU0tQTgxMEt8SU0tQTgxMFN8SU0tQTgwMFN8SU0tVDEwMEt8SU0tQTcyNUx8SU0tQTc4MEx8SU0tQTc3NUN8SU0tQTc3MEt8SU0tQTc2MFN8SU0tQTc1MEt8SU0tQTc0MFN8SU0tQTczMFN8SU0tQTcyMEx8SU0tQTcxMEt8SU0tQTY5MEx8SU0tQTY5MFN8SU0tQTY1MFN8SU0tQTYzMEt8SU0tQTYwMFN8VkVHQSBQVEwyMXxQVDAwM3xQODAxMHxBRFI5MTBMfFA2MDMwfFA2MDIwfFA5MDcwfFA0MTAwfFA5MDYwfFA1MDAwfENETTg5OTJ8VFhUODA0NXxBRFI4OTk1fElTMTFQVHxQMjAzMHxQNjAxMHxQODAwMHxQVDAwMnxJUzA2fENETTg5OTl8UDkwNTB8UFQwMDF8VFhUODA0MHxQMjAyMHxQOTAyMHxQMjAwMHxQNzA0MHxQNzAwMHxDNzkwXCIsRmx5OlwiSVEyMzB8SVE0NDR8SVE0NTB8SVE0NDB8SVE0NDJ8SVE0NDF8SVEyNDV8SVEyNTZ8SVEyMzZ8SVEyNTV8SVEyMzV8SVEyNDV8SVEyNzV8SVEyNDB8SVEyODV8SVEyODB8SVEyNzB8SVEyNjB8SVEyNTBcIixXaWtvOlwiS0lURSA0R3xISUdIV0FZfEdFVEFXQVl8U1RBSVJXQVl8REFSS1NJREV8REFSS0ZVTEx8REFSS05JR0hUfERBUktNT09OfFNMSURFfFdBWCA0R3xSQUlOQk9XfEJMT09NfFNVTlNFVHxHT0EoPyFubmEpfExFTk5ZfEJBUlJZfElHR1l8T1paWXxDSU5LIEZJVkV8Q0lOSyBQRUFYfENJTksgUEVBWCAyfENJTksgU0xJTXxDSU5LIFNMSU0gMnxDSU5LICt8Q0lOSyBLSU5HfENJTksgUEVBWHxDSU5LIFNMSU18U1VCTElNXCIsaU1vYmlsZTpcImktbW9iaWxlIChJUXxpLVNUWUxFfGlkZWF8WkFBfEhpdHopXCIsU2ltVmFsbGV5OlwiXFxcXGIoU1AtODB8WFQtOTMwfFNYLTM0MHxYVC05MzB8U1gtMzEwfFNQLTM2MHxTUDYwfFNQVC04MDB8U1AtMTIwfFNQVC04MDB8U1AtMTQwfFNQWC01fFNQWC04fFNQLTEwMHxTUFgtOHxTUFgtMTIpXFxcXGJcIixXb2xmZ2FuZzpcIkFULUIyNER8QVQtQVM1MEhEfEFULUFTNDBXfEFULUFTNTVIRHxBVC1BUzQ1cTJ8QVQtQjI2RHxBVC1BUzUwUVwiLEFsY2F0ZWw6XCJBbGNhdGVsXCIsTmludGVuZG86XCJOaW50ZW5kbyAoM0RTfFN3aXRjaClcIixBbW9pOlwiQW1vaVwiLElOUTpcIklOUVwiLE9uZVBsdXM6XCJPTkVQTFVTXCIsR2VuZXJpY1Bob25lOlwiVGFwYXRhbGt8UERBO3xTQUdFTXxcXFxcYm1tcFxcXFxifHBvY2tldHxcXFxcYnBzcFxcXFxifHN5bWJpYW58U21hcnRwaG9uZXxzbWFydGZvbnx0cmVvfHVwLmJyb3dzZXJ8dXAubGlua3x2b2RhZm9uZXxcXFxcYndhcFxcXFxifG5va2lhfFNlcmllczQwfFNlcmllczYwfFM2MHxTb255RXJpY3Nzb258TjkwMHxNQVVJLipXQVAuKkJyb3dzZXJcIn0sdGFibGV0czp7aVBhZDpcImlQYWR8aVBhZC4qTW9iaWxlXCIsTmV4dXNUYWJsZXQ6XCJBbmRyb2lkLipOZXh1c1tcXFxcc10rKDd8OXwxMClcIixHb29nbGVUYWJsZXQ6XCJBbmRyb2lkLipQaXhlbCBDXCIsU2Ftc3VuZ1RhYmxldDpcIlNBTVNVTkcuKlRhYmxldHxHYWxheHkuKlRhYnxTQy0wMUN8R1QtUDEwMDB8R1QtUDEwMDN8R1QtUDEwMTB8R1QtUDMxMDV8R1QtUDYyMTB8R1QtUDY4MDB8R1QtUDY4MTB8R1QtUDcxMDB8R1QtUDczMDB8R1QtUDczMTB8R1QtUDc1MDB8R1QtUDc1MTB8U0NILUk4MDB8U0NILUk4MTV8U0NILUk5MDV8U0dILUk5NTd8U0dILUk5ODd8U0dILVQ4NDl8U0dILVQ4NTl8U0dILVQ4Njl8U1BILVAxMDB8R1QtUDMxMDB8R1QtUDMxMDh8R1QtUDMxMTB8R1QtUDUxMDB8R1QtUDUxMTB8R1QtUDYyMDB8R1QtUDczMjB8R1QtUDc1MTF8R1QtTjgwMDB8R1QtUDg1MTB8U0dILUk0OTd8U1BILVA1MDB8U0dILVQ3Nzl8U0NILUk3MDV8U0NILUk5MTV8R1QtTjgwMTN8R1QtUDMxMTN8R1QtUDUxMTN8R1QtUDgxMTB8R1QtTjgwMTB8R1QtTjgwMDV8R1QtTjgwMjB8R1QtUDEwMTN8R1QtUDYyMDF8R1QtUDc1MDF8R1QtTjUxMDB8R1QtTjUxMDV8R1QtTjUxMTB8U0hWLUUxNDBLfFNIVi1FMTQwTHxTSFYtRTE0MFN8U0hWLUUxNTBTfFNIVi1FMjMwS3xTSFYtRTIzMEx8U0hWLUUyMzBTfFNIVy1NMTgwS3xTSFctTTE4MEx8U0hXLU0xODBTfFNIVy1NMTgwV3xTSFctTTMwMFd8U0hXLU0zMDVXfFNIVy1NMzgwS3xTSFctTTM4MFN8U0hXLU0zODBXfFNIVy1NNDMwV3xTSFctTTQ4MEt8U0hXLU00ODBTfFNIVy1NNDgwV3xTSFctTTQ4NVd8U0hXLU00ODZXfFNIVy1NNTAwV3xHVC1JOTIyOHxTQ0gtUDczOXxTQ0gtSTkyNXxHVC1JOTIwMHxHVC1QNTIwMHxHVC1QNTIxMHxHVC1QNTIxMFh8U00tVDMxMXxTTS1UMzEwfFNNLVQzMTBYfFNNLVQyMTB8U00tVDIxMFJ8U00tVDIxMXxTTS1QNjAwfFNNLVA2MDF8U00tUDYwNXxTTS1QOTAwfFNNLVA5MDF8U00tVDIxN3xTTS1UMjE3QXxTTS1UMjE3U3xTTS1QNjAwMHxTTS1UMzEwMHxTR0gtSTQ2N3xYRTUwMHxTTS1UMTEwfEdULVA1MjIwfEdULUk5MjAwWHxHVC1ONTExMFh8R1QtTjUxMjB8U00tUDkwNXxTTS1UMTExfFNNLVQyMTA1fFNNLVQzMTV8U00tVDMyMHxTTS1UMzIwWHxTTS1UMzIxfFNNLVQ1MjB8U00tVDUyNXxTTS1UNTMwTlV8U00tVDIzME5VfFNNLVQzMzBOVXxTTS1UOTAwfFhFNTAwVDFDfFNNLVA2MDVWfFNNLVA5MDVWfFNNLVQzMzdWfFNNLVQ1MzdWfFNNLVQ3MDdWfFNNLVQ4MDdWfFNNLVA2MDBYfFNNLVA5MDBYfFNNLVQyMTBYfFNNLVQyMzB8U00tVDIzMFh8U00tVDMyNXxHVC1QNzUwM3xTTS1UNTMxfFNNLVQzMzB8U00tVDUzMHxTTS1UNzA1fFNNLVQ3MDVDfFNNLVQ1MzV8U00tVDMzMXxTTS1UODAwfFNNLVQ3MDB8U00tVDUzN3xTTS1UODA3fFNNLVA5MDdBfFNNLVQzMzdBfFNNLVQ1MzdBfFNNLVQ3MDdBfFNNLVQ4MDdBfFNNLVQyMzd8U00tVDgwN1B8U00tUDYwN1R8U00tVDIxN1R8U00tVDMzN1R8U00tVDgwN1R8U00tVDExNk5RfFNNLVQxMTZCVXxTTS1QNTUwfFNNLVQzNTB8U00tVDU1MHxTTS1UOTAwMHxTTS1QOTAwMHxTTS1UNzA1WXxTTS1UODA1fEdULVAzMTEzfFNNLVQ3MTB8U00tVDgxMHxTTS1UODE1fFNNLVQzNjB8U00tVDUzM3xTTS1UMTEzfFNNLVQzMzV8U00tVDcxNXxTTS1UNTYwfFNNLVQ2NzB8U00tVDY3N3xTTS1UMzc3fFNNLVQ1Njd8U00tVDM1N1R8U00tVDU1NXxTTS1UNTYxfFNNLVQ3MTN8U00tVDcxOXxTTS1UODEzfFNNLVQ4MTl8U00tVDU4MHxTTS1UMzU1WT98U00tVDI4MHxTTS1UODE3QXxTTS1UODIwfFNNLVc3MDB8U00tUDU4MHxTTS1UNTg3fFNNLVAzNTB8U00tUDU1NU18U00tUDM1NU18U00tVDExM05VfFNNLVQ4MTVZfFNNLVQ1ODV8U00tVDI4NXxTTS1UODI1fFNNLVc3MDh8U00tVDgzNXxTTS1UODMwfFNNLVQ4MzdWfFNNLVQ3MjB8U00tVDUxMHxTTS1UMzg3VnxTTS1QNjEwfFNNLVQyOTB8U00tVDUxNXxTTS1UNTkwfFNNLVQ1OTV8U00tVDcyNXxTTS1UODE3UHxTTS1QNTg1TjB8U00tVDM5NXxTTS1UMjk1fFNNLVQ4NjV8U00tUDYxME58U00tUDYxNXxTTS1UOTcwfFNNLVQzODB8U00tVDU5NTB8U00tVDkwNXxTTS1UMjMxfFNNLVQ1MDB8U00tVDg2MFwiLEtpbmRsZTpcIktpbmRsZXxTaWxrLipBY2NlbGVyYXRlZHxBbmRyb2lkLipcXFxcYihLRk9UfEtGVFR8S0ZKV0l8S0ZKV0F8S0ZPVEV8S0ZTT1dJfEtGVEhXSXxLRlRIV0F8S0ZBUFdJfEtGQVBXQXxXRkpXQUV8S0ZTQVdBfEtGU0FXSXxLRkFTV0l8S0ZBUldJfEtGRk9XSXxLRkdJV0l8S0ZNRVdJKVxcXFxifEFuZHJvaWQuKlNpbGsvWzAtOS5dKyBsaWtlIENocm9tZS9bMC05Ll0rICg/IU1vYmlsZSlcIixTdXJmYWNlVGFibGV0OlwiV2luZG93cyBOVCBbMC05Ll0rOyBBUk07LiooVGFibGV0fEFSTUJKUylcIixIUFRhYmxldDpcIkhQIFNsYXRlICg3fDh8MTApfEhQIEVsaXRlUGFkIDkwMHxocC10YWJsZXR8RWxpdGVCb29rLipUb3VjaHxIUCA4fFNsYXRlIDIxfEhQIFNsYXRlQm9vayAxMFwiLEFzdXNUYWJsZXQ6XCJeLipQYWRGb25lKCg/IU1vYmlsZSkuKSokfFRyYW5zZm9ybWVyfFRGMTAxfFRGMTAxR3xURjMwMFR8VEYzMDBUR3xURjMwMFRMfFRGNzAwVHxURjcwMEtMfFRGNzAxVHxURjgxMEN8TUUxNzF8TUUzMDFUfE1FMzAyQ3xNRTM3MU1HfE1FMzcwVHxNRTM3Mk1HfE1FMTcyVnxNRTE3M1h8TUU0MDBDfFNsaWRlciBTTDEwMXxcXFxcYkswMEZcXFxcYnxcXFxcYkswMENcXFxcYnxcXFxcYkswMEVcXFxcYnxcXFxcYkswMExcXFxcYnxUWDIwMUxBfE1FMTc2Q3xNRTEwMkF8XFxcXGJNODBUQVxcXFxifE1FMzcyQ0x8TUU1NjBDR3xNRTM3MkNHfE1FMzAyS0x8IEswMTAgfCBLMDExIHwgSzAxNyB8IEswMUUgfE1FNTcyQ3xNRTEwM0t8TUUxNzBDfE1FMTcxQ3xcXFxcYk1FNzBDXFxcXGJ8TUU1ODFDfE1FNTgxQ0x8TUU4NTEwQ3xNRTE4MUN8UDAxWXxQTzFNQXxQMDFafFxcXFxiUDAyN1xcXFxifFxcXFxiUDAyNFxcXFxifFxcXFxiUDAwQ1xcXFxiXCIsQmxhY2tCZXJyeVRhYmxldDpcIlBsYXlCb29rfFJJTSBUYWJsZXRcIixIVEN0YWJsZXQ6XCJIVENfRmx5ZXJfUDUxMnxIVEMgRmx5ZXJ8SFRDIEpldHN0cmVhbXxIVEMtUDcxNWF8SFRDIEVWTyBWaWV3IDRHfFBHNDEyMDB8UEcwOTQxMFwiLE1vdG9yb2xhVGFibGV0OlwieG9vbXxzaG9sZXN0fE1aNjE1fE1aNjA1fE1aNTA1fE1aNjAxfE1aNjAyfE1aNjAzfE1aNjA0fE1aNjA2fE1aNjA3fE1aNjA4fE1aNjA5fE1aNjE1fE1aNjE2fE1aNjE3XCIsTm9va1RhYmxldDpcIkFuZHJvaWQuKk5vb2t8Tm9va0NvbG9yfG5vb2sgYnJvd3NlcnxCTlJWMjAwfEJOUlYyMDBBfEJOVFYyNTB8Qk5UVjI1MEF8Qk5UVjQwMHxCTlRWNjAwfExvZ2ljUEQgWm9vbTJcIixBY2VyVGFibGV0OlwiQW5kcm9pZC4qOyBcXFxcYihBMTAwfEExMDF8QTExMHxBMjAwfEEyMTB8QTIxMXxBNTAwfEE1MDF8QTUxMHxBNTExfEE3MDB8QTcwMXxXNTAwfFc1MDBQfFc1MDF8VzUwMVB8VzUxMHxXNTExfFc3MDB8RzEwMHxHMTAwV3xCMS1BNzF8QjEtNzEwfEIxLTcxMXxBMS04MTB8QTEtODExfEExLTgzMClcXFxcYnxXMy04MTB8XFxcXGJBMy1BMTBcXFxcYnxcXFxcYkEzLUExMVxcXFxifFxcXFxiQTMtQTIwXFxcXGJ8XFxcXGJBMy1BMzB8QTMtQTQwXCIsVG9zaGliYVRhYmxldDpcIkFuZHJvaWQuKihBVDEwMHxBVDEwNXxBVDIwMHxBVDIwNXxBVDI3MHxBVDI3NXxBVDMwMHxBVDMwNXxBVDFTNXxBVDUwMHxBVDU3MHxBVDcwMHxBVDgzMCl8VE9TSElCQS4qRk9MSU9cIixMR1RhYmxldDpcIlxcXFxiTC0wNkN8TEctVjkwOXxMRy1WOTAwfExHLVY3MDB8TEctVjUxMHxMRy1WNTAwfExHLVY0MTB8TEctVjQwMHxMRy1WSzgxMFxcXFxiXCIsRnVqaXRzdVRhYmxldDpcIkFuZHJvaWQuKlxcXFxiKEYtMDFEfEYtMDJGfEYtMDVFfEYtMTBEfE01MzJ8UTU3MilcXFxcYlwiLFByZXN0aWdpb1RhYmxldDpcIlBNUDMxNzBCfFBNUDMyNzBCfFBNUDM0NzBCfFBNUDcxNzBCfFBNUDMzNzBCfFBNUDM1NzBDfFBNUDU4NzBDfFBNUDM2NzBCfFBNUDU1NzBDfFBNUDU3NzBEfFBNUDM5NzBCfFBNUDM4NzBDfFBNUDU1ODBDfFBNUDU4ODBEfFBNUDU3ODBEfFBNUDU1ODhDfFBNUDcyODBDfFBNUDcyODBDM0d8UE1QNzI4MHxQTVA3ODgwRHxQTVA1NTk3RHxQTVA1NTk3fFBNUDcxMDBEfFBFUjM0NjR8UEVSMzI3NHxQRVIzNTc0fFBFUjM4ODR8UEVSNTI3NHxQRVI1NDc0fFBNUDUwOTdDUFJPfFBNUDUwOTd8UE1QNzM4MER8UE1QNTI5N0N8UE1QNTI5N0NfUVVBRHxQTVA4MTJFfFBNUDgxMkUzR3xQTVA4MTJGfFBNUDgxMEV8UE1QODgwVER8UE1UMzAxN3xQTVQzMDM3fFBNVDMwNDd8UE1UMzA1N3xQTVQ3MDA4fFBNVDU4ODd8UE1UNTAwMXxQTVQ1MDAyXCIsTGVub3ZvVGFibGV0OlwiTGVub3ZvIFRBQnxJZGVhKFRhYnxQYWQpKCBBMXxBMTB8IEsxfCl8VGhpbmtQYWQoWyBdKyk/VGFibGV0fFlUMy04NTBNfFlUMy1YOTBMfFlUMy1YOTBGfFlUMy1YOTBYfExlbm92by4qKFMyMTA5fFMyMTEwfFM1MDAwfFM2MDAwfEszMDExfEEzMDAwfEEzNTAwfEExMDAwfEEyMTA3fEEyMTA5fEExMTA3fEE1NTAwfEE3NjAwfEI2MDAwfEI4MDAwfEI4MDgwKSgtfCkoRkx8RnxIVnxIfCl8VEItWDEwM0Z8VEItWDMwNFh8VEItWDMwNEZ8VEItWDMwNEx8VEItWDUwNUZ8VEItWDUwNUx8VEItWDUwNVh8VEItWDYwNUZ8VEItWDYwNUx8VEItODcwM0Z8VEItODcwM1h8VEItODcwM058VEItODcwNE58VEItODcwNEZ8VEItODcwNFh8VEItODcwNFZ8VEItNzMwNEZ8VEItNzMwNEl8VEItNzMwNFh8VGFiMkE3LTEwRnxUYWIyQTctMjBGfFRCMi1YMzBMfFlUMy1YNTBMfFlUMy1YNTBGfFlUMy1YNTBNfFlULVg3MDVGfFlULVg3MDNGfFlULVg3MDNMfFlULVg3MDVMfFlULVg3MDVYfFRCMi1YMzBGfFRCMi1YMzBMfFRCMi1YMzBNfEEyMTA3QS1GfEEyMTA3QS1IfFRCMy03MzBGfFRCMy03MzBNfFRCMy03MzBYfFRCLTc1MDRGfFRCLTc1MDRYfFRCLVg3MDRGfFRCLVgxMDRGfFRCMy1YNzBGfFRCLVg3MDVGfFRCLTg1MDRGfFRCMy1YNzBMfFRCMy03MTBGfFRCLVg3MDRMXCIsRGVsbFRhYmxldDpcIlZlbnVlIDExfFZlbnVlIDh8VmVudWUgN3xEZWxsIFN0cmVhayAxMHxEZWxsIFN0cmVhayA3XCIsWWFydmlrVGFibGV0OlwiQW5kcm9pZC4qXFxcXGIoVEFCMjEwfFRBQjIxMXxUQUIyMjR8VEFCMjUwfFRBQjI2MHxUQUIyNjR8VEFCMzEwfFRBQjM2MHxUQUIzNjR8VEFCNDEwfFRBQjQxMXxUQUI0MjB8VEFCNDI0fFRBQjQ1MHxUQUI0NjB8VEFCNDYxfFRBQjQ2NHxUQUI0NjV8VEFCNDY3fFRBQjQ2OHxUQUIwNy0xMDB8VEFCMDctMTAxfFRBQjA3LTE1MHxUQUIwNy0xNTF8VEFCMDctMTUyfFRBQjA3LTIwMHxUQUIwNy0yMDEtM0d8VEFCMDctMjEwfFRBQjA3LTIxMXxUQUIwNy0yMTJ8VEFCMDctMjE0fFRBQjA3LTIyMHxUQUIwNy00MDB8VEFCMDctNDg1fFRBQjA4LTE1MHxUQUIwOC0yMDB8VEFCMDgtMjAxLTNHfFRBQjA4LTIwMS0zMHxUQUIwOS0xMDB8VEFCMDktMjExfFRBQjA5LTQxMHxUQUIxMC0xNTB8VEFCMTAtMjAxfFRBQjEwLTIxMXxUQUIxMC00MDB8VEFCMTAtNDEwfFRBQjEzLTIwMXxUQUIyNzRFVUt8VEFCMjc1RVVLfFRBQjM3NEVVS3xUQUI0NjJFVUt8VEFCNDc0RVVLfFRBQjktMjAwKVxcXFxiXCIsTWVkaW9uVGFibGV0OlwiQW5kcm9pZC4qXFxcXGJPWU9cXFxcYnxMSUZFLiooUDkyMTJ8UDk1MTR8UDk1MTZ8Uzk1MTIpfExJRkVUQUJcIixBcm5vdmFUYWJsZXQ6XCI5N0c0fEFOMTBHMnxBTjdiRzN8QU43ZkczfEFOOEczfEFOOGNHM3xBTjdHM3xBTjlHM3xBTjdkRzN8QU43ZEczU1R8QU43ZEczQ2hpbGRQYWR8QU4xMGJHM3xBTjEwYkczRFR8QU45RzJcIixJbnRlbnNvVGFibGV0OlwiSU5NODAwMktQfElOTTEwMTBGUHxJTk04MDVORHxJbnRlbnNvIFRhYnxUQUIxMDA0XCIsSVJVVGFibGV0OlwiTTcwMnByb1wiLE1lZ2Fmb25UYWJsZXQ6XCJNZWdhRm9uIFY5fFxcXFxiWlRFIFY5XFxcXGJ8QW5kcm9pZC4qXFxcXGJNVDdBXFxcXGJcIixFYm9kYVRhYmxldDpcIkUtQm9kYSAoU3VwcmVtZXxJbXByZXNzcGVlZHxJenp5Y29tbXxFc3NlbnRpYWwpXCIsQWxsVmlld1RhYmxldDpcIkFsbHZpZXcuKihWaXZhfEFsbGRyb3xDaXR5fFNwZWVkfEFsbCBUVnxGcmVuenl8UXVhc2FyfFNoaW5lfFRYMXxBWDF8QVgyKVwiLEFyY2hvc1RhYmxldDpcIlxcXFxiKDEwMUc5fDgwRzl8QTEwMUlUKVxcXFxifFFpbGl2ZSA5N1J8QXJjaG9zNXxcXFxcYkFSQ0hPUyAoNzB8Nzl8ODB8OTB8OTd8MTAxfEZBTUlMWVBBRHwpKGJ8Y3wpKEcxMHwgQ29iYWx0fCBUSVRBTklVTShIRHwpfCBYZW5vbnwgTmVvbnxYU0t8IDJ8IFhTIDJ8IFBMQVRJTlVNfCBDQVJCT058R0FNRVBBRClcXFxcYlwiLEFpbm9sVGFibGV0OlwiTk9WTzd8Tk9WTzh8Tk9WTzEwfE5vdm83QXVyb3JhfE5vdm83QmFzaWN8Tk9WTzdQQUxBRElOfG5vdm85LVNwYXJrXCIsTm9raWFMdW1pYVRhYmxldDpcIkx1bWlhIDI1MjBcIixTb255VGFibGV0OlwiU29ueS4qVGFibGV0fFhwZXJpYSBUYWJsZXR8U29ueSBUYWJsZXQgU3xTTy0wM0V8U0dQVDEyfFNHUFQxM3xTR1BUMTE0fFNHUFQxMjF8U0dQVDEyMnxTR1BUMTIzfFNHUFQxMTF8U0dQVDExMnxTR1BUMTEzfFNHUFQxMzF8U0dQVDEzMnxTR1BUMTMzfFNHUFQyMTF8U0dQVDIxMnxTR1BUMjEzfFNHUDMxMXxTR1AzMTJ8U0dQMzIxfEVCUkQxMTAxfEVCUkQxMTAyfEVCUkQxMjAxfFNHUDM1MXxTR1AzNDF8U0dQNTExfFNHUDUxMnxTR1A1MjF8U0dQNTQxfFNHUDU1MXxTR1A2MjF8U0dQNjQxfFNHUDYxMnxTT1QzMXxTR1A3NzF8U0dQNjExfFNHUDYxMnxTR1A3MTJcIixQaGlsaXBzVGFibGV0OlwiXFxcXGIoUEkyMDEwfFBJMzAwMHxQSTMxMDB8UEkzMTA1fFBJMzExMHxQSTMyMDV8UEkzMjEwfFBJMzkwMHxQSTQwMTB8UEk3MDAwfFBJNzEwMClcXFxcYlwiLEN1YmVUYWJsZXQ6XCJBbmRyb2lkLiooSzhHVHxVOUdUfFUxMEdUfFUxNkdUfFUxN0dUfFUxOEdUfFUxOUdUfFUyMEdUfFUyM0dUfFUzMEdUKXxDVUJFIFU4R1RcIixDb2J5VGFibGV0OlwiTUlEMTA0MnxNSUQxMDQ1fE1JRDExMjV8TUlEMTEyNnxNSUQ3MDEyfE1JRDcwMTR8TUlENzAxNXxNSUQ3MDM0fE1JRDcwMzV8TUlENzAzNnxNSUQ3MDQyfE1JRDcwNDh8TUlENzEyN3xNSUQ4MDQyfE1JRDgwNDh8TUlEODEyN3xNSUQ5MDQyfE1JRDk3NDB8TUlEOTc0MnxNSUQ3MDIyfE1JRDcwMTBcIixNSURUYWJsZXQ6XCJNOTcwMXxNOTAwMHxNOTEwMHxNODA2fE0xMDUyfE04MDZ8VDcwM3xNSUQ3MDF8TUlENzEzfE1JRDcxMHxNSUQ3Mjd8TUlENzYwfE1JRDgzMHxNSUQ3Mjh8TUlEOTMzfE1JRDEyNXxNSUQ4MTB8TUlENzMyfE1JRDEyMHxNSUQ5MzB8TUlEODAwfE1JRDczMXxNSUQ5MDB8TUlEMTAwfE1JRDgyMHxNSUQ3MzV8TUlEOTgwfE1JRDEzMHxNSUQ4MzN8TUlENzM3fE1JRDk2MHxNSUQxMzV8TUlEODYwfE1JRDczNnxNSUQxNDB8TUlEOTMwfE1JRDgzNXxNSUQ3MzN8TUlENFgxMFwiLE1TSVRhYmxldDpcIk1TSSBcXFxcYihQcmltbyA3M0t8UHJpbW8gNzNMfFByaW1vIDgxTHxQcmltbyA3N3xQcmltbyA5M3xQcmltbyA3NXxQcmltbyA3NnxQcmltbyA3M3xQcmltbyA4MXxQcmltbyA5MXxQcmltbyA5MHxFbmpveSA3MXxFbmpveSA3fEVuam95IDEwKVxcXFxiXCIsU01pVFRhYmxldDpcIkFuZHJvaWQuKihcXFxcYk1JRFxcXFxifE1JRC01NjB8TVRWLVQxMjAwfE1UVi1QTkQ1MzF8TVRWLVAxMTAxfE1UVi1QTkQ1MzApXCIsUm9ja0NoaXBUYWJsZXQ6XCJBbmRyb2lkLiooUksyODE4fFJLMjgwOEF8UksyOTE4fFJLMzA2Nil8UksyNzM4fFJLMjgwOEFcIixGbHlUYWJsZXQ6XCJJUTMxMHxGbHkgVmlzaW9uXCIsYnFUYWJsZXQ6XCJBbmRyb2lkLiooYnEpPy4qXFxcXGIoRWxjYW5vfEN1cmllfEVkaXNvbnxNYXh3ZWxsfEtlcGxlcnxQYXNjYWx8VGVzbGF8SHlwYXRpYXxQbGF0b258TmV3dG9ufExpdmluZ3N0b25lfENlcnZhbnRlc3xBdmFudHxBcXVhcmlzIChbRXxNXTEwfE04KSlcXFxcYnxNYXh3ZWxsLipMaXRlfE1heHdlbGwuKlBsdXNcIixIdWF3ZWlUYWJsZXQ6XCJNZWRpYVBhZHxNZWRpYVBhZCA3IFlvdXRofElERU9TIFM3fFM3LTIwMWN8UzctMjAydXxTNy0xMDF8UzctMTAzfFM3LTEwNHxTNy0xMDV8UzctMTA2fFM3LTIwMXxTNy1TbGltfE0yLUEwMUx8QkFILUwwOXxCQUgtVzA5fEFHUy1MMDl8Q01SLUFMMTlcIixOZWNUYWJsZXQ6XCJcXFxcYk4tMDZEfFxcXFxiTi0wOERcIixQYW50ZWNoVGFibGV0OlwiUGFudGVjaC4qUDQxMDBcIixCcm9uY2hvVGFibGV0OlwiQnJvbmNoby4qKE43MDF8TjcwOHxOODAyfGE3MTApXCIsVmVyc3VzVGFibGV0OlwiVE9VQ0hQQUQuKls3ODkxMF18XFxcXGJUT1VDSFRBQlxcXFxiXCIsWnluY1RhYmxldDpcInoxMDAwfFo5OSAyR3x6OTMwfHo5OTB8ejkwOXxaOTE5fHo5MDBcIixQb3NpdGl2b1RhYmxldDpcIlRCMDdTVEF8VEIxMFNUQXxUQjA3RlRBfFRCMTBGVEFcIixOYWJpVGFibGV0OlwiQW5kcm9pZC4qXFxcXGJOYWJpXCIsS29ib1RhYmxldDpcIktvYm8gVG91Y2h8XFxcXGJLMDgwXFxcXGJ8XFxcXGJWb3hcXFxcYiBCdWlsZHxcXFxcYkFyY1xcXFxiIEJ1aWxkXCIsRGFuZXdUYWJsZXQ6XCJEU2xpZGUuKlxcXFxiKDcwMHw3MDFSfDcwMnw3MDNSfDcwNHw4MDJ8OTcwfDk3MXw5NzJ8OTczfDk3NHwxMDEwfDEwMTIpXFxcXGJcIixUZXhldFRhYmxldDpcIk5hdmlQYWR8VEItNzcyQXxUTS03MDQ1fFRNLTcwNTV8VE0tOTc1MHxUTS03MDE2fFRNLTcwMjR8VE0tNzAyNnxUTS03MDQxfFRNLTcwNDN8VE0tNzA0N3xUTS04MDQxfFRNLTk3NDF8VE0tOTc0N3xUTS05NzQ4fFRNLTk3NTF8VE0tNzAyMnxUTS03MDIxfFRNLTcwMjB8VE0tNzAxMXxUTS03MDEwfFRNLTcwMjN8VE0tNzAyNXxUTS03MDM3V3xUTS03MDM4V3xUTS03MDI3V3xUTS05NzIwfFRNLTk3MjV8VE0tOTczN1d8VE0tMTAyMHxUTS05NzM4V3xUTS05NzQwfFRNLTk3NDNXfFRCLTgwN0F8VEItNzcxQXxUQi03MjdBfFRCLTcyNUF8VEItNzE5QXxUQi04MjNBfFRCLTgwNUF8VEItNzIzQXxUQi03MTVBfFRCLTcwN0F8VEItNzA1QXxUQi03MDlBfFRCLTcxMUF8VEItODkwSER8VEItODgwSER8VEItNzkwSER8VEItNzgwSER8VEItNzcwSER8VEItNzIxSER8VEItNzEwSER8VEItNDM0SER8VEItODYwSER8VEItODQwSER8VEItNzYwSER8VEItNzUwSER8VEItNzQwSER8VEItNzMwSER8VEItNzIySER8VEItNzIwSER8VEItNzAwSER8VEItNTAwSER8VEItNDcwSER8VEItNDMxSER8VEItNDMwSER8VEItNTA2fFRCLTUwNHxUQi00NDZ8VEItNDM2fFRCLTQxNnxUQi0xNDZTRXxUQi0xMjZTRVwiLFBsYXlzdGF0aW9uVGFibGV0OlwiUGxheXN0YXRpb24uKihQb3J0YWJsZXxWaXRhKVwiLFRyZWtzdG9yVGFibGV0OlwiU1QxMDQxNi0xfFZUMTA0MTYtMXxTVDcwNDA4LTF8U1Q3MDJ4eC0xfFNUNzAyeHgtMnxTVDgwMjA4fFNUOTcyMTZ8U1Q3MDEwNC0yfFZUMTA0MTYtMnxTVDEwMjE2LTJBfFN1cmZUYWJcIixQeWxlQXVkaW9UYWJsZXQ6XCJcXFxcYihQVEJMMTBDRVV8UFRCTDEwQ3xQVEJMNzJCQ3xQVEJMNzJCQ0VVfFBUQkw3Q0VVfFBUQkw3Q3xQVEJMOTJCQ3xQVEJMOTJCQ0VVfFBUQkw5Q0VVfFBUQkw5Q1VLfFBUQkw5QylcXFxcYlwiLEFkdmFuVGFibGV0OlwiQW5kcm9pZC4qIFxcXFxiKEUzQXxUM1h8VDVDfFQ1QnxUM0V8VDNDfFQzQnxUMUp8VDFGfFQyQXxUMUh8VDFpfEUxQ3xUMS1FfFQ1LUF8VDR8RTEtQnxUMkNpfFQxLUJ8VDEtRHxPMS1BfEUxLUF8VDEtQXxUM0F8VDRpKVxcXFxiIFwiLERhbnlUZWNoVGFibGV0OlwiR2VuaXVzIFRhYiBHM3xHZW5pdXMgVGFiIFMyfEdlbml1cyBUYWIgUTN8R2VuaXVzIFRhYiBHNHxHZW5pdXMgVGFiIFE0fEdlbml1cyBUYWIgRy1JSXxHZW5pdXMgVEFCIEdJSXxHZW5pdXMgVEFCIEdJSUl8R2VuaXVzIFRhYiBTMVwiLEdhbGFwYWRUYWJsZXQ6XCJBbmRyb2lkIFswLTkuXSs7IFthLXotXSs7IFxcXFxiRzFcXFxcYlwiLE1pY3JvbWF4VGFibGV0OlwiRnVuYm9va3xNaWNyb21heC4qXFxcXGIoUDI1MHxQNTYwfFAzNjB8UDM2MnxQNjAwfFAzMDB8UDM1MHxQNTAwfFAyNzUpXFxcXGJcIixLYXJib25uVGFibGV0OlwiQW5kcm9pZC4qXFxcXGIoQTM5fEEzN3xBMzR8U1Q4fFNUMTB8U1Q3fFNtYXJ0IFRhYjN8U21hcnQgVGFiMilcXFxcYlwiLEFsbEZpbmVUYWJsZXQ6XCJGaW5lNyBHZW5pdXN8RmluZTcgU2hpbmV8RmluZTcgQWlyfEZpbmU4IFN0eWxlfEZpbmU5IE1vcmV8RmluZTEwIEpveXxGaW5lMTEgV2lkZVwiLFBST1NDQU5UYWJsZXQ6XCJcXFxcYihQRU02M3xQTFQxMDIzR3xQTFQxMDQxfFBMVDEwNDR8UExUMTA0NEd8UExUMTA5MXxQTFQ0MzExfFBMVDQzMTFQTHxQTFQ0MzE1fFBMVDcwMzB8UExUNzAzM3xQTFQ3MDMzRHxQTFQ3MDM1fFBMVDcwMzVEfFBMVDcwNDRLfFBMVDcwNDVLfFBMVDcwNDVLQnxQTFQ3MDcxS0d8UExUNzA3MnxQTFQ3MjIzR3xQTFQ3MjI1R3xQTFQ3Nzc3R3xQTFQ3ODEwS3xQTFQ3ODQ5R3xQTFQ3ODUxR3xQTFQ3ODUyR3xQTFQ4MDE1fFBMVDgwMzF8UExUODAzNHxQTFQ4MDM2fFBMVDgwODBLfFBMVDgwODJ8UExUODA4OHxQTFQ4MjIzR3xQTFQ4MjM0R3xQTFQ4MjM1R3xQTFQ4ODE2S3xQTFQ5MDExfFBMVDkwNDVLfFBMVDkyMzNHfFBMVDk3MzV8UExUOTc2MEd8UExUOTc3MEcpXFxcXGJcIixZT05FU1RhYmxldDpcIkJRMTA3OHxCQzEwMDN8QkMxMDc3fFJLOTcwMnxCQzk3MzB8QkM5MDAxfElUOTAwMXxCQzcwMDh8QkM3MDEwfEJDNzA4fEJDNzI4fEJDNzAxMnxCQzcwMzB8QkM3MDI3fEJDNzAyNlwiLENoYW5nSmlhVGFibGV0OlwiVFBDNzEwMnxUUEM3MTAzfFRQQzcxMDV8VFBDNzEwNnxUUEM3MTA3fFRQQzcyMDF8VFBDNzIwM3xUUEM3MjA1fFRQQzcyMTB8VFBDNzcwOHxUUEM3NzA5fFRQQzc3MTJ8VFBDNzExMHxUUEM4MTAxfFRQQzgxMDN8VFBDODEwNXxUUEM4MTA2fFRQQzgyMDN8VFBDODIwNXxUUEM4NTAzfFRQQzkxMDZ8VFBDOTcwMXxUUEM5NzEwMXxUUEM5NzEwM3xUUEM5NzEwNXxUUEM5NzEwNnxUUEM5NzExMXxUUEM5NzExM3xUUEM5NzIwM3xUUEM5NzYwM3xUUEM5NzgwOXxUUEM5NzIwNXxUUEMxMDEwMXxUUEMxMDEwM3xUUEMxMDEwNnxUUEMxMDExMXxUUEMxMDIwM3xUUEMxMDIwNXxUUEMxMDUwM1wiLEdVVGFibGV0OlwiVFgtQTEzMDF8VFgtTTkwMDJ8UTcwMnxrZjAyNlwiLFBvaW50T2ZWaWV3VGFibGV0OlwiVEFCLVA1MDZ8VEFCLW5hdmktNy0zRy1NfFRBQi1QNTE3fFRBQi1QLTUyN3xUQUItUDcwMXxUQUItUDcwM3xUQUItUDcyMXxUQUItUDczMU58VEFCLVA3NDF8VEFCLVA4MjV8VEFCLVA5MDV8VEFCLVA5MjV8VEFCLVBSOTQ1fFRBQi1QTDEwMTV8VEFCLVAxMDI1fFRBQi1QSTEwNDV8VEFCLVAxMzI1fFRBQi1QUk9UQUJbMC05XSt8VEFCLVBST1RBQjI1fFRBQi1QUk9UQUIyNnxUQUItUFJPVEFCMjd8VEFCLVBST1RBQjI2WEx8VEFCLVBST1RBQjItSVBTOXxUQUItUFJPVEFCMzAtSVBTOXxUQUItUFJPVEFCMjVYWEx8VEFCLVBST1RBQjI2LUlQUzEwfFRBQi1QUk9UQUIzMC1JUFMxMFwiLE92ZXJtYXhUYWJsZXQ6XCJPVi0oU3RlZWxDb3JlfE5ld0Jhc2V8QmFzZWNvcmV8QmFzZW9uZXxFeGVsbGVufFF1YXR0b3J8RWR1VGFifFNvbHV0aW9ufEFDVElPTnxCYXNpY1RhYnxUZWRkeVRhYnxNYWdpY1RhYnxTdHJlYW18VEItMDh8VEItMDkpfFF1YWxjb3JlIDEwMjdcIixIQ0xUYWJsZXQ6XCJIQ0wuKlRhYmxldHxDb25uZWN0LTNHLTIuMHxDb25uZWN0LTJHLTIuMHxNRSBUYWJsZXQgVTF8TUUgVGFibGV0IFUyfE1FIFRhYmxldCBHMXxNRSBUYWJsZXQgWDF8TUUgVGFibGV0IFkyfE1FIFRhYmxldCBTeW5jXCIsRFBTVGFibGV0OlwiRFBTIERyZWFtIDl8RFBTIER1YWwgN1wiLFZpc3R1cmVUYWJsZXQ6XCJWOTcgSER8aTc1IDNHfFZpc3R1cmUgVjQoIEhEKT98VmlzdHVyZSBWNSggSEQpP3xWaXN0dXJlIFYxMFwiLENyZXN0YVRhYmxldDpcIkNUUCgtKT84MTB8Q1RQKC0pPzgxOHxDVFAoLSk/ODI4fENUUCgtKT84Mzh8Q1RQKC0pPzg4OHxDVFAoLSk/OTc4fENUUCgtKT85ODB8Q1RQKC0pPzk4N3xDVFAoLSk/OTg4fENUUCgtKT85ODlcIixNZWRpYXRla1RhYmxldDpcIlxcXFxiTVQ4MTI1fE1UODM4OXxNVDgxMzV8TVQ4Mzc3XFxcXGJcIixDb25jb3JkZVRhYmxldDpcIkNvbmNvcmRlKFsgXSspP1RhYnxDb25Db3JkZSBSZWFkTWFuXCIsR29DbGV2ZXJUYWJsZXQ6XCJHT0NMRVZFUiBUQUJ8QTdHT0NMRVZFUnxNMTA0MnxNNzg0MXxNNzQyfFIxMDQyQkt8UjEwNDF8VEFCIEE5NzV8VEFCIEE3ODQyfFRBQiBBNzQxfFRBQiBBNzQxTHxUQUIgTTcyM0d8VEFCIE03MjF8VEFCIEExMDIxfFRBQiBJOTIxfFRBQiBSNzIxfFRBQiBJNzIwfFRBQiBUNzZ8VEFCIFI3MHxUQUIgUjc2LjJ8VEFCIFIxMDZ8VEFCIFI4My4yfFRBQiBNODEzR3xUQUIgSTcyMXxHQ1RBNzIyfFRBQiBJNzB8VEFCIEk3MXxUQUIgUzczfFRBQiBSNzN8VEFCIFI3NHxUQUIgUjkzfFRBQiBSNzV8VEFCIFI3Ni4xfFRBQiBBNzN8VEFCIEE5M3xUQUIgQTkzLjJ8VEFCIFQ3MnxUQUIgUjgzfFRBQiBSOTc0fFRBQiBSOTczfFRBQiBBMTAxfFRBQiBBMTAzfFRBQiBBMTA0fFRBQiBBMTA0LjJ8UjEwNUJLfE03MTNHfEE5NzJCS3xUQUIgQTk3MXxUQUIgUjk3NC4yfFRBQiBSMTA0fFRBQiBSODMuM3xUQUIgQTEwNDJcIixNb2RlY29tVGFibGV0OlwiRnJlZVRBQiA5MDAwfEZyZWVUQUIgNy40fEZyZWVUQUIgNzAwNHxGcmVlVEFCIDc4MDB8RnJlZVRBQiAyMDk2fEZyZWVUQUIgNy41fEZyZWVUQUIgMTAxNHxGcmVlVEFCIDEwMDEgfEZyZWVUQUIgODAwMXxGcmVlVEFCIDk3MDZ8RnJlZVRBQiA5NzAyfEZyZWVUQUIgNzAwM3xGcmVlVEFCIDcwMDJ8RnJlZVRBQiAxMDAyfEZyZWVUQUIgNzgwMXxGcmVlVEFCIDEzMzF8RnJlZVRBQiAxMDA0fEZyZWVUQUIgODAwMnxGcmVlVEFCIDgwMTR8RnJlZVRBQiA5NzA0fEZyZWVUQUIgMTAwM1wiLFZvbmlub1RhYmxldDpcIlxcXFxiKEFyZ3VzWyBfXT9TfERpYW1vbmRbIF9dPzc5SER8RW1lcmFsZFsgX10/NzhFfEx1bmFbIF9dPzcwQ3xPbnl4WyBfXT9TfE9ueXhbIF9dP1p8T3JpblsgX10/SER8T3JpblsgX10/U3xPdGlzWyBfXT9TfFNwZWVkU3RhclsgX10/U3xNYWduZXRbIF9dP005fFByaW11c1sgX10/OTRbIF9dPzNHfFByaW11c1sgX10/OTRIRHxQcmltdXNbIF9dP1FTfEFuZHJvaWQuKlxcXFxiUThcXFxcYnxTaXJpdXNbIF9dP0VWT1sgX10/UVN8U2lyaXVzWyBfXT9RU3xTcGlyaXRbIF9dP1MpXFxcXGJcIixFQ1NUYWJsZXQ6XCJWMDdPVDJ8VE0xMDVBfFMxME9UMXxUUjEwQ1MxXCIsU3RvcmV4VGFibGV0OlwiZVplZVtfJ10/KFRhYnxHbylbMC05XSt8VGFiTEM3fExvb25leSBUdW5lcyBUYWJcIixWb2RhZm9uZVRhYmxldDpcIlNtYXJ0VGFiKFsgXSspP1swLTldK3xTbWFydFRhYklJMTB8U21hcnRUYWJJSTd8VkYtMTQ5N3xWRkQgMTQwMFwiLEVzc2VudGllbEJUYWJsZXQ6XCJTbWFydFsgJ10/VEFCWyBdKz9bMC05XSt8RmFtaWx5WyAnXT9UQUIyXCIsUm9zc01vb3JUYWJsZXQ6XCJSTS03OTB8Uk0tOTk3fFJNRC04NzhHfFJNRC05NzRSfFJNVC03MDVBfFJNVC03MDF8Uk1FLTYwMXxSTVQtNTAxfFJNVC03MTFcIixpTW9iaWxlVGFibGV0OlwiaS1tb2JpbGUgaS1ub3RlXCIsVG9saW5vVGFibGV0OlwidG9saW5vIHRhYiBbMC05Ll0rfHRvbGlubyBzaGluZVwiLEF1ZGlvU29uaWNUYWJsZXQ6XCJcXFxcYkMtMjJRfFQ3LVFDfFQtMTdCfFQtMTdQXFxcXGJcIixBTVBFVGFibGV0OlwiQW5kcm9pZC4qIEE3OCBcIixTa2tUYWJsZXQ6XCJBbmRyb2lkLiogKFNLWVBBRHxQSE9FTklYfENZQ0xPUFMpXCIsVGVjbm9UYWJsZXQ6XCJURUNOTyBQOXxURUNOTyBEUDhEXCIsSlhEVGFibGV0OlwiQW5kcm9pZC4qIFxcXFxiKEYzMDAwfEEzMzAwfEpYRDUwMDB8SlhEMzAwMHxKWEQyMDAwfEpYRDMwMEJ8SlhEMzAwfFM1ODAwfFM3ODAwfFM2MDJifFM1MTEwYnxTNzMwMHxTNTMwMHxTNjAyfFM2MDN8UzUxMDB8UzUxMTB8UzYwMXxTNzEwMGF8UDMwMDBGfFAzMDAwc3xQMTAxfFAyMDBzfFAxMDAwbXxQMjAwbXxQOTEwMHxQMTAwMHN8UzY2MDBifFM5MDh8UDEwMDB8UDMwMHxTMTh8UzY2MDB8UzkxMDApXFxcXGJcIixpSm95VGFibGV0OlwiVGFibGV0IChTcGlyaXQgN3xFc3NlbnRpYXxHYWxhdGVhfEZ1c2lvbnxPbml4IDd8TGFuZGF8VGl0YW58U2Nvb2J5fERlb3h8U3RlbGxhfFRoZW1pc3xBcmdvbnxVbmlxdWUgN3xTeWdudXN8SGV4ZW58RmluaXR5IDd8Q3JlYW18Q3JlYW0gWDJ8SmFkZXxOZW9uIDd8TmVyb24gN3xLYW5keXxTY2FwZXxTYXBoeXIgN3xSZWJlbHxCaW94fFJlYmVsfFJlYmVsIDhHQnxNeXN0fERyYWNvIDd8TXlzdHxUYWI3LTAwNHxNeXN0fFRhZGVvIEpvbmVzfFRhYmxldCBCb2luZ3xBcnJvd3xEcmFjbyBEdWFsIENhbXxBdXJpeHxNaW50fEFtaXR5fFJldm9sdXRpb258RmluaXR5IDl8TmVvbiA5fFQ5d3xBbWl0eSA0R0IgRHVhbCBDYW18U3RvbmUgNEdCfFN0b25lIDhHQnxBbmRyb21lZGF8U2lsa2VufFgyfEFuZHJvbWVkYSBJSXxIYWxsZXl8RmxhbWV8U2FwaHlyIDksN3xUb3VjaCA4fFBsYW5ldHxUcml0b258VW5pcXVlIDEwfEhleGVuIDEwfE1lbXBoaXMgNEdCfE1lbXBoaXMgOEdCfE9uaXggMTApXCIsRlgyVGFibGV0OlwiRlgyIFBBRDd8RlgyIFBBRDEwXCIsWG9yb1RhYmxldDpcIktpZHNQQUQgNzAxfFBBRFsgXT83MTJ8UEFEWyBdPzcxNHxQQURbIF0/NzE2fFBBRFsgXT83MTd8UEFEWyBdPzcxOHxQQURbIF0/NzIwfFBBRFsgXT83MjF8UEFEWyBdPzcyMnxQQURbIF0/NzkwfFBBRFsgXT83OTJ8UEFEWyBdPzkwMHxQQURbIF0/OTcxNUR8UEFEWyBdPzk3MTZEUnxQQURbIF0/OTcxOERSfFBBRFsgXT85NzE5UVJ8UEFEWyBdPzk3MjBRUnxUZWxlUEFEMTAzMHxUZWxlcGFkMTAzMnxUZWxlUEFENzMwfFRlbGVQQUQ3MzF8VGVsZVBBRDczMnxUZWxlUEFENzM1UXxUZWxlUEFEODMwfFRlbGVQQUQ5NzMwfFRlbGVQQUQ3OTV8TWVnYVBBRCAxMzMxfE1lZ2FQQUQgMTg1MXxNZWdhUEFEIDIxNTFcIixWaWV3c29uaWNUYWJsZXQ6XCJWaWV3UGFkIDEwcGl8Vmlld1BhZCAxMGV8Vmlld1BhZCAxMHN8Vmlld1BhZCBFNzJ8Vmlld1BhZDd8Vmlld1BhZCBFMTAwfFZpZXdQYWQgN2V8Vmlld1NvbmljIFZCNzMzfFZCMTAwYVwiLFZlcml6b25UYWJsZXQ6XCJRVEFRWjN8UVRBSVI3fFFUQVFUWjN8UVRBU1VOMXxRVEFTVU4yfFFUQVhJQTFcIixPZHlzVGFibGV0OlwiTE9PWHxYRU5PMTB8T0RZU1sgLV0oU3BhY2V8RVZPfFhwcmVzc3xOT09OKXxcXFxcYlhFTElPXFxcXGJ8WGVsaW8xMFByb3xYRUxJTzdQSE9ORVRBQnxYRUxJTzEwRVhUUkVNRXxYRUxJT1BUMnxORU9fUVVBRDEwXCIsQ2FwdGl2YVRhYmxldDpcIkNBUFRJVkEgUEFEXCIsSWNvbmJpdFRhYmxldDpcIk5ldFRBQnxOVC0zNzAyfE5ULTM3MDJTfE5ULTM3MDJTfE5ULTM2MDNQfE5ULTM2MDNQfE5ULTA3MDRTfE5ULTA3MDRTfE5ULTM4MDVDfE5ULTM4MDVDfE5ULTA4MDZDfE5ULTA4MDZDfE5ULTA5MDlUfE5ULTA5MDlUfE5ULTA5MDdTfE5ULTA5MDdTfE5ULTA5MDJTfE5ULTA5MDJTXCIsVGVjbGFzdFRhYmxldDpcIlQ5OCA0R3xcXFxcYlA4MFxcXFxifFxcXFxiWDkwSERcXFxcYnxYOTggQWlyfFg5OCBBaXIgM0d8XFxcXGJYODlcXFxcYnxQODAgM0d8XFxcXGJYODBoXFxcXGJ8UDk4IEFpcnxcXFxcYlg4OUhEXFxcXGJ8UDk4IDNHfFxcXFxiUDkwSERcXFxcYnxQODkgM0d8WDk4IDNHfFxcXFxiUDcwaFxcXFxifFA3OUhEIDNHfEcxOGQgM0d8XFxcXGJQNzlIRFxcXFxifFxcXFxiUDg5c1xcXFxifFxcXFxiQTg4XFxcXGJ8XFxcXGJQMTBIRFxcXFxifFxcXFxiUDE5SERcXFxcYnxHMTggM0d8XFxcXGJQNzhIRFxcXFxifFxcXFxiQTc4XFxcXGJ8XFxcXGJQNzVcXFxcYnxHMTdzIDNHfEcxN2ggM0d8XFxcXGJQODV0XFxcXGJ8XFxcXGJQOTBcXFxcYnxcXFxcYlAxMVxcXFxifFxcXFxiUDk4dFxcXFxifFxcXFxiUDk4SERcXFxcYnxcXFxcYkcxOGRcXFxcYnxcXFxcYlA4NXNcXFxcYnxcXFxcYlAxMUhEXFxcXGJ8XFxcXGJQODhzXFxcXGJ8XFxcXGJBODBIRFxcXFxifFxcXFxiQTgwc2VcXFxcYnxcXFxcYkExMGhcXFxcYnxcXFxcYlA4OVxcXFxifFxcXFxiUDc4c1xcXFxifFxcXFxiRzE4XFxcXGJ8XFxcXGJQODVcXFxcYnxcXFxcYkE3MGhcXFxcYnxcXFxcYkE3MFxcXFxifFxcXFxiRzE3XFxcXGJ8XFxcXGJQMThcXFxcYnxcXFxcYkE4MHNcXFxcYnxcXFxcYkExMXNcXFxcYnxcXFxcYlA4OEhEXFxcXGJ8XFxcXGJBODBoXFxcXGJ8XFxcXGJQNzZzXFxcXGJ8XFxcXGJQNzZoXFxcXGJ8XFxcXGJQOThcXFxcYnxcXFxcYkExMEhEXFxcXGJ8XFxcXGJQNzhcXFxcYnxcXFxcYlA4OFxcXFxifFxcXFxiQTExXFxcXGJ8XFxcXGJBMTB0XFxcXGJ8XFxcXGJQNzZhXFxcXGJ8XFxcXGJQNzZ0XFxcXGJ8XFxcXGJQNzZlXFxcXGJ8XFxcXGJQODVIRFxcXFxifFxcXFxiUDg1YVxcXFxifFxcXFxiUDg2XFxcXGJ8XFxcXGJQNzVIRFxcXFxifFxcXFxiUDc2dlxcXFxifFxcXFxiQTEyXFxcXGJ8XFxcXGJQNzVhXFxcXGJ8XFxcXGJBMTVcXFxcYnxcXFxcYlA3NlRpXFxcXGJ8XFxcXGJQODFIRFxcXFxifFxcXFxiQTEwXFxcXGJ8XFxcXGJUNzYwVkVcXFxcYnxcXFxcYlQ3MjBIRFxcXFxifFxcXFxiUDc2XFxcXGJ8XFxcXGJQNzNcXFxcYnxcXFxcYlA3MVxcXFxifFxcXFxiUDcyXFxcXGJ8XFxcXGJUNzIwU0VcXFxcYnxcXFxcYkM1MjBUaVxcXFxifFxcXFxiVDc2MFxcXFxifFxcXFxiVDcyMFZFXFxcXGJ8VDcyMC0zR0V8VDcyMC1XaUZpXCIsT25kYVRhYmxldDpcIlxcXFxiKFY5NzVpfFZpMzB8Vlg1MzB8VjcwMXxWaTYwfFY3MDFzfFZpNTB8VjgwMXN8VjcxOXxWeDYxMHd8Vlg2MTBXfFY4MTlpfFZpMTB8Vlg1ODBXfFZpMTB8VjcxMXN8VjgxM3xWODExfFY4MjB3fFY4MjB8VmkyMHxWNzExfFZJMzBXfFY3MTJ8Vjg5MXd8Vjk3MnxWODE5d3xWODIwd3xWaTYwfFY4MjB3fFY3MTF8VjgxM3N8VjgwMXxWODE5fFY5NzVzfFY4MDF8VjgxOXxWODE5fFY4MTh8VjgxMXxWNzEyfFY5NzVtfFYxMDF3fFY5NjF3fFY4MTJ8VjgxOHxWOTcxfFY5NzFzfFY5MTl8Vjk4OXxWMTE2d3xWMTAyd3xWOTczfFZpNDApXFxcXGJbXFxcXHNdK3xWMTAgXFxcXGI0R1xcXFxiXCIsSmF5dGVjaFRhYmxldDpcIlRQQy1QQTc2MlwiLEJsYXVwdW5rdFRhYmxldDpcIkVuZGVhdm91ciA4MDBOR3xFbmRlYXZvdXIgMTAxMFwiLERpZ21hVGFibGV0OlwiXFxcXGIoaUR4MTB8aUR4OXxpRHg4fGlEeDd8aUR4RDd8aUR4RDh8aURzUTh8aURzUTd8aURzUTh8aURzRDEwfGlEbkQ3fDNUUzgwNEh8aURzUTExfGlEajd8aURzMTApXFxcXGJcIixFdm9saW9UYWJsZXQ6XCJBUklBX01pbmlfd2lmaXxBcmlhWyBfXU1pbml8RXZvbGlvIFgxMHxFdm9saW8gWDd8RXZvbGlvIFg4fFxcXFxiRXZvdGFiXFxcXGJ8XFxcXGJOZXVyYVxcXFxiXCIsTGF2YVRhYmxldDpcIlFQQUQgRTcwNHxcXFxcYkl2b3J5U1xcXFxifEUtVEFCIElWT1JZfFxcXFxiRS1UQUJcXFxcYlwiLEFvY1RhYmxldDpcIk1XMDgxMXxNVzA4MTJ8TVcwOTIyfE1USzgzODJ8TVcxMDMxfE1XMDgzMXxNVzA4MjF8TVcwOTMxfE1XMDcxMlwiLE1wbWFuVGFibGV0OlwiTVAxMSBPQ1RBfE1QMTAgT0NUQXxNUFFDMTExNHxNUFFDMTAwNHxNUFFDOTk0fE1QUUM5NzR8TVBRQzk3M3xNUFFDODA0fE1QUUM3ODR8TVBRQzc4MHxcXFxcYk1QRzdcXFxcYnxNUERDRzc1fE1QRENHNzF8TVBEQzEwMDZ8TVAxMDFEQ3xNUERDOTAwMHxNUERDOTA1fE1QREM3MDZIRHxNUERDNzA2fE1QREM3MDV8TVBEQzExMHxNUERDMTAwfE1QREM5OXxNUERDOTd8TVBEQzg4fE1QREM4fE1QREM3N3xNUDcwOXxNSUQ3MDF8TUlENzExfE1JRDE3MHxNUERDNzAzfE1QUUMxMDEwXCIsQ2Vsa29uVGFibGV0OlwiQ1Q2OTV8Q1Q4ODh8Q1RbXFxcXHNdPzkxMHxDVDcgVGFifENUOSBUYWJ8Q1QzIFRhYnxDVDIgVGFifENUMSBUYWJ8QzgyMHxDNzIwfFxcXFxiQ1QtMVxcXFxiXCIsV29sZGVyVGFibGV0OlwibWlUYWIgXFxcXGIoRElBTU9ORHxTUEFDRXxCUk9PS0xZTnxORU98RkxZfE1BTkhBVFRBTnxGVU5LfEVWT0xVVElPTnxTS1l8R09DQVJ8SVJPTnxHRU5JVVN8UE9QfE1JTlR8RVBTSUxPTnxCUk9BRFdBWXxKVU1QfEhPUHxMRUdFTkR8TkVXIEFHRXxMSU5FfEFEVkFOQ0V8RkVFTHxGT0xMT1d8TElLRXxMSU5LfExJVkV8VEhJTkt8RlJFRURPTXxDSElDQUdPfENMRVZFTEFORHxCQUxUSU1PUkUtR0h8SU9XQXxCT1NUT058U0VBVFRMRXxQSE9FTklYfERBTExBU3xJTiAxMDF8TWFzdGVyQ2hlZilcXFxcYlwiLE1lZGlhY29tVGFibGV0OlwiTS1NUEkxMEMzR3xNLVNQMTBFR3xNLVNQMTBFR1B8TS1TUDEwSFhBSHxNLVNQN0hYQUh8TS1TUDEwSFhCSHxNLVNQOEhYQUh8TS1TUDhNWEFcIixNaVRhYmxldDpcIlxcXFxiTUkgUEFEXFxcXGJ8XFxcXGJITSBOT1RFIDFXXFxcXGJcIixOaWJpcnVUYWJsZXQ6XCJOaWJpcnUgTTF8TmliaXJ1IEp1cGl0ZXIgT25lXCIsTmV4b1RhYmxldDpcIk5FWE8gTk9WQXxORVhPIDEwfE5FWE8gQVZJT3xORVhPIEZSRUV8TkVYTyBHT3xORVhPIEVWT3xORVhPIDNHfE5FWE8gU01BUlR8TkVYTyBLSURET3xORVhPIE1PQklcIixMZWFkZXJUYWJsZXQ6XCJUQkxUMTBRfFRCTFQxMEl8VEJMLTEwV0RLQnxUQkwtMTBXREtCTzIwMTN8VEJMLVcyMzBWMnxUQkwtVzQ1MHxUQkwtVzUwMHxTVjU3MnxUQkxUN0l8VEJBLUFDNy04R3xUQkxUNzl8VEJMLThXMTZ8VEJMLTEwVzMyfFRCTC0xMFdLQnxUQkwtVzEwMFwiLFViaXNsYXRlVGFibGV0OlwiVWJpU2xhdGVbXFxcXHNdPzdDXCIsUG9ja2V0Qm9va1RhYmxldDpcIlBvY2tldGJvb2tcIixLb2Nhc29UYWJsZXQ6XCJcXFxcYihUQi0xMjA3KVxcXFxiXCIsSGlzZW5zZVRhYmxldDpcIlxcXFxiKEY1MjgxfEUyMzcxKVxcXFxiXCIsSHVkbDpcIkh1ZGwgSFQ3UzN8SHVkbCAyXCIsVGVsc3RyYVRhYmxldDpcIlQtSHViMlwiLEdlbmVyaWNUYWJsZXQ6XCJBbmRyb2lkLipcXFxcYjk3RFxcXFxifFRhYmxldCg/IS4qUEMpfEJOVFYyNTBBfE1JRC1XQ0RNQXxMb2dpY1BEIFpvb20yfFxcXFxiQTdFQlxcXFxifENhdE5vdmE4fEExXzA3fENUNzA0fENUMTAwMnxcXFxcYk03MjFcXFxcYnxyazMwc2RrfFxcXFxiRVZPVEFCXFxcXGJ8TTc1OEF8RVQ5MDR8QUxVTUlVTTEwfFNtYXJ0ZnJlbiBUYWJ8RW5kZWF2b3VyIDEwMTB8VGFibGV0LVBDLTR8VGFnaSBUYWJ8XFxcXGJNNnByb1xcXFxifENUMTAyMFd8YXJjIDEwSER8XFxcXGJUUDc1MFxcXFxifFxcXFxiUVRBUVozXFxcXGJ8V1ZUMTAxfFRNMTA4OHxLVDEwN1wifSxvc3M6e0FuZHJvaWRPUzpcIkFuZHJvaWRcIixCbGFja0JlcnJ5T1M6XCJibGFja2JlcnJ5fFxcXFxiQkIxMFxcXFxifHJpbSB0YWJsZXQgb3NcIixQYWxtT1M6XCJQYWxtT1N8YXZhbnRnb3xibGF6ZXJ8ZWxhaW5lfGhpcHRvcHxwYWxtfHBsdWNrZXJ8eGlpbm9cIixTeW1iaWFuT1M6XCJTeW1iaWFufFN5bWJPU3xTZXJpZXM2MHxTZXJpZXM0MHxTWUItWzAtOV0rfFxcXFxiUzYwXFxcXGJcIixXaW5kb3dzTW9iaWxlT1M6XCJXaW5kb3dzIENFLiooUFBDfFNtYXJ0cGhvbmV8TW9iaWxlfFswLTldezN9eFswLTldezN9KXxXaW5kb3dzIE1vYmlsZXxXaW5kb3dzIFBob25lIFswLTkuXSt8V0NFO1wiLFdpbmRvd3NQaG9uZU9TOlwiV2luZG93cyBQaG9uZSAxMC4wfFdpbmRvd3MgUGhvbmUgOC4xfFdpbmRvd3MgUGhvbmUgOC4wfFdpbmRvd3MgUGhvbmUgT1N8WEJMV1A3fFp1bmVXUDd8V2luZG93cyBOVCA2LlsyM107IEFSTTtcIixpT1M6XCJcXFxcYmlQaG9uZS4qTW9iaWxlfFxcXFxiaVBvZHxcXFxcYmlQYWR8QXBwbGVDb3JlTWVkaWFcIixpUGFkT1M6XCJDUFUgT1MgMTNcIixTYWlsZmlzaE9TOlwiU2FpbGZpc2hcIixNZWVHb09TOlwiTWVlR29cIixNYWVtb09TOlwiTWFlbW9cIixKYXZhT1M6XCJKMk1FL3xcXFxcYk1JRFBcXFxcYnxcXFxcYkNMRENcXFxcYlwiLHdlYk9TOlwid2ViT1N8aHB3T1NcIixiYWRhT1M6XCJcXFxcYkJhZGFcXFxcYlwiLEJSRVdPUzpcIkJSRVdcIn0sdWFzOntDaHJvbWU6XCJcXFxcYkNyTW9cXFxcYnxDcmlPU3xBbmRyb2lkLipDaHJvbWUvWy4wLTldKiAoTW9iaWxlKT9cIixEb2xmaW46XCJcXFxcYkRvbGZpblxcXFxiXCIsT3BlcmE6XCJPcGVyYS4qTWluaXxPcGVyYS4qTW9iaXxBbmRyb2lkLipPcGVyYXxNb2JpbGUuKk9QUi9bMC05Ll0rJHxDb2FzdC9bMC05Ll0rXCIsU2t5ZmlyZTpcIlNreWZpcmVcIixFZGdlOlwiXFxcXGJFZGdpT1NcXFxcYnxNb2JpbGUgU2FmYXJpL1suMC05XSogRWRnZVwiLElFOlwiSUVNb2JpbGV8TVNJRU1vYmlsZVwiLEZpcmVmb3g6XCJmZW5uZWN8ZmlyZWZveC4qbWFlbW98KE1vYmlsZXxUYWJsZXQpLipGaXJlZm94fEZpcmVmb3guKk1vYmlsZXxGeGlPU1wiLEJvbHQ6XCJib2x0XCIsVGVhU2hhcms6XCJ0ZWFzaGFya1wiLEJsYXplcjpcIkJsYXplclwiLFNhZmFyaTpcIlZlcnNpb24oKD8hXFxcXGJFZGdpT1NcXFxcYikuKSpNb2JpbGUuKlNhZmFyaXxTYWZhcmkuKk1vYmlsZXxNb2JpbGVTYWZhcmlcIixXZUNoYXQ6XCJcXFxcYk1pY3JvTWVzc2VuZ2VyXFxcXGJcIixVQ0Jyb3dzZXI6XCJVQy4qQnJvd3NlcnxVQ1dFQlwiLGJhaWR1Ym94YXBwOlwiYmFpZHVib3hhcHBcIixiYWlkdWJyb3dzZXI6XCJiYWlkdWJyb3dzZXJcIixEaWlnb0Jyb3dzZXI6XCJEaWlnb0Jyb3dzZXJcIixNZXJjdXJ5OlwiXFxcXGJNZXJjdXJ5XFxcXGJcIixPYmlnb0Jyb3dzZXI6XCJPYmlnb1wiLE5ldEZyb250OlwiTkYtQnJvd3NlclwiLEdlbmVyaWNCcm93c2VyOlwiTm9raWFCcm93c2VyfE92aUJyb3dzZXJ8T25lQnJvd3NlcnxUd29ua3lCZWFtQnJvd3NlcnxTRU1DLipCcm93c2VyfEZseUZsb3d8TWluaW1vfE5ldEZyb250fE5vdmFycmEtVmlzaW9ufE1RUUJyb3dzZXJ8TWljcm9NZXNzZW5nZXJcIixQYWxlTW9vbjpcIkFuZHJvaWQuKlBhbGVNb29ufE1vYmlsZS4qUGFsZU1vb25cIn0scHJvcHM6e01vYmlsZTpcIk1vYmlsZS9bVkVSXVwiLEJ1aWxkOlwiQnVpbGQvW1ZFUl1cIixWZXJzaW9uOlwiVmVyc2lvbi9bVkVSXVwiLFZlbmRvcklEOlwiVmVuZG9ySUQvW1ZFUl1cIixpUGFkOlwiaVBhZC4qQ1BVW2EteiBdK1tWRVJdXCIsaVBob25lOlwiaVBob25lLipDUFVbYS16IF0rW1ZFUl1cIixpUG9kOlwiaVBvZC4qQ1BVW2EteiBdK1tWRVJdXCIsS2luZGxlOlwiS2luZGxlL1tWRVJdXCIsQ2hyb21lOltcIkNocm9tZS9bVkVSXVwiLFwiQ3JpT1MvW1ZFUl1cIixcIkNyTW8vW1ZFUl1cIl0sQ29hc3Q6W1wiQ29hc3QvW1ZFUl1cIl0sRG9sZmluOlwiRG9sZmluL1tWRVJdXCIsRmlyZWZveDpbXCJGaXJlZm94L1tWRVJdXCIsXCJGeGlPUy9bVkVSXVwiXSxGZW5uZWM6XCJGZW5uZWMvW1ZFUl1cIixFZGdlOlwiRWRnZS9bVkVSXVwiLElFOltcIklFTW9iaWxlL1tWRVJdO1wiLFwiSUVNb2JpbGUgW1ZFUl1cIixcIk1TSUUgW1ZFUl07XCIsXCJUcmlkZW50L1swLTkuXSs7LipydjpbVkVSXVwiXSxOZXRGcm9udDpcIk5ldEZyb250L1tWRVJdXCIsTm9raWFCcm93c2VyOlwiTm9raWFCcm93c2VyL1tWRVJdXCIsT3BlcmE6W1wiIE9QUi9bVkVSXVwiLFwiT3BlcmEgTWluaS9bVkVSXVwiLFwiVmVyc2lvbi9bVkVSXVwiXSxcIk9wZXJhIE1pbmlcIjpcIk9wZXJhIE1pbmkvW1ZFUl1cIixcIk9wZXJhIE1vYmlcIjpcIlZlcnNpb24vW1ZFUl1cIixVQ0Jyb3dzZXI6W1wiVUNXRUJbVkVSXVwiLFwiVUMuKkJyb3dzZXIvW1ZFUl1cIl0sTVFRQnJvd3NlcjpcIk1RUUJyb3dzZXIvW1ZFUl1cIixNaWNyb01lc3NlbmdlcjpcIk1pY3JvTWVzc2VuZ2VyL1tWRVJdXCIsYmFpZHVib3hhcHA6XCJiYWlkdWJveGFwcC9bVkVSXVwiLGJhaWR1YnJvd3NlcjpcImJhaWR1YnJvd3Nlci9bVkVSXVwiLFNhbXN1bmdCcm93c2VyOlwiU2Ftc3VuZ0Jyb3dzZXIvW1ZFUl1cIixJcm9uOlwiSXJvbi9bVkVSXVwiLFNhZmFyaTpbXCJWZXJzaW9uL1tWRVJdXCIsXCJTYWZhcmkvW1ZFUl1cIl0sU2t5ZmlyZTpcIlNreWZpcmUvW1ZFUl1cIixUaXplbjpcIlRpemVuL1tWRVJdXCIsV2Via2l0Olwid2Via2l0WyAvXVtWRVJdXCIsUGFsZU1vb246XCJQYWxlTW9vbi9bVkVSXVwiLFNhaWxmaXNoQnJvd3NlcjpcIlNhaWxmaXNoQnJvd3Nlci9bVkVSXVwiLEdlY2tvOlwiR2Vja28vW1ZFUl1cIixUcmlkZW50OlwiVHJpZGVudC9bVkVSXVwiLFByZXN0bzpcIlByZXN0by9bVkVSXVwiLEdvYW5uYTpcIkdvYW5uYS9bVkVSXVwiLGlPUzpcIiBcXFxcYmk/T1NcXFxcYiBbVkVSXVsgO117MX1cIixBbmRyb2lkOlwiQW5kcm9pZCBbVkVSXVwiLFNhaWxmaXNoOlwiU2FpbGZpc2ggW1ZFUl1cIixCbGFja0JlcnJ5OltcIkJsYWNrQmVycnlbXFxcXHddKy9bVkVSXVwiLFwiQmxhY2tCZXJyeS4qVmVyc2lvbi9bVkVSXVwiLFwiVmVyc2lvbi9bVkVSXVwiXSxCUkVXOlwiQlJFVyBbVkVSXVwiLEphdmE6XCJKYXZhL1tWRVJdXCIsXCJXaW5kb3dzIFBob25lIE9TXCI6W1wiV2luZG93cyBQaG9uZSBPUyBbVkVSXVwiLFwiV2luZG93cyBQaG9uZSBbVkVSXVwiXSxcIldpbmRvd3MgUGhvbmVcIjpcIldpbmRvd3MgUGhvbmUgW1ZFUl1cIixcIldpbmRvd3MgQ0VcIjpcIldpbmRvd3MgQ0UvW1ZFUl1cIixcIldpbmRvd3MgTlRcIjpcIldpbmRvd3MgTlQgW1ZFUl1cIixTeW1iaWFuOltcIlN5bWJpYW5PUy9bVkVSXVwiLFwiU3ltYmlhbi9bVkVSXVwiXSx3ZWJPUzpbXCJ3ZWJPUy9bVkVSXVwiLFwiaHB3T1MvW1ZFUl07XCJdfSx1dGlsczp7Qm90OlwiR29vZ2xlYm90fGZhY2Vib29rZXh0ZXJuYWxoaXR8R29vZ2xlLUFNUEhUTUx8c35hbXAtdmFsaWRhdG9yfEFkc0JvdC1Hb29nbGV8R29vZ2xlIEtleXdvcmQgU3VnZ2VzdGlvbnxGYWNlYm90fFlhbmRleEJvdHxZYW5kZXhNb2JpbGVCb3R8YmluZ2JvdHxpYV9hcmNoaXZlcnxBaHJlZnNCb3R8RXpvb21zfEdTTEZib3R8V0JTZWFyY2hCb3R8VHdpdHRlcmJvdHxUd2VldG1lbWVCb3R8VHdpa2xlfFBhcGVyTGlCb3R8V290Ym94fFVud2luZEZldGNob3J8RXhhYm90fE1KMTJib3R8WWFuZGV4SW1hZ2VzfFR1cm5pdGluQm90fFBpbmdkb218Y29udGVudGtpbmdhcHB8QXNwaWVnZWxCb3RcIixNb2JpbGVCb3Q6XCJHb29nbGVib3QtTW9iaWxlfEFkc0JvdC1Hb29nbGUtTW9iaWxlfFlhaG9vU2Vla2VyL00xQTEtUjJEMlwiLERlc2t0b3BNb2RlOlwiV1BEZXNrdG9wXCIsVFY6XCJTb255RFRWfEhiYlRWXCIsV2ViS2l0OlwiKHdlYmtpdClbIC9dKFtcXFxcdy5dKylcIixDb25zb2xlOlwiXFxcXGIoTmludGVuZG98TmludGVuZG8gV2lpVXxOaW50ZW5kbyAzRFN8TmludGVuZG8gU3dpdGNofFBMQVlTVEFUSU9OfFhib3gpXFxcXGJcIixXYXRjaDpcIlNNLVY3MDBcIn19LGcuZGV0ZWN0TW9iaWxlQnJvd3NlcnM9e2Z1bGxQYXR0ZXJuOi8oYW5kcm9pZHxiYlxcZCt8bWVlZ28pLittb2JpbGV8YXZhbnRnb3xiYWRhXFwvfGJsYWNrYmVycnl8YmxhemVyfGNvbXBhbHxlbGFpbmV8ZmVubmVjfGhpcHRvcHxpZW1vYmlsZXxpcChob25lfG9kKXxpcmlzfGtpbmRsZXxsZ2UgfG1hZW1vfG1pZHB8bW1wfG1vYmlsZS4rZmlyZWZveHxuZXRmcm9udHxvcGVyYSBtKG9ifGluKWl8cGFsbSggb3MpP3xwaG9uZXxwKGl4aXxyZSlcXC98cGx1Y2tlcnxwb2NrZXR8cHNwfHNlcmllcyg0fDYpMHxzeW1iaWFufHRyZW98dXBcXC4oYnJvd3NlcnxsaW5rKXx2b2RhZm9uZXx3YXB8d2luZG93cyBjZXx4ZGF8eGlpbm8vaSxcbnNob3J0UGF0dGVybjovMTIwN3w2MzEwfDY1OTB8M2dzb3w0dGhwfDUwWzEtNl1pfDc3MHN8ODAyc3xhIHdhfGFiYWN8YWMoZXJ8b298c1xcLSl8YWkoa298cm4pfGFsKGF2fGNhfGNvKXxhbW9pfGFuKGV4fG55fHl3KXxhcHR1fGFyKGNofGdvKXxhcyh0ZXx1cyl8YXR0d3xhdShkaXxcXC1tfHIgfHMgKXxhdmFufGJlKGNrfGxsfG5xKXxiaShsYnxyZCl8YmwoYWN8YXopfGJyKGV8dil3fGJ1bWJ8YndcXC0obnx1KXxjNTVcXC98Y2FwaXxjY3dhfGNkbVxcLXxjZWxsfGNodG18Y2xkY3xjbWRcXC18Y28obXB8bmQpfGNyYXd8ZGEoaXR8bGx8bmcpfGRidGV8ZGNcXC1zfGRldml8ZGljYXxkbW9ifGRvKGN8cClvfGRzKDEyfFxcLWQpfGVsKDQ5fGFpKXxlbShsMnx1bCl8ZXIoaWN8azApfGVzbDh8ZXooWzQtN10wfG9zfHdhfHplKXxmZXRjfGZseShcXC18Xyl8ZzEgdXxnNTYwfGdlbmV8Z2ZcXC01fGdcXC1tb3xnbyhcXC53fG9kKXxncihhZHx1bil8aGFpZXxoY2l0fGhkXFwtKG18cHx0KXxoZWlcXC18aGkocHR8dGEpfGhwKCBpfGlwKXxoc1xcLWN8aHQoYyhcXC18IHxffGF8Z3xwfHN8dCl8dHApfGh1KGF3fHRjKXxpXFwtKDIwfGdvfG1hKXxpMjMwfGlhYyggfFxcLXxcXC8pfGlicm98aWRlYXxpZzAxfGlrb218aW0xa3xpbm5vfGlwYXF8aXJpc3xqYSh0fHYpYXxqYnJvfGplbXV8amlnc3xrZGRpfGtlaml8a2d0KCB8XFwvKXxrbG9ufGtwdCB8a3djXFwtfGt5byhjfGspfGxlKG5vfHhpKXxsZyggZ3xcXC8oa3xsfHUpfDUwfDU0fFxcLVthLXddKXxsaWJ3fGx5bnh8bTFcXC13fG0zZ2F8bTUwXFwvfG1hKHRlfHVpfHhvKXxtYygwMXwyMXxjYSl8bVxcLWNyfG1lKHJjfHJpKXxtaShvOHxvYXx0cyl8bW1lZnxtbygwMXwwMnxiaXxkZXxkb3x0KFxcLXwgfG98dil8enopfG10KDUwfHAxfHYgKXxtd2JwfG15d2F8bjEwWzAtMl18bjIwWzItM118bjMwKDB8Mil8bjUwKDB8Mnw1KXxuNygwKDB8MSl8MTApfG5lKChjfG0pXFwtfG9ufHRmfHdmfHdnfHd0KXxub2soNnxpKXxuenBofG8yaW18b3AodGl8d3YpfG9yYW58b3dnMXxwODAwfHBhbihhfGR8dCl8cGR4Z3xwZygxM3xcXC0oWzEtOF18YykpfHBoaWx8cGlyZXxwbChheXx1Yyl8cG5cXC0yfHBvKGNrfHJ0fHNlKXxwcm94fHBzaW98cHRcXC1nfHFhXFwtYXxxYygwN3wxMnwyMXwzMnw2MHxcXC1bMi03XXxpXFwtKXxxdGVrfHIzODB8cjYwMHxyYWtzfHJpbTl8cm8odmV8em8pfHM1NVxcL3xzYShnZXxtYXxtbXxtc3xueXx2YSl8c2MoMDF8aFxcLXxvb3xwXFwtKXxzZGtcXC98c2UoYyhcXC18MHwxKXw0N3xtY3xuZHxyaSl8c2doXFwtfHNoYXJ8c2llKFxcLXxtKXxza1xcLTB8c2woNDV8aWQpfHNtKGFsfGFyfGIzfGl0fHQ1KXxzbyhmdHxueSl8c3AoMDF8aFxcLXx2XFwtfHYgKXxzeSgwMXxtYil8dDIoMTh8NTApfHQ2KDAwfDEwfDE4KXx0YShndHxsayl8dGNsXFwtfHRkZ1xcLXx0ZWwoaXxtKXx0aW1cXC18dFxcLW1vfHRvKHBsfHNoKXx0cyg3MHxtXFwtfG0zfG01KXx0eFxcLTl8dXAoXFwuYnxnMXxzaSl8dXRzdHx2NDAwfHY3NTB8dmVyaXx2aShyZ3x0ZSl8dmsoNDB8NVswLTNdfFxcLXYpfHZtNDB8dm9kYXx2dWxjfHZ4KDUyfDUzfDYwfDYxfDcwfDgwfDgxfDgzfDg1fDk4KXx3M2MoXFwtfCApfHdlYmN8d2hpdHx3aShnIHxuY3xudyl8d21sYnx3b251fHg3MDB8eWFzXFwtfHlvdXJ8emV0b3x6dGVcXC0vaSx0YWJsZXRQYXR0ZXJuOi9hbmRyb2lkfGlwYWR8cGxheWJvb2t8c2lsay9pfTt2YXIgaCxpPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7cmV0dXJuIGcuRkFMTEJBQ0tfUEhPTkU9XCJVbmtub3duUGhvbmVcIixnLkZBTExCQUNLX1RBQkxFVD1cIlVua25vd25UYWJsZXRcIixnLkZBTExCQUNLX01PQklMRT1cIlVua25vd25Nb2JpbGVcIixoPVwiaXNBcnJheVwiaW4gQXJyYXk/QXJyYXkuaXNBcnJheTpmdW5jdGlvbihhKXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSl9LGZ1bmN0aW9uKCl7dmFyIGEsYixjLGUsZixqLGs9Zy5tb2JpbGVEZXRlY3RSdWxlcztmb3IoYSBpbiBrLnByb3BzKWlmKGkuY2FsbChrLnByb3BzLGEpKXtmb3IoYj1rLnByb3BzW2FdLGgoYil8fChiPVtiXSksZj1iLmxlbmd0aCxlPTA7ZTxmOysrZSljPWJbZV0saj1jLmluZGV4T2YoXCJbVkVSXVwiKSxqPj0wJiYoYz1jLnN1YnN0cmluZygwLGopK1wiKFtcXFxcdy5fXFxcXCtdKylcIitjLnN1YnN0cmluZyhqKzUpKSxiW2VdPW5ldyBSZWdFeHAoYyxcImlcIik7ay5wcm9wc1thXT1ifWQoay5vc3MpLGQoay5waG9uZXMpLGQoay50YWJsZXRzKSxkKGsudWFzKSxkKGsudXRpbHMpLGsub3NzMD17V2luZG93c1Bob25lT1M6ay5vc3MuV2luZG93c1Bob25lT1MsV2luZG93c01vYmlsZU9TOmsub3NzLldpbmRvd3NNb2JpbGVPU319KCksZy5maW5kTWF0Y2g9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMgaW4gYSlpZihpLmNhbGwoYSxjKSYmYVtjXS50ZXN0KGIpKXJldHVybiBjO3JldHVybiBudWxsfSxnLmZpbmRNYXRjaGVzPWZ1bmN0aW9uKGEsYil7dmFyIGM9W107Zm9yKHZhciBkIGluIGEpaS5jYWxsKGEsZCkmJmFbZF0udGVzdChiKSYmYy5wdXNoKGQpO3JldHVybiBjfSxnLmdldFZlcnNpb25TdHI9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZixoPWcubW9iaWxlRGV0ZWN0UnVsZXMucHJvcHM7aWYoaS5jYWxsKGgsYSkpZm9yKGM9aFthXSxlPWMubGVuZ3RoLGQ9MDtkPGU7KytkKWlmKGY9Y1tkXS5leGVjKGIpLG51bGwhPT1mKXJldHVybiBmWzFdO3JldHVybiBudWxsfSxnLmdldFZlcnNpb249ZnVuY3Rpb24oYSxiKXt2YXIgYz1nLmdldFZlcnNpb25TdHIoYSxiKTtyZXR1cm4gYz9nLnByZXBhcmVWZXJzaW9uTm8oYyk6TmFOfSxnLnByZXBhcmVWZXJzaW9uTm89ZnVuY3Rpb24oYSl7dmFyIGI7cmV0dXJuIGI9YS5zcGxpdCgvW2Etei5fIFxcL1xcLV0vaSksMT09PWIubGVuZ3RoJiYoYT1iWzBdKSxiLmxlbmd0aD4xJiYoYT1iWzBdK1wiLlwiLGIuc2hpZnQoKSxhKz1iLmpvaW4oXCJcIikpLE51bWJlcihhKX0sZy5pc01vYmlsZUZhbGxiYWNrPWZ1bmN0aW9uKGEpe3JldHVybiBnLmRldGVjdE1vYmlsZUJyb3dzZXJzLmZ1bGxQYXR0ZXJuLnRlc3QoYSl8fGcuZGV0ZWN0TW9iaWxlQnJvd3NlcnMuc2hvcnRQYXR0ZXJuLnRlc3QoYS5zdWJzdHIoMCw0KSl9LGcuaXNUYWJsZXRGYWxsYmFjaz1mdW5jdGlvbihhKXtyZXR1cm4gZy5kZXRlY3RNb2JpbGVCcm93c2Vycy50YWJsZXRQYXR0ZXJuLnRlc3QoYSl9LGcucHJlcGFyZURldGVjdGlvbkNhY2hlPWZ1bmN0aW9uKGEsYyxkKXtpZihhLm1vYmlsZT09PWIpe3ZhciBlLGgsaTtyZXR1cm4oaD1nLmZpbmRNYXRjaChnLm1vYmlsZURldGVjdFJ1bGVzLnRhYmxldHMsYykpPyhhLm1vYmlsZT1hLnRhYmxldD1oLHZvaWQoYS5waG9uZT1udWxsKSk6KGU9Zy5maW5kTWF0Y2goZy5tb2JpbGVEZXRlY3RSdWxlcy5waG9uZXMsYykpPyhhLm1vYmlsZT1hLnBob25lPWUsdm9pZChhLnRhYmxldD1udWxsKSk6dm9pZChnLmlzTW9iaWxlRmFsbGJhY2soYyk/KGk9Zi5pc1Bob25lU2l6ZWQoZCksaT09PWI/KGEubW9iaWxlPWcuRkFMTEJBQ0tfTU9CSUxFLGEudGFibGV0PWEucGhvbmU9bnVsbCk6aT8oYS5tb2JpbGU9YS5waG9uZT1nLkZBTExCQUNLX1BIT05FLGEudGFibGV0PW51bGwpOihhLm1vYmlsZT1hLnRhYmxldD1nLkZBTExCQUNLX1RBQkxFVCxhLnBob25lPW51bGwpKTpnLmlzVGFibGV0RmFsbGJhY2soYyk/KGEubW9iaWxlPWEudGFibGV0PWcuRkFMTEJBQ0tfVEFCTEVULGEucGhvbmU9bnVsbCk6YS5tb2JpbGU9YS50YWJsZXQ9YS5waG9uZT1udWxsKX19LGcubW9iaWxlR3JhZGU9ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbCE9PWEubW9iaWxlKCk7cmV0dXJuIGEub3MoXCJpT1NcIikmJmEudmVyc2lvbihcImlQYWRcIik+PTQuM3x8YS5vcyhcImlPU1wiKSYmYS52ZXJzaW9uKFwiaVBob25lXCIpPj0zLjF8fGEub3MoXCJpT1NcIikmJmEudmVyc2lvbihcImlQb2RcIik+PTMuMXx8YS52ZXJzaW9uKFwiQW5kcm9pZFwiKT4yLjEmJmEuaXMoXCJXZWJraXRcIil8fGEudmVyc2lvbihcIldpbmRvd3MgUGhvbmUgT1NcIik+PTd8fGEuaXMoXCJCbGFja0JlcnJ5XCIpJiZhLnZlcnNpb24oXCJCbGFja0JlcnJ5XCIpPj02fHxhLm1hdGNoKFwiUGxheWJvb2suKlRhYmxldFwiKXx8YS52ZXJzaW9uKFwid2ViT1NcIik+PTEuNCYmYS5tYXRjaChcIlBhbG18UHJlfFBpeGlcIil8fGEubWF0Y2goXCJocC4qVG91Y2hQYWRcIil8fGEuaXMoXCJGaXJlZm94XCIpJiZhLnZlcnNpb24oXCJGaXJlZm94XCIpPj0xMnx8YS5pcyhcIkNocm9tZVwiKSYmYS5pcyhcIkFuZHJvaWRPU1wiKSYmYS52ZXJzaW9uKFwiQW5kcm9pZFwiKT49NHx8YS5pcyhcIlNreWZpcmVcIikmJmEudmVyc2lvbihcIlNreWZpcmVcIik+PTQuMSYmYS5pcyhcIkFuZHJvaWRPU1wiKSYmYS52ZXJzaW9uKFwiQW5kcm9pZFwiKT49Mi4zfHxhLmlzKFwiT3BlcmFcIikmJmEudmVyc2lvbihcIk9wZXJhIE1vYmlcIik+MTEmJmEuaXMoXCJBbmRyb2lkT1NcIil8fGEuaXMoXCJNZWVHb09TXCIpfHxhLmlzKFwiVGl6ZW5cIil8fGEuaXMoXCJEb2xmaW5cIikmJmEudmVyc2lvbihcIkJhZGFcIik+PTJ8fChhLmlzKFwiVUMgQnJvd3NlclwiKXx8YS5pcyhcIkRvbGZpblwiKSkmJmEudmVyc2lvbihcIkFuZHJvaWRcIik+PTIuM3x8YS5tYXRjaChcIktpbmRsZSBGaXJlXCIpfHxhLmlzKFwiS2luZGxlXCIpJiZhLnZlcnNpb24oXCJLaW5kbGVcIik+PTN8fGEuaXMoXCJBbmRyb2lkT1NcIikmJmEuaXMoXCJOb29rVGFibGV0XCIpfHxhLnZlcnNpb24oXCJDaHJvbWVcIik+PTExJiYhYnx8YS52ZXJzaW9uKFwiU2FmYXJpXCIpPj01JiYhYnx8YS52ZXJzaW9uKFwiRmlyZWZveFwiKT49NCYmIWJ8fGEudmVyc2lvbihcIk1TSUVcIik+PTcmJiFifHxhLnZlcnNpb24oXCJPcGVyYVwiKT49MTAmJiFiP1wiQVwiOmEub3MoXCJpT1NcIikmJmEudmVyc2lvbihcImlQYWRcIik8NC4zfHxhLm9zKFwiaU9TXCIpJiZhLnZlcnNpb24oXCJpUGhvbmVcIik8My4xfHxhLm9zKFwiaU9TXCIpJiZhLnZlcnNpb24oXCJpUG9kXCIpPDMuMXx8YS5pcyhcIkJsYWNrYmVycnlcIikmJmEudmVyc2lvbihcIkJsYWNrQmVycnlcIik+PTUmJmEudmVyc2lvbihcIkJsYWNrQmVycnlcIik8Nnx8YS52ZXJzaW9uKFwiT3BlcmEgTWluaVwiKT49NSYmYS52ZXJzaW9uKFwiT3BlcmEgTWluaVwiKTw9Ni41JiYoYS52ZXJzaW9uKFwiQW5kcm9pZFwiKT49Mi4zfHxhLmlzKFwiaU9TXCIpKXx8YS5tYXRjaChcIk5va2lhTjh8Tm9raWFDN3xOOTcuKlNlcmllczYwfFN5bWJpYW4vM1wiKXx8YS52ZXJzaW9uKFwiT3BlcmEgTW9iaVwiKT49MTEmJmEuaXMoXCJTeW1iaWFuT1NcIik/XCJCXCI6KGEudmVyc2lvbihcIkJsYWNrQmVycnlcIik8NXx8YS5tYXRjaChcIk1TSUVNb2JpbGV8V2luZG93cyBDRS4qTW9iaWxlXCIpfHxhLnZlcnNpb24oXCJXaW5kb3dzIE1vYmlsZVwiKTw9NS4yLFwiQ1wiKX0sZy5kZXRlY3RPUz1mdW5jdGlvbihhKXtyZXR1cm4gZy5maW5kTWF0Y2goZy5tb2JpbGVEZXRlY3RSdWxlcy5vc3MwLGEpfHxnLmZpbmRNYXRjaChnLm1vYmlsZURldGVjdFJ1bGVzLm9zcyxhKX0sZy5nZXREZXZpY2VTbWFsbGVyU2lkZT1mdW5jdGlvbigpe3JldHVybiB3aW5kb3cuc2NyZWVuLndpZHRoPHdpbmRvdy5zY3JlZW4uaGVpZ2h0P3dpbmRvdy5zY3JlZW4ud2lkdGg6d2luZG93LnNjcmVlbi5oZWlnaHR9LGYucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpmLG1vYmlsZTpmdW5jdGlvbigpe3JldHVybiBnLnByZXBhcmVEZXRlY3Rpb25DYWNoZSh0aGlzLl9jYWNoZSx0aGlzLnVhLHRoaXMubWF4UGhvbmVXaWR0aCksdGhpcy5fY2FjaGUubW9iaWxlfSxwaG9uZTpmdW5jdGlvbigpe3JldHVybiBnLnByZXBhcmVEZXRlY3Rpb25DYWNoZSh0aGlzLl9jYWNoZSx0aGlzLnVhLHRoaXMubWF4UGhvbmVXaWR0aCksdGhpcy5fY2FjaGUucGhvbmV9LHRhYmxldDpmdW5jdGlvbigpe3JldHVybiBnLnByZXBhcmVEZXRlY3Rpb25DYWNoZSh0aGlzLl9jYWNoZSx0aGlzLnVhLHRoaXMubWF4UGhvbmVXaWR0aCksdGhpcy5fY2FjaGUudGFibGV0fSx1c2VyQWdlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2FjaGUudXNlckFnZW50PT09YiYmKHRoaXMuX2NhY2hlLnVzZXJBZ2VudD1nLmZpbmRNYXRjaChnLm1vYmlsZURldGVjdFJ1bGVzLnVhcyx0aGlzLnVhKSksdGhpcy5fY2FjaGUudXNlckFnZW50fSx1c2VyQWdlbnRzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NhY2hlLnVzZXJBZ2VudHM9PT1iJiYodGhpcy5fY2FjaGUudXNlckFnZW50cz1nLmZpbmRNYXRjaGVzKGcubW9iaWxlRGV0ZWN0UnVsZXMudWFzLHRoaXMudWEpKSx0aGlzLl9jYWNoZS51c2VyQWdlbnRzfSxvczpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jYWNoZS5vcz09PWImJih0aGlzLl9jYWNoZS5vcz1nLmRldGVjdE9TKHRoaXMudWEpKSx0aGlzLl9jYWNoZS5vc30sdmVyc2lvbjpmdW5jdGlvbihhKXtyZXR1cm4gZy5nZXRWZXJzaW9uKGEsdGhpcy51YSl9LHZlcnNpb25TdHI6ZnVuY3Rpb24oYSl7cmV0dXJuIGcuZ2V0VmVyc2lvblN0cihhLHRoaXMudWEpfSxpczpmdW5jdGlvbihiKXtyZXR1cm4gYyh0aGlzLnVzZXJBZ2VudHMoKSxiKXx8YShiLHRoaXMub3MoKSl8fGEoYix0aGlzLnBob25lKCkpfHxhKGIsdGhpcy50YWJsZXQoKSl8fGMoZy5maW5kTWF0Y2hlcyhnLm1vYmlsZURldGVjdFJ1bGVzLnV0aWxzLHRoaXMudWEpLGIpfSxtYXRjaDpmdW5jdGlvbihhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIFJlZ0V4cHx8KGE9bmV3IFJlZ0V4cChhLFwiaVwiKSksYS50ZXN0KHRoaXMudWEpfSxpc1Bob25lU2l6ZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGYuaXNQaG9uZVNpemVkKGF8fHRoaXMubWF4UGhvbmVXaWR0aCl9LG1vYmlsZUdyYWRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NhY2hlLmdyYWRlPT09YiYmKHRoaXMuX2NhY2hlLmdyYWRlPWcubW9iaWxlR3JhZGUodGhpcykpLHRoaXMuX2NhY2hlLmdyYWRlfX0sXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93LnNjcmVlbj9mLmlzUGhvbmVTaXplZD1mdW5jdGlvbihhKXtyZXR1cm4gYTwwP2I6Zy5nZXREZXZpY2VTbWFsbGVyU2lkZSgpPD1hfTpmLmlzUGhvbmVTaXplZD1mdW5jdGlvbigpe30sZi5faW1wbD1nLGYudmVyc2lvbj1cIjEuNC41IDIwMjEtMDMtMTNcIixmfSl9KGZ1bmN0aW9uKGEpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzKXJldHVybiBmdW5jdGlvbihhKXttb2R1bGUuZXhwb3J0cz1hKCl9O2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClyZXR1cm4gZGVmaW5lO2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cpcmV0dXJuIGZ1bmN0aW9uKGEpe3dpbmRvdy5Nb2JpbGVEZXRlY3Q9YSgpfTt0aHJvdyBuZXcgRXJyb3IoXCJ1bmtub3duIGVudmlyb25tZW50XCIpfSgpKTsiLCI7KGZ1bmN0aW9uKCkge1xyXG4gIGNvbnN0IG9wZW5CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGFtYnVyZ2VyJyk7XHJcbiAgY29uc3QgY2xvc2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZnVsbHNjcmVlbi1tZW51X19jbG9zZScpO1xyXG4gIGNvbnN0IGZNZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZ1bGxzY3JlZW4tbWVudScpO1xyXG5cclxuICBvcGVuQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgZk1lbnUuc3R5bGUudG9wID0gMDtcclxuICAgIGZNZW51LnN0eWxlLm9wYWNpdHkgPSAxO1xyXG4gIH0pO1xyXG5cclxuICBjbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgIGZNZW51LnN0eWxlLnRvcCA9IFwiLTEwMCVcIjtcclxuICAgIGZNZW51LnN0eWxlLm9wYWNpdHkgPSAwO1xyXG4gIH0pO1xyXG59KSgpXHJcblxyXG4iLCI7KGZ1bmN0aW9uKCkge1xyXG4gICAgbGV0IG15TWFwO1xyXG5cclxuICAgIGNvbnN0IGluaXQgPSAoKSA9PiB7XHJcbiAgICAgICAgbXlNYXAgPSBuZXcgeW1hcHMuTWFwKFwibWFwXCIsIHtcclxuICAgICAgICBjZW50ZXI6IFs1OS4xMTI1MTgsIDM3LjkzNTEzNV0sXHJcbiAgICAgICAgem9vbTogMTMsXHJcbiAgICAgICAgY29udHJvbHM6IFtdXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGNvb3JkcyA9IFtcclxuICAgICAgICBbNTkuMTMyMjMxICwzNy45MzMzNzNdLFxyXG4gICAgICAgIFs1OS4wOTQxMzgsIDM3LjkyNDU3NF0sXHJcbiAgICAgICAgWzU5LjExOTgwMSwgMzguMDAwMTk1XSxcclxuICAgICAgICBdO1xyXG5cclxuICAgICAgICBjb25zdCBteUNvbGxlY3Rpb24gPSBuZXcgeW1hcHMuR2VvT2JqZWN0Q29sbGVjdGlvbih7fSwge1xyXG4gICAgICAgIGRyYWdnYWJsZTogZmFsc2UsXHJcbiAgICAgICAgaWNvbkxheW91dDogJ2RlZmF1bHQjaW1hZ2UnLFxyXG4gICAgICAgIGljb25JbWFnZUhyZWY6ICcuL2ltZy9pY29ucy9tYXJrZXIuc3ZnJyxcclxuICAgICAgICBpY29uSW1hZ2VTaXplOiBbNDYsIDU3XSxcclxuICAgICAgICBpY29uSW1hZ2VPZmZzZXQ6IFstMzUsIC01Ml1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29vcmRzLmZvckVhY2goY29vcmQgPT4ge1xyXG4gICAgICAgIG15Q29sbGVjdGlvbi5hZGQobmV3IHltYXBzLlBsYWNlbWFyayhjb29yZCkpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBteU1hcC5nZW9PYmplY3RzLmFkZChteUNvbGxlY3Rpb24pO1xyXG4gICAgICAgIG15TWFwLmJlaGF2aW9ycy5kaXNhYmxlKCdzY3JvbGxab29tJyk7XHJcbiAgICB9O1xyXG5cclxuICAgIHltYXBzLnJlYWR5KGluaXQpO1xyXG59KSgpIiwiOyhmdW5jdGlvbigpIHtcclxuICBjb25zdCB2YWxpZGF0ZUZpZWxkcyA9IChmb3JtLCBmaWVsZHNBcnJheSkgPT4ge1xyXG4gICAgZmllbGRzQXJyYXkuZm9yRWFjaChmaWVsZCA9PiB7XHJcbiAgICAgIGZpZWxkLnJlbW92ZUNsYXNzKCdmb3JtX19pbnB1dC0tZXJyb3InKTtcclxuICAgICAgaWYgKGZpZWxkLnZhbCgpLnRyaW0oKSA9PSBcIlwiKSB7XHJcbiAgICAgICAgZmllbGQuYWRkQ2xhc3MoJ2Zvcm1fX2lucHV0LS1lcnJvcicpXHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIFxyXG4gICAgY29uc3QgZXJyb3JGaWVsZCA9IGZvcm0uZmluZCgnLmZvcm1fX2lucHV0LS1lcnJvcicpO1xyXG4gIFxyXG4gICAgcmV0dXJuIGVycm9yRmllbGQubGVuZ3RoID09IDA7XHJcbiAgfTtcclxuICBcclxuICAkKCcuZm9ybScpLnN1Ym1pdChlID0+IHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICBcclxuICAgIGNvbnN0IGZvcm0gPSAkKGUuY3VycmVudFRhcmdldCk7XHJcbiAgICBjb25zdCBuYW1lID0gZm9ybS5maW5kKFwiW25hbWU9J25hbWUnXVwiKTtcclxuICAgIGNvbnN0IHBob25lID0gZm9ybS5maW5kKFwiW25hbWU9J3Bob25lJ11cIik7XHJcbiAgICBjb25zdCBjb21tZW50ID0gZm9ybS5maW5kKFwiW25hbWU9J2NvbW1lbnQnXVwiKTtcclxuICAgIGNvbnN0IHRvID0gZm9ybS5maW5kKFwiW25hbWU9J3RvJ11cIik7XHJcbiAgXHJcbiAgICBjb25zdCBtb2RhbCA9ICQoJyNtb2RhbCcpO1xyXG4gICAgY29uc3QgY29udGVudCA9IG1vZGFsLmZpbmQoJy5tb2RhbF9fY29udGVudCcpO1xyXG4gIFxyXG4gICAgbW9kYWwucmVtb3ZlQ2xhc3MoJ2Vycm9yLW1vZGFsJyk7XHJcbiAgXHJcbiAgICBjb25zdCBpc1ZhbGlkID0gdmFsaWRhdGVGaWVsZHMoZm9ybSwgW25hbWUsIHBob25lLCBjb21tZW50LCB0b10pO1xyXG4gIFxyXG4gICAgaWYgKGlzVmFsaWQpIHtcclxuICAgICBjb25zdCByZXF1ZXN0ID0gJC5hamF4KHtcclxuICAgICAgICB1cmw6IFwiaHR0cHM6Ly93ZWJkZXYtYXBpLmxvZnRzY2hvb2wuY29tL3NlbmRtYWlsXCIsXHJcbiAgICAgICAgbWV0aG9kOiBcInBvc3RcIixcclxuICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICBuYW1lOiBuYW1lLnZhbCgpLFxyXG4gICAgICAgICAgcGhvbmU6IHBob25lLnZhbCgpLFxyXG4gICAgICAgICAgY29tbWVudDogY29tbWVudC52YWwoKSxcclxuICAgICAgICAgIHRvOiB0by52YWwoKVxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgXHJcbiAgICAgIHJlcXVlc3QuZG9uZShkYXRhID0+IHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICBjb250ZW50LnRleHQoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgfSk7XHJcbiAgXHJcbiAgICAgIHJlcXVlc3QuZmFpbChkYXRhID0+IHtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgIGNvbnN0IG1lYXNzYWdlID0gZGF0YS5yZXNwb25zZUpTT04ubWVhc3NhZ2U7XHJcbiAgICAgICAgY29udGVudC50ZXh0KG1lYXNzYWdlKTtcclxuICAgICAgICBtb2RhbC5hZGRDbGFzcygnZXJyb3ItbW9kYWwnKTtcclxuICAgICAgfSk7XHJcbiAgXHJcbiAgICAgIHJlcXVlc3QuYWx3YXlzKCgpID0+IHtcclxuICAgICAgICAkLmZhbmN5Ym94Lm9wZW4oe1xyXG4gICAgICAgICAgc3JjOiBcIiNtb2RhbFwiLFxyXG4gICAgICAgICAgdHlwZTogXCJpbmxpbmVcIlxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH07XHJcbiAgfSk7XHJcbiAgXHJcbiAgJCgnLmFwcC1zdWJtaXQtYnRuJykub24oJ2NsaWNrJywgZSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgXHJcbiAgICAkLmZhbmN5Ym94LmNsb3NlKCk7XHJcbiAgfSk7XHJcbn0pKCkiLCI7KGZ1bmN0aW9uICgpIHtcclxuICAgIGNvbnN0IHNlY3Rpb25zID0gJCgnc2VjdGlvbicpO1xyXG4gICAgY29uc3QgZGlzcGxheSA9ICQoJy5tYWluY29udGVudCcpO1xyXG4gICAgY29uc3Qgc2lkZU1lbnUgPSAkKCcuZml4ZWQtbWVudScpO1xyXG4gICAgY29uc3QgbWVudUl0ZW1zID0gJCgnLmZpeGVkLW1lbnVfX2l0ZW0nKTtcclxuXHJcbiAgICBjb25zdCBtb2JpbGVEZXRlY3QgPSBuZXcgTW9iaWxlRGV0ZWN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KTtcclxuICAgIGNvbnN0IGlzTW9iaWxlID0gbW9iaWxlRGV0ZWN0Lm1vYmlsZSgpO1xyXG5cclxuICAgIGxldCBpblNjcm9sbCA9IGZhbHNlO1xyXG5cclxuICAgIGNvbnN0IGNvdW50U2VjdGlvblBvc2l0aW9uID0gc2VjdGlvbkVxID0+IHtcclxuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IHNlY3Rpb25FcSAqIC0xMDA7XHJcblxyXG4gICAgICAgIGlmIChpc05hTihwb3NpdGlvbikpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcign0L/QtdGA0LXQtNCw0L3QviDQvdC10LLQtdGA0L3QvtC1INC30L3QsNGH0LXQvdC40LUgY291bnRTZWN0aW9uUG9zaXRpb24nKTtcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHBvc2l0aW9uO1xyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBjaGFuZ2VNZW51VGhlbWVGb3JTZWN0aW9uID0gc2VjdGlvbkVxID0+IHtcclxuICAgICAgICBjb25zdCBjdXJyZW50U2VjdGlvbiA9IHNlY3Rpb25zLmVxKHNlY3Rpb25FcSk7XHJcbiAgICAgICAgY29uc3QgbWVudVRoZW1lID0gY3VycmVudFNlY3Rpb24uYXR0cignZGF0YS1zaWRlbWVudS10aGVtZScpO1xyXG4gICAgICAgIGNvbnN0IGFjdGl2ZUNsYXNzID0gJ2ZpeGVkLW1lbnUtLXNoYWRvd2VkJztcclxuXHJcbiAgICAgICAgaWYgKG1lbnVUaGVtZSA9PT0gJ2JsYWNrJykge1xyXG4gICAgICAgICAgICBzaWRlTWVudS5hZGRDbGFzcyhhY3RpdmVDbGFzcyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc2lkZU1lbnUucmVtb3ZlQ2xhc3MoYWN0aXZlQ2xhc3MpO1xyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IHJlc2V0QWN0aXZlQ2xhc3NGb3JJdGVtID0gKGl0ZW1zLCBpdGVtRXEsIGFjdGl2ZUNsYXNzKSA9PiB7XHJcbiAgICAgICAgaXRlbXMuZXEoaXRlbUVxKS5hZGRDbGFzcyhhY3RpdmVDbGFzcykuc2libGluZ3MoKS5yZW1vdmVDbGFzcyhhY3RpdmVDbGFzcyk7XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IHBlcmZvcm1UcmFuc2l0aW9uID0gc2VjdGlvbkVxID0+IHtcclxuXHJcbiAgICAgICAgaWYgKGluU2Nyb2xsKSByZXR1cm47XHJcblxyXG4gICAgICAgIGNvbnN0IHRyYW5zaXRpb25PdmVyID0gMTAwMDtcclxuICAgICAgICBjb25zdCBtb3VzSW5lcnRpYU92ZXIgPSAzMDA7IFxyXG5cclxuICAgICAgICBpblNjcm9sbCA9IHRydWU7XHJcblxyXG4gICAgICAgIGNvbnN0IHBvc2l0aW9uID0gY291bnRTZWN0aW9uUG9zaXRpb24oc2VjdGlvbkVxKTtcclxuXHJcbiAgICAgICAgY2hhbmdlTWVudVRoZW1lRm9yU2VjdGlvbihzZWN0aW9uRXEpO1xyXG5cclxuICAgICAgICBkaXNwbGF5LmNzcyh7XHJcbiAgICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZVkoJHtwb3NpdGlvbn0lKWBcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICByZXNldEFjdGl2ZUNsYXNzRm9ySXRlbShzZWN0aW9ucywgc2VjdGlvbkVxLCAnc2VjdGlvbi0tYWN0aXZlJyk7XHJcblxyXG4gICAgICAgIHJlc2V0QWN0aXZlQ2xhc3NGb3JJdGVtKG1lbnVJdGVtcywgc2VjdGlvbkVxLCAnZml4ZWQtbWVudV9faXRlbS0tYWN0aXZlJyk7XHJcblxyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBpblNjcm9sbCA9IGZhbHNlO1xyXG4gICAgICAgIH0sIHRyYW5zaXRpb25PdmVyICsgbW91c0luZXJ0aWFPdmVyKTtcclxuICAgIH07XHJcblxyXG4gICAgc2VjdGlvbnMuZmlyc3QoKS5hZGRDbGFzcygnc2VjdGlvbi0tYWN0aXZlJyk7XHJcblxyXG4gICAgY29uc3Qgdmlld3BvcnRTY3JvbGxlciA9ICgpID0+IHtcclxuICAgICAgICBjb25zdCBhY3RpdmVTZWN0aW9uID0gc2VjdGlvbnMuZmlsdGVyKCcuc2VjdGlvbi0tYWN0aXZlJyk7XHJcbiAgICAgICAgY29uc3QgbmV4dFNlY3Rpb24gPSBhY3RpdmVTZWN0aW9uLm5leHQoKTtcclxuICAgICAgICBjb25zdCBwcmV2U2VjdGlvbiA9IGFjdGl2ZVNlY3Rpb24ucHJldigpO1xyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBuZXh0KCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG5leHRTZWN0aW9uLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBlcmZvcm1UcmFuc2l0aW9uKG5leHRTZWN0aW9uLmluZGV4KCkpXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBwcmV2KCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHByZXZTZWN0aW9uLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBlcmZvcm1UcmFuc2l0aW9uKHByZXZTZWN0aW9uLmluZGV4KCkpXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcblxyXG4gICAgJCh3aW5kb3cpLm9uKCd3aGVlbCcsIGUgPT4ge1xyXG4gICAgICAgIGNvbnN0IGRlbHRhWSA9IGUub3JpZ2luYWxFdmVudC5kZWx0YVk7XHJcbiAgICAgICAgY29uc3Qgc2Nyb2xsZXIgPSB2aWV3cG9ydFNjcm9sbGVyKCk7XHJcblxyXG4gICAgICAgIGlmIChkZWx0YVkgPiAwKSB7XHJcbiAgICAgICAgICAgIHNjcm9sbGVyLm5leHQoKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBpZiAoZGVsdGFZIDwgMCkge1xyXG4gICAgICAgICAgIHNjcm9sbGVyLnByZXYoKTtcclxuICAgICAgICB9OyBcclxuICAgIH0pO1xyXG5cclxuICAgICQod2luZG93KS5vbigna2V5ZG93bicsIGU9PiB7XHJcbiAgICAgICAgY29uc3QgdGFnTmFtZSA9IGUudGFyZ2V0LnRhZ05hbWUudG9Mb3dlckNhc2UoKTsgLy/Rg9Cx0YDQsNGC0Ywg0YHQutGA0L7Qu9C7INC90LAg0L/QvtC70Y/RhSDQstCy0L7QtNCwXHJcbiAgICAgICAgY29uc3QgdXNlclR5cGluZ0luSW5wdXRzID0gdGFnTmFtZSA9PT0gJ2lucHV0JyB8fCB0YWdOYW1lID09PSAndGV4dGFyZWEnO1xyXG4gICAgICAgIGNvbnN0IHNjcm9sbGVyID0gdmlld3BvcnRTY3JvbGxlcigpO1xyXG5cclxuICAgICAgICBpZiAodXNlclR5cGluZ0luSW5wdXRzKSByZXR1cm47IFxyXG5cclxuICAgICAgICBzd2l0Y2ggKGUua2V5Q29kZSkge1xyXG4gICAgICAgICAgICBjYXNlIDM4OiAvL3ByZXZcclxuICAgICAgICAgICAgICAgIHNjcm9sbGVyLnByZXYoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDQwOiAvL25leHRcclxuICAgICAgICAgICAgICAgIHNjcm9sbGVyLm5leHQoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH07ICAgXHJcbiAgICB9KTtcclxuXHJcbiAgICAkKCcud3JhcHBlcicpLm9uKCd0b3VjaG1vdmUnLCBlID0+IHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKCdbZGF0YS1zY3JvbGwtdG9dJykub24oJ2NsaWNrJywgZT0+IHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xyXG4gICAgICAgIGNvbnN0IHRhcmdldCA9ICR0aGlzLmF0dHIoJ2RhdGEtc2Nyb2xsLXRvJyk7XHJcbiAgICAgICAgY29uc3QgcmVxU2VjdGlvbiA9ICQoYFtkYXRhLXNlY3Rpb24taWQ9JHt0YXJnZXR9XWApO1xyXG5cclxuICAgICAgICBjb25zdCBmTWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mdWxsc2NyZWVuLW1lbnUnKTtcclxuICAgICAgICBmTWVudS5zdHlsZS50b3AgPSBcIi0xMDAlXCI7XHJcbiAgICAgICAgZk1lbnUuc3R5bGUub3BhY2l0eSA9IDA7XHJcblxyXG4gICAgICAgIHBlcmZvcm1UcmFuc2l0aW9uKHJlcVNlY3Rpb24uaW5kZXgoKSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoaXNNb2JpbGUpIHtcclxuICAgICAgICAvL2h0dHBzOi8vZ2l0aHViLmNvbS9tYXR0YnJ5c29uL1RvdWNoU3dpcGUtSnF1ZXJ5LVBsdWdpblxyXG4gICAgICAgICQoXCJib2R5XCIpLnN3aXBlKCB7XHJcbiAgICAgICAgICAgIHN3aXBlOiBmdW5jdGlvbiAoXHJcbiAgICAgICAgICAgICAgICBldmVudCwgXHJcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24sIFxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNjcm9sbGVyID0gdmlld3BvcnRTY3JvbGxlcigpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHNjcm9sbERpcmVjdGlvbiA9IFwiXCI7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJ3VwJykgc2Nyb2xsRGlyZWN0aW9uID0gJ25leHQnO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJ2Rvd24nKSBzY3JvbGxEaXJlY3Rpb24gPSAncHJldic7XHJcblxyXG4gICAgICAgICAgICAgICAgc2Nyb2xsZXJbc2Nyb2xsRGlyZWN0aW9uXSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIFxyXG59KSgpXHJcbiIsIjsoZnVuY3Rpb24oKSB7XHJcbiAgY29uc3Qgc2xpZGVyID0gJChcIi5zbGlkZXJfX2xpc3RcIikuYnhTbGlkZXIoe1xyXG4gICAgcGFnZXI6IGZhbHNlLFxyXG4gICAgcmVzcG9uc2l2ZTogdHJ1ZSxcclxuICAgIGNvbnRyb2xzOiBmYWxzZSxcclxuICAgIGluZmluaXRlTG9vcDogZmFsc2UsXHJcbiAgICBoaWRlQ29udHJvbE9uRW5kOiB0cnVlXHJcbiAgfSk7XHJcbiAgXHJcbiAgJCgnLmFycm93X19wcmV3Jykub24oJ2NsaWNrJywgZSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBzbGlkZXIuZ29Ub1ByZXZTbGlkZSgpO1xyXG4gIH0pO1xyXG4gIFxyXG4gICQoJy5hcnJvd19fbmV4dCcpLm9uKCdjbGljaycsIGUgPT4ge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgc2xpZGVyLmdvVG9OZXh0U2xpZGUoKTtcclxuICB9KTtcclxuICBcclxuICAkKCcuY29tcG91bmRfX2xpbmsnKS5vbignY2xpY2snLCBlID0+IHtcclxuICAgIGUucHJldmVudERlZmF1bHQ7XHJcbiAgfSlcclxufSkoKSIsIjsoZnVuY3Rpb24oKSB7XHJcbiAgY29uc3QgZmluZEJsb2NrQnlBbGlhcyA9IChhbGlhcykgPT4ge1xyXG4gICAgcmV0dXJuICQoJy5yZXZpZXdzX19pdGVtJykuZmlsdGVyKChuZHgsIGl0ZW0pID0+IHtcclxuICAgICAgcmV0dXJuICQoaXRlbSkuYXR0cignZGF0YS1saW5rZWQtd2l0aCcpID09IGFsaWFzO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuICBcclxuICBjb25zdCBmaW5kQnlBdXRvciA9IChtZWFuKSA9PiB7XHJcbiAgICByZXR1cm4gJCgnLmF1dG9yLW1vYmlsZScpLmZpbHRlcigobmR4LCBpdGVtKSA9PiB7XHJcbiAgICAgIHJldHVybiAkKGl0ZW0pLmF0dHIoJ2RhdGEtYXV0aG9yJykgPT0gbWVhbjtcclxuICAgIH0pO1xyXG4gIH07XHJcbiAgXHJcbiAgJCgnLnJldmlld3Nfc3dpdGNoZXJfX2xpbmsnKS5vbignY2xpY2snLCBlID0+IHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICBcclxuICAgIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xyXG4gICAgY29uc3QgdGFyZ2V0ID0gJHRoaXMuYXR0cignZGF0YS1vcGVuJyk7XHJcbiAgICBjb25zdCBpdGVtVG9TaG93ID0gZmluZEJsb2NrQnlBbGlhcyh0YXJnZXQpO1xyXG4gICAgY29uc3QgY3VySXRlbSA9ICR0aGlzLmNsb3Nlc3QoJy5yZXZpZXdzX3N3aXRjaGVyX19pdGVtJyk7XHJcbiAgXHJcbiAgICBjb25zdCBtb2JpbGVBdXRvciA9ICR0aGlzLmF0dHIoJ2RhdGEtYXV0aG9yJyk7XHJcbiAgICBjb25zdCBhdXRvclRvU2hvdyA9IGZpbmRCeUF1dG9yKHRhcmdldCk7XHJcbiAgXHJcbiAgICBpdGVtVG9TaG93LmFkZENsYXNzKCdyZXZpZXdzX19pdGVtLS1hY3RpdmUnKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKCdyZXZpZXdzX19pdGVtLS1hY3RpdmUnKTtcclxuICAgIGN1ckl0ZW0uYWRkQ2xhc3MoJ3Jldmlld3Nfc3dpdGNoZXJfX2l0ZW0tLWFjdGl2ZScpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ3Jldmlld3Nfc3dpdGNoZXJfX2l0ZW0tLWFjdGl2ZScpOyAgXHJcbiAgICBhdXRvclRvU2hvdy5hZGRDbGFzcygncmV2aWV3c19fYXV0aG9yLS1hY3RpdmUnKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKCdyZXZpZXdzX19hdXRob3ItLWFjdGl2ZScpO1xyXG4gIH0pO1xyXG59KSgpIiwiOyhmdW5jdGlvbigpIHtcclxuICAkKCcudGVhbV9fdGl0bGUnKS5vbignY2xpY2snLCBlID0+IHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIFxyXG4gICAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XHJcbiAgICBjb25zdCBjb250YWluZXJMaXN0ID0gJHRoaXMuY2xvc2VzdCgnLnRlYW1fX2xpc3QnKTtcclxuICAgIGNvbnN0IGVsZW1Db250YWluZXIgPSAkdGhpcy5jbG9zZXN0KCcudGVhbV9faXRlbScpO1xyXG4gIFxyXG4gICAgaWYgKGVsZW1Db250YWluZXIuaGFzQ2xhc3MoJ3RlYW0tLWFjdGl2ZScpKSB7XHJcbiAgICAgIGNsb3NlRXZlcnlJdGVtKGNvbnRhaW5lckxpc3QpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY2xvc2VFdmVyeUl0ZW0oY29udGFpbmVyTGlzdCk7XHJcbiAgICAgIG9wZW5JdGVtKCR0aGlzKTtcclxuICAgIH07XHJcbiAgfSk7XHJcbiAgXHJcbiAgY29uc3Qgb3Blbkl0ZW0gPSBpdGVtID0+IHtcclxuICAgIGNvbnN0IGNvbnRhaW5lciA9IGl0ZW0uY2xvc2VzdCgnLnRlYW1fX2l0ZW0nKTtcclxuICAgIGNvbnN0IGNvbnRlbnRCbG9jayA9IGNvbnRhaW5lci5maW5kKCcudGVhbV9fY29udGVudCcpO1xyXG4gICAgY29uc3QgdGV4dEJsb2NrID0gY29udGVudEJsb2NrLmZpbmQoJy50ZWFtX19jb250ZW50LWJsb2NrJyk7XHJcbiAgICBjb25zdCByZXFIZWlnaHQgPSB0ZXh0QmxvY2suaGVpZ2h0KCk7XHJcbiAgXHJcbiAgICBjb250YWluZXIuYWRkQ2xhc3MoJ3RlYW0tLWFjdGl2ZScpO1xyXG4gICAgY29udGVudEJsb2NrLmhlaWdodChyZXFIZWlnaHQpO1xyXG4gIH07XHJcbiAgXHJcbiAgY29uc3QgY2xvc2VFdmVyeUl0ZW0gPSBjb250YWluZXIgPT4ge1xyXG4gICAgY29uc3QgaXRlbXMgPSBjb250YWluZXIuZmluZCgnLnRlYW1fX2NvbnRlbnQnKTtcclxuICAgIGNvbnN0IGl0ZW1Db250YWluZXIgPSBjb250YWluZXIuZmluZCgnLnRlYW1fX2l0ZW0nKTtcclxuICBcclxuICAgIGl0ZW1Db250YWluZXIucmVtb3ZlQ2xhc3MoJ3RlYW0tLWFjdGl2ZScpO1xyXG4gICAgaXRlbXMuaGVpZ2h0KDApO1xyXG4gIH1cclxufSkoKSIsIjsoZnVuY3Rpb24oKSB7XHJcbiAgICBjb25zdCBtZXN1cmVXaWR0aCA9IGl0ZW0gPT4ge1xyXG4gICAgICAgIGxldCByZXFJdGVtV2lkdGggPSAwO1xyXG5cclxuICAgICAgICBjb25zdCBzY3JlZW5XaWR0aCA9ICQod2luZG93KS53aWR0aCgpO1xyXG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGl0ZW0uY2xvc2VzdCgnLnByb2R1Y3RzLW1lbnVfX2xpc3QnKTtcclxuICAgICAgICBjb25zdCB0aXRsZXNCbG9ja3MgPSBjb250YWluZXIuZmluZCgnLnByb2R1Y3QtbWVudS1yb3RhdGUnKTtcclxuICAgICAgICBjb25zdCB0aXRsZXNXaWR0aCA9IHRpdGxlc0Jsb2Nrcy53aWR0aCgpICogdGl0bGVzQmxvY2tzLmxlbmd0aDtcclxuXHJcbiAgICAgICAgY29uc3QgdGV4dENvbnRhaW5lciA9IGl0ZW0uZmluZCgnLnByb2R1Y3QtbWVudV9fZGVzYyBwJyk7XHJcbiAgICAgICAgY29uc3QgcGFkZGluZ0xlZnQgPSBwYXJzZUludCh0ZXh0Q29udGFpbmVyLmNzcygncGFkZGluZy1sZWZ0JykpO1xyXG4gICAgICAgIGNvbnN0IHBhZGRpbmdSaWdodCA9IHBhcnNlSW50KHRleHRDb250YWluZXIuY3NzKCdwYWRkaW5nLXJpZ2h0JykpO1xyXG5cclxuICAgICAgICBjb25zdCBpc01vYmlsZSA9IHdpbmRvdy5tYXRjaE1lZGlhKCcobWF4LXdpZHRoOiA3NjhweCknKS5tYXRjaGVzO1xyXG5cclxuICAgICAgICBpZiAoaXNNb2JpbGUpIHtcclxuICAgICAgICAgICAgcmVxSXRlbVdpZHRoID0gc2NyZWVuV2lkdGggLSB0aXRsZXNXaWR0aDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXFJdGVtV2lkdGggPSA1MjA7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgY29udGFpbmVyOiByZXFJdGVtV2lkdGgsXHJcbiAgICAgICAgICAgIHRleHRDb250YWluZXI6IHJlcUl0ZW1XaWR0aCAtIHBhZGRpbmdSaWdodCAtIHBhZGRpbmdMZWZ0XHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcblxyXG4gICAgY29uc3Qgb3Blbkl0ZW0gPSBpdGVtID0+IHtcclxuICAgICAgICBjb25zdCBoaWRkZW5Db250ZW50ID0gaXRlbS5maW5kKCcucHJvZHVjdC1tZW51X19kZXNjJyk7XHJcbiAgICAgICAgY29uc3QgcmVxV2lkdGggPSBtZXN1cmVXaWR0aChpdGVtKTtcclxuICAgICAgICBjb25zdCB0ZXh0QmxvY2sgPSBpdGVtLmZpbmQoJy5wcm9kdWN0LW1lbnVfX2Rlc2MgcCcpO1xyXG5cclxuICAgICAgICBpdGVtLmFkZENsYXNzKCdwcm9kdWN0LW1lbnUtLWFjdGl2ZScpO1xyXG4gICAgICAgIGhpZGRlbkNvbnRlbnQud2lkdGgocmVxV2lkdGguY29udGFpbmVyKTtcclxuICAgICAgICB0ZXh0QmxvY2sud2lkdGgocmVxV2lkdGgudGV4dENvbnRhaW5lcik7XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IGNsb3NlRXZlcnlJdGVtSW5Db250YWluZXIgPSBjb250YWluZXIgPT4ge1xyXG4gICAgICAgIGNvbnN0IGl0ZW1zID0gY29udGFpbmVyLmZpbmQoJy5wcm9kdWN0LW1lbnVfX2l0ZW0nKTtcclxuICAgICAgICBjb25zdCBjb250ZW50ID0gY29udGFpbmVyLmZpbmQoJy5wcm9kdWN0LW1lbnVfX2Rlc2MnKTtcclxuXHJcbiAgICAgICAgaXRlbXMucmVtb3ZlQ2xhc3MoJ3Byb2R1Y3QtbWVudS0tYWN0aXZlJyk7XHJcbiAgICAgICAgY29udGVudC53aWR0aCgwKTtcclxuICAgIH07XHJcblxyXG4gICAgJCgnLnByb2R1Y3QtbWVudS1yb3RhdGUnKS5vbignY2xpY2snLCBlID0+IHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XHJcbiAgICAgICAgY29uc3QgaXRlbSA9ICR0aGlzLmNsb3Nlc3QoJy5wcm9kdWN0LW1lbnVfX2l0ZW0nKTtcclxuICAgICAgICBjb25zdCBpdGVtT3BlbmVkID0gaXRlbS5oYXNDbGFzcygncHJvZHVjdC1tZW51LS1hY3RpdmUnKTtcclxuICAgICAgICBjb25zdCBjb250YWluZXIgPSAkdGhpcy5jbG9zZXN0KCcucHJvZHVjdHMtbWVudV9fbGlzdCcpO1xyXG5cclxuICAgICAgICBpZiAoaXRlbU9wZW5lZCkge1xyXG4gICAgICAgICAgICBjbG9zZUV2ZXJ5SXRlbUluQ29udGFpbmVyKGNvbnRhaW5lcik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY2xvc2VFdmVyeUl0ZW1JbkNvbnRhaW5lcihjb250YWluZXIpO1xyXG4gICAgICAgICAgICBvcGVuSXRlbShpdGVtKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBcclxuICAgIH0pO1xyXG59KSgpIiwiOyhmdW5jdGlvbigpIHtcclxuICAgIFxyXG59KSgpXHJcblxyXG4iXX0=
